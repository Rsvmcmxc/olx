var ede=Object.create;var YL=Object.defineProperty,tde=Object.defineProperties,nde=Object.getOwnPropertyDescriptor,ide=Object.getOwnPropertyDescriptors,rde=Object.getOwnPropertyNames,Gk=Object.getOwnPropertySymbols,ode=Object.getPrototypeOf,JL=Object.prototype.hasOwnProperty,$j=Object.prototype.propertyIsEnumerable;var zL=(t,i)=>(i=Symbol[t])?i:Symbol.for("Symbol."+t),XL=t=>{throw TypeError(t)};var Uj=(t,i,e)=>i in t?YL(t,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[i]=e,at=(t,i)=>{for(var e in i||={})JL.call(i,e)&&Uj(t,e,i[e]);if(Gk)for(var e of Gk(i))$j.call(i,e)&&Uj(t,e,i[e]);return t},Mn=(t,i)=>tde(t,ide(i));var Hj=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(i,e)=>(typeof require<"u"?require:i)[e]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var QL=(t,i)=>{var e={};for(var n in t)JL.call(t,n)&&i.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&Gk)for(var n of Gk(t))i.indexOf(n)<0&&$j.call(t,n)&&(e[n]=t[n]);return e};var Mr=(t,i)=>()=>(i||t((i={exports:{}}).exports,i),i.exports);var ade=(t,i,e,n)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of rde(i))!JL.call(t,r)&&r!==e&&YL(t,r,{get:()=>i[r],enumerable:!(n=nde(i,r))||n.enumerable});return t};var Kk=(t,i,e)=>(e=t!=null?ede(ode(t)):{},ade(i||!t||!t.__esModule?YL(e,"default",{value:t,enumerable:!0}):e,t));var Vj=(t,i,e)=>i.has(t)||XL("Cannot "+e);var en=(t,i,e)=>(Vj(t,i,"read from private field"),e?e.call(t):i.get(t)),Jr=(t,i,e)=>i.has(t)?XL("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(t):i.set(t,e),Xo=(t,i,e,n)=>(Vj(t,i,"write to private field"),n?n.call(t,e):i.set(t,e),e);var Vg=(t,i,e)=>new Promise((n,r)=>{var o=v=>{try{c(e.next(v))}catch(b){r(b)}},s=v=>{try{c(e.throw(v))}catch(b){r(b)}},c=v=>v.done?n(v.value):Promise.resolve(v.value).then(o,s);c((e=e.apply(t,i)).next())}),sde=function(t,i){this[0]=t,this[1]=i};var jj=t=>{var i=t[zL("asyncIterator")],e=!1,n,r={};return i==null?(i=t[zL("iterator")](),n=o=>r[o]=s=>i[o](s)):(i=i.call(t),n=o=>r[o]=s=>{if(e){if(e=!1,o==="throw")throw s;return s}return e=!0,{done:!1,value:new sde(new Promise(c=>{var v=i[o](s);v instanceof Object||XL("Object expected"),c(v)}),1)}}),r[zL("iterator")]=()=>r,n("next"),"throw"in i?n("throw"):r.throw=o=>{throw o},"return"in i&&n("return"),r};var gY=Mr(()=>{});var io=Mr((CO,vY)=>{(function(t,i){typeof CO=="object"?vY.exports=CO=i():typeof define=="function"&&define.amd?define([],i):t.CryptoJS=i()})(CO,function(){var t=t||function(i,e){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&typeof global<"u"&&global.crypto&&(n=global.crypto),!n&&typeof Hj=="function")try{n=gY()}catch{}var r=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function V(){}return function(B){var q;return V.prototype=B,q=new V,V.prototype=null,q}}(),s={},c=s.lib={},v=c.Base=function(){return{extend:function(V){var B=o(this);return V&&B.mixIn(V),(!B.hasOwnProperty("init")||this.init===B.init)&&(B.init=function(){B.$super.init.apply(this,arguments)}),B.init.prototype=B,B.$super=this,B},create:function(){var V=this.extend();return V.init.apply(V,arguments),V},init:function(){},mixIn:function(V){for(var B in V)V.hasOwnProperty(B)&&(this[B]=V[B]);V.hasOwnProperty("toString")&&(this.toString=V.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),b=c.WordArray=v.extend({init:function(V,B){V=this.words=V||[],B!=e?this.sigBytes=B:this.sigBytes=V.length*4},toString:function(V){return(V||k).stringify(this)},concat:function(V){var B=this.words,q=V.words,W=this.sigBytes,ie=V.sigBytes;if(this.clamp(),W%4)for(var se=0;se<ie;se++){var we=q[se>>>2]>>>24-se%4*8&255;B[W+se>>>2]|=we<<24-(W+se)%4*8}else for(var Me=0;Me<ie;Me+=4)B[W+Me>>>2]=q[Me>>>2];return this.sigBytes+=ie,this},clamp:function(){var V=this.words,B=this.sigBytes;V[B>>>2]&=4294967295<<32-B%4*8,V.length=i.ceil(B/4)},clone:function(){var V=v.clone.call(this);return V.words=this.words.slice(0),V},random:function(V){for(var B=[],q=0;q<V;q+=4)B.push(r());return new b.init(B,V)}}),x=s.enc={},k=x.Hex={stringify:function(V){for(var B=V.words,q=V.sigBytes,W=[],ie=0;ie<q;ie++){var se=B[ie>>>2]>>>24-ie%4*8&255;W.push((se>>>4).toString(16)),W.push((se&15).toString(16))}return W.join("")},parse:function(V){for(var B=V.length,q=[],W=0;W<B;W+=2)q[W>>>3]|=parseInt(V.substr(W,2),16)<<24-W%8*4;return new b.init(q,B/2)}},O=x.Latin1={stringify:function(V){for(var B=V.words,q=V.sigBytes,W=[],ie=0;ie<q;ie++){var se=B[ie>>>2]>>>24-ie%4*8&255;W.push(String.fromCharCode(se))}return W.join("")},parse:function(V){for(var B=V.length,q=[],W=0;W<B;W++)q[W>>>2]|=(V.charCodeAt(W)&255)<<24-W%4*8;return new b.init(q,B)}},w=x.Utf8={stringify:function(V){try{return decodeURIComponent(escape(O.stringify(V)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(V){return O.parse(unescape(encodeURIComponent(V)))}},M=c.BufferedBlockAlgorithm=v.extend({reset:function(){this._data=new b.init,this._nDataBytes=0},_append:function(V){typeof V=="string"&&(V=w.parse(V)),this._data.concat(V),this._nDataBytes+=V.sigBytes},_process:function(V){var B,q=this._data,W=q.words,ie=q.sigBytes,se=this.blockSize,we=se*4,Me=ie/we;V?Me=i.ceil(Me):Me=i.max((Me|0)-this._minBufferSize,0);var _e=Me*se,ke=i.min(_e*4,ie);if(_e){for(var be=0;be<_e;be+=se)this._doProcessBlock(W,be);B=W.splice(0,_e),q.sigBytes-=ke}return new b.init(B,ke)},clone:function(){var V=v.clone.call(this);return V._data=this._data.clone(),V},_minBufferSize:0}),F=c.Hasher=M.extend({cfg:v.extend(),init:function(V){this.cfg=this.cfg.extend(V),this.reset()},reset:function(){M.reset.call(this),this._doReset()},update:function(V){return this._append(V),this._process(),this},finalize:function(V){V&&this._append(V);var B=this._doFinalize();return B},blockSize:512/32,_createHelper:function(V){return function(B,q){return new V.init(q).finalize(B)}},_createHmacHelper:function(V){return function(B,q){return new L.HMAC.init(V,q).finalize(B)}}}),L=s.algo={};return s}(Math);return t})});var Qx=Mr((yO,_Y)=>{(function(t,i){typeof yO=="object"?_Y.exports=yO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(yO,function(t){return function(i){var e=t,n=e.lib,r=n.Base,o=n.WordArray,s=e.x64={},c=s.Word=r.extend({init:function(b,x){this.high=b,this.low=x}}),v=s.WordArray=r.extend({init:function(b,x){b=this.words=b||[],x!=i?this.sigBytes=x:this.sigBytes=b.length*8},toX32:function(){for(var b=this.words,x=b.length,k=[],O=0;O<x;O++){var w=b[O];k.push(w.high),k.push(w.low)}return o.create(k,this.sigBytes)},clone:function(){for(var b=r.clone.call(this),x=b.words=this.words.slice(0),k=x.length,O=0;O<k;O++)x[O]=x[O].clone();return b}})}(),t})});var yY=Mr((EO,CY)=>{(function(t,i){typeof EO=="object"?CY.exports=EO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(EO,function(t){return function(){if(typeof ArrayBuffer=="function"){var i=t,e=i.lib,n=e.WordArray,r=n.init,o=n.init=function(s){if(s instanceof ArrayBuffer&&(s=new Uint8Array(s)),(s instanceof Int8Array||typeof Uint8ClampedArray<"u"&&s instanceof Uint8ClampedArray||s instanceof Int16Array||s instanceof Uint16Array||s instanceof Int32Array||s instanceof Uint32Array||s instanceof Float32Array||s instanceof Float64Array)&&(s=new Uint8Array(s.buffer,s.byteOffset,s.byteLength)),s instanceof Uint8Array){for(var c=s.byteLength,v=[],b=0;b<c;b++)v[b>>>2]|=s[b]<<24-b%4*8;r.call(this,v,c)}else r.apply(this,arguments)};o.prototype=n}}(),t.lib.WordArray})});var TY=Mr((TO,EY)=>{(function(t,i){typeof TO=="object"?EY.exports=TO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(TO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=i.enc,o=r.Utf16=r.Utf16BE={stringify:function(c){for(var v=c.words,b=c.sigBytes,x=[],k=0;k<b;k+=2){var O=v[k>>>2]>>>16-k%4*8&65535;x.push(String.fromCharCode(O))}return x.join("")},parse:function(c){for(var v=c.length,b=[],x=0;x<v;x++)b[x>>>1]|=c.charCodeAt(x)<<16-x%2*16;return n.create(b,v*2)}};r.Utf16LE={stringify:function(c){for(var v=c.words,b=c.sigBytes,x=[],k=0;k<b;k+=2){var O=s(v[k>>>2]>>>16-k%4*8&65535);x.push(String.fromCharCode(O))}return x.join("")},parse:function(c){for(var v=c.length,b=[],x=0;x<v;x++)b[x>>>1]|=s(c.charCodeAt(x)<<16-x%2*16);return n.create(b,v*2)}};function s(c){return c<<8&4278255360|c>>>8&16711935}}(),t.enc.Utf16})});var ov=Mr((bO,bY)=>{(function(t,i){typeof bO=="object"?bY.exports=bO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(bO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=i.enc,o=r.Base64={stringify:function(c){var v=c.words,b=c.sigBytes,x=this._map;c.clamp();for(var k=[],O=0;O<b;O+=3)for(var w=v[O>>>2]>>>24-O%4*8&255,M=v[O+1>>>2]>>>24-(O+1)%4*8&255,F=v[O+2>>>2]>>>24-(O+2)%4*8&255,L=w<<16|M<<8|F,V=0;V<4&&O+V*.75<b;V++)k.push(x.charAt(L>>>6*(3-V)&63));var B=x.charAt(64);if(B)for(;k.length%4;)k.push(B);return k.join("")},parse:function(c){var v=c.length,b=this._map,x=this._reverseMap;if(!x){x=this._reverseMap=[];for(var k=0;k<b.length;k++)x[b.charCodeAt(k)]=k}var O=b.charAt(64);if(O){var w=c.indexOf(O);w!==-1&&(v=w)}return s(c,v,x)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function s(c,v,b){for(var x=[],k=0,O=0;O<v;O++)if(O%4){var w=b[c.charCodeAt(O-1)]<<O%4*2,M=b[c.charCodeAt(O)]>>>6-O%4*2,F=w|M;x[k>>>2]|=F<<24-k%4*8,k++}return n.create(x,k)}}(),t.enc.Base64})});var SY=Mr((IO,IY)=>{(function(t,i){typeof IO=="object"?IY.exports=IO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(IO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=i.enc,o=r.Base64url={stringify:function(c,v){v===void 0&&(v=!0);var b=c.words,x=c.sigBytes,k=v?this._safe_map:this._map;c.clamp();for(var O=[],w=0;w<x;w+=3)for(var M=b[w>>>2]>>>24-w%4*8&255,F=b[w+1>>>2]>>>24-(w+1)%4*8&255,L=b[w+2>>>2]>>>24-(w+2)%4*8&255,V=M<<16|F<<8|L,B=0;B<4&&w+B*.75<x;B++)O.push(k.charAt(V>>>6*(3-B)&63));var q=k.charAt(64);if(q)for(;O.length%4;)O.push(q);return O.join("")},parse:function(c,v){v===void 0&&(v=!0);var b=c.length,x=v?this._safe_map:this._map,k=this._reverseMap;if(!k){k=this._reverseMap=[];for(var O=0;O<x.length;O++)k[x.charCodeAt(O)]=O}var w=x.charAt(64);if(w){var M=c.indexOf(w);M!==-1&&(b=M)}return s(c,b,k)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function s(c,v,b){for(var x=[],k=0,O=0;O<v;O++)if(O%4){var w=b[c.charCodeAt(O-1)]<<O%4*2,M=b[c.charCodeAt(O)]>>>6-O%4*2,F=w|M;x[k>>>2]|=F<<24-k%4*8,k++}return n.create(x,k)}}(),t.enc.Base64url})});var av=Mr((SO,xY)=>{(function(t,i){typeof SO=="object"?xY.exports=SO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(SO,function(t){return function(i){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,s=e.algo,c=[];(function(){for(var w=0;w<64;w++)c[w]=i.abs(i.sin(w+1))*4294967296|0})();var v=s.MD5=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,M){for(var F=0;F<16;F++){var L=M+F,V=w[L];w[L]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var B=this._hash.words,q=w[M+0],W=w[M+1],ie=w[M+2],se=w[M+3],we=w[M+4],Me=w[M+5],_e=w[M+6],ke=w[M+7],be=w[M+8],Te=w[M+9],Ye=w[M+10],pt=w[M+11],$t=w[M+12],Ke=w[M+13],rt=w[M+14],Fe=w[M+15],$e=B[0],ot=B[1],it=B[2],mt=B[3];$e=b($e,ot,it,mt,q,7,c[0]),mt=b(mt,$e,ot,it,W,12,c[1]),it=b(it,mt,$e,ot,ie,17,c[2]),ot=b(ot,it,mt,$e,se,22,c[3]),$e=b($e,ot,it,mt,we,7,c[4]),mt=b(mt,$e,ot,it,Me,12,c[5]),it=b(it,mt,$e,ot,_e,17,c[6]),ot=b(ot,it,mt,$e,ke,22,c[7]),$e=b($e,ot,it,mt,be,7,c[8]),mt=b(mt,$e,ot,it,Te,12,c[9]),it=b(it,mt,$e,ot,Ye,17,c[10]),ot=b(ot,it,mt,$e,pt,22,c[11]),$e=b($e,ot,it,mt,$t,7,c[12]),mt=b(mt,$e,ot,it,Ke,12,c[13]),it=b(it,mt,$e,ot,rt,17,c[14]),ot=b(ot,it,mt,$e,Fe,22,c[15]),$e=x($e,ot,it,mt,W,5,c[16]),mt=x(mt,$e,ot,it,_e,9,c[17]),it=x(it,mt,$e,ot,pt,14,c[18]),ot=x(ot,it,mt,$e,q,20,c[19]),$e=x($e,ot,it,mt,Me,5,c[20]),mt=x(mt,$e,ot,it,Ye,9,c[21]),it=x(it,mt,$e,ot,Fe,14,c[22]),ot=x(ot,it,mt,$e,we,20,c[23]),$e=x($e,ot,it,mt,Te,5,c[24]),mt=x(mt,$e,ot,it,rt,9,c[25]),it=x(it,mt,$e,ot,se,14,c[26]),ot=x(ot,it,mt,$e,be,20,c[27]),$e=x($e,ot,it,mt,Ke,5,c[28]),mt=x(mt,$e,ot,it,ie,9,c[29]),it=x(it,mt,$e,ot,ke,14,c[30]),ot=x(ot,it,mt,$e,$t,20,c[31]),$e=k($e,ot,it,mt,Me,4,c[32]),mt=k(mt,$e,ot,it,be,11,c[33]),it=k(it,mt,$e,ot,pt,16,c[34]),ot=k(ot,it,mt,$e,rt,23,c[35]),$e=k($e,ot,it,mt,W,4,c[36]),mt=k(mt,$e,ot,it,we,11,c[37]),it=k(it,mt,$e,ot,ke,16,c[38]),ot=k(ot,it,mt,$e,Ye,23,c[39]),$e=k($e,ot,it,mt,Ke,4,c[40]),mt=k(mt,$e,ot,it,q,11,c[41]),it=k(it,mt,$e,ot,se,16,c[42]),ot=k(ot,it,mt,$e,_e,23,c[43]),$e=k($e,ot,it,mt,Te,4,c[44]),mt=k(mt,$e,ot,it,$t,11,c[45]),it=k(it,mt,$e,ot,Fe,16,c[46]),ot=k(ot,it,mt,$e,ie,23,c[47]),$e=O($e,ot,it,mt,q,6,c[48]),mt=O(mt,$e,ot,it,ke,10,c[49]),it=O(it,mt,$e,ot,rt,15,c[50]),ot=O(ot,it,mt,$e,Me,21,c[51]),$e=O($e,ot,it,mt,$t,6,c[52]),mt=O(mt,$e,ot,it,se,10,c[53]),it=O(it,mt,$e,ot,Ye,15,c[54]),ot=O(ot,it,mt,$e,W,21,c[55]),$e=O($e,ot,it,mt,be,6,c[56]),mt=O(mt,$e,ot,it,Fe,10,c[57]),it=O(it,mt,$e,ot,_e,15,c[58]),ot=O(ot,it,mt,$e,Ke,21,c[59]),$e=O($e,ot,it,mt,we,6,c[60]),mt=O(mt,$e,ot,it,pt,10,c[61]),it=O(it,mt,$e,ot,ie,15,c[62]),ot=O(ot,it,mt,$e,Te,21,c[63]),B[0]=B[0]+$e|0,B[1]=B[1]+ot|0,B[2]=B[2]+it|0,B[3]=B[3]+mt|0},_doFinalize:function(){var w=this._data,M=w.words,F=this._nDataBytes*8,L=w.sigBytes*8;M[L>>>5]|=128<<24-L%32;var V=i.floor(F/4294967296),B=F;M[(L+64>>>9<<4)+15]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,M[(L+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,w.sigBytes=(M.length+1)*4,this._process();for(var q=this._hash,W=q.words,ie=0;ie<4;ie++){var se=W[ie];W[ie]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360}return q},clone:function(){var w=o.clone.call(this);return w._hash=this._hash.clone(),w}});function b(w,M,F,L,V,B,q){var W=w+(M&F|~M&L)+V+q;return(W<<B|W>>>32-B)+M}function x(w,M,F,L,V,B,q){var W=w+(M&L|F&~L)+V+q;return(W<<B|W>>>32-B)+M}function k(w,M,F,L,V,B,q){var W=w+(M^F^L)+V+q;return(W<<B|W>>>32-B)+M}function O(w,M,F,L,V,B,q){var W=w+(F^(M|~L))+V+q;return(W<<B|W>>>32-B)+M}e.MD5=o._createHelper(v),e.HmacMD5=o._createHmacHelper(v)}(Math),t.MD5})});var N6=Mr((xO,AY)=>{(function(t,i){typeof xO=="object"?AY.exports=xO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(xO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=e.Hasher,o=i.algo,s=[],c=o.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(v,b){for(var x=this._hash.words,k=x[0],O=x[1],w=x[2],M=x[3],F=x[4],L=0;L<80;L++){if(L<16)s[L]=v[b+L]|0;else{var V=s[L-3]^s[L-8]^s[L-14]^s[L-16];s[L]=V<<1|V>>>31}var B=(k<<5|k>>>27)+F+s[L];L<20?B+=(O&w|~O&M)+1518500249:L<40?B+=(O^w^M)+1859775393:L<60?B+=(O&w|O&M|w&M)-1894007588:B+=(O^w^M)-899497514,F=M,M=w,w=O<<30|O>>>2,O=k,k=B}x[0]=x[0]+k|0,x[1]=x[1]+O|0,x[2]=x[2]+w|0,x[3]=x[3]+M|0,x[4]=x[4]+F|0},_doFinalize:function(){var v=this._data,b=v.words,x=this._nDataBytes*8,k=v.sigBytes*8;return b[k>>>5]|=128<<24-k%32,b[(k+64>>>9<<4)+14]=Math.floor(x/4294967296),b[(k+64>>>9<<4)+15]=x,v.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var v=r.clone.call(this);return v._hash=this._hash.clone(),v}});i.SHA1=r._createHelper(c),i.HmacSHA1=r._createHmacHelper(c)}(),t.SHA1})});var PO=Mr((AO,PY)=>{(function(t,i){typeof AO=="object"?PY.exports=AO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(AO,function(t){return function(i){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,s=e.algo,c=[],v=[];(function(){function k(F){for(var L=i.sqrt(F),V=2;V<=L;V++)if(!(F%V))return!1;return!0}function O(F){return(F-(F|0))*4294967296|0}for(var w=2,M=0;M<64;)k(w)&&(M<8&&(c[M]=O(i.pow(w,1/2))),v[M]=O(i.pow(w,1/3)),M++),w++})();var b=[],x=s.SHA256=o.extend({_doReset:function(){this._hash=new r.init(c.slice(0))},_doProcessBlock:function(k,O){for(var w=this._hash.words,M=w[0],F=w[1],L=w[2],V=w[3],B=w[4],q=w[5],W=w[6],ie=w[7],se=0;se<64;se++){if(se<16)b[se]=k[O+se]|0;else{var we=b[se-15],Me=(we<<25|we>>>7)^(we<<14|we>>>18)^we>>>3,_e=b[se-2],ke=(_e<<15|_e>>>17)^(_e<<13|_e>>>19)^_e>>>10;b[se]=Me+b[se-7]+ke+b[se-16]}var be=B&q^~B&W,Te=M&F^M&L^F&L,Ye=(M<<30|M>>>2)^(M<<19|M>>>13)^(M<<10|M>>>22),pt=(B<<26|B>>>6)^(B<<21|B>>>11)^(B<<7|B>>>25),$t=ie+pt+be+v[se]+b[se],Ke=Ye+Te;ie=W,W=q,q=B,B=V+$t|0,V=L,L=F,F=M,M=$t+Ke|0}w[0]=w[0]+M|0,w[1]=w[1]+F|0,w[2]=w[2]+L|0,w[3]=w[3]+V|0,w[4]=w[4]+B|0,w[5]=w[5]+q|0,w[6]=w[6]+W|0,w[7]=w[7]+ie|0},_doFinalize:function(){var k=this._data,O=k.words,w=this._nDataBytes*8,M=k.sigBytes*8;return O[M>>>5]|=128<<24-M%32,O[(M+64>>>9<<4)+14]=i.floor(w/4294967296),O[(M+64>>>9<<4)+15]=w,k.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var k=o.clone.call(this);return k._hash=this._hash.clone(),k}});e.SHA256=o._createHelper(x),e.HmacSHA256=o._createHmacHelper(x)}(Math),t.SHA256})});var wY=Mr((kO,kY)=>{(function(t,i,e){typeof kO=="object"?kY.exports=kO=i(io(),PO()):typeof define=="function"&&define.amd?define(["./core","./sha256"],i):i(t.CryptoJS)})(kO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=i.algo,o=r.SHA256,s=r.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=o._doFinalize.call(this);return c.sigBytes-=4,c}});i.SHA224=o._createHelper(s),i.HmacSHA224=o._createHmacHelper(s)}(),t.SHA224})});var R6=Mr((wO,DY)=>{(function(t,i,e){typeof wO=="object"?DY.exports=wO=i(io(),Qx()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],i):i(t.CryptoJS)})(wO,function(t){return function(){var i=t,e=i.lib,n=e.Hasher,r=i.x64,o=r.Word,s=r.WordArray,c=i.algo;function v(){return o.create.apply(o,arguments)}var b=[v(1116352408,3609767458),v(1899447441,602891725),v(3049323471,3964484399),v(3921009573,2173295548),v(961987163,4081628472),v(1508970993,3053834265),v(2453635748,2937671579),v(2870763221,3664609560),v(3624381080,2734883394),v(310598401,1164996542),v(607225278,1323610764),v(1426881987,3590304994),v(1925078388,4068182383),v(2162078206,991336113),v(2614888103,633803317),v(3248222580,3479774868),v(3835390401,2666613458),v(4022224774,944711139),v(264347078,2341262773),v(604807628,2007800933),v(770255983,1495990901),v(1249150122,1856431235),v(1555081692,3175218132),v(1996064986,2198950837),v(2554220882,3999719339),v(2821834349,766784016),v(2952996808,2566594879),v(3210313671,3203337956),v(3336571891,1034457026),v(3584528711,2466948901),v(113926993,3758326383),v(338241895,168717936),v(666307205,1188179964),v(773529912,1546045734),v(1294757372,1522805485),v(1396182291,2643833823),v(1695183700,2343527390),v(1986661051,1014477480),v(2177026350,1206759142),v(2456956037,344077627),v(2730485921,1290863460),v(2820302411,3158454273),v(3259730800,3505952657),v(3345764771,106217008),v(3516065817,3606008344),v(3600352804,1432725776),v(4094571909,1467031594),v(275423344,851169720),v(430227734,3100823752),v(506948616,1363258195),v(659060556,3750685593),v(883997877,3785050280),v(958139571,3318307427),v(1322822218,3812723403),v(1537002063,2003034995),v(1747873779,3602036899),v(1955562222,1575990012),v(2024104815,1125592928),v(2227730452,2716904306),v(2361852424,442776044),v(2428436474,593698344),v(2756734187,3733110249),v(3204031479,2999351573),v(3329325298,3815920427),v(3391569614,3928383900),v(3515267271,566280711),v(3940187606,3454069534),v(4118630271,4000239992),v(116418474,1914138554),v(174292421,2731055270),v(289380356,3203993006),v(460393269,320620315),v(685471733,587496836),v(852142971,1086792851),v(1017036298,365543100),v(1126000580,2618297676),v(1288033470,3409855158),v(1501505948,4234509866),v(1607167915,987167468),v(1816402316,1246189591)],x=[];(function(){for(var O=0;O<80;O++)x[O]=v()})();var k=c.SHA512=n.extend({_doReset:function(){this._hash=new s.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(O,w){for(var M=this._hash.words,F=M[0],L=M[1],V=M[2],B=M[3],q=M[4],W=M[5],ie=M[6],se=M[7],we=F.high,Me=F.low,_e=L.high,ke=L.low,be=V.high,Te=V.low,Ye=B.high,pt=B.low,$t=q.high,Ke=q.low,rt=W.high,Fe=W.low,$e=ie.high,ot=ie.low,it=se.high,mt=se.low,ln=we,Ge=Me,It=_e,Nt=ke,Hn=be,Lr=Te,Co=Ye,js=pt,ca=$t,Da=Ke,ju=rt,Kp=Fe,qp=$e,Jl=ot,Gu=it,ad=mt,Gs=0;Gs<80;Gs++){var Oa,sd,ru=x[Gs];if(Gs<16)sd=ru.high=O[w+Gs*2]|0,Oa=ru.low=O[w+Gs*2+1]|0;else{var Ym=x[Gs-15],Xl=Ym.high,Pc=Ym.low,L0=(Xl>>>1|Pc<<31)^(Xl>>>8|Pc<<24)^Xl>>>7,bh=(Pc>>>1|Xl<<31)^(Pc>>>8|Xl<<24)^(Pc>>>7|Xl<<25),Wp=x[Gs-2],Ks=Wp.high,ul=Wp.low,ou=(Ks>>>19|ul<<13)^(Ks<<3|ul>>>29)^Ks>>>6,Ku=(ul>>>19|Ks<<13)^(ul<<3|Ks>>>29)^(ul>>>6|Ks<<26),zp=x[Gs-7],B0=zp.high,qu=zp.low,ia=x[Gs-16],Jm=ia.high,Xm=ia.low;Oa=bh+qu,sd=L0+B0+(Oa>>>0<bh>>>0?1:0),Oa=Oa+Ku,sd=sd+ou+(Oa>>>0<Ku>>>0?1:0),Oa=Oa+Xm,sd=sd+Jm+(Oa>>>0<Xm>>>0?1:0),ru.high=sd,ru.low=Oa}var ld=ca&ju^~ca&qp,kc=Da&Kp^~Da&Jl,U0=ln&It^ln&Hn^It&Hn,cd=Ge&Nt^Ge&Lr^Nt&Lr,Ih=(ln>>>28|Ge<<4)^(ln<<30|Ge>>>2)^(ln<<25|Ge>>>7),Qm=(Ge>>>28|ln<<4)^(Ge<<30|ln>>>2)^(Ge<<25|ln>>>7),$0=(ca>>>14|Da<<18)^(ca>>>18|Da<<14)^(ca<<23|Da>>>9),H0=(Da>>>14|ca<<18)^(Da>>>18|ca<<14)^(Da<<23|ca>>>9),Sh=b[Gs],Zm=Sh.high,Yp=Sh.low,rs=ad+H0,wl=Gu+$0+(rs>>>0<ad>>>0?1:0),rs=rs+kc,wl=wl+ld+(rs>>>0<kc>>>0?1:0),rs=rs+Yp,wl=wl+Zm+(rs>>>0<Yp>>>0?1:0),rs=rs+Oa,wl=wl+sd+(rs>>>0<Oa>>>0?1:0),xh=Qm+cd,Vv=Ih+U0+(xh>>>0<Qm>>>0?1:0);Gu=qp,ad=Jl,qp=ju,Jl=Kp,ju=ca,Kp=Da,Da=js+rs|0,ca=Co+wl+(Da>>>0<js>>>0?1:0)|0,Co=Hn,js=Lr,Hn=It,Lr=Nt,It=ln,Nt=Ge,Ge=rs+xh|0,ln=wl+Vv+(Ge>>>0<rs>>>0?1:0)|0}Me=F.low=Me+Ge,F.high=we+ln+(Me>>>0<Ge>>>0?1:0),ke=L.low=ke+Nt,L.high=_e+It+(ke>>>0<Nt>>>0?1:0),Te=V.low=Te+Lr,V.high=be+Hn+(Te>>>0<Lr>>>0?1:0),pt=B.low=pt+js,B.high=Ye+Co+(pt>>>0<js>>>0?1:0),Ke=q.low=Ke+Da,q.high=$t+ca+(Ke>>>0<Da>>>0?1:0),Fe=W.low=Fe+Kp,W.high=rt+ju+(Fe>>>0<Kp>>>0?1:0),ot=ie.low=ot+Jl,ie.high=$e+qp+(ot>>>0<Jl>>>0?1:0),mt=se.low=mt+ad,se.high=it+Gu+(mt>>>0<ad>>>0?1:0)},_doFinalize:function(){var O=this._data,w=O.words,M=this._nDataBytes*8,F=O.sigBytes*8;w[F>>>5]|=128<<24-F%32,w[(F+128>>>10<<5)+30]=Math.floor(M/4294967296),w[(F+128>>>10<<5)+31]=M,O.sigBytes=w.length*4,this._process();var L=this._hash.toX32();return L},clone:function(){var O=n.clone.call(this);return O._hash=this._hash.clone(),O},blockSize:1024/32});i.SHA512=n._createHelper(k),i.HmacSHA512=n._createHmacHelper(k)}(),t.SHA512})});var NY=Mr((DO,OY)=>{(function(t,i,e){typeof DO=="object"?OY.exports=DO=i(io(),Qx(),R6()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./sha512"],i):i(t.CryptoJS)})(DO,function(t){return function(){var i=t,e=i.x64,n=e.Word,r=e.WordArray,o=i.algo,s=o.SHA512,c=o.SHA384=s.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var v=s._doFinalize.call(this);return v.sigBytes-=16,v}});i.SHA384=s._createHelper(c),i.HmacSHA384=s._createHmacHelper(c)}(),t.SHA384})});var MY=Mr((OO,RY)=>{(function(t,i,e){typeof OO=="object"?RY.exports=OO=i(io(),Qx()):typeof define=="function"&&define.amd?define(["./core","./x64-core"],i):i(t.CryptoJS)})(OO,function(t){return function(i){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,s=e.x64,c=s.Word,v=e.algo,b=[],x=[],k=[];(function(){for(var M=1,F=0,L=0;L<24;L++){b[M+5*F]=(L+1)*(L+2)/2%64;var V=F%5,B=(2*M+3*F)%5;M=V,F=B}for(var M=0;M<5;M++)for(var F=0;F<5;F++)x[M+5*F]=F+(2*M+3*F)%5*5;for(var q=1,W=0;W<24;W++){for(var ie=0,se=0,we=0;we<7;we++){if(q&1){var Me=(1<<we)-1;Me<32?se^=1<<Me:ie^=1<<Me-32}q&128?q=q<<1^113:q<<=1}k[W]=c.create(ie,se)}})();var O=[];(function(){for(var M=0;M<25;M++)O[M]=c.create()})();var w=v.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var M=this._state=[],F=0;F<25;F++)M[F]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(M,F){for(var L=this._state,V=this.blockSize/2,B=0;B<V;B++){var q=M[F+2*B],W=M[F+2*B+1];q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,W=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360;var ie=L[B];ie.high^=W,ie.low^=q}for(var se=0;se<24;se++){for(var we=0;we<5;we++){for(var Me=0,_e=0,ke=0;ke<5;ke++){var ie=L[we+5*ke];Me^=ie.high,_e^=ie.low}var be=O[we];be.high=Me,be.low=_e}for(var we=0;we<5;we++)for(var Te=O[(we+4)%5],Ye=O[(we+1)%5],pt=Ye.high,$t=Ye.low,Me=Te.high^(pt<<1|$t>>>31),_e=Te.low^($t<<1|pt>>>31),ke=0;ke<5;ke++){var ie=L[we+5*ke];ie.high^=Me,ie.low^=_e}for(var Ke=1;Ke<25;Ke++){var Me,_e,ie=L[Ke],rt=ie.high,Fe=ie.low,$e=b[Ke];$e<32?(Me=rt<<$e|Fe>>>32-$e,_e=Fe<<$e|rt>>>32-$e):(Me=Fe<<$e-32|rt>>>64-$e,_e=rt<<$e-32|Fe>>>64-$e);var ot=O[x[Ke]];ot.high=Me,ot.low=_e}var it=O[0],mt=L[0];it.high=mt.high,it.low=mt.low;for(var we=0;we<5;we++)for(var ke=0;ke<5;ke++){var Ke=we+5*ke,ie=L[Ke],ln=O[Ke],Ge=O[(we+1)%5+5*ke],It=O[(we+2)%5+5*ke];ie.high=ln.high^~Ge.high&It.high,ie.low=ln.low^~Ge.low&It.low}var ie=L[0],Nt=k[se];ie.high^=Nt.high,ie.low^=Nt.low}},_doFinalize:function(){var M=this._data,F=M.words,L=this._nDataBytes*8,V=M.sigBytes*8,B=this.blockSize*32;F[V>>>5]|=1<<24-V%32,F[(i.ceil((V+1)/B)*B>>>5)-1]|=128,M.sigBytes=F.length*4,this._process();for(var q=this._state,W=this.cfg.outputLength/8,ie=W/8,se=[],we=0;we<ie;we++){var Me=q[we],_e=Me.high,ke=Me.low;_e=(_e<<8|_e>>>24)&16711935|(_e<<24|_e>>>8)&4278255360,ke=(ke<<8|ke>>>24)&16711935|(ke<<24|ke>>>8)&4278255360,se.push(ke),se.push(_e)}return new r.init(se,W)},clone:function(){for(var M=o.clone.call(this),F=M._state=this._state.slice(0),L=0;L<25;L++)F[L]=F[L].clone();return M}});e.SHA3=o._createHelper(w),e.HmacSHA3=o._createHmacHelper(w)}(Math),t.SHA3})});var LY=Mr((NO,FY)=>{(function(t,i){typeof NO=="object"?FY.exports=NO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(NO,function(t){return function(i){var e=t,n=e.lib,r=n.WordArray,o=n.Hasher,s=e.algo,c=r.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),v=r.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),b=r.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),x=r.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),k=r.create([0,1518500249,1859775393,2400959708,2840853838]),O=r.create([1352829926,1548603684,1836072691,2053994217,0]),w=s.RIPEMD160=o.extend({_doReset:function(){this._hash=r.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(W,ie){for(var se=0;se<16;se++){var we=ie+se,Me=W[we];W[we]=(Me<<8|Me>>>24)&16711935|(Me<<24|Me>>>8)&4278255360}var _e=this._hash.words,ke=k.words,be=O.words,Te=c.words,Ye=v.words,pt=b.words,$t=x.words,Ke,rt,Fe,$e,ot,it,mt,ln,Ge,It;it=Ke=_e[0],mt=rt=_e[1],ln=Fe=_e[2],Ge=$e=_e[3],It=ot=_e[4];for(var Nt,se=0;se<80;se+=1)Nt=Ke+W[ie+Te[se]]|0,se<16?Nt+=M(rt,Fe,$e)+ke[0]:se<32?Nt+=F(rt,Fe,$e)+ke[1]:se<48?Nt+=L(rt,Fe,$e)+ke[2]:se<64?Nt+=V(rt,Fe,$e)+ke[3]:Nt+=B(rt,Fe,$e)+ke[4],Nt=Nt|0,Nt=q(Nt,pt[se]),Nt=Nt+ot|0,Ke=ot,ot=$e,$e=q(Fe,10),Fe=rt,rt=Nt,Nt=it+W[ie+Ye[se]]|0,se<16?Nt+=B(mt,ln,Ge)+be[0]:se<32?Nt+=V(mt,ln,Ge)+be[1]:se<48?Nt+=L(mt,ln,Ge)+be[2]:se<64?Nt+=F(mt,ln,Ge)+be[3]:Nt+=M(mt,ln,Ge)+be[4],Nt=Nt|0,Nt=q(Nt,$t[se]),Nt=Nt+It|0,it=It,It=Ge,Ge=q(ln,10),ln=mt,mt=Nt;Nt=_e[1]+Fe+Ge|0,_e[1]=_e[2]+$e+It|0,_e[2]=_e[3]+ot+it|0,_e[3]=_e[4]+Ke+mt|0,_e[4]=_e[0]+rt+ln|0,_e[0]=Nt},_doFinalize:function(){var W=this._data,ie=W.words,se=this._nDataBytes*8,we=W.sigBytes*8;ie[we>>>5]|=128<<24-we%32,ie[(we+64>>>9<<4)+14]=(se<<8|se>>>24)&16711935|(se<<24|se>>>8)&4278255360,W.sigBytes=(ie.length+1)*4,this._process();for(var Me=this._hash,_e=Me.words,ke=0;ke<5;ke++){var be=_e[ke];_e[ke]=(be<<8|be>>>24)&16711935|(be<<24|be>>>8)&4278255360}return Me},clone:function(){var W=o.clone.call(this);return W._hash=this._hash.clone(),W}});function M(W,ie,se){return W^ie^se}function F(W,ie,se){return W&ie|~W&se}function L(W,ie,se){return(W|~ie)^se}function V(W,ie,se){return W&se|ie&~se}function B(W,ie,se){return W^(ie|~se)}function q(W,ie){return W<<ie|W>>>32-ie}e.RIPEMD160=o._createHelper(w),e.HmacRIPEMD160=o._createHmacHelper(w)}(Math),t.RIPEMD160})});var MO=Mr((RO,BY)=>{(function(t,i){typeof RO=="object"?BY.exports=RO=i(io()):typeof define=="function"&&define.amd?define(["./core"],i):i(t.CryptoJS)})(RO,function(t){(function(){var i=t,e=i.lib,n=e.Base,r=i.enc,o=r.Utf8,s=i.algo,c=s.HMAC=n.extend({init:function(v,b){v=this._hasher=new v.init,typeof b=="string"&&(b=o.parse(b));var x=v.blockSize,k=x*4;b.sigBytes>k&&(b=v.finalize(b)),b.clamp();for(var O=this._oKey=b.clone(),w=this._iKey=b.clone(),M=O.words,F=w.words,L=0;L<x;L++)M[L]^=1549556828,F[L]^=909522486;O.sigBytes=w.sigBytes=k,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var b=this._hasher,x=b.finalize(v);b.reset();var k=b.finalize(this._oKey.clone().concat(x));return k}})})()})});var $Y=Mr((FO,UY)=>{(function(t,i,e){typeof FO=="object"?UY.exports=FO=i(io(),PO(),MO()):typeof define=="function"&&define.amd?define(["./core","./sha256","./hmac"],i):i(t.CryptoJS)})(FO,function(t){return function(){var i=t,e=i.lib,n=e.Base,r=e.WordArray,o=i.algo,s=o.SHA256,c=o.HMAC,v=o.PBKDF2=n.extend({cfg:n.extend({keySize:128/32,hasher:s,iterations:25e4}),init:function(b){this.cfg=this.cfg.extend(b)},compute:function(b,x){for(var k=this.cfg,O=c.create(k.hasher,b),w=r.create(),M=r.create([1]),F=w.words,L=M.words,V=k.keySize,B=k.iterations;F.length<V;){var q=O.update(x).finalize(M);O.reset();for(var W=q.words,ie=W.length,se=q,we=1;we<B;we++){se=O.finalize(se),O.reset();for(var Me=se.words,_e=0;_e<ie;_e++)W[_e]^=Me[_e]}w.concat(q),L[0]++}return w.sigBytes=V*4,w}});i.PBKDF2=function(b,x,k){return v.create(k).compute(b,x)}}(),t.PBKDF2})});var _0=Mr((LO,HY)=>{(function(t,i,e){typeof LO=="object"?HY.exports=LO=i(io(),N6(),MO()):typeof define=="function"&&define.amd?define(["./core","./sha1","./hmac"],i):i(t.CryptoJS)})(LO,function(t){return function(){var i=t,e=i.lib,n=e.Base,r=e.WordArray,o=i.algo,s=o.MD5,c=o.EvpKDF=n.extend({cfg:n.extend({keySize:128/32,hasher:s,iterations:1}),init:function(v){this.cfg=this.cfg.extend(v)},compute:function(v,b){for(var x,k=this.cfg,O=k.hasher.create(),w=r.create(),M=w.words,F=k.keySize,L=k.iterations;M.length<F;){x&&O.update(x),x=O.update(v).finalize(b),O.reset();for(var V=1;V<L;V++)x=O.finalize(x),O.reset();w.concat(x)}return w.sigBytes=F*4,w}});i.EvpKDF=function(v,b,x){return c.create(x).compute(v,b)}}(),t.EvpKDF})});var sl=Mr((BO,VY)=>{(function(t,i,e){typeof BO=="object"?VY.exports=BO=i(io(),_0()):typeof define=="function"&&define.amd?define(["./core","./evpkdf"],i):i(t.CryptoJS)})(BO,function(t){t.lib.Cipher||function(i){var e=t,n=e.lib,r=n.Base,o=n.WordArray,s=n.BufferedBlockAlgorithm,c=e.enc,v=c.Utf8,b=c.Base64,x=e.algo,k=x.EvpKDF,O=n.Cipher=s.extend({cfg:r.extend(),createEncryptor:function(be,Te){return this.create(this._ENC_XFORM_MODE,be,Te)},createDecryptor:function(be,Te){return this.create(this._DEC_XFORM_MODE,be,Te)},init:function(be,Te,Ye){this.cfg=this.cfg.extend(Ye),this._xformMode=be,this._key=Te,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(be){return this._append(be),this._process()},finalize:function(be){be&&this._append(be);var Te=this._doFinalize();return Te},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function be(Te){return typeof Te=="string"?ke:we}return function(Te){return{encrypt:function(Ye,pt,$t){return be(pt).encrypt(Te,Ye,pt,$t)},decrypt:function(Ye,pt,$t){return be(pt).decrypt(Te,Ye,pt,$t)}}}}()}),w=n.StreamCipher=O.extend({_doFinalize:function(){var be=this._process(!0);return be},blockSize:1}),M=e.mode={},F=n.BlockCipherMode=r.extend({createEncryptor:function(be,Te){return this.Encryptor.create(be,Te)},createDecryptor:function(be,Te){return this.Decryptor.create(be,Te)},init:function(be,Te){this._cipher=be,this._iv=Te}}),L=M.CBC=function(){var be=F.extend();be.Encryptor=be.extend({processBlock:function(Ye,pt){var $t=this._cipher,Ke=$t.blockSize;Te.call(this,Ye,pt,Ke),$t.encryptBlock(Ye,pt),this._prevBlock=Ye.slice(pt,pt+Ke)}}),be.Decryptor=be.extend({processBlock:function(Ye,pt){var $t=this._cipher,Ke=$t.blockSize,rt=Ye.slice(pt,pt+Ke);$t.decryptBlock(Ye,pt),Te.call(this,Ye,pt,Ke),this._prevBlock=rt}});function Te(Ye,pt,$t){var Ke,rt=this._iv;rt?(Ke=rt,this._iv=i):Ke=this._prevBlock;for(var Fe=0;Fe<$t;Fe++)Ye[pt+Fe]^=Ke[Fe]}return be}(),V=e.pad={},B=V.Pkcs7={pad:function(be,Te){for(var Ye=Te*4,pt=Ye-be.sigBytes%Ye,$t=pt<<24|pt<<16|pt<<8|pt,Ke=[],rt=0;rt<pt;rt+=4)Ke.push($t);var Fe=o.create(Ke,pt);be.concat(Fe)},unpad:function(be){var Te=be.words[be.sigBytes-1>>>2]&255;be.sigBytes-=Te}},q=n.BlockCipher=O.extend({cfg:O.cfg.extend({mode:L,padding:B}),reset:function(){var be;O.reset.call(this);var Te=this.cfg,Ye=Te.iv,pt=Te.mode;this._xformMode==this._ENC_XFORM_MODE?be=pt.createEncryptor:(be=pt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==be?this._mode.init(this,Ye&&Ye.words):(this._mode=be.call(pt,this,Ye&&Ye.words),this._mode.__creator=be)},_doProcessBlock:function(be,Te){this._mode.processBlock(be,Te)},_doFinalize:function(){var be,Te=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Te.pad(this._data,this.blockSize),be=this._process(!0)):(be=this._process(!0),Te.unpad(be)),be},blockSize:128/32}),W=n.CipherParams=r.extend({init:function(be){this.mixIn(be)},toString:function(be){return(be||this.formatter).stringify(this)}}),ie=e.format={},se=ie.OpenSSL={stringify:function(be){var Te,Ye=be.ciphertext,pt=be.salt;return pt?Te=o.create([1398893684,1701076831]).concat(pt).concat(Ye):Te=Ye,Te.toString(b)},parse:function(be){var Te,Ye=b.parse(be),pt=Ye.words;return pt[0]==1398893684&&pt[1]==1701076831&&(Te=o.create(pt.slice(2,4)),pt.splice(0,4),Ye.sigBytes-=16),W.create({ciphertext:Ye,salt:Te})}},we=n.SerializableCipher=r.extend({cfg:r.extend({format:se}),encrypt:function(be,Te,Ye,pt){pt=this.cfg.extend(pt);var $t=be.createEncryptor(Ye,pt),Ke=$t.finalize(Te),rt=$t.cfg;return W.create({ciphertext:Ke,key:Ye,iv:rt.iv,algorithm:be,mode:rt.mode,padding:rt.padding,blockSize:be.blockSize,formatter:pt.format})},decrypt:function(be,Te,Ye,pt){pt=this.cfg.extend(pt),Te=this._parse(Te,pt.format);var $t=be.createDecryptor(Ye,pt).finalize(Te.ciphertext);return $t},_parse:function(be,Te){return typeof be=="string"?Te.parse(be,this):be}}),Me=e.kdf={},_e=Me.OpenSSL={execute:function(be,Te,Ye,pt,$t){if(pt||(pt=o.random(64/8)),$t)var Ke=k.create({keySize:Te+Ye,hasher:$t}).compute(be,pt);else var Ke=k.create({keySize:Te+Ye}).compute(be,pt);var rt=o.create(Ke.words.slice(Te),Ye*4);return Ke.sigBytes=Te*4,W.create({key:Ke,iv:rt,salt:pt})}},ke=n.PasswordBasedCipher=we.extend({cfg:we.cfg.extend({kdf:_e}),encrypt:function(be,Te,Ye,pt){pt=this.cfg.extend(pt);var $t=pt.kdf.execute(Ye,be.keySize,be.ivSize,pt.salt,pt.hasher);pt.iv=$t.iv;var Ke=we.encrypt.call(this,be,Te,$t.key,pt);return Ke.mixIn($t),Ke},decrypt:function(be,Te,Ye,pt){pt=this.cfg.extend(pt),Te=this._parse(Te,pt.format);var $t=pt.kdf.execute(Ye,be.keySize,be.ivSize,Te.salt,pt.hasher);pt.iv=$t.iv;var Ke=we.decrypt.call(this,be,Te,$t.key,pt);return Ke}})}()})});var GY=Mr((UO,jY)=>{(function(t,i,e){typeof UO=="object"?jY.exports=UO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(UO,function(t){return t.mode.CFB=function(){var i=t.lib.BlockCipherMode.extend();i.Encryptor=i.extend({processBlock:function(n,r){var o=this._cipher,s=o.blockSize;e.call(this,n,r,s,o),this._prevBlock=n.slice(r,r+s)}}),i.Decryptor=i.extend({processBlock:function(n,r){var o=this._cipher,s=o.blockSize,c=n.slice(r,r+s);e.call(this,n,r,s,o),this._prevBlock=c}});function e(n,r,o,s){var c,v=this._iv;v?(c=v.slice(0),this._iv=void 0):c=this._prevBlock,s.encryptBlock(c,0);for(var b=0;b<o;b++)n[r+b]^=c[b]}return i}(),t.mode.CFB})});var qY=Mr(($O,KY)=>{(function(t,i,e){typeof $O=="object"?KY.exports=$O=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})($O,function(t){return t.mode.CTR=function(){var i=t.lib.BlockCipherMode.extend(),e=i.Encryptor=i.extend({processBlock:function(n,r){var o=this._cipher,s=o.blockSize,c=this._iv,v=this._counter;c&&(v=this._counter=c.slice(0),this._iv=void 0);var b=v.slice(0);o.encryptBlock(b,0),v[s-1]=v[s-1]+1|0;for(var x=0;x<s;x++)n[r+x]^=b[x]}});return i.Decryptor=e,i}(),t.mode.CTR})});var zY=Mr((HO,WY)=>{(function(t,i,e){typeof HO=="object"?WY.exports=HO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(HO,function(t){return t.mode.CTRGladman=function(){var i=t.lib.BlockCipherMode.extend();function e(o){if((o>>24&255)===255){var s=o>>16&255,c=o>>8&255,v=o&255;s===255?(s=0,c===255?(c=0,v===255?v=0:++v):++c):++s,o=0,o+=s<<16,o+=c<<8,o+=v}else o+=1<<24;return o}function n(o){return(o[0]=e(o[0]))===0&&(o[1]=e(o[1])),o}var r=i.Encryptor=i.extend({processBlock:function(o,s){var c=this._cipher,v=c.blockSize,b=this._iv,x=this._counter;b&&(x=this._counter=b.slice(0),this._iv=void 0),n(x);var k=x.slice(0);c.encryptBlock(k,0);for(var O=0;O<v;O++)o[s+O]^=k[O]}});return i.Decryptor=r,i}(),t.mode.CTRGladman})});var JY=Mr((VO,YY)=>{(function(t,i,e){typeof VO=="object"?YY.exports=VO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(VO,function(t){return t.mode.OFB=function(){var i=t.lib.BlockCipherMode.extend(),e=i.Encryptor=i.extend({processBlock:function(n,r){var o=this._cipher,s=o.blockSize,c=this._iv,v=this._keystream;c&&(v=this._keystream=c.slice(0),this._iv=void 0),o.encryptBlock(v,0);for(var b=0;b<s;b++)n[r+b]^=v[b]}});return i.Decryptor=e,i}(),t.mode.OFB})});var QY=Mr((jO,XY)=>{(function(t,i,e){typeof jO=="object"?XY.exports=jO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(jO,function(t){return t.mode.ECB=function(){var i=t.lib.BlockCipherMode.extend();return i.Encryptor=i.extend({processBlock:function(e,n){this._cipher.encryptBlock(e,n)}}),i.Decryptor=i.extend({processBlock:function(e,n){this._cipher.decryptBlock(e,n)}}),i}(),t.mode.ECB})});var eJ=Mr((GO,ZY)=>{(function(t,i,e){typeof GO=="object"?ZY.exports=GO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(GO,function(t){return t.pad.AnsiX923={pad:function(i,e){var n=i.sigBytes,r=e*4,o=r-n%r,s=n+o-1;i.clamp(),i.words[s>>>2]|=o<<24-s%4*8,i.sigBytes+=o},unpad:function(i){var e=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=e}},t.pad.Ansix923})});var nJ=Mr((KO,tJ)=>{(function(t,i,e){typeof KO=="object"?tJ.exports=KO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(KO,function(t){return t.pad.Iso10126={pad:function(i,e){var n=e*4,r=n-i.sigBytes%n;i.concat(t.lib.WordArray.random(r-1)).concat(t.lib.WordArray.create([r<<24],1))},unpad:function(i){var e=i.words[i.sigBytes-1>>>2]&255;i.sigBytes-=e}},t.pad.Iso10126})});var rJ=Mr((qO,iJ)=>{(function(t,i,e){typeof qO=="object"?iJ.exports=qO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(qO,function(t){return t.pad.Iso97971={pad:function(i,e){i.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(i,e)},unpad:function(i){t.pad.ZeroPadding.unpad(i),i.sigBytes--}},t.pad.Iso97971})});var aJ=Mr((WO,oJ)=>{(function(t,i,e){typeof WO=="object"?oJ.exports=WO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(WO,function(t){return t.pad.ZeroPadding={pad:function(i,e){var n=e*4;i.clamp(),i.sigBytes+=n-(i.sigBytes%n||n)},unpad:function(i){for(var e=i.words,n=i.sigBytes-1,n=i.sigBytes-1;n>=0;n--)if(e[n>>>2]>>>24-n%4*8&255){i.sigBytes=n+1;break}}},t.pad.ZeroPadding})});var lJ=Mr((zO,sJ)=>{(function(t,i,e){typeof zO=="object"?sJ.exports=zO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(zO,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})});var dJ=Mr((YO,cJ)=>{(function(t,i,e){typeof YO=="object"?cJ.exports=YO=i(io(),sl()):typeof define=="function"&&define.amd?define(["./core","./cipher-core"],i):i(t.CryptoJS)})(YO,function(t){return function(i){var e=t,n=e.lib,r=n.CipherParams,o=e.enc,s=o.Hex,c=e.format,v=c.Hex={stringify:function(b){return b.ciphertext.toString(s)},parse:function(b){var x=s.parse(b);return r.create({ciphertext:x})}}}(),t.format.Hex})});var pJ=Mr((JO,uJ)=>{(function(t,i,e){typeof JO=="object"?uJ.exports=JO=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(JO,function(t){return function(){var i=t,e=i.lib,n=e.BlockCipher,r=i.algo,o=[],s=[],c=[],v=[],b=[],x=[],k=[],O=[],w=[],M=[];(function(){for(var V=[],B=0;B<256;B++)B<128?V[B]=B<<1:V[B]=B<<1^283;for(var q=0,W=0,B=0;B<256;B++){var ie=W^W<<1^W<<2^W<<3^W<<4;ie=ie>>>8^ie&255^99,o[q]=ie,s[ie]=q;var se=V[q],we=V[se],Me=V[we],_e=V[ie]*257^ie*16843008;c[q]=_e<<24|_e>>>8,v[q]=_e<<16|_e>>>16,b[q]=_e<<8|_e>>>24,x[q]=_e;var _e=Me*16843009^we*65537^se*257^q*16843008;k[ie]=_e<<24|_e>>>8,O[ie]=_e<<16|_e>>>16,w[ie]=_e<<8|_e>>>24,M[ie]=_e,q?(q=se^V[V[V[Me^se]]],W^=V[V[W]]):q=W=1}})();var F=[0,1,2,4,8,16,32,64,128,27,54],L=r.AES=n.extend({_doReset:function(){var V;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var B=this._keyPriorReset=this._key,q=B.words,W=B.sigBytes/4,ie=this._nRounds=W+6,se=(ie+1)*4,we=this._keySchedule=[],Me=0;Me<se;Me++)Me<W?we[Me]=q[Me]:(V=we[Me-1],Me%W?W>6&&Me%W==4&&(V=o[V>>>24]<<24|o[V>>>16&255]<<16|o[V>>>8&255]<<8|o[V&255]):(V=V<<8|V>>>24,V=o[V>>>24]<<24|o[V>>>16&255]<<16|o[V>>>8&255]<<8|o[V&255],V^=F[Me/W|0]<<24),we[Me]=we[Me-W]^V);for(var _e=this._invKeySchedule=[],ke=0;ke<se;ke++){var Me=se-ke;if(ke%4)var V=we[Me];else var V=we[Me-4];ke<4||Me<=4?_e[ke]=V:_e[ke]=k[o[V>>>24]]^O[o[V>>>16&255]]^w[o[V>>>8&255]]^M[o[V&255]]}}},encryptBlock:function(V,B){this._doCryptBlock(V,B,this._keySchedule,c,v,b,x,o)},decryptBlock:function(V,B){var q=V[B+1];V[B+1]=V[B+3],V[B+3]=q,this._doCryptBlock(V,B,this._invKeySchedule,k,O,w,M,s);var q=V[B+1];V[B+1]=V[B+3],V[B+3]=q},_doCryptBlock:function(V,B,q,W,ie,se,we,Me){for(var _e=this._nRounds,ke=V[B]^q[0],be=V[B+1]^q[1],Te=V[B+2]^q[2],Ye=V[B+3]^q[3],pt=4,$t=1;$t<_e;$t++){var Ke=W[ke>>>24]^ie[be>>>16&255]^se[Te>>>8&255]^we[Ye&255]^q[pt++],rt=W[be>>>24]^ie[Te>>>16&255]^se[Ye>>>8&255]^we[ke&255]^q[pt++],Fe=W[Te>>>24]^ie[Ye>>>16&255]^se[ke>>>8&255]^we[be&255]^q[pt++],$e=W[Ye>>>24]^ie[ke>>>16&255]^se[be>>>8&255]^we[Te&255]^q[pt++];ke=Ke,be=rt,Te=Fe,Ye=$e}var Ke=(Me[ke>>>24]<<24|Me[be>>>16&255]<<16|Me[Te>>>8&255]<<8|Me[Ye&255])^q[pt++],rt=(Me[be>>>24]<<24|Me[Te>>>16&255]<<16|Me[Ye>>>8&255]<<8|Me[ke&255])^q[pt++],Fe=(Me[Te>>>24]<<24|Me[Ye>>>16&255]<<16|Me[ke>>>8&255]<<8|Me[be&255])^q[pt++],$e=(Me[Ye>>>24]<<24|Me[ke>>>16&255]<<16|Me[be>>>8&255]<<8|Me[Te&255])^q[pt++];V[B]=Ke,V[B+1]=rt,V[B+2]=Fe,V[B+3]=$e},keySize:256/32});i.AES=n._createHelper(L)}(),t.AES})});var fJ=Mr((XO,mJ)=>{(function(t,i,e){typeof XO=="object"?mJ.exports=XO=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(XO,function(t){return function(){var i=t,e=i.lib,n=e.WordArray,r=e.BlockCipher,o=i.algo,s=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],v=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],b=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],x=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],k=o.DES=r.extend({_doReset:function(){for(var F=this._key,L=F.words,V=[],B=0;B<56;B++){var q=s[B]-1;V[B]=L[q>>>5]>>>31-q%32&1}for(var W=this._subKeys=[],ie=0;ie<16;ie++){for(var se=W[ie]=[],we=v[ie],B=0;B<24;B++)se[B/6|0]|=V[(c[B]-1+we)%28]<<31-B%6,se[4+(B/6|0)]|=V[28+(c[B+24]-1+we)%28]<<31-B%6;se[0]=se[0]<<1|se[0]>>>31;for(var B=1;B<7;B++)se[B]=se[B]>>>(B-1)*4+3;se[7]=se[7]<<5|se[7]>>>27}for(var Me=this._invSubKeys=[],B=0;B<16;B++)Me[B]=W[15-B]},encryptBlock:function(F,L){this._doCryptBlock(F,L,this._subKeys)},decryptBlock:function(F,L){this._doCryptBlock(F,L,this._invSubKeys)},_doCryptBlock:function(F,L,V){this._lBlock=F[L],this._rBlock=F[L+1],O.call(this,4,252645135),O.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),O.call(this,1,1431655765);for(var B=0;B<16;B++){for(var q=V[B],W=this._lBlock,ie=this._rBlock,se=0,we=0;we<8;we++)se|=b[we][((ie^q[we])&x[we])>>>0];this._lBlock=ie,this._rBlock=W^se}var Me=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Me,O.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),O.call(this,16,65535),O.call(this,4,252645135),F[L]=this._lBlock,F[L+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function O(F,L){var V=(this._lBlock>>>F^this._rBlock)&L;this._rBlock^=V,this._lBlock^=V<<F}function w(F,L){var V=(this._rBlock>>>F^this._lBlock)&L;this._lBlock^=V,this._rBlock^=V<<F}i.DES=r._createHelper(k);var M=o.TripleDES=r.extend({_doReset:function(){var F=this._key,L=F.words;if(L.length!==2&&L.length!==4&&L.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var V=L.slice(0,2),B=L.length<4?L.slice(0,2):L.slice(2,4),q=L.length<6?L.slice(0,2):L.slice(4,6);this._des1=k.createEncryptor(n.create(V)),this._des2=k.createEncryptor(n.create(B)),this._des3=k.createEncryptor(n.create(q))},encryptBlock:function(F,L){this._des1.encryptBlock(F,L),this._des2.decryptBlock(F,L),this._des3.encryptBlock(F,L)},decryptBlock:function(F,L){this._des3.decryptBlock(F,L),this._des2.encryptBlock(F,L),this._des1.decryptBlock(F,L)},keySize:192/32,ivSize:64/32,blockSize:64/32});i.TripleDES=r._createHelper(M)}(),t.TripleDES})});var gJ=Mr((QO,hJ)=>{(function(t,i,e){typeof QO=="object"?hJ.exports=QO=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(QO,function(t){return function(){var i=t,e=i.lib,n=e.StreamCipher,r=i.algo,o=r.RC4=n.extend({_doReset:function(){for(var v=this._key,b=v.words,x=v.sigBytes,k=this._S=[],O=0;O<256;O++)k[O]=O;for(var O=0,w=0;O<256;O++){var M=O%x,F=b[M>>>2]>>>24-M%4*8&255;w=(w+k[O]+F)%256;var L=k[O];k[O]=k[w],k[w]=L}this._i=this._j=0},_doProcessBlock:function(v,b){v[b]^=s.call(this)},keySize:256/32,ivSize:0});function s(){for(var v=this._S,b=this._i,x=this._j,k=0,O=0;O<4;O++){b=(b+1)%256,x=(x+v[b])%256;var w=v[b];v[b]=v[x],v[x]=w,k|=v[(v[b]+v[x])%256]<<24-O*8}return this._i=b,this._j=x,k}i.RC4=n._createHelper(o);var c=r.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var v=this.cfg.drop;v>0;v--)s.call(this)}});i.RC4Drop=n._createHelper(c)}(),t.RC4})});var _J=Mr((ZO,vJ)=>{(function(t,i,e){typeof ZO=="object"?vJ.exports=ZO=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(ZO,function(t){return function(){var i=t,e=i.lib,n=e.StreamCipher,r=i.algo,o=[],s=[],c=[],v=r.Rabbit=n.extend({_doReset:function(){for(var x=this._key.words,k=this.cfg.iv,O=0;O<4;O++)x[O]=(x[O]<<8|x[O]>>>24)&16711935|(x[O]<<24|x[O]>>>8)&4278255360;var w=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],M=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var O=0;O<4;O++)b.call(this);for(var O=0;O<8;O++)M[O]^=w[O+4&7];if(k){var F=k.words,L=F[0],V=F[1],B=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,q=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,W=B>>>16|q&4294901760,ie=q<<16|B&65535;M[0]^=B,M[1]^=W,M[2]^=q,M[3]^=ie,M[4]^=B,M[5]^=W,M[6]^=q,M[7]^=ie;for(var O=0;O<4;O++)b.call(this)}},_doProcessBlock:function(x,k){var O=this._X;b.call(this),o[0]=O[0]^O[5]>>>16^O[3]<<16,o[1]=O[2]^O[7]>>>16^O[5]<<16,o[2]=O[4]^O[1]>>>16^O[7]<<16,o[3]=O[6]^O[3]>>>16^O[1]<<16;for(var w=0;w<4;w++)o[w]=(o[w]<<8|o[w]>>>24)&16711935|(o[w]<<24|o[w]>>>8)&4278255360,x[k+w]^=o[w]},blockSize:128/32,ivSize:64/32});function b(){for(var x=this._X,k=this._C,O=0;O<8;O++)s[O]=k[O];k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<s[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<s[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<s[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<s[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<s[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<s[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<s[6]>>>0?1:0)|0,this._b=k[7]>>>0<s[7]>>>0?1:0;for(var O=0;O<8;O++){var w=x[O]+k[O],M=w&65535,F=w>>>16,L=((M*M>>>17)+M*F>>>15)+F*F,V=((w&4294901760)*w|0)+((w&65535)*w|0);c[O]=L^V}x[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,x[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,x[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,x[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,x[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,x[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,x[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,x[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.Rabbit=n._createHelper(v)}(),t.Rabbit})});var yJ=Mr((eN,CJ)=>{(function(t,i,e){typeof eN=="object"?CJ.exports=eN=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(eN,function(t){return function(){var i=t,e=i.lib,n=e.StreamCipher,r=i.algo,o=[],s=[],c=[],v=r.RabbitLegacy=n.extend({_doReset:function(){var x=this._key.words,k=this.cfg.iv,O=this._X=[x[0],x[3]<<16|x[2]>>>16,x[1],x[0]<<16|x[3]>>>16,x[2],x[1]<<16|x[0]>>>16,x[3],x[2]<<16|x[1]>>>16],w=this._C=[x[2]<<16|x[2]>>>16,x[0]&4294901760|x[1]&65535,x[3]<<16|x[3]>>>16,x[1]&4294901760|x[2]&65535,x[0]<<16|x[0]>>>16,x[2]&4294901760|x[3]&65535,x[1]<<16|x[1]>>>16,x[3]&4294901760|x[0]&65535];this._b=0;for(var M=0;M<4;M++)b.call(this);for(var M=0;M<8;M++)w[M]^=O[M+4&7];if(k){var F=k.words,L=F[0],V=F[1],B=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,q=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,W=B>>>16|q&4294901760,ie=q<<16|B&65535;w[0]^=B,w[1]^=W,w[2]^=q,w[3]^=ie,w[4]^=B,w[5]^=W,w[6]^=q,w[7]^=ie;for(var M=0;M<4;M++)b.call(this)}},_doProcessBlock:function(x,k){var O=this._X;b.call(this),o[0]=O[0]^O[5]>>>16^O[3]<<16,o[1]=O[2]^O[7]>>>16^O[5]<<16,o[2]=O[4]^O[1]>>>16^O[7]<<16,o[3]=O[6]^O[3]>>>16^O[1]<<16;for(var w=0;w<4;w++)o[w]=(o[w]<<8|o[w]>>>24)&16711935|(o[w]<<24|o[w]>>>8)&4278255360,x[k+w]^=o[w]},blockSize:128/32,ivSize:64/32});function b(){for(var x=this._X,k=this._C,O=0;O<8;O++)s[O]=k[O];k[0]=k[0]+1295307597+this._b|0,k[1]=k[1]+3545052371+(k[0]>>>0<s[0]>>>0?1:0)|0,k[2]=k[2]+886263092+(k[1]>>>0<s[1]>>>0?1:0)|0,k[3]=k[3]+1295307597+(k[2]>>>0<s[2]>>>0?1:0)|0,k[4]=k[4]+3545052371+(k[3]>>>0<s[3]>>>0?1:0)|0,k[5]=k[5]+886263092+(k[4]>>>0<s[4]>>>0?1:0)|0,k[6]=k[6]+1295307597+(k[5]>>>0<s[5]>>>0?1:0)|0,k[7]=k[7]+3545052371+(k[6]>>>0<s[6]>>>0?1:0)|0,this._b=k[7]>>>0<s[7]>>>0?1:0;for(var O=0;O<8;O++){var w=x[O]+k[O],M=w&65535,F=w>>>16,L=((M*M>>>17)+M*F>>>15)+F*F,V=((w&4294901760)*w|0)+((w&65535)*w|0);c[O]=L^V}x[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,x[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,x[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,x[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,x[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,x[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,x[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,x[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}i.RabbitLegacy=n._createHelper(v)}(),t.RabbitLegacy})});var TJ=Mr((tN,EJ)=>{(function(t,i,e){typeof tN=="object"?EJ.exports=tN=i(io(),ov(),av(),_0(),sl()):typeof define=="function"&&define.amd?define(["./core","./enc-base64","./md5","./evpkdf","./cipher-core"],i):i(t.CryptoJS)})(tN,function(t){return function(){var i=t,e=i.lib,n=e.BlockCipher,r=i.algo;let o=16,s=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var v={pbox:[],sbox:[]};function b(M,F){let L=F>>24&255,V=F>>16&255,B=F>>8&255,q=F&255,W=M.sbox[0][L]+M.sbox[1][V];return W=W^M.sbox[2][B],W=W+M.sbox[3][q],W}function x(M,F,L){let V=F,B=L,q;for(let W=0;W<o;++W)V=V^M.pbox[W],B=b(M,V)^B,q=V,V=B,B=q;return q=V,V=B,B=q,B=B^M.pbox[o],V=V^M.pbox[o+1],{left:V,right:B}}function k(M,F,L){let V=F,B=L,q;for(let W=o+1;W>1;--W)V=V^M.pbox[W],B=b(M,V)^B,q=V,V=B,B=q;return q=V,V=B,B=q,B=B^M.pbox[1],V=V^M.pbox[0],{left:V,right:B}}function O(M,F,L){for(let ie=0;ie<4;ie++){M.sbox[ie]=[];for(let se=0;se<256;se++)M.sbox[ie][se]=c[ie][se]}let V=0;for(let ie=0;ie<o+2;ie++)M.pbox[ie]=s[ie]^F[V],V++,V>=L&&(V=0);let B=0,q=0,W=0;for(let ie=0;ie<o+2;ie+=2)W=x(M,B,q),B=W.left,q=W.right,M.pbox[ie]=B,M.pbox[ie+1]=q;for(let ie=0;ie<4;ie++)for(let se=0;se<256;se+=2)W=x(M,B,q),B=W.left,q=W.right,M.sbox[ie][se]=B,M.sbox[ie][se+1]=q;return!0}var w=r.Blowfish=n.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var M=this._keyPriorReset=this._key,F=M.words,L=M.sigBytes/4;O(v,F,L)}},encryptBlock:function(M,F){var L=x(v,M[F],M[F+1]);M[F]=L.left,M[F+1]=L.right},decryptBlock:function(M,F){var L=k(v,M[F],M[F+1]);M[F]=L.left,M[F+1]=L.right},blockSize:64/32,keySize:128/32,ivSize:64/32});i.Blowfish=n._createHelper(w)}(),t.Blowfish})});var IJ=Mr((nN,bJ)=>{(function(t,i,e){typeof nN=="object"?bJ.exports=nN=i(io(),Qx(),yY(),TY(),ov(),SY(),av(),N6(),PO(),wY(),R6(),NY(),MY(),LY(),MO(),$Y(),_0(),sl(),GY(),qY(),zY(),JY(),QY(),eJ(),nJ(),rJ(),aJ(),lJ(),dJ(),pJ(),fJ(),gJ(),_J(),yJ(),TJ()):typeof define=="function"&&define.amd?define(["./core","./x64-core","./lib-typedarrays","./enc-utf16","./enc-base64","./enc-base64url","./md5","./sha1","./sha256","./sha224","./sha512","./sha384","./sha3","./ripemd160","./hmac","./pbkdf2","./evpkdf","./cipher-core","./mode-cfb","./mode-ctr","./mode-ctr-gladman","./mode-ofb","./mode-ecb","./pad-ansix923","./pad-iso10126","./pad-iso97971","./pad-zeropadding","./pad-nopadding","./format-hex","./aes","./tripledes","./rc4","./rabbit","./rabbit-legacy","./blowfish"],i):t.CryptoJS=i(t.CryptoJS)})(nN,function(t){return t})});var PX=Mr((f8,h8)=>{(function(t,i){typeof f8=="object"&&typeof h8<"u"?h8.exports=i():typeof define=="function"&&define.amd?define(i):(t=typeof globalThis<"u"?globalThis:t||self,t.MessageFormat=i())})(f8,function(){"use strict";var t=function(){return t=Object.assign||function(Y){for(var Q,Z=1,re=arguments.length;Z<re;Z++){Q=arguments[Z];for(var ve in Q)Object.prototype.hasOwnProperty.call(Q,ve)&&(Y[ve]=Q[ve])}return Y},t.apply(this,arguments)};function i(U){var Y=typeof Symbol=="function"&&Symbol.iterator,Q=Y&&U[Y],Z=0;if(Q)return Q.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&Z>=U.length&&(U=void 0),{value:U&&U[Z++],done:!U}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function e(U,Y){var Q=typeof Symbol=="function"&&U[Symbol.iterator];if(!Q)return U;var Z=Q.call(U),re,ve=[],Be;try{for(;(Y===void 0||Y-- >0)&&!(re=Z.next()).done;)ve.push(re.value)}catch(st){Be={error:st}}finally{try{re&&!re.done&&(Q=Z.return)&&Q.call(Z)}finally{if(Be)throw Be.error}}return ve}function n(U,Y,Q){if(Q||arguments.length===2)for(var Z=0,re=Y.length,ve;Z<re;Z++)(ve||!(Z in Y))&&(ve||(ve=Array.prototype.slice.call(Y,0,Z)),ve[Z]=Y[Z]);return U.concat(ve||Array.prototype.slice.call(Y))}typeof SuppressedError=="function"&&SuppressedError;class r extends Error{constructor(Y,Q,Z){super(Y),this.token=Q,this.type=Z||"error"}}let o=U=>U<4?"short":U===4?"long":"narrow",s=U=>U%2===0?"2-digit":"numeric";function c(U,Y){switch(U.char){case"y":return{year:s(U.width)};case"r":return{calendar:"gregory",year:"numeric"};case"u":case"U":case"Y":default:return Y(`${U.desc} is not supported; falling back to year:numeric`,r.WARNING),{year:"numeric"}}}function v(U,Y){switch(U.width){case 1:return"numeric";case 2:return"2-digit";case 3:return"short";case 4:return"long";case 5:return"narrow";default:Y(`${U.desc} is not supported with width ${U.width}`);return}}function b(U,Y){let{char:Q,desc:Z,width:re}=U;if(Q==="d")return s(re);Y(`${Z} is not supported`)}function x(U,Y){let{char:Q,desc:Z,width:re}=U;if((Q==="c"||Q==="e")&&re<3){let ve=`Numeric value is not supported for ${Z}; falling back to weekday:short`;Y(ve,r.WARNING)}return o(re)}function k(U){let Y=s(U.width),Q;switch(U.char){case"h":Q="h12";break;case"H":Q="h23";break;case"k":Q="h24";break;case"K":Q="h11";break}return Q?{hour:Y,hourCycle:Q}:{hour:Y}}function O(U,Y){let{char:Q,desc:Z,width:re}=U;switch(Q){case"v":case"z":return re===4?"long":"short";case"V":if(re===4)return"long";Y(`${Z} is not supported with width ${re}`);return;case"X":Y(`${Z} is not supported`);return}return"short"}function w(U,Y){switch(U.field){case"era":return{era:o(U.width)};case"year":return c(U,Y);case"month":return{month:v(U,Y)};case"day":return{day:b(U,Y)};case"weekday":return{weekday:x(U,Y)};case"period":return;case"hour":return k(U);case"min":return{minute:s(U.width)};case"sec":return{second:s(U.width)};case"tz":return{timeZoneName:O(U,Y)};case"quarter":case"week":case"sec-frac":case"ms":Y(`${U.desc} is not supported`)}}function M(U){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re=>{throw re},Q={},Z=[];for(let re of U){let{error:ve,field:Be,str:st}=re;if(ve){let tn=new r(ve.message,re);tn.stack=ve.stack,Y(tn)}if(st){let tn=`Ignoring string part: ${st}`;Y(new r(tn,re,r.WARNING))}Be&&(Z.indexOf(Be)===-1?Z.push(Be):Y(new r(`Duplicate ${Be} token`,re)));let St=w(re,(tn,bi)=>Y(new r(tn,re,bi)));St&&Object.assign(Q,St)}return Q}let F={G:{field:"era",desc:"Era"},y:{field:"year",desc:"Year"},Y:{field:"year",desc:'Year of "Week of Year"'},u:{field:"year",desc:"Extended year"},U:{field:"year",desc:"Cyclic year name"},r:{field:"year",desc:"Related Gregorian year"},Q:{field:"quarter",desc:"Quarter"},q:{field:"quarter",desc:"Stand-alone quarter"},M:{field:"month",desc:"Month in year"},L:{field:"month",desc:"Stand-alone month in year"},w:{field:"week",desc:"Week of year"},W:{field:"week",desc:"Week of month"},d:{field:"day",desc:"Day in month"},D:{field:"day",desc:"Day of year"},F:{field:"day",desc:"Day of week in month"},g:{field:"day",desc:"Modified julian day"},E:{field:"weekday",desc:"Day of week"},e:{field:"weekday",desc:"Local day of week"},c:{field:"weekday",desc:"Stand-alone local day of week"},a:{field:"period",desc:"AM/PM marker"},b:{field:"period",desc:"AM/PM/noon/midnight marker"},B:{field:"period",desc:"Flexible day period"},h:{field:"hour",desc:"Hour in AM/PM (1~12)"},H:{field:"hour",desc:"Hour in day (0~23)"},k:{field:"hour",desc:"Hour in day (1~24)"},K:{field:"hour",desc:"Hour in AM/PM (0~11)"},j:{field:"hour",desc:"Hour in preferred cycle"},J:{field:"hour",desc:"Hour in preferred cycle without marker"},C:{field:"hour",desc:"Hour in preferred cycle with flexible marker"},m:{field:"min",desc:"Minute in hour"},s:{field:"sec",desc:"Second in minute"},S:{field:"sec-frac",desc:"Fractional second"},A:{field:"ms",desc:"Milliseconds in day"},z:{field:"tz",desc:"Time Zone: specific non-location"},Z:{field:"tz",desc:"Time Zone"},O:{field:"tz",desc:"Time Zone: localized"},v:{field:"tz",desc:"Time Zone: generic non-location"},V:{field:"tz",desc:"Time Zone: ID"},X:{field:"tz",desc:"Time Zone: ISO8601 with Z"},x:{field:"tz",desc:"Time Zone: ISO8601"}},L=U=>U>="A"&&U<="Z"||U>="a"&&U<="z";function V(U,Y){let Q=U[Y],Z=1;for(;U[++Y]===Q;)++Z;let re=F[Q];if(!re){let ve=`The letter ${Q} is not a valid field identifier`;return{char:Q,error:new Error(ve),width:Z}}return{char:Q,field:re.field,desc:re.desc,width:Z}}function B(U,Y){let Q=U[++Y],Z=2;if(Q==="'")return{char:"'",str:Q,width:Z};for(;;){let re=U[++Y];if(++Z,re===void 0){let ve=`Unterminated quoted literal in pattern: ${Q||U}`;return{char:"'",error:new Error(ve),str:Q,width:Z}}else if(re==="'"){if(U[++Y]!=="'")return{char:"'",str:Q,width:Z};++Z}Q+=re}}function q(U,Y){let Q=U[Y];if(!Q)return null;if(L(Q))return V(U,Y);if(Q==="'")return B(U,Y);let Z=Q,re=1;for(;;){let ve=U[++Y];if(!ve||L(ve)||ve==="'")return{char:Q,str:Z,width:re};Z+=ve,re+=1}}function W(U){let Y=[],Q=0;for(;;){let Z=q(U,Q);if(!Z)return Y;Y.push(Z),Q+=Z.width}}function ie(U,Y,Q){typeof Y=="string"&&(Y=W(Y));let Z=M(Y,Q),re=new Intl.DateTimeFormat(U,Z);return ve=>re.format(ve)}function se(U,Y,Q){typeof Y=="string"&&(Y=W(Y));let Z=M(Y,Q);return["(function() {",`var opt = ${JSON.stringify(Z)};`,`var dtf = new Intl.DateTimeFormat(${JSON.stringify(U)}, opt);`,"return function(value) { return dtf.format(value); }"].join(`
  `)+`
})()`}class we extends Error{constructor(Y,Q){super(Q),this.code=Y}}class Me extends we{constructor(Y,Q){super("BAD_OPTION",`Unknown ${Y} option: ${Q}`),this.stem=Y,this.option=Q}}class _e extends we{constructor(Y){super("BAD_STEM",`Unknown stem: ${Y}`),this.stem=Y}}class ke extends we{constructor(Y,Q){super("MASKED_VALUE",`Value for ${Y} is set multiple times`),this.type=Y,this.prev=Q}}class be extends we{constructor(Y){super("MISSING_OPTION",`Required option missing for ${Y}`),this.stem=Y}}class Te extends we{constructor(Y,Q){super("BAD_PATTERN",Q),this.char=Y}}class Ye extends we{constructor(Y,Q,Z){let re=Z>1?`${Z} options`:"one option";super("TOO_MANY_OPTIONS",`Token ${Y} only supports ${re} (got ${Q.length})`),this.stem=Y,this.options=Q}}class pt extends we{constructor(Y,Q){super("UNSUPPORTED",`The stem ${Y} is not supported`),this.stem=Y,Q&&(this.message+=` with value ${Q}`,this.source=Q)}}function $t(U,Y){let{numberingSystem:Q}=Y;return Array.isArray(U)||(U=[U]),Q?U.map(Z=>{let re=Z.indexOf("-u-")===-1?"u-nu":"nu";return`${Z}-${re}-${Q}`}).concat(U):U}function Ke(U,Y){let Q=+U+Y/2;return Q-Q%+Y}function rt(U){let{scale:Y,unit:Q}=U,Z=typeof Y=="number"&&Y>=0?Y:1;return Q&&Q.style==="percent"&&(Z*=.01),Z}function Fe(U){let Y=rt(U),{precision:Q}=U;return Q&&Q.style==="precision-increment"?Z=>Ke(Z,Q.increment)*Y:Z=>Z*Y}function $e(U){let Y=rt(U),{precision:Q}=U;if(Q&&Q.style==="precision-increment"){let Z=`+n + ${Q.increment/2}`,re=`x - (x % +${Q.increment})`;return Y!==1&&(re=`(${re}) * ${Y}`),`function(n) { var x = ${Z}; return ${re}; }`}return Y!==1?`function(n) { return n * ${Y}; }`:null}function ot(U,Y){let{decimal:Q,group:Z,integerWidth:re,notation:ve,precision:Be,roundingMode:st,sign:St,unit:tn,unitPer:bi,unitWidth:Ii}=U,ki=(To,Do)=>{Y&&Y(new pt(To,Do))},xn={};if(tn)switch(tn.style){case"base-unit":xn.style="decimal";break;case"currency":xn.style="currency",xn.currency=tn.currency;break;case"measure-unit":xn.style="unit",xn.unit=tn.unit.replace(/.*-/,""),bi&&(xn.unit+="-per-"+bi.replace(/.*-/,""));break;case"percent":xn.style="percent";break;case"permille":ki("permille");break}switch(Ii){case"unit-width-full-name":xn.currencyDisplay="name",xn.unitDisplay="long";break;case"unit-width-hidden":ki(Ii);break;case"unit-width-iso-code":xn.currencyDisplay="code";break;case"unit-width-narrow":xn.currencyDisplay="narrowSymbol",xn.unitDisplay="narrow";break;case"unit-width-short":xn.currencyDisplay="symbol",xn.unitDisplay="short";break}switch(Z){case"group-off":xn.useGrouping=!1;break;case"group-auto":xn.useGrouping=!0;break;case"group-min2":case"group-on-aligned":case"group-thousands":ki(Z),xn.useGrouping=!0;break}if(Be)switch(Be.style){case"precision-fraction":{let{minFraction:To,maxFraction:Do,minSignificant:pa,maxSignificant:Es,source:Qs}=Be;typeof To=="number"&&(xn.minimumFractionDigits=To,typeof pa=="number"&&ki("precision-fraction",Qs)),typeof Do=="number"&&(xn.maximumFractionDigits=Do),typeof pa=="number"&&(xn.minimumSignificantDigits=pa),typeof Es=="number"&&(xn.maximumSignificantDigits=Es);break}case"precision-integer":xn.maximumFractionDigits=0;break;case"precision-unlimited":xn.maximumFractionDigits=20;break;case"precision-increment":break;case"precision-currency-standard":xn.trailingZeroDisplay=Be.trailingZero;break;case"precision-currency-cash":ki(Be.style);break}if(ve)switch(ve.style){case"compact-short":xn.notation="compact",xn.compactDisplay="short";break;case"compact-long":xn.notation="compact",xn.compactDisplay="long";break;case"notation-simple":xn.notation="standard";break;case"scientific":case"engineering":{let{expDigits:To,expSign:Do,source:pa,style:Es}=ve;xn.notation=Es,(To&&To>1||Do&&Do!=="sign-auto")&&ki(Es,pa);break}}if(re){let{min:To,max:Do,source:pa}=re;if(To>0&&(xn.minimumIntegerDigits=To),Number(Do)>0){let Es=xn.notation==="engineering"||xn.notation==="scientific";Do===3&&Es?xn.notation="engineering":ki("integer-width",pa)}}switch(St){case"sign-auto":xn.signDisplay="auto";break;case"sign-always":xn.signDisplay="always";break;case"sign-except-zero":xn.signDisplay="exceptZero";break;case"sign-never":xn.signDisplay="never";break;case"sign-accounting":xn.currencySign="accounting";break;case"sign-accounting-always":xn.currencySign="accounting",xn.signDisplay="always";break;case"sign-accounting-except-zero":xn.currencySign="accounting",xn.signDisplay="exceptZero";break}return Q==="decimal-always"&&ki(Q),st&&ki(st),xn}function it(U,Y,Q){let Z=U[Y];switch(Z){case"%":return{char:"%",style:"percent",width:1};case"\u2030":return{char:"%",style:"permille",width:1};case"\xA4":{let re=1;for(;U[++Y]==="\xA4";)++re;switch(re){case 1:return{char:Z,currency:"default",width:re};case 2:return{char:Z,currency:"iso-code",width:re};case 3:return{char:Z,currency:"full-name",width:re};case 5:return{char:Z,currency:"narrow",width:re};default:{let ve=`Invalid number (${re}) of \xA4 chars in pattern`;return Q(new Te("\xA4",ve)),null}}}case"*":{let re=U[Y+1];if(re)return{char:Z,pad:re,width:2};break}case"+":case"-":return{char:Z,width:1};case"'":{let re=U[++Y],ve=2;if(re==="'")return{char:Z,str:re,width:ve};for(;;){let Be=U[++Y];if(++ve,Be===void 0){let st=`Unterminated quoted literal in pattern: ${re}`;return Q(new Te("'",st)),{char:Z,str:re,width:ve}}else if(Be==="'"){if(U[++Y]!=="'")return{char:Z,str:re,width:ve};++ve}re+=Be}}}return null}let mt=U=>U>="0"&&U<="9";function ln(U,Y){let Q=U[Y];if(mt(Q)){let Z=Q;for(;;){let re=U[++Y];if(mt(re))Z+=re;else return{char:"0",digits:Z,width:Z.length}}}switch(Q){case"#":{let Z=1;for(;U[++Y]==="#";)++Z;return{char:Q,width:Z}}case"@":{let Z=1;for(;U[++Y]==="@";)++Z;let re=Z;for(Y-=1;U[++Y]==="#";)++re;return{char:Q,min:Z,width:re}}case"E":{let Z=U[Y+1]==="+";Z&&++Y;let re=0;for(;U[++Y]==="0";)++re;let ve=(Z?2:1)+re;if(re)return{char:Q,expDigits:re,plus:Z,width:ve};break}case".":case",":return{char:Q,width:1}}return null}function Ge(U,Y,Q){let Z;(function(tn){tn[tn.Prefix=0]="Prefix",tn[tn.Number=1]="Number",tn[tn.Suffix=2]="Suffix"})(Z||(Z={}));let re=[],ve=[],Be=[],st=Z.Prefix,St="";for(;Y<U.length;){let tn=U[Y];if(tn===";"){Y+=1;break}switch(st){case Z.Prefix:{let bi=it(U,Y,Q);if(bi)St&&(re.push({char:"'",str:St,width:St.length}),St=""),re.push(bi),Y+=bi.width;else{let Ii=ln(U,Y);Ii?(St&&(re.push({char:"'",str:St,width:St.length}),St=""),st=Z.Number,ve.push(Ii),Y+=Ii.width):(St+=tn,Y+=1)}break}case Z.Number:{let bi=ln(U,Y);bi?(ve.push(bi),Y+=bi.width):st=Z.Suffix;break}case Z.Suffix:{let bi=it(U,Y,Q);bi?(St&&(Be.push({char:"'",str:St,width:St.length}),St=""),Be.push(bi),Y+=bi.width):(St+=tn,Y+=1);break}}}return St&&Be.push({char:"'",str:St,width:St.length}),{pattern:{prefix:re,number:ve,suffix:Be},pos:Y}}function It(U,Y){let{pattern:Q,pos:Z}=Ge(U,0,Y);if(Z<U.length){let{pattern:re}=Ge(U,Z,Y);return{tokens:Q,negative:re}}return{tokens:Q}}function Nt(U,Y){let Q={},Z=!1,re=!1,ve=0,Be="",st=-1,St="",tn=0;for(let Ii=0;Ii<U.length;++Ii){let ki=U[Ii];switch(ki.char){case"#":{if(st===-1){if(Be){let xn="Pattern has # after integer digits";Y(new Te("#",xn))}ve+=ki.width}else tn+=ki.width;break}case"0":{if(st===-1)Be+=ki.digits;else{if(tn){let xn="Pattern has digits after # in fraction";Y(new Te("0",xn))}St+=ki.digits}break}case"@":{Q.precision&&Y(new ke("precision",Q.precision)),Q.precision={style:"precision-fraction",minSignificant:ki.min,maxSignificant:ki.width};break}case",":Z=!0;break;case".":if(st===1){let xn="Pattern has more than one decimal separator";Y(new Te(".",xn))}st=Ii;break;case"E":{if(re&&Y(new ke("exponent",Q.notation)),Z){let xn="Exponential patterns may not contain grouping separators";Y(new Te("E",xn))}Q.notation={style:"scientific"},ki.expDigits>1&&(Q.notation.expDigits=ki.expDigits),ki.plus&&(Q.notation.expSign="sign-always"),re=!0}}}Z?Q.group="group-auto":ve+Be.length>3&&(Q.group="group-off");let bi=+`${Be||"0"}.${St}`;if(bi&&(Q.precision={style:"precision-increment",increment:bi}),!re)Be.length>1&&(Q.integerWidth={min:Be.length}),!Q.precision&&(St.length||tn)&&(Q.precision={style:"precision-fraction",minFraction:St.length,maxFraction:St.length+tn});else if((!Q.precision||bi)&&(Q.integerWidth=ve?{min:1,max:ve+Be.length}:{min:Math.max(1,Be.length)}),Q.precision)bi||(Q.integerWidth={min:1,max:1});else{let Ii=Be.length+St.length;st===-1?Ii>0&&(Q.precision={style:"precision-fraction",maxSignificant:Ii}):(Q.precision={style:"precision-fraction",maxSignificant:Math.max(1,Ii)+tn},Ii>1&&(Q.precision.minSignificant=Ii))}return Q}function Hn(U,Y,Q,Z,re){let ve=!1,Be="";for(let st of U)switch(st.char){case"%":Y.unit={style:st.style},re?ve=!0:Be="";break;case"\xA4":if(!Q){let St="The \xA4 pattern requires a currency";Z(new Te("\xA4",St));break}switch(Y.unit={style:"currency",currency:Q},st.currency){case"iso-code":Y.unitWidth="unit-width-iso-code";break;case"full-name":Y.unitWidth="unit-width-full-name";break;case"narrow":Y.unitWidth="unit-width-narrow";break}re?ve=!0:Be="";break;case"*":break;case"+":ve||(Be+="+");break;case"'":ve||(Be+=st.str);break}return Be}function Lr(U,Y){let Q=!1,Z="";for(let re of U)switch(re.char){case"%":case"\xA4":Y?Q=!0:Z="";break;case"-":Q||(Z+="-");break;case"'":Q||(Z+=re.str);break}return Z}function Co(U,Y){let Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:St=>{throw St},{tokens:Z,negative:re}=It(U,Q),ve=Nt(Z.number,Q),Be=Hn(Z.prefix,ve,Y,Q,!0),st=Hn(Z.suffix,ve,Y,Q,!1);if(re){let St=Lr(re.prefix,!0),tn=Lr(re.suffix,!1);ve.affix={pos:[Be,st],neg:[St,tn]},ve.sign="sign-never"}else(Be||st)&&(ve.affix={pos:[Be,st]});return ve}function js(U){return["arab","arabext","bali","beng","deva","fullwide","gujr","guru","hanidec","khmr","knda","laoo","latn","limb","mlym","mong","mymr","orya","tamldec","telu","thai","tibt"].indexOf(U)!==-1}function ca(U){let Y=["acceleration","angle","area","concentr","consumption","digital","duration","electric","energy","force","frequency","graphics","length","light","mass","power","pressure","speed","temperature","torque","volume"],[Q]=U.split("-",1);return Y.indexOf(Q)!==-1}let Da={"compact-short":0,"compact-long":0,"notation-simple":0,scientific:2,engineering:2,percent:0,permille:0,"base-unit":0,currency:1,"measure-unit":1,"per-measure-unit":1,"unit-width-narrow":0,"unit-width-short":0,"unit-width-full-name":0,"unit-width-iso-code":0,"unit-width-hidden":0,"precision-integer":0,"precision-unlimited":0,"precision-currency-standard":1,"precision-currency-cash":0,"precision-increment":1,"rounding-mode-ceiling":0,"rounding-mode-floor":0,"rounding-mode-down":0,"rounding-mode-up":0,"rounding-mode-half-even":0,"rounding-mode-half-down":0,"rounding-mode-half-up":0,"rounding-mode-unnecessary":0,"integer-width":1,scale:1,"group-off":0,"group-min2":0,"group-auto":0,"group-on-aligned":0,"group-thousands":0,latin:0,"numbering-system":1,"sign-auto":0,"sign-always":0,"sign-never":0,"sign-accounting":0,"sign-accounting-always":0,"sign-except-zero":0,"sign-accounting-except-zero":0,"decimal-auto":0,"decimal-always":0},ju={currency:1,"integer-width":1,"measure-unit":1,"numbering-system":1,"per-measure-unit":1,"precision-increment":1,scale:1};function Kp(U){return U in Da}function qp(U){return U in ju}function Jl(U,Y,Q){if(Kp(U)){let Z=Da[U];if(Y.length>Z){if(Z===0)for(let re of Y)Q(new Me(U,re));else Q(new Ye(U,Y,Z));return!1}else if(qp(U)&&Y.length<ju[U])return Q(new be(U)),!1}return!0}function Gu(U,Y){let Q=Y==="fraction"?/^\.(0*)(\+|#*)$/:/^(@+)(\+|#*)$/,Z=U&&U.match(Q);if(Z){let re=Z[1].length;switch(Z[2].charAt(0)){case"":return{min:re,max:re};case"+":return{min:re,max:null};case"#":return{min:re,max:re+Z[2].length}}}return null}function ad(U,Y,Q){let Z=Gu(U,"fraction");if(Z){Y.length>1&&Q(new Ye(U,Y,1));let ve={style:"precision-fraction",source:U,minFraction:Z.min};Z.max!=null&&(ve.maxFraction=Z.max);let Be=Y[0],st=Gu(Be,"significant");return st?(ve.source=`${U}/${Be}`,ve.minSignificant=st.min,st.max!=null&&(ve.maxSignificant=st.max)):Be&&Q(new Me(U,Be)),ve}let re=Gu(U,"significant");if(re){for(let Be of Y)Q(new Me(U,Be));let ve={style:"precision-fraction",source:U,minSignificant:re.min};return re.max!=null&&(ve.maxSignificant=re.max),ve}return null}class Gs{constructor(Y){this.skeleton={},this.onError=Y}badOption(Y,Q){this.onError(new Me(Y,Q))}assertEmpty(Y){let Q=this.skeleton[Y];Q&&this.onError(new ke(Y,Q))}parseToken(Y,Q){if(!Jl(Y,Q,this.onError))return;let Z=Q[0],re=this.skeleton;switch(Y){case"compact-short":case"compact-long":case"notation-simple":this.assertEmpty("notation"),re.notation={style:Y};break;case"scientific":case"engineering":{let ve=null,Be;for(let St of Q)switch(St){case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":Be=St;break;default:/^\+e+$/.test(St)?ve=St.length-1:this.badOption(Y,St)}this.assertEmpty("notation");let st=Q.join("/");re.notation=ve&&Be?{style:Y,source:st,expDigits:ve,expSign:Be}:ve?{style:Y,source:st,expDigits:ve}:Be?{style:Y,source:st,expSign:Be}:{style:Y,source:st};break}case"percent":case"permille":case"base-unit":this.assertEmpty("unit"),re.unit={style:Y};break;case"currency":/^[A-Z]{3}$/.test(Z)?(this.assertEmpty("unit"),re.unit={style:Y,currency:Z}):this.badOption(Y,Z);break;case"measure-unit":{ca(Z)?(this.assertEmpty("unit"),re.unit={style:Y,unit:Z}):this.badOption(Y,Z);break}case"per-measure-unit":{ca(Z)?(this.assertEmpty("unitPer"),re.unitPer=Z):this.badOption(Y,Z);break}case"unit-width-narrow":case"unit-width-short":case"unit-width-full-name":case"unit-width-iso-code":case"unit-width-hidden":this.assertEmpty("unitWidth"),re.unitWidth=Y;break;case"precision-integer":case"precision-unlimited":case"precision-currency-cash":this.assertEmpty("precision"),re.precision={style:Y};break;case"precision-currency-standard":this.assertEmpty("precision"),Z==="w"?re.precision={style:Y,trailingZero:"stripIfInteger"}:re.precision={style:Y};break;case"precision-increment":{let ve=Number(Z);ve>0?(this.assertEmpty("precision"),re.precision={style:Y,increment:ve}):this.badOption(Y,Z);break}case"rounding-mode-ceiling":case"rounding-mode-floor":case"rounding-mode-down":case"rounding-mode-up":case"rounding-mode-half-even":case"rounding-mode-half-odd":case"rounding-mode-half-ceiling":case"rounding-mode-half-floor":case"rounding-mode-half-down":case"rounding-mode-half-up":case"rounding-mode-unnecessary":this.assertEmpty("roundingMode"),re.roundingMode=Y;break;case"integer-width":{if(/^\+0*$/.test(Z))this.assertEmpty("integerWidth"),re.integerWidth={source:Z,min:Z.length-1};else{let ve=Z.match(/^#*(0*)$/);ve?(this.assertEmpty("integerWidth"),re.integerWidth={source:Z,min:ve[1].length,max:ve[0].length}):this.badOption(Y,Z)}break}case"scale":{let ve=Number(Z);ve>0?(this.assertEmpty("scale"),re.scale=ve):this.badOption(Y,Z);break}case"group-off":case"group-min2":case"group-auto":case"group-on-aligned":case"group-thousands":this.assertEmpty("group"),re.group=Y;break;case"latin":this.assertEmpty("numberingSystem"),re.numberingSystem="latn";break;case"numbering-system":{js(Z)?(this.assertEmpty("numberingSystem"),re.numberingSystem=Z):this.badOption(Y,Z);break}case"sign-auto":case"sign-always":case"sign-never":case"sign-accounting":case"sign-accounting-always":case"sign-except-zero":case"sign-accounting-except-zero":this.assertEmpty("sign"),re.sign=Y;break;case"decimal-auto":case"decimal-always":this.assertEmpty("decimal"),re.decimal=Y;break;default:{let ve=ad(Y,Q,this.onError);ve?(this.assertEmpty("precision"),re.precision=ve):this.onError(new _e(Y))}}}}function Oa(U){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:re=>{throw re},Q=[];for(let re of U.split(" "))if(re){let ve=re.split("/"),Be=ve.shift()||"";Q.push({stem:Be,options:ve})}let Z=new Gs(Y);for(let{stem:re,options:ve}of Q)Z.parseToken(re,ve);return Z.skeleton}function sd(U,Y,Q,Z){typeof Y=="string"&&(Y=Y.indexOf("::")===0?Oa(Y.slice(2),Z):Co(Y,Q,Z));let re=$t(U,Y),ve=ot(Y,Z),Be=Fe(Y),st=new Intl.NumberFormat(re,ve);if(Y.affix){let[St,tn]=Y.affix.pos,[bi,Ii]=Y.affix.neg||["",""];return ki=>{let xn=st.format(Be(ki));return ki<0?`${bi}${xn}${Ii}`:`${St}${xn}${tn}`}}return St=>st.format(Be(St))}function ru(U,Y,Q,Z){typeof Y=="string"&&(Y=Y.indexOf("::")===0?Oa(Y.slice(2),Z):Co(Y,Q,Z));let re=$t(U,Y),ve=ot(Y,Z),Be=$e(Y),st=["(function() {",`var opt = ${JSON.stringify(ve)};`,`var nf = new Intl.NumberFormat(${JSON.stringify(re)}, opt);`],St="nf.format(value)";if(Be&&(st.push(`var mod = ${Be};`),St="nf.format(mod(value))"),Y.affix){let[tn,bi]=Y.affix.pos.map(Ii=>JSON.stringify(Ii));if(Y.affix.neg){let[Ii,ki]=Y.affix.neg.map(xn=>JSON.stringify(xn));St=`value < 0 ? ${Ii} + ${St} + ${ki} : ${tn} + ${St} + ${bi}`}else St=`${tn} + ${St} + ${bi}`}return st.push(`return function(value) { return ${St}; }`),st.join(`
  `)+`
})()`}var Ym=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xl(U){return U&&U.__esModule&&Object.prototype.hasOwnProperty.call(U,"default")?U.default:U}var Pc={},L0={},bh={exports:{}};(function(U){(function(Y,Q){U.exports?U.exports=Q():Y.moo=Q()})(Ym,function(){var Y=Object.prototype.hasOwnProperty,Q=Object.prototype.toString,Z=typeof new RegExp().sticky=="boolean";function re(Pt){return Pt&&Q.call(Pt)==="[object RegExp]"}function ve(Pt){return Pt&&typeof Pt=="object"&&!re(Pt)&&!Array.isArray(Pt)}function Be(Pt){return Pt.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function st(Pt){var yn=new RegExp("|"+Pt);return yn.exec("").length-1}function St(Pt){return"("+Pt+")"}function tn(Pt){if(!Pt.length)return"(?!)";var yn=Pt.map(function(Zn){return"(?:"+Zn+")"}).join("|");return"(?:"+yn+")"}function bi(Pt){if(typeof Pt=="string")return"(?:"+Be(Pt)+")";if(re(Pt)){if(Pt.ignoreCase)throw new Error("RegExp /i flag not allowed");if(Pt.global)throw new Error("RegExp /g flag is implied");if(Pt.sticky)throw new Error("RegExp /y flag is implied");if(Pt.multiline)throw new Error("RegExp /m flag is implied");return Pt.source}else throw new Error("Not a pattern: "+Pt)}function Ii(Pt,yn){return Pt.length>yn?Pt:Array(yn-Pt.length+1).join(" ")+Pt}function ki(Pt,yn){for(var Zn=Pt.length,Li=0;;){var _r=Pt.lastIndexOf(`
`,Zn-1);if(_r===-1||(Li++,Zn=_r,Li===yn)||Zn===0)break}var Yi=Li<yn?0:Zn+1;return Pt.substring(Yi).split(`
`)}function xn(Pt){for(var yn=Object.getOwnPropertyNames(Pt),Zn=[],Li=0;Li<yn.length;Li++){var _r=yn[Li],Yi=Pt[_r],$r=[].concat(Yi);if(_r==="include"){for(var zo=0;zo<$r.length;zo++)Zn.push({include:$r[zo]});continue}var so=[];$r.forEach(function(ur){ve(ur)?(so.length&&Zn.push(Do(_r,so)),Zn.push(Do(_r,ur)),so=[]):so.push(ur)}),so.length&&Zn.push(Do(_r,so))}return Zn}function To(Pt){for(var yn=[],Zn=0;Zn<Pt.length;Zn++){var Li=Pt[Zn];if(Li.include){for(var _r=[].concat(Li.include),Yi=0;Yi<_r.length;Yi++)yn.push({include:_r[Yi]});continue}if(!Li.type)throw new Error("Rule has no type: "+JSON.stringify(Li));yn.push(Do(Li.type,Li))}return yn}function Do(Pt,yn){if(ve(yn)||(yn={match:yn}),yn.include)throw new Error("Matching rules cannot also include states");var Zn={defaultType:Pt,lineBreaks:!!yn.error||!!yn.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Li in yn)Y.call(yn,Li)&&(Zn[Li]=yn[Li]);if(typeof Zn.type=="string"&&Pt!==Zn.type)throw new Error("Type transform cannot be a string (type '"+Zn.type+"' for token '"+Pt+"')");var _r=Zn.match;return Zn.match=Array.isArray(_r)?_r:_r?[_r]:[],Zn.match.sort(function(Yi,$r){return re(Yi)&&re($r)?0:re($r)?-1:re(Yi)?1:$r.length-Yi.length}),Zn}function pa(Pt){return Array.isArray(Pt)?To(Pt):xn(Pt)}var Es=Do("error",{lineBreaks:!0,shouldThrow:!0});function Qs(Pt,yn){for(var Zn=null,Li=Object.create(null),_r=!0,Yi=null,$r=[],zo=[],so=0;so<Pt.length;so++)Pt[so].fallback&&(_r=!1);for(var so=0;so<Pt.length;so++){var ur=Pt[so];if(ur.include)throw new Error("Inheritance is not allowed in stateless lexers");if(ur.error||ur.fallback){if(Zn)throw!ur.fallback==!Zn.fallback?new Error("Multiple "+(ur.fallback?"fallback":"error")+" rules not allowed (for token '"+ur.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+ur.defaultType+"')");Zn=ur}var Qa=ur.match.slice();if(_r)for(;Qa.length&&typeof Qa[0]=="string"&&Qa[0].length===1;){var vu=Qa.shift();Li[vu.charCodeAt(0)]=ur}if(ur.pop||ur.push||ur.next){if(!yn)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+ur.defaultType+"')");if(ur.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+ur.defaultType+"')")}if(Qa.length!==0){_r=!1,$r.push(ur);for(var vm=0;vm<Qa.length;vm++){var dp=Qa[vm];if(re(dp)){if(Yi===null)Yi=dp.unicode;else if(Yi!==dp.unicode&&ur.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Ng=tn(Qa.map(bi)),Sd=new RegExp(Ng);if(Sd.test(""))throw new Error("RegExp matches empty string: "+Sd);var Rg=st(Ng);if(Rg>0)throw new Error("RegExp has capture groups: "+Sd+`
Use (?: \u2026 ) instead`);if(!ur.lineBreaks&&Sd.test(`
`))throw new Error("Rule should declare lineBreaks: "+Sd);zo.push(St(Ng))}}var Kh=Zn&&Zn.fallback,Pf=Z&&!Kh?"ym":"gm",nC=Z||Kh?"":"|";Yi===!0&&(Pf+="u");var ok=new RegExp(tn(zo)+nC,Pf);return{regexp:ok,groups:$r,fast:Li,error:Zn||Es}}function cp(Pt){var yn=Qs(pa(Pt));return new Oo({start:yn},"start")}function gu(Pt,yn,Zn){var Li=Pt&&(Pt.push||Pt.next);if(Li&&!Zn[Li])throw new Error("Missing state '"+Li+"' (in token '"+Pt.defaultType+"' of state '"+yn+"')");if(Pt&&Pt.pop&&+Pt.pop!=1)throw new Error("pop must be 1 (in token '"+Pt.defaultType+"' of state '"+yn+"')")}function Gc(Pt,yn){var Zn=Pt.$all?pa(Pt.$all):[];delete Pt.$all;var Li=Object.getOwnPropertyNames(Pt);yn||(yn=Li[0]);for(var _r=Object.create(null),Yi=0;Yi<Li.length;Yi++){var $r=Li[Yi];_r[$r]=pa(Pt[$r]).concat(Zn)}for(var Yi=0;Yi<Li.length;Yi++)for(var $r=Li[Yi],zo=_r[$r],so=Object.create(null),ur=0;ur<zo.length;ur++){var Qa=zo[ur];if(Qa.include){var vu=[ur,1];if(Qa.include!==$r&&!so[Qa.include]){so[Qa.include]=!0;var vm=_r[Qa.include];if(!vm)throw new Error("Cannot include nonexistent state '"+Qa.include+"' (in state '"+$r+"')");for(var dp=0;dp<vm.length;dp++){var Ng=vm[dp];zo.indexOf(Ng)===-1&&vu.push(Ng)}}zo.splice.apply(zo,vu),ur--}}for(var Sd=Object.create(null),Yi=0;Yi<Li.length;Yi++){var $r=Li[Yi];Sd[$r]=Qs(_r[$r],!0)}for(var Yi=0;Yi<Li.length;Yi++){for(var Rg=Li[Yi],Kh=Sd[Rg],Pf=Kh.groups,ur=0;ur<Pf.length;ur++)gu(Pf[ur],Rg,Sd);for(var nC=Object.getOwnPropertyNames(Kh.fast),ur=0;ur<nC.length;ur++)gu(Kh.fast[nC[ur]],Rg,Sd)}return new Oo(Sd,yn)}function Ts(Pt){for(var yn=typeof Map<"u",Zn=yn?new Map:Object.create(null),Li=Object.getOwnPropertyNames(Pt),_r=0;_r<Li.length;_r++){var Yi=Li[_r],$r=Pt[Yi],zo=Array.isArray($r)?$r:[$r];zo.forEach(function(so){if(typeof so!="string")throw new Error("keyword must be string (in keyword '"+Yi+"')");yn?Zn.set(so,Yi):Zn[so]=Yi})}return function(so){return yn?Zn.get(so):Zn[so]}}var Oo=function(Pt,yn){this.startState=yn,this.states=Pt,this.buffer="",this.stack=[],this.reset()};Oo.prototype.reset=function(Pt,yn){return this.buffer=Pt||"",this.index=0,this.line=yn?yn.line:1,this.col=yn?yn.col:1,this.queuedToken=yn?yn.queuedToken:null,this.queuedText=yn?yn.queuedText:"",this.queuedThrow=yn?yn.queuedThrow:null,this.setState(yn?yn.state:this.startState),this.stack=yn&&yn.stack?yn.stack.slice():[],this},Oo.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},Oo.prototype.setState=function(Pt){if(!(!Pt||this.state===Pt)){this.state=Pt;var yn=this.states[Pt];this.groups=yn.groups,this.error=yn.error,this.re=yn.regexp,this.fast=yn.fast}},Oo.prototype.popState=function(){this.setState(this.stack.pop())},Oo.prototype.pushState=function(Pt){this.stack.push(this.state),this.setState(Pt)};var tC=Z?function(Pt,yn){return Pt.exec(yn)}:function(Pt,yn){var Zn=Pt.exec(yn);return Zn[0].length===0?null:Zn};Oo.prototype._getGroup=function(Pt){for(var yn=this.groups.length,Zn=0;Zn<yn;Zn++)if(Pt[Zn+1]!==void 0)return this.groups[Zn];throw new Error("Cannot find token type for matched text")};function nE(){return this.value}if(Oo.prototype.next=function(){var Pt=this.index;if(this.queuedGroup){var yn=this._token(this.queuedGroup,this.queuedText,Pt);return this.queuedGroup=null,this.queuedText="",yn}var Zn=this.buffer;if(Pt!==Zn.length){var $r=this.fast[Zn.charCodeAt(Pt)];if($r)return this._token($r,Zn.charAt(Pt),Pt);var Li=this.re;Li.lastIndex=Pt;var _r=tC(Li,Zn),Yi=this.error;if(_r==null)return this._token(Yi,Zn.slice(Pt,Zn.length),Pt);var $r=this._getGroup(_r),zo=_r[0];return Yi.fallback&&_r.index!==Pt?(this.queuedGroup=$r,this.queuedText=zo,this._token(Yi,Zn.slice(Pt,_r.index),Pt)):this._token($r,zo,Pt)}},Oo.prototype._token=function(Pt,yn,Zn){var Li=0;if(Pt.lineBreaks){var _r=/\n/g,Yi=1;if(yn===`
`)Li=1;else for(;_r.exec(yn);)Li++,Yi=_r.lastIndex}var $r={type:typeof Pt.type=="function"&&Pt.type(yn)||Pt.defaultType,value:typeof Pt.value=="function"?Pt.value(yn):yn,text:yn,toString:nE,offset:Zn,lineBreaks:Li,line:this.line,col:this.col},zo=yn.length;if(this.index+=zo,this.line+=Li,Li!==0?this.col=zo-Yi+1:this.col+=zo,Pt.shouldThrow){var so=new Error(this.formatError($r,"invalid syntax"));throw so}return Pt.pop?this.popState():Pt.push?this.pushState(Pt.push):Pt.next&&this.setState(Pt.next),$r},typeof Symbol<"u"&&Symbol.iterator){var gm=function(Pt){this.lexer=Pt};gm.prototype.next=function(){var Pt=this.lexer.next();return{value:Pt,done:!Pt}},gm.prototype[Symbol.iterator]=function(){return this},Oo.prototype[Symbol.iterator]=function(){return new gm(this)}}return Oo.prototype.formatError=function(Pt,yn){if(Pt==null)var Zn=this.buffer.slice(this.index),Pt={text:Zn,offset:this.index,lineBreaks:Zn.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var Li=2,_r=Math.max(Pt.line-Li,1),Yi=Pt.line+Li,$r=String(Yi).length,zo=ki(this.buffer,this.line-Pt.line+Li+1).slice(0,5),so=[];so.push(yn+" at line "+Pt.line+" col "+Pt.col+":"),so.push("");for(var ur=0;ur<zo.length;ur++){var Qa=zo[ur],vu=_r+ur;so.push(Ii(String(vu),$r)+"  "+Qa),vu===Pt.line&&so.push(Ii("",$r+Pt.col+1)+"^")}return so.join(`
`)},Oo.prototype.clone=function(){return new Oo(this.states,this.state)},Oo.prototype.has=function(Pt){return!0},{compile:cp,states:Gc,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:Ts}})})(bh);var Wp=bh.exports;(function(U){var Y=Ym&&Ym.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(U,"__esModule",{value:!0}),U.lexer=U.states=void 0;let Q=Y(Wp);U.states={body:{doubleapos:{match:"''",value:()=>"'"},quoted:{lineBreaks:!0,match:/'[{}#](?:[^]*?[^'])?'(?!')/u,value:Z=>Z.slice(1,-1).replace(/''/g,"'")},argument:{lineBreaks:!0,match:/\{\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,push:"arg",value:Z=>Z.substring(1).trim()},octothorpe:"#",end:{match:"}",pop:1},content:{lineBreaks:!0,match:/[^][^{}#']*/u}},arg:{select:{lineBreaks:!0,match:/,\s*(?:plural|select|selectordinal)\s*,\s*/u,next:"select",value:Z=>Z.split(",")[1].trim()},"func-args":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*,/u,next:"body",value:Z=>Z.split(",")[1].trim()},"func-simple":{lineBreaks:!0,match:/,\s*[^\p{Pat_Syn}\p{Pat_WS}]+\s*/u,value:Z=>Z.substring(1).trim()},end:{match:"}",pop:1}},select:{offset:{lineBreaks:!0,match:/\s*offset\s*:\s*\d+\s*/u,value:Z=>Z.split(":")[1].trim()},case:{lineBreaks:!0,match:/\s*(?:=\d+|[^\p{Pat_Syn}\p{Pat_WS}]+)\s*\{/u,push:"body",value:Z=>Z.substring(0,Z.indexOf("{")).trim()},end:{match:/\s*\}/u,pop:1}}},U.lexer=Q.default.states(U.states)})(L0),Object.defineProperty(Pc,"__esModule",{value:!0});var Ks=Pc.parse=Pc.ParseError=void 0;let ul=L0,ou=U=>({offset:U.offset,line:U.line,col:U.col,text:U.text,lineBreaks:U.lineBreaks}),Ku=U=>U==="plural"||U==="select"||U==="selectordinal";function zp(U,Y){let Q="",Z="";for(let ve of Y){let Be=ve.ctx.text;switch(Z+=Be,ve.type){case"content":Q+=ve.value;break;case"argument":case"function":case"octothorpe":Q+=Be;break;default:throw new ia(U,`Unsupported part in strict mode function arg style: ${Be}`)}}return[{type:"content",value:Q.trim(),ctx:Object.assign({},Y[0].ctx,{text:Z})}]}let B0=["number","date","time","spellout","ordinal","duration"],qu=["zero","one","two","few","many","other"];class ia extends Error{constructor(Y,Q){super(ul.lexer.formatError(Y,Q))}}Pc.ParseError=ia;class Jm{constructor(Y,Q){var Z,re,ve,Be;this.lexer=ul.lexer.reset(Y),this.cardinalKeys=(Z=Q?.cardinal)!==null&&Z!==void 0?Z:qu,this.ordinalKeys=(re=Q?.ordinal)!==null&&re!==void 0?re:qu,this.strict=(ve=Q?.strict)!==null&&ve!==void 0?ve:!1,this.strictPluralKeys=(Be=Q?.strictPluralKeys)!==null&&Be!==void 0?Be:!0}parse(){return this.parseBody(!1,!0)}checkSelectKey(Y,Q,Z){if(Z[0]==="="){if(Q==="select")throw new ia(Y,`The case ${Z} is not valid with select`)}else if(Q!=="select"){let re=Q==="plural"?this.cardinalKeys:this.ordinalKeys;if(this.strictPluralKeys&&re.length>0&&!re.includes(Z)){let ve=`The ${Q} case ${Z} is not valid in this locale`;throw new ia(Y,ve)}}}parseSelect(Y,Q,Z,re){let{value:ve}=Y,Be={type:re,arg:ve,cases:[],ctx:Z};re==="plural"||re==="selectordinal"?Q=!0:this.strict&&(Q=!1);for(let st of this.lexer)switch(st.type){case"offset":if(re==="select")throw new ia(st,"Unexpected plural offset for select");if(Be.cases.length>0)throw new ia(st,"Plural offset must be set before cases");Be.pluralOffset=Number(st.value),Z.text+=st.text,Z.lineBreaks+=st.lineBreaks;break;case"case":{this.checkSelectKey(st,re,st.value),Be.cases.push({key:st.value,tokens:this.parseBody(Q),ctx:ou(st)});break}case"end":return Be;default:throw new ia(st,`Unexpected lexer token: ${st.type}`)}throw new ia(null,"Unexpected message end")}parseArgToken(Y,Q){let Z=ou(Y),re=this.lexer.next();if(!re)throw new ia(null,"Unexpected message end");if(Z.text+=re.text,Z.lineBreaks+=re.lineBreaks,this.strict&&(re.type==="func-simple"||re.type==="func-args")&&!B0.includes(re.value)){let ve=`Invalid strict mode function arg type: ${re.value}`;throw new ia(Y,ve)}switch(re.type){case"end":return{type:"argument",arg:Y.value,ctx:Z};case"func-simple":{let ve=this.lexer.next();if(!ve)throw new ia(null,"Unexpected message end");if(ve.type!=="end")throw new ia(ve,`Unexpected lexer token: ${ve.type}`);if(Z.text+=ve.text,Ku(re.value.toLowerCase()))throw new ia(re,`Invalid type identifier: ${re.value}`);return{type:"function",arg:Y.value,key:re.value,ctx:Z}}case"func-args":{if(Ku(re.value.toLowerCase())){let Be=`Invalid type identifier: ${re.value}`;throw new ia(re,Be)}let ve=this.parseBody(this.strict?!1:Q);return this.strict&&ve.length>0&&(ve=zp(Y,ve)),{type:"function",arg:Y.value,key:re.value,param:ve,ctx:Z}}case"select":if(Ku(re.value))return this.parseSelect(Y,Q,Z,re.value);throw new ia(re,`Unexpected select type ${re.value}`);default:throw new ia(re,`Unexpected lexer token: ${re.type}`)}}parseBody(Y,Q){let Z=[],re=null;for(let ve of this.lexer)if(ve.type==="argument")re&&(re=null),Z.push(this.parseArgToken(ve,Y));else if(ve.type==="octothorpe"&&Y)re&&(re=null),Z.push({type:"octothorpe",ctx:ou(ve)});else{if(ve.type==="end"&&!Q)return Z;{let Be=ve.value;if(!Y&&ve.type==="quoted"&&Be[0]==="#"){if(Be.includes("{")){let st=`Unsupported escape pattern: ${Be}`;throw new ia(ve,st)}Be=ve.text}re?(re.value+=Be,re.ctx.text+=ve.text,re.ctx.lineBreaks+=ve.lineBreaks):(re={type:"content",value:Be,ctx:ou(ve)},Z.push(re))}}if(Q)return Z;throw new ia(null,"Unexpected message end")}}function Xm(U){let Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Jm(U,Y).parse()}Ks=Pc.parse=Xm;function ld(U){return ld[U]||(ld[U]=new Intl.NumberFormat(U))}function kc(U,Y,Q){return ld(U).format(Y-Q)}function U0(U,Y,Q,Z){var re=Y-Q;if(isNaN(re))throw new Error("`"+Z+"` or its offset is not a number");return ld(U).format(re)}function cd(U,Y,Q,Z,re){if({}.hasOwnProperty.call(Z,U))return Z[U];Y&&(U-=Y);var ve=Q(U,re);return ve in Z?Z[ve]:Z.other}function Ih(U,Y){return{}.hasOwnProperty.call(Y,U)?Y[U]:Y.other}function Qm(U,Y){for(var Q=0;Q<U.length;++Q)if(!Y||Y[U[Q]]===void 0)throw new Error("Message requires argument '".concat(U[Q],"'"))}var $0=Object.freeze({__proto__:null,_nf:ld,number:kc,plural:cd,reqArgs:Qm,select:Ih,strictNumber:U0});function H0(U,Y,Q){var Z={day:"numeric",month:"short",year:"numeric"};switch(Q){case"full":Z.weekday="long";case"long":Z.month="long";break;case"short":Z.month="numeric"}return new Date(U).toLocaleDateString(Y,Z)}function Sh(U){if(typeof U!="number"&&(U=Number(U)),!isFinite(U))return String(U);var Y="";U<0?(Y="-",U=Math.abs(U)):U=Number(U);var Q=U%60,Z=[Math.round(Q)===Q?Q:Q.toFixed(3)];U<60?Z.unshift(0):(U=Math.round((U-Number(Z[0]))/60),Z.unshift(U%60),U>=60&&(U=Math.round((U-Number(Z[0]))/60),Z.unshift(U)));var re=Z.shift();return Y+re+":"+Z.map(function(ve){return Number(ve)<10?"0"+String(ve):String(ve)}).join(":")}var Zm={};function Yp(U,Y){var Q=String(U)+JSON.stringify(Y);return Zm[Q]||(Zm[Q]=new Intl.NumberFormat(U,Y)),Zm[Q]}function rs(U,Y,Q,Z){var re=Q&&Q.split(":")||[],ve=re[0],Be=re[1],st={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:Be&&Be.trim()||Z,minimumFractionDigits:2,maximumFractionDigits:2}};return Yp(Y,st[ve]||{}).format(U)}var wl=function(U,Y,Q){return Yp(Y,{style:"currency",currency:Q,minimumFractionDigits:2,maximumFractionDigits:2}).format(U)},xh=function(U,Y){return Yp(Y,{maximumFractionDigits:0}).format(U)},Vv=function(U,Y){return Yp(Y,{style:"percent"}).format(U)};function au(U,Y,Q){var Z={second:"numeric",minute:"numeric",hour:"numeric"};switch(Q){case"full":case"long":Z.timeZoneName="short";break;case"short":delete Z.second}return new Date(U).toLocaleTimeString(Y,Z)}var V0=Object.freeze({__proto__:null,date:H0,duration:Sh,numberCurrency:wl,numberFmt:rs,numberInteger:xh,numberPercent:Vv,time:au}),jv={ES3:{break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},ESnext:{await:!0,debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0}},Ah=Xl(jv);function ef(U){let Y=0;for(let Q=0;Q<U.length;++Q){let Z=U.charCodeAt(Q);Y=(Y<<5)-Y+Z,Y|=0}return Y}function dd(U,Y){Y&&(U+=" "+ef(U).toString(36));let Q=U.trim().replace(/\W+/g,"_");return Ah.ES3[Q]||Ah.ESnext[Q]||/^\d/.test(Q)?"_"+Q:Q}function j0(U,Y){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(Y)&&!Ah.ES3[Y])return U?U+"."+Y:Y;{let Q=JSON.stringify(Y);return U?U+"["+Q+"]":Q}}var B1=["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"],U1=new RegExp("^"+B1.join("|^"));function $1(U,Y){var Q=U1.test(Y),Z=JSON.stringify(Q?"\u200F":"\u200E");return"".concat(Z," + ").concat(U," + ").concat(Z)}var H1="@messageformat/runtime",V1="@messageformat/runtime/lib/cardinals",Gv="@messageformat/runtime/lib/plurals",hb="@messageformat/runtime/lib/formatters",gb=function(){function U(Y){this.arguments=[],this.runtime={},this.options=Y}return U.prototype.compile=function(Y,Q,Z){var re,ve,Be=this,st=this.options,St=st.localeCodeFromKey,tn=st.requireAllArguments,bi=st.strict,Ii=st.strictPluralKeys;if(typeof Y=="object"){var ki={};try{for(var xn=i(Object.keys(Y)),To=xn.next();!To.done;To=xn.next()){var Do=To.value,pa=St?St(Do):Do,Es=Z&&pa&&Z[pa]||Q;ki[Do]=this.compile(Y[Do],Es,Z)}}catch(Oo){re={error:Oo}}finally{try{To&&!To.done&&(ve=xn.return)&&ve.call(xn)}finally{if(re)throw re.error}}return ki}this.plural=Q;var Qs={cardinal:Q.cardinals,ordinal:Q.ordinals,strict:bi,strictPluralKeys:Ii};this.arguments=[];var cp=Ks(Y,Qs).map(function(Oo){return Be.token(Oo,null)}),gu=this.arguments.length>0,Gc=this.concatenate(cp,!0);if(tn&&gu){this.setRuntimeFn("reqArgs");var Ts=JSON.stringify(this.arguments);return"(d) => { reqArgs(".concat(Ts,", d); return ").concat(Gc,"; }")}return"(".concat(gu?"d":"",") => ").concat(Gc)},U.prototype.cases=function(Y,Q){var Z=this,re=!0,ve=Y.cases.map(function(bi){var Ii=bi.key,ki=bi.tokens;Ii==="other"&&(re=!1);var xn=ki.map(function(To){return Z.token(To,Q)});return"".concat(j0(null,Ii.replace(/^=/,"")),": ").concat(Z.concatenate(xn,!1))});if(re){var Be=Y.type,st=this.plural,St=st.cardinals,tn=st.ordinals;if(Be==="select"||Be==="plural"&&St.includes("other")||Be==="selectordinal"&&tn.includes("other"))throw new Error("No 'other' form found in ".concat(JSON.stringify(Y)))}return"{ ".concat(ve.join(", ")," }")},U.prototype.concatenate=function(Y,Q){var Z=this.options.returnType==="values";return Z&&(Q||Y.length>1)?"["+Y.join(", ")+"]":Y.join(" + ")||'""'},U.prototype.token=function(Y,Q){if(Y.type==="content")return JSON.stringify(Y.value);var Z=this.plural,re=Z.id,ve=Z.lc,Be,st;switch("arg"in Y?(this.arguments.push(Y.arg),Be=[j0("d",Y.arg)]):Be=[],Y.type){case"argument":return this.options.biDiSupport?$1(String(Be[0]),ve):String(Be[0]);case"select":st="select",Q&&this.options.strict&&(Q=null),Be.push(this.cases(Y,Q)),this.setRuntimeFn("select");break;case"selectordinal":st="plural",Be.push(Y.pluralOffset||0,re,this.cases(Y,Y),1),this.setLocale(re,!0),this.setRuntimeFn("plural");break;case"plural":st="plural",Be.push(Y.pluralOffset||0,re,this.cases(Y,Y)),this.setLocale(re,!1),this.setRuntimeFn("plural");break;case"function":{var St=this.options.customFormatters[Y.key],tn=St&&"module"in St&&typeof St.module=="function";if(!St){if(Y.key==="date"){st=this.setDateFormatter(Y,Be,Q);break}else if(Y.key==="number"){st=this.setNumberFormatter(Y,Be,Q);break}}if(Be.push(JSON.stringify(this.plural.locale)),Y.param){Q&&this.options.strict&&(Q=null);var bi=this.getFormatterArg(Y,Q);bi&&Be.push(bi)}st=tn?dd("".concat(Y.key,"__").concat(this.plural.locale)):Y.key,this.setFormatter(st,Y.key);break}case"octothorpe":if(!Q)return'"#"';Be=[JSON.stringify(this.plural.locale),j0("d",Q.arg),Q.pluralOffset||0],this.options.strict?(st="strictNumber",Be.push(JSON.stringify(Q.arg)),this.setRuntimeFn("strictNumber")):(st="number",this.setRuntimeFn("number"));break}if(!st)throw new Error("Parser error for token "+JSON.stringify(Y));return"".concat(st,"(").concat(Be.join(", "),")")},U.prototype.runtimeIncludes=function(Y,Q){if(dd(Y)!==Y)throw new SyntaxError("Reserved word used as ".concat(Q," identifier: ").concat(Y));var Z=this.runtime[Y];if(!Z||Z.type===Q)return Z;throw new TypeError("Cannot override ".concat(Z.type," runtime function as ").concat(Q,": ").concat(Y))},U.prototype.setLocale=function(Y,Q){var Z=this.runtimeIncludes(Y,"locale"),re=this.plural,ve=re.getCardinal,Be=re.getPlural,st=re.isDefault,St,tn,bi;if(!Q&&st&&ve){if(Z)return;St=function(Ii){return ve(Ii)},tn=V1,bi=function(){return String(ve)}}else{if(Z&&(!st||Z.module===Gv))return;St=function(Ii,ki){return Be(Ii,ki)},tn=st?Gv:Be.module||null,bi=function(){return String(Be)}}this.runtime[Y]=Object.assign(St,{id:Y,module:tn,toString:bi,type:"locale"})},U.prototype.setRuntimeFn=function(Y){this.runtimeIncludes(Y,"runtime")||(this.runtime[Y]=Object.assign($0[Y],{id:Y,module:H1,type:"runtime"}))},U.prototype.getFormatterArg=function(Y,Q){var Z,re,ve,Be,st=this,St=Y.key,tn=Y.param,bi=this.options.customFormatters[St]||j1(St)&&V0[St];if(!bi||!tn)return null;var Ii="arg"in bi&&bi.arg||"string";if(Ii==="options"){var ki="";try{for(var xn=i(tn),To=xn.next();!To.done;To=xn.next()){var Do=To.value;if(Do.type==="content")ki+=Do.value;else throw new SyntaxError("Expected literal options for ".concat(St," formatter"))}}catch(gm){Z={error:gm}}finally{try{To&&!To.done&&(re=xn.return)&&re.call(xn)}finally{if(Z)throw Z.error}}var pa={};try{for(var Es=i(ki.split(",")),Qs=Es.next();!Qs.done;Qs=Es.next()){var cp=Qs.value,gu=cp.indexOf(":");if(gu===-1)pa[cp.trim()]=null;else{var Gc=cp.substring(0,gu).trim(),Ts=cp.substring(gu+1).trim();if(Ts==="true")pa[Gc]=!0;else if(Ts==="false")pa[Gc]=!1;else if(Ts==="null")pa[Gc]=null;else{var Oo=Number(Ts);pa[Gc]=Number.isFinite(Oo)?Oo:Ts}}}}catch(gm){ve={error:gm}}finally{try{Qs&&!Qs.done&&(Be=Es.return)&&Be.call(Es)}finally{if(ve)throw ve.error}}return JSON.stringify(pa)}else{var tC=tn.map(function(gm){return st.token(gm,Q)});if(Ii==="raw")return"[".concat(tC.join(", "),"]");var nE=tC.join(" + ");return nE?"(".concat(nE,").trim()"):'""'}},U.prototype.setFormatter=function(Y,Q){if(!this.runtimeIncludes(Y,"formatter")){var Z=this.options.customFormatters[Q||Y];if(Z){var re=typeof Z=="function"?{formatter:Z}:Z;this.runtime[Y]=Object.assign(re.formatter.bind({}),t(t({},re.formatter.prototype),{toString:function(){return String(re.formatter)}}),{type:"formatter"},"module"in Z&&Z.module&&Z.id?{id:dd(Z.id),module:typeof Z.module=="function"?Z.module(this.plural.locale):Z.module}:{id:null,module:null})}else if(j1(Y))this.runtime[Y]=Object.assign(V0[Y],{type:"formatter"},{id:Y,module:hb});else throw new Error("Formatting function not found: ".concat(Y))}},U.prototype.setDateFormatter=function(Y,Q,Z){var re=this,ve=Y.param,Be=this.plural.locale,st=ve&&ve.length===1&&ve[0];if(st&&st.type==="content"&&/^\s*::/.test(st.value)){var St=st.value.trim().substr(2),tn=dd("date_".concat(Be,"_").concat(St),!0);if(!this.runtimeIncludes(tn,"formatter")){var bi=ie(Be,St);this.runtime[tn]=Object.assign(bi,{id:tn,module:null,toString:function(){return se(Be,St)},type:"formatter"})}return tn}if(Q.push(JSON.stringify(Be)),ve&&ve.length>0){Z&&this.options.strict&&(Z=null);var Ii=ve.map(function(ki){return re.token(ki,Z)});Q.push("("+(Ii.join(" + ")||'""')+").trim()")}return this.setFormatter("date"),"date"},U.prototype.setNumberFormatter=function(Y,Q,Z){var re=this,ve=Y.param,Be=this.plural.locale;if(!ve||ve.length===0)return Q.unshift(JSON.stringify(Be)),Q.push("0"),this.setRuntimeFn("number"),"number";if(Q.push(JSON.stringify(Be)),ve.length===1&&ve[0].type==="content"){var st=ve[0].value.trim();switch(st){case"currency":return Q.push(JSON.stringify(this.options.currency)),this.setFormatter("numberCurrency"),"numberCurrency";case"integer":return this.setFormatter("numberInteger"),"numberInteger";case"percent":return this.setFormatter("numberPercent"),"numberPercent"}var St=st.match(/^currency:([A-Z]+)$/);if(St)return Q.push(JSON.stringify(St[1])),this.setFormatter("numberCurrency"),"numberCurrency";var tn=dd("number_".concat(Be,"_").concat(st),!0);if(!this.runtimeIncludes(tn,"formatter")){var bi=this.options.currency,Ii=sd(Be,st,bi);this.runtime[tn]=Object.assign(Ii,{id:null,module:null,toString:function(){return ru(Be,st,bi)},type:"formatter"})}return tn}Z&&this.options.strict&&(Z=null);var ki=ve.map(function(xn){return re.token(xn,Z)});return Q.push("("+(ki.join(" + ")||'""')+").trim()"),Q.push(JSON.stringify(this.options.currency)),this.setFormatter("numberFmt"),"numberFmt"},U}();function j1(U){return U in V0}let dn=U=>U==1?"one":"other",wc=U=>U==0||U==1?"one":"other",ud=U=>U>=0&&U<=1?"one":"other",Cs=U=>{let Y=String(U).split("."),Q=!Y[1];return U==1&&Q?"one":"other"},Br=U=>"other",pd=U=>U==1?"one":U==2?"two":"other";var my=Object.freeze({__proto__:null,af:dn,ak:wc,am:ud,an:dn,ar:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-2);return U==0?"zero":U==1?"one":U==2?"two":Z>=3&&Z<=10?"few":Z>=11&&Z<=99?"many":"other"},ars:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-2);return U==0?"zero":U==1?"one":U==2?"two":Z>=3&&Z<=10?"few":Z>=11&&Z<=99?"many":"other"},as:ud,asa:dn,ast:Cs,az:dn,bal:dn,be:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-1),re=Q&&Y[0].slice(-2);return Z==1&&re!=11?"one":Z>=2&&Z<=4&&(re<12||re>14)?"few":Q&&Z==0||Z>=5&&Z<=9||re>=11&&re<=14?"many":"other"},bem:dn,bez:dn,bg:dn,bho:wc,bm:Br,bn:ud,bo:Br,br:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-1),re=Q&&Y[0].slice(-2),ve=Q&&Y[0].slice(-6);return Z==1&&re!=11&&re!=71&&re!=91?"one":Z==2&&re!=12&&re!=72&&re!=92?"two":(Z==3||Z==4||Z==9)&&(re<10||re>19)&&(re<70||re>79)&&(re<90||re>99)?"few":U!=0&&Q&&ve==0?"many":"other"},brx:dn,bs:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Q.slice(-2),st=Z.slice(-1),St=Z.slice(-2);return re&&ve==1&&Be!=11||st==1&&St!=11?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)||st>=2&&st<=4&&(St<12||St>14)?"few":"other"},ca:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U==1&&Z?"one":Q!=0&&re==0&&Z?"many":"other"},ce:dn,ceb:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Z.slice(-1);return re&&(Q==1||Q==2||Q==3)||re&&ve!=4&&ve!=6&&ve!=9||!re&&Be!=4&&Be!=6&&Be!=9?"one":"other"},cgg:dn,chr:dn,ckb:dn,cs:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1];return U==1&&Z?"one":Q>=2&&Q<=4&&Z?"few":Z?"other":"many"},cy:U=>U==0?"zero":U==1?"one":U==2?"two":U==3?"few":U==6?"many":"other",da:U=>{let Y=String(U).split("."),Q=Y[0],Z=Number(Y[0])==U;return U==1||!Z&&(Q==0||Q==1)?"one":"other"},de:Cs,doi:ud,dsb:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-2),Be=Z.slice(-2);return re&&ve==1||Be==1?"one":re&&ve==2||Be==2?"two":re&&(ve==3||ve==4)||Be==3||Be==4?"few":"other"},dv:dn,dz:Br,ee:dn,el:dn,en:Cs,eo:dn,es:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U==1?"one":Q!=0&&re==0&&Z?"many":"other"},et:Cs,eu:dn,fa:ud,ff:U=>U>=0&&U<2?"one":"other",fi:Cs,fil:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Z.slice(-1);return re&&(Q==1||Q==2||Q==3)||re&&ve!=4&&ve!=6&&ve!=9||!re&&Be!=4&&Be!=6&&Be!=9?"one":"other"},fo:dn,fr:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U>=0&&U<2?"one":Q!=0&&re==0&&Z?"many":"other"},fur:dn,fy:Cs,ga:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U;return U==1?"one":U==2?"two":Q&&U>=3&&U<=6?"few":Q&&U>=7&&U<=10?"many":"other"},gd:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U;return U==1||U==11?"one":U==2||U==12?"two":Q&&U>=3&&U<=10||Q&&U>=13&&U<=19?"few":"other"},gl:Cs,gsw:dn,gu:ud,guw:wc,gv:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-1),ve=Q.slice(-2);return Z&&re==1?"one":Z&&re==2?"two":Z&&(ve==0||ve==20||ve==40||ve==60||ve==80)?"few":Z?"other":"many"},ha:dn,haw:dn,he:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1];return Q==1&&Z||Q==0&&!Z?"one":Q==2&&Z?"two":"other"},hi:ud,hnj:Br,hr:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Q.slice(-2),st=Z.slice(-1),St=Z.slice(-2);return re&&ve==1&&Be!=11||st==1&&St!=11?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)||st>=2&&st<=4&&(St<12||St>14)?"few":"other"},hsb:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-2),Be=Z.slice(-2);return re&&ve==1||Be==1?"one":re&&ve==2||Be==2?"two":re&&(ve==3||ve==4)||Be==3||Be==4?"few":"other"},hu:dn,hy:U=>U>=0&&U<2?"one":"other",ia:Cs,id:Br,ig:Br,ii:Br,io:Cs,is:U=>{let Y=String(U).split("."),Q=Y[0],Z=(Y[1]||"").replace(/0+$/,""),re=Number(Y[0])==U,ve=Q.slice(-1),Be=Q.slice(-2);return re&&ve==1&&Be!=11||Z%10==1&&Z%100!=11?"one":"other"},it:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U==1&&Z?"one":Q!=0&&re==0&&Z?"many":"other"},iu:pd,ja:Br,jbo:Br,jgo:dn,jmc:dn,jv:Br,jw:Br,ka:dn,kab:U=>U>=0&&U<2?"one":"other",kaj:dn,kcg:dn,kde:Br,kea:Br,kk:dn,kkj:dn,kl:dn,km:Br,kn:ud,ko:Br,ks:dn,ksb:dn,ksh:U=>U==0?"zero":U==1?"one":"other",ku:dn,kw:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-2),re=Q&&Y[0].slice(-3),ve=Q&&Y[0].slice(-5),Be=Q&&Y[0].slice(-6);return U==0?"zero":U==1?"one":Z==2||Z==22||Z==42||Z==62||Z==82||Q&&re==0&&(ve>=1e3&&ve<=2e4||ve==4e4||ve==6e4||ve==8e4)||U!=0&&Be==1e5?"two":Z==3||Z==23||Z==43||Z==63||Z==83?"few":U!=1&&(Z==1||Z==21||Z==41||Z==61||Z==81)?"many":"other"},ky:dn,lag:U=>{let Y=String(U).split("."),Q=Y[0];return U==0?"zero":(Q==0||Q==1)&&U!=0?"one":"other"},lb:dn,lg:dn,lij:Cs,lkt:Br,ln:wc,lo:Br,lt:U=>{let Y=String(U).split("."),Q=Y[1]||"",Z=Number(Y[0])==U,re=Z&&Y[0].slice(-1),ve=Z&&Y[0].slice(-2);return re==1&&(ve<11||ve>19)?"one":re>=2&&re<=9&&(ve<11||ve>19)?"few":Q!=0?"many":"other"},lv:U=>{let Y=String(U).split("."),Q=Y[1]||"",Z=Q.length,re=Number(Y[0])==U,ve=re&&Y[0].slice(-1),Be=re&&Y[0].slice(-2),st=Q.slice(-2),St=Q.slice(-1);return re&&ve==0||Be>=11&&Be<=19||Z==2&&st>=11&&st<=19?"zero":ve==1&&Be!=11||Z==2&&St==1&&st!=11||Z!=2&&St==1?"one":"other"},mas:dn,mg:wc,mgo:dn,mk:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Q.slice(-2),st=Z.slice(-1),St=Z.slice(-2);return re&&ve==1&&Be!=11||st==1&&St!=11?"one":"other"},ml:dn,mn:dn,mo:U=>{let Y=String(U).split("."),Q=!Y[1],Z=Number(Y[0])==U,re=Z&&Y[0].slice(-2);return U==1&&Q?"one":!Q||U==0||U!=1&&re>=1&&re<=19?"few":"other"},mr:dn,ms:Br,mt:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U,Z=Q&&Y[0].slice(-2);return U==1?"one":U==2?"two":U==0||Z>=3&&Z<=10?"few":Z>=11&&Z<=19?"many":"other"},my:Br,nah:dn,naq:pd,nb:dn,nd:dn,ne:dn,nl:Cs,nn:dn,nnh:dn,no:dn,nqo:Br,nr:dn,nso:wc,ny:dn,nyn:dn,om:dn,or:dn,os:dn,osa:Br,pa:wc,pap:dn,pcm:ud,pl:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-1),ve=Q.slice(-2);return U==1&&Z?"one":Z&&re>=2&&re<=4&&(ve<12||ve>14)?"few":Z&&Q!=1&&(re==0||re==1)||Z&&re>=5&&re<=9||Z&&ve>=12&&ve<=14?"many":"other"},prg:U=>{let Y=String(U).split("."),Q=Y[1]||"",Z=Q.length,re=Number(Y[0])==U,ve=re&&Y[0].slice(-1),Be=re&&Y[0].slice(-2),st=Q.slice(-2),St=Q.slice(-1);return re&&ve==0||Be>=11&&Be<=19||Z==2&&st>=11&&st<=19?"zero":ve==1&&Be!=11||Z==2&&St==1&&st!=11||Z!=2&&St==1?"one":"other"},ps:dn,pt:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return Q==0||Q==1?"one":Q!=0&&re==0&&Z?"many":"other"},pt_PT:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U==1&&Z?"one":Q!=0&&re==0&&Z?"many":"other"},rm:dn,ro:U=>{let Y=String(U).split("."),Q=!Y[1],Z=Number(Y[0])==U,re=Z&&Y[0].slice(-2);return U==1&&Q?"one":!Q||U==0||U!=1&&re>=1&&re<=19?"few":"other"},rof:dn,ru:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-1),ve=Q.slice(-2);return Z&&re==1&&ve!=11?"one":Z&&re>=2&&re<=4&&(ve<12||ve>14)?"few":Z&&re==0||Z&&re>=5&&re<=9||Z&&ve>=11&&ve<=14?"many":"other"},rwk:dn,sah:Br,saq:dn,sat:pd,sc:Cs,scn:Cs,sd:dn,sdh:dn,se:pd,seh:dn,ses:Br,sg:Br,sh:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Q.slice(-2),st=Z.slice(-1),St=Z.slice(-2);return re&&ve==1&&Be!=11||st==1&&St!=11?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)||st>=2&&st<=4&&(St<12||St>14)?"few":"other"},shi:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U;return U>=0&&U<=1?"one":Q&&U>=2&&U<=10?"few":"other"},si:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"";return U==0||U==1||Q==0&&Z==1?"one":"other"},sk:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1];return U==1&&Z?"one":Q>=2&&Q<=4&&Z?"few":Z?"other":"many"},sl:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-2);return Z&&re==1?"one":Z&&re==2?"two":Z&&(re==3||re==4)||!Z?"few":"other"},sma:pd,smi:pd,smj:pd,smn:pd,sms:pd,sn:dn,so:dn,sq:dn,sr:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Q.slice(-2),st=Z.slice(-1),St=Z.slice(-2);return re&&ve==1&&Be!=11||st==1&&St!=11?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)||st>=2&&st<=4&&(St<12||St>14)?"few":"other"},ss:dn,ssy:dn,st:dn,su:Br,sv:Cs,sw:Cs,syr:dn,ta:dn,te:dn,teo:dn,th:Br,ti:wc,tig:dn,tk:dn,tl:U=>{let Y=String(U).split("."),Q=Y[0],Z=Y[1]||"",re=!Y[1],ve=Q.slice(-1),Be=Z.slice(-1);return re&&(Q==1||Q==2||Q==3)||re&&ve!=4&&ve!=6&&ve!=9||!re&&Be!=4&&Be!=6&&Be!=9?"one":"other"},tn:dn,to:Br,tpi:Br,tr:dn,ts:dn,tzm:U=>{let Y=String(U).split("."),Q=Number(Y[0])==U;return U==0||U==1||Q&&U>=11&&U<=99?"one":"other"},ug:dn,uk:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-1),ve=Q.slice(-2);return Z&&re==1&&ve!=11?"one":Z&&re>=2&&re<=4&&(ve<12||ve>14)?"few":Z&&re==0||Z&&re>=5&&re<=9||Z&&ve>=11&&ve<=14?"many":"other"},und:Br,ur:Cs,uz:dn,ve:dn,vec:U=>{let Y=String(U).split("."),Q=Y[0],Z=!Y[1],re=Q.slice(-6);return U==1&&Z?"one":Q!=0&&re==0&&Z?"many":"other"},vi:Br,vo:dn,vun:dn,wa:wc,wae:dn,wo:Br,xh:dn,xog:dn,yi:Cs,yo:Br,yue:Br,zh:Br,zu:ud});let Na="zero",_n="one",eo="two",$i="few",Wi="many",Rt="other",Ft={cardinal:[_n,Rt],ordinal:[Rt]},du={cardinal:[_n,Rt],ordinal:[_n,Rt]},to={cardinal:[Rt],ordinal:[Rt]},Uc={cardinal:[_n,eo,Rt],ordinal:[Rt]};var T=Object.freeze({__proto__:null,af:Ft,ak:Ft,am:Ft,an:Ft,ar:{cardinal:[Na,_n,eo,$i,Wi,Rt],ordinal:[Rt]},ars:{cardinal:[Na,_n,eo,$i,Wi,Rt],ordinal:[Rt]},as:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Wi,Rt]},asa:Ft,ast:Ft,az:{cardinal:[_n,Rt],ordinal:[_n,$i,Wi,Rt]},bal:du,be:{cardinal:[_n,$i,Wi,Rt],ordinal:[$i,Rt]},bem:Ft,bez:Ft,bg:Ft,bho:Ft,bm:to,bn:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Wi,Rt]},bo:to,br:{cardinal:[_n,eo,$i,Wi,Rt],ordinal:[Rt]},brx:Ft,bs:{cardinal:[_n,$i,Rt],ordinal:[Rt]},ca:{cardinal:[_n,Wi,Rt],ordinal:[_n,eo,$i,Rt]},ce:Ft,ceb:Ft,cgg:Ft,chr:Ft,ckb:Ft,cs:{cardinal:[_n,$i,Wi,Rt],ordinal:[Rt]},cy:{cardinal:[Na,_n,eo,$i,Wi,Rt],ordinal:[Na,_n,eo,$i,Wi,Rt]},da:Ft,de:Ft,doi:Ft,dsb:{cardinal:[_n,eo,$i,Rt],ordinal:[Rt]},dv:Ft,dz:to,ee:Ft,el:Ft,en:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Rt]},eo:Ft,es:{cardinal:[_n,Wi,Rt],ordinal:[Rt]},et:Ft,eu:Ft,fa:Ft,ff:Ft,fi:Ft,fil:du,fo:Ft,fr:{cardinal:[_n,Wi,Rt],ordinal:[_n,Rt]},fur:Ft,fy:Ft,ga:{cardinal:[_n,eo,$i,Wi,Rt],ordinal:[_n,Rt]},gd:{cardinal:[_n,eo,$i,Rt],ordinal:[_n,eo,$i,Rt]},gl:Ft,gsw:Ft,gu:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Wi,Rt]},guw:Ft,gv:{cardinal:[_n,eo,$i,Wi,Rt],ordinal:[Rt]},ha:Ft,haw:Ft,he:Uc,hi:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Wi,Rt]},hnj:to,hr:{cardinal:[_n,$i,Rt],ordinal:[Rt]},hsb:{cardinal:[_n,eo,$i,Rt],ordinal:[Rt]},hu:du,hy:du,ia:Ft,id:to,ig:to,ii:to,io:Ft,is:Ft,it:{cardinal:[_n,Wi,Rt],ordinal:[Wi,Rt]},iu:Uc,ja:to,jbo:to,jgo:Ft,jmc:Ft,jv:to,jw:to,ka:{cardinal:[_n,Rt],ordinal:[_n,Wi,Rt]},kab:Ft,kaj:Ft,kcg:Ft,kde:to,kea:to,kk:{cardinal:[_n,Rt],ordinal:[Wi,Rt]},kkj:Ft,kl:Ft,km:to,kn:Ft,ko:to,ks:Ft,ksb:Ft,ksh:{cardinal:[Na,_n,Rt],ordinal:[Rt]},ku:Ft,kw:{cardinal:[Na,_n,eo,$i,Wi,Rt],ordinal:[_n,Wi,Rt]},ky:Ft,lag:{cardinal:[Na,_n,Rt],ordinal:[Rt]},lb:Ft,lg:Ft,lij:{cardinal:[_n,Rt],ordinal:[Wi,Rt]},lkt:to,ln:Ft,lo:{cardinal:[Rt],ordinal:[_n,Rt]},lt:{cardinal:[_n,$i,Wi,Rt],ordinal:[Rt]},lv:{cardinal:[Na,_n,Rt],ordinal:[Rt]},mas:Ft,mg:Ft,mgo:Ft,mk:{cardinal:[_n,Rt],ordinal:[_n,eo,Wi,Rt]},ml:Ft,mn:Ft,mo:{cardinal:[_n,$i,Rt],ordinal:[_n,Rt]},mr:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Rt]},ms:{cardinal:[Rt],ordinal:[_n,Rt]},mt:{cardinal:[_n,eo,$i,Wi,Rt],ordinal:[Rt]},my:to,nah:Ft,naq:Uc,nb:Ft,nd:Ft,ne:du,nl:Ft,nn:Ft,nnh:Ft,no:Ft,nqo:to,nr:Ft,nso:Ft,ny:Ft,nyn:Ft,om:Ft,or:{cardinal:[_n,Rt],ordinal:[_n,eo,$i,Wi,Rt]},os:Ft,osa:to,pa:Ft,pap:Ft,pcm:Ft,pl:{cardinal:[_n,$i,Wi,Rt],ordinal:[Rt]},prg:{cardinal:[Na,_n,Rt],ordinal:[Rt]},ps:Ft,pt:{cardinal:[_n,Wi,Rt],ordinal:[Rt]},pt_PT:{cardinal:[_n,Wi,Rt],ordinal:[Rt]},rm:Ft,ro:{cardinal:[_n,$i,Rt],ordinal:[_n,Rt]},rof:Ft,ru:{cardinal:[_n,$i,Wi,Rt],ordinal:[Rt]},rwk:Ft,sah:to,saq:Ft,sat:Uc,sc:{cardinal:[_n,Rt],ordinal:[Wi,Rt]},scn:{cardinal:[_n,Rt],ordinal:[Wi,Rt]},sd:Ft,sdh:Ft,se:Uc,seh:Ft,ses:to,sg:to,sh:{cardinal:[_n,$i,Rt],ordinal:[Rt]},shi:{cardinal:[_n,$i,Rt],ordinal:[Rt]},si:Ft,sk:{cardinal:[_n,$i,Wi,Rt],ordinal:[Rt]},sl:{cardinal:[_n,eo,$i,Rt],ordinal:[Rt]},sma:Uc,smi:Uc,smj:Uc,smn:Uc,sms:Uc,sn:Ft,so:Ft,sq:{cardinal:[_n,Rt],ordinal:[_n,Wi,Rt]},sr:{cardinal:[_n,$i,Rt],ordinal:[Rt]},ss:Ft,ssy:Ft,st:Ft,su:to,sv:du,sw:Ft,syr:Ft,ta:Ft,te:Ft,teo:Ft,th:to,ti:Ft,tig:Ft,tk:{cardinal:[_n,Rt],ordinal:[$i,Rt]},tl:du,tn:Ft,to,tpi:to,tr:Ft,ts:Ft,tzm:Ft,ug:Ft,uk:{cardinal:[_n,$i,Wi,Rt],ordinal:[$i,Rt]},und:to,ur:Ft,uz:Ft,ve:Ft,vec:{cardinal:[_n,Wi,Rt],ordinal:[Wi,Rt]},vi:{cardinal:[Rt],ordinal:[_n,Rt]},vo:Ft,vun:Ft,wa:Ft,wae:Ft,wo:to,xh:Ft,xog:Ft,yi:Ft,yo:to,yue:to,zh:to,zu:Ft});let N=(U,Y)=>Y?"other":U==1?"one":"other",oe=(U,Y)=>Y?"other":U==0||U==1?"one":"other",ge=(U,Y)=>Y?"other":U>=0&&U<=1?"one":"other",Pe=(U,Y)=>{let Q=String(U).split("."),Z=!Q[1];return Y?"other":U==1&&Z?"one":"other"},He=(U,Y)=>"other",nt=(U,Y)=>Y?"other":U==1?"one":U==2?"two":"other";var Dg=Object.freeze({__proto__:null,af:N,ak:oe,am:ge,an:N,ar:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-2);return Y?"other":U==0?"zero":U==1?"one":U==2?"two":re>=3&&re<=10?"few":re>=11&&re<=99?"many":"other"},ars:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-2);return Y?"other":U==0?"zero":U==1?"one":U==2?"two":re>=3&&re<=10?"few":re>=11&&re<=99?"many":"other"},as:(U,Y)=>Y?U==1||U==5||U==7||U==8||U==9||U==10?"one":U==2||U==3?"two":U==4?"few":U==6?"many":"other":U>=0&&U<=1?"one":"other",asa:N,ast:Pe,az:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Z.slice(-1),ve=Z.slice(-2),Be=Z.slice(-3);return Y?re==1||re==2||re==5||re==7||re==8||ve==20||ve==50||ve==70||ve==80?"one":re==3||re==4||Be==100||Be==200||Be==300||Be==400||Be==500||Be==600||Be==700||Be==800||Be==900?"few":Z==0||re==6||ve==40||ve==60||ve==90?"many":"other":U==1?"one":"other"},bal:(U,Y)=>U==1?"one":"other",be:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-1),ve=Z&&Q[0].slice(-2);return Y?(re==2||re==3)&&ve!=12&&ve!=13?"few":"other":re==1&&ve!=11?"one":re>=2&&re<=4&&(ve<12||ve>14)?"few":Z&&re==0||re>=5&&re<=9||ve>=11&&ve<=14?"many":"other"},bem:N,bez:N,bg:N,bho:oe,bm:He,bn:(U,Y)=>Y?U==1||U==5||U==7||U==8||U==9||U==10?"one":U==2||U==3?"two":U==4?"few":U==6?"many":"other":U>=0&&U<=1?"one":"other",bo:He,br:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-1),ve=Z&&Q[0].slice(-2),Be=Z&&Q[0].slice(-6);return Y?"other":re==1&&ve!=11&&ve!=71&&ve!=91?"one":re==2&&ve!=12&&ve!=72&&ve!=92?"two":(re==3||re==4||re==9)&&(ve<10||ve>19)&&(ve<70||ve>79)&&(ve<90||ve>99)?"few":U!=0&&Z&&Be==0?"many":"other"},brx:N,bs:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=Z.slice(-2),St=re.slice(-1),tn=re.slice(-2);return Y?"other":ve&&Be==1&&st!=11||St==1&&tn!=11?"one":ve&&Be>=2&&Be<=4&&(st<12||st>14)||St>=2&&St<=4&&(tn<12||tn>14)?"few":"other"},ca:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?U==1||U==3?"one":U==2?"two":U==4?"few":"other":U==1&&re?"one":Z!=0&&ve==0&&re?"many":"other"},ce:N,ceb:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=re.slice(-1);return Y?"other":ve&&(Z==1||Z==2||Z==3)||ve&&Be!=4&&Be!=6&&Be!=9||!ve&&st!=4&&st!=6&&st!=9?"one":"other"},cgg:N,chr:N,ckb:N,cs:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1];return Y?"other":U==1&&re?"one":Z>=2&&Z<=4&&re?"few":re?"other":"many"},cy:(U,Y)=>Y?U==0||U==7||U==8||U==9?"zero":U==1?"one":U==2?"two":U==3||U==4?"few":U==5||U==6?"many":"other":U==0?"zero":U==1?"one":U==2?"two":U==3?"few":U==6?"many":"other",da:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Number(Q[0])==U;return Y?"other":U==1||!re&&(Z==0||Z==1)?"one":"other"},de:Pe,doi:ge,dsb:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-2),st=re.slice(-2);return Y?"other":ve&&Be==1||st==1?"one":ve&&Be==2||st==2?"two":ve&&(Be==3||Be==4)||st==3||st==4?"few":"other"},dv:N,dz:He,ee:N,el:N,en:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1],re=Number(Q[0])==U,ve=re&&Q[0].slice(-1),Be=re&&Q[0].slice(-2);return Y?ve==1&&Be!=11?"one":ve==2&&Be!=12?"two":ve==3&&Be!=13?"few":"other":U==1&&Z?"one":"other"},eo:N,es:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?"other":U==1?"one":Z!=0&&ve==0&&re?"many":"other"},et:Pe,eu:N,fa:ge,ff:(U,Y)=>Y?"other":U>=0&&U<2?"one":"other",fi:Pe,fil:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=re.slice(-1);return Y?U==1?"one":"other":ve&&(Z==1||Z==2||Z==3)||ve&&Be!=4&&Be!=6&&Be!=9||!ve&&st!=4&&st!=6&&st!=9?"one":"other"},fo:N,fr:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?U==1?"one":"other":U>=0&&U<2?"one":Z!=0&&ve==0&&re?"many":"other"},fur:N,fy:Pe,ga:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?U==1?"one":"other":U==1?"one":U==2?"two":Z&&U>=3&&U<=6?"few":Z&&U>=7&&U<=10?"many":"other"},gd:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?U==1||U==11?"one":U==2||U==12?"two":U==3||U==13?"few":"other":U==1||U==11?"one":U==2||U==12?"two":Z&&U>=3&&U<=10||Z&&U>=13&&U<=19?"few":"other"},gl:Pe,gsw:N,gu:(U,Y)=>Y?U==1?"one":U==2||U==3?"two":U==4?"few":U==6?"many":"other":U>=0&&U<=1?"one":"other",guw:oe,gv:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-1),Be=Z.slice(-2);return Y?"other":re&&ve==1?"one":re&&ve==2?"two":re&&(Be==0||Be==20||Be==40||Be==60||Be==80)?"few":re?"other":"many"},ha:N,haw:N,he:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1];return Y?"other":Z==1&&re||Z==0&&!re?"one":Z==2&&re?"two":"other"},hi:(U,Y)=>Y?U==1?"one":U==2||U==3?"two":U==4?"few":U==6?"many":"other":U>=0&&U<=1?"one":"other",hnj:He,hr:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=Z.slice(-2),St=re.slice(-1),tn=re.slice(-2);return Y?"other":ve&&Be==1&&st!=11||St==1&&tn!=11?"one":ve&&Be>=2&&Be<=4&&(st<12||st>14)||St>=2&&St<=4&&(tn<12||tn>14)?"few":"other"},hsb:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-2),st=re.slice(-2);return Y?"other":ve&&Be==1||st==1?"one":ve&&Be==2||st==2?"two":ve&&(Be==3||Be==4)||st==3||st==4?"few":"other"},hu:(U,Y)=>Y?U==1||U==5?"one":"other":U==1?"one":"other",hy:(U,Y)=>Y?U==1?"one":"other":U>=0&&U<2?"one":"other",ia:Pe,id:He,ig:He,ii:He,io:Pe,is:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=(Q[1]||"").replace(/0+$/,""),ve=Number(Q[0])==U,Be=Z.slice(-1),st=Z.slice(-2);return Y?"other":ve&&Be==1&&st!=11||re%10==1&&re%100!=11?"one":"other"},it:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?U==11||U==8||U==80||U==800?"many":"other":U==1&&re?"one":Z!=0&&ve==0&&re?"many":"other"},iu:nt,ja:He,jbo:He,jgo:N,jmc:N,jv:He,jw:He,ka:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Z.slice(-2);return Y?Z==1?"one":Z==0||re>=2&&re<=20||re==40||re==60||re==80?"many":"other":U==1?"one":"other"},kab:(U,Y)=>Y?"other":U>=0&&U<2?"one":"other",kaj:N,kcg:N,kde:He,kea:He,kk:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-1);return Y?re==6||re==9||Z&&re==0&&U!=0?"many":"other":U==1?"one":"other"},kkj:N,kl:N,km:He,kn:ge,ko:He,ks:N,ksb:N,ksh:(U,Y)=>Y?"other":U==0?"zero":U==1?"one":"other",ku:N,kw:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-2),ve=Z&&Q[0].slice(-3),Be=Z&&Q[0].slice(-5),st=Z&&Q[0].slice(-6);return Y?Z&&U>=1&&U<=4||re>=1&&re<=4||re>=21&&re<=24||re>=41&&re<=44||re>=61&&re<=64||re>=81&&re<=84?"one":U==5||re==5?"many":"other":U==0?"zero":U==1?"one":re==2||re==22||re==42||re==62||re==82||Z&&ve==0&&(Be>=1e3&&Be<=2e4||Be==4e4||Be==6e4||Be==8e4)||U!=0&&st==1e5?"two":re==3||re==23||re==43||re==63||re==83?"few":U!=1&&(re==1||re==21||re==41||re==61||re==81)?"many":"other"},ky:N,lag:(U,Y)=>{let Q=String(U).split("."),Z=Q[0];return Y?"other":U==0?"zero":(Z==0||Z==1)&&U!=0?"one":"other"},lb:N,lg:N,lij:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1],re=Number(Q[0])==U;return Y?U==11||U==8||re&&U>=80&&U<=89||re&&U>=800&&U<=899?"many":"other":U==1&&Z?"one":"other"},lkt:He,ln:oe,lo:(U,Y)=>Y&&U==1?"one":"other",lt:(U,Y)=>{let Q=String(U).split("."),Z=Q[1]||"",re=Number(Q[0])==U,ve=re&&Q[0].slice(-1),Be=re&&Q[0].slice(-2);return Y?"other":ve==1&&(Be<11||Be>19)?"one":ve>=2&&ve<=9&&(Be<11||Be>19)?"few":Z!=0?"many":"other"},lv:(U,Y)=>{let Q=String(U).split("."),Z=Q[1]||"",re=Z.length,ve=Number(Q[0])==U,Be=ve&&Q[0].slice(-1),st=ve&&Q[0].slice(-2),St=Z.slice(-2),tn=Z.slice(-1);return Y?"other":ve&&Be==0||st>=11&&st<=19||re==2&&St>=11&&St<=19?"zero":Be==1&&st!=11||re==2&&tn==1&&St!=11||re!=2&&tn==1?"one":"other"},mas:N,mg:oe,mgo:N,mk:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=Z.slice(-2),St=re.slice(-1),tn=re.slice(-2);return Y?Be==1&&st!=11?"one":Be==2&&st!=12?"two":(Be==7||Be==8)&&st!=17&&st!=18?"many":"other":ve&&Be==1&&st!=11||St==1&&tn!=11?"one":"other"},ml:N,mn:N,mo:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1],re=Number(Q[0])==U,ve=re&&Q[0].slice(-2);return Y?U==1?"one":"other":U==1&&Z?"one":!Z||U==0||U!=1&&ve>=1&&ve<=19?"few":"other"},mr:(U,Y)=>Y?U==1?"one":U==2||U==3?"two":U==4?"few":"other":U==1?"one":"other",ms:(U,Y)=>Y&&U==1?"one":"other",mt:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-2);return Y?"other":U==1?"one":U==2?"two":U==0||re>=3&&re<=10?"few":re>=11&&re<=19?"many":"other"},my:He,nah:N,naq:nt,nb:N,nd:N,ne:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?Z&&U>=1&&U<=4?"one":"other":U==1?"one":"other"},nl:Pe,nn:N,nnh:N,no:N,nqo:He,nr:N,nso:oe,ny:N,nyn:N,om:N,or:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?U==1||U==5||Z&&U>=7&&U<=9?"one":U==2||U==3?"two":U==4?"few":U==6?"many":"other":U==1?"one":"other"},os:N,osa:He,pa:oe,pap:N,pcm:ge,pl:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-1),Be=Z.slice(-2);return Y?"other":U==1&&re?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)?"few":re&&Z!=1&&(ve==0||ve==1)||re&&ve>=5&&ve<=9||re&&Be>=12&&Be<=14?"many":"other"},prg:(U,Y)=>{let Q=String(U).split("."),Z=Q[1]||"",re=Z.length,ve=Number(Q[0])==U,Be=ve&&Q[0].slice(-1),st=ve&&Q[0].slice(-2),St=Z.slice(-2),tn=Z.slice(-1);return Y?"other":ve&&Be==0||st>=11&&st<=19||re==2&&St>=11&&St<=19?"zero":Be==1&&st!=11||re==2&&tn==1&&St!=11||re!=2&&tn==1?"one":"other"},ps:N,pt:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?"other":Z==0||Z==1?"one":Z!=0&&ve==0&&re?"many":"other"},pt_PT:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?"other":U==1&&re?"one":Z!=0&&ve==0&&re?"many":"other"},rm:N,ro:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1],re=Number(Q[0])==U,ve=re&&Q[0].slice(-2);return Y?U==1?"one":"other":U==1&&Z?"one":!Z||U==0||U!=1&&ve>=1&&ve<=19?"few":"other"},rof:N,ru:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-1),Be=Z.slice(-2);return Y?"other":re&&ve==1&&Be!=11?"one":re&&ve>=2&&ve<=4&&(Be<12||Be>14)?"few":re&&ve==0||re&&ve>=5&&ve<=9||re&&Be>=11&&Be<=14?"many":"other"},rwk:N,sah:He,saq:N,sat:nt,sc:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1];return Y?U==11||U==8||U==80||U==800?"many":"other":U==1&&Z?"one":"other"},scn:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1];return Y?U==11||U==8||U==80||U==800?"many":"other":U==1&&Z?"one":"other"},sd:N,sdh:N,se:nt,seh:N,ses:He,sg:He,sh:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=Z.slice(-2),St=re.slice(-1),tn=re.slice(-2);return Y?"other":ve&&Be==1&&st!=11||St==1&&tn!=11?"one":ve&&Be>=2&&Be<=4&&(st<12||st>14)||St>=2&&St<=4&&(tn<12||tn>14)?"few":"other"},shi:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?"other":U>=0&&U<=1?"one":Z&&U>=2&&U<=10?"few":"other"},si:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"";return Y?"other":U==0||U==1||Z==0&&re==1?"one":"other"},sk:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1];return Y?"other":U==1&&re?"one":Z>=2&&Z<=4&&re?"few":re?"other":"many"},sl:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-2);return Y?"other":re&&ve==1?"one":re&&ve==2?"two":re&&(ve==3||ve==4)||!re?"few":"other"},sma:nt,smi:nt,smj:nt,smn:nt,sms:nt,sn:N,so:N,sq:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-1),ve=Z&&Q[0].slice(-2);return Y?U==1?"one":re==4&&ve!=14?"many":"other":U==1?"one":"other"},sr:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=Z.slice(-2),St=re.slice(-1),tn=re.slice(-2);return Y?"other":ve&&Be==1&&st!=11||St==1&&tn!=11?"one":ve&&Be>=2&&Be<=4&&(st<12||st>14)||St>=2&&St<=4&&(tn<12||tn>14)?"few":"other"},ss:N,ssy:N,st:N,su:He,sv:(U,Y)=>{let Q=String(U).split("."),Z=!Q[1],re=Number(Q[0])==U,ve=re&&Q[0].slice(-1),Be=re&&Q[0].slice(-2);return Y?(ve==1||ve==2)&&Be!=11&&Be!=12?"one":"other":U==1&&Z?"one":"other"},sw:Pe,syr:N,ta:N,te:N,teo:N,th:He,ti:oe,tig:N,tk:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U,re=Z&&Q[0].slice(-1);return Y?re==6||re==9||U==10?"few":"other":U==1?"one":"other"},tl:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=Q[1]||"",ve=!Q[1],Be=Z.slice(-1),st=re.slice(-1);return Y?U==1?"one":"other":ve&&(Z==1||Z==2||Z==3)||ve&&Be!=4&&Be!=6&&Be!=9||!ve&&st!=4&&st!=6&&st!=9?"one":"other"},tn:N,to:He,tpi:He,tr:N,ts:N,tzm:(U,Y)=>{let Q=String(U).split("."),Z=Number(Q[0])==U;return Y?"other":U==0||U==1||Z&&U>=11&&U<=99?"one":"other"},ug:N,uk:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Number(Q[0])==U,Be=ve&&Q[0].slice(-1),st=ve&&Q[0].slice(-2),St=Z.slice(-1),tn=Z.slice(-2);return Y?Be==3&&st!=13?"few":"other":re&&St==1&&tn!=11?"one":re&&St>=2&&St<=4&&(tn<12||tn>14)?"few":re&&St==0||re&&St>=5&&St<=9||re&&tn>=11&&tn<=14?"many":"other"},und:He,ur:Pe,uz:N,ve:N,vec:(U,Y)=>{let Q=String(U).split("."),Z=Q[0],re=!Q[1],ve=Z.slice(-6);return Y?U==11||U==8||U==80||U==800?"many":"other":U==1&&re?"one":Z!=0&&ve==0&&re?"many":"other"},vi:(U,Y)=>Y&&U==1?"one":"other",vo:N,vun:N,wa:oe,wae:N,wo:He,xh:N,xog:N,yi:Pe,yo:He,yue:He,zh:He,zu:ge});function eC(U){if(typeof U!="string"||U.length<2)throw new RangeError("Invalid language tag: ".concat(U));if(U.startsWith("pt-PT"))return"pt-PT";var Y=U.match(/.+?(?=[-_])/);return Y?Y[0]:U}function Og(U){if(typeof U=="function"){var Y=eC(U.name);return{isDefault:!1,id:dd(Y),lc:Y,locale:U.name,getPlural:U,cardinals:U.cardinals||[],ordinals:U.ordinals||[]}}var Q=eC(U),Z=dd(Q);return $F(Z)?{isDefault:!0,id:Z,lc:Q,locale:U,getCardinal:my[Z],getPlural:Dg[Z],cardinals:T[Z].cardinal,ordinals:T[Z].ordinal}:null}function CS(U){var Y=Object.keys(Dg).filter(function(Q){return Q!==U});return Y.unshift(U),Y.map(Og)}function Af(U){var Y=eC(U);return dd(Y)in Dg}function $F(U){return U in Dg}var HF=function(){function U(Y,Q){if(this.plurals=[],this.options=Object.assign({biDiSupport:!1,currency:"USD",customFormatters:{},localeCodeFromKey:null,requireAllArguments:!1,returnType:"string",strict:Q&&Q.strictNumberSign||!1,strictPluralKeys:!0},Q),Y==="*")this.plurals=CS(U.defaultLocale);else if(Array.isArray(Y))this.plurals=Y.map(Og).filter(Boolean);else if(Y){var Z=Og(Y);Z&&(this.plurals=[Z])}if(this.plurals.length===0){var Z=Og(U.defaultLocale);this.plurals=[Z]}}return U.escape=function(Y,Q){var Z=Q?/[#{}]/g:/[{}]/g;return String(Y).replace(Z,"'$&'")},U.supportedLocalesOf=function(Y){var Q=Array.isArray(Y)?Y:[Y];return Q.filter(Af)},U.prototype.resolvedOptions=function(){return t(t({},this.options),{locale:this.plurals[0].locale,plurals:this.plurals})},U.prototype.compile=function(Y){var Q,Z,re=new gb(this.options),ve="return "+re.compile(Y,this.plurals[0]),Be=[],st=[];try{for(var St=i(Object.entries(re.runtime)),tn=St.next();!tn.done;tn=St.next()){var bi=e(tn.value,2),Ii=bi[0],ki=bi[1];Be.push(Ii),st.push(ki)}}catch(To){Q={error:To}}finally{try{tn&&!tn.done&&(Z=St.return)&&Z.call(St)}finally{if(Q)throw Q.error}}var xn=new(Function.bind.apply(Function,n(n([void 0],e(Be),!1),[ve],!1)));return xn.apply(void 0,n([],e(st),!1))},U.defaultLocale="en",U}();return HF})});var Zee=Mr((mA,m$)=>{(function(i,e){typeof mA=="object"&&typeof m$=="object"?m$.exports=e():typeof define=="function"&&define.amd?define([],e):typeof mA=="object"?mA.postscribe=e():i.postscribe=e()})(mA,function(){return function(t){var i={};function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}return e.m=t,e.c=i,e.p="",e(0)}([function(t,i,e){"use strict";var n=e(1),r=o(n);function o(s){return s&&s.__esModule?s:{default:s}}t.exports=r.default},function(t,i,e){"use strict";i.__esModule=!0;var n=Object.assign||function(B){for(var q=1;q<arguments.length;q++){var W=arguments[q];for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&(B[ie]=W[ie])}return B};i.default=V;var r=e(2),o=b(r),s=e(4),c=v(s);function v(B){if(B&&B.__esModule)return B;var q={};if(B!=null)for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(q[W]=B[W]);return q.default=B,q}function b(B){return B&&B.__esModule?B:{default:B}}function x(){}var k={afterAsync:x,afterDequeue:x,afterStreamStart:x,afterWrite:x,autoFix:!0,beforeEnqueue:x,beforeWriteToken:function(q){return q},beforeWrite:function(q){return q},done:x,error:function(q){throw new Error(q.msg)},releaseAsync:!1},O=0,w=[],M=null;function F(){var B=w.shift();if(B){var q=c.last(B);q.afterDequeue(),B.stream=L.apply(void 0,B),q.afterStreamStart()}}function L(B,q,W){M=new o.default(B,W),M.id=O++,M.name=W.name||M.id,V.streams[M.name]=M;var ie=B.ownerDocument,se={close:ie.close,open:ie.open,write:ie.write,writeln:ie.writeln};function we(_e){_e=W.beforeWrite(_e),M.write(_e),W.afterWrite(_e)}n(ie,{close:x,open:x,write:function(){for(var ke=arguments.length,be=Array(ke),Te=0;Te<ke;Te++)be[Te]=arguments[Te];return we(be.join(""))},writeln:function(){for(var ke=arguments.length,be=Array(ke),Te=0;Te<ke;Te++)be[Te]=arguments[Te];return we(be.join("")+`
`)}});var Me=M.win.onerror||x;return M.win.onerror=function(_e,ke,be){W.error({msg:_e+" - "+ke+": "+be}),Me.apply(M.win,[_e,ke,be])},M.write(q,function(){n(ie,se),M.win.onerror=Me,W.done(),M=null,F()}),M}function V(B,q,W){if(c.isFunction(W))W={done:W};else if(W==="clear"){w=[],M=null,O=0;return}W=c.defaults(W,k),/^#/.test(B)?B=window.document.getElementById(B.substr(1)):B=B.jquery?B[0]:B;var ie=[B,q,W];return B.postscribe={cancel:function(){ie.stream?ie.stream.abort():ie[1]=x}},W.beforeEnqueue(ie),w.push(ie),M||F(),B.postscribe}n(V,{streams:{},queue:w,WriteStream:o.default})},function(t,i,e){"use strict";i.__esModule=!0;var n=Object.assign||function(B){for(var q=1;q<arguments.length;q++){var W=arguments[q];for(var ie in W)Object.prototype.hasOwnProperty.call(W,ie)&&(B[ie]=W[ie])}return B},r=e(3),o=b(r),s=e(4),c=v(s);function v(B){if(B&&B.__esModule)return B;var q={};if(B!=null)for(var W in B)Object.prototype.hasOwnProperty.call(B,W)&&(q[W]=B[W]);return q.default=B,q}function b(B){return B&&B.__esModule?B:{default:B}}function x(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}var k=!1,O="data-ps-",w="ps-style",M="ps-script";function F(B,q){var W=O+q,ie=B.getAttribute(W);return c.existy(ie)?String(ie):ie}function L(B,q){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,ie=O+q;c.existy(W)&&W!==""?B.setAttribute(ie,W):B.removeAttribute(ie)}var V=function(){function B(q){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};x(this,B),this.root=q,this.options=W,this.doc=q.ownerDocument,this.win=this.doc.defaultView||this.doc.parentWindow,this.parser=new o.default("",{autoFix:W.autoFix}),this.actuals=[q],this.proxyHistory="",this.proxyRoot=this.doc.createElement(q.nodeName),this.scriptStack=[],this.writeQueue=[],L(this.proxyRoot,"proxyof",0)}return B.prototype.write=function(){var W;for((W=this.writeQueue).push.apply(W,arguments);!this.deferredRemote&&this.writeQueue.length;){var ie=this.writeQueue.shift();c.isFunction(ie)?this._callFunction(ie):this._writeImpl(ie)}},B.prototype._callFunction=function(W){var ie={type:"function",value:W.name||W.toString()};this._onScriptStart(ie),W.call(this.win,this.doc),this._onScriptDone(ie)},B.prototype._writeImpl=function(W){this.parser.append(W);for(var ie=void 0,se=void 0,we=void 0,Me=[];(ie=this.parser.readToken())&&!(se=c.isScript(ie))&&!(we=c.isStyle(ie));)ie=this.options.beforeWriteToken(ie),ie&&Me.push(ie);Me.length>0&&this._writeStaticTokens(Me),se&&this._handleScriptToken(ie),we&&this._handleStyleToken(ie)},B.prototype._writeStaticTokens=function(W){var ie=this._buildChunk(W);return ie.actual?(ie.html=this.proxyHistory+ie.actual,this.proxyHistory+=ie.proxy,this.proxyRoot.innerHTML=ie.html,k&&(ie.proxyInnerHTML=this.proxyRoot.innerHTML),this._walkChunk(),k&&(ie.actualInnerHTML=this.root.innerHTML),ie):null},B.prototype._buildChunk=function(W){for(var ie=this.actuals.length,se=[],we=[],Me=[],_e=W.length,ke=0;ke<_e;ke++){var be=W[ke],Te=be.toString();if(se.push(Te),be.attrs){if(!/^noscript$/i.test(be.tagName)){var Ye=ie++;we.push(Te.replace(/(\/?>)/," "+O+"id="+Ye+" $1")),be.attrs.id!==M&&be.attrs.id!==w&&Me.push(be.type==="atomicTag"?"":"<"+be.tagName+" "+O+"proxyof="+Ye+(be.unary?" />":">"))}}else we.push(Te),Me.push(be.type==="endTag"?Te:"")}return{tokens:W,raw:se.join(""),actual:we.join(""),proxy:Me.join("")}},B.prototype._walkChunk=function(){for(var W=void 0,ie=[this.proxyRoot];c.existy(W=ie.shift());){var se=W.nodeType===1,we=se&&F(W,"proxyof");if(!we){se&&(this.actuals[F(W,"id")]=W,L(W,"id"));var Me=W.parentNode&&F(W.parentNode,"proxyof");Me&&this.actuals[Me].appendChild(W)}ie.unshift.apply(ie,c.toArray(W.childNodes))}},B.prototype._handleScriptToken=function(W){var ie=this,se=this.parser.clear();se&&this.writeQueue.unshift(se),W.src=W.attrs.src||W.attrs.SRC,W=this.options.beforeWriteToken(W),W&&(W.src&&this.scriptStack.length?this.deferredRemote=W:this._onScriptStart(W),this._writeScriptToken(W,function(){ie._onScriptDone(W)}))},B.prototype._handleStyleToken=function(W){var ie=this.parser.clear();ie&&this.writeQueue.unshift(ie),W.type=W.attrs.type||W.attrs.TYPE||"text/css",W=this.options.beforeWriteToken(W),W&&this._writeStyleToken(W),ie&&this.write()},B.prototype._writeStyleToken=function(W){var ie=this._buildStyle(W);this._insertCursor(ie,w),W.content&&(ie.styleSheet&&!ie.sheet?ie.styleSheet.cssText=W.content:ie.appendChild(this.doc.createTextNode(W.content)))},B.prototype._buildStyle=function(W){var ie=this.doc.createElement(W.tagName);return ie.setAttribute("type",W.type),c.eachKey(W.attrs,function(se,we){ie.setAttribute(se,we)}),ie},B.prototype._insertCursor=function(W,ie){this._writeImpl('<span id="'+ie+'"/>');var se=this.doc.getElementById(ie);se&&se.parentNode.replaceChild(W,se)},B.prototype._onScriptStart=function(W){W.outerWrites=this.writeQueue,this.writeQueue=[],this.scriptStack.unshift(W)},B.prototype._onScriptDone=function(W){if(W!==this.scriptStack[0]){this.options.error({msg:"Bad script nesting or script finished twice"});return}this.scriptStack.shift(),this.write.apply(this,W.outerWrites),!this.scriptStack.length&&this.deferredRemote&&(this._onScriptStart(this.deferredRemote),this.deferredRemote=null)},B.prototype._writeScriptToken=function(W,ie){var se=this._buildScript(W),we=this._shouldRelease(se),Me=this.options.afterAsync;W.src&&(se.src=W.src,this._scriptLoadHandler(se,we?Me:function(){ie(),Me()}));try{this._insertCursor(se,M),(!se.src||we)&&ie()}catch(_e){this.options.error(_e),ie()}},B.prototype._buildScript=function(W){var ie=this.doc.createElement(W.tagName);return c.eachKey(W.attrs,function(se,we){ie.setAttribute(se,we)}),W.content&&(ie.text=W.content),ie},B.prototype._scriptLoadHandler=function(W,ie){function se(){W=W.onload=W.onreadystatechange=W.onerror=null}var we=this.options.error;function Me(){se(),ie?.(),ie=null}function _e(be){se(),we(be),ie?.(),ie=null}function ke(be,Te){var Ye=be["on"+Te];Ye!=null&&(be["_on"+Te]=Ye)}ke(W,"load"),ke(W,"error"),n(W,{onload:function(){if(W._onload)try{W._onload.apply(this,Array.prototype.slice.call(arguments,0))}catch(Te){_e({msg:"onload handler failed "+Te+" @ "+W.src})}Me()},onerror:function(){if(W._onerror)try{W._onerror.apply(this,Array.prototype.slice.call(arguments,0))}catch(Te){_e({msg:"onerror handler failed "+Te+" @ "+W.src});return}_e({msg:"remote script failed "+W.src})},onreadystatechange:function(){/^(loaded|complete)$/.test(W.readyState)&&Me()}})},B.prototype._shouldRelease=function(W){var ie=/^script$/i.test(W.nodeName);return!ie||!!(this.options.releaseAsync&&W.src&&W.hasAttribute("async"))},B}();i.default=V},function(t,i,e){(function(r,o){t.exports=o()})(this,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var c=r[s]={exports:{},id:s,loaded:!1};return n[s].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}return o.m=n,o.c=r,o.p="",o(0)}([function(n,r,o){"use strict";var s=o(1),c=v(s);function v(b){return b&&b.__esModule?b:{default:b}}n.exports=c.default},function(n,r,o){"use strict";r.__esModule=!0;var s=o(2),c=M(s),v=o(3),b=M(v),x=o(6),k=w(x),O=o(5);function w(q){return q&&q.__esModule?q:{default:q}}function M(q){if(q&&q.__esModule)return q;var W={};if(q!=null)for(var ie in q)Object.prototype.hasOwnProperty.call(q,ie)&&(W[ie]=q[ie]);return W.default=q,W}function F(q,W){if(!(q instanceof W))throw new TypeError("Cannot call a class as a function")}var L={comment:/^<!--/,endTag:/^<\//,atomicTag:/^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,startTag:/^</,chars:/^[^<]/},V=function(){function q(){var W=this,ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F(this,q),this.stream=ie;var we=!1,Me={};for(var _e in c)c.hasOwnProperty(_e)&&(se.autoFix&&(Me[_e+"Fix"]=!0),we=we||Me[_e+"Fix"]);we?(this._readToken=(0,k.default)(this,Me,function(){return W._readTokenImpl()}),this._peekToken=(0,k.default)(this,Me,function(){return W._peekTokenImpl()})):(this._readToken=this._readTokenImpl,this._peekToken=this._peekTokenImpl)}return q.prototype.append=function(ie){this.stream+=ie},q.prototype.prepend=function(ie){this.stream=ie+this.stream},q.prototype._readTokenImpl=function(){var ie=this._peekTokenImpl();if(ie)return this.stream=this.stream.slice(ie.length),ie},q.prototype._peekTokenImpl=function(){for(var ie in L)if(L.hasOwnProperty(ie)&&L[ie].test(this.stream)){var se=b[ie](this.stream);if(se)return se.type==="startTag"&&/script|style/i.test(se.tagName)?null:(se.text=this.stream.substr(0,se.length),se)}},q.prototype.peekToken=function(){return this._peekToken()},q.prototype.readToken=function(){return this._readToken()},q.prototype.readTokens=function(ie){for(var se=void 0;se=this.readToken();)if(ie[se.type]&&ie[se.type](se)===!1)return},q.prototype.clear=function(){var ie=this.stream;return this.stream="",ie},q.prototype.rest=function(){return this.stream},q}();r.default=V,V.tokenToString=function(q){return q.toString()},V.escapeAttributes=function(q){var W={};for(var ie in q)q.hasOwnProperty(ie)&&(W[ie]=(0,O.escapeQuotes)(q[ie],null));return W},V.supports=c;for(var B in c)c.hasOwnProperty(B)&&(V.browserHasFlaw=V.browserHasFlaw||!c[B]&&B)},function(n,r){"use strict";r.__esModule=!0;var o=!1,s=!1,c=window.document.createElement("div");try{var v="<P><I></P></I>";c.innerHTML=v,r.tagSoup=o=c.innerHTML!==v}catch{r.tagSoup=o=!1}try{c.innerHTML="<P><i><P></P></i></P>",r.selfClose=s=c.childNodes.length===2}catch{r.selfClose=s=!1}c=null,r.tagSoup=o,r.selfClose=s},function(n,r,o){"use strict";r.__esModule=!0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M};r.comment=b,r.chars=x,r.startTag=k,r.atomicTag=O,r.endTag=w;var c=o(4),v={startTag:/^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,endTag:/^<\/([\-A-Za-z0-9_]+)[^>]*>/,attr:/(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,fillAttr:/^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i};function b(M){var F=M.indexOf("-->");if(F>=0)return new c.CommentToken(M.substr(4,F-1),F+3)}function x(M){var F=M.indexOf("<");return new c.CharsToken(F>=0?F:M.length)}function k(M){var F=M.indexOf(">");if(F!==-1){var L=M.match(v.startTag);if(L){var V=function(){var B={},q={},W=L[2];return L[2].replace(v.attr,function(ie,se){arguments[2]||arguments[3]||arguments[4]||arguments[5]?arguments[5]?(B[arguments[5]]="",q[arguments[5]]=!0):B[se]=arguments[2]||arguments[3]||arguments[4]||v.fillAttr.test(se)&&se||"":B[se]="",W=W.replace(ie,"")}),{v:new c.StartTagToken(L[1],L[0].length,B,q,!!L[3],W.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))}}();if((typeof V>"u"?"undefined":s(V))==="object")return V.v}}}function O(M){var F=k(M);if(F){var L=M.slice(F.length);if(L.match(new RegExp("</\\s*"+F.tagName+"\\s*>","i"))){var V=L.match(new RegExp("([\\s\\S]*?)</\\s*"+F.tagName+"\\s*>","i"));if(V)return new c.AtomicTagToken(F.tagName,V[0].length+F.length,F.attrs,F.booleanAttrs,V[1])}}}function w(M){var F=M.match(v.endTag);if(F)return new c.EndTagToken(F[1],F[0].length)}},function(n,r,o){"use strict";r.__esModule=!0,r.EndTagToken=r.AtomicTagToken=r.StartTagToken=r.TagToken=r.CharsToken=r.CommentToken=r.Token=void 0;var s=o(5);function c(F,L){if(!(F instanceof L))throw new TypeError("Cannot call a class as a function")}var v=r.Token=function F(L,V){c(this,F),this.type=L,this.length=V,this.text=""},b=r.CommentToken=function(){function F(L,V){c(this,F),this.type="comment",this.length=V||(L?L.length:0),this.text="",this.content=L}return F.prototype.toString=function(){return"<!--"+this.content},F}(),x=r.CharsToken=function(){function F(L){c(this,F),this.type="chars",this.length=L,this.text=""}return F.prototype.toString=function(){return this.text},F}(),k=r.TagToken=function(){function F(L,V,B,q,W){c(this,F),this.type=L,this.length=B,this.text="",this.tagName=V,this.attrs=q,this.booleanAttrs=W,this.unary=!1,this.html5Unary=!1}return F.formatTag=function(V){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,q="<"+V.tagName;for(var W in V.attrs)if(V.attrs.hasOwnProperty(W)){q+=" "+W;var ie=V.attrs[W];(typeof V.booleanAttrs>"u"||typeof V.booleanAttrs[W]>"u")&&(q+='="'+(0,s.escapeQuotes)(ie)+'"')}return V.rest&&(q+=" "+V.rest),V.unary&&!V.html5Unary?q+="/>":q+=">",B!=null&&(q+=B+"</"+V.tagName+">"),q},F}(),O=r.StartTagToken=function(){function F(L,V,B,q,W,ie){c(this,F),this.type="startTag",this.length=V,this.text="",this.tagName=L,this.attrs=B,this.booleanAttrs=q,this.html5Unary=!1,this.unary=W,this.rest=ie}return F.prototype.toString=function(){return k.formatTag(this)},F}(),w=r.AtomicTagToken=function(){function F(L,V,B,q,W){c(this,F),this.type="atomicTag",this.length=V,this.text="",this.tagName=L,this.attrs=B,this.booleanAttrs=q,this.unary=!1,this.html5Unary=!1,this.content=W}return F.prototype.toString=function(){return k.formatTag(this,this.content)},F}(),M=r.EndTagToken=function(){function F(L,V){c(this,F),this.type="endTag",this.length=V,this.text="",this.tagName=L}return F.prototype.toString=function(){return"</"+this.tagName+">"},F}()},function(n,r){"use strict";r.__esModule=!0,r.escapeQuotes=o;function o(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return s?s.replace(/([^"]*)"/g,function(v,b){return/\\/.test(b)?b+'"':b+'\\"'}):c}},function(n,r){"use strict";r.__esModule=!0,r.default=k;var o=/^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i,s=/^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i;function c(O){return O&&O.type==="startTag"&&(O.unary=o.test(O.tagName)||O.unary,O.html5Unary=!/\/>$/.test(O.text)),O}function v(O,w){var M=O.stream,F=c(w());return O.stream=M,F}function b(O,w){var M=w.pop();O.prepend("</"+M.tagName+">")}function x(){var O=[];return O.last=function(){return this[this.length-1]},O.lastTagNameEq=function(w){var M=this.last();return M&&M.tagName&&M.tagName.toUpperCase()===w.toUpperCase()},O.containsTagName=function(w){for(var M=0,F;F=this[M];M++)if(F.tagName===w)return!0;return!1},O}function k(O,w,M){var F=x(),L={startTag:function(q){var W=q.tagName;W.toUpperCase()==="TR"&&F.lastTagNameEq("TABLE")?(O.prepend("<TBODY>"),V()):w.selfCloseFix&&s.test(W)&&F.containsTagName(W)?F.lastTagNameEq(W)?b(O,F):(O.prepend("</"+q.tagName+">"),V()):q.unary||F.push(q)},endTag:function(q){var W=F.last();W?w.tagSoupFix&&!F.lastTagNameEq(q.tagName)?b(O,F):F.pop():w.tagSoupFix&&(M(),V())}};function V(){var B=v(O,M);B&&L[B.type]&&L[B.type](B)}return function(){return V(),c(M())}}}])})},function(t,i){"use strict";i.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};i.existy=n,i.isFunction=r,i.each=o,i.eachKey=s,i.defaults=c,i.toArray=v,i.last=b,i.isTag=x,i.isScript=k,i.isStyle=O;function n(w){return w!=null}function r(w){return typeof w=="function"}function o(w,M,F){var L=void 0,V=w&&w.length||0;for(L=0;L<V;L++)M.call(F,w[L],L)}function s(w,M,F){for(var L in w)w.hasOwnProperty(L)&&M.call(F,L,w[L])}function c(w,M){return w=w||{},s(M,function(F,L){n(w[F])||(w[F]=L)}),w}function v(w){try{return Array.prototype.slice.call(w)}catch{var M=function(){var L=[];return o(w,function(V){L.push(V)}),{v:L}}();if((typeof M>"u"?"undefined":e(M))==="object")return M.v}}function b(w){return w[w.length-1]}function x(w,M){return!w||!(w.type==="startTag"||w.type==="atomicTag")||!("tagName"in w)?!1:!!~w.tagName.toLowerCase().indexOf(M)}function k(w){return x(w,"script")}function O(w){return x(w,"style")}}])})});var Xne=Mr((f3,mH)=>{(function(t,i){if(typeof f3=="object"&&typeof mH=="object")mH.exports=i();else if(typeof define=="function"&&define.amd)define([],i);else{var e=i();for(var n in e)(typeof f3=="object"?f3:t)[n]=e[n]}})(self,()=>(()=>{var t={4945:(n,r,o)=>{var s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||o.g!==void 0&&o.g,c=function(){function b(){this.fetch=!1,this.DOMException=s.DOMException}return b.prototype=s,new b}();(function(b){(function(x){var k=b!==void 0&&b||typeof self<"u"&&self||k!==void 0&&k,O="URLSearchParams"in k,w="Symbol"in k&&"iterator"in Symbol,M="FileReader"in k&&"Blob"in k&&function(){try{return new Blob,!0}catch{return!1}}(),F="FormData"in k,L="ArrayBuffer"in k;if(L)var V=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],B=ArrayBuffer.isView||function(Fe){return Fe&&V.indexOf(Object.prototype.toString.call(Fe))>-1};function q(Fe){if(typeof Fe!="string"&&(Fe=String(Fe)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(Fe)||Fe==="")throw new TypeError('Invalid character in header field name: "'+Fe+'"');return Fe.toLowerCase()}function W(Fe){return typeof Fe!="string"&&(Fe=String(Fe)),Fe}function ie(Fe){var $e={next:function(){var ot=Fe.shift();return{done:ot===void 0,value:ot}}};return w&&($e[Symbol.iterator]=function(){return $e}),$e}function se(Fe){this.map={},Fe instanceof se?Fe.forEach(function($e,ot){this.append(ot,$e)},this):Array.isArray(Fe)?Fe.forEach(function($e){this.append($e[0],$e[1])},this):Fe&&Object.getOwnPropertyNames(Fe).forEach(function($e){this.append($e,Fe[$e])},this)}function we(Fe){if(Fe.bodyUsed)return Promise.reject(new TypeError("Already read"));Fe.bodyUsed=!0}function Me(Fe){return new Promise(function($e,ot){Fe.onload=function(){$e(Fe.result)},Fe.onerror=function(){ot(Fe.error)}})}function _e(Fe){var $e=new FileReader,ot=Me($e);return $e.readAsArrayBuffer(Fe),ot}function ke(Fe){if(Fe.slice)return Fe.slice(0);var $e=new Uint8Array(Fe.byteLength);return $e.set(new Uint8Array(Fe)),$e.buffer}function be(){return this.bodyUsed=!1,this._initBody=function(Fe){var $e;this.bodyUsed=this.bodyUsed,this._bodyInit=Fe,Fe?typeof Fe=="string"?this._bodyText=Fe:M&&Blob.prototype.isPrototypeOf(Fe)?this._bodyBlob=Fe:F&&FormData.prototype.isPrototypeOf(Fe)?this._bodyFormData=Fe:O&&URLSearchParams.prototype.isPrototypeOf(Fe)?this._bodyText=Fe.toString():L&&M&&($e=Fe)&&DataView.prototype.isPrototypeOf($e)?(this._bodyArrayBuffer=ke(Fe.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):L&&(ArrayBuffer.prototype.isPrototypeOf(Fe)||B(Fe))?this._bodyArrayBuffer=ke(Fe):this._bodyText=Fe=Object.prototype.toString.call(Fe):this._bodyText="",this.headers.get("content-type")||(typeof Fe=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):O&&URLSearchParams.prototype.isPrototypeOf(Fe)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M&&(this.blob=function(){var Fe=we(this);if(Fe)return Fe;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?we(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(_e)}),this.text=function(){var Fe,$e,ot,it=we(this);if(it)return it;if(this._bodyBlob)return Fe=this._bodyBlob,ot=Me($e=new FileReader),$e.readAsText(Fe),ot;if(this._bodyArrayBuffer)return Promise.resolve(function(mt){for(var ln=new Uint8Array(mt),Ge=new Array(ln.length),It=0;It<ln.length;It++)Ge[It]=String.fromCharCode(ln[It]);return Ge.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},F&&(this.formData=function(){return this.text().then(pt)}),this.json=function(){return this.text().then(JSON.parse)},this}se.prototype.append=function(Fe,$e){Fe=q(Fe),$e=W($e);var ot=this.map[Fe];this.map[Fe]=ot?ot+", "+$e:$e},se.prototype.delete=function(Fe){delete this.map[q(Fe)]},se.prototype.get=function(Fe){return Fe=q(Fe),this.has(Fe)?this.map[Fe]:null},se.prototype.has=function(Fe){return this.map.hasOwnProperty(q(Fe))},se.prototype.set=function(Fe,$e){this.map[q(Fe)]=W($e)},se.prototype.forEach=function(Fe,$e){for(var ot in this.map)this.map.hasOwnProperty(ot)&&Fe.call($e,this.map[ot],ot,this)},se.prototype.keys=function(){var Fe=[];return this.forEach(function($e,ot){Fe.push(ot)}),ie(Fe)},se.prototype.values=function(){var Fe=[];return this.forEach(function($e){Fe.push($e)}),ie(Fe)},se.prototype.entries=function(){var Fe=[];return this.forEach(function($e,ot){Fe.push([ot,$e])}),ie(Fe)},w&&(se.prototype[Symbol.iterator]=se.prototype.entries);var Te=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ye(Fe,$e){if(!(this instanceof Ye))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var ot,it,mt=($e=$e||{}).body;if(Fe instanceof Ye){if(Fe.bodyUsed)throw new TypeError("Already read");this.url=Fe.url,this.credentials=Fe.credentials,$e.headers||(this.headers=new se(Fe.headers)),this.method=Fe.method,this.mode=Fe.mode,this.signal=Fe.signal,mt||Fe._bodyInit==null||(mt=Fe._bodyInit,Fe.bodyUsed=!0)}else this.url=String(Fe);if(this.credentials=$e.credentials||this.credentials||"same-origin",!$e.headers&&this.headers||(this.headers=new se($e.headers)),this.method=(it=(ot=$e.method||this.method||"GET").toUpperCase(),Te.indexOf(it)>-1?it:ot),this.mode=$e.mode||this.mode||null,this.signal=$e.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&mt)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(mt),!(this.method!=="GET"&&this.method!=="HEAD"||$e.cache!=="no-store"&&$e.cache!=="no-cache")){var ln=/([?&])_=[^&]*/;ln.test(this.url)?this.url=this.url.replace(ln,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function pt(Fe){var $e=new FormData;return Fe.trim().split("&").forEach(function(ot){if(ot){var it=ot.split("="),mt=it.shift().replace(/\+/g," "),ln=it.join("=").replace(/\+/g," ");$e.append(decodeURIComponent(mt),decodeURIComponent(ln))}}),$e}function $t(Fe,$e){if(!(this instanceof $t))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');$e||($e={}),this.type="default",this.status=$e.status===void 0?200:$e.status,this.ok=this.status>=200&&this.status<300,this.statusText=$e.statusText===void 0?"":""+$e.statusText,this.headers=new se($e.headers),this.url=$e.url||"",this._initBody(Fe)}Ye.prototype.clone=function(){return new Ye(this,{body:this._bodyInit})},be.call(Ye.prototype),be.call($t.prototype),$t.prototype.clone=function(){return new $t(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new se(this.headers),url:this.url})},$t.error=function(){var Fe=new $t(null,{status:0,statusText:""});return Fe.type="error",Fe};var Ke=[301,302,303,307,308];$t.redirect=function(Fe,$e){if(Ke.indexOf($e)===-1)throw new RangeError("Invalid status code");return new $t(null,{status:$e,headers:{location:Fe}})},x.DOMException=k.DOMException;try{new x.DOMException}catch{x.DOMException=function($e,ot){this.message=$e,this.name=ot;var it=Error($e);this.stack=it.stack},x.DOMException.prototype=Object.create(Error.prototype),x.DOMException.prototype.constructor=x.DOMException}function rt(Fe,$e){return new Promise(function(ot,it){var mt=new Ye(Fe,$e);if(mt.signal&&mt.signal.aborted)return it(new x.DOMException("Aborted","AbortError"));var ln=new XMLHttpRequest;function Ge(){ln.abort()}ln.onload=function(){var It,Nt,Hn={status:ln.status,statusText:ln.statusText,headers:(It=ln.getAllResponseHeaders()||"",Nt=new se,It.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(Co){return Co.indexOf(`
`)===0?Co.substr(1,Co.length):Co}).forEach(function(Co){var js=Co.split(":"),ca=js.shift().trim();if(ca){var Da=js.join(":").trim();Nt.append(ca,Da)}}),Nt)};Hn.url="responseURL"in ln?ln.responseURL:Hn.headers.get("X-Request-URL");var Lr="response"in ln?ln.response:ln.responseText;setTimeout(function(){ot(new $t(Lr,Hn))},0)},ln.onerror=function(){setTimeout(function(){it(new TypeError("Network request failed"))},0)},ln.ontimeout=function(){setTimeout(function(){it(new TypeError("Network request failed"))},0)},ln.onabort=function(){setTimeout(function(){it(new x.DOMException("Aborted","AbortError"))},0)},ln.open(mt.method,function(It){try{return It===""&&k.location.href?k.location.href:It}catch{return It}}(mt.url),!0),mt.credentials==="include"?ln.withCredentials=!0:mt.credentials==="omit"&&(ln.withCredentials=!1),"responseType"in ln&&(M?ln.responseType="blob":L&&mt.headers.get("Content-Type")&&mt.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(ln.responseType="arraybuffer")),!$e||typeof $e.headers!="object"||$e.headers instanceof se?mt.headers.forEach(function(It,Nt){ln.setRequestHeader(Nt,It)}):Object.getOwnPropertyNames($e.headers).forEach(function(It){ln.setRequestHeader(It,W($e.headers[It]))}),mt.signal&&(mt.signal.addEventListener("abort",Ge),ln.onreadystatechange=function(){ln.readyState===4&&mt.signal.removeEventListener("abort",Ge)}),ln.send(mt._bodyInit===void 0?null:mt._bodyInit)})}rt.polyfill=!0,k.fetch||(k.fetch=rt,k.Headers=se,k.Request=Ye,k.Response=$t),x.Headers=se,x.Request=Ye,x.Response=$t,x.fetch=rt})({})})(c),c.fetch.ponyfill=!0,delete c.fetch.polyfill;var v=s.fetch?s:c;(r=v.fetch).default=v.fetch,r.fetch=v.fetch,r.Headers=v.Headers,r.Request=v.Request,r.Response=v.Response,n.exports=r},2543:function(n,r,o){var s;n=o.nmd(n),function(){var c,v="Expected a function",b="__lodash_hash_undefined__",x="__lodash_placeholder__",k=32,O=128,w=1/0,M=9007199254740991,F=NaN,L=4294967295,V=[["ary",O],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",k],["partialRight",64],["rearg",256]],B="[object Arguments]",q="[object Array]",W="[object Boolean]",ie="[object Date]",se="[object Error]",we="[object Function]",Me="[object GeneratorFunction]",_e="[object Map]",ke="[object Number]",be="[object Object]",Te="[object Promise]",Ye="[object RegExp]",pt="[object Set]",$t="[object String]",Ke="[object Symbol]",rt="[object WeakMap]",Fe="[object ArrayBuffer]",$e="[object DataView]",ot="[object Float32Array]",it="[object Float64Array]",mt="[object Int8Array]",ln="[object Int16Array]",Ge="[object Int32Array]",It="[object Uint8Array]",Nt="[object Uint8ClampedArray]",Hn="[object Uint16Array]",Lr="[object Uint32Array]",Co=/\b__p \+= '';/g,js=/\b(__p \+=) '' \+/g,ca=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Da=/&(?:amp|lt|gt|quot|#39);/g,ju=/[&<>"']/g,Kp=RegExp(Da.source),qp=RegExp(ju.source),Jl=/<%-([\s\S]+?)%>/g,Gu=/<%([\s\S]+?)%>/g,ad=/<%=([\s\S]+?)%>/g,Gs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oa=/^\w*$/,sd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ru=/[\\^$.*+?()[\]{}|]/g,Ym=RegExp(ru.source),Xl=/^\s+/,Pc=/\s/,L0=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bh=/\{\n\/\* \[wrapped with (.+)\] \*/,Wp=/,? & /,Ks=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ul=/[()=,{}\[\]\/\s]/,ou=/\\(\\)?/g,Ku=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zp=/\w*$/,B0=/^[-+]0x[0-9a-f]+$/i,qu=/^0b[01]+$/i,ia=/^\[object .+?Constructor\]$/,Jm=/^0o[0-7]+$/i,Xm=/^(?:0|[1-9]\d*)$/,ld=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kc=/($^)/,U0=/['\n\r\u2028\u2029\\]/g,cd="\\ud800-\\udfff",Ih="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qm="\\u2700-\\u27bf",$0="a-z\\xdf-\\xf6\\xf8-\\xff",H0="A-Z\\xc0-\\xd6\\xd8-\\xde",Sh="\\ufe0e\\ufe0f",Zm="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Yp="["+cd+"]",rs="["+Zm+"]",wl="["+Ih+"]",xh="\\d+",Vv="["+Qm+"]",au="["+$0+"]",V0="[^"+cd+Zm+xh+Qm+$0+H0+"]",F1="\\ud83c[\\udffb-\\udfff]",L1="[^"+cd+"]",jv="(?:\\ud83c[\\udde6-\\uddff]){2}",Ah="[\\ud800-\\udbff][\\udc00-\\udfff]",ef="["+H0+"]",dd="\\u200d",j0="(?:"+au+"|"+V0+")",B1="(?:"+ef+"|"+V0+")",U1="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",$1="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",H1="(?:"+wl+"|"+F1+")?",V1="["+Sh+"]?",Gv=V1+H1+"(?:"+dd+"(?:"+[L1,jv,Ah].join("|")+")"+V1+H1+")*",hb="(?:"+[Vv,jv,Ah].join("|")+")"+Gv,gb="(?:"+[L1+wl+"?",wl,jv,Ah,Yp].join("|")+")",j1=RegExp("['\u2019]","g"),dn=RegExp(wl,"g"),wc=RegExp(F1+"(?="+F1+")|"+gb+Gv,"g"),ud=RegExp([ef+"?"+au+"+"+U1+"(?="+[rs,ef,"$"].join("|")+")",B1+"+"+$1+"(?="+[rs,ef+j0,"$"].join("|")+")",ef+"?"+j0+"+"+U1,ef+"+"+$1,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xh,hb].join("|"),"g"),Cs=RegExp("["+dd+cd+Ih+Sh+"]"),Br=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jA=-1,Go={};Go[ot]=Go[it]=Go[mt]=Go[ln]=Go[Ge]=Go[It]=Go[Nt]=Go[Hn]=Go[Lr]=!0,Go[B]=Go[q]=Go[Fe]=Go[W]=Go[$e]=Go[ie]=Go[se]=Go[we]=Go[_e]=Go[ke]=Go[be]=Go[Ye]=Go[pt]=Go[$t]=Go[rt]=!1;var Bo={};Bo[B]=Bo[q]=Bo[Fe]=Bo[$e]=Bo[W]=Bo[ie]=Bo[ot]=Bo[it]=Bo[mt]=Bo[ln]=Bo[Ge]=Bo[_e]=Bo[ke]=Bo[be]=Bo[Ye]=Bo[pt]=Bo[$t]=Bo[Ke]=Bo[It]=Bo[Nt]=Bo[Hn]=Bo[Lr]=!0,Bo[se]=Bo[we]=Bo[rt]=!1;var Kv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qv=parseFloat,G1=parseInt,Ph=typeof o.g=="object"&&o.g&&o.g.Object===Object&&o.g,vb=typeof self=="object"&&self&&self.Object===Object&&self,ws=Ph||vb||Function("return this")(),_b=r&&!r.nodeType&&r,G0=_b&&n&&!n.nodeType&&n,Cb=G0&&G0.exports===_b,K1=Cb&&Ph.process,pl=function(){try{return G0&&G0.require&&G0.require("util").types||K1&&K1.binding&&K1.binding("util")}catch{}}(),yb=pl&&pl.isArrayBuffer,Eb=pl&&pl.isDate,Tb=pl&&pl.isMap,bb=pl&&pl.isRegExp,Ib=pl&&pl.isSet,q1=pl&&pl.isTypedArray;function qs(Tt,Vt,Kt){switch(Kt.length){case 0:return Tt.call(Vt);case 1:return Tt.call(Vt,Kt[0]);case 2:return Tt.call(Vt,Kt[0],Kt[1]);case 3:return Tt.call(Vt,Kt[0],Kt[1],Kt[2])}return Tt.apply(Vt,Kt)}function GA(Tt,Vt,Kt,Nn){for(var Ji=-1,zr=Tt==null?0:Tt.length;++Ji<zr;){var os=Tt[Ji];Vt(Nn,os,Kt(os),Tt)}return Nn}function Ql(Tt,Vt){for(var Kt=-1,Nn=Tt==null?0:Tt.length;++Kt<Nn&&Vt(Tt[Kt],Kt,Tt)!==!1;);return Tt}function kh(Tt,Vt){for(var Kt=Tt==null?0:Tt.length;Kt--&&Vt(Tt[Kt],Kt,Tt)!==!1;);return Tt}function Sb(Tt,Vt){for(var Kt=-1,Nn=Tt==null?0:Tt.length;++Kt<Nn;)if(!Vt(Tt[Kt],Kt,Tt))return!1;return!0}function md(Tt,Vt){for(var Kt=-1,Nn=Tt==null?0:Tt.length,Ji=0,zr=[];++Kt<Nn;){var os=Tt[Kt];Vt(os,Kt,Tt)&&(zr[Ji++]=os)}return zr}function K0(Tt,Vt){return!(Tt==null||!Tt.length)&&Wu(Tt,Vt,0)>-1}function W1(Tt,Vt,Kt){for(var Nn=-1,Ji=Tt==null?0:Tt.length;++Nn<Ji;)if(Kt(Vt,Tt[Nn]))return!0;return!1}function Uo(Tt,Vt){for(var Kt=-1,Nn=Tt==null?0:Tt.length,Ji=Array(Nn);++Kt<Nn;)Ji[Kt]=Vt(Tt[Kt],Kt,Tt);return Ji}function su(Tt,Vt){for(var Kt=-1,Nn=Vt.length,Ji=Tt.length;++Kt<Nn;)Tt[Ji+Kt]=Vt[Kt];return Tt}function Wv(Tt,Vt,Kt,Nn){var Ji=-1,zr=Tt==null?0:Tt.length;for(Nn&&zr&&(Kt=Tt[++Ji]);++Ji<zr;)Kt=Vt(Kt,Tt[Ji],Ji,Tt);return Kt}function KA(Tt,Vt,Kt,Nn){var Ji=Tt==null?0:Tt.length;for(Nn&&Ji&&(Kt=Tt[--Ji]);Ji--;)Kt=Vt(Kt,Tt[Ji],Ji,Tt);return Kt}function z1(Tt,Vt){for(var Kt=-1,Nn=Tt==null?0:Tt.length;++Kt<Nn;)if(Vt(Tt[Kt],Kt,Tt))return!0;return!1}var qA=Y1("length");function xb(Tt,Vt,Kt){var Nn;return Kt(Tt,function(Ji,zr,os){if(Vt(Ji,zr,os))return Nn=zr,!1}),Nn}function q0(Tt,Vt,Kt,Nn){for(var Ji=Tt.length,zr=Kt+(Nn?1:-1);Nn?zr--:++zr<Ji;)if(Vt(Tt[zr],zr,Tt))return zr;return-1}function Wu(Tt,Vt,Kt){return Vt==Vt?function(Nn,Ji,zr){for(var os=zr-1,lu=Nn.length;++os<lu;)if(Nn[os]===Ji)return os;return-1}(Tt,Vt,Kt):q0(Tt,Ab,Kt)}function WA(Tt,Vt,Kt,Nn){for(var Ji=Kt-1,zr=Tt.length;++Ji<zr;)if(Nn(Tt[Ji],Vt))return Ji;return-1}function Ab(Tt){return Tt!=Tt}function Pb(Tt,Vt){var Kt=Tt==null?0:Tt.length;return Kt?W0(Tt,Vt)/Kt:F}function Y1(Tt){return function(Vt){return Vt==null?c:Vt[Tt]}}function J1(Tt){return function(Vt){return Tt==null?c:Tt[Vt]}}function zv(Tt,Vt,Kt,Nn,Ji){return Ji(Tt,function(zr,os,lu){Kt=Nn?(Nn=!1,zr):Vt(Kt,zr,os,lu)}),Kt}function W0(Tt,Vt){for(var Kt,Nn=-1,Ji=Tt.length;++Nn<Ji;){var zr=Vt(Tt[Nn]);zr!==c&&(Kt=Kt===c?zr:Kt+zr)}return Kt}function tf(Tt,Vt){for(var Kt=-1,Nn=Array(Tt);++Kt<Tt;)Nn[Kt]=Vt(Kt);return Nn}function kb(Tt){return Tt&&Tt.slice(0,Z1(Tt)+1).replace(Xl,"")}function Zl(Tt){return function(Vt){return Tt(Vt)}}function X1(Tt,Vt){return Uo(Vt,function(Kt){return Tt[Kt]})}function z0(Tt,Vt){return Tt.has(Vt)}function wb(Tt,Vt){for(var Kt=-1,Nn=Tt.length;++Kt<Nn&&Wu(Vt,Tt[Kt],0)>-1;);return Kt}function Db(Tt,Vt){for(var Kt=Tt.length;Kt--&&Wu(Vt,Tt[Kt],0)>-1;);return Kt}var Q1=J1({\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"}),zA=J1({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function YA(Tt){return"\\"+Kv[Tt]}function wh(Tt){return Cs.test(Tt)}function zu(Tt){var Vt=-1,Kt=Array(Tt.size);return Tt.forEach(function(Nn,Ji){Kt[++Vt]=[Ji,Nn]}),Kt}function Ob(Tt,Vt){return function(Kt){return Tt(Vt(Kt))}}function Jp(Tt,Vt){for(var Kt=-1,Nn=Tt.length,Ji=0,zr=[];++Kt<Nn;){var os=Tt[Kt];os!==Vt&&os!==x||(Tt[Kt]=x,zr[Ji++]=Kt)}return zr}function Yv(Tt){var Vt=-1,Kt=Array(Tt.size);return Tt.forEach(function(Nn){Kt[++Vt]=Nn}),Kt}function Nb(Tt){var Vt=-1,Kt=Array(Tt.size);return Tt.forEach(function(Nn){Kt[++Vt]=[Nn,Nn]}),Kt}function Xp(Tt){return wh(Tt)?function(Vt){for(var Kt=wc.lastIndex=0;wc.test(Vt);)++Kt;return Kt}(Tt):qA(Tt)}function Dc(Tt){return wh(Tt)?function(Vt){return Vt.match(wc)||[]}(Tt):function(Vt){return Vt.split("")}(Tt)}function Z1(Tt){for(var Vt=Tt.length;Vt--&&Pc.test(Tt.charAt(Vt)););return Vt}var Rb=J1({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Jv=function Tt(Vt){var Kt,Nn=(Vt=Vt==null?ws:Jv.defaults(ws.Object(),Vt,Jv.pick(ws,pd))).Array,Ji=Vt.Date,zr=Vt.Error,os=Vt.Function,lu=Vt.Math,Ko=Vt.Object,ey=Vt.RegExp,JA=Vt.String,Oc=Vt.TypeError,nf=Nn.prototype,XA=os.prototype,Dh=Ko.prototype,Xv=Vt["__core-js_shared__"],Qv=XA.toString,yo=Dh.hasOwnProperty,QA=0,ty=(Kt=/[^.]+$/.exec(Xv&&Xv.keys&&Xv.keys.IE_PROTO||""))?"Symbol(src)_1."+Kt:"",Zv=Dh.toString,ZA=Qv.call(Ko),ny=ws._,ml=ey("^"+Qv.call(yo).replace(ru,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y0=Cb?Vt.Buffer:c,ec=Vt.Symbol,as=Vt.Uint8Array,Mb=Y0?Y0.allocUnsafe:c,Qp=Ob(Ko.getPrototypeOf,Ko),e_=Ko.create,rf=Dh.propertyIsEnumerable,of=nf.splice,J0=ec?ec.isConcatSpreadable:c,cu=ec?ec.iterator:c,fd=ec?ec.toStringTag:c,hd=function(){try{var f=tp(Ko,"defineProperty");return f({},"",{}),f}catch{}}(),af=Vt.clearTimeout!==ws.clearTimeout&&Vt.clearTimeout,Oh=Ji&&Ji.now!==ws.Date.now&&Ji.now,Nh=Vt.setTimeout!==ws.setTimeout&&Vt.setTimeout,Zp=lu.ceil,tc=lu.floor,iy=Ko.getOwnPropertySymbols,eP=Y0?Y0.isBuffer:c,Fb=Vt.isFinite,tP=nf.join,nP=Ob(Ko.keys,Ko),ss=lu.max,Ws=lu.min,Lb=Ji.now,Bb=Vt.parseInt,ry=lu.random,em=nf.reverse,t_=tp(Vt,"DataView"),tm=tp(Vt,"Map"),X0=tp(Vt,"Promise"),gd=tp(Vt,"Set"),ya=tp(Vt,"WeakMap"),Rh=tp(Ko,"create"),Q0=ya&&new ya,Yu={},sf=um(t_),lf=um(tm),Ub=um(X0),$b=um(gd),n_=um(ya),Dl=ec?ec.prototype:c,Mh=Dl?Dl.valueOf:c,Z0=Dl?Dl.toString:c;function Ie(f){if(wo(f)&&!or(f)&&!(f instanceof Sr)){if(f instanceof nc)return f;if(yo.call(f,"__wrapped__"))return Sy(f)}return new nc(f)}var cf=function(){function f(){}return function(T){if(!da(T))return{};if(e_)return e_(T);f.prototype=T;var N=new f;return f.prototype=c,N}}();function eg(){}function nc(f,T){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!T,this.__index__=0,this.__values__=c}function Sr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function nm(f){var T=-1,N=f==null?0:f.length;for(this.clear();++T<N;){var oe=f[T];this.set(oe[0],oe[1])}}function Nc(f){var T=-1,N=f==null?0:f.length;for(this.clear();++T<N;){var oe=f[T];this.set(oe[0],oe[1])}}function $o(f){var T=-1,N=f==null?0:f.length;for(this.clear();++T<N;){var oe=f[T];this.set(oe[0],oe[1])}}function vd(f){var T=-1,N=f==null?0:f.length;for(this.__data__=new $o;++T<N;)this.add(f[T])}function Rc(f){var T=this.__data__=new Nc(f);this.size=T.size}function oy(f,T){var N=or(f),oe=!N&&rp(f),ge=!N&&!oe&&mm(f),Pe=!N&&!oe&&!ge&&Hh(f),He=N||oe||ge||Pe,nt=He?tf(f.length,JA):[],vt=nt.length;for(var Ht in f)!T&&!yo.call(f,Ht)||He&&(Ht=="length"||ge&&(Ht=="offset"||Ht=="parent")||Pe&&(Ht=="buffer"||Ht=="byteLength"||Ht=="byteOffset")||yd(Ht,vt))||nt.push(Ht);return nt}function Hb(f){var T=f.length;return T?f[u_(0,T-1)]:c}function ay(f,T){return yg(Rl(f),Ju(T,0,f.length))}function Vb(f){return yg(Rl(f))}function sy(f,T,N){(N!==c&&!Vc(f[T],N)||N===c&&!(T in f))&&_d(f,T,N)}function Fh(f,T,N){var oe=f[T];yo.call(f,T)&&Vc(oe,N)&&(N!==c||T in f)||_d(f,T,N)}function tg(f,T){for(var N=f.length;N--;)if(Vc(f[N][0],T))return N;return-1}function Mc(f,T,N,oe){return Fc(f,function(ge,Pe,He){T(oe,ge,N(ge),He)}),oe}function ly(f,T){return f&&$c(T,ds(T),f)}function _d(f,T,N){T=="__proto__"&&hd?hd(f,T,{configurable:!0,enumerable:!0,value:N,writable:!0}):f[T]=N}function ng(f,T){for(var N=-1,oe=T.length,ge=Nn(oe),Pe=f==null;++N<oe;)ge[N]=Pe?c:Fy(f,T[N]);return ge}function Ju(f,T,N){return f==f&&(N!==c&&(f=f<=N?f:N),T!==c&&(f=f>=T?f:T)),f}function ls(f,T,N,oe,ge,Pe){var He,nt=1&T,vt=2&T,Ht=4&T;if(N&&(He=ge?N(f,oe,ge,Pe):N(f)),He!==c)return He;if(!da(f))return f;var Ut=or(f);if(Ut){if(He=function(jt){var hn=jt.length,Ei=new jt.constructor(hn);return hn&&typeof jt[0]=="string"&&yo.call(jt,"index")&&(Ei.index=jt.index,Ei.input=jt.input),Ei}(f),!nt)return Rl(f,He)}else{var on=zs(f),Vn=on==we||on==Me;if(mm(f))return Ft(f,nt);if(on==be||on==B||Vn&&!ge){if(He=vt||Vn?{}:I_(f),!nt)return vt?function(jt,hn){return $c(jt,nI(jt),hn)}(f,function(jt,hn){return jt&&$c(hn,Fl(hn),jt)}(He,f)):function(jt,hn){return $c(jt,vg(jt),hn)}(f,ly(He,f))}else{if(!Bo[on])return ge?f:{};He=function(jt,hn,Ei){var In,Xi=jt.constructor;switch(hn){case Fe:return du(jt);case W:case ie:return new Xi(+jt);case $e:return function(ei,ao){var pi=ao?du(ei.buffer):ei.buffer;return new ei.constructor(pi,ei.byteOffset,ei.byteLength)}(jt,Ei);case ot:case it:case mt:case ln:case Ge:case It:case Nt:case Hn:case Lr:return to(jt,Ei);case _e:return new Xi;case ke:case $t:return new Xi(jt);case Ye:return function(ei){var ao=new ei.constructor(ei.source,zp.exec(ei));return ao.lastIndex=ei.lastIndex,ao}(jt);case pt:return new Xi;case Ke:return In=jt,Mh?Ko(Mh.call(In)):{}}}(f,on,nt)}}Pe||(Pe=new Rc);var Kn=Pe.get(f);if(Kn)return Kn;Pe.set(f,He),Ag(f)?f.forEach(function(jt){He.add(ls(jt,T,N,jt,f,Pe))}):SI(f)&&f.forEach(function(jt,hn){He.set(hn,ls(jt,T,N,hn,f,Pe))});var mi=Ut?c:(Ht?vt?T_:hg:vt?Fl:ds)(f);return Ql(mi||f,function(jt,hn){mi&&(jt=f[hn=jt]),Fh(He,hn,ls(jt,T,N,hn,f,Pe))}),He}function cy(f,T,N){var oe=N.length;if(f==null)return!oe;for(f=Ko(f);oe--;){var ge=N[oe],Pe=T[ge],He=f[ge];if(He===c&&!(ge in f)||!Pe(He))return!1}return!0}function Ol(f,T,N){if(typeof f!="function")throw new Oc(v);return Cg(function(){f.apply(c,N)},T)}function im(f,T,N,oe){var ge=-1,Pe=K0,He=!0,nt=f.length,vt=[],Ht=T.length;if(!nt)return vt;N&&(T=Uo(T,Zl(N))),oe?(Pe=W1,He=!1):T.length>=200&&(Pe=z0,He=!1,T=new vd(T));e:for(;++ge<nt;){var Ut=f[ge],on=N==null?Ut:N(Ut);if(Ut=oe||Ut!==0?Ut:0,He&&on==on){for(var Vn=Ht;Vn--;)if(T[Vn]===on)continue e;vt.push(Ut)}else Pe(T,on,oe)||vt.push(Ut)}return vt}Ie.templateSettings={escape:Jl,evaluate:Gu,interpolate:ad,variable:"",imports:{_:Ie}},Ie.prototype=eg.prototype,Ie.prototype.constructor=Ie,nc.prototype=cf(eg.prototype),nc.prototype.constructor=nc,Sr.prototype=cf(eg.prototype),Sr.prototype.constructor=Sr,nm.prototype.clear=function(){this.__data__=Rh?Rh(null):{},this.size=0},nm.prototype.delete=function(f){var T=this.has(f)&&delete this.__data__[f];return this.size-=T?1:0,T},nm.prototype.get=function(f){var T=this.__data__;if(Rh){var N=T[f];return N===b?c:N}return yo.call(T,f)?T[f]:c},nm.prototype.has=function(f){var T=this.__data__;return Rh?T[f]!==c:yo.call(T,f)},nm.prototype.set=function(f,T){var N=this.__data__;return this.size+=this.has(f)?0:1,N[f]=Rh&&T===c?b:T,this},Nc.prototype.clear=function(){this.__data__=[],this.size=0},Nc.prototype.delete=function(f){var T=this.__data__,N=tg(T,f);return!(N<0||(N==T.length-1?T.pop():of.call(T,N,1),--this.size,0))},Nc.prototype.get=function(f){var T=this.__data__,N=tg(T,f);return N<0?c:T[N][1]},Nc.prototype.has=function(f){return tg(this.__data__,f)>-1},Nc.prototype.set=function(f,T){var N=this.__data__,oe=tg(N,f);return oe<0?(++this.size,N.push([f,T])):N[oe][1]=T,this},$o.prototype.clear=function(){this.size=0,this.__data__={hash:new nm,map:new(tm||Nc),string:new nm}},$o.prototype.delete=function(f){var T=gg(this,f).delete(f);return this.size-=T?1:0,T},$o.prototype.get=function(f){return gg(this,f).get(f)},$o.prototype.has=function(f){return gg(this,f).has(f)},$o.prototype.set=function(f,T){var N=gg(this,f),oe=N.size;return N.set(f,T),this.size+=N.size==oe?0:1,this},vd.prototype.add=vd.prototype.push=function(f){return this.__data__.set(f,b),this},vd.prototype.has=function(f){return this.__data__.has(f)},Rc.prototype.clear=function(){this.__data__=new Nc,this.size=0},Rc.prototype.delete=function(f){var T=this.__data__,N=T.delete(f);return this.size=T.size,N},Rc.prototype.get=function(f){return this.__data__.get(f)},Rc.prototype.has=function(f){return this.__data__.has(f)},Rc.prototype.set=function(f,T){var N=this.__data__;if(N instanceof Nc){var oe=N.__data__;if(!tm||oe.length<199)return oe.push([f,T]),this.size=++N.size,this;N=this.__data__=new $o(oe)}return N.set(f,T),this.size=N.size,this};var Fc=mf(Nl),df=mf(i_,!0);function ig(f,T){var N=!0;return Fc(f,function(oe,ge,Pe){return N=!!T(oe,ge,Pe)}),N}function rm(f,T,N){for(var oe=-1,ge=f.length;++oe<ge;){var Pe=f[oe],He=T(Pe);if(He!=null&&(nt===c?He==He&&!oc(He):N(He,nt)))var nt=He,vt=Pe}return vt}function dy(f,T){var N=[];return Fc(f,function(oe,ge,Pe){T(oe,ge,Pe)&&N.push(oe)}),N}function za(f,T,N,oe,ge){var Pe=-1,He=f.length;for(N||(N=vy),ge||(ge=[]);++Pe<He;){var nt=f[Pe];T>0&&N(nt)?T>1?za(nt,T-1,N,oe,ge):su(ge,nt):oe||(ge[ge.length]=nt)}return ge}var Xu=ff(),rg=ff(!0);function Nl(f,T){return f&&Xu(f,T,ds)}function i_(f,T){return f&&rg(f,T,ds)}function om(f,T){return md(T,function(N){return fl(f[N])})}function uf(f,T){for(var N=0,oe=(T=eo(T,f)).length;f!=null&&N<oe;)f=f[Ed(T[N++])];return N&&N==oe?f:c}function Lh(f,T,N){var oe=T(f);return or(f)?oe:su(oe,N(f))}function ys(f){return f==null?f===c?"[object Undefined]":"[object Null]":fd&&fd in Ko(f)?function(T){var N=yo.call(T,fd),oe=T[fd];try{T[fd]=c;var ge=!0}catch{}var Pe=Zv.call(T);return ge&&(N?T[fd]=oe:delete T[fd]),Pe}(f):function(T){return Zv.call(T)}(f)}function r_(f,T){return f>T}function jb(f,T){return f!=null&&yo.call(f,T)}function iP(f,T){return f!=null&&T in Ko(f)}function og(f,T,N){for(var oe=N?W1:K0,ge=f[0].length,Pe=f.length,He=Pe,nt=Nn(Pe),vt=1/0,Ht=[];He--;){var Ut=f[He];He&&T&&(Ut=Uo(Ut,Zl(T))),vt=Ws(Ut.length,vt),nt[He]=!N&&(T||ge>=120&&Ut.length>=120)?new vd(He&&Ut):c}Ut=f[0];var on=-1,Vn=nt[0];e:for(;++on<ge&&Ht.length<vt;){var Kn=Ut[on],mi=T?T(Kn):Kn;if(Kn=N||Kn!==0?Kn:0,!(Vn?z0(Vn,mi):oe(Ht,mi,N))){for(He=Pe;--He;){var jt=nt[He];if(!(jt?z0(jt,mi):oe(f[He],mi,N)))continue e}Vn&&Vn.push(mi),Ht.push(Kn)}}return Ht}function pf(f,T,N){var oe=(f=aI(f,T=eo(T,f)))==null?f:f[Ed(Ml(T))];return oe==null?c:qs(oe,f,N)}function Gb(f){return wo(f)&&ys(f)==B}function ag(f,T,N,oe,ge){return f===T||(f==null||T==null||!wo(f)&&!wo(T)?f!=f&&T!=T:function(Pe,He,nt,vt,Ht,Ut){var on=or(Pe),Vn=or(He),Kn=on?q:zs(Pe),mi=Vn?q:zs(He),jt=(Kn=Kn==B?be:Kn)==be,hn=(mi=mi==B?be:mi)==be,Ei=Kn==mi;if(Ei&&mm(Pe)){if(!mm(He))return!1;on=!0,jt=!1}if(Ei&&!jt)return Ut||(Ut=new Rc),on||Hh(Pe)?tI(Pe,He,nt,vt,Ht,Ut):function(pi,Ci,Fa,Ea,Eo,sr,ua){switch(Fa){case $e:if(pi.byteLength!=Ci.byteLength||pi.byteOffset!=Ci.byteOffset)return!1;pi=pi.buffer,Ci=Ci.buffer;case Fe:return!(pi.byteLength!=Ci.byteLength||!sr(new as(pi),new as(Ci)));case W:case ie:case ke:return Vc(+pi,+Ci);case se:return pi.name==Ci.name&&pi.message==Ci.message;case Ye:case $t:return pi==Ci+"";case _e:var fu=zu;case pt:var fm=1&Ea;if(fu||(fu=Yv),pi.size!=Ci.size&&!fm)return!1;var If=ua.get(pi);if(If)return If==Ci;Ea|=2,ua.set(pi,Ci);var ap=tI(fu(pi),fu(Ci),Ea,Eo,sr,ua);return ua.delete(pi),ap;case Ke:if(Mh)return Mh.call(pi)==Mh.call(Ci)}return!1}(Pe,He,Kn,nt,vt,Ht,Ut);if(!(1&nt)){var In=jt&&yo.call(Pe,"__wrapped__"),Xi=hn&&yo.call(He,"__wrapped__");if(In||Xi){var ei=In?Pe.value():Pe,ao=Xi?He.value():He;return Ut||(Ut=new Rc),Ht(ei,ao,nt,vt,Ut)}}return!!Ei&&(Ut||(Ut=new Rc),function(pi,Ci,Fa,Ea,Eo,sr){var ua=1&Fa,fu=hg(pi),fm=fu.length;if(fm!=hg(Ci).length&&!ua)return!1;for(var If=fm;If--;){var ap=fu[If];if(!(ua?ap in Ci:yo.call(Ci,ap)))return!1}var zy=sr.get(pi),VI=sr.get(Ci);if(zy&&VI)return zy==Ci&&VI==pi;var j_=!0;sr.set(pi,Ci),sr.set(Ci,pi);for(var Yy=ua;++If<fm;){var Pg=pi[ap=fu[If]],G_=Ci[ap];if(Ea)var jI=ua?Ea(G_,Pg,ap,Ci,pi,sr):Ea(Pg,G_,ap,pi,Ci,sr);if(!(jI===c?Pg===G_||Eo(Pg,G_,Fa,Ea,sr):jI)){j_=!1;break}Yy||(Yy=ap=="constructor")}if(j_&&!Yy){var K_=pi.constructor,q_=Ci.constructor;K_==q_||!("constructor"in pi)||!("constructor"in Ci)||typeof K_=="function"&&K_ instanceof K_&&typeof q_=="function"&&q_ instanceof q_||(j_=!1)}return sr.delete(pi),sr.delete(Ci),j_}(Pe,He,nt,vt,Ht,Ut))}(f,T,N,oe,ag,ge))}function o_(f,T,N,oe){var ge=N.length,Pe=ge,He=!oe;if(f==null)return!Pe;for(f=Ko(f);ge--;){var nt=N[ge];if(He&&nt[2]?nt[1]!==f[nt[0]]:!(nt[0]in f))return!1}for(;++ge<Pe;){var vt=(nt=N[ge])[0],Ht=f[vt],Ut=nt[1];if(He&&nt[2]){if(Ht===c&&!(vt in f))return!1}else{var on=new Rc;if(oe)var Vn=oe(Ht,Ut,vt,f,T,on);if(!(Vn===c?ag(Ut,Ht,3,oe,on):Vn))return!1}}return!0}function a_(f){return!(!da(f)||(T=f,ty&&ty in T))&&(fl(f)?ml:ia).test(um(f));var T}function s_(f){return typeof f=="function"?f:f==null?Ll:typeof f=="object"?or(f)?l_(f[0],f[1]):cg(f):UI(f)}function Bh(f){if(!_f(f))return nP(f);var T=[];for(var N in Ko(f))yo.call(f,N)&&N!="constructor"&&T.push(N);return T}function sg(f,T){return f<T}function lg(f,T){var N=-1,oe=cs(f)?Nn(f.length):[];return Fc(f,function(ge,Pe,He){oe[++N]=T(ge,Pe,He)}),oe}function cg(f){var T=b_(f);return T.length==1&&T[0][2]?oI(T[0][0],T[0][1]):function(N){return N===f||o_(N,f,T)}}function l_(f,T){return _y(f)&&rI(T)?oI(Ed(f),T):function(N){var oe=Fy(N,f);return oe===c&&oe===T?Ly(N,f):ag(T,oe,3)}}function ic(f,T,N,oe,ge){f!==T&&Xu(T,function(Pe,He){if(ge||(ge=new Rc),da(Pe))(function(vt,Ht,Ut,on,Vn,Kn,mi){var jt=Cy(vt,Ut),hn=Cy(Ht,Ut),Ei=mi.get(hn);if(Ei)sy(vt,Ut,Ei);else{var In=Kn?Kn(jt,hn,Ut+"",vt,Ht,mi):c,Xi=In===c;if(Xi){var ei=or(hn),ao=!ei&&mm(hn),pi=!ei&&!ao&&Hh(hn);In=hn,ei||ao||pi?or(jt)?In=jt:qo(jt)?In=Rl(jt):ao?(Xi=!1,In=Ft(hn,!0)):pi?(Xi=!1,In=to(hn,!0)):In=[]:Sg(hn)||rp(hn)?(In=jt,rp(jt)?In=$_(jt):da(jt)&&!fl(jt)||(In=I_(hn))):Xi=!1}Xi&&(mi.set(hn,In),Vn(In,hn,on,Kn,mi),mi.delete(hn)),sy(vt,Ut,In)}})(f,T,He,N,ic,oe,ge);else{var nt=oe?oe(Cy(f,He),Pe,He+"",f,T,ge):c;nt===c&&(nt=Pe),sy(f,He,nt)}},Fl)}function Lc(f,T){var N=f.length;if(N)return yd(T+=T<0?N:0,N)?f[T]:c}function am(f,T,N){T=T.length?Uo(T,function(Pe){return or(Pe)?function(He){return uf(He,Pe.length===1?Pe[0]:Pe)}:Pe}):[Ll];var oe=-1;T=Uo(T,Zl(gi()));var ge=lg(f,function(Pe,He,nt){var vt=Uo(T,function(Ht){return Ht(Pe)});return{criteria:vt,index:++oe,value:Pe}});return function(Pe,He){var nt=Pe.length;for(Pe.sort(function(vt,Ht){return function(Ut,on,Vn){for(var Kn=-1,mi=Ut.criteria,jt=on.criteria,hn=mi.length,Ei=Vn.length;++Kn<hn;){var In=Uc(mi[Kn],jt[Kn]);if(In)return Kn>=Ei?In:In*(Vn[Kn]=="desc"?-1:1)}return Ut.index-on.index}(vt,Ht,N)});nt--;)Pe[nt]=Pe[nt].value;return Pe}(ge)}function dg(f,T,N){for(var oe=-1,ge=T.length,Pe={};++oe<ge;){var He=T[oe],nt=uf(f,He);N(nt,He)&&ug(Pe,eo(He,f),nt)}return Pe}function c_(f,T,N,oe){var ge=oe?WA:Wu,Pe=-1,He=T.length,nt=f;for(f===T&&(T=Rl(T)),N&&(nt=Uo(f,Zl(N)));++Pe<He;)for(var vt=0,Ht=T[Pe],Ut=N?N(Ht):Ht;(vt=ge(nt,Ut,vt,oe))>-1;)nt!==f&&of.call(nt,vt,1),of.call(f,vt,1);return f}function d_(f,T){for(var N=f?T.length:0,oe=N-1;N--;){var ge=T[N];if(N==oe||ge!==Pe){var Pe=ge;yd(ge)?of.call(f,ge,1):py(f,ge)}}return f}function u_(f,T){return f+tc(ry()*(T-f+1))}function p_(f,T){var N="";if(!f||T<1||T>M)return N;do T%2&&(N+=f),(T=tc(T/2))&&(f+=f);while(T);return N}function vr(f,T){return Ey(dm(f,T,Ll),f+"")}function Kb(f){return Hb(Vh(f))}function rP(f,T){var N=Vh(f);return yg(N,Ju(T,0,N.length))}function ug(f,T,N,oe){if(!da(f))return f;for(var ge=-1,Pe=(T=eo(T,f)).length,He=Pe-1,nt=f;nt!=null&&++ge<Pe;){var vt=Ed(T[ge]),Ht=N;if(vt==="__proto__"||vt==="constructor"||vt==="prototype")return f;if(ge!=He){var Ut=nt[vt];(Ht=oe?oe(Ut,vt,nt):c)===c&&(Ht=da(Ut)?Ut:yd(T[ge+1])?[]:{})}Fh(nt,vt,Ht),nt=nt[vt]}return f}var m_=Q0?function(f,T){return Q0.set(f,T),f}:Ll,qb=hd?function(f,T){return hd(f,"toString",{configurable:!0,enumerable:!1,value:Hy(T),writable:!0})}:Ll;function oP(f){return yg(Vh(f))}function Bc(f,T,N){var oe=-1,ge=f.length;T<0&&(T=-T>ge?0:ge+T),(N=N>ge?ge:N)<0&&(N+=ge),ge=T>N?0:N-T>>>0,T>>>=0;for(var Pe=Nn(ge);++oe<ge;)Pe[oe]=f[oe+T];return Pe}function aP(f,T){var N;return Fc(f,function(oe,ge,Pe){return!(N=T(oe,ge,Pe))}),!!N}function f_(f,T,N){var oe=0,ge=f==null?oe:f.length;if(typeof T=="number"&&T==T&&ge<=2147483647){for(;oe<ge;){var Pe=oe+ge>>>1,He=f[Pe];He!==null&&!oc(He)&&(N?He<=T:He<T)?oe=Pe+1:ge=Pe}return ge}return uy(f,T,Ll,N)}function uy(f,T,N,oe){var ge=0,Pe=f==null?0:f.length;if(Pe===0)return 0;for(var He=(T=N(T))!=T,nt=T===null,vt=oc(T),Ht=T===c;ge<Pe;){var Ut=tc((ge+Pe)/2),on=N(f[Ut]),Vn=on!==c,Kn=on===null,mi=on==on,jt=oc(on);if(He)var hn=oe||mi;else hn=Ht?mi&&(oe||Vn):nt?mi&&Vn&&(oe||!Kn):vt?mi&&Vn&&!Kn&&(oe||!jt):!Kn&&!jt&&(oe?on<=T:on<T);hn?ge=Ut+1:Pe=Ut}return Ws(Pe,4294967294)}function Wb(f,T){for(var N=-1,oe=f.length,ge=0,Pe=[];++N<oe;){var He=f[N],nt=T?T(He):He;if(!N||!Vc(nt,vt)){var vt=nt;Pe[ge++]=He===0?0:He}}return Pe}function zb(f){return typeof f=="number"?f:oc(f)?F:+f}function rc(f){if(typeof f=="string")return f;if(or(f))return Uo(f,rc)+"";if(oc(f))return Z0?Z0.call(f):"";var T=f+"";return T=="0"&&1/f==-1/0?"-0":T}function sm(f,T,N){var oe=-1,ge=K0,Pe=f.length,He=!0,nt=[],vt=nt;if(N)He=!1,ge=W1;else if(Pe>=200){var Ht=T?null:sP(f);if(Ht)return Yv(Ht);He=!1,ge=z0,vt=new vd}else vt=T?[]:nt;e:for(;++oe<Pe;){var Ut=f[oe],on=T?T(Ut):Ut;if(Ut=N||Ut!==0?Ut:0,He&&on==on){for(var Vn=vt.length;Vn--;)if(vt[Vn]===on)continue e;T&&vt.push(on),nt.push(Ut)}else ge(vt,on,N)||(vt!==nt&&vt.push(on),nt.push(Ut))}return nt}function py(f,T){return(f=aI(f,T=eo(T,f)))==null||delete f[Ed(Ml(T))]}function Yb(f,T,N,oe){return ug(f,T,N(uf(f,T)),oe)}function h_(f,T,N,oe){for(var ge=f.length,Pe=oe?ge:-1;(oe?Pe--:++Pe<ge)&&T(f[Pe],Pe,f););return N?Bc(f,oe?0:Pe,oe?Pe+1:ge):Bc(f,oe?Pe+1:0,oe?ge:Pe)}function Jb(f,T){var N=f;return N instanceof Sr&&(N=N.value()),Wv(T,function(oe,ge){return ge.func.apply(ge.thisArg,su([oe],ge.args))},N)}function g_(f,T,N){var oe=f.length;if(oe<2)return oe?sm(f[0]):[];for(var ge=-1,Pe=Nn(oe);++ge<oe;)for(var He=f[ge],nt=-1;++nt<oe;)nt!=ge&&(Pe[ge]=im(Pe[ge]||He,f[nt],T,N));return sm(za(Pe,1),T,N)}function my(f,T,N){for(var oe=-1,ge=f.length,Pe=T.length,He={};++oe<ge;){var nt=oe<Pe?T[oe]:c;N(He,f[oe],nt)}return He}function Na(f){return qo(f)?f:[]}function _n(f){return typeof f=="function"?f:Ll}function eo(f,T){return or(f)?f:_y(f,T)?[f]:Iy(uo(f))}var $i=vr;function Wi(f,T,N){var oe=f.length;return N=N===c?oe:N,!T&&N>=oe?f:Bc(f,T,N)}var Rt=af||function(f){return ws.clearTimeout(f)};function Ft(f,T){if(T)return f.slice();var N=f.length,oe=Mb?Mb(N):new f.constructor(N);return f.copy(oe),oe}function du(f){var T=new f.constructor(f.byteLength);return new as(T).set(new as(f)),T}function to(f,T){var N=T?du(f.buffer):f.buffer;return new f.constructor(N,f.byteOffset,f.length)}function Uc(f,T){if(f!==T){var N=f!==c,oe=f===null,ge=f==f,Pe=oc(f),He=T!==c,nt=T===null,vt=T==T,Ht=oc(T);if(!nt&&!Ht&&!Pe&&f>T||Pe&&He&&vt&&!nt&&!Ht||oe&&He&&vt||!N&&vt||!ge)return 1;if(!oe&&!Pe&&!Ht&&f<T||Ht&&N&&ge&&!oe&&!Pe||nt&&N&&ge||!He&&ge||!vt)return-1}return 0}function Xb(f,T,N,oe){for(var ge=-1,Pe=f.length,He=N.length,nt=-1,vt=T.length,Ht=ss(Pe-He,0),Ut=Nn(vt+Ht),on=!oe;++nt<vt;)Ut[nt]=T[nt];for(;++ge<He;)(on||ge<Pe)&&(Ut[N[ge]]=f[ge]);for(;Ht--;)Ut[nt++]=f[ge++];return Ut}function v_(f,T,N,oe){for(var ge=-1,Pe=f.length,He=-1,nt=N.length,vt=-1,Ht=T.length,Ut=ss(Pe-nt,0),on=Nn(Ut+Ht),Vn=!oe;++ge<Ut;)on[ge]=f[ge];for(var Kn=ge;++vt<Ht;)on[Kn+vt]=T[vt];for(;++He<nt;)(Vn||ge<Pe)&&(on[Kn+N[He]]=f[ge++]);return on}function Rl(f,T){var N=-1,oe=f.length;for(T||(T=Nn(oe));++N<oe;)T[N]=f[N];return T}function $c(f,T,N,oe){var ge=!N;N||(N={});for(var Pe=-1,He=T.length;++Pe<He;){var nt=T[Pe],vt=oe?oe(N[nt],f[nt],nt,N,f):c;vt===c&&(vt=f[nt]),ge?_d(N,nt,vt):Fh(N,nt,vt)}return N}function pg(f,T){return function(N,oe){var ge=or(N)?GA:Mc,Pe=T?T():{};return ge(N,f,gi(oe,2),Pe)}}function lm(f){return vr(function(T,N){var oe=-1,ge=N.length,Pe=ge>1?N[ge-1]:c,He=ge>2?N[2]:c;for(Pe=f.length>3&&typeof Pe=="function"?(ge--,Pe):c,He&&Ma(N[0],N[1],He)&&(Pe=ge<3?c:Pe,ge=1),T=Ko(T);++oe<ge;){var nt=N[oe];nt&&f(T,nt,oe,Pe)}return T})}function mf(f,T){return function(N,oe){if(N==null)return N;if(!cs(N))return f(N,oe);for(var ge=N.length,Pe=T?ge:-1,He=Ko(N);(T?Pe--:++Pe<ge)&&oe(He[Pe],Pe,He)!==!1;);return N}}function ff(f){return function(T,N,oe){for(var ge=-1,Pe=Ko(T),He=oe(T),nt=He.length;nt--;){var vt=He[f?nt:++ge];if(N(Pe[vt],vt,Pe)===!1)break}return T}}function fy(f){return function(T){var N=wh(T=uo(T))?Dc(T):c,oe=N?N[0]:T.charAt(0),ge=N?Wi(N,1).join(""):T.slice(1);return oe[f]()+ge}}function Ra(f){return function(T){return Wv($y(By(T).replace(j1,"")),f,"")}}function Ya(f){return function(){var T=arguments;switch(T.length){case 0:return new f;case 1:return new f(T[0]);case 2:return new f(T[0],T[1]);case 3:return new f(T[0],T[1],T[2]);case 4:return new f(T[0],T[1],T[2],T[3]);case 5:return new f(T[0],T[1],T[2],T[3],T[4]);case 6:return new f(T[0],T[1],T[2],T[3],T[4],T[5]);case 7:return new f(T[0],T[1],T[2],T[3],T[4],T[5],T[6])}var N=cf(f.prototype),oe=f.apply(N,T);return da(oe)?oe:N}}function hy(f){return function(T,N,oe){var ge=Ko(T);if(!cs(T)){var Pe=gi(N,3);T=ds(T),N=function(nt){return Pe(ge[nt],nt,ge)}}var He=f(T,N,oe);return He>-1?ge[Pe?T[He]:He]:c}}function __(f){return Zu(function(T){var N=T.length,oe=N,ge=nc.prototype.thru;for(f&&T.reverse();oe--;){var Pe=T[oe];if(typeof Pe!="function")throw new Oc(v);if(ge&&!He&&ep(Pe)=="wrapper")var He=new nc([],!0)}for(oe=He?oe:N;++oe<N;){var nt=ep(Pe=T[oe]),vt=nt=="wrapper"?cm(Pe):c;He=vt&&S_(vt[0])&&vt[1]==424&&!vt[4].length&&vt[9]==1?He[ep(vt[0])].apply(He,vt[3]):Pe.length==1&&S_(Pe)?He[nt]():He.thru(Pe)}return function(){var Ht=arguments,Ut=Ht[0];if(He&&Ht.length==1&&or(Ut))return He.plant(Ut).value();for(var on=0,Vn=N?T[on].apply(this,Ht):Ut;++on<N;)Vn=T[on].call(this,Vn);return Vn}})}function hf(f,T,N,oe,ge,Pe,He,nt,vt,Ht){var Ut=T&O,on=1&T,Vn=2&T,Kn=24&T,mi=512&T,jt=Vn?c:Ya(f);return function hn(){for(var Ei=arguments.length,In=Nn(Ei),Xi=Ei;Xi--;)In[Xi]=arguments[Xi];if(Kn)var ei=vf(hn),ao=function(Ea,Eo){for(var sr=Ea.length,ua=0;sr--;)Ea[sr]===Eo&&++ua;return ua}(In,ei);if(oe&&(In=Xb(In,oe,ge,Kn)),Pe&&(In=v_(In,Pe,He,Kn)),Ei-=ao,Kn&&Ei<Ht){var pi=Jp(In,ei);return Qb(f,T,hf,hn.placeholder,N,In,pi,nt,vt,Ht-Ei)}var Ci=on?N:this,Fa=Vn?Ci[f]:f;return Ei=In.length,nt?In=function(Ea,Eo){for(var sr=Ea.length,ua=Ws(Eo.length,sr),fu=Rl(Ea);ua--;){var fm=Eo[ua];Ea[ua]=yd(fm,sr)?fu[fm]:c}return Ea}(In,nt):mi&&Ei>1&&In.reverse(),Ut&&vt<Ei&&(In.length=vt),this&&this!==ws&&this instanceof hn&&(Fa=jt||Ya(Fa)),Fa.apply(Ci,In)}}function mg(f,T){return function(N,oe){return function(ge,Pe,He,nt){return Nl(ge,function(vt,Ht,Ut){Pe(nt,He(vt),Ht,Ut)}),nt}(N,f,T(oe),{})}}function C_(f,T){return function(N,oe){var ge;if(N===c&&oe===c)return T;if(N!==c&&(ge=N),oe!==c){if(ge===c)return oe;typeof N=="string"||typeof oe=="string"?(N=rc(N),oe=rc(oe)):(N=zb(N),oe=zb(oe)),ge=f(N,oe)}return ge}}function Cd(f){return Zu(function(T){return T=Uo(T,Zl(gi())),vr(function(N){var oe=this;return f(T,function(ge){return qs(ge,oe,N)})})})}function fg(f,T){var N=(T=T===c?" ":rc(T)).length;if(N<2)return N?p_(T,f):T;var oe=p_(T,Zp(f/Xp(T)));return wh(T)?Wi(Dc(oe),0,f).join(""):oe.slice(0,f)}function gy(f){return function(T,N,oe){return oe&&typeof oe!="number"&&Ma(T,N,oe)&&(N=oe=c),T=mu(T),N===c?(N=T,T=0):N=mu(N),function(ge,Pe,He,nt){for(var vt=-1,Ht=ss(Zp((Pe-ge)/(He||1)),0),Ut=Nn(Ht);Ht--;)Ut[nt?Ht:++vt]=ge,ge+=He;return Ut}(T,N,oe=oe===c?T<N?1:-1:mu(oe),f)}}function y_(f){return function(T,N){return typeof T=="string"&&typeof N=="string"||(T=Js(T),N=Js(N)),f(T,N)}}function Qb(f,T,N,oe,ge,Pe,He,nt,vt,Ht){var Ut=8&T;T|=Ut?k:64,4&(T&=~(Ut?64:k))||(T&=-4);var on=[f,T,ge,Ut?Pe:c,Ut?He:c,Ut?c:Pe,Ut?c:He,nt,vt,Ht],Vn=N.apply(c,on);return S_(f)&&yy(Vn,on),Vn.placeholder=oe,sI(Vn,f,T)}function gf(f){var T=lu[f];return function(N,oe){if(N=Js(N),(oe=oe==null?0:Ws(ar(oe),292))&&Fb(N)){var ge=(uo(N)+"e").split("e");return+((ge=(uo(T(ge[0]+"e"+(+ge[1]+oe)))+"e").split("e"))[0]+"e"+(+ge[1]-oe))}return T(N)}}var sP=gd&&1/Yv(new gd([,-0]))[1]==w?function(f){return new gd(f)}:Gy;function Zb(f){return function(T){var N=zs(T);return N==_e?zu(T):N==pt?Nb(T):function(oe,ge){return Uo(ge,function(Pe){return[Pe,oe[Pe]]})}(T,f(T))}}function Qu(f,T,N,oe,ge,Pe,He,nt){var vt=2&T;if(!vt&&typeof f!="function")throw new Oc(v);var Ht=oe?oe.length:0;if(Ht||(T&=-97,oe=ge=c),He=He===c?He:ss(ar(He),0),nt=nt===c?nt:ar(nt),Ht-=ge?ge.length:0,64&T){var Ut=oe,on=ge;oe=ge=c}var Vn=vt?c:cm(f),Kn=[f,T,N,oe,ge,Ut,on,Pe,He,nt];if(Vn&&function(jt,hn){var Ei=jt[1],In=hn[1],Xi=Ei|In,ei=Xi<131,ao=In==O&&Ei==8||In==O&&Ei==256&&jt[7].length<=hn[8]||In==384&&hn[7].length<=hn[8]&&Ei==8;if(!ei&&!ao)return jt;1&In&&(jt[2]=hn[2],Xi|=1&Ei?0:4);var pi=hn[3];if(pi){var Ci=jt[3];jt[3]=Ci?Xb(Ci,pi,hn[4]):pi,jt[4]=Ci?Jp(jt[3],x):hn[4]}(pi=hn[5])&&(Ci=jt[5],jt[5]=Ci?v_(Ci,pi,hn[6]):pi,jt[6]=Ci?Jp(jt[5],x):hn[6]),(pi=hn[7])&&(jt[7]=pi),In&O&&(jt[8]=jt[8]==null?hn[8]:Ws(jt[8],hn[8])),jt[9]==null&&(jt[9]=hn[9]),jt[0]=hn[0],jt[1]=Xi}(Kn,Vn),f=Kn[0],T=Kn[1],N=Kn[2],oe=Kn[3],ge=Kn[4],!(nt=Kn[9]=Kn[9]===c?vt?0:f.length:ss(Kn[9]-Ht,0))&&24&T&&(T&=-25),T&&T!=1)mi=T==8||T==16?function(jt,hn,Ei){var In=Ya(jt);return function Xi(){for(var ei=arguments.length,ao=Nn(ei),pi=ei,Ci=vf(Xi);pi--;)ao[pi]=arguments[pi];var Fa=ei<3&&ao[0]!==Ci&&ao[ei-1]!==Ci?[]:Jp(ao,Ci);return(ei-=Fa.length)<Ei?Qb(jt,hn,hf,Xi.placeholder,c,ao,Fa,c,c,Ei-ei):qs(this&&this!==ws&&this instanceof Xi?In:jt,this,ao)}}(f,T,nt):T!=k&&T!=33||ge.length?hf.apply(c,Kn):function(jt,hn,Ei,In){var Xi=1&hn,ei=Ya(jt);return function ao(){for(var pi=-1,Ci=arguments.length,Fa=-1,Ea=In.length,Eo=Nn(Ea+Ci),sr=this&&this!==ws&&this instanceof ao?ei:jt;++Fa<Ea;)Eo[Fa]=In[Fa];for(;Ci--;)Eo[Fa++]=arguments[++pi];return qs(sr,Xi?Ei:this,Eo)}}(f,T,N,oe);else var mi=function(jt,hn,Ei){var In=1&hn,Xi=Ya(jt);return function ei(){return(this&&this!==ws&&this instanceof ei?Xi:jt).apply(In?Ei:this,arguments)}}(f,T,N);return sI((Vn?m_:yy)(mi,Kn),f,T)}function E_(f,T,N,oe){return f===c||Vc(f,Dh[N])&&!yo.call(oe,N)?T:f}function eI(f,T,N,oe,ge,Pe){return da(f)&&da(T)&&(Pe.set(T,f),ic(f,T,c,eI,Pe),Pe.delete(T)),f}function lP(f){return Sg(f)?c:f}function tI(f,T,N,oe,ge,Pe){var He=1&N,nt=f.length,vt=T.length;if(nt!=vt&&!(He&&vt>nt))return!1;var Ht=Pe.get(f),Ut=Pe.get(T);if(Ht&&Ut)return Ht==T&&Ut==f;var on=-1,Vn=!0,Kn=2&N?new vd:c;for(Pe.set(f,T),Pe.set(T,f);++on<nt;){var mi=f[on],jt=T[on];if(oe)var hn=He?oe(jt,mi,on,T,f,Pe):oe(mi,jt,on,f,T,Pe);if(hn!==c){if(hn)continue;Vn=!1;break}if(Kn){if(!z1(T,function(Ei,In){if(!z0(Kn,In)&&(mi===Ei||ge(mi,Ei,N,oe,Pe)))return Kn.push(In)})){Vn=!1;break}}else if(mi!==jt&&!ge(mi,jt,N,oe,Pe)){Vn=!1;break}}return Pe.delete(f),Pe.delete(T),Vn}function Zu(f){return Ey(dm(f,c,Ay),f+"")}function hg(f){return Lh(f,ds,vg)}function T_(f){return Lh(f,Fl,nI)}var cm=Q0?function(f){return Q0.get(f)}:Gy;function ep(f){for(var T=f.name+"",N=Yu[T],oe=yo.call(Yu,T)?N.length:0;oe--;){var ge=N[oe],Pe=ge.func;if(Pe==null||Pe==f)return ge.name}return T}function vf(f){return(yo.call(Ie,"placeholder")?Ie:f).placeholder}function gi(){var f=Ie.iteratee||H_;return f=f===H_?s_:f,arguments.length?f(arguments[0],arguments[1]):f}function gg(f,T){var N,oe,ge=f.__data__;return((oe=typeof(N=T))=="string"||oe=="number"||oe=="symbol"||oe=="boolean"?N!=="__proto__":N===null)?ge[typeof T=="string"?"string":"hash"]:ge.map}function b_(f){for(var T=ds(f),N=T.length;N--;){var oe=T[N],ge=f[oe];T[N]=[oe,ge,rI(ge)]}return T}function tp(f,T){var N=function(oe,ge){return oe==null?c:oe[ge]}(f,T);return a_(N)?N:c}var vg=iy?function(f){return f==null?[]:(f=Ko(f),md(iy(f),function(T){return rf.call(f,T)}))}:Ky,nI=iy?function(f){for(var T=[];f;)su(T,vg(f)),f=Qp(f);return T}:Ky,zs=ys;function iI(f,T,N){for(var oe=-1,ge=(T=eo(T,f)).length,Pe=!1;++oe<ge;){var He=Ed(T[oe]);if(!(Pe=f!=null&&N(f,He)))break;f=f[He]}return Pe||++oe!=ge?Pe:!!(ge=f==null?0:f.length)&&Ig(ge)&&yd(He,ge)&&(or(f)||rp(f))}function I_(f){return typeof f.constructor!="function"||_f(f)?{}:cf(Qp(f))}function vy(f){return or(f)||rp(f)||!!(J0&&f&&f[J0])}function yd(f,T){var N=typeof f;return!!(T=T??M)&&(N=="number"||N!="symbol"&&Xm.test(f))&&f>-1&&f%1==0&&f<T}function Ma(f,T,N){if(!da(N))return!1;var oe=typeof T;return!!(oe=="number"?cs(N)&&yd(T,N.length):oe=="string"&&T in N)&&Vc(N[T],f)}function _y(f,T){if(or(f))return!1;var N=typeof f;return!(N!="number"&&N!="symbol"&&N!="boolean"&&f!=null&&!oc(f))||Oa.test(f)||!Gs.test(f)||T!=null&&f in Ko(T)}function S_(f){var T=ep(f),N=Ie[T];if(typeof N!="function"||!(T in Sr.prototype))return!1;if(f===N)return!0;var oe=cm(N);return!!oe&&f===oe[0]}(t_&&zs(new t_(new ArrayBuffer(1)))!=$e||tm&&zs(new tm)!=_e||X0&&zs(X0.resolve())!=Te||gd&&zs(new gd)!=pt||ya&&zs(new ya)!=rt)&&(zs=function(f){var T=ys(f),N=T==be?f.constructor:c,oe=N?um(N):"";if(oe)switch(oe){case sf:return $e;case lf:return _e;case Ub:return Te;case $b:return pt;case n_:return rt}return T});var _g=Xv?fl:bf;function _f(f){var T=f&&f.constructor;return f===(typeof T=="function"&&T.prototype||Dh)}function rI(f){return f==f&&!da(f)}function oI(f,T){return function(N){return N!=null&&N[f]===T&&(T!==c||f in Ko(N))}}function dm(f,T,N){return T=ss(T===c?f.length-1:T,0),function(){for(var oe=arguments,ge=-1,Pe=ss(oe.length-T,0),He=Nn(Pe);++ge<Pe;)He[ge]=oe[T+ge];ge=-1;for(var nt=Nn(T+1);++ge<T;)nt[ge]=oe[ge];return nt[T]=N(He),qs(f,this,nt)}}function aI(f,T){return T.length<2?f:uf(f,Bc(T,0,-1))}function Cy(f,T){if((T!=="constructor"||typeof f[T]!="function")&&T!="__proto__")return f[T]}var yy=lI(m_),Cg=Nh||function(f,T){return ws.setTimeout(f,T)},Ey=lI(qb);function sI(f,T,N){var oe=T+"";return Ey(f,function(ge,Pe){var He=Pe.length;if(!He)return ge;var nt=He-1;return Pe[nt]=(He>1?"& ":"")+Pe[nt],Pe=Pe.join(He>2?", ":" "),ge.replace(L0,`{
/* [wrapped with `+Pe+`] */
`)}(oe,function(ge,Pe){return Ql(V,function(He){var nt="_."+He[0];Pe&He[1]&&!K0(ge,nt)&&ge.push(nt)}),ge.sort()}(function(ge){var Pe=ge.match(bh);return Pe?Pe[1].split(Wp):[]}(oe),N)))}function lI(f){var T=0,N=0;return function(){var oe=Lb(),ge=16-(oe-N);if(N=oe,ge>0){if(++T>=800)return arguments[0]}else T=0;return f.apply(c,arguments)}}function yg(f,T){var N=-1,oe=f.length,ge=oe-1;for(T=T===c?oe:T;++N<T;){var Pe=u_(N,ge),He=f[Pe];f[Pe]=f[N],f[N]=He}return f.length=T,f}var Ty,by,Iy=(Ty=ip(function(f){var T=[];return f.charCodeAt(0)===46&&T.push(""),f.replace(sd,function(N,oe,ge,Pe){T.push(ge?Pe.replace(ou,"$1"):oe||N)}),T},function(f){return by.size===500&&by.clear(),f}),by=Ty.cache,Ty);function Ed(f){if(typeof f=="string"||oc(f))return f;var T=f+"";return T=="0"&&1/f==-1/0?"-0":T}function um(f){if(f!=null){try{return Qv.call(f)}catch{}try{return f+""}catch{}}return""}function Sy(f){if(f instanceof Sr)return f.clone();var T=new nc(f.__wrapped__,f.__chain__);return T.__actions__=Rl(f.__actions__),T.__index__=f.__index__,T.__values__=f.__values__,T}var cI=vr(function(f,T){return qo(f)?im(f,za(T,1,qo,!0)):[]}),dI=vr(function(f,T){var N=Ml(T);return qo(N)&&(N=c),qo(f)?im(f,za(T,1,qo,!0),gi(N,2)):[]}),Uh=vr(function(f,T){var N=Ml(T);return qo(N)&&(N=c),qo(f)?im(f,za(T,1,qo,!0),c,N):[]});function xy(f,T,N){var oe=f==null?0:f.length;if(!oe)return-1;var ge=N==null?0:ar(N);return ge<0&&(ge=ss(oe+ge,0)),q0(f,gi(T,3),ge)}function uI(f,T,N){var oe=f==null?0:f.length;if(!oe)return-1;var ge=oe-1;return N!==c&&(ge=ar(N),ge=N<0?ss(oe+ge,0):Ws(ge,oe-1)),q0(f,gi(T,3),ge,!0)}function Ay(f){return f!=null&&f.length?za(f,1):[]}function pI(f){return f&&f.length?f[0]:c}var x_=vr(function(f){var T=Uo(f,Na);return T.length&&T[0]===f[0]?og(T):[]}),Td=vr(function(f){var T=Ml(f),N=Uo(f,Na);return T===Ml(N)?T=c:N.pop(),N.length&&N[0]===f[0]?og(N,gi(T,2)):[]}),Py=vr(function(f){var T=Ml(f),N=Uo(f,Na);return(T=typeof T=="function"?T:c)&&N.pop(),N.length&&N[0]===f[0]?og(N,c,T):[]});function Ml(f){var T=f==null?0:f.length;return T?f[T-1]:c}var ky=vr(A_);function A_(f,T){return f&&f.length&&T&&T.length?c_(f,T):f}var mI=Zu(function(f,T){var N=f==null?0:f.length,oe=ng(f,T);return d_(f,Uo(T,function(ge){return yd(ge,N)?+ge:ge}).sort(Uc)),oe});function wy(f){return f==null?f:em.call(f)}var P_=vr(function(f){return sm(za(f,1,qo,!0))}),uu=vr(function(f){var T=Ml(f);return qo(T)&&(T=c),sm(za(f,1,qo,!0),gi(T,2))}),fI=vr(function(f){var T=Ml(f);return T=typeof T=="function"?T:c,sm(za(f,1,qo,!0),c,T)});function k_(f){if(!f||!f.length)return[];var T=0;return f=md(f,function(N){if(qo(N))return T=ss(N.length,T),!0}),tf(T,function(N){return Uo(f,Y1(N))})}function w_(f,T){if(!f||!f.length)return[];var N=k_(f);return T==null?N:Uo(N,function(oe){return qs(T,c,oe)})}var Dy=vr(function(f,T){return qo(f)?im(f,T):[]}),D_=vr(function(f){return g_(md(f,qo))}),Eg=vr(function(f){var T=Ml(f);return qo(T)&&(T=c),g_(md(f,qo),gi(T,2))}),hI=vr(function(f){var T=Ml(f);return T=typeof T=="function"?T:c,g_(md(f,qo),c,T)}),gI=vr(k_),vI=vr(function(f){var T=f.length,N=T>1?f[T-1]:c;return N=typeof N=="function"?(f.pop(),N):c,w_(f,N)});function Hc(f){var T=Ie(f);return T.__chain__=!0,T}function pu(f,T){return T(f)}var _I=Zu(function(f){var T=f.length,N=T?f[0]:0,oe=this.__wrapped__,ge=function(Pe){return ng(Pe,f)};return!(T>1||this.__actions__.length)&&oe instanceof Sr&&yd(N)?((oe=oe.slice(N,+N+(T?1:0))).__actions__.push({func:pu,args:[ge],thisArg:c}),new nc(oe,this.__chain__).thru(function(Pe){return T&&!Pe.length&&Pe.push(c),Pe})):this.thru(ge)}),cP=pg(function(f,T,N){yo.call(f,N)?++f[N]:_d(f,N,1)}),pm=hy(xy),dP=hy(uI);function CI(f,T){return(or(f)?Ql:Fc)(f,gi(T,3))}function yI(f,T){return(or(f)?kh:df)(f,gi(T,3))}var uP=pg(function(f,T,N){yo.call(f,N)?f[N].push(T):_d(f,N,[T])}),np=vr(function(f,T,N){var oe=-1,ge=typeof T=="function",Pe=cs(f)?Nn(f.length):[];return Fc(f,function(He){Pe[++oe]=ge?qs(T,He,N):pf(He,T,N)}),Pe}),Oy=pg(function(f,T,N){_d(f,N,T)});function O_(f,T){return(or(f)?Uo:lg)(f,gi(T,3))}var Cf=pg(function(f,T,N){f[N?0:1].push(T)},function(){return[[],[]]}),Ny=vr(function(f,T){if(f==null)return[];var N=T.length;return N>1&&Ma(f,T[0],T[1])?T=[]:N>2&&Ma(T[0],T[1],T[2])&&(T=[T[0]]),am(f,za(T,1),[])}),Tg=Oh||function(){return ws.Date.now()};function EI(f,T,N){return T=N?c:T,T=f&&T==null?f.length:T,Qu(f,O,c,c,c,c,T)}function TI(f,T){var N;if(typeof T!="function")throw new Oc(v);return f=ar(f),function(){return--f>0&&(N=T.apply(this,arguments)),f<=1&&(T=c),N}}var Ry=vr(function(f,T,N){var oe=1;if(N.length){var ge=Jp(N,vf(Ry));oe|=k}return Qu(f,oe,T,N,ge)}),bI=vr(function(f,T,N){var oe=3;if(N.length){var ge=Jp(N,vf(bI));oe|=k}return Qu(T,oe,f,N,ge)});function Ds(f,T,N){var oe,ge,Pe,He,nt,vt,Ht=0,Ut=!1,on=!1,Vn=!0;if(typeof f!="function")throw new Oc(v);function Kn(In){var Xi=oe,ei=ge;return oe=ge=c,Ht=In,He=f.apply(ei,Xi)}function mi(In){var Xi=In-vt;return vt===c||Xi>=T||Xi<0||on&&In-Ht>=Pe}function jt(){var In=Tg();if(mi(In))return hn(In);nt=Cg(jt,function(Xi){var ei=T-(Xi-vt);return on?Ws(ei,Pe-(Xi-Ht)):ei}(In))}function hn(In){return nt=c,Vn&&oe?Kn(In):(oe=ge=c,He)}function Ei(){var In=Tg(),Xi=mi(In);if(oe=arguments,ge=this,vt=In,Xi){if(nt===c)return function(ei){return Ht=ei,nt=Cg(jt,T),Ut?Kn(ei):He}(vt);if(on)return Rt(nt),nt=Cg(jt,T),Kn(vt)}return nt===c&&(nt=Cg(jt,T)),He}return T=Js(T)||0,da(N)&&(Ut=!!N.leading,Pe=(on="maxWait"in N)?ss(Js(N.maxWait)||0,T):Pe,Vn="trailing"in N?!!N.trailing:Vn),Ei.cancel=function(){nt!==c&&Rt(nt),Ht=0,oe=vt=ge=nt=c},Ei.flush=function(){return nt===c?He:hn(Tg())},Ei}var My=vr(function(f,T){return Ol(f,1,T)}),Qt=vr(function(f,T,N){return Ol(f,Js(T)||0,N)});function ip(f,T){if(typeof f!="function"||T!=null&&typeof T!="function")throw new Oc(v);var N=function(){var oe=arguments,ge=T?T.apply(this,oe):oe[0],Pe=N.cache;if(Pe.has(ge))return Pe.get(ge);var He=f.apply(this,oe);return N.cache=Pe.set(ge,He)||Pe,He};return N.cache=new(ip.Cache||$o),N}function bg(f){if(typeof f!="function")throw new Oc(v);return function(){var T=arguments;switch(T.length){case 0:return!f.call(this);case 1:return!f.call(this,T[0]);case 2:return!f.call(this,T[0],T[1]);case 3:return!f.call(this,T[0],T[1],T[2])}return!f.apply(this,T)}}ip.Cache=$o;var II=$i(function(f,T){var N=(T=T.length==1&&or(T[0])?Uo(T[0],Zl(gi())):Uo(za(T,1),Zl(gi()))).length;return vr(function(oe){for(var ge=-1,Pe=Ws(oe.length,N);++ge<Pe;)oe[ge]=T[ge].call(this,oe[ge]);return qs(f,this,oe)})}),N_=vr(function(f,T){var N=Jp(T,vf(N_));return Qu(f,k,c,T,N)}),Ys=vr(function(f,T){var N=Jp(T,vf(Ys));return Qu(f,64,c,T,N)}),R_=Zu(function(f,T){return Qu(f,256,c,c,c,T)});function Vc(f,T){return f===T||f!=f&&T!=T}var M_=y_(r_),F_=y_(function(f,T){return f>=T}),rp=Gb(function(){return arguments}())?Gb:function(f){return wo(f)&&yo.call(f,"callee")&&!rf.call(f,"callee")},or=Nn.isArray,pP=yb?Zl(yb):function(f){return wo(f)&&ys(f)==Fe};function cs(f){return f!=null&&Ig(f.length)&&!fl(f)}function qo(f){return wo(f)&&cs(f)}var mm=eP||bf,mP=Eb?Zl(Eb):function(f){return wo(f)&&ys(f)==ie};function L_(f){if(!wo(f))return!1;var T=ys(f);return T==se||T=="[object DOMException]"||typeof f.message=="string"&&typeof f.name=="string"&&!Sg(f)}function fl(f){if(!da(f))return!1;var T=ys(f);return T==we||T==Me||T=="[object AsyncFunction]"||T=="[object Proxy]"}function B_(f){return typeof f=="number"&&f==ar(f)}function Ig(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=M}function da(f){var T=typeof f;return f!=null&&(T=="object"||T=="function")}function wo(f){return f!=null&&typeof f=="object"}var SI=Tb?Zl(Tb):function(f){return wo(f)&&zs(f)==_e};function xI(f){return typeof f=="number"||wo(f)&&ys(f)==ke}function Sg(f){if(!wo(f)||ys(f)!=be)return!1;var T=Qp(f);if(T===null)return!0;var N=yo.call(T,"constructor")&&T.constructor;return typeof N=="function"&&N instanceof N&&Qv.call(N)==ZA}var xg=bb?Zl(bb):function(f){return wo(f)&&ys(f)==Ye},Ag=Ib?Zl(Ib):function(f){return wo(f)&&zs(f)==pt};function $h(f){return typeof f=="string"||!or(f)&&wo(f)&&ys(f)==$t}function oc(f){return typeof f=="symbol"||wo(f)&&ys(f)==Ke}var Hh=q1?Zl(q1):function(f){return wo(f)&&Ig(f.length)&&!!Go[ys(f)]},fP=y_(sg),hP=y_(function(f,T){return f<=T});function AI(f){if(!f)return[];if(cs(f))return $h(f)?Dc(f):Rl(f);if(cu&&f[cu])return function(N){for(var oe,ge=[];!(oe=N.next()).done;)ge.push(oe.value);return ge}(f[cu]());var T=zs(f);return(T==_e?zu:T==pt?Yv:Vh)(f)}function mu(f){return f?(f=Js(f))===w||f===-1/0?17976931348623157e292*(f<0?-1:1):f==f?f:0:f===0?f:0}function ar(f){var T=mu(f),N=T%1;return T==T?N?T-N:T:0}function U_(f){return f?Ju(ar(f),0,L):0}function Js(f){if(typeof f=="number")return f;if(oc(f))return F;if(da(f)){var T=typeof f.valueOf=="function"?f.valueOf():f;f=da(T)?T+"":T}if(typeof f!="string")return f===0?f:+f;f=kb(f);var N=qu.test(f);return N||Jm.test(f)?G1(f.slice(2),N?2:8):B0.test(f)?F:+f}function $_(f){return $c(f,Fl(f))}function uo(f){return f==null?"":rc(f)}var PI=lm(function(f,T){if(_f(T)||cs(T))$c(T,ds(T),f);else for(var N in T)yo.call(T,N)&&Fh(f,N,T[N])}),hl=lm(function(f,T){$c(T,Fl(T),f)}),yf=lm(function(f,T,N,oe){$c(T,Fl(T),f,oe)}),Ef=lm(function(f,T,N,oe){$c(T,ds(T),f,oe)}),kI=Zu(ng),gP=vr(function(f,T){f=Ko(f);var N=-1,oe=T.length,ge=oe>2?T[2]:c;for(ge&&Ma(T[0],T[1],ge)&&(oe=1);++N<oe;)for(var Pe=T[N],He=Fl(Pe),nt=-1,vt=He.length;++nt<vt;){var Ht=He[nt],Ut=f[Ht];(Ut===c||Vc(Ut,Dh[Ht])&&!yo.call(f,Ht))&&(f[Ht]=Pe[Ht])}return f}),vP=vr(function(f){return f.push(c,eI),qs(wI,c,f)});function Fy(f,T,N){var oe=f==null?c:uf(f,T);return oe===c?N:oe}function Ly(f,T){return f!=null&&iI(f,T,iP)}var _P=mg(function(f,T,N){T!=null&&typeof T.toString!="function"&&(T=Zv.call(T)),f[T]=N},Hy(Ll)),CP=mg(function(f,T,N){T!=null&&typeof T.toString!="function"&&(T=Zv.call(T)),yo.call(f,T)?f[T].push(N):f[T]=[N]},gi),Tf=vr(pf);function ds(f){return cs(f)?oy(f):Bh(f)}function Fl(f){return cs(f)?oy(f,!0):function(T){if(!da(T))return function(Pe){var He=[];if(Pe!=null)for(var nt in Ko(Pe))He.push(nt);return He}(T);var N=_f(T),oe=[];for(var ge in T)(ge!="constructor"||!N&&yo.call(T,ge))&&oe.push(ge);return oe}(f)}var yP=lm(function(f,T,N){ic(f,T,N)}),wI=lm(function(f,T,N,oe){ic(f,T,N,oe)}),EP=Zu(function(f,T){var N={};if(f==null)return N;var oe=!1;T=Uo(T,function(Pe){return Pe=eo(Pe,f),oe||(oe=Pe.length>1),Pe}),$c(f,T_(f),N),oe&&(N=ls(N,7,lP));for(var ge=T.length;ge--;)py(N,T[ge]);return N}),TP=Zu(function(f,T){return f==null?{}:function(N,oe){return dg(N,oe,function(ge,Pe){return Ly(N,Pe)})}(f,T)});function DI(f,T){if(f==null)return{};var N=Uo(T_(f),function(oe){return[oe]});return T=gi(T),dg(f,N,function(oe,ge){return T(oe,ge[0])})}var OI=Zb(ds),NI=Zb(Fl);function Vh(f){return f==null?[]:X1(f,ds(f))}var bP=Ra(function(f,T,N){return T=T.toLowerCase(),f+(N?RI(T):T)});function RI(f){return Uy(uo(f).toLowerCase())}function By(f){return(f=uo(f))&&f.replace(ld,Q1).replace(dn,"")}var IP=Ra(function(f,T,N){return f+(N?"-":"")+T.toLowerCase()}),SP=Ra(function(f,T,N){return f+(N?" ":"")+T.toLowerCase()}),MI=fy("toLowerCase"),FI=Ra(function(f,T,N){return f+(N?"_":"")+T.toLowerCase()}),LI=Ra(function(f,T,N){return f+(N?" ":"")+Uy(T)}),xP=Ra(function(f,T,N){return f+(N?" ":"")+T.toUpperCase()}),Uy=fy("toUpperCase");function $y(f,T,N){return f=uo(f),(T=N?c:T)===c?function(oe){return Br.test(oe)}(f)?function(oe){return oe.match(ud)||[]}(f):function(oe){return oe.match(Ks)||[]}(f):f.match(T)||[]}var op=vr(function(f,T){try{return qs(f,c,T)}catch(N){return L_(N)?N:new zr(N)}}),AP=Zu(function(f,T){return Ql(T,function(N){N=Ed(N),_d(f,N,Ry(f[N],f))}),f});function Hy(f){return function(){return f}}var BI=__(),PP=__(!0);function Ll(f){return f}function H_(f){return s_(typeof f=="function"?f:ls(f,1))}var Vy=vr(function(f,T){return function(N){return pf(N,f,T)}}),kP=vr(function(f,T){return function(N){return pf(f,N,T)}});function jy(f,T,N){var oe=ds(T),ge=om(T,oe);N!=null||da(T)&&(ge.length||!oe.length)||(N=T,T=f,f=this,ge=om(T,ds(T)));var Pe=!(da(N)&&"chain"in N&&!N.chain),He=fl(f);return Ql(ge,function(nt){var vt=T[nt];f[nt]=vt,He&&(f.prototype[nt]=function(){var Ht=this.__chain__;if(Pe||Ht){var Ut=f(this.__wrapped__);return(Ut.__actions__=Rl(this.__actions__)).push({func:vt,args:arguments,thisArg:f}),Ut.__chain__=Ht,Ut}return vt.apply(f,su([this.value()],arguments))})}),f}function Gy(){}var wP=Cd(Uo),DP=Cd(Sb),OP=Cd(z1);function UI(f){return _y(f)?Y1(Ed(f)):function(T){return function(N){return uf(N,T)}}(f)}var NP=gy(),V_=gy(!0);function Ky(){return[]}function bf(){return!1}var qy,Wy=C_(function(f,T){return f+T},0),RP=gf("ceil"),MP=C_(function(f,T){return f/T},1),$I=gf("floor"),jh=C_(function(f,T){return f*T},1),FP=gf("round"),HI=C_(function(f,T){return f-T},0);return Ie.after=function(f,T){if(typeof T!="function")throw new Oc(v);return f=ar(f),function(){if(--f<1)return T.apply(this,arguments)}},Ie.ary=EI,Ie.assign=PI,Ie.assignIn=hl,Ie.assignInWith=yf,Ie.assignWith=Ef,Ie.at=kI,Ie.before=TI,Ie.bind=Ry,Ie.bindAll=AP,Ie.bindKey=bI,Ie.castArray=function(){if(!arguments.length)return[];var f=arguments[0];return or(f)?f:[f]},Ie.chain=Hc,Ie.chunk=function(f,T,N){T=(N?Ma(f,T,N):T===c)?1:ss(ar(T),0);var oe=f==null?0:f.length;if(!oe||T<1)return[];for(var ge=0,Pe=0,He=Nn(Zp(oe/T));ge<oe;)He[Pe++]=Bc(f,ge,ge+=T);return He},Ie.compact=function(f){for(var T=-1,N=f==null?0:f.length,oe=0,ge=[];++T<N;){var Pe=f[T];Pe&&(ge[oe++]=Pe)}return ge},Ie.concat=function(){var f=arguments.length;if(!f)return[];for(var T=Nn(f-1),N=arguments[0],oe=f;oe--;)T[oe-1]=arguments[oe];return su(or(N)?Rl(N):[N],za(T,1))},Ie.cond=function(f){var T=f==null?0:f.length,N=gi();return f=T?Uo(f,function(oe){if(typeof oe[1]!="function")throw new Oc(v);return[N(oe[0]),oe[1]]}):[],vr(function(oe){for(var ge=-1;++ge<T;){var Pe=f[ge];if(qs(Pe[0],this,oe))return qs(Pe[1],this,oe)}})},Ie.conforms=function(f){return function(T){var N=ds(T);return function(oe){return cy(oe,T,N)}}(ls(f,1))},Ie.constant=Hy,Ie.countBy=cP,Ie.create=function(f,T){var N=cf(f);return T==null?N:ly(N,T)},Ie.curry=function f(T,N,oe){var ge=Qu(T,8,c,c,c,c,c,N=oe?c:N);return ge.placeholder=f.placeholder,ge},Ie.curryRight=function f(T,N,oe){var ge=Qu(T,16,c,c,c,c,c,N=oe?c:N);return ge.placeholder=f.placeholder,ge},Ie.debounce=Ds,Ie.defaults=gP,Ie.defaultsDeep=vP,Ie.defer=My,Ie.delay=Qt,Ie.difference=cI,Ie.differenceBy=dI,Ie.differenceWith=Uh,Ie.drop=function(f,T,N){var oe=f==null?0:f.length;return oe?Bc(f,(T=N||T===c?1:ar(T))<0?0:T,oe):[]},Ie.dropRight=function(f,T,N){var oe=f==null?0:f.length;return oe?Bc(f,0,(T=oe-(T=N||T===c?1:ar(T)))<0?0:T):[]},Ie.dropRightWhile=function(f,T){return f&&f.length?h_(f,gi(T,3),!0,!0):[]},Ie.dropWhile=function(f,T){return f&&f.length?h_(f,gi(T,3),!0):[]},Ie.fill=function(f,T,N,oe){var ge=f==null?0:f.length;return ge?(N&&typeof N!="number"&&Ma(f,T,N)&&(N=0,oe=ge),function(Pe,He,nt,vt){var Ht=Pe.length;for((nt=ar(nt))<0&&(nt=-nt>Ht?0:Ht+nt),(vt=vt===c||vt>Ht?Ht:ar(vt))<0&&(vt+=Ht),vt=nt>vt?0:U_(vt);nt<vt;)Pe[nt++]=He;return Pe}(f,T,N,oe)):[]},Ie.filter=function(f,T){return(or(f)?md:dy)(f,gi(T,3))},Ie.flatMap=function(f,T){return za(O_(f,T),1)},Ie.flatMapDeep=function(f,T){return za(O_(f,T),w)},Ie.flatMapDepth=function(f,T,N){return N=N===c?1:ar(N),za(O_(f,T),N)},Ie.flatten=Ay,Ie.flattenDeep=function(f){return f!=null&&f.length?za(f,w):[]},Ie.flattenDepth=function(f,T){return f!=null&&f.length?za(f,T=T===c?1:ar(T)):[]},Ie.flip=function(f){return Qu(f,512)},Ie.flow=BI,Ie.flowRight=PP,Ie.fromPairs=function(f){for(var T=-1,N=f==null?0:f.length,oe={};++T<N;){var ge=f[T];oe[ge[0]]=ge[1]}return oe},Ie.functions=function(f){return f==null?[]:om(f,ds(f))},Ie.functionsIn=function(f){return f==null?[]:om(f,Fl(f))},Ie.groupBy=uP,Ie.initial=function(f){return f!=null&&f.length?Bc(f,0,-1):[]},Ie.intersection=x_,Ie.intersectionBy=Td,Ie.intersectionWith=Py,Ie.invert=_P,Ie.invertBy=CP,Ie.invokeMap=np,Ie.iteratee=H_,Ie.keyBy=Oy,Ie.keys=ds,Ie.keysIn=Fl,Ie.map=O_,Ie.mapKeys=function(f,T){var N={};return T=gi(T,3),Nl(f,function(oe,ge,Pe){_d(N,T(oe,ge,Pe),oe)}),N},Ie.mapValues=function(f,T){var N={};return T=gi(T,3),Nl(f,function(oe,ge,Pe){_d(N,ge,T(oe,ge,Pe))}),N},Ie.matches=function(f){return cg(ls(f,1))},Ie.matchesProperty=function(f,T){return l_(f,ls(T,1))},Ie.memoize=ip,Ie.merge=yP,Ie.mergeWith=wI,Ie.method=Vy,Ie.methodOf=kP,Ie.mixin=jy,Ie.negate=bg,Ie.nthArg=function(f){return f=ar(f),vr(function(T){return Lc(T,f)})},Ie.omit=EP,Ie.omitBy=function(f,T){return DI(f,bg(gi(T)))},Ie.once=function(f){return TI(2,f)},Ie.orderBy=function(f,T,N,oe){return f==null?[]:(or(T)||(T=T==null?[]:[T]),or(N=oe?c:N)||(N=N==null?[]:[N]),am(f,T,N))},Ie.over=wP,Ie.overArgs=II,Ie.overEvery=DP,Ie.overSome=OP,Ie.partial=N_,Ie.partialRight=Ys,Ie.partition=Cf,Ie.pick=TP,Ie.pickBy=DI,Ie.property=UI,Ie.propertyOf=function(f){return function(T){return f==null?c:uf(f,T)}},Ie.pull=ky,Ie.pullAll=A_,Ie.pullAllBy=function(f,T,N){return f&&f.length&&T&&T.length?c_(f,T,gi(N,2)):f},Ie.pullAllWith=function(f,T,N){return f&&f.length&&T&&T.length?c_(f,T,c,N):f},Ie.pullAt=mI,Ie.range=NP,Ie.rangeRight=V_,Ie.rearg=R_,Ie.reject=function(f,T){return(or(f)?md:dy)(f,bg(gi(T,3)))},Ie.remove=function(f,T){var N=[];if(!f||!f.length)return N;var oe=-1,ge=[],Pe=f.length;for(T=gi(T,3);++oe<Pe;){var He=f[oe];T(He,oe,f)&&(N.push(He),ge.push(oe))}return d_(f,ge),N},Ie.rest=function(f,T){if(typeof f!="function")throw new Oc(v);return vr(f,T=T===c?T:ar(T))},Ie.reverse=wy,Ie.sampleSize=function(f,T,N){return T=(N?Ma(f,T,N):T===c)?1:ar(T),(or(f)?ay:rP)(f,T)},Ie.set=function(f,T,N){return f==null?f:ug(f,T,N)},Ie.setWith=function(f,T,N,oe){return oe=typeof oe=="function"?oe:c,f==null?f:ug(f,T,N,oe)},Ie.shuffle=function(f){return(or(f)?Vb:oP)(f)},Ie.slice=function(f,T,N){var oe=f==null?0:f.length;return oe?(N&&typeof N!="number"&&Ma(f,T,N)?(T=0,N=oe):(T=T==null?0:ar(T),N=N===c?oe:ar(N)),Bc(f,T,N)):[]},Ie.sortBy=Ny,Ie.sortedUniq=function(f){return f&&f.length?Wb(f):[]},Ie.sortedUniqBy=function(f,T){return f&&f.length?Wb(f,gi(T,2)):[]},Ie.split=function(f,T,N){return N&&typeof N!="number"&&Ma(f,T,N)&&(T=N=c),(N=N===c?L:N>>>0)?(f=uo(f))&&(typeof T=="string"||T!=null&&!xg(T))&&!(T=rc(T))&&wh(f)?Wi(Dc(f),0,N):f.split(T,N):[]},Ie.spread=function(f,T){if(typeof f!="function")throw new Oc(v);return T=T==null?0:ss(ar(T),0),vr(function(N){var oe=N[T],ge=Wi(N,0,T);return oe&&su(ge,oe),qs(f,this,ge)})},Ie.tail=function(f){var T=f==null?0:f.length;return T?Bc(f,1,T):[]},Ie.take=function(f,T,N){return f&&f.length?Bc(f,0,(T=N||T===c?1:ar(T))<0?0:T):[]},Ie.takeRight=function(f,T,N){var oe=f==null?0:f.length;return oe?Bc(f,(T=oe-(T=N||T===c?1:ar(T)))<0?0:T,oe):[]},Ie.takeRightWhile=function(f,T){return f&&f.length?h_(f,gi(T,3),!1,!0):[]},Ie.takeWhile=function(f,T){return f&&f.length?h_(f,gi(T,3)):[]},Ie.tap=function(f,T){return T(f),f},Ie.throttle=function(f,T,N){var oe=!0,ge=!0;if(typeof f!="function")throw new Oc(v);return da(N)&&(oe="leading"in N?!!N.leading:oe,ge="trailing"in N?!!N.trailing:ge),Ds(f,T,{leading:oe,maxWait:T,trailing:ge})},Ie.thru=pu,Ie.toArray=AI,Ie.toPairs=OI,Ie.toPairsIn=NI,Ie.toPath=function(f){return or(f)?Uo(f,Ed):oc(f)?[f]:Rl(Iy(uo(f)))},Ie.toPlainObject=$_,Ie.transform=function(f,T,N){var oe=or(f),ge=oe||mm(f)||Hh(f);if(T=gi(T,4),N==null){var Pe=f&&f.constructor;N=ge?oe?new Pe:[]:da(f)&&fl(Pe)?cf(Qp(f)):{}}return(ge?Ql:Nl)(f,function(He,nt,vt){return T(N,He,nt,vt)}),N},Ie.unary=function(f){return EI(f,1)},Ie.union=P_,Ie.unionBy=uu,Ie.unionWith=fI,Ie.uniq=function(f){return f&&f.length?sm(f):[]},Ie.uniqBy=function(f,T){return f&&f.length?sm(f,gi(T,2)):[]},Ie.uniqWith=function(f,T){return T=typeof T=="function"?T:c,f&&f.length?sm(f,c,T):[]},Ie.unset=function(f,T){return f==null||py(f,T)},Ie.unzip=k_,Ie.unzipWith=w_,Ie.update=function(f,T,N){return f==null?f:Yb(f,T,_n(N))},Ie.updateWith=function(f,T,N,oe){return oe=typeof oe=="function"?oe:c,f==null?f:Yb(f,T,_n(N),oe)},Ie.values=Vh,Ie.valuesIn=function(f){return f==null?[]:X1(f,Fl(f))},Ie.without=Dy,Ie.words=$y,Ie.wrap=function(f,T){return N_(_n(T),f)},Ie.xor=D_,Ie.xorBy=Eg,Ie.xorWith=hI,Ie.zip=gI,Ie.zipObject=function(f,T){return my(f||[],T||[],Fh)},Ie.zipObjectDeep=function(f,T){return my(f||[],T||[],ug)},Ie.zipWith=vI,Ie.entries=OI,Ie.entriesIn=NI,Ie.extend=hl,Ie.extendWith=yf,jy(Ie,Ie),Ie.add=Wy,Ie.attempt=op,Ie.camelCase=bP,Ie.capitalize=RI,Ie.ceil=RP,Ie.clamp=function(f,T,N){return N===c&&(N=T,T=c),N!==c&&(N=(N=Js(N))==N?N:0),T!==c&&(T=(T=Js(T))==T?T:0),Ju(Js(f),T,N)},Ie.clone=function(f){return ls(f,4)},Ie.cloneDeep=function(f){return ls(f,5)},Ie.cloneDeepWith=function(f,T){return ls(f,5,T=typeof T=="function"?T:c)},Ie.cloneWith=function(f,T){return ls(f,4,T=typeof T=="function"?T:c)},Ie.conformsTo=function(f,T){return T==null||cy(f,T,ds(T))},Ie.deburr=By,Ie.defaultTo=function(f,T){return f==null||f!=f?T:f},Ie.divide=MP,Ie.endsWith=function(f,T,N){f=uo(f),T=rc(T);var oe=f.length,ge=N=N===c?oe:Ju(ar(N),0,oe);return(N-=T.length)>=0&&f.slice(N,ge)==T},Ie.eq=Vc,Ie.escape=function(f){return(f=uo(f))&&qp.test(f)?f.replace(ju,zA):f},Ie.escapeRegExp=function(f){return(f=uo(f))&&Ym.test(f)?f.replace(ru,"\\$&"):f},Ie.every=function(f,T,N){var oe=or(f)?Sb:ig;return N&&Ma(f,T,N)&&(T=c),oe(f,gi(T,3))},Ie.find=pm,Ie.findIndex=xy,Ie.findKey=function(f,T){return xb(f,gi(T,3),Nl)},Ie.findLast=dP,Ie.findLastIndex=uI,Ie.findLastKey=function(f,T){return xb(f,gi(T,3),i_)},Ie.floor=$I,Ie.forEach=CI,Ie.forEachRight=yI,Ie.forIn=function(f,T){return f==null?f:Xu(f,gi(T,3),Fl)},Ie.forInRight=function(f,T){return f==null?f:rg(f,gi(T,3),Fl)},Ie.forOwn=function(f,T){return f&&Nl(f,gi(T,3))},Ie.forOwnRight=function(f,T){return f&&i_(f,gi(T,3))},Ie.get=Fy,Ie.gt=M_,Ie.gte=F_,Ie.has=function(f,T){return f!=null&&iI(f,T,jb)},Ie.hasIn=Ly,Ie.head=pI,Ie.identity=Ll,Ie.includes=function(f,T,N,oe){f=cs(f)?f:Vh(f),N=N&&!oe?ar(N):0;var ge=f.length;return N<0&&(N=ss(ge+N,0)),$h(f)?N<=ge&&f.indexOf(T,N)>-1:!!ge&&Wu(f,T,N)>-1},Ie.indexOf=function(f,T,N){var oe=f==null?0:f.length;if(!oe)return-1;var ge=N==null?0:ar(N);return ge<0&&(ge=ss(oe+ge,0)),Wu(f,T,ge)},Ie.inRange=function(f,T,N){return T=mu(T),N===c?(N=T,T=0):N=mu(N),function(oe,ge,Pe){return oe>=Ws(ge,Pe)&&oe<ss(ge,Pe)}(f=Js(f),T,N)},Ie.invoke=Tf,Ie.isArguments=rp,Ie.isArray=or,Ie.isArrayBuffer=pP,Ie.isArrayLike=cs,Ie.isArrayLikeObject=qo,Ie.isBoolean=function(f){return f===!0||f===!1||wo(f)&&ys(f)==W},Ie.isBuffer=mm,Ie.isDate=mP,Ie.isElement=function(f){return wo(f)&&f.nodeType===1&&!Sg(f)},Ie.isEmpty=function(f){if(f==null)return!0;if(cs(f)&&(or(f)||typeof f=="string"||typeof f.splice=="function"||mm(f)||Hh(f)||rp(f)))return!f.length;var T=zs(f);if(T==_e||T==pt)return!f.size;if(_f(f))return!Bh(f).length;for(var N in f)if(yo.call(f,N))return!1;return!0},Ie.isEqual=function(f,T){return ag(f,T)},Ie.isEqualWith=function(f,T,N){var oe=(N=typeof N=="function"?N:c)?N(f,T):c;return oe===c?ag(f,T,c,N):!!oe},Ie.isError=L_,Ie.isFinite=function(f){return typeof f=="number"&&Fb(f)},Ie.isFunction=fl,Ie.isInteger=B_,Ie.isLength=Ig,Ie.isMap=SI,Ie.isMatch=function(f,T){return f===T||o_(f,T,b_(T))},Ie.isMatchWith=function(f,T,N){return N=typeof N=="function"?N:c,o_(f,T,b_(T),N)},Ie.isNaN=function(f){return xI(f)&&f!=+f},Ie.isNative=function(f){if(_g(f))throw new zr("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return a_(f)},Ie.isNil=function(f){return f==null},Ie.isNull=function(f){return f===null},Ie.isNumber=xI,Ie.isObject=da,Ie.isObjectLike=wo,Ie.isPlainObject=Sg,Ie.isRegExp=xg,Ie.isSafeInteger=function(f){return B_(f)&&f>=-9007199254740991&&f<=M},Ie.isSet=Ag,Ie.isString=$h,Ie.isSymbol=oc,Ie.isTypedArray=Hh,Ie.isUndefined=function(f){return f===c},Ie.isWeakMap=function(f){return wo(f)&&zs(f)==rt},Ie.isWeakSet=function(f){return wo(f)&&ys(f)=="[object WeakSet]"},Ie.join=function(f,T){return f==null?"":tP.call(f,T)},Ie.kebabCase=IP,Ie.last=Ml,Ie.lastIndexOf=function(f,T,N){var oe=f==null?0:f.length;if(!oe)return-1;var ge=oe;return N!==c&&(ge=(ge=ar(N))<0?ss(oe+ge,0):Ws(ge,oe-1)),T==T?function(Pe,He,nt){for(var vt=nt+1;vt--;)if(Pe[vt]===He)return vt;return vt}(f,T,ge):q0(f,Ab,ge,!0)},Ie.lowerCase=SP,Ie.lowerFirst=MI,Ie.lt=fP,Ie.lte=hP,Ie.max=function(f){return f&&f.length?rm(f,Ll,r_):c},Ie.maxBy=function(f,T){return f&&f.length?rm(f,gi(T,2),r_):c},Ie.mean=function(f){return Pb(f,Ll)},Ie.meanBy=function(f,T){return Pb(f,gi(T,2))},Ie.min=function(f){return f&&f.length?rm(f,Ll,sg):c},Ie.minBy=function(f,T){return f&&f.length?rm(f,gi(T,2),sg):c},Ie.stubArray=Ky,Ie.stubFalse=bf,Ie.stubObject=function(){return{}},Ie.stubString=function(){return""},Ie.stubTrue=function(){return!0},Ie.multiply=jh,Ie.nth=function(f,T){return f&&f.length?Lc(f,ar(T)):c},Ie.noConflict=function(){return ws._===this&&(ws._=ny),this},Ie.noop=Gy,Ie.now=Tg,Ie.pad=function(f,T,N){f=uo(f);var oe=(T=ar(T))?Xp(f):0;if(!T||oe>=T)return f;var ge=(T-oe)/2;return fg(tc(ge),N)+f+fg(Zp(ge),N)},Ie.padEnd=function(f,T,N){f=uo(f);var oe=(T=ar(T))?Xp(f):0;return T&&oe<T?f+fg(T-oe,N):f},Ie.padStart=function(f,T,N){f=uo(f);var oe=(T=ar(T))?Xp(f):0;return T&&oe<T?fg(T-oe,N)+f:f},Ie.parseInt=function(f,T,N){return N||T==null?T=0:T&&(T=+T),Bb(uo(f).replace(Xl,""),T||0)},Ie.random=function(f,T,N){if(N&&typeof N!="boolean"&&Ma(f,T,N)&&(T=N=c),N===c&&(typeof T=="boolean"?(N=T,T=c):typeof f=="boolean"&&(N=f,f=c)),f===c&&T===c?(f=0,T=1):(f=mu(f),T===c?(T=f,f=0):T=mu(T)),f>T){var oe=f;f=T,T=oe}if(N||f%1||T%1){var ge=ry();return Ws(f+ge*(T-f+qv("1e-"+((ge+"").length-1))),T)}return u_(f,T)},Ie.reduce=function(f,T,N){var oe=or(f)?Wv:zv,ge=arguments.length<3;return oe(f,gi(T,4),N,ge,Fc)},Ie.reduceRight=function(f,T,N){var oe=or(f)?KA:zv,ge=arguments.length<3;return oe(f,gi(T,4),N,ge,df)},Ie.repeat=function(f,T,N){return T=(N?Ma(f,T,N):T===c)?1:ar(T),p_(uo(f),T)},Ie.replace=function(){var f=arguments,T=uo(f[0]);return f.length<3?T:T.replace(f[1],f[2])},Ie.result=function(f,T,N){var oe=-1,ge=(T=eo(T,f)).length;for(ge||(ge=1,f=c);++oe<ge;){var Pe=f==null?c:f[Ed(T[oe])];Pe===c&&(oe=ge,Pe=N),f=fl(Pe)?Pe.call(f):Pe}return f},Ie.round=FP,Ie.runInContext=Tt,Ie.sample=function(f){return(or(f)?Hb:Kb)(f)},Ie.size=function(f){if(f==null)return 0;if(cs(f))return $h(f)?Xp(f):f.length;var T=zs(f);return T==_e||T==pt?f.size:Bh(f).length},Ie.snakeCase=FI,Ie.some=function(f,T,N){var oe=or(f)?z1:aP;return N&&Ma(f,T,N)&&(T=c),oe(f,gi(T,3))},Ie.sortedIndex=function(f,T){return f_(f,T)},Ie.sortedIndexBy=function(f,T,N){return uy(f,T,gi(N,2))},Ie.sortedIndexOf=function(f,T){var N=f==null?0:f.length;if(N){var oe=f_(f,T);if(oe<N&&Vc(f[oe],T))return oe}return-1},Ie.sortedLastIndex=function(f,T){return f_(f,T,!0)},Ie.sortedLastIndexBy=function(f,T,N){return uy(f,T,gi(N,2),!0)},Ie.sortedLastIndexOf=function(f,T){if(f!=null&&f.length){var N=f_(f,T,!0)-1;if(Vc(f[N],T))return N}return-1},Ie.startCase=LI,Ie.startsWith=function(f,T,N){return f=uo(f),N=N==null?0:Ju(ar(N),0,f.length),T=rc(T),f.slice(N,N+T.length)==T},Ie.subtract=HI,Ie.sum=function(f){return f&&f.length?W0(f,Ll):0},Ie.sumBy=function(f,T){return f&&f.length?W0(f,gi(T,2)):0},Ie.template=function(f,T,N){var oe=Ie.templateSettings;N&&Ma(f,T,N)&&(T=c),f=uo(f),T=yf({},T,oe,E_);var ge,Pe,He=yf({},T.imports,oe.imports,E_),nt=ds(He),vt=X1(He,nt),Ht=0,Ut=T.interpolate||kc,on="__p += '",Vn=ey((T.escape||kc).source+"|"+Ut.source+"|"+(Ut===ad?Ku:kc).source+"|"+(T.evaluate||kc).source+"|$","g"),Kn="//# sourceURL="+(yo.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jA+"]")+`
`;f.replace(Vn,function(hn,Ei,In,Xi,ei,ao){return In||(In=Xi),on+=f.slice(Ht,ao).replace(U0,YA),Ei&&(ge=!0,on+=`' +
__e(`+Ei+`) +
'`),ei&&(Pe=!0,on+=`';
`+ei+`;
__p += '`),In&&(on+=`' +
((__t = (`+In+`)) == null ? '' : __t) +
'`),Ht=ao+hn.length,hn}),on+=`';
`;var mi=yo.call(T,"variable")&&T.variable;if(mi){if(ul.test(mi))throw new zr("Invalid `variable` option passed into `_.template`")}else on=`with (obj) {
`+on+`
}
`;on=(Pe?on.replace(Co,""):on).replace(js,"$1").replace(ca,"$1;"),on="function("+(mi||"obj")+`) {
`+(mi?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ge?", __e = _.escape":"")+(Pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+on+`return __p
}`;var jt=op(function(){return os(nt,Kn+"return "+on).apply(c,vt)});if(jt.source=on,L_(jt))throw jt;return jt},Ie.times=function(f,T){if((f=ar(f))<1||f>M)return[];var N=L,oe=Ws(f,L);T=gi(T),f-=L;for(var ge=tf(oe,T);++N<f;)T(N);return ge},Ie.toFinite=mu,Ie.toInteger=ar,Ie.toLength=U_,Ie.toLower=function(f){return uo(f).toLowerCase()},Ie.toNumber=Js,Ie.toSafeInteger=function(f){return f?Ju(ar(f),-9007199254740991,M):f===0?f:0},Ie.toString=uo,Ie.toUpper=function(f){return uo(f).toUpperCase()},Ie.trim=function(f,T,N){if((f=uo(f))&&(N||T===c))return kb(f);if(!f||!(T=rc(T)))return f;var oe=Dc(f),ge=Dc(T);return Wi(oe,wb(oe,ge),Db(oe,ge)+1).join("")},Ie.trimEnd=function(f,T,N){if((f=uo(f))&&(N||T===c))return f.slice(0,Z1(f)+1);if(!f||!(T=rc(T)))return f;var oe=Dc(f);return Wi(oe,0,Db(oe,Dc(T))+1).join("")},Ie.trimStart=function(f,T,N){if((f=uo(f))&&(N||T===c))return f.replace(Xl,"");if(!f||!(T=rc(T)))return f;var oe=Dc(f);return Wi(oe,wb(oe,Dc(T))).join("")},Ie.truncate=function(f,T){var N=30,oe="...";if(da(T)){var ge="separator"in T?T.separator:ge;N="length"in T?ar(T.length):N,oe="omission"in T?rc(T.omission):oe}var Pe=(f=uo(f)).length;if(wh(f)){var He=Dc(f);Pe=He.length}if(N>=Pe)return f;var nt=N-Xp(oe);if(nt<1)return oe;var vt=He?Wi(He,0,nt).join(""):f.slice(0,nt);if(ge===c)return vt+oe;if(He&&(nt+=vt.length-nt),xg(ge)){if(f.slice(nt).search(ge)){var Ht,Ut=vt;for(ge.global||(ge=ey(ge.source,uo(zp.exec(ge))+"g")),ge.lastIndex=0;Ht=ge.exec(Ut);)var on=Ht.index;vt=vt.slice(0,on===c?nt:on)}}else if(f.indexOf(rc(ge),nt)!=nt){var Vn=vt.lastIndexOf(ge);Vn>-1&&(vt=vt.slice(0,Vn))}return vt+oe},Ie.unescape=function(f){return(f=uo(f))&&Kp.test(f)?f.replace(Da,Rb):f},Ie.uniqueId=function(f){var T=++QA;return uo(f)+T},Ie.upperCase=xP,Ie.upperFirst=Uy,Ie.each=CI,Ie.eachRight=yI,Ie.first=pI,jy(Ie,(qy={},Nl(Ie,function(f,T){yo.call(Ie.prototype,T)||(qy[T]=f)}),qy),{chain:!1}),Ie.VERSION="4.17.21",Ql(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){Ie[f].placeholder=Ie}),Ql(["drop","take"],function(f,T){Sr.prototype[f]=function(N){N=N===c?1:ss(ar(N),0);var oe=this.__filtered__&&!T?new Sr(this):this.clone();return oe.__filtered__?oe.__takeCount__=Ws(N,oe.__takeCount__):oe.__views__.push({size:Ws(N,L),type:f+(oe.__dir__<0?"Right":"")}),oe},Sr.prototype[f+"Right"]=function(N){return this.reverse()[f](N).reverse()}}),Ql(["filter","map","takeWhile"],function(f,T){var N=T+1,oe=N==1||N==3;Sr.prototype[f]=function(ge){var Pe=this.clone();return Pe.__iteratees__.push({iteratee:gi(ge,3),type:N}),Pe.__filtered__=Pe.__filtered__||oe,Pe}}),Ql(["head","last"],function(f,T){var N="take"+(T?"Right":"");Sr.prototype[f]=function(){return this[N](1).value()[0]}}),Ql(["initial","tail"],function(f,T){var N="drop"+(T?"":"Right");Sr.prototype[f]=function(){return this.__filtered__?new Sr(this):this[N](1)}}),Sr.prototype.compact=function(){return this.filter(Ll)},Sr.prototype.find=function(f){return this.filter(f).head()},Sr.prototype.findLast=function(f){return this.reverse().find(f)},Sr.prototype.invokeMap=vr(function(f,T){return typeof f=="function"?new Sr(this):this.map(function(N){return pf(N,f,T)})}),Sr.prototype.reject=function(f){return this.filter(bg(gi(f)))},Sr.prototype.slice=function(f,T){f=ar(f);var N=this;return N.__filtered__&&(f>0||T<0)?new Sr(N):(f<0?N=N.takeRight(-f):f&&(N=N.drop(f)),T!==c&&(N=(T=ar(T))<0?N.dropRight(-T):N.take(T-f)),N)},Sr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},Sr.prototype.toArray=function(){return this.take(L)},Nl(Sr.prototype,function(f,T){var N=/^(?:filter|find|map|reject)|While$/.test(T),oe=/^(?:head|last)$/.test(T),ge=Ie[oe?"take"+(T=="last"?"Right":""):T],Pe=oe||/^find/.test(T);ge&&(Ie.prototype[T]=function(){var He=this.__wrapped__,nt=oe?[1]:arguments,vt=He instanceof Sr,Ht=nt[0],Ut=vt||or(He),on=function(Ei){var In=ge.apply(Ie,su([Ei],nt));return oe&&Vn?In[0]:In};Ut&&N&&typeof Ht=="function"&&Ht.length!=1&&(vt=Ut=!1);var Vn=this.__chain__,Kn=!!this.__actions__.length,mi=Pe&&!Vn,jt=vt&&!Kn;if(!Pe&&Ut){He=jt?He:new Sr(this);var hn=f.apply(He,nt);return hn.__actions__.push({func:pu,args:[on],thisArg:c}),new nc(hn,Vn)}return mi&&jt?f.apply(this,nt):(hn=this.thru(on),mi?oe?hn.value()[0]:hn.value():hn)})}),Ql(["pop","push","shift","sort","splice","unshift"],function(f){var T=nf[f],N=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",oe=/^(?:pop|shift)$/.test(f);Ie.prototype[f]=function(){var ge=arguments;if(oe&&!this.__chain__){var Pe=this.value();return T.apply(or(Pe)?Pe:[],ge)}return this[N](function(He){return T.apply(or(He)?He:[],ge)})}}),Nl(Sr.prototype,function(f,T){var N=Ie[T];if(N){var oe=N.name+"";yo.call(Yu,oe)||(Yu[oe]=[]),Yu[oe].push({name:T,func:N})}}),Yu[hf(c,2).name]=[{name:"wrapper",func:c}],Sr.prototype.clone=function(){var f=new Sr(this.__wrapped__);return f.__actions__=Rl(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Rl(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Rl(this.__views__),f},Sr.prototype.reverse=function(){if(this.__filtered__){var f=new Sr(this);f.__dir__=-1,f.__filtered__=!0}else(f=this.clone()).__dir__*=-1;return f},Sr.prototype.value=function(){var f=this.__wrapped__.value(),T=this.__dir__,N=or(f),oe=T<0,ge=N?f.length:0,Pe=function(ao,pi,Ci){for(var Fa=-1,Ea=Ci.length;++Fa<Ea;){var Eo=Ci[Fa],sr=Eo.size;switch(Eo.type){case"drop":ao+=sr;break;case"dropRight":pi-=sr;break;case"take":pi=Ws(pi,ao+sr);break;case"takeRight":ao=ss(ao,pi-sr)}}return{start:ao,end:pi}}(0,ge,this.__views__),He=Pe.start,nt=Pe.end,vt=nt-He,Ht=oe?nt:He-1,Ut=this.__iteratees__,on=Ut.length,Vn=0,Kn=Ws(vt,this.__takeCount__);if(!N||!oe&&ge==vt&&Kn==vt)return Jb(f,this.__actions__);var mi=[];e:for(;vt--&&Vn<Kn;){for(var jt=-1,hn=f[Ht+=T];++jt<on;){var Ei=Ut[jt],In=Ei.iteratee,Xi=Ei.type,ei=In(hn);if(Xi==2)hn=ei;else if(!ei){if(Xi==1)continue e;break e}}mi[Vn++]=hn}return mi},Ie.prototype.at=_I,Ie.prototype.chain=function(){return Hc(this)},Ie.prototype.commit=function(){return new nc(this.value(),this.__chain__)},Ie.prototype.next=function(){this.__values__===c&&(this.__values__=AI(this.value()));var f=this.__index__>=this.__values__.length;return{done:f,value:f?c:this.__values__[this.__index__++]}},Ie.prototype.plant=function(f){for(var T,N=this;N instanceof eg;){var oe=Sy(N);oe.__index__=0,oe.__values__=c,T?ge.__wrapped__=oe:T=oe;var ge=oe;N=N.__wrapped__}return ge.__wrapped__=f,T},Ie.prototype.reverse=function(){var f=this.__wrapped__;if(f instanceof Sr){var T=f;return this.__actions__.length&&(T=new Sr(this)),(T=T.reverse()).__actions__.push({func:pu,args:[wy],thisArg:c}),new nc(T,this.__chain__)}return this.thru(wy)},Ie.prototype.toJSON=Ie.prototype.valueOf=Ie.prototype.value=function(){return Jb(this.__wrapped__,this.__actions__)},Ie.prototype.first=Ie.prototype.head,cu&&(Ie.prototype[cu]=function(){return this}),Ie}();ws._=Jv,(s=function(){return Jv}.call(r,o,r,n))===c||(n.exports=s)}.call(this)},4057:(n,r,o)=>{"use strict";o.r(r)},9955:(n,r,o)=>{"use strict";var s=o(4262);function c(k,O,w){var M,F,L,V;O=O||1;for(var B=0;B<k[0].length;B++){var q=k[0][B];(!B||q[0]<M)&&(M=q[0]),(!B||q[1]<F)&&(F=q[1]),(!B||q[0]>L)&&(L=q[0]),(!B||q[1]>V)&&(V=q[1])}var W=L-M,ie=V-F,se=Math.min(W,ie),we=se/2;if(se===0){var Me=[M,F];return Me.distance=0,Me}for(var _e=new s(void 0,v),ke=M;ke<L;ke+=se)for(var be=F;be<V;be+=se)_e.push(new b(ke+we,be+we,we,k));var Te=function(rt){for(var Fe=0,$e=0,ot=0,it=rt[0],mt=0,ln=it.length,Ge=ln-1;mt<ln;Ge=mt++){var It=it[mt],Nt=it[Ge],Hn=It[0]*Nt[1]-Nt[0]*It[1];$e+=(It[0]+Nt[0])*Hn,ot+=(It[1]+Nt[1])*Hn,Fe+=3*Hn}return Fe===0?new b(it[0][0],it[0][1],0,rt):new b($e/Fe,ot/Fe,0,rt)}(k),Ye=new b(M+W/2,F+ie/2,0,k);Ye.d>Te.d&&(Te=Ye);for(var pt=_e.length;_e.length;){var $t=_e.pop();$t.d>Te.d&&(Te=$t,w&&console.log("found best %d after %d probes",Math.round(1e4*$t.d)/1e4,pt)),$t.max-Te.d<=O||(we=$t.h/2,_e.push(new b($t.x-we,$t.y-we,we,k)),_e.push(new b($t.x+we,$t.y-we,we,k)),_e.push(new b($t.x-we,$t.y+we,we,k)),_e.push(new b($t.x+we,$t.y+we,we,k)),pt+=4)}w&&(console.log("num probes: "+pt),console.log("best distance: "+Te.d));var Ke=[Te.x,Te.y];return Ke.distance=Te.d,Ke}function v(k,O){return O.max-k.max}function b(k,O,w,M){this.x=k,this.y=O,this.h=w,this.d=function(F,L,V){for(var B=!1,q=1/0,W=0;W<V.length;W++)for(var ie=V[W],se=0,we=ie.length,Me=we-1;se<we;Me=se++){var _e=ie[se],ke=ie[Me];_e[1]>L!=ke[1]>L&&F<(ke[0]-_e[0])*(L-_e[1])/(ke[1]-_e[1])+_e[0]&&(B=!B),q=Math.min(q,x(F,L,_e,ke))}return q===0?0:(B?1:-1)*Math.sqrt(q)}(k,O,M),this.max=this.d+this.h*Math.SQRT2}function x(k,O,w,M){var F=w[0],L=w[1],V=M[0]-F,B=M[1]-L;if(V!==0||B!==0){var q=((k-F)*V+(O-L)*B)/(V*V+B*B);q>1?(F=M[0],L=M[1]):q>0&&(F+=V*q,L+=B*q)}return(V=k-F)*V+(B=O-L)*B}s.default&&(s=s.default),n.exports=c,n.exports.default=c},4262:(n,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>s});class s{constructor(b=[],x=c){if(this.data=b,this.length=this.data.length,this.compare=x,this.length>0)for(let k=(this.length>>1)-1;k>=0;k--)this._down(k)}push(b){this.data.push(b),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;let b=this.data[0],x=this.data.pop();return this.length--,this.length>0&&(this.data[0]=x,this._down(0)),b}peek(){return this.data[0]}_up(b){let{data:x,compare:k}=this,O=x[b];for(;b>0;){let w=b-1>>1,M=x[w];if(k(O,M)>=0)break;x[b]=M,b=w}x[b]=O}_down(b){let{data:x,compare:k}=this,O=this.length>>1,w=x[b];for(;b<O;){let M=1+(b<<1),F=x[M],L=M+1;if(L<this.length&&k(x[L],F)<0&&(M=L,F=x[L]),k(F,w)>=0)break;x[b]=F,b=M}x[b]=w}}function c(v,b){return v<b?-1:v>b?1:0}},717:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(w,M,F,L){L===void 0&&(L=F);var V=Object.getOwnPropertyDescriptor(M,F);V&&!("get"in V?!M.__esModule:V.writable||V.configurable)||(V={enumerable:!0,get:function(){return M[F]}}),Object.defineProperty(w,L,V)}:function(w,M,F,L){L===void 0&&(L=F),w[L]=M[F]}),c=this&&this.__setModuleDefault||(Object.create?function(w,M){Object.defineProperty(w,"default",{enumerable:!0,value:M})}:function(w,M){w.default=M}),v=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var M={};if(w!=null)for(var F in w)F!=="default"&&Object.prototype.hasOwnProperty.call(w,F)&&s(M,w,F);return c(M,w),M};Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundRenderer=void 0;let b=o(5320),x=o(9861),k=v(o(2697));class O extends b.EventHandler{constructor(M,F,L,V){super(),this.$seatmap=M,this.$internEventElement=F,this.svg=L,this.minimap=V,this.seatLevel=!1,this.scale=.1,this.hideText=!1,this.zoomLayer=L.select(x.SEATMAP_ZOOM_LAYER),this.addInternEventListener(this.$internEventElement,"intern:seatmap-initialized",B=>this.seatmapReady(B.detail.seatmap,B.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:switch-area",B=>this.switchArea(B.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:background-ready",B=>this.backgroundReady(B.detail.background,B.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:zoomed",B=>this.onZoomed(B.detail.seatLevel,B.detail.transform))}seatmapReady(M,F){this.seatmap=M,this.areaId=F}switchArea(M){this.areaId!=(this.minimap?0:M)&&this.purge(),this.areaId=this.minimap?0:M}purge(){this.zoomLayer.select(x.SEATMAP_BACKGROUND_LAYER).selectAll("*").remove()}backgroundReady(M,F){this.areaId==F&&(this.renderBackground(F,M),this.updateBackground())}renderBackground(M,F){if(M==this.areaId){this.backgroundLayer||(this.backgroundLayer=this.zoomLayer.insert("g",":first-child").classed("seatmap-background-layer",!0));let L=document.createElement("div");L.innerHTML=F,L.querySelectorAll("svg > *").forEach(V=>this.backgroundLayer.node().appendChild(V)),L.remove()}this.minimap&&this.zoomLayer.attr("transform",k.zoomIdentity.toString())}onZoomed(M,F){this.seatLevel=M,this.scale=F.k,this.updateBackground()}updateBackground(){if(this.hideText){if(!this.backgroundLayer)return;let M=this.scale;this.backgroundLayer.selectAll("text").each(function(){let F=k.select(this),L=F.node(),V=parseInt(window.getComputedStyle(L).fontSize,10);F.attr("display",V*M>=8?null:"none")})}}}r.BackgroundRenderer=O},9861:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MAX_ZOOM_SEAT_SIZE=r.PADDING=r.VIEWPORT_RECTANGLE=r.STAGE_INDICATOR=r.SEATMAP_SVG=r.SEATMAP_ZOOM_LAYER=r.SEATMAP_BACKGROUND_LAYER=r.SEATMAP_AREA_LAYER=r.blockHasLinkedAreas=r.blockHasGeneralAdmissions=r.blockHasSeats=r.isMappingDTO=r.isMapping=r.isAvailability=r.isAvailabilityDTO=r.isMarker=r.isSeatGroupOutline=r.isSeat=r.isGeneralAdmission=r.isLinkedBlock=r.isBlock=r.isPriceCategory=r.StageIndicatorType=r.MarkerStyle=r.PlaceAllocation=r.Type=r.SeatStatus=r.GraphicType=r.ZoomType=r.ErrorType=void 0;let s=o(371);var c,v,b,x,k,O,w,M;(function(F){F.INIT="INIT",F.API="API"})(c||(r.ErrorType=c={})),function(F){F.OPTIMAL="OPTIMAL",F.IN_OUT="IN_OUT",F.SEAT_LEVEL="SEAT_LEVEL",F.SCALE="SCALE",F.SEAT_SIZE="SEAT_SIZE"}(v||(r.ZoomType=v={})),function(F){F.POLYGON="POLYGON",F.ELLIPSE="ELLIPSE",F.TEXT="TEXT",F.IMAGE="IMAGE",F.POLYLINE="POLYLINE"}(b||(r.GraphicType=b={})),function(F){F[F.NONE=0]="NONE",F[F.BLOCKED=1]="BLOCKED"}(x||(r.SeatStatus=x={})),function(F){F.SEAT="SEAT",F.GENERAL_ADMISSION="GENERAL_ADMISSION",F.BLOCK_OUTLINE="BLOCK_OUTLINE",F.LINKED_BLOCK="LINKED_BLOCK",F.ROW="ROW",F.SEAT_GROUP_OUTLINE="SEAT_GROUP_OUTLINE",F.PRICE_CATEGORY="PRICE_CATEGORY",F.AREA="AREA",F.MARKER="MARKER",F.BLOCK="BLOCK"}(k||(r.Type=k={})),function(F){F.LEFT="LEFT",F.RIGHT="RIGHT",F.MIDDLE="MIDDLE"}(O||(r.PlaceAllocation=O={})),function(F){F.DEFAULT="DEFAULT"}(w||(r.MarkerStyle=w={})),function(F){F.DEFAULT="DEFAULT"}(M||(r.StageIndicatorType=M={})),r.isPriceCategory=F=>(0,s.hasNumber)(F,"id")&&(0,s.hasString)(F,"name")&&(0,s.hasString)(F,"color")&&(0,s.hasString)(F,"textColor"),r.isBlock=F=>(0,s.hasNumber)(F,"id")&&(0,s.hasNumber)(F,"areaId")&&(0,s.hasString)(F,"blockName")&&(0,s.hasString)(F,"blockDescription"),r.isLinkedBlock=F=>(0,r.isBlock)(F)&&(0,s.hasNumber)(F,"linkedAreaId"),r.isGeneralAdmission=F=>(0,s.hasNumber)(F,"id")&&(0,s.hasNumber)(F,"areaId")&&(0,s.hasNumber)(F,"blockId")&&(0,s.hasArray)(F,"graphics"),r.isSeat=F=>(0,s.hasNumber)(F,"id")&&(0,s.hasNumber)(F,"areaId")&&(0,s.hasNumber)(F,"blockId")&&(0,s.hasNumber)(F,"rowId")&&(0,s.hasNumber)(F,"handicap")&&(0,s.hasArray)(F,"point"),r.isSeatGroupOutline=F=>(0,s.hasString)(F,"color")&&(0,s.hasArray)(F,"outline")&&(0,s.hasArray)(F,"seats"),r.isMarker=F=>(0,s.has)(F,"id")&&(0,s.has)(F,"point")&&(0,s.has)(F,"color")&&(0,s.has)(F,"type"),r.isAvailabilityDTO=function(F){let L=F;return Array.isArray(L.seats)&&Array.isArray(L.generalAdmissions)&&L.key!==void 0&&L.timestamp!==void 0},r.isAvailability=function(F){let L=F;return Array.isArray(L.seats)&&Array.isArray(L.generalAdmissions)},r.isMapping=function(F){let L=F;return Array.isArray(L.priceCategories)&&Array.isArray(L.seats)&&Array.isArray(L.gas)},r.isMappingDTO=function(F){let L=F;return Array.isArray(L.priceCategories)&&Array.isArray(L.seats)&&Array.isArray(L.generalAdmissions)},r.blockHasSeats=F=>{var L;return!!(!((L=F.rows)===null||L===void 0)&&L.length)},r.blockHasGeneralAdmissions=F=>{var L;return!!(!((L=F.generalAdmissions)===null||L===void 0)&&L.length)},r.blockHasLinkedAreas=F=>!!F.linkedAreaId,r.SEATMAP_AREA_LAYER=".seatmap-area-layer",r.SEATMAP_BACKGROUND_LAYER=".seatmap-background-layer",r.SEATMAP_ZOOM_LAYER=".seatmap-zoom-layer",r.SEATMAP_SVG=".seatmap-svg",r.STAGE_INDICATOR=".stage-indicator-icon",r.VIEWPORT_RECTANGLE=".viewport-rectangle",r.PADDING=.1,r.MAX_ZOOM_SEAT_SIZE=.2},5320:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.EventHandler=void 0,r.EventHandler=class{constructor(){this.eventHandlers={},this.internEventHandlers={}}addEventListener(o,s,c){s in this.eventHandlers||(this.eventHandlers[s]=[]),this.eventHandlers[s].push({node:o,handler:c}),o.addEventListener(s,c)}addInternEventListener(o,s,c){s in this.eventHandlers||(this.internEventHandlers[s]=[]),this.internEventHandlers[s].push({node:o,handler:c}),o.addEventListener(s,c)}removeAllListeners(){Object.entries(this.eventHandlers).forEach(([o,s])=>{s.forEach(c=>c.node.removeEventListener(o,c.handler))}),Object.entries(this.internEventHandlers).forEach(([o,s])=>{s.forEach(c=>c.node.removeEventListener(o,c.handler))}),this.eventHandlers={},this.internEventHandlers={}}}},6483:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundLoader=void 0;let s=o(5320),c=o(4141),v=o(4949);class b extends s.EventHandler{constructor(k,O){super(),this.$internEventElement=k,this.seatmapAPI=O,this.destroyed=!1,this.addInternEventListener(k,"intern:seatmap-initialized",w=>this.loadBackground(w.detail.areaId,w.detail.seatmap)),this.addInternEventListener(k,"intern:switch-area",w=>this.switchArea(w.detail))}loadBackground(k,O){this.seatmapAPI.overview(O.availabilityKey,k).then(w=>{if(!this.destroyed)return this.currentArea=k,this.$internEventElement.dispatchEvent((0,c.backgroundReady)({background:w,areaId:k}))},w=>{this.destroyed||(0,v.handleApiError)(this.$internEventElement,w)})}switchArea(k){this.currentArea!==k.areaId&&this.loadBackground(k.areaId,k.seatmap)}removeAllListeners(){this.destroyed=!0,super.removeAllListeners()}}r.BackgroundLoader=b},9278:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0})},1143:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.seatmapMouseupEvent=r.seatmapMousedownEvent=r.seatmapTouchendEvent=r.seatmapTouchstartEvent=r.seatmapLeaveEvent=r.panEndEvent=r.panStartEvent=r.markerClickedEvent=r.seatmapZoomedEvent=r.selectionChangedEvent=r.selectionBeforeEvent=r.seatmapReadyEvent=r.seatingBlockClickedEvent=r.seatClickedEvent=r.rowClickedEvent=r.mouseOverEvent=r.mouseOutEvent=r.gaClickedEvent=r.errorEvent=r.backgroundClickedEvent=r.areaSwitchedEvent=r.areaClickedEvent=void 0;let s=o(2543),c=(v,b,x=!1)=>{let k=(0,s.cloneDeep)(b);return new CustomEvent(v,{detail:k,cancelable:x})};r.areaClickedEvent=v=>c("seatmap:area-clicked",v),r.areaSwitchedEvent=v=>c("seatmap:area-switched",v),r.backgroundClickedEvent=v=>c("seatmap:background-clicked",v),r.errorEvent=v=>c("seatmap:error",v),r.gaClickedEvent=v=>c("seatmap:ga-clicked",v),r.mouseOutEvent=v=>c("seatmap:mouseout",v),r.mouseOverEvent=v=>c("seatmap:mouseover",v),r.rowClickedEvent=v=>c("seatmap:row-clicked",v),r.seatClickedEvent=v=>c("seatmap:seat-clicked",v),r.seatingBlockClickedEvent=v=>c("seatmap:block-clicked",v),r.seatmapReadyEvent=v=>c("seatmap:ready",v),r.selectionBeforeEvent=v=>c("seatmap:selection-before",v,!0),r.selectionChangedEvent=v=>c("seatmap:selection-changed",v),r.seatmapZoomedEvent=v=>c("seatmap:zoomed",v),r.markerClickedEvent=v=>c("seatmap:marker-clicked",v),r.panStartEvent=()=>c("seatmap:pan-start"),r.panEndEvent=()=>c("seatmap:pan-end"),r.seatmapLeaveEvent=v=>c("seatmap:seatmap-leave",v),r.seatmapTouchstartEvent=v=>c("seatmap:touchstart",v),r.seatmapTouchendEvent=v=>c("seatmap:touchend",v),r.seatmapMousedownEvent=v=>c("seatmap:mousedown",v),r.seatmapMouseupEvent=v=>c("seatmap:mouseup",v)},4141:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.internSeatmapTouchstartEvent=r.internSeatmapLeaveEvent=r.internPanEndEvent=r.internPanStartEvent=r.internMarkerClickedEvent=r.internRecalculateViewEvent=r.internDeselectAllEvent=r.internDeselectEvent=r.internToggleEvent=r.internZoomToSelectablesEvent=r.internZoomToSeatLevelEvent=r.internMouseOverEvent=r.internMouseOutEvent=r.internErrorEvent=r.internSeatmapRendered=r.transformValuesInitialised=r.raiseMarkerEvent=r.rectangleEnclosureEndEvent=r.rectangleEnclosureEvent=r.translateTo=r.zoomToBoundsEvent=r.zoomedEvent=r.zoomEndEvent=r.zoomingEvent=r.resizedEvent=r.zoomToSeatSize=r.zoomToScaleEvent=r.backgroundReady=r.internZoomBy=r.internAreaSwitchedEvent=r.internSwitchAreaEvent=r.internSelectEvent=r.internSelectionChangedEvent=r.internSelectionBeforeEvent=r.internGraphicClickedEvent=r.internSeatingBlockClickedEvent=r.internSeatClickedEvent=r.internRowClickedEvent=r.internResetZoomEvent=r.markerChangedEvent=r.internRefreshViewEvent=r.internGaClickedEvent=r.internFilterEvent=r.internBackgroundClickedEvent=r.internLinkedBlockClicked=r.filteredEvent=r.internUpdateAvailabilityEvent=r.mappingUpdatedEvent=r.availabilityUpdatedEvent=r.seatmapInitializedEvent=void 0,r.internSeatmapMouseupEvent=r.internSeatmapMousedownEvent=r.internSeatmapTouchendEvent=void 0;let o=(s,c,v=!1)=>new CustomEvent(s,{detail:c,cancelable:v});r.seatmapInitializedEvent=s=>o("intern:seatmap-initialized",s),r.availabilityUpdatedEvent=s=>o("intern:availability-updated",s),r.mappingUpdatedEvent=s=>o("intern:mapping-updated",s),r.internUpdateAvailabilityEvent=s=>o("intern:update-availability",s),r.filteredEvent=s=>o("intern:filtered",s),r.internLinkedBlockClicked=s=>o("intern:linked-block-clicked",s),r.internBackgroundClickedEvent=s=>o("intern:background-clicked",s),r.internFilterEvent=s=>o("intern:filter",s),r.internGaClickedEvent=s=>o("intern:ga-clicked",s),r.internRefreshViewEvent=()=>o("intern:refresh_view"),r.markerChangedEvent=()=>o("intern:marker-changed"),r.internResetZoomEvent=s=>o("intern:reset-zoom",s),r.internRowClickedEvent=s=>o("intern:row-clicked",s),r.internSeatClickedEvent=s=>o("intern:seat-clicked",s),r.internSeatingBlockClickedEvent=s=>o("intern:block-clicked",s),r.internGraphicClickedEvent=s=>o("intern:graphic-clicked",s),r.internSelectionBeforeEvent=s=>o("intern:selection-before",s,!0),r.internSelectionChangedEvent=s=>o("intern:selection-changed",s),r.internSelectEvent=s=>o("intern:select",s),r.internSwitchAreaEvent=s=>o("intern:switch-area",s),r.internAreaSwitchedEvent=s=>o("intern:area-switched",s),r.internZoomBy=s=>o("intern:zoom-by",s),r.backgroundReady=s=>o("intern:background-ready",s),r.zoomToScaleEvent=s=>o("intern:zoom-to-scale",s),r.zoomToSeatSize=s=>o("intern:zoom-to-seatsize",s),r.resizedEvent=s=>o("intern:resized",s),r.zoomingEvent=s=>o("intern:zooming",s),r.zoomEndEvent=s=>o("intern:zoom-end",s),r.zoomedEvent=s=>o("intern:zoomed",s),r.zoomToBoundsEvent=s=>o("intern:zoom-to-bounds",s),r.translateTo=s=>o("intern:translate-to",s),r.rectangleEnclosureEvent=s=>o("intern:rectangle-enclosure",s),r.rectangleEnclosureEndEvent=s=>o("intern:rectangle-enclosure-end",s),r.raiseMarkerEvent=s=>o("intern:raise-marker",s),r.transformValuesInitialised=s=>o("intern:transform-values-initialised",s),r.internSeatmapRendered=s=>o("intern:seatmap-rendered",s),r.internErrorEvent=s=>o("intern:error",s),r.internMouseOutEvent=s=>o("intern:mouseout",s),r.internMouseOverEvent=s=>o("intern:mouseover",s),r.internZoomToSeatLevelEvent=s=>o("intern:zoomToSeatLevel",s),r.internZoomToSelectablesEvent=s=>o("intern:zoomToSelectables",s),r.internToggleEvent=s=>o("intern:toggle-selectable",s),r.internDeselectEvent=s=>o("intern:deselect",s),r.internDeselectAllEvent=s=>o("intern:deselect-all",s),r.internRecalculateViewEvent=()=>o("intern:recalculate_view"),r.internMarkerClickedEvent=s=>o("intern:marker-clicked",s),r.internPanStartEvent=()=>o("intern:pan-start"),r.internPanEndEvent=()=>o("intern:pan-end"),r.internSeatmapLeaveEvent=s=>o("intern:seatmap-leave",s),r.internSeatmapTouchstartEvent=s=>o("intern:touchstart",s),r.internSeatmapTouchendEvent=s=>o("intern:touchend",s),r.internSeatmapMousedownEvent=s=>o("intern:mousedown",s),r.internSeatmapMouseupEvent=s=>o("intern:mouseup",s)},7705:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.InternExternEventMapper=void 0;let s=o(1143);r.InternExternEventMapper=class{constructor(c,v,b){this.$seatmap=c,this.$internEventElement=v,this.seatmapOnly=b,this.addEventListeners()}addEventListeners(){this.$internEventElement.addEventListener("intern:error",c=>this.mapExternErrorEvent(c.detail)),this.$internEventElement.addEventListener("intern:background-clicked",c=>this.mapExternBackgroundClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:block-clicked",c=>this.mapExternSeatingBlockClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:mouseover",c=>this.mapExternMouseOverEvent(c.detail)),this.$internEventElement.addEventListener("intern:mouseout",c=>this.mapExternMouseOutEvent(c.detail)),this.$internEventElement.addEventListener("intern:seat-clicked",c=>this.mapExternSeatClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:ga-clicked",c=>this.mapExternGAClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:linked-block-clicked",c=>this.mapExternAreaClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:area-switched",c=>this.mapExternAreaSwitchedEvent(c.detail)),this.$internEventElement.addEventListener("intern:row-clicked",c=>this.mapExternRowClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:selection-before",c=>this.mapExternSelectionBeforeEvent(c)),this.$internEventElement.addEventListener("intern:selection-changed",c=>this.mapExternSelectionChangedEvent(c.detail)),this.$internEventElement.addEventListener("intern:seatmap-initialized",c=>this.mapSeatmapExternReadyEvent(c.detail)),this.$internEventElement.addEventListener("intern:availability-updated",c=>this.mapAvailabilityExternReadyEvent(c.detail)),this.$internEventElement.addEventListener("intern:zoomed",c=>this.mapExternZoomedEvent(c.detail)),this.$internEventElement.addEventListener("intern:marker-clicked",c=>this.mapExternMarkerClickedEvent(c.detail)),this.$internEventElement.addEventListener("intern:seatmap-leave",c=>this.mapExternSeatmapLeaveEvent(c.detail)),this.$internEventElement.addEventListener("intern:pan-start",()=>this.mapExternPanStartEvent()),this.$internEventElement.addEventListener("intern:pan-end",()=>this.mapExternPanEndEvent()),this.$internEventElement.addEventListener("intern:touchstart",c=>this.mapExternSeatmapTouchstartEvent(c.detail)),this.$internEventElement.addEventListener("intern:mousedown",c=>this.mapExternSeatmapMousedownEvent(c.detail)),this.$internEventElement.addEventListener("intern:touchend",c=>this.mapExternSeatmapTouchendEvent(c.detail)),this.$internEventElement.addEventListener("intern:mouseup",c=>this.mapExternSeatmapMouseupEvent(c.detail))}mapExternErrorEvent(c){this.$seatmap.dispatchEvent((0,s.errorEvent)(c))}mapSeatmapExternReadyEvent(c){this.seatmap=c.seatmap,this.seatmapOnly&&this.$seatmap.dispatchEvent((0,s.seatmapReadyEvent)(c))}mapAvailabilityExternReadyEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapReadyEvent)(c))}mapExternBackgroundClickedEvent(c){this.$seatmap.dispatchEvent((0,s.backgroundClickedEvent)(c))}mapExternSeatingBlockClickedEvent(c){this.$seatmap.dispatchEvent((0,s.seatingBlockClickedEvent)(c))}mapExternMouseOverEvent(c){this.$seatmap.dispatchEvent((0,s.mouseOverEvent)(c))}mapExternMouseOutEvent(c){this.$seatmap.dispatchEvent((0,s.mouseOutEvent)(c))}mapExternSeatClickedEvent(c){this.$seatmap.dispatchEvent((0,s.seatClickedEvent)(c))}mapExternGAClickedEvent(c){this.$seatmap.dispatchEvent((0,s.gaClickedEvent)(c))}mapExternAreaClickedEvent(c){c.linkedBlock.availabilityInfo&&this.$seatmap.dispatchEvent((0,s.areaClickedEvent)({event:c.event,seatmap:this.seatmap,areaId:c.linkedBlock.linkedAreaId}))}mapExternAreaSwitchedEvent(c){this.$seatmap.dispatchEvent((0,s.areaSwitchedEvent)(c))}mapExternRowClickedEvent(c){this.$seatmap.dispatchEvent((0,s.rowClickedEvent)(c))}mapExternSelectionBeforeEvent(c){let v=(0,s.selectionBeforeEvent)(c.detail);this.$seatmap.dispatchEvent(v),v.defaultPrevented&&c.preventDefault()}mapExternSelectionChangedEvent(c){this.$seatmap.dispatchEvent((0,s.selectionChangedEvent)(c))}mapExternZoomedEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapZoomedEvent)({min:c.min,max:c.max,current:c.transform.k,seatLevel:c.seatLevel,rowLevel:c.rowLevel,blockOutlineLevel:c.blockOutlineLevel,bounds:c.bounds}))}mapExternMarkerClickedEvent(c){this.$seatmap.dispatchEvent((0,s.markerClickedEvent)(c))}mapExternPanStartEvent(){this.$seatmap.dispatchEvent((0,s.panStartEvent)())}mapExternPanEndEvent(){this.$seatmap.dispatchEvent((0,s.panEndEvent)())}mapExternSeatmapLeaveEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapLeaveEvent)(c))}mapExternSeatmapTouchstartEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapTouchstartEvent)(c))}mapExternSeatmapMousedownEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapMousedownEvent)(c))}mapExternSeatmapTouchendEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapTouchendEvent)(c))}mapExternSeatmapMouseupEvent(c){this.$seatmap.dispatchEvent((0,s.seatmapMouseupEvent)(c))}}},2228:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MinimapEventHandler=void 0;let s=o(7939),c=o(5320),v=o(4141);class b extends c.EventHandler{constructor(k,O){super(),this.$seatmap=k,this.$internEventElement=O,this.addInternEventListener(O,"intern:graphic-clicked",w=>this.blockClicked(w.detail.graphic))}blockClicked(k){this.$internEventElement.dispatchEvent((0,v.zoomToBoundsEvent)({bounds:(0,s.boundsFromPoints)(k.points),duration:500}))}}r.MinimapEventHandler=b},2269:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapAreaNavigationEventHandler=void 0;let s=o(8608),c=o(5320),v=o(4141);class b extends c.EventHandler{constructor(k,O,w){super(),this.$seatmap=k,this.$internEventElement=O,this.opts=w,this.addInternEventListener(O,"intern:seatmap-initialized",M=>this.seatmap=M.detail.seatmap),this.addInternEventListener(O,"intern:linked-block-clicked",M=>this.$internEventElement.dispatchEvent((0,v.internSwitchAreaEvent)({areaId:M.detail.linkedBlock.linkedAreaId,seatmap:this.seatmap}))),this.addInternEventListener(O,"intern:switch-area",M=>this.switchArea(M.detail.areaId,M.detail.seatmap))}switchArea(k=0,O){(0,s.removeBacklink)(this.$seatmap),k!==0&&this.opts.render.backButton&&(0,s.addBacklink)(this.$seatmap,this.$internEventElement,this.seatmap,this.opts.backlink),this.$internEventElement.dispatchEvent((0,v.internAreaSwitchedEvent)({areaId:k,seatmap:O}))}}r.SeatmapAreaNavigationEventHandler=b},6423:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapHighlightEventHandler=void 0;let s=o(5320),c=o(8364),v=o(4141),b=o(2987);class x extends s.EventHandler{constructor(O,w){super(),this.$internEventElement=w,this.highlightModel=O,this.addInternEventListener(w,"intern:seatmap-initialized",M=>this.seatmap=M.detail.seatmap),this.addInternEventListener(w,"intern:rectangle-enclosure",M=>this.handleRectangleSelection(M.detail.ids)),this.addInternEventListener(w,"intern:rectangle-enclosure-end",()=>this.handleRectangleEnd())}handleRectangleSelection(O){let w=O.filter(M=>(0,b.isSeatElementId)(M)||(0,b.isGAElementId)(M)).map(M=>(0,c.selectableById)(this.seatmap,M)).filter(M=>(0,c.isBookable)(this.seatmap,M));this.highlightModel.setRectangleHighlighted(w)&&this.$internEventElement.dispatchEvent((0,v.internRefreshViewEvent)())}handleRectangleEnd(){this.highlightModel.setRectangleHighlighted([])&&this.$internEventElement.dispatchEvent((0,v.internRefreshViewEvent)())}}r.SeatmapHighlightEventHandler=x},2961:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapMarkerEventHandler=void 0;let s=o(5320),c=o(9861),v=o(4141),b=o(7939),x=o(8607),k=o(2987);class O extends s.EventHandler{constructor(M,F,L,V){var B;super(),this.markerModel=M,this.$internEventElement=F,this.$seatmap=L,this.seatmapOptions=V,this.addInternEventListener(F,"intern:seatmap-initialized",q=>this.seatmapInitialized(q.detail.seatmap,q.detail.areaId)),this.addInternEventListener(F,"intern:area-switched",q=>this.areaSwitched(q.detail)),!((B=V.render)===null||B===void 0)&&B.markerOnSelectables&&this.addInternEventListener(F,"intern:selection-changed",q=>this.updateMarkerOnSelectionChanged(q.detail.selection.selected))}addCustomMarker(M){let F=[];return M.forEach(L=>{F.push(this.createMarker(L.point,L.markerStyle?L.markerStyle:c.MarkerStyle.DEFAULT,L.areaId?L.areaId:this.areaId,L.renderOnAllZoomLevels,L.id,L.cssClass))}),this.markerModel.addCustomMarker(F),this.$internEventElement.dispatchEvent((0,v.markerChangedEvent)()),F.length===1?F[0]:F}getCustomMarker(){return this.markerModel.customMarkers}removeCustomMarker(M){let F=M.filter(k.isMarkerElementId).map(k.idFromElementId),L=this.markerModel.removeCustomMarker(F);return this.$internEventElement.dispatchEvent((0,v.markerChangedEvent)()),L}updateMarker(M){let F=!1,L=[];return M.forEach(V=>{let B=!1,q=this.markerModel.customMarkers.find(W=>W.id===V.id);q&&(V.cssClass&&q.cssClass!==V.cssClass&&(q.cssClass=V.cssClass,B=!0),!V.point||q.point[0]===V.point[0]&&q.point[1]===V.point[1]||(q.point=[V.point[0],V.point[1]],B=!0),V.markerStyle&&q.markerStyle!==V.markerStyle&&(q.markerStyle=V.markerStyle,B=!0)),F=F||B}),F&&this.$internEventElement.dispatchEvent((0,v.markerChangedEvent)()),L.length===1?L[0]:L}raiseMarker(M){let F=M.filter(k.isMarkerElementId).map(k.idFromElementId);this.$internEventElement.dispatchEvent((0,v.raiseMarkerEvent)({ids:F}))}seatmapInitialized(M,F=0){this.seatmap=M,this.areaId=F}updateMarkerOnSelectionChanged(M){this.markerModel.removeMarker(),this.markerModel.addMarker(this.createSeatGroupMarker(c.MarkerStyle.DEFAULT,this.seatmap)),this.markerModel.addMarker(this.createLinkedBlockMarker(M,c.MarkerStyle.DEFAULT,this.seatmap)),this.markerModel.addMarker(this.createGeneralAdmissionMarker(M,c.MarkerStyle.DEFAULT)),this.$internEventElement.dispatchEvent((0,v.markerChangedEvent)())}createSeatGroupMarker(M,F){let L=[];return(0,x.allSeatGroupOutlinesFlat)(F).forEach(V=>{if(V.containsSelected){let B=(0,b.centerFromBounds)((0,b.boundsFromPoints)(V.outline)),q=this.createMarker(B,M,V.seatGroup.seats[0].areaId,!1,this.createSeatOutlineId(V.seatGroup.seats,B));L.find(W=>W.point[0]===B[0]&&W.point[1]===B[1])||L.push(q)}}),L}createGeneralAdmissionMarker(M,F){let L=[];return M.forEach(V=>{if((0,c.isGeneralAdmission)(V.selectable)){let B=(0,x.calculateCenterPoint)(V.selectable.graphics);B!==null&&L.push(this.createMarker(B,F,V.selectable.areaId,!1,V.selectable.id))}}),L}createLinkedBlockMarker(M,F,L){let V=[];for(let B of M){let q=B.selectable;if(q.areaId!==0){let W=this.getLinkedBlock(q,L);V.push(this.createMarker((0,x.calculateCenterPoint)(W.graphics),F,W.areaId,!0,W.id))}}return V}getLinkedBlock(M,F){let L=F.blockIdToBlock[M.blockId].areaId;return Object.values(F.blockIdToBlock).find(V=>(0,c.isLinkedBlock)(V)&&V.linkedAreaId===L)}createMarker(M,F,L,V,B,q){let W=B;if(this.markerModel.allMarkers.find(ie=>ie.id===W))throw Error(`Marker ID ${W} already defined`);return W==null&&(W=this.markerModel.allMarkers.reduce((se,we)=>we.id>se?we.id:se,0)+1),L==null&&(L=this.areaId),{point:M,markerStyle:F,id:W,areaId:L,renderOnAllZoomLevels:V,cssClass:q}}createSeatOutlineId(M,F){let L=0;return M.forEach(V=>L+=V.id),Math.floor(L/M.length+F[0]+F[1])}areaSwitched(M){this.areaId=M.areaId}}r.SeatmapMarkerEventHandler=O},6095:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapSalesEventHandler=void 0;let s=o(9861),c=o(7443),v=o(6541),b=o(2256),x=o(8364),k=o(5320),O=o(1207),w=o(4141),M=o(2987);class F extends k.EventHandler{constructor(V,B,q,W,ie){super(),this.$seatmap=V,this.$internEventElement=B,this.seatmapAPI=q,this.selectionModel=W,this.opts=ie,this.addInternEventListener(B,"intern:seatmap-initialized",se=>this.seatmapInitialized(se.detail.seatmap,se.detail.areaId)),this.addInternEventListener(B,"intern:select",se=>this.selectSelectable(se.detail.selections)),this.addInternEventListener(B,"intern:deselect",se=>this.deselectSelectable(se.detail.selections)),this.addInternEventListener(B,"intern:filter",se=>this.filter(se.detail.filter)),this.addInternEventListener(B,"intern:switch-area",se=>this.areaId=se.detail.areaId),this.addInternEventListener(B,"intern:update-availability",se=>this.updateAvailability(se.detail))}removeAllListeners(){this.clearTimeouts(),super.removeAllListeners()}clearTimeouts(){this.timer!=null&&clearTimeout(this.timer)}seatmapInitialized(V,B=0){this.seatmap=V,this.areaId=B,this.loadMappingAndAvailability(this.opts.preselected).then(()=>{this.addPreselected(this.opts.preselected),this.$internEventElement.dispatchEvent((0,w.internFilterEvent)({filter:this.opts.filtered}))})}updateAvailability(V){var B;!((B=this.opts.render)===null||B===void 0)&&B.seatmapOnly||this.loadAvailability(this.opts.preselected,V).then(()=>{(0,v.applySeatmapFilter)(this.seatmap,this.seatmap.filter),(0,O.calculateSeatGroupOutlines)(this.seatmap,this.opts,this.selectionModel)})}filter(V){this.seatmap&&((0,v.applySeatmapFilter)(this.seatmap,V),(0,O.calculateSeatGroupOutlines)(this.seatmap,this.opts,this.selectionModel),this.$internEventElement.dispatchEvent((0,w.filteredEvent)({seatmap:this.seatmap})))}addPreselected(V){let B=[];V?.seats&&V.seats.forEach(q=>{B.push({elementId:(0,M.toSeatElementId)(q.id),priceCategoryId:q.pc})}),V?.gas&&V.gas.forEach(q=>{var W;return B.push({elementId:(0,M.toGAElementId)(q.id),priceCategoryId:q.pc,amount:(W=q.amount)!==null&&W!==void 0?W:1})}),B.length!==0&&this.$internEventElement.dispatchEvent((0,w.internSelectEvent)({selections:B,dispatchSelectionBefore:!1}))}selectSelectable(V){for(let B of V){let q=(0,x.selectableById)(this.seatmap,B.elementId);q&&B.priceCategoryId&&this.changePriceCategoryIfNecessary(q,B.priceCategoryId)}}deselectSelectable(V){for(let B of V){let q=(0,x.selectableById)(this.seatmap,B.elementId);q&&B.priceCategoryId&&this.changePriceCategoryIfNecessary(q,B.priceCategoryId)}}changePriceCategoryIfNecessary(V,B){if(B!==void 0){let q=this.seatmap.priceCategories[B];q&&(V.priceCategory=q)}}loadMapping(V){return Vg(this,null,function*(){let B;if(this.opts.inventory&&this.opts.inventory.mapping){let q=this.opts.inventory.mapping;if(typeof q=="function")B=q(this.seatmap);else if(q instanceof Promise)B=yield q;else{if(!(0,s.isMapping)(q)&&!(0,s.isMappingDTO)(q))throw new Error('Config "inventory.mapping" has the wrong type');B=q}}else B=yield this.seatmapAPI.mapping(this.seatmap.availabilityKey);(0,b.joinMappingToSeatmap)(this.seatmap,B,V),this.$internEventElement.dispatchEvent((0,w.mappingUpdatedEvent)({seatmap:this.seatmap,areaId:this.areaId}))})}loadAvailability(V,B){return Vg(this,null,function*(){var q;let W=B;if(!W)if(!((q=this.opts.inventory)===null||q===void 0)&&q.availability){let ie=this.opts.inventory.availability;if(typeof ie=="function")W=ie(this.seatmap);else if(ie instanceof Promise)W=yield ie;else{if(!(0,s.isAvailabilityDTO)(ie)&&!(0,s.isAvailability)(ie))throw new Error('Config "inventory.availability" has the wrong type');W=ie}}else{this.clearTimeouts();let ie=3e4;W=yield this.seatmapAPI.availability(this.seatmap.availabilityKey,this.availabilityTimestamp),W&&(this.availabilityTimestamp=W.timestamp,W.expiresIn>0&&(ie=W.expiresIn+5e3)),this.opts.apiOptions.autoRefresh&&(this.timer=setTimeout(()=>{this.loadAvailability(V,B)},ie))}W&&((0,c.joinAvailabilityToSeatmap)(this.seatmap,W,V),this.$internEventElement.dispatchEvent((0,w.availabilityUpdatedEvent)({seatmap:this.seatmap,areaId:this.areaId})))})}loadMappingAndAvailability(V){return Vg(this,null,function*(){var B;yield this.loadMapping(V),!((B=this.opts.render)===null||B===void 0)&&B.seatmapOnly||(yield this.loadAvailability(V))})}}r.SeatmapSalesEventHandler=F},6573:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(q,W,ie,se){se===void 0&&(se=ie);var we=Object.getOwnPropertyDescriptor(W,ie);we&&!("get"in we?!W.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return W[ie]}}),Object.defineProperty(q,se,we)}:function(q,W,ie,se){se===void 0&&(se=ie),q[se]=W[ie]}),c=this&&this.__setModuleDefault||(Object.create?function(q,W){Object.defineProperty(q,"default",{enumerable:!0,value:W})}:function(q,W){q.default=W}),v=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var W={};if(q!=null)for(var ie in q)ie!=="default"&&Object.prototype.hasOwnProperty.call(q,ie)&&s(W,q,ie);return c(W,q),W};Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapSelectionEventHandler=void 0;let b=o(9861),x=o(8364),k=o(8449),O=v(o(2697)),w=o(5320),M=o(4141),F=o(8607),L=o(9317),V=o(2987);class B extends w.EventHandler{constructor(W,ie,se,we){super(),this.$seatmap=W,this.$internEventElement=ie,this.opts=se,this.selectionModel=we,this.filter=se.filtered,se.selection!==!1&&(this.addInternEventListener(ie,"intern:seat-clicked",Me=>{((0,x.isBookable)(this.seatmap,Me.detail.selectable)||this.selectionModel.isSelectableSelected(Me.detail.selectable))&&(this.opts.externalSelection||(Me.detail.event.shiftKey&&(0,b.isSeat)(Me.detail.selectable)?this.$internEventElement.dispatchEvent((0,M.internSelectEvent)(this.getShiftClickSelectDetail(Me))):this.$internEventElement.dispatchEvent((0,M.internToggleEvent)(B.getToggleDetail(Me)))),this.animateSeatSelection(Me.detail.selectable,Me.detail.seatSize))}),this.addInternEventListener(ie,"intern:ga-clicked",Me=>{!(0,x.isBookable)(this.seatmap,Me.detail.selectable)&&!this.selectionModel.isSelectableSelected(Me.detail.selectable)||this.opts.externalSelection||this.$internEventElement.dispatchEvent((0,M.internSelectEvent)(this.getSelectDetail(Me)))})),this.addInternEventListener(ie,"intern:seatmap-initialized",Me=>this.seatmapInitialized(Me.detail.seatmap,Me.detail.areaId)),this.addInternEventListener(ie,"intern:switch-area",Me=>this.switchArea(Me.detail.areaId)),this.addInternEventListener(ie,"intern:toggle-selectable",Me=>this.toggleSelectable(Me.detail.selections,Me.detail.event)),this.addInternEventListener(ie,"intern:select",Me=>this.selectSelectable(Me.detail)),this.addInternEventListener(ie,"intern:deselect",Me=>this.deselectSelectable(Me.detail)),this.addInternEventListener(ie,"intern:deselect-all",Me=>this.deselectAllSelectable(Me.detail)),this.addInternEventListener(ie,"intern:availability-updated",()=>this.onAvailabilityUpdated()),this.addInternEventListener(ie,"intern:filter",Me=>this.filter=Me.detail.filter),this.addInternEventListener(ie,"intern:config-options-changed",Me=>this.opts=Me.detail)}static getToggleDetail(W){return{event:W.detail.event,selections:[{elementId:(0,V.toSeatElementId)(W.detail.selectable.id),amount:1}]}}getSelectDetail(W){var ie;return{event:W.detail.event,selections:[{elementId:(0,V.toGAElementId)(W.detail.selectable.id),amount:!((ie=this.filter)===null||ie===void 0)&&ie.ticketAmount?this.filter.ticketAmount:1}],dispatchSelectionBefore:!0}}cssString(W){return W?Object.entries(W).reduce((ie,[se,we])=>`${ie+se}:${we};`,""):null}animateSeatSelection(W,ie){var se,we,Me,_e,ke,be;if((0,x.isSelectableAvailable)(W)&&(0,b.isSeat)(W)){let Te="";if(!((we=(se=this.opts.render)===null||se===void 0?void 0:se.cssClassCallbacks)===null||we===void 0)&&we.seatClasses){let pt=this.opts.render.cssClassCallbacks.seatClasses(W);pt&&pt.length&&(Te=`${pt.join(" ")}`)}let Ye="";!((_e=(Me=this.opts.render)===null||Me===void 0?void 0:Me.cssStyleCallbacks)===null||_e===void 0)&&_e.seatStyles&&(Ye=this.cssString(this.opts.render.cssStyleCallbacks.seatStyles(W))),this.selectionModel.isSelectableSelected(W)?(0,k.seatRippleAnimation)(O.select(b.SEATMAP_ZOOM_LAYER),W.point,0,ie,Te,Ye,(ke=W.priceCategory)===null||ke===void 0?void 0:ke.color):(0,k.seatRippleAnimation)(O.select(b.SEATMAP_ZOOM_LAYER),W.point,ie,0,Te,Ye,(be=W.priceCategory)===null||be===void 0?void 0:be.color)}}seatmapInitialized(W,ie=0){this.seatmap=W,this.areaId=ie}switchArea(W=0){this.areaId=W,this.selectionModel.abortPending()}toggleSelectable(W,ie){let se=[],we=[];for(let Me of W){let _e=(0,x.selectableById)(this.seatmap,Me.elementId);this.selectionModel.isSelectableSelected(_e)?we.push({selectable:_e,amount:Me.amount}):(0,x.isSelectableAvailable)(_e)&&se.push({selectable:_e,amount:Me.amount})}this.selectionModel.pendAddingChanges(se),this.selectionModel.pendRemovingChanges(we),this.handleSelectionChangeEvent(!0,ie)}selectSelectable(W){let ie=[];for(let se of W.selections){let we=(0,x.selectableById)(this.seatmap,se.elementId);we&&(0,x.isBookable)(this.seatmap,we)&&ie.push({selectable:we,amount:se.amount===void 0?1:se.amount})}this.selectionModel.pendAddingChanges(ie),this.handleSelectionChangeEvent(W.dispatchSelectionBefore,W.event)}deselectSelectable(W){let ie=[];for(let se of W.selections){let we=(0,x.selectableById)(this.seatmap,se.elementId);we&&ie.push({selectable:we,amount:se.amount})}this.selectionModel.pendRemovingChanges(ie),this.handleSelectionChangeEvent(W.dispatchSelectionBefore)}deselectAllSelectable(W){this.selectionModel.pendRemovingChanges(this.selectionModel.selected),this.handleSelectionChangeEvent(W.dispatchSelectionBefore)}onAvailabilityUpdated(){let W=this.selectionModel.selected.filter(ie=>(0,b.isSeat)(ie.selectable)?!(0,x.isSelectableAvailable)(this.seatmap.seatIdToSeat[ie.selectable.id]):!(0,x.isSelectableAvailable)(this.seatmap.gaIdToGa[ie.selectable.id],ie.amount)).map(ie=>ie);this.selectionModel.remove(W),this.selectionModel.addInvalid(W),this.dispatchSelectionChangedEvents(null)}static getSelectionChangedBeforeEventDetail(W,ie){return{event:ie,selection:{added:[...W.pendingChanges.added],removed:[...W.pendingChanges.removed],selected:this.getSelectedStatePreview(W),invalid:W.invalid}}}static getSelectionChangedEventDetail(W,ie){return{event:ie,selection:{added:W.added,removed:W.removed,selected:W.selected,invalid:W.invalid}}}dispatchSelectionChangedEvents(W){this.selectionModel.changed&&(this.$internEventElement.dispatchEvent((0,M.internSelectionChangedEvent)(B.getSelectionChangedEventDetail(this.selectionModel,W))),this.$internEventElement.dispatchEvent((0,M.internRefreshViewEvent)()))}handleSelectionChangeEvent(W,ie){if(this.selectionModel.hasPendingChanges)if(W){let se=(0,M.internSelectionBeforeEvent)(B.getSelectionChangedBeforeEventDetail(this.selectionModel,ie));this.$internEventElement.dispatchEvent(se),se?.defaultPrevented?this.selectionModel.abortPending():(this.selectionModel.commit(),this.dispatchSelectionChangedEvents(ie))}else this.selectionModel.commit(),this.dispatchSelectionChangedEvents(ie)}getShiftClickSelectDetail(W){let ie=(0,F.getSelectionBetweenSelectedAndId)(W.detail.selectable.id,this.selectionModel.selected,this.seatmap).filter(se=>se.selectable.available!==0);return{selections:(0,L.convertSelectionToSelectState)(ie),dispatchSelectionBefore:!0}}static getSelectedStatePreview(W){let ie=[...W.selected].filter(se=>!W.pendingChanges.removed.includes(se));return ie.push(...W.pendingChanges.added),ie}}r.SeatmapSelectionEventHandler=B},734:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FpsMeter=void 0;let o=()=>window.performance&&window.performance.now?window.performance.now():+new Date;r.FpsMeter=class{constructor(s){this.parent=s,this.isRunning=!1,this.frameTime=0,this.filterStrength=20,this.currentFpsText=null,this.currentFpsElem=null,this.containerElement=null}initUI(){this.containerElement==null&&(this.containerElement=document.createElement("div"),this.containerElement.classList.add("fps-meter"),this.containerElement.setAttribute("title","Click to toggle tracking of FPS."),this.parent.append(this.containerElement),this.currentFpsElem=document.createElement("div"),this.containerElement.append(this.currentFpsElem),this.currentFpsText=document.createTextNode(""),this.currentFpsElem.appendChild(this.currentFpsText),this.containerElement.onclick=()=>this.toggle())}destroyUI(){this.containerElement&&this.containerElement.remove()}start(){this.initUI(),this.isRunning||(this.isRunning=!0,this.measure(),this.drawResults())}pause(){this.isRunning=!1}resume(){this.isRunning||(this.isRunning=!0,this.measure(),this.drawResults())}toggle(){this.isRunning?this.pause():this.resume()}stop(){this.isRunning&&(this.isRunning=!1),this.destroyUI()}measure(){let s=o();window.requestAnimationFrame(()=>{let c=o()-s;this.frameTime+=(c-this.frameTime)/this.filterStrength,this.isRunning&&this.measure()})}drawResults(){setTimeout(()=>{let s=1e3/this.frameTime;this.currentFpsText.nodeValue=`${s.toFixed(1)}\xA0fps`,this.currentFpsElem.className=s<7?"dead":s<25?"danger":s<40?"warn":s>70?"high":"",this.isRunning&&this.drawResults()},1e3)}}},3221:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.doLineSegmentsIntersect=r.pathSimplify=void 0;let o=(x,k,O,w)=>{if(k>=O-1)return[x[k]];let M=x[k][0],F=x[k][1],L=x[O][0]-M,V=x[O][1]-F,B=Math.sqrt(L*L+V*V),q=-V/B,W=L/B,ie=k,se=-1;for(let _e=k+1;_e<O;_e++){let ke=x[_e],be=ke[0]-M,Te=ke[1]-F,Ye=Math.abs(be*q+Te*W);Ye>se&&(se=Ye,ie=_e)}if(se<w)return[x[k]];let we=o(x,k,ie,w),Me=o(x,ie,O,w);return we.concat(Me)};function s(x,k){return[x[0]-k[0],x[1]-k[1]]}function c(x,k){return x[0]*k[1]-x[1]*k[0]}function v(x,k){return x[0]==k[0]&&x[1]==k[1]}function b(x){let k=x[0];for(let O=1;O<x.length;O+=1)if(x[O]!=k)return!1;return!0}r.pathSimplify=(x,k)=>o(x,0,x.length-1,k).concat([x[x.length-1]]),r.doLineSegmentsIntersect=(x,k,O,w)=>{let M=s(k,x),F=s(w,O),L=c(s(O,x),M),V=c(M,F);if(L==0&&V==0)return!!function(W,ie,se,we){return v(W,ie)||v(W,se)||v(we,ie)||v(we,se)}(x,O,w,k)||!b([O[0]-x[0]<0,O[0]-k[0]<0,w[0]-x[0]<0,w[0]-k[0]<0])||!b([O[1]-x[1]<0,O[1]-k[1]<0,w[1]-x[1]<0,w[1]-k[1]<0]);if(V==0)return!1;let B=L/V,q=c(s(O,x),F)/V;return q>=0&&q<=1&&B>=0&&B<=1}},8449:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(x,k,O,w){w===void 0&&(w=O);var M=Object.getOwnPropertyDescriptor(k,O);M&&!("get"in M?!k.__esModule:M.writable||M.configurable)||(M={enumerable:!0,get:function(){return k[O]}}),Object.defineProperty(x,w,M)}:function(x,k,O,w){w===void 0&&(w=O),x[w]=k[O]}),c=this&&this.__setModuleDefault||(Object.create?function(x,k){Object.defineProperty(x,"default",{enumerable:!0,value:k})}:function(x,k){x.default=k}),v=this&&this.__importStar||function(x){if(x&&x.__esModule)return x;var k={};if(x!=null)for(var O in x)O!=="default"&&Object.prototype.hasOwnProperty.call(x,O)&&s(k,x,O);return c(k,x),k};Object.defineProperty(r,"__esModule",{value:!0}),r.pathTween=r.seatRippleAnimation=void 0;let b=v(o(2697));r.seatRippleAnimation=(x,k,O,w,M,F,L="#ffffff")=>{for(let V=1;V<3;++V)x.append("circle").attr("class",M).attr("style",`${F}opacity:.25; pointer-events: none;`).attr("cx",k[0]).attr("cy",k[1]).attr("r",O).attr("fill",L).transition().delay(50*V).ease(b.easeQuadOut).attr("r",w).duration(200).on("end",function(){b.select(this).remove()})},r.pathTween=(x,k=1)=>function(){let O=this,w=O.cloneNode(),M=O.getTotalLength();w.setAttribute("d",x);let F=w.getTotalLength(),L=[0],V=0,B=k/Math.max(M,F);for(;(V+=B)<1;)L.push(V);L.push(1);let q=L.map(W=>{let ie=O.getPointAtLength(W*M),se=w.getPointAtLength(W*F);return b.interpolate([ie.x,ie.y],[se.x,se.y])});return W=>W<1?`M${q.map(ie=>ie(W)).join("L")}`:x}},8364:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isGaBookedOut=r.isBookable=r.accumulatedPriceCategoryColor=r.selectableById=r.isSelectableAvailable=void 0;let s=o(9861),c=o(2987);r.isSelectableAvailable=(v,b)=>v.status===s.SeatStatus.NONE&&v.priceCategory&&v.priceCategory.id&&v.available>=(b||1),r.selectableById=(v,b)=>{var x,k;if((0,c.isSeatElementId)(b))return v.seatIdToSeat[(0,c.idFromElementId)(b)];if((0,c.isGAElementId)(b)){let O=(0,c.idFromElementId)(b);return(k=(x=v.gaIdToBlock[O])===null||x===void 0?void 0:x.generalAdmissions)===null||k===void 0?void 0:k.find(w=>w.id===O)}return null},r.accumulatedPriceCategoryColor=(v,b,x,k)=>{var O,w,M;let F=x?.priceCategories,L=F?.length?(O=v?.priceCategories.find(B=>F.includes(B.priceCategory)))===null||O===void 0?void 0:O.priceCategory:(M=(w=v?.priceCategories)===null||w===void 0?void 0:w[0])===null||M===void 0?void 0:M.priceCategory,V=L?b[L]:null;return V===null?"#ccc":k?V.color:"#2ba23b"},r.isBookable=(v,b)=>!b.excluded&&(0,r.isSelectableAvailable)(b),r.isGaBookedOut=(v,b)=>{if(!(0,s.isGeneralAdmission)(v))return!1;let x=b.find(k=>k.selectable.id===v.id);return!!x&&x.amount===v.available}},4949:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.handleApiError=void 0;let s=o(9861),c=o(4141);r.handleApiError=(v,b)=>{let x;b.response&&(x=b.response),v.dispatchEvent((0,c.internErrorEvent)({error:[{type:s.ErrorType.API,msg:b.message,data:x}]}))}},6541:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.applySeatmapFilter=void 0;let s=o(9861),c=o(8607),v=o(8364),b=(L,V)=>{var B,q;if(!((B=L.filter.blocks)===null||B===void 0)&&B.length){let W=L.blockIdToBlock[V.blockId];if(W)return k(L,W)}return((q=L.filter.blocks)===null||q===void 0?void 0:q.length)&&!L.filter.blocks.includes(V.blockId)},x=(L,V)=>L.filter.blocks.includes(V.id),k=(L,V)=>{var B;if(!(!((B=L.filter.blocks)===null||B===void 0)&&B.length))return!1;let q=Object.values(L.blockIdToBlock).find(W=>(0,s.isLinkedBlock)(W)&&W.linkedAreaId===V.areaId);return q?!(x(L,V)||x(L,q)):!L.filter.blocks.includes(V.id)},O=(L,V)=>{var B,q;return!(!(!((B=L.filter.priceCategories)===null||B===void 0)&&B.length)||L.filter.priceCategories.includes((q=V.priceCategory)===null||q===void 0?void 0:q.id))},w=(L,V)=>{var B,q;let W=!0;return((B=L.filter.holds)===null||B===void 0?void 0:B.length)>0?(q=V.holds)===null||q===void 0||q.forEach(ie=>{L.filter.holds.includes(ie.id)&&(W=!1)}):W=!1,W},M=(L,V)=>{var B,q,W;return!(!(!((B=L.filter.priceCategories)===null||B===void 0)&&B.length)||!(!((W=(q=V.availabilityInfo)===null||q===void 0?void 0:q.priceCategories)===null||W===void 0)&&W.length)||V.availabilityInfo.priceCategories.reduce((ie,se)=>L.filter.priceCategories.includes(se.priceCategory)||ie,!1))},F=(L,V)=>{if(!L.filter.ticketAmount||L.filter.ticketAmount<=1)return!1;if(!(0,v.isSelectableAvailable)(V))return!0;let B=L.filter.ticketAmount;if((0,s.isSeat)(V)){let q=L.rowIdToRow[V.rowId].seatGroups.find(ie=>ie.seats.some(se=>se.id===V.id));if(B>q.seats.length)return!0;let W=q.seats.indexOf(V);return((ie,se)=>{for(let we=0;we<se;we++){let Me=[];for(let _e=we;_e<we+se;_e++){let ke=ie[_e];if(ke&&(0,v.isSelectableAvailable)(ke)&&(Me.push(ke),Me.length>=se))return!1}}return!0})(q.seats.filter((ie,se)=>se>=W-(B-1)&&se<=W+(B-1)),B)}return!(0,s.isGeneralAdmission)(V)||V.available<B};r.applySeatmapFilter=(L,V)=>{L.filter=V,L.seatIdToSeat&&Object.values(L.seatIdToSeat).forEach(B=>B.excluded=!!L.filter&&(b(L,B)||O(L,B)||F(L,B)||w(L,B))),L.gaIdToGa&&Object.values(L.gaIdToGa).forEach(B=>B.excluded=!!L.filter&&(b(L,B)||O(L,B)||F(L,B)||w(L,B))),L.rowIdToRow&&Object.values(L.rowIdToRow).forEach(B=>B.excluded=!!L.filter&&(b(L,B)||M(L,B))),L.blockIdToBlock&&Object.values(L.blockIdToBlock).forEach(B=>{B.excluded=!!L.filter&&(k(L,B)||((q,W)=>(0,s.blockHasGeneralAdmissions)(W)?W.generalAdmissions.map(ie=>O(q,ie)).reduce((ie,se)=>ie&&se,!0):(0,s.blockHasLinkedAreas)(W)||(0,s.blockHasSeats)(W)?M(q,W):void 0)(L,B)||((q,W)=>{if((0,s.isLinkedBlock)(W)){let ie=Object.values(q.blockIdToBlock).find(se=>W.linkedAreaId===se.areaId);if(ie)return!((0,c.allSeatsFlat)(q,ie.areaId).some(se=>!se.excluded)||(0,c.allGasFlat)(q,ie.areaId).some(se=>!F(q,se)))}return!(0,s.blockHasGeneralAdmissions)(W)&&!(0,s.blockHasSeats)(W)||!((0,c.allSeatsFlat)(q,W.areaId,W.id).some(ie=>!ie.excluded)||(0,c.allGasFlat)(q,W.areaId,W.id).some(ie=>!F(q,ie)))})(L,B))})}},6837:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isInThreshold=r.normalizeRenderingThreshold=r.recalculateRenderingThresholds=void 0;let s=o(8831);r.recalculateRenderingThresholds=(O,w,M)=>{let F=Math.min(M.height,M.width),L=F<=600,V=L?1e3:3e3,B=L?200:500,q=Object.values(O.seatIdToSeat).reduce((ie,se)=>(ie[se.areaId]=ie[se.areaId]?ie[se.areaId]+1:1,ie),{}),W=Object.values(O.rowIdToRow).reduce((ie,se)=>{let we=se.seatGroups.map(Me=>Me.outlines.length).reduce((Me,_e)=>Me+_e,0);return ie[se.areaId]=ie[se.areaId]?ie[se.areaId]+we:we,ie},{});O.areas.forEach(ie=>{c(F)?ie.renderingHint=at(at({},s.HINT_MOBILE),w):v(F,w)||b(q,ie)?ie.renderingHint=at(at({},s.HINT_BLOCKOUTLINES),w):x(q,ie,V)?ie.renderingHint=at(at({},w),s.HINT_SEATS):k(W,ie,B)?ie.renderingHint=at(at({},w),s.HINT_ROWS):ie.renderingHint=at(at({},w),s.HINT_BLOCKOUTLINES)})},r.normalizeRenderingThreshold=O=>Array.isArray(O)&&O.length==2?O:O===!1?[-1,-1]:O===!0?[0,1/0]:typeof O=="number"?[O,1/0]:null,r.isInThreshold=(O,w)=>{let M=(0,r.normalizeRenderingThreshold)(w);return!!M&&O>=M[0]&&O<M[1]};let c=O=>O<600,v=(O,w)=>w.seats!==void 0||w.rows!==void 0||w.rowLabels!==void 0||w.blockOutlines!==void 0,b=(O,w)=>!O[w.id],x=(O,w,M)=>O[w.id]<M,k=(O,w,M)=>O[w.id]<M},8191:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(k,O,w,M){M===void 0&&(M=w);var F=Object.getOwnPropertyDescriptor(O,w);F&&!("get"in F?!O.__esModule:F.writable||F.configurable)||(F={enumerable:!0,get:function(){return O[w]}}),Object.defineProperty(k,M,F)}:function(k,O,w,M){M===void 0&&(M=w),k[M]=O[w]}),c=this&&this.__setModuleDefault||(Object.create?function(k,O){Object.defineProperty(k,"default",{enumerable:!0,value:O})}:function(k,O){k.default=O}),v=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var O={};if(k!=null)for(var w in k)w!=="default"&&Object.prototype.hasOwnProperty.call(k,w)&&s(O,k,w);return c(O,k),O};Object.defineProperty(r,"__esModule",{value:!0}),r.renderEllipseFromGraphic=r.renderPathFromGraphic=r.addText=r.rad2deg=r.createWrapperGroup=r.createBlockGroup=r.viewPortWidening=void 0;let b=v(o(2697)),x=o(2987);r.viewPortWidening=k=>k?[k[0]-500,k[1]-500,k[2]+1e3,k[3]+1e3]:null,r.createBlockGroup=(k,O)=>{let w=k.selectAll(".block").data(O).join("g");return w.classed("block",!0).attr("id",M=>(0,x.toBlockElementId)(M.id)),w},r.createWrapperGroup=(k,O)=>{let w=k.selectAll(`.${O}`).data([{id:O}]).join("g");return w.attr("id",M=>M.id).classed(O,!0),w},r.rad2deg=k=>180*k/Math.PI,r.addText=k=>{k.selectAll("text").data(O=>O.text).enter().append("text").attr("x",O=>O.bounds[3][0]).attr("y",O=>O.bounds[3][1]).attr("font-family",O=>O.fontName).attr("font-weight",O=>O.fontWeight).attr("font-size",O=>O.fontSize).attr("fill",O=>O.color).attr("transform",O=>O.angle!==0?`rotate(${(0,r.rad2deg)(O.angle)} ${O.bounds[3][0]} ${O.bounds[3][1]})`:null).text(O=>O.text)},r.renderPathFromGraphic=k=>{let O=k.enter().append("path").attr("id",w=>w.graphic.id).attr("d",w=>b.line().curve(b.curveLinearClosed)(w.graphic.points));return k.exit().remove(),k.merge(O)},r.renderEllipseFromGraphic=k=>{let O=k.enter().append("ellipse").attr("id",w=>w.graphic.id).attr("cx",w=>w.graphic.points[0][0]+w.graphic.width/2).attr("cy",w=>w.graphic.points[0][1]+w.graphic.height/2).attr("rx",w=>w.graphic.width/2).attr("ry",w=>w.graphic.height/2).attr("transform",w=>`rotate(${w.graphic.rotation} ${w.graphic.points[0][0]} ${w.graphic.points[0][1]})`);return k.exit().remove(),k.merge(O)}},1207:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSeatNeighbours=r.pointDistance=r.calculateSeatGroupSeatDistance=r.calculateSeatGroupOutlines=void 0;let s=o(9861),c=o(3221),v=o(8607),b=o(2987);r.calculateSeatGroupOutlines=(F,L,V)=>{let B={getComparable:L.seatGrouping.getComparable?L.seatGrouping.getComparable:k,createSeatGroupOutline:L.seatGrouping.createSeatGroupOutline?L.seatGrouping.createSeatGroupOutline:O};Object.values(F.areas).forEach(q=>{(0,v.allRowsFlat)(F,q.id).forEach(W=>{W.seatGroups.forEach(ie=>{let se=null,we=[],Me=[];ie.seats.filter(_e=>!x(_e)).forEach(_e=>{let ke=B.getComparable(_e,se,V);ke!=null&&(we.length!==0&&(w(we,q.seatSize,ie.seatDistance).forEach(be=>{Me.push(B.createSeatGroupOutline(se,ie,we,(0,c.pathSimplify)(be,2),Me.length))}),we=[]),se=ke),we.push(_e)}),we.length!==0&&w(we,q.seatSize,ie.seatDistance).forEach(_e=>{Me.push(B.createSeatGroupOutline(se,ie,we,(0,c.pathSimplify)(_e,2),Me.length))}),ie.outlines=Me})})})},r.calculateSeatGroupSeatDistance=(F,L,V)=>{let B=[];for(let q=1;q<F.seats.length;q++){let W=(0,r.pointDistance)(F.seats[q-1].point,F.seats[q].point)/L;W<V&&B.push(W)}return B.length>1?B.reduce((q,W)=>q+W,0)/B.length*2:V};let x=F=>F.status===s.SeatStatus.BLOCKED,k=(F,L,V)=>{let B=F?{priceCategory:F.priceCategory,status:F.status,disabled:F.excluded===!0||F.available===0||F.status!==s.SeatStatus.NONE,selected:V.isSelectableSelected(F)}:{};return L!=null&&B.disabled===L.disabled&&B.selected==L.selected&&B.priceCategory===L.priceCategory?null:B},O=(F,L,V,B,q)=>{var W,ie;return{id:(0,b.toSeatGroupOutlineElementId)(L.rowId,q),type:s.Type.SEAT_GROUP_OUTLINE,seatGroup:L,outline:B,seats:V,color:F.selected?"#1459f4":(ie=(W=F?.priceCategory)===null||W===void 0?void 0:W.color)!==null&&ie!==void 0?ie:"#ccc",disabled:F.disabled&&!F.selected,containsSelected:F.selected}},w=(F,L,V)=>{let B=F.map(se=>se.point),q=[],W=[],ie=null;return B.forEach(se=>{ie&&(0,r.pointDistance)(se,ie)>V*L&&(W.length===1&&W.push(M(W[0],se)),q.push(W),W=[]),W.push(se),ie=se}),W.length===1&&B.length===1?W.push([B[0][0],B[0][1]]):W.length===1&&W.push(M(B[B.length-1],B[B.length-2])),W.length>0&&q.push(W),q},M=(F,L)=>{let V=(0,r.pointDistance)(F,L);return[F[0]+.005/V*(L[0]-F[0]),F[1]+.005/V*(L[1]-F[1])]};r.pointDistance=(F,L)=>Math.sqrt(Math.pow(F[0]-L[0],2)+Math.pow(F[1]-L[1],2)),r.getSeatNeighbours=(F,L,V)=>{var B;if((0,b.isSeatElementId)(L)){let q=F.seatIdToSeat[(0,b.idFromElementId)(L)];if(q)return(B=F.rowIdToRow[q.rowId].seatGroups.find(W=>W.seats.find(ie=>q.id===ie.id)).seats.reduce((W,ie)=>{var se,we;return(ie.available>0!=W.a||V===!1&&((se=ie.priceCategory)===null||se===void 0?void 0:se.id)!==W.pcId)&&(W.found?W.stop=!0:W={found:!1,stop:W.stop,pcId:(we=ie.priceCategory)===null||we===void 0?void 0:we.id,a:ie.available>0,seats:[]}),W.found&&W.stop||W.seats.push(ie),W.found=W.found||q.id===ie.id,W},{found:!1,stop:!1}))===null||B===void 0?void 0:B.seats}}},9317:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.convertSelectionToSelectState=void 0;let s=o(2987);r.convertSelectionToSelectState=c=>c.map(v=>v.elementId?v:{elementId:(0,s.elementIdFromSelectable)(v.selectable),amount:v.amount})},7939:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.combineBounds=r.boundsFromPoints=r.isInViewport=r.isValidTransform=r.getTransformationMatrix=r.transformPoint=r.centerFromBounds=r.visibleBoundsInZoomLayer=void 0;let s=o(9861);function c(b,x){let k=x instanceof SVGMatrix?x:v(x),O=document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGPoint();O.x=b[0],O.y=b[1];let w=O.matrixTransform(k);return[w.x,w.y]}function v(b){let x=document.createElementNS("http://www.w3.org/2000/svg","g");return x.setAttribute("transform",b),x.transform.baseVal.consolidate().matrix}r.visibleBoundsInZoomLayer=b=>{let x=b.querySelector(s.SEATMAP_ZOOM_LAYER);if(!x)return null;let k=b.querySelector(s.SEATMAP_SVG);if(!k)return null;let O=k.getBoundingClientRect(),w=x.getCTM();if(!w)return null;let M=w.inverse(),[F,L]=c([0,0],M),[V,B]=c([O.width,O.height],M);return[F,L,V-F,B-L]},r.centerFromBounds=b=>[b[0]+b[2]/2,b[1]+b[3]/2],r.transformPoint=c,r.getTransformationMatrix=v,r.isValidTransform=b=>b.transform&&b.transform.x!==void 0&&b.transform.y!==void 0&&b.transform.k!==void 0&&!isNaN(b.transform.x)&&isFinite(b.transform.k),r.isInViewport=(b,x)=>!!b&&x[0]>b[0]&&x[0]<b[0]+b[2]&&x[1]>b[1]&&x[1]<b[1]+b[3],r.boundsFromPoints=b=>{let x=Math.min(...b.map(O=>O[0])),k=Math.min(...b.map(O=>O[1]));return[x,k,Math.max(...b.map(O=>O[0]))-x,Math.max(...b.map(O=>O[1]))-k]},r.combineBounds=(b,x)=>{let k=[null,null,null,null];if(b.every(O=>O===null))k[0]=x[0],k[1]=x[1],k[2]=x[2],k[3]=x[3];else if(x.every(O=>O===null))k[0]=b[0],k[1]=b[1],k[2]=b[2],k[3]=b[3];else{let O=Math.min(x[0],b[0]),w=Math.min(x[1],b[1]),M=Math.max(x[0]+x[2],b[0]+b[2]),F=Math.max(x[1]+x[3],b[1]+b[3]);k[0]=O,k[1]=w,k[2]=M-O,k[3]=F-w}return k}},371:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hasArray=r.hasString=r.hasNumber=r.has=void 0;let s=o(8607);r.has=(c,v)=>!(0,s.isNil)(c)&&!(0,s.isNil)(c[v]),r.hasNumber=(c,v)=>(0,r.has)(c,v)&&typeof c[v]=="number",r.hasString=(c,v)=>(0,r.has)(c,v)&&typeof c[v]=="string",r.hasArray=(c,v)=>(0,r.has)(c,v)&&Array.isArray(c[v])},8607:function(n,r,o){"use strict";var s=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(r,"__esModule",{value:!0}),r.toDOMPoint=r.toBoundingRect=r.isTouchDevice=r.rowInBounds=r.getVisibleElements=r.getSelectionBetweenSelectedAndId=r.calculateCenterPoint=r.getSelectableCenter=r.getSeatGroupOutline=r.allBlocksFlat=r.allRowsFlat=r.allSeatGroupOutlinesFlat=r.allGasFlat=r.allSeatsFlat=r.isNil=void 0;let c=o(9861),v=o(7939),b=o(3221),x=o(8258),k=s(o(9955)),O=o(2987);r.isNil=L=>L==null,r.allSeatsFlat=(L,V,B)=>L.areas.filter(q=>(0,r.isNil)(V)||q.id===V).flatMap(q=>q.blocks).filter(q=>(0,r.isNil)(B)||q.id===B).filter(c.blockHasSeats).flatMap(q=>q.rows).flatMap(q=>q.seatGroups).flatMap(q=>q.seats),r.allGasFlat=(L,V,B)=>L.areas.filter(q=>(0,r.isNil)(V)||q.id===V).flatMap(q=>q.blocks).filter(q=>(0,r.isNil)(B)||q.id===B).filter(c.blockHasGeneralAdmissions).flatMap(q=>q.generalAdmissions),r.allSeatGroupOutlinesFlat=(L,V,B)=>L.areas.filter(q=>(0,r.isNil)(V)||q.id===V).flatMap(q=>q.blocks).filter(q=>(0,r.isNil)(B)||q.id===B).filter(c.blockHasSeats).flatMap(q=>q.rows).flatMap(q=>q.seatGroups).flatMap(q=>q.outlines),r.allRowsFlat=(L,V,B)=>L.areas.filter(q=>(0,r.isNil)(V)||q.id===V).flatMap(q=>q.blocks).filter(q=>(0,r.isNil)(B)||q.id===B).filter(c.blockHasSeats).flatMap(q=>q.rows),r.allBlocksFlat=(L,V)=>L.areas.filter(B=>(0,r.isNil)(V)||B.id===V).flatMap(B=>B.blocks),r.getSeatGroupOutline=(L,V)=>{let B=V.match(O.SEATGROUP_OUTLINE_REGEX);if(B?.length>1){let q=L.rowIdToRow[B[1]];return q?.seatGroups.flatMap(W=>W.outlines).find(W=>V===W.id)}return null},r.getSelectableCenter=L=>(0,c.isSeat)(L)?L.point:(0,r.calculateCenterPoint)(L.graphics),r.calculateCenterPoint=L=>{if(L&&L.length>0){let V=L.filter(q=>q!=null).reduce((q,W)=>{let ie=w(W);return q.size>ie?q:{g:W,size:ie}},{g:null,size:0}).g;if(V.type==c.GraphicType.ELLIPSE){let q=V;return[q.points[0][0]+q.width/2,q.points[0][1]+q.height/2]}let B=(0,x.polygonCentroid)(V.points);if(!(0,x.polygonContains)(V.points,B)){let q=(0,k.default)([V.points]);return q?[q[0],q[1]]:(0,x.polygonCentroid)(V.points)}return B}return null};let w=L=>{if(L.type===c.GraphicType.ELLIPSE){let V=L;return Math.PI*(V.width/2)*(V.height/2)}return Math.abs((0,x.polygonArea)(L.points))};function M(L){return{selectable:L,amount:1}}r.getSelectionBetweenSelectedAndId=(L,V,B)=>{let q=V.map(se=>se.selectable).filter(se=>(0,c.isSeat)(se)),W=Object.values(B.seatIdToSeat),ie=B.seatIdToSeat[L].blockId;if(q.length>0){let se=q.reduce((_e,ke)=>Math.abs(ke.id-L)<Math.abs(_e.id-L)?ke:_e).id,we=se<L?se:L,Me=se<L?L:se;return W.filter(_e=>_e.id>=we&&_e.id<=Me&&!q.find(ke=>ke.id===_e.id)&&_e.blockId===ie).map(_e=>M(_e))}return W.filter(se=>se.rowId===B.seatIdToSeat[L].rowId&&se.id<=L&&se.blockId===ie).map(se=>M(se))},r.getVisibleElements=(L,V,B)=>{let q=(0,v.visibleBoundsInZoomLayer)(V),W=[];return W.push(...Object.values(L.blockIdToBlock).filter(ie=>ie.linkedAreaId&&ie.areaId===B&&(0,v.isInViewport)(q,(0,r.calculateCenterPoint)(ie.graphics)))),W.push(...Object.values(L.gaIdToGa).filter(ie=>ie.areaId===B&&(0,v.isInViewport)(q,(0,r.calculateCenterPoint)(ie.graphics)))),W.push(...Object.values(L.seatIdToSeat).filter(ie=>ie.areaId===B&&(0,v.isInViewport)(q,ie.point))),W},r.rowInBounds=(L,V)=>V.outline.find(B=>(0,v.isInViewport)(L,B))!==void 0||V.outline.find((B,q)=>!!(V.outline.length>q+1&&F(L,B,V.outline[q+1])))!==void 0;let F=(L,V,B)=>(0,b.doLineSegmentsIntersect)([L[0],L[1]],[L[0]+L[2],L[1]],V,B)||(0,b.doLineSegmentsIntersect)([L[0]+L[2],L[1]],[L[0]+L[2],L[1]+L[3]],V,B)||(0,b.doLineSegmentsIntersect)([L[0],L[1]],[L[0],L[1]+L[3]],V,B)||(0,b.doLineSegmentsIntersect)([L[0],L[1]+L[3]],[L[0]+L[2],L[1]+L[3]],V,B);r.isTouchDevice=()=>"ontouchstart"in window||navigator.maxTouchPoints>0,r.toBoundingRect=L=>new DOMRect(L[0],L[1],L[2],L[3]),r.toDOMPoint=L=>new DOMPoint(L[0],L[1])},3053:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.validateOptions=void 0,r.validateOptions=o=>{var s;let c=[];return!((s=o.apiOptions)===null||s===void 0)&&s.id||c.push({type:"INIT",msg:"apiOptions.id must be set"}),c}},2800:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(k,O,w,M){M===void 0&&(M=w);var F=Object.getOwnPropertyDescriptor(O,w);F&&!("get"in F?!O.__esModule:F.writable||F.configurable)||(F={enumerable:!0,get:function(){return O[w]}}),Object.defineProperty(k,M,F)}:function(k,O,w,M){M===void 0&&(M=w),k[M]=O[w]}),c=this&&this.__setModuleDefault||(Object.create?function(k,O){Object.defineProperty(k,"default",{enumerable:!0,value:O})}:function(k,O){k.default=O}),v=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var O={};if(k!=null)for(var w in k)w!=="default"&&Object.prototype.hasOwnProperty.call(k,w)&&s(O,k,w);return c(O,k),O};Object.defineProperty(r,"__esModule",{value:!0}),r.getBoundsForBlocks=r.getBoundsForSeat=r.zoomTransformForArea=r.zoomTransformForBounds=void 0;let b=v(o(2697)),x=o(7939);r.zoomTransformForBounds=(k,O,w=[0,0],M)=>{let F=(k=[k[0]-w[0],k[1]-w[1],k[2]+2*w[0],k[3]+2*w[1]])[2]/k[3]<O[2]/O[3]?3:2,L=O[F]/k[F];return M&&(L=Math.min(L,M)),b.zoomIdentity.translate(O[0],O[1]).translate(O[2]/2,O[3]/2).scale(L).translate(-k[0],-k[1]).translate(-k[2]/2,-k[3]/2)},r.zoomTransformForArea=(k,O,w=[0,0])=>{let M=k.areas.find(F=>F.id===O);return(0,r.zoomTransformForBounds)(M.bounds,M.bounds,w)},r.getBoundsForSeat=(k,O)=>(0,x.boundsFromPoints)([[k.point[0]-O/2,k.point[1]-O/2],[k.point[0]+O/2,k.point[1]+O/2]]),r.getBoundsForBlocks=k=>(0,x.boundsFromPoints)(k.graphics.reduce((O,w)=>O.concat(w.points),[]))},7443:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.joinAvailabilityToSeatmap=void 0;let s=o(9861),c=o(8364);r.joinAvailabilityToSeatmap=(w,M,F)=>{var L,V;let B=Object.values(w.seatIdToSeat),q=Object.values(w.blockIdToBlock),W=Object.values(w.rowIdToRow),ie=Object.values(w.gaIdToGa);Object.values(w.seatIdToSeat).forEach(se=>se.available=0),Object.values(w.gaIdToGa).forEach(se=>{se.available=0,se.holds=[]}),(0,s.isAvailabilityDTO)(M)?(b(M.seats,w.seatIdToSeat),k(M.generalAdmissions,w.gaIdToGa)):(v(M.seats,w.seatIdToSeat),x(M.generalAdmissions,w.gaIdToGa)),(L=F?.seats)===null||L===void 0||L.map(se=>w.seatIdToSeat[se.id]).filter(se=>se).forEach(se=>se.available=1),(V=F?.gas)===null||V===void 0||V.filter(se=>w.gaIdToGa[se.id]).forEach(se=>{w.gaIdToGa[se.id].available=se.amount?Math.max(w.gaIdToGa[se.id].available,se.amount):w.gaIdToGa[se.id].available}),W.forEach(se=>se.seatGroups.forEach(we=>O(se,we.seats))),q.filter(s.blockHasSeats).forEach(se=>O(se,B.filter(we=>we.blockId===se.id))),q.filter(se=>(0,s.isLinkedBlock)(se)).forEach(se=>O(se,[...B,...ie].filter(we=>we.areaId===se.linkedAreaId)))};let v=(w,M)=>{w.map(F=>M[F]).filter(F=>F).forEach(F=>F.available=1)},b=(w,M)=>{let F=0;for(let L of w){F+=L[0];let V=M[F];V&&(V.available=L[1]===1?1:0)}},x=(w,M)=>{for(let F of w){let L=M[F.id];L&&(L.available=F.available,L.holds=F.holds?L.holds=F.holds.map(V=>({id:V.id,availableSeats:V.available,rank:V.rank})):[])}},k=(w,M)=>{let F=0;for(let L of w){F+=L[0];let V=M[F];V&&(V.available=L[1],V.holds=L[2]?V.holds=L[2].map(B=>({id:B[0],availableSeats:B[1],rank:B[2]})):[])}},O=(w,M)=>{let F={},L=0;for(let V of M)(0,c.isSelectableAvailable)(V)&&(L+=V.available,F[V.priceCategory.id]=(F[V.priceCategory.id]||0)+V.available);w.availabilityInfo={total:M.reduce((V,B)=>(0,s.isGeneralAdmission)(B)?V+(B.totalCapacity!==void 0?B.totalCapacity:B.available):V+1,0),available:L,priceCategories:Object.entries(F).map(([V,B])=>({priceCategory:Number(V),amount:B})).sort((V,B)=>B.amount-V.amount)}}},2256:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.joinMappingToSeatmap=void 0;let s=o(9861);r.joinMappingToSeatmap=(k,O,w)=>{var M,F;let L=O.priceCategories.reduce((V,B)=>(V[B.id]=at({},B),V),{});k.priceCategories=L,(0,s.isMappingDTO)(O)?(v(O.seats,L,k.seatIdToSeat),x(O.generalAdmissions,L,k.gaIdToGa)):(c(O.seats,L,k.seatIdToSeat),b(O.gas,L,k.gaIdToGa)),(M=w?.seats)===null||M===void 0||M.filter(V=>k.seatIdToSeat[V.id]).forEach(V=>{let B=k.seatIdToSeat[V.id];B.status=0,L[V.pc]&&(B.priceCategory=L[V.pc])}),(F=w?.gas)===null||F===void 0||F.filter(V=>k.gaIdToGa[V.id]).forEach(V=>{let B=k.gaIdToGa[V.id];B.status=0,L[V.pc]&&(B.priceCategory=L[V.pc])})};let c=(k,O,w)=>{for(let M of k){let F=w[M.id];F&&(F.status=M.status,F.priceCategory=O[M.pcId],F.holds=M.holdId?[{id:M.holdId,availableSeats:1,rank:0}]:[])}},v=(k,O,w)=>{let M=0,F=0;for(let L of k){M+=L[0];let V=w[M];F+=L[2],V&&(V.status=L[1],V.priceCategory=O[F],V.holds=L[3]&&L[3].length>0?[{id:L[3][0],availableSeats:1,rank:0}]:[])}},b=(k,O,w)=>{for(let M of k){let F=w[M.id];F&&(F.status=M.status,F.priceCategory=O[M.pcId])}},x=(k,O,w)=>{let M=0,F=0;for(let L of k){M+=L[0],F+=L[2];let V=w[M];V&&(V.status=L[1],V.priceCategory=O[F])}}},2475:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.toSeatmap=void 0;let s=o(9861),c=o(8607),v=o(1207);r.toSeatmap=(Ke,rt)=>{let Fe={type:Ke.type,availabilityKey:Ke.key,seatMapKey:Ke.seatmapKey,timestamp:Ke.timestamp,areas:Ke.areas.map($e=>b($e,rt))};return Fe.gaIdToBlock=we(Fe),Fe.gaIdToGa=Me(Fe),Fe.blockIdToBlock=_e(Fe),Fe.seatIdToSeat=ie(Fe),Fe.rowIdToRow=se(Fe),ke(Fe,Ke.rowRules),Ye(Fe,Ke),Fe};let b=(Ke,rt)=>({id:Ke.id,bounds:Ke.bounds,dimension:Ke.dimension,seatSize:Ke.seatSize,blocks:Ke.blocks.map(Fe=>x(Fe,Ke.id,Ke.seatSize,rt)),stage:Ke.stage}),x=(Ke,rt,Fe,$e)=>{let ot=O(rt,Ke);return Ke.linkedAreaId!==void 0&&Ke.linkedAreaId!==null?at(at({},ot),w(rt,Ke)):((0,s.blockHasSeats)(Ke)&&(ot=at(at({},ot),k(rt,Ke,Fe,$e))),(0,s.blockHasGeneralAdmissions)(Ke)&&(ot=at(at({},ot),M(rt,Ke))),ot)},k=(Ke,rt,Fe,$e)=>({rows:rt.rows.map(ot=>B(Ke,rt.id,ot,Fe,$e)),availabilityInfo:{total:0,available:0,priceCategories:[]}}),O=(Ke,rt)=>({id:rt.id,areaId:Ke,blockName:rt.name,blockDescription:rt.description,graphics:L(rt.graphics),text:V(rt.text)}),w=(Ke,rt)=>({linkedAreaId:rt.linkedAreaId,availabilityInfo:{total:0,available:0,priceCategories:[]}}),M=(Ke,rt)=>({generalAdmissions:F(Ke,rt)}),F=(Ke,rt)=>rt.generalAdmissions.map(Fe=>({id:Fe.id,blockId:rt.id,areaId:Ke,graphics:L(Fe.graphics),totalCapacity:Fe.totalCapacity})),L=Ke=>Ke.map(rt=>rt.type===s.GraphicType.ELLIPSE?{id:rt.id,type:rt.type,points:[[rt.points[0],rt.points[1]]],width:rt.points[2],height:rt.points[3],rotation:rt.points[4]}:{id:rt.id,type:rt.type,points:rt.points}),V=Ke=>{let rt=[];for(let Fe of Ke)for(let $e of Fe.text)rt.push({angle:Fe.angle,backgroundColor:Fe.backgroundColor,color:Fe.color,fontName:Fe.fontName,fontSize:Fe.fontSize,fontStyle:Fe.fontStyle,fontWeight:Fe.fontWeight,bounds:$e.bounds,text:$e.text});return rt},B=(Ke,rt,Fe,$e,ot)=>({id:Fe.id,areaId:Ke,blockId:rt,seatGroups:q(Ke,rt,Fe.id,Fe.seats,$e,ot),availabilityInfo:{total:0,available:0,priceCategories:[]}}),q=(Ke,rt,Fe,$e,ot,it)=>$e.map(mt=>{let ln={rowId:Fe,seats:W(Ke,rt,Fe,mt)};return ln.seatDistance=(0,v.calculateSeatGroupSeatDistance)(ln,ot,it),ln}),W=(Ke,rt,Fe,$e)=>{let ot=0,it=0,mt=0,ln=0;return $e.map(Ge=>(ot+=Ge[0],it+=Ge[1],mt+=Ge[2],ln+=Ge[3]?Ge[3]:0,{id:ot,areaId:Ke,blockId:rt,rowId:Fe,point:[it,mt],handicap:ln}))},ie=Ke=>(0,c.allSeatsFlat)(Ke).reduce((rt,Fe)=>(rt[Fe.id]=Fe,rt),{}),se=Ke=>(0,c.allRowsFlat)(Ke).reduce((rt,Fe)=>(rt[Fe.id]=Fe,rt),{}),we=Ke=>(0,c.allBlocksFlat)(Ke).filter(s.blockHasGeneralAdmissions).reduce((rt,Fe)=>(Fe.generalAdmissions.forEach($e=>rt[$e.id]=Fe),rt),{}),Me=Ke=>(0,c.allGasFlat)(Ke).reduce((rt,Fe)=>(rt[Fe.id]=Fe,rt),{}),_e=Ke=>(0,c.allBlocksFlat)(Ke).reduce((rt,Fe)=>(rt[Fe.id]=Fe,rt),{}),ke=(Ke,rt)=>{rt&&(be(Ke,s.PlaceAllocation.LEFT,rt.LEFT),be(Ke,s.PlaceAllocation.RIGHT,rt.RIGHT),be(Ke,s.PlaceAllocation.MIDDLE,rt.MIDDLE),Te(Ke,rt.GA))},be=(Ke,rt,Fe)=>{Fe?.forEach($e=>{Ke.seatIdToSeat[$e].rowRules=!0,Ke.seatIdToSeat[$e].placeAllocation=rt})},Te=(Ke,rt)=>{rt?.forEach(Fe=>{Ke.gaIdToGa[Fe].rowRules=!0})},Ye=(Ke,rt)=>{var Fe;let $e=[];(Fe=rt.labels)===null||Fe===void 0||Fe.forEach(ot=>{var it;let mt=(it=rt.fonts)===null||it===void 0?void 0:it.find(Ge=>Ge.id===ot.fontRef),ln={};switch(mt&&(ln={fontName:mt.fontName,fontSize:mt.fontSize,fontStyle:mt.fontStyle,fontWeight:mt.fontWeight,color:mt.color,backgroundColor:mt.backgroundColor,textAnchor:ot.textAnchor,textDecoration:mt.textDecoration}),ot.type){case"ROW":{let Ge=Ke.rowIdToRow[ot.id];if(Ge){let It=pt(ot.id,$e);$e.push(It);let Nt=$t(ot,It,ln);Ge.labels?Ge.labels.push(Nt):Ge.labels=[Nt]}break}default:{let Ge=Ke.seatIdToSeat[ot.id];if(Ge){let It=pt(ot.id,$e);$e.push(It),Ge.label=$t(ot,It,ln);break}}}})},pt=(Ke,rt)=>{let Fe=Ke;if(rt&&rt.includes(Fe)){for(let $e=0;;$e++)if(Fe+=$e,!rt.includes(Fe))return Fe}return Fe},$t=(Ke,rt,Fe)=>({refId:Ke.id,id:rt,text:Ke.text,point:Ke.point,angle:Ke.angle,type:Ke.type,styles:Fe})},1007:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(L,V,B,q){q===void 0&&(q=B);var W=Object.getOwnPropertyDescriptor(V,B);W&&!("get"in W?!V.__esModule:W.writable||W.configurable)||(W={enumerable:!0,get:function(){return V[B]}}),Object.defineProperty(L,q,W)}:function(L,V,B,q){q===void 0&&(q=B),L[q]=V[B]}),c=this&&this.__setModuleDefault||(Object.create?function(L,V){Object.defineProperty(L,"default",{enumerable:!0,value:V})}:function(L,V){L.default=V}),v=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var V={};if(L!=null)for(var B in L)B!=="default"&&Object.prototype.hasOwnProperty.call(L,B)&&s(V,L,B);return c(V,L),V};Object.defineProperty(r,"__esModule",{value:!0}),r.MarkerRenderer=void 0;let b=o(5320),x=o(9861),k=v(o(2697)),O=o(4141),w=o(2987),M=(L,V,B,q)=>({event:L,type:V,blockId:q,target:B});class F extends b.EventHandler{constructor(V,B,q,W,ie){super(),this.$seatmap=V,this.$internEventElement=B,this.renderer=q,this.markerModel=W,this.opts=ie,this.zoomLayer=q.svg.select(x.SEATMAP_ZOOM_LAYER),this.addInternEventListener(this.$internEventElement,"intern:seatmap-initialized",se=>this.seatmapReady(se.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:seatmap-rendered",()=>this.seatmapRendered()),this.addInternEventListener(this.$internEventElement,"intern:area-switched",se=>this.switchArea(se.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:zoomed",se=>{this.onZoomed(se.detail.seatLevel,se.detail.transform)}),this.addInternEventListener(this.$internEventElement,"intern:zooming",se=>{this.onZooming(se.detail.transform)}),this.addInternEventListener(this.$internEventElement,"intern:marker-changed",()=>this.renderMarkers()),this.addInternEventListener(this.$internEventElement,"intern:config-options-changed",se=>this.optionChanges(se.detail)),this.addInternEventListener(this.$internEventElement,"intern:raise-marker",se=>this.raiseMarker(se.detail.ids)),this.addInternEventListener(this.$internEventElement,"intern:resized",()=>this.renderMarkers())}optionChanges(V){this.opts=V,this.renderMarkers()}seatmapReady(V){this.areaId=V,this.transform=k.zoomTransform(this.zoomLayer.node())}seatmapRendered(){this.renderMarkers()}switchArea(V){this.areaId!=V&&(this.markerLayer.remove(),this.markerLayer=null),this.areaId=V,this.renderMarkers()}onZoomed(V,B){this.transform=B,this.seatLevel=V,this.renderMarkers()}onZooming(V){this.transform=V,this.renderMarkers()}renderMarkers(){this.markerLayer||(this.markerLayer=this.zoomLayer.insert("g").classed("marker-layer",!0));let V=this.markerModel.allMarkers.filter(B=>B.areaId===this.areaId);this.opts.render.markerOnSelectables&&this.seatLevel&&(V=V.filter(B=>B.renderOnAllZoomLevels)),this.markerLayer.selectAll("g").data(V).join("g").attr("id",B=>(0,w.toMarkerElementId)(B.id)).classed("marker",!0).attr("transform",B=>`translate(${this.getMarkerX(B)} ${this.getMarkerY(B)}) scale(${this.scaledMarkerScale})`).on("mouseover",(B,q)=>k.select(`#${(0,w.toMarkerElementId)(q.id)}`).raise()).on("click",(B,q)=>{B.preventDefault(),B.stopPropagation(),this.$internEventElement.dispatchEvent((0,O.internMarkerClickedEvent)({event:B,marker:q}))}).on("pointerdown",(B,q)=>{B.pointerType==="mouse"&&this.$internEventElement.dispatchEvent((0,O.internSeatmapMousedownEvent)(M(B,x.Type.MARKER,q))),B.pointerType==="touch"&&this.$internEventElement.dispatchEvent((0,O.internSeatmapTouchstartEvent)(M(B,x.Type.MARKER,q)))}).on("pointerup",(B,q)=>{B.pointerType==="mouse"&&this.$internEventElement.dispatchEvent((0,O.internSeatmapMouseupEvent)(M(B,x.Type.MARKER,q))),B.pointerType==="touch"&&this.$internEventElement.dispatchEvent((0,O.internSeatmapTouchendEvent)(M(B,x.Type.MARKER,q)))}).selectAll("svg").data(B=>[B]).join("svg").attr("version","1.1").attr("width",this.markerSize).attr("height",this.markerSize).attr("viewBox","0 0 24 24").selectAll("path").data(B=>[B]).join("path").attr("class",B=>this.markerClasses(B)).attr("d","M12 11.5A2.5 2.5 0 0 1 9.5 9A2.5 2.5 0 0 1 12 6.5A2.5 2.5 0 0 1 14.5 9a2.5 2.5 0 0 1-2.5 2.5M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Z").attr("fill","#139df4").attr("stroke","#e7e7e7").attr("stroke-width",1).style("filter","drop-shadow(2px 3px 1px rgb(0 0 0 / 0.4))")}markerClasses(V){var B,q;let W="";if(V.cssClass&&(W+=` ${V.cssClass.trim()}`),(q=(B=this.opts.render)===null||B===void 0?void 0:B.cssClassCallbacks)===null||q===void 0?void 0:q.markerClasses){let ie=this.opts.render.cssClassCallbacks.markerClasses(V);ie&&ie.length&&(W+=` ${ie.join(" ")}`)}return W}raiseMarker(V){this.markerModel.allMarkers.filter(B=>V.find(q=>q===B.id)).forEach(B=>k.select(`#${(0,w.toMarkerElementId)(B.id)}`).raise())}get scaledMarkerScale(){return Math.ceil(1/this.transform.k*1e3)/1e3}get markerSize(){let V=this.renderer.svg.node(),B=V.viewBox;if(B.baseVal==null)return 0;let q;return q=B.baseVal.height>B.baseVal.width?B.baseVal.height/V.clientHeight:B.baseVal.width/V.clientWidth,Math.ceil(48*q*1e3)/1e3}getMarkerX(V){return V.point[0]-this.markerSize/2*this.scaledMarkerScale}getMarkerY(V){return V.point[1]-this.markerSize*this.scaledMarkerScale}}r.MarkerRenderer=F},2812:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MinimapRenderer=void 0;let s=o(5320),c=o(3638);class v extends s.EventHandler{constructor(x,k,O,w,M){super(),this.$seatmap=x,this.$internEventElement=k,this.selectionModel=O,this.highlightedModel=w,this.miniMapOpts=M,this.addInternEventListener(k,"intern:zoomed",F=>{this.currentZoom=F.detail.transform.k,this.minimapRenderThreshold=F.detail.min+.01*F.detail.max,this.updateMinimap()}),this.addInternEventListener(k,"intern:switch-area",()=>this.updateMinimap()),this.createMinimap(),this.updateMinimap()}toggle(){this.$seatmap.querySelector(".seatmap-minimap")?(this.removeMinimap(),this.minimapAttached=!1):(this.attachMinimap(),this.minimapAttached=!0),this.updateToggleButton()}updateMinimap(){this.miniMapOpts.render.minimapThreshold&&(!this.currentZoom||this.currentZoom<this.minimapRenderThreshold)?(this.removeMinimap(),this.removeToggleButton()):((this.minimapAttached||this.minimapAttached===void 0)&&this.attachMinimap(),this.createToggleButton())}removeMinimap(){let x=this.$seatmap.querySelector(".seatmap-minimap");x&&this.$seatmap.removeChild(x)}attachMinimap(){this.$seatmap.querySelector(".seatmap-minimap")||this.$seatmap.appendChild(this.$minimap)}createMinimap(){this.$minimap=document.createElement("div"),this.$minimap.classList.add("seatmap-minimap"),this.seatmapRenderer=new c.SeatmapRenderer(this.$minimap,this.$internEventElement,this.selectionModel,this.highlightedModel,this.miniMapOpts,!0)}createToggleButton(){if(this.$seatmap.querySelector(".minimap-toggle"))return;let x=document.createElement("button");x.classList.add("minimap-toggle"),x.type="button",x.ariaLabel="toggle minimap",x.addEventListener("click",()=>this.toggle()),this.minimapAttached||this.minimapAttached===void 0?x.classList.add("icon-arrow-right"):this.$minimap&&x.classList.add("icon-arrow-left"),this.$seatmap.appendChild(x)}updateToggleButton(){let x=this.$seatmap.querySelector(".minimap-toggle");x&&(this.minimapAttached?(x.classList.add("icon-arrow-right"),x.classList.remove("icon-arrow-left")):(x.classList.add("icon-arrow-left"),x.classList.remove("icon-arrow-right")))}removeToggleButton(){let x=this.$seatmap.querySelector(".minimap-toggle");x&&this.$seatmap.removeChild(x)}get svg(){return this.seatmapRenderer.svg}get minimap(){return this.$minimap}}r.MinimapRenderer=v},1315:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(O,w,M,F){F===void 0&&(F=M);var L=Object.getOwnPropertyDescriptor(w,M);L&&!("get"in L?!w.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return w[M]}}),Object.defineProperty(O,F,L)}:function(O,w,M,F){F===void 0&&(F=M),O[F]=w[M]}),c=this&&this.__setModuleDefault||(Object.create?function(O,w){Object.defineProperty(O,"default",{enumerable:!0,value:w})}:function(O,w){O.default=w}),v=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var w={};if(O!=null)for(var M in O)M!=="default"&&Object.prototype.hasOwnProperty.call(O,M)&&s(w,O,M);return c(w,O),w};Object.defineProperty(r,"__esModule",{value:!0}),r.MinimapSvgDomEventManager=void 0;let b=v(o(2697)),x=o(9861),k=o(4141);r.MinimapSvgDomEventManager=class{constructor(O,w){this.svg=O,this.$internEventElement=w,this.svg.on("click",M=>{M.stopPropagation(),M.preventDefault();let F=b.select(M.target).data();F&&F.length===1&&((0,x.isLinkedBlock)(F[0])?this.$internEventElement.dispatchEvent((0,k.internLinkedBlockClicked)({event:M,linkedBlock:F[0]})):((0,x.isGeneralAdmission)(F[0])||(0,x.isBlock)(F[0]))&&this.$internEventElement.dispatchEvent((0,k.internGraphicClickedEvent)({event:M,graphic:F[0].graphic})))})}}},4459:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.HighlightModel=void 0;let s=o(2543);r.HighlightModel=class{constructor(){this._rectangleHighlighted=[],this._customHighlighted=[]}get allHighlighted(){return(0,s.union)(this._customHighlighted,this._rectangleHighlighted)}get customHighlighted(){return(0,s.union)(this._customHighlighted)}setRectangleHighlighted(c){return Array.isArray(c)||(c=[c]),!(0,s.isEqual)(this._rectangleHighlighted,c)&&(this._rectangleHighlighted=c,!0)}addCustomHighlighted(c){let v=[];return Array.isArray(c)||(c=[c]),c.forEach(b=>{this._customHighlighted.includes(b)||(this._customHighlighted.push(b),v.push(b))}),v}removeCustomHighlighted(c){let v=[];return Array.isArray(c)||(c=[c]),c.forEach(b=>{let x=this._customHighlighted.indexOf(b,0);x>-1&&(this._customHighlighted.splice(x,1),v.push(b))}),v}isHighlighted(c){return this._rectangleHighlighted.includes(c)||this._customHighlighted.includes(c)}}},9833:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.MarkerModel=void 0,r.MarkerModel=class{constructor(){this._marker=[],this._customMarker=[]}addMarker(o){this._marker.push(...o)}addCustomMarker(o){this._customMarker.push(...o)}get allMarkers(){return[...this._marker,...this._customMarker]}get customMarkers(){return this._customMarker}removeMarker(){this._marker=[]}removeCustomMarker(o){let s=this._customMarker.filter(c=>o.indexOf(c.id)!==-1);return this._customMarker=this._customMarker.filter(c=>s.indexOf(c)===-1),s}}},9101:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SelectionModel=void 0;let s=o(9861);r.SelectionModel=class{constructor(){this._invalid=[],this._added=[],this._removed=[],this._selected=[],this._pendingChanges={added:[],removed:[]}}get invalid(){return[...this._invalid]}get added(){return[...this._added]}get removed(){return[...this._removed]}get selected(){return[...this._selected]}get pendingChanges(){return{added:[...this._pendingChanges.added],removed:[...this._pendingChanges.removed]}}get hasPendingChanges(){return this._pendingChanges.added.length>0||this._pendingChanges.removed.length>0}pendAddingChanges(c){this._pendingChanges.added.push(...c)}pendRemovingChanges(c){this._pendingChanges.removed.push(...c)}commit(){this.addAndRemove(this._pendingChanges.added,this._pendingChanges.removed),this.removePending()}abortPending(){this.removePending()}removePending(){this._pendingChanges={added:[],removed:[]}}get changed(){return this._removed.length>0||this._added.length>0}reset(c,v=1){let b=Array.isArray(c)?c:[c];this._removed=this._selected.filter(x=>b.find(k=>k.id===x.selectable.id)===void 0).map(x=>(v=v??x.amount,x.amount-=v,{selectable:x.selectable,amount:v})),this._added=b.filter(x=>{let k=this.selected.find(O=>O.selectable.id===x.id);return!k||v!==k.amount}).map(x=>({selectable:x,amount:v})),this._selected=b.map(x=>({selectable:x,amount:v})),this._invalid=[]}setSelectState(c){this._removed=[],this._added=[],this._invalid=[],this._selected=c}addAndRemove(c,v){this._added=this.getAdded(c),this._removed=this.getRemoved(v),this._invalid=[]}add(c){Array.isArray(c)||(c=[c]),this._added=this.getAdded(c),this._removed=[],this._invalid=[]}addInvalid(c){Array.isArray(c)||(c=[c]),this._invalid=c}remove(c){Array.isArray(c)||(c=[c]),this._added=[],this._removed=this.getRemoved(c),this._invalid=[]}getRemoved(c){let v=c.filter(b=>this.selected.find(x=>x.selectable.id===b.selectable.id)!==void 0).map(b=>{let x=this.selected.find(k=>k.selectable.id===b.selectable.id);return b.amount=b.amount<=x.amount?b.amount:x.amount,x.amount-=b.amount,b});return this._selected=this.selected.filter(b=>b.amount>0).map(b=>Mn(at({},b),{amount:b.amount})),v}getAdded(c){return c.map(v=>{let b=this.selected.find(x=>x.selectable.id===v.selectable.id);return[v,b]}).filter(([v,b])=>!b||b.amount+v.amount<=b.selectable.available).map(([v,b])=>(b?b.amount+=v.amount:this._selected.push(v),v))}removeAll(){this._added=[],this._removed=this._selected.map(c=>(c.amount=0,c)),this._selected=[],this._invalid=[]}isSelectableSelected(c){let v=(0,s.isSeat)(c)?s.isSeat:s.isGeneralAdmission;return this._selected.find(b=>v(b.selectable)&&b.selectable.id===c.id)!==void 0}}},423:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(q,W,ie,se){se===void 0&&(se=ie);var we=Object.getOwnPropertyDescriptor(W,ie);we&&!("get"in we?!W.__esModule:we.writable||we.configurable)||(we={enumerable:!0,get:function(){return W[ie]}}),Object.defineProperty(q,se,we)}:function(q,W,ie,se){se===void 0&&(se=ie),q[se]=W[ie]}),c=this&&this.__setModuleDefault||(Object.create?function(q,W){Object.defineProperty(q,"default",{enumerable:!0,value:W})}:function(q,W){q.default=W}),v=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var W={};if(q!=null)for(var ie in q)ie!=="default"&&Object.prototype.hasOwnProperty.call(q,ie)&&s(W,q,ie);return c(W,q),W};Object.defineProperty(r,"__esModule",{value:!0}),r.RectangleSelection=void 0;let b=v(o(2697)),x=o(9861),k=o(5320),O=o(4141),w=o(3221),M=o(7939),F=o(2987),L=o(1207),V=(q,W,ie,se)=>`M${[q,W]} l${[ie,0]} l${[0,se]} l${[-ie,0]}z`;class B extends k.EventHandler{constructor(W,ie,se,we){super(),this.svg=W,this.$internEventElement=ie,this.$seatmap=se,this.zoomLayer=we,this.highlightedElementIds=new Set,this.selecting=!1,this.addInternEventListener(ie,"intern:seatmap-initialized",Me=>{this.seatmapInitialized(Me.detail.seatmap),this.seatSize=this.seatmap.areas.find(_e=>_e.id===Me.detail.areaId).seatSize}),this.addInternEventListener(this.$internEventElement,"intern:switch-area",Me=>{this.seatSize=this.seatmap.areas.find(_e=>_e.id===Me.detail.areaId).seatSize}),this.addInternEventListener(ie,"intern:seatmap-leave",()=>{this.selecting&&(this.selecting=!1,this.endSelection(null),this.svg.on("mousemove.selection",null).on("mouseup.selection",null))}),W.on("mousedown.selection",Me=>{if(Me.shiftKey){Me.preventDefault(),Me.stopImmediatePropagation();let _e=this.recalibrate(b.pointer(Me,this.zoomLayer)),ke=b.pointer(Me);this.svg.on("mousemove.selection",be=>{let Te=this.recalibrate(b.pointer(be,this.zoomLayer)),Ye=b.pointer(be);(this.selecting===!0||(0,L.pointDistance)(_e,Te)>this.seatSize/2)&&(this.selecting==0&&(this.selection=this.svg.append("path").attr("class","selection").attr("visibility","hidden"),this.calculationRectangle=this.zoomLayer.append("path").attr("visibility","hidden").attr("class","selection").attr("pointer-events","none"),this.selecting=!0,this.startSelection(ke)),this.moveSelection(_e,Te,ke,Ye))}).on("mouseup.selection",be=>{this.selecting&&(be.preventDefault(),be.stopImmediatePropagation(),this.endSelection(be)),this.svg.on("mousemove.selection",null).on("mouseup.selection",null)})}}).on("click.selection",Me=>{this.selecting&&(Me.preventDefault(),Me.stopImmediatePropagation(),this.selecting=!1)})}recalibrate(W){var ie,se;let we=this.svg.node().getBoundingClientRect(),Me=[...W];return Me[0]-=we.x+((ie=window.scrollX)!==null&&ie!==void 0?ie:window.pageXOffset),Me[1]-=we.y+((se=window.scrollY)!==null&&se!==void 0?se:window.pageYOffset),Me}seatmapInitialized(W){this.seatmap=W}startSelection(W){this.selection.attr("d",V(W[0],W[1],0,0)).attr("visibility","visible").attr("pointer-events","none"),this.calculationRectangle.attr("d",V(0,0,0,0)),this.highlightedElementIds=new Set}moveSelection(W,ie,se,we){this.selection.attr("d",V(se[0],se[1],we[0]-se[0],we[1]-se[1])),this.calculationRectangle.attr("d",V(W[0],W[1],ie[0]-W[0],ie[1]-W[1]));let Me=this.calculationRectangle.node().getBBox(),_e=this.svg.node().getIntersectionList(Me,this.svg.node().querySelector(".seatmap-area-layer")),ke=Array.from(_e).reduce((be,Te)=>{let Ye=Te.parentElement;return(0,F.isSeatElementId)(Te.id)?be.add(Te.id):(0,F.isGAElementId)(Ye.id)&&(this.currentlyIntersected(Ye.id,W[0],W[1],ie[0],ie[1])||this.isInEnclosure(Ye.id))?be.add(Ye.id):Te.classList.contains("r")&&Te.classList.contains("outline")&&this.intersectRectangle(Te.getAttribute("data-seatGroupOutlineId"),W,ie)?be.add(Te.getAttribute("data-seatGroupOutlineId")):Te.classList.contains("bo")&&!Te.classList.contains("invisible-block-outline")&&be.add(Ye.id),be},new Set);this.highlightedElementIds.size!==ke.size&&(this.highlightedElementIds=ke,setTimeout(()=>this.$internEventElement.dispatchEvent((0,O.rectangleEnclosureEvent)({ids:[...ke]})),0))}endSelection(W){var ie,se;(ie=this.selection)===null||ie===void 0||ie.remove(),(se=this.calculationRectangle)===null||se===void 0||se.remove();let{highlightedElementIds:we}=this;if(W!==null){let Me=[];we.forEach(_e=>{((0,F.isSeatElementId)(_e)||(0,F.isGAElementId)(_e))&&Me.push({elementId:_e,amount:1})}),setTimeout(()=>{(W.ctrlKey||W.metaKey)&&W.shiftKey?this.$internEventElement.dispatchEvent((0,O.internDeselectEvent)({selections:Me,dispatchSelectionBefore:!0})):W.shiftKey&&this.$internEventElement.dispatchEvent((0,O.internSelectEvent)({selections:Me,dispatchSelectionBefore:!0,event:W})),this.$internEventElement.dispatchEvent((0,O.rectangleEnclosureEndEvent)({ids:[...we]}))},0)}else setTimeout(()=>{this.$internEventElement.dispatchEvent((0,O.rectangleEnclosureEndEvent)({ids:[...we]}))},0);this.selecting=!1,this.highlightedElementIds=new Set}currentlyIntersected(W,ie,se,we,Me){let _e=this.seatmap.gaIdToGa[(0,F.idFromElementId)(W)];if(_e){let ke=this.$seatmap.querySelector(x.SEATMAP_ZOOM_LAYER).getCTM().inverse(),be=_e.graphics[0].points;for(let Te=0;Te<=be.length-2;Te++)if((0,w.doLineSegmentsIntersect)(be[Te],be[Te+1],(0,M.transformPoint)([ie,se],ke),(0,M.transformPoint)([we,se],ke))||(0,w.doLineSegmentsIntersect)(be[Te],be[Te+1],(0,M.transformPoint)([we,se],ke),(0,M.transformPoint)([we,Me],ke))||(0,w.doLineSegmentsIntersect)(be[Te],be[Te+1],(0,M.transformPoint)([we,Me],ke),(0,M.transformPoint)([ie,Me],ke))||(0,w.doLineSegmentsIntersect)(be[Te],be[Te+1],(0,M.transformPoint)([ie,Me],ke),(0,M.transformPoint)([ie,se],ke)))return!0}return!1}isInEnclosure(W){let ie=this.calculationRectangle.node().getBBox();return Array.from(this.svg.node().getEnclosureList(ie,this.svg.node().querySelector(".seatmap-area-layer"))).find(se=>{let we=se.parentElement;if((0,F.isGAElementId)(we.id))return we.id===W})}intersectRectangle(W,ie,se){let we=this.$seatmap.querySelector(x.SEATMAP_ZOOM_LAYER).getCTM().inverse(),Me=(0,M.transformPoint)([ie[0]<se[0]?ie[0]:se[0],ie[1]<se[1]?ie[1]:se[1]],we),_e=(0,M.transformPoint)([ie[0]>se[0]?ie[0]:se[0],ie[1]>se[1]?ie[1]:se[1]],we),ke=_e[0]-Me[0],be=_e[1]-Me[1],Te=this.seatSize/2;return this.getSelectablesForSeatgroupOutline(W).map(Ye=>Ye.point).find(Ye=>Me[0]<=Ye[0]+Te&&Ye[0]<=Me[0]+ke-Te&&Me[1]<=Ye[1]+Te&&Ye[1]<=Me[1]+be-Te)!=null}getSelectablesForSeatgroupOutline(W){let ie=W.match(F.SEATGROUP_OUTLINE_REGEX);return ie!=null&&ie?.length>1?this.seatmap.rowIdToRow[ie[1]].seatGroups.flatMap(se=>se.outlines).filter(se=>se.id===W).flatMap(se=>se.seats):[]}}r.RectangleSelection=B},873:function(n,r,o){"use strict";var s=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(r,"__esModule",{value:!0}),r.api=r.ApiError=void 0;let c=s(o(4945));class v extends Error{constructor(x,k){super(x),this.response=k,this.name="ApiError",Object.setPrototypeOf(this,new.target.prototype)}}r.ApiError=v,r.api=b=>{let x=b.baseUrl||"";x.indexOf("/seatmap/api/public")===-1&&x!=""&&(x+="/seatmap/api/public");let k=(F,L)=>{if(b.params){let V=typeof b.params=="function"?b.params():b.params;typeof V=="object"&&Object.entries(V).forEach(([B,q])=>L.set(B,String(q)))}return L.toString().length>0?`${F}?${L}`:F},O=(F,L,V)=>Vg(this,null,function*(){let B=yield w(F,V);if(B.ok)return L?yield B.json():yield B.text();if(B.status===304)return null;throw new v(`Request failed for ${F}`,yield L?B.json():B.text())}),w=(F,L)=>b.timeout?Promise.race([(0,c.default)(F,L),new Promise((V,B)=>setTimeout(()=>B(new v(`Request timeout after ${b.timeout}ms`)),b.timeout))]):(0,c.default)(F,L),M=(F="application/json")=>{let L;if(b.headers){let V=typeof b.headers=="function"?b.headers():b.headers;typeof V=="object"&&(L=Object.keys(V).reduce((B,q)=>(B[`X-SMS-${q}`]=V[q],B),{}))}return Mn(at({Accept:F},L),{"X-Version":"6.4.2"})};return{seatmap:()=>{let F=M(),L=new URLSearchParams({generateTiles:"false"}),V=k(`${x}/seatmap/${b.id}`,L);return O(V,!0,{headers:F,method:"GET"})},mapping:F=>{let L=M(),V=new URLSearchParams;F&&V.set("key",F);let B=k(`${x}/mapping/${b.id}`,V);return O(B,!0,{headers:L,method:"GET"})},availability:(F,L)=>{let V=M(),B=new URLSearchParams;F&&B.set("key",F),L&&B.set("availabilityTimestamp",String(L));let q=k(`${x}/availability/${b.id}`,B);return O(q,!0,{headers:V,method:"GET"})},blockInfo:(F,L)=>{let V=M(),B=new URLSearchParams;L&&B.set("key",L);let q=k(`${x}/seatmap/${b.id}/block/${F}`,B);return O(q,!0,{headers:V,method:"GET"}).then(W=>{if(!W.viewInfos)return W;let ie=Mn(at({},W.viewInfos),{views:W.viewInfos.views.map(se=>{let we,Me=se.url;if(function(_e){try{return!!new URL(_e)}catch{return!1}}(Me)||(Me=`${b.baseUrl}${Me}`),se.type===1){let _e=Me.lastIndexOf("o.");_e>-1&&(we=`${Me.substring(0,_e)}p${Me.substring(_e+1)}`)}return Mn(at({},se),{url:Me,previewUrl:we})})});return Mn(at({},W),{viewInfos:ie})})},overview:(F,L=0)=>{let V=M("image/svg+xml"),B=new URLSearchParams;F&&B.set("key",F),B.set("seats","false"),B.set("blockTexts","false"),B.set("rowLabels","false"),B.set("hulls","false"),B.set("images","true");let q=k(`${x}/seatmap/${b.id}/${L}`,B);return O(q,!1,{headers:V,method:"GET"})}}}},9534:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapClient=void 0,o(4057);let s=o(873),c=o(3638),v=o(2475),b=o(3454),x=o(9861),k=o(2228),O=o(8608),w=o(3053),M=o(6095),F=o(6573),L=o(4949),V=o(2269),B=o(1207),q=o(4141),W=o(9101),ie=o(4459),se=o(7705),we=o(6423),Me=o(8364),_e=o(8607),ke=o(9317),be=o(9833),Te=o(2961),Ye=o(7939),pt=o(8831),$t=o(734),Ke=o(6483),rt=o(8787),Fe=o(717),$e=o(1007),ot=o(4447),it=o(2987),mt=o(6837),ln=o(2812);r.SeatmapClient=class{constructor(Ge){this.selectorOrElement=Ge,this.currentContentRect=null,this.destroyed=!1,this.initialized=!1,this.eventHandlers=[],this.blockInfoPromises={},this.blockInfos={}}initResizeObserver(Ge){window.ResizeObserver!==void 0&&(this.resizeObserver=new ResizeObserver(It=>{this.isReady()&&It.forEach(Nt=>{if(this.currentContentRect==null)return void(this.currentContentRect=Nt.contentRect);let Hn=this.currentContentRect.width-Nt.contentRect.width,Lr=this.currentContentRect.height-Nt.contentRect.height;(Math.abs(Hn)>=2||Math.abs(Lr)>=2)&&(this.currentContentRect=Nt.contentRect,this.$internEventElement.dispatchEvent((0,q.resizedEvent)({deltaWidth:Hn,deltaHeight:Lr})))})}),this.resizeObserver.observe(Ge))}init(Ge){var It;if(this.destroyed)throw new Error("Seatmap Client already destroyed. You cannot init a destroyed client.");if(this.initialized)throw new Error("Seatmap Client already initialized. You cannot init an already initialized client.");if(this.initialized=!0,this.opts=Mn(at(at({},pt.DEFAULT_OPTIONS),Ge),{apiOptions:at(at({},pt.DEFAULT_OPTIONS.apiOptions),Ge.apiOptions),render:at(at({},pt.DEFAULT_OPTIONS.render),Ge.render)}),typeof this.selectorOrElement=="string"?this.$seatmap=document.querySelector(this.selectorOrElement):this.$seatmap=this.selectorOrElement,!this.$seatmap)throw new Error(`Element '${this.selectorOrElement}' not found`);this.size={width:this.$seatmap.clientWidth,height:this.$seatmap.clientHeight},this.$seatmap.classList.add("seatmap-container"),this.$seatmap.innerHTML="",this.$seatmap.appendChild(document.createComment("Seatmap Client Version: 6.4.2")),this.opts.render.fpsMeter&&(this.fpsMeter=new $t.FpsMeter(this.$seatmap),this.fpsMeter.start()),this.initResizeObserver(this.$seatmap),this.opts.render.loadingSpinner&&this.createLoader(),this.$internEventElement=document.createElement("div"),this.$internEventElement.classList.add("intern-event-element"),this.$seatmap.appendChild(this.$internEventElement),this.selectionModel=new W.SelectionModel,this.highlightedModel=new ie.HighlightModel,this.markerModel=new be.MarkerModel,new se.InternExternEventMapper(this.$seatmap,this.$internEventElement,this.opts.render.seatmapOnly);let Nt=(0,w.validateOptions)(this.opts);if(Nt?.length)return this.$internEventElement.dispatchEvent((0,q.internErrorEvent)({error:Nt})),void this.hideLoader();!((It=this.opts.render)===null||It===void 0)&&It.seatLabels&&(this.opts.apiOptions.params=Mn(at({},this.opts.apiOptions.params),{a_seatLabels:!0})),this.seatmapAPI=(0,s.api)(this.opts.apiOptions),this.seatmapRenderer=new c.SeatmapRenderer(this.$seatmap,this.$internEventElement,this.selectionModel,this.highlightedModel,this.opts,!1),this.markerManager=new Te.SeatmapMarkerEventHandler(this.markerModel,this.$internEventElement,this.$seatmap,this.opts),this.initEventHandler(this.opts),this.opts.render.minimap&&this.createMinimap(),this.seatmapAPI.seatmap().then(Hn=>{this.destroyed||(this.seatmap=(0,v.toSeatmap)(Hn,this.opts.seatGrouping.maxSeatDistance),(0,B.calculateSeatGroupOutlines)(this.seatmap,this.opts,this.selectionModel),(0,mt.recalculateRenderingThresholds)(this.seatmap,this.opts.render,this.size),this.$internEventElement.dispatchEvent((0,q.seatmapInitializedEvent)({seatmap:this.seatmap,areaId:0})),this.opts.render.zoomControls&&(0,O.zoomButtons)(this.$seatmap,this.$internEventElement),this.hideLoader())},Hn=>{this.destroyed||(this.hideLoader(),(0,L.handleApiError)(this.$internEventElement,Hn))})}destroy(){if(this.destroyed)console.warn("Seatmap client already destroyed");else{for(this.destroyed=!0,this.eventHandlers.forEach(Ge=>Ge.removeAllListeners()),this.$seatmap.classList.remove("seatmap-container");this.$seatmap.firstChild;)this.$seatmap.removeChild(this.$seatmap.lastChild);this.$internEventElement=null,this.$seatmap=null,this.seatmapAPI=null,this.seatmap=null,this.opts=null,this.seatmapRenderer=null,this.minimapRenderer=null,this.markerModel=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.fpsMeter&&(this.fpsMeter.stop(),this.fpsMeter=null)}}loadBlockInfo(Ge){if(this.destroyed)return Promise.reject("Seatmap client already destroyed.");if(!this.initialized)return Promise.reject("Seatmap client not initialized.");if(!(0,it.isBlockElementId)(Ge)&&!(0,it.isGAElementId)(Ge))return Promise.reject(`Given ID ${Ge} does not contain a valid Block prefix: ${it.BLOCK_ID_PREFIX}, ${it.BLOCK_OUTLINE_ID_PREFIX} or ${it.LINKED_BLOCK_ID_PREFIX}`);let It=(0,it.idFromElementId)(Ge);return this.blockInfos[It]?Promise.resolve(this.blockInfos[It]):(this.blockInfoPromises[It]||(this.blockInfoPromises[It]=this.seatmapAPI.blockInfo(It,this.seatmap.availabilityKey).then(Nt=>(this.blockInfos[It]=Nt,delete this.blockInfoPromises[It],Nt),Nt=>(delete this.blockInfoPromises[It],Promise.reject(Nt)))),this.blockInfoPromises[It])}getCurrentSelection(){if(!this.selectionModel)throw new Error("Selection Model not (yet) initialized");return this.selectionModel.selected}getPriceCategories(){return Object.values(this.seatmap.priceCategories)}getPriceCategoryById(Ge){if((0,it.isPriceCategoryElementId)(Ge))return this.seatmap.priceCategories[(0,it.idFromElementId)(Ge)]}getBlockById(Ge){if((0,it.isAnyBlockElementId)(Ge))return this.seatmap.blockIdToBlock[(0,it.idFromElementId)(Ge)]}getLinkedBlocks(){return Object.values(this.seatmap.blockIdToBlock).filter(Ge=>(0,x.isLinkedBlock)(Ge))}showArea(Ge){this.seatmap.areas.find(It=>It.id===Ge)&&this.$internEventElement.dispatchEvent((0,q.internSwitchAreaEvent)({areaId:Ge,seatmap:this.seatmap}))}getArea(Ge){return this.seatmap.areas.find(It=>It.id===(Ge||this.seatmapRenderer.currentRenderedAreaId))}toggleMinimap(){this.opts.render.minimap&&this.minimapRenderer.toggle()}isSelected(Ge){if((0,it.isAnySelectableElementId)(Ge)){let It=this.getSelectableById(Ge);return this.selectionModel.isSelectableSelected(It)}return!1}addHighlighted(Ge){let It=[];Ge&&(Array.isArray(Ge)?Array.isArray(Ge)&&Ge.forEach(Hn=>{this.addElementToHighlighted(Hn,It)}):this.addElementToHighlighted(Ge,It));let Nt=this.highlightedModel.addCustomHighlighted(It);return this.refreshView(),Nt}removeHighlighted(Ge){let It=[];Ge&&(Array.isArray(Ge)?Ge.forEach(Hn=>{this.addElementToHighlighted(Hn,It)}):this.addElementToHighlighted(Ge,It));let Nt=this.highlightedModel.removeCustomHighlighted(It);return this.refreshView(),Nt}addElementToHighlighted(Ge,It){if((0,it.isAnySelectableElementId)(Ge)){let Nt=this.getSelectableById(Ge);Nt&&It.push(Nt)}else{if(!(0,it.isAnyBlockElementId)(Ge))throw Error(`Given ID ${Ge} does not contain a valid Selectable or Block prefix: ${it.SEAT_ID_PREFIX}, ${it.GA_ID_PREFIX}, ${it.BLOCK_ID_PREFIX}, ${it.BLOCK_OUTLINE_ID_PREFIX}, ${it.LINKED_BLOCK_ID_PREFIX}`);{let Nt=this.getBlockById(Ge);Nt&&It.push(Nt)}}}isHighlighted(Ge){return(0,it.isAnySelectableElementId)(Ge)?this.highlightedModel.isHighlighted(this.getSelectableById(Ge)):!!(0,it.isAnyBlockElementId)(Ge)&&this.highlightedModel.isHighlighted(this.getBlockById(Ge))}getHighlighted(){return this.highlightedModel.allHighlighted}isBookable(Ge){var It;if((0,it.isPriceCategoryElementId)(Ge)){let Nt=(0,it.idFromElementId)(Ge);if(this.seatmap.priceCategories&&this.seatmap.priceCategories[Nt])return!this.opts.filtered||((It=this.opts.filtered.priceCategories)===null||It===void 0?void 0:It.find(Hn=>Hn===Nt))!==void 0}if((0,it.isAnySelectableElementId)(Ge)){let Nt=this.getSelectableById(Ge);if(Nt)return(0,Me.isBookable)(this.seatmap,Nt)}return!1}isClickable(Ge){return!!(0,it.isAnySelectableElementId)(Ge)&&this.isBookable(Ge)&&this.hasPriceCategoryAssigned(Ge)}getCenter(Ge){if((0,it.isAnySelectableElementId)(Ge)||(0,it.isAnyBlockElementId)(Ge)){let It=(0,it.idFromElementId)(Ge);if((0,it.isSeatElementId)(Ge)&&this.seatmap.seatIdToSeat[It])return this.seatmap.seatIdToSeat[It].point;let Nt;if((0,it.isGAElementId)(Ge)&&this.seatmap.gaIdToGa[It])Nt=this.seatmap.gaIdToGa[It].graphics;else if((0,it.isAnyBlockElementId)(Ge)&&this.getBlockById(Ge))Nt=this.getBlockById(Ge).graphics;else{let Hn=Object.values(this.seatmap.gaIdToGa).flatMap(Lr=>Lr.graphics).find(Lr=>Lr.id===It);Hn&&(Nt=[Hn])}if(Nt)return(0,_e.calculateCenterPoint)(Nt)}}isVisible(Ge){if((0,it.isAnySelectableElementId)(Ge)||(0,it.isAnyBlockElementId)(Ge)){let It=(0,Ye.visibleBoundsInZoomLayer)(this.$seatmap);return(0,Ye.isInViewport)(It,this.getCenter(Ge))}return!1}getVisibleElements(){return(0,_e.getVisibleElements)(this.seatmap,this.$seatmap,this.seatmapRenderer.currentRenderedAreaId)}isReady(){return this.destroyed?(console.warn("Seatmap client already destroyed"),!1):!(!this.initialized||!this.$internEventElement)||(console.warn("Seatmap client is not ready"),!1)}recalculateView(){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internRecalculateViewEvent)())}refreshView(){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internRefreshViewEvent)())}filter(Ge){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internFilterEvent)({filter:Ge}))}setSelectState(Ge){let It=Ge.map(Nt=>{var Hn;return Nt.elementId?{selectable:this.getSelectableById(Nt.elementId),amount:(Hn=Nt.amount)!==null&&Hn!==void 0?Hn:1}:Nt});this.selectionModel.setSelectState(It),this.refreshView()}select(Ge,It=!1){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internSelectEvent)({selections:(0,ke.convertSelectionToSelectState)(Ge),dispatchSelectionBefore:It}))}deselect(Ge,It=!1){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internDeselectEvent)({selections:(0,ke.convertSelectionToSelectState)(Ge),dispatchSelectionBefore:It}))}deselectAll(Ge=!1){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internDeselectAllEvent)({dispatchSelectionBefore:Ge}))}zoomToSelectables(Ge){this.isReady()&&(Array.isArray(Ge)||(Ge=[Ge]),this.$internEventElement.dispatchEvent((0,q.internZoomToSelectablesEvent)({ids:Ge})))}zoom(Ge,It){if(this.isReady())switch(Ge){case x.ZoomType.OPTIMAL:this.$internEventElement.dispatchEvent((0,q.internResetZoomEvent)({}));break;case x.ZoomType.IN_OUT:this.$internEventElement.dispatchEvent((0,q.internZoomBy)({zoomBy:+It}));break;case x.ZoomType.SEAT_LEVEL:this.zoomToSeatLevel();break;case x.ZoomType.SCALE:isNaN(It)||this.$internEventElement.dispatchEvent((0,q.zoomToScaleEvent)({scale:It}));break;case x.ZoomType.SEAT_SIZE:isNaN(It)||this.$internEventElement.dispatchEvent((0,q.zoomToSeatSize)({scale:It}))}}zoomToSeatLevel(){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.internZoomToSeatLevelEvent)({}))}zoomToBounds(Ge){this.isReady()&&this.$internEventElement.dispatchEvent((0,q.zoomToBoundsEvent)({bounds:Ge,duration:100}))}getSeatNeighbours(Ge){if(this.isReady())return(0,B.getSeatNeighbours)(this.seatmap,Ge,this.opts.selectMultiplePriceCategories)}hasPriceCategoryAssigned(Ge){var It,Nt;if((0,it.isAnySelectableElementId)(Ge)){let Hn=this.getSelectableById(Ge);if(Hn){let Lr=Hn.priceCategory.id;if(!this.opts.filtered||!this.opts.filtered.priceCategories||((Nt=(It=this.opts.filtered)===null||It===void 0?void 0:It.priceCategories)===null||Nt===void 0?void 0:Nt.find(Co=>Co===Lr))===null)return Hn.available>0}}return!1}initEventHandler(Ge){this.eventHandlers.push(this.seatmapRenderer,this.markerManager,new $e.MarkerRenderer(this.$seatmap,this.$internEventElement,this.seatmapRenderer,this.markerModel,this.opts),new b.ZoomLayer(this.$seatmap,this.$internEventElement,this.seatmapRenderer,this.opts),new V.SeatmapAreaNavigationEventHandler(this.$seatmap,this.$internEventElement,Ge),new F.SeatmapSelectionEventHandler(this.$seatmap,this.$internEventElement,Ge,this.selectionModel),new we.SeatmapHighlightEventHandler(this.highlightedModel,this.$internEventElement),new M.SeatmapSalesEventHandler(this.$seatmap,this.$internEventElement,this.seatmapAPI,this.selectionModel,Ge)),this.opts.render.background&&this.eventHandlers.push(new Fe.BackgroundRenderer(this.$seatmap,this.$internEventElement,this.seatmapRenderer.svg,!1)),this.opts.render.stageIndicator&&this.eventHandlers.push(new ot.StageIndicatorRenderer(this.$seatmap,this.$internEventElement,this.seatmapRenderer,this.opts)),(Ge.render.background||Ge.render.minimap)&&this.eventHandlers.push(new Ke.BackgroundLoader(this.$internEventElement,this.seatmapAPI))}createMinimap(){let Ge=Mn(at({},this.opts),{render:{blockOutlines:!0,rows:!1,seats:!1,showTopPriceCategory:this.opts.render.showTopPriceCategory,minimapViewportRectangle:this.opts.render.minimapViewportRectangle,minimapThreshold:this.opts.render.minimapThreshold}});this.minimapRenderer=new ln.MinimapRenderer(this.$seatmap,this.$internEventElement,this.selectionModel,this.highlightedModel,Ge),this.eventHandlers.push(new k.MinimapEventHandler(this.$seatmap,this.$internEventElement)),this.eventHandlers.push(this.minimapRenderer),this.eventHandlers.push(new Fe.BackgroundRenderer(this.minimapRenderer.minimap,this.$internEventElement,this.minimapRenderer.svg,!0)),this.opts.render.minimapViewportRectangle&&this.eventHandlers.push(new rt.ViewportRectangleRenderer(this.$internEventElement,this.$seatmap,this.minimapRenderer))}createLoader(){let Ge=document.createElement("div");Ge.classList.add("seatmap-spinner","rectangle-bounce");for(let It=1;It<=5;It++){let Nt=document.createElement("div");Nt.classList.add(`rect${It}`),Ge.appendChild(Nt)}this.$seatmap.appendChild(Ge)}hideLoader(){if(!this.$seatmap)return;let Ge=this.$seatmap.querySelector(".seatmap-spinner");Ge!==null&&this.$seatmap.removeChild(Ge)}updateAvailability(Ge){this.$internEventElement.dispatchEvent((0,q.internUpdateAvailabilityEvent)(Ge))}addMarker(Ge){if(!this.isReady())return[];let It;return It=Array.isArray(Ge)?Ge:[Ge],this.markerManager.addCustomMarker(It)}getMarker(){return this.isReady()?this.markerManager.getCustomMarker():[]}removeMarker(Ge){if(!this.isReady())return[];let It=Ge.find(Nt=>!(0,it.isMarkerElementId)(Nt));if(It)throw new Error(`Given ID ${It} does not contain Marker prefix: ${it.MARKER_ID_PREFIX}`);return this.markerManager.removeCustomMarker(Ge)}updateMarker(Ge){if(!this.isReady())return[];let It;return It=Array.isArray(Ge)?Ge:[Ge],this.markerManager.updateMarker(It)}createText(Ge,It,Nt){if(this.isReady()){if(!(0,it.isSeatElementId)(Ge))throw Error(`Given ID ${Ge} does not contain Seat prefix: ${it.SEAT_ID_PREFIX}`);{let Hn=(0,it.idFromElementId)(Ge),Lr=this.seatmap.seatIdToSeat[Hn];Lr&&It&&It.length>0&&(Lr.manualLabel={type:"SEAT",styles:{fontSize:Nt},id:Hn,point:Lr.point,text:It,refId:Hn},this.refreshView())}}}removeText(Ge){if(this.isReady()){if(!(0,it.isSeatElementId)(Ge)&&!(0,it.isTextElementId)(Ge))throw Error(`Given ID ${Ge} does not contain Seat or Text prefix: ${it.SEAT_ID_PREFIX}, ${it.TEXT_ID_PREFIX}`);{let It=(0,it.idFromElementId)(Ge),Nt=this.seatmap.seatIdToSeat[It];Nt&&(Nt.manualLabel=void 0,this.refreshView())}}}getLinkedBlock(Ge){if(!this.isReady())return;let It;if((0,it.isAnyBlockElementId)(Ge)&&(It=this.seatmap.blockIdToBlock[(0,it.idFromElementId)(Ge)]),(0,it.isAnySelectableElementId)(Ge)){let Nt=this.getSelectableById(Ge);It=this.seatmap.blockIdToBlock[Nt.blockId]}return It?(0,_e.allBlocksFlat)(this.seatmap).find(Nt=>Nt.linkedAreaId===It.areaId):void 0}getSelectableById(Ge){return(0,it.isSeatElementId)(Ge)?this.seatmap.seatIdToSeat[(0,it.idFromElementId)(Ge)]:(0,it.isGAElementId)(Ge)?this.seatmap.gaIdToGa[(0,it.idFromElementId)(Ge)]:void 0}getElementIdByType(Ge,It){return(0,it.toElementId)(Ge,It)}getElementIdFor(Ge){return(0,it.getElementIdFor)(Ge)}raiseMarker(Ge){if(!this.isReady())return;let It=Ge.find(Nt=>!(0,it.isMarkerElementId)(Nt));if(It)throw new Error(`Given ID ${It} does not contain Marker prefix: ${it.MARKER_ID_PREFIX}`);this.markerManager.raiseMarker(Ge)}}},2987:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.typeFromElementId=r.toElementId=r.getElementIdFor=r.elementIdFromSelectable=r.isAnyBlockElementId=r.isAnySelectableElementId=r.toLinkedBlockElementId=r.isLinkedBlockElementId=r.toBlockOutlineElementId=r.isBlockOutlineElementId=r.toTextElementId=r.isTextElementId=r.toPriceCategoryElementId=r.isPriceCategoryElementId=r.toSeatGroupOutlineElementId=r.isSeatGroupOutlineElementId=r.SEATGROUP_OUTLINE_REGEX=r.toRowElementId=r.isRowElementId=r.toMarkerElementId=r.isMarkerElementId=r.toSeatElementId=r.isSeatElementId=r.toGAElementId=r.isGAElementId=r.toBlockElementId=r.isBlockElementId=r.idFromElementId=r.isElementId=r.MARKER_ID_PREFIX=r.SEATGROUP_OUTLINE_PREFIX=r.ROW_ID_PREFIX=r.PRICE_CATEGORY_ID_PREFIX=r.TEXT_ID_PREFIX=r.LINKED_BLOCK_ID_PREFIX=r.BLOCK_OUTLINE_ID_PREFIX=r.BLOCK_ID_PREFIX=r.GA_ID_PREFIX=r.SEAT_ID_PREFIX=void 0;let s=o(9861);r.SEAT_ID_PREFIX="s",r.GA_ID_PREFIX="g",r.BLOCK_ID_PREFIX="b",r.BLOCK_OUTLINE_ID_PREFIX="bo",r.LINKED_BLOCK_ID_PREFIX="lb",r.TEXT_ID_PREFIX="t",r.PRICE_CATEGORY_ID_PREFIX="p",r.ROW_ID_PREFIX="r",r.SEATGROUP_OUTLINE_PREFIX="sgo",r.MARKER_ID_PREFIX="m",r.isElementId=c=>c!=null&&typeof c=="string"&&/^[a-z]{1,2}-?(\d+)$/.test(c),r.idFromElementId=c=>(0,r.isElementId)(c)?Number(c?.replace(/[^-0-9]/g,"")):NaN,r.isBlockElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.BLOCK_ID_PREFIX),r.toBlockElementId=c=>r.BLOCK_ID_PREFIX+c,r.isGAElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.GA_ID_PREFIX),r.toGAElementId=c=>r.GA_ID_PREFIX+c,r.isSeatElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.SEAT_ID_PREFIX),r.toSeatElementId=c=>r.SEAT_ID_PREFIX+c,r.isMarkerElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.MARKER_ID_PREFIX),r.toMarkerElementId=c=>r.MARKER_ID_PREFIX+c,r.isRowElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.ROW_ID_PREFIX),r.toRowElementId=c=>r.ROW_ID_PREFIX+c,r.SEATGROUP_OUTLINE_REGEX=new RegExp(`${r.SEATGROUP_OUTLINE_PREFIX}(\\d+)_(\\d+)`),r.isSeatGroupOutlineElementId=c=>r.SEATGROUP_OUTLINE_REGEX.test(c),r.toSeatGroupOutlineElementId=(c,v)=>`${r.SEATGROUP_OUTLINE_PREFIX}${c}_${v}`,r.isPriceCategoryElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.PRICE_CATEGORY_ID_PREFIX),r.toPriceCategoryElementId=c=>r.PRICE_CATEGORY_ID_PREFIX+c,r.isTextElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.TEXT_ID_PREFIX),r.toTextElementId=c=>r.TEXT_ID_PREFIX+c,r.isBlockOutlineElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.BLOCK_OUTLINE_ID_PREFIX),r.toBlockOutlineElementId=c=>r.BLOCK_OUTLINE_ID_PREFIX+c,r.isLinkedBlockElementId=c=>!!(0,r.isElementId)(c)&&c.startsWith(r.LINKED_BLOCK_ID_PREFIX),r.toLinkedBlockElementId=c=>r.LINKED_BLOCK_ID_PREFIX+c,r.isAnySelectableElementId=c=>(0,r.isSeatElementId)(c)||(0,r.isGAElementId)(c),r.isAnyBlockElementId=c=>(0,r.isBlockOutlineElementId)(c)||(0,r.isLinkedBlockElementId)(c)||(0,r.isBlockElementId)(c),r.elementIdFromSelectable=c=>(0,r.getElementIdFor)(c),r.getElementIdFor=c=>(0,s.isLinkedBlock)(c)?(0,r.toLinkedBlockElementId)(c.linkedAreaId):(0,s.isPriceCategory)(c)?(0,r.toPriceCategoryElementId)(c.id):(0,s.isSeat)(c)?(0,r.toSeatElementId)(c.id):(0,s.isGeneralAdmission)(c)?(0,r.toGAElementId)(c.id):(0,s.isBlock)(c)?(0,r.toBlockElementId)(c.id):(0,s.isMarker)(c)?(0,r.toMarkerElementId)(c.id):void 0,r.toElementId=(c,v)=>{switch(v){case s.Type.SEAT:return(0,r.toSeatElementId)(c);case s.Type.GENERAL_ADMISSION:return(0,r.toGAElementId)(c);case s.Type.ROW:return(0,r.toRowElementId)(c);case s.Type.BLOCK_OUTLINE:return(0,r.toBlockOutlineElementId)(c);case s.Type.LINKED_BLOCK:return(0,r.toLinkedBlockElementId)(c);case s.Type.PRICE_CATEGORY:return(0,r.toPriceCategoryElementId)(c);case s.Type.MARKER:return(0,r.toMarkerElementId)(c);case s.Type.BLOCK:return(0,r.toBlockElementId)(c);default:return`${c}`}},r.typeFromElementId=c=>(0,r.isSeatElementId)(c)?s.Type.SEAT:(0,r.isGAElementId)(c)?s.Type.GENERAL_ADMISSION:(0,r.isLinkedBlockElementId)(c)?s.Type.LINKED_BLOCK:(0,r.isBlockOutlineElementId)(c)?s.Type.BLOCK_OUTLINE:(0,r.isRowElementId)(c)?s.Type.ROW:(0,r.isPriceCategoryElementId)(c)?s.Type.PRICE_CATEGORY:(0,r.isMarkerElementId)(c)?s.Type.MARKER:(0,r.isBlockElementId)(c)?s.Type.BLOCK:void 0},8831:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.DEFAULT_OPTIONS=r.HINT_MOBILE=r.HINT_BLOCKOUTLINES=r.HINT_ROWS=r.HINT_SEATS=void 0,r.HINT_SEATS={blockOutlines:!1,rows:!1,rowLabels:!0,seats:!0},r.HINT_ROWS={blockOutlines:!1,rows:[0,15],rowLabels:0,seats:15},r.HINT_BLOCKOUTLINES={blockOutlines:[0,5],rows:[5,15],rowLabels:5,seats:15},r.HINT_MOBILE={blockOutlines:[0,4],rows:[4,10],rowLabels:4,seats:10},r.DEFAULT_OPTIONS={apiOptions:{},render:{fpsMeter:!1,background:!0,minimap:!1,seatmapOnly:!1,showTopPriceCategory:!0,backButton:!0,zoomControls:!0,loadingSpinner:!0,markerOnSelectables:!1,stageIndicator:!1,minimapViewportRectangle:!1,seatLabels:!1,fonts:{sansSerif:"Roboto,Arial,Verdana,sans-serif",serif:'"Libre Baskerville",Georgia,"Times New Roman",serif',monospace:'"Roboto Mono","Courier New",monospace'}},filtered:{ticketAmount:1},backlink:"Zur\xFCck",seatGrouping:{maxSeatDistance:5},zoomOnClick:!0}},3638:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(Me,_e,ke,be){be===void 0&&(be=ke);var Te=Object.getOwnPropertyDescriptor(_e,ke);Te&&!("get"in Te?!_e.__esModule:Te.writable||Te.configurable)||(Te={enumerable:!0,get:function(){return _e[ke]}}),Object.defineProperty(Me,be,Te)}:function(Me,_e,ke,be){be===void 0&&(be=ke),Me[be]=_e[ke]}),c=this&&this.__setModuleDefault||(Object.create?function(Me,_e){Object.defineProperty(Me,"default",{enumerable:!0,value:_e})}:function(Me,_e){Me.default=_e}),v=this&&this.__importStar||function(Me){if(Me&&Me.__esModule)return Me;var _e={};if(Me!=null)for(var ke in Me)ke!=="default"&&Object.prototype.hasOwnProperty.call(Me,ke)&&s(_e,Me,ke);return c(_e,Me),_e};Object.defineProperty(r,"__esModule",{value:!0}),r.SeatmapRenderer=void 0;let b=v(o(2697)),x=o(9861),k=o(8364),O=o(8191),w=o(7939),M=o(5320),F=o(1207),L=o(8607),V=o(423),B=o(2987),q=o(6837),W=o(2797),ie=o(1315),se=o(4141);class we extends M.EventHandler{constructor(_e,ke,be,Te,Ye,pt){super(),this.$seatmap=_e,this.$internEventElement=ke,this.selectionModel=be,this.highlightModel=Te,this.opts=Ye,this.minimapFlag=pt,this.seatsFlat={},this.rowsFlat={},this.seatmap=null,this.areaId=void 0,this.isSeatLevel=!1,this.isSeatLabelLevel=!1,this.isRowLevel=!1,this.isRowLabelLevel=!1,this.addSeatmapEventListeners(),this.svg=b.select(_e).append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").classed("seatmap-svg",!0),this.zoomLayer=this.svg.append("g").classed("seatmap-zoom-layer",!0),this.areaLayer=this.zoomLayer.append("g").classed("seatmap-area-layer",!0).classed("seatmap-dynamic",!0),this.opts.rectangleSelection&&(this.rectangleSelect=new V.RectangleSelection(this.svg,this.$internEventElement,this.$seatmap,this.zoomLayer))}addSeatmapEventListeners(){this.minimapFlag||(this.addInternEventListener(this.$internEventElement,"intern:config-options-changed",_e=>{this.opts=_e.detail,this.svgDomEventManager&&(this.svgDomEventManager.opts=this.opts)}),this.addInternEventListener(this.$internEventElement,"intern:zoom-end",_e=>this.onZoomed(_e.detail))),this.addInternEventListener(this.$internEventElement,"intern:availability-updated",()=>this.renderSeatmap()),this.addInternEventListener(this.$internEventElement,"intern:seatmap-initialized",_e=>this.seatmapReady(_e.detail.seatmap,_e.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:switch-area",_e=>this.switchArea(_e.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:refresh_view",()=>this.renderSeatmap()),this.addInternEventListener(this.$internEventElement,"intern:recalculate_view",()=>this.recalculateSeatmap(this.seatmap)),this.addInternEventListener(this.$internEventElement,"intern:selection-changed",()=>this.recalculateSeatmap(this.seatmap)),this.addInternEventListener(this.$internEventElement,"intern:filtered",()=>this.renderSeatmap()),this.addInternEventListener(this.$internEventElement,"intern:transform-values-initialised",()=>{this.renderSeatmap(),this.$internEventElement.dispatchEvent((0,se.internSeatmapRendered)({blockOutlineLevel:this.isBlockOutlineLevel,rowLabelLevel:this.isRowLabelLevel,rowLevel:this.isRowLevel,seatLabelLevel:this.isSeatLabelLevel,seatLevel:this.isSeatLevel}))}),this.addInternEventListener(this.$internEventElement,"intern:resized",()=>this.updateViewBox())}removeAllListeners(){this.rectangleSelect&&this.rectangleSelect.removeAllListeners(),this.svgDomEventManager&&this.svgDomEventManager.removeAllListeners(),super.removeAllListeners()}fillCaches(){this.seatsFlat[this.areaId]||(this.seatsFlat[this.areaId]=(0,L.allSeatsFlat)(this.seatmap,this.areaId)),this.rowsFlat[this.areaId]||(this.rowsFlat[this.areaId]=(0,L.allRowsFlat)(this.seatmap,this.areaId))}seatmapReady(_e,ke){this.seatmap=_e,this.areaId=ke,this.fillCaches(),this.updateViewBox(),this.currentZoomLevel=1,this.visibleBounds=(0,O.viewPortWidening)((0,w.visibleBoundsInZoomLayer)(this.$seatmap)),this.minimapFlag?new ie.MinimapSvgDomEventManager(this.svg,this.$internEventElement):this.svgDomEventManager=new W.SVGDomEventManager(this.svg,this.$seatmap,this.$internEventElement,this.opts)}updateViewBox(){let _e=this.viewBox;_e&&this.svg.attr("viewBox",`${_e.x} ${_e.y} ${_e.width} ${_e.height}`)}createSeatmapElementLayers(_e){this.seatingBlockWrapperGroup=(0,O.createWrapperGroup)(_e,"seating-block");let ke=(0,L.allBlocksFlat)(this.seatmap,this.areaId).filter(x.blockHasSeats);this.blocksGroup=(0,O.createBlockGroup)(this.seatingBlockWrapperGroup,ke),this.rowsWrapper=(0,O.createWrapperGroup)(_e,"rows"),this.seatsWrapper=(0,O.createWrapperGroup)(_e,"seats"),this.gaWrapperGroup=(0,O.createWrapperGroup)(_e,"general-admissions"),this.linkedBlockWrapperGroup=(0,O.createWrapperGroup)(_e,"linked-blocks"),this.labelWrapper=(0,O.createWrapperGroup)(_e,"texts"),this.orderWrapper()}orderWrapper(){this.labelWrapper.lower(),this.linkedBlockWrapperGroup.lower(),this.gaWrapperGroup.lower(),this.seatsWrapper.lower(),this.rowsWrapper.lower(),this.seatingBlockWrapperGroup.lower()}purge(){this.zoomLayer.select(x.SEATMAP_AREA_LAYER).selectAll("*").remove()}recalculateSeatmap(_e){_e&&(0,F.calculateSeatGroupOutlines)(_e,this.opts,this.selectionModel)}switchArea(_e){this.areaId!=(this.minimapFlag?0:_e)&&this.purge(),this.areaId=this.minimapFlag?0:_e,this.fillCaches(),this.renderSeatmap(),this.updateViewBox()}onZoomed(_e){this.currentZoomLevel=_e.transform.k;let ke=(0,w.visibleBoundsInZoomLayer)(this.$seatmap);this.visibleBounds=(0,O.viewPortWidening)(ke),this.renderSeatmap(),this.$internEventElement.dispatchEvent((0,se.zoomedEvent)(Mn(at({},_e),{bounds:ke,blockOutlineLevel:this.isBlockOutlineLevel,rowLabelLevel:this.isRowLabelLevel,rowLevel:this.isRowLevel,seatLabelLevel:this.isSeatLabelLevel,seatLevel:this.isSeatLevel})))}renderSeatmap(){if(!this.seatmap)return;this.createSeatmapElementLayers(this.areaLayer);let _e=this.currentArea,ke=!this.minimapFlag&&_e?.renderingHint,{scaledSeatSize:be}=this;this.isBlockOutlineLevel=(0,q.isInThreshold)(be,ke?_e.renderingHint.blockOutlines:this.opts.render.blockOutlines),this.isRowLevel=(0,q.isInThreshold)(be,ke?_e.renderingHint.rows:this.opts.render.rows),this.isRowLabelLevel=(0,q.isInThreshold)(be,ke?_e.renderingHint.rowLabels:this.opts.render.rowLabels),this.isSeatLevel=(0,q.isInThreshold)(be,ke?_e.renderingHint.seats:this.opts.render.seats),this.isSeatLabelLevel=(0,q.isInThreshold)(be,this.opts.render.seatLabels),this.renderBlockOutline(),this.renderSeatingBlocks(),this.renderGeneralAdmissions(),this.renderLinkedBlocks(),this.renderSeatLabels(),this.renderRowLabels(),this.updateSeatmapEventManagerValues(be)}renderBlockOutline(){let _e=this.blocksGroup.selectAll("path").data(ke=>this.isBlockOutlineLevel||this.isRowLevel?ke.graphics.map(be=>({graphic:be,id:ke.id,availabilityInfo:ke.availabilityInfo,excluded:ke.excluded,areaId:ke.areaId,blockName:ke.blockName,blockDescription:ke.blockDescription})):[]);(0,O.renderPathFromGraphic)(_e).attr("fill",ke=>ke.excluded?"#ccc":(0,k.accumulatedPriceCategoryColor)(ke.availabilityInfo,this.seatmap.priceCategories,this.seatmap.filter,this.opts.render.showTopPriceCategory)).attr("class",ke=>this.blockOutlineClasses(ke))}renderSeatingBlocks(){let{currentArea:_e}=this;this.seatSize=_e.seatSize;let ke=[];this.isRowLevel&&(ke=(0,L.allSeatGroupOutlinesFlat)(this.seatmap,this.areaId).filter(Te=>(0,L.rowInBounds)(this.visibleBounds,Te))),this.rowsWrapper.selectAll(".r").data(ke).join("polyline").attr("class",Te=>Te.classes?this.sgoClasses(Te):this.rowClasses(Te)).attr("style",Te=>this.rowStyles(Te)).attr("stroke-width",this.getRowWidth()).attr("data-seatGroupOutlineId",Te=>Te.id).attr("data-rowId",Te=>Te.seatGroup.rowId).attr("stroke",Te=>{var Ye;return Te.disabled||!((Ye=this.opts.render)===null||Ye===void 0)&&Ye.seatmapOnly?"#ccc":Te.color}).attr("points",Te=>{var Ye;return!((Ye=Te.outline)===null||Ye===void 0)&&Ye.length?Te.outline.join(" "):null});let be=[];this.isSeatLevel&&this.seatsFlat[this.areaId]&&(be=this.seatsFlat[this.areaId].filter(Te=>(0,w.isInViewport)(this.visibleBounds,Te.point)&&!this.isSeatBlocked(Te))),this.seatsWrapper.selectAll(".s").data(be).join("circle").attr("id",Te=>(0,B.toSeatElementId)(Te.id)).attr("class",Te=>this.seatClasses(this.seatmap,Te)).attr("style",Te=>this.seatStyles(Te)).attr("r",()=>this.seatSize/2).attr("cx",Te=>Te.point[0]).attr("cy",Te=>Te.point[1]).attr("fill",Te=>this.selectableFill(Te))}getRowWidth(){let _e=Math.max(this.seatSize-15,20),ke=75-this.scaledSeatSize;return Math.max(ke,_e)}renderGeneralAdmissions(){let _e=(0,L.allBlocksFlat)(this.seatmap,this.areaId).filter(x.blockHasGeneralAdmissions),ke=(0,O.createBlockGroup)(this.gaWrapperGroup,_e);(0,O.addText)(ke);let be=ke.selectAll(".general-admission").data(pt=>pt.generalAdmissions).join("g");be.attr("id",pt=>(0,B.toGAElementId)(pt.id)).attr("fill",pt=>this.selectableFill(pt)).attr("class",pt=>this.gaClasses(this.seatmap,pt)).attr("style",pt=>this.gaStyles(pt));let Te=be.selectAll("path").data(pt=>pt.graphics.filter($t=>$t.type===x.GraphicType.POLYGON).map($t=>Mn(at({},pt),{graphic:$t})));(0,O.renderPathFromGraphic)(Te).classed("g",!0);let Ye=be.selectAll("ellipse").data(pt=>pt.graphics.filter($t=>$t.type===x.GraphicType.ELLIPSE).map($t=>Mn(at({},pt),{graphic:$t})));(0,O.renderEllipseFromGraphic)(Ye)}renderLinkedBlocks(){let _e=(0,L.allBlocksFlat)(this.seatmap,this.areaId).filter(Te=>(0,x.isLinkedBlock)(Te)),ke=(0,O.createBlockGroup)(this.linkedBlockWrapperGroup,_e),be=ke.selectAll("path").data(Te=>Te.graphics.map(Ye=>({graphic:Ye,id:Te.id,linkedAreaId:Te.linkedAreaId,availabilityInfo:Te.availabilityInfo,excluded:Te.excluded,areaId:Te.areaId,blockName:Te.blockName,blockDescription:Te.blockDescription})));(0,O.renderPathFromGraphic)(be).attr("class",Te=>this.customLinkedBlockClasses(Te)).attr("fill",Te=>Te.excluded?"#ccc":(0,k.accumulatedPriceCategoryColor)(Te.availabilityInfo,this.seatmap.priceCategories,this.seatmap.filter,this.opts.render.showTopPriceCategory)),(0,O.addText)(ke)}renderSeatLabels(){let{currentArea:_e}=this,ke=_e.seatSize,be=[];this.seatsFlat[this.areaId]&&(be=this.seatsFlat[this.areaId].filter(Te=>!!(0,w.isInViewport)(this.visibleBounds,Te.point)&&(!(!Te.manualLabel||!this.isSeatLevel)||Te.label&&this.isSeatLabelLevel)).map(Te=>Te.manualLabel||Te.label)),this.labelWrapper.selectAll(".text.seat-label").data(be,Te=>(0,B.toTextElementId)(Te.id)).join("text").text(Te=>Te.text).attr("class",Te=>this.seatLabelClasses(Te)).attr("id",Te=>(0,B.toTextElementId)(Te.id)).attr("label-ref-id",Te=>Te.refId).attr("text-anchor",Te=>{var Ye,pt;return((pt=(Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.textAnchor)===null||pt===void 0?void 0:pt.toLowerCase())||"middle"}).attr("font-size",Te=>{var Ye;return((Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.fontSize)||ke/2}).attr("font-weight",Te=>{var Ye;return((Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.fontWeight)||"normal"}).attr("font-family",Te=>this.fontFamily(Te)).attr("font-style",Te=>{var Ye;return(Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.fontStyle}).attr("text-decoration",Te=>{var Ye;return(Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.textDecoration}).attr("fill",Te=>{var Ye;return((Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.color)||"#000000"}).attr("background-color",Te=>{var Ye;return(Ye=Te?.styles)===null||Ye===void 0?void 0:Ye.backgroundColor}).attr("transform",Te=>this.getLabelAngle(Te)).attr("dx",Te=>Te.point[0]).attr("dy",Te=>Te.point[1])}renderRowLabels(){let{currentArea:{seatSize:_e}}=this,ke=[];this.isRowLabelLevel&&this.rowsFlat[this.areaId]&&(ke=this.rowsFlat[this.areaId].flatMap(be=>be.labels).filter(be=>!!be&&(0,w.isInViewport)(this.visibleBounds,be.point))),this.labelWrapper.selectAll(".text.row-label").data(ke,be=>(0,B.toTextElementId)(be.id)).join("text").text(be=>be.text).attr("class",be=>this.rowLabelClasses(be)).attr("id",be=>(0,B.toTextElementId)(be.id)).attr("label-ref-id",be=>be.refId).attr("text-anchor",be=>{var Te,Ye;return((Ye=(Te=be?.styles)===null||Te===void 0?void 0:Te.textAnchor)===null||Ye===void 0?void 0:Ye.toLowerCase())||"start"}).attr("font-size",be=>{var Te;return((Te=be?.styles)===null||Te===void 0?void 0:Te.fontSize)||_e}).attr("font-weight",be=>{var Te;return((Te=be?.styles)===null||Te===void 0?void 0:Te.fontWeight)||"normal"}).attr("font-family",be=>this.fontFamily(be)).attr("font-style",be=>{var Te;return(Te=be?.styles)===null||Te===void 0?void 0:Te.fontStyle}).attr("text-decoration",be=>{var Te;return(Te=be?.styles)===null||Te===void 0?void 0:Te.textDecoration}).attr("fill",be=>{var Te;return((Te=be?.styles)===null||Te===void 0?void 0:Te.color)||"#000000"}).attr("background-color",be=>{var Te;return(Te=be?.styles)===null||Te===void 0?void 0:Te.backgroundColor}).attr("transform",be=>this.getLabelAngle(be)).attr("x",be=>be.point[0]).attr("y",be=>be.point[1])}getLabelAngle(_e){return _e.angle?`rotate(${(0,O.rad2deg)(_e.angle).toFixed(2)} ${_e.point[0]} ${_e.point[1]})`:null}selectableFill(_e){return(this.selectionModel.isSelectableSelected(_e)||(0,k.isSelectableAvailable)(_e)&&!_e.excluded)&&_e.priceCategory&&!(0,k.isGaBookedOut)(_e,this.selectionModel.selected)?_e.priceCategory.color:"#ccc"}seatStyles(_e){var ke,be;return!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssStyleCallbacks)===null||be===void 0)&&be.seatStyles?this.cssString(this.opts.render.cssStyleCallbacks.seatStyles(_e)):null}seatClasses(_e,ke){var be,Te;let Ye="s";if(this.selectionModel.isSelectableSelected(ke)&&(Ye+=" selected"),this.highlightModel.isHighlighted(ke)&&(Ye+=" highlighted"),this.opts.hoverUnavailable||(0,k.isBookable)(_e,ke)||(Ye+=" no-hover-unavailable"),(Te=(be=this.opts.render)===null||be===void 0?void 0:be.cssClassCallbacks)===null||Te===void 0?void 0:Te.seatClasses){let pt=this.opts.render.cssClassCallbacks.seatClasses(ke);pt&&pt.length&&(Ye+=` ${pt.join(" ")}`)}return Ye}seatLabelClasses(_e){var ke,be;let Te="text seat-label";if(!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0)&&be.seatLabelClasses){let Ye=this.opts.render.cssClassCallbacks.seatLabelClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}return Te}fontFamily(_e){var ke,be,Te,Ye,pt,$t;switch(_e.styles.fontName){case"serif":return(be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.fonts)===null||be===void 0?void 0:be.serif;case"monospace":return(Ye=(Te=this.opts.render)===null||Te===void 0?void 0:Te.fonts)===null||Ye===void 0?void 0:Ye.monospace;default:return($t=(pt=this.opts.render)===null||pt===void 0?void 0:pt.fonts)===null||$t===void 0?void 0:$t.sansSerif}}gaStyles(_e){var ke,be;return!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssStyleCallbacks)===null||be===void 0)&&be.gaStyles?this.cssString(this.opts.render.cssStyleCallbacks.gaStyles(_e)):null}gaClasses(_e,ke){var be,Te;let Ye="general-admission";if(this.selectionModel.isSelectableSelected(ke)&&(Ye+=" selected"),this.highlightModel.isHighlighted(ke)&&(Ye+=" highlighted"),this.opts.hoverUnavailable||(0,k.isBookable)(_e,ke)||(Ye+=" no-hover-unavailable"),(0,k.isGaBookedOut)(ke,this.selectionModel.selected)&&(Ye+=" ga-booked-out"),(Te=(be=this.opts.render)===null||be===void 0?void 0:be.cssClassCallbacks)===null||Te===void 0?void 0:Te.gaClasses){let pt=this.opts.render.cssClassCallbacks.gaClasses(ke);pt&&pt.length&&(Ye+=` ${pt.join(" ")}`)}return Ye}rowStyles(_e){var ke,be;return!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssStyleCallbacks)===null||be===void 0)&&be.rowStyles?this.cssString(this.opts.render.cssStyleCallbacks.rowStyles(_e)):null}rowClasses(_e){var ke,be;let Te="r outline";if(!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0)&&be.rowClasses){let Ye=this.opts.render.cssClassCallbacks.rowClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}return Te}rowLabelClasses(_e){var ke,be;let Te="text row-label";if(!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0)&&be.rowLabelClasses){let Ye=this.opts.render.cssClassCallbacks.rowLabelClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}return Te}get currentRenderedAreaId(){return this.areaId}isSeatBlocked(_e){return _e.status===x.SeatStatus.BLOCKED}sgoClasses(_e){var ke,be;let Te=`r outline ${_e.classes}`;if(!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0)&&be.rowClasses){let Ye=this.opts.render.cssClassCallbacks.rowClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}return Te}customLinkedBlockClasses(_e){var ke,be;let Te="lb";if(this.highlightModel.isHighlighted(_e)&&(Te+=" highlighted"),(be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0?void 0:be.linkedBlockClasses){let Ye=this.opts.render.cssClassCallbacks.linkedBlockClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}return Te}blockOutlineClasses(_e){var ke,be;let Te="bo";if(this.highlightModel.isHighlighted(_e)&&(Te+=" highlighted"),this.isBlockOutlineLevel){if(!((be=(ke=this.opts.render)===null||ke===void 0?void 0:ke.cssClassCallbacks)===null||be===void 0)&&be.blockOutlineClasses){let Ye=this.opts.render.cssClassCallbacks.blockOutlineClasses(_e);Ye&&Ye.length&&(Te+=` ${Ye.join(" ")}`)}}else Te+=" invisible-block-outline";return Te}cssString(_e){return _e?Object.entries(_e).reduce((ke,[be,Te])=>`${ke+be}:${Te};`,""):null}updateSeatmapEventManagerValues(_e){this.svgDomEventManager&&this.svgDomEventManager.setSeatSize(_e)}get viewBox(){let _e=this.currentArea;if(!_e)return null;let{padding:ke}=this;return new DOMRect(_e.bounds[0]-ke,_e.bounds[1]-ke,_e.bounds[2]+2*ke,_e.bounds[3]+2*ke)}get viewBoxCenter(){let _e=this.viewBox;if(!_e)return[0,0];let{x:ke,y:be,width:Te,height:Ye}=_e;return[ke+Te/2,be+Ye/2]}get scaleSide(){if(!this.currentArea)return"width";let _e=this.viewRatio,ke=(0,L.toBoundingRect)(this.currentArea.bounds);return ke.width/ke.height>_e?"width":"height"}get viewRatio(){let _e=this.currentViewPortRect;return _e.width/_e.height}get currentViewPortRect(){return this.$seatmap.getBoundingClientRect()}get viewportBounds(){let _e=this.viewBox;if(!_e)return null;if(this.scaleSide=="width"){let Ye=1/this.viewRatio,pt=_e.width*Ye,$t=_e.y-(pt-_e.height)/2;return new DOMRect(_e.x,$t,_e.width,pt)}let ke=this.viewRatio,be=_e.height*ke,Te=_e.x-(be-_e.width)/2;return new DOMRect(Te,_e.y,be,_e.height)}get currentArea(){return this.seatmap&&this.areaId!==void 0?this.seatmap.areas.find(_e=>_e.id===this.areaId):null}get scaleFactor(){let _e=this.currentViewPortRect,ke=this.currentArea;if(!ke)return 1;let be=(0,L.toBoundingRect)(ke.bounds),Te=this.scaleSide;return _e[Te]/be[Te]}get padding(){let _e=this.currentArea;return _e?x.PADDING*(0,L.toBoundingRect)(_e.bounds)[this.scaleSide]:0}get scaledSeatSize(){let _e=this.currentArea;return _e?Math.ceil(this.currentZoomLevel*_e.seatSize*this.scaleFactor*1e3)/1e3:0}get seatLevelZoomThreshold(){let _e=this.currentArea;if(!_e)return 0;let ke=(0,L.toBoundingRect)(_e.bounds)[this.scaleSide],be=this.currentViewPortRect[this.scaleSide],Te=_e.renderingHint?_e.renderingHint.seats:this.opts.render.seats,Ye=typeof Te=="boolean"?1:Array.isArray(Te)?Te[1]:Te;return Math.ceil(ke/_e.seatSize/be*Ye*1e3)/1e3}get optimalSeatSize(){let _e=this.currentArea;return _e?(0,L.toBoundingRect)(_e.bounds)[this.scaleSide]/_e.seatSize*x.MAX_ZOOM_SEAT_SIZE:0}}r.SeatmapRenderer=we},4447:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.StageIndicatorRenderer=r.DEBUG_STAGE_INDICATOR=void 0;let s=o(5320),c=o(9861),v=o(7939),b=o(8607),x=(O,w)=>{let M=w.x-O.x,F=w.y-O.y;return Math.sqrt(M*M+F*F)};r.DEBUG_STAGE_INDICATOR=!1;class k extends s.EventHandler{constructor(w,M,F,L){super(),this.$seatmap=w,this.$internEventElement=M,this.renderer=F,this.opts=L,this.svg=F.svg,this.addInternEventListener(this.$internEventElement,"intern:seatmap-initialized",V=>this.seatmapReady(V.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:area-switched",V=>this.switchArea(V.detail.areaId)),this.addInternEventListener(this.$internEventElement,"intern:zooming",()=>this.onZooming()),this.addInternEventListener(this.$internEventElement,"intern:config-options-changed",V=>this.optionChanges(V.detail)),this.addInternEventListener(this.$internEventElement,"intern:resized",()=>this.renderStageIndicator())}get currentArea(){return this.renderer.currentArea}get stageIndicatorSize(){let{viewBox:w,currentViewPortRect:M}=this.renderer,F;return F=this.renderer.scaleSide==="height"?w.height/M.height:w.width/M.width,Math.ceil(72*F*1e3)/1e3}get isVisible(){if(!this.currentArea)return!1;let w=this.currentArea.stage;return!!w&&!(0,v.isInViewport)((0,v.visibleBoundsInZoomLayer)(this.$seatmap),w)}get classes(){var w,M;let F="stage-indicator-icon";if(!((M=(w=this.opts.render)===null||w===void 0?void 0:w.cssClassCallbacks)===null||M===void 0)&&M.stageIndicatorClasses){let L=this.opts.render.cssClassCallbacks.stageIndicatorClasses();L&&L.length&&(F+=` ${L.join(" ")}`)}return F}get borderLines(){let w=this.renderer.viewportBounds;if(!w)return[];let{x:M,width:F,height:L,y:V}=w,B=this.stageIndicatorSize/2;return[{start:new DOMPoint(M+B,V+B),end:new DOMPoint(M+F-B,V+B)},{start:new DOMPoint(M+F-B,V+B),end:new DOMPoint(M+F-B,V+L-B)},{start:new DOMPoint(M+F-B,V+L-B),end:new DOMPoint(M+B,V+L-B)},{start:new DOMPoint(M+B,V+L-B),end:new DOMPoint(M+B,V+B)}]}getRotation(w){let M=this.stageIndicatorSize/2;return`rotate(${this.getStageIndicatorAngle(w)}, ${M}, ${M})`}getTranslate(w){var M,F;let L=this.toGlobalPoint(w),V={start:(0,b.toDOMPoint)(this.renderer.viewBoxCenter),end:(0,b.toDOMPoint)(L)},B=this.borderLines.map(W=>((ie,se)=>{let{x:we,y:Me}=ie.start,{x:_e,y:ke}=ie.end,{x:be,y:Te}=se.start,{x:Ye,y:pt}=se.end;if(we===_e&&Me===ke||be===Ye&&Te===pt)return null;let $t=(pt-Te)*(_e-we)-(Ye-be)*(ke-Me);if($t===0)return null;let Ke=((Ye-be)*(Me-Te)-(pt-Te)*(we-be))/$t,rt=((_e-we)*(Me-Te)-(ke-Me)*(we-be))/$t;return Ke<0||Ke>1||rt<0||rt>1?null:new DOMPoint(we+Ke*(_e-we),Me+Ke*(ke-Me))})(W,V)).filter(W=>W!=null).map(W=>({intersection:W,distance:W?x((0,b.toDOMPoint)(this.renderer.viewBoxCenter),W):1/0})).sort((W,ie)=>W.distance-ie.distance);if(B.length===0)return null;let q=(F=(M=B[0])===null||M===void 0?void 0:M.intersection)!==null&&F!==void 0?F:new DOMPoint(L[0],L[1]);return`translate(${q.x-this.stageIndicatorSize/2} ${q.y-this.stageIndicatorSize/2})`}optionChanges(w){this.opts=w,this.renderStageIndicator()}seatmapReady(w){this.areaId=w,this.renderStageIndicator()}switchArea(w){this.areaId!=w&&(this.stageIndicatorLayer.remove(),this.stageIndicatorLayer=null),this.areaId=w,this.renderStageIndicator()}onZooming(){this.renderStageIndicator()}renderStageIndicator(){let w=this.currentArea;if(!w)return;this.stageIndicatorLayer||(this.stageIndicatorLayer=this.svg.insert("g").classed("stage-indicator-layer",!0));let M=[],F=w.stage;F&&M.push(F),this.stageIndicatorLayer.raise(),this.stageIndicatorLayer.selectAll("g").data(M).join("g").attr("alt","Stage indicator").style("pointer-events","none").attr("id",(L,V)=>`stage-indicator-${V}`).attr("transform",L=>{var V;return`${(V=this.getTranslate(L))!==null&&V!==void 0?V:""} ${this.getRotation(L)}`}).attr("display",this.isVisible?null:"none").selectAll("svg").data(L=>[L]).join("svg").attr("version","1.1").attr("width",this.stageIndicatorSize).attr("height",this.stageIndicatorSize).attr("viewBox","8.9 7.4 30.2 33.7").selectAll("path").data(L=>[L]).join("path").attr("class",()=>this.classes).attr("d","m12.35 38.1-.45-.35L24 10.4l12.1 27.35-.45.35L24 33Z").attr("fill","#139df4").attr("stroke","none").style("filter","drop-shadow(1px 2px 1px rgb(0 0 0 / 0.4))"),r.DEBUG_STAGE_INDICATOR&&(this.stageIndicatorLayer.selectAll("path.line-of-sight").data(M).join("path").attr("id",(L,V)=>`line-of-sight-${V}`).attr("stroke","#139df4").attr("stroke-width","64").classed("line-of-sight",!0).attr("d",L=>{let V=this.toGlobalPoint(L),[B,q]=this.renderer.viewBoxCenter;return`M${B} ${q} L${V[0]} ${V[1]}`}),this.stageIndicatorLayer.selectAll("path.border-lines").data(this.borderLines).join("path").attr("id",(L,V)=>`border-line-${V}`).attr("stroke","cyan").attr("stroke-width","50").classed("border-lines",!0).attr("d",L=>`M${L.start.x} ${L.start.y} L${L.end.x} ${L.end.y}`))}getStageIndicatorAngle(w){let M=this.toGlobalPoint(w),[F,L]=this.renderer.viewBoxCenter,V=F-M[1],B=L-M[0];return 180*Math.atan2(V,B)/Math.PI-90}toGlobalPoint(w){var M,F,L;let V=new DOMPoint(w[0],w[1]),B=(L=(F=(M=this.svg.node().querySelector(c.SEATMAP_ZOOM_LAYER).transform)===null||M===void 0?void 0:M.baseVal)===null||F===void 0?void 0:F.consolidate())===null||L===void 0?void 0:L.matrix;return B&&(V=V.matrixTransform(B)),[V.x,V.y]}}r.StageIndicatorRenderer=k},2797:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(M,F,L,V){V===void 0&&(V=L);var B=Object.getOwnPropertyDescriptor(F,L);B&&!("get"in B?!F.__esModule:B.writable||B.configurable)||(B={enumerable:!0,get:function(){return F[L]}}),Object.defineProperty(M,V,B)}:function(M,F,L,V){V===void 0&&(V=L),M[V]=F[L]}),c=this&&this.__setModuleDefault||(Object.create?function(M,F){Object.defineProperty(M,"default",{enumerable:!0,value:F})}:function(M,F){M.default=F}),v=this&&this.__importStar||function(M){if(M&&M.__esModule)return M;var F={};if(M!=null)for(var L in M)L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)&&s(F,M,L);return c(F,M),F};Object.defineProperty(r,"__esModule",{value:!0}),r.SVGDomEventManager=void 0;let b=v(o(2697)),x=o(9861),k=o(4141),O=o(5320);class w extends O.EventHandler{constructor(F,L,V,B){super(),this.svg=F,this.$seatmap=L,this.$internEventElement=V,this.opts=B,this.seatLevel=!1,this.addInternEventListener(V,"intern:zoomed",q=>{this.seatLevel=q.detail.seatLevel}),this.svg.on("click",q=>this.handleSVGElementClickEvent(q)).on("mouseleave",q=>this.$internEventElement.dispatchEvent((0,k.internSeatmapLeaveEvent)({event:q}))).on("pointerover pointerout pointerdown pointerup",q=>this.handleSVGElementPointerEvent(q))}setSeatSize(F){this.seatSize=F}handleSVGElementClickEvent(F){F.stopPropagation(),F.preventDefault();let L=b.select(F.target).data();L&&L.length===1&&((0,x.isSeat)(L[0])?this.dispatchSeatClickedEvent(F,L[0]):(0,x.isGeneralAdmission)(L[0])?this.dispatchGAClickedEvent(F,L[0]):(0,x.isSeatGroupOutline)(L[0])?this.dispatchRowClickedEvent(F,L[0]):(0,x.isLinkedBlock)(L[0])?this.dispatchLinkedBlockClickedEvent(F,L[0]):(0,x.isBlock)(L[0])?this.dispatchBlockClickedEvent(F,L[0]):F.shiftKey||this.$internEventElement.dispatchEvent((0,k.internBackgroundClickedEvent)({event:F})))}dispatchSeatClickedEvent(F,L){this.opts.zoomOnClick&&!this.seatLevel&&this.dispatchZoomToSeatLevelEvent(F),this.$internEventElement.dispatchEvent((0,k.internSeatClickedEvent)({event:F,selectable:L,seatSize:this.seatSize}))}dispatchGAClickedEvent(F,L){this.$internEventElement.dispatchEvent((0,k.internGaClickedEvent)({event:F,selectable:L,graphic:L.graphic}))}dispatchRowClickedEvent(F,L){this.opts.zoomOnClick&&!this.seatLevel&&this.dispatchZoomToSeatLevelEvent(F),this.$internEventElement.dispatchEvent((0,k.internRowClickedEvent)({event:F,rowId:L.seatGroup.rowId,outline:L.outline,seatGroupOutlineId:L.id}))}dispatchZoomToSeatLevelEvent(F){let L=b.pointer(F,this.svg.node());this.$internEventElement.dispatchEvent((0,k.internZoomToSeatLevelEvent)({point:L}))}dispatchBlockClickedEvent(F,L){this.opts.zoomOnClick&&!this.seatLevel&&this.dispatchZoomToSeatLevelEvent(F),this.$internEventElement.dispatchEvent((0,k.internSeatingBlockClickedEvent)({event:F,graphic:L.graphic,block:L}))}dispatchLinkedBlockClickedEvent(F,L){this.$internEventElement.dispatchEvent((0,k.internLinkedBlockClicked)({event:F,linkedBlock:L}))}handleSVGElementPointerEvent(F){let L=b.select(F.target).data();if(!L||L.length!==1)return;let V,B,q,W;if((0,x.isSeat)(L[0])?(V=x.Type.SEAT,B=L[0].blockId,q=L[0]):(0,x.isGeneralAdmission)(L[0])?(V=x.Type.GENERAL_ADMISSION,B=L[0].blockId,q=L[0]):(0,x.isSeatGroupOutline)(L[0])?(V=x.Type.SEAT_GROUP_OUTLINE,q=L[0],B=q.seats.find(ie=>ie.blockId).blockId):(0,x.isLinkedBlock)(L[0])?(V=x.Type.LINKED_BLOCK,B=L[0].id,q=L[0]):(0,x.isBlock)(L[0])&&(V=x.Type.BLOCK_OUTLINE,B=L[0].id,q=L[0]),V&&B){let ie={event:F,type:V,blockId:B,target:q};switch(F.type){case"pointerover":F.pointerType==="mouse"&&(W=(0,k.internMouseOverEvent)({event:F,type:V,blockId:B,target:q}));break;case"pointerout":F.pointerType==="mouse"&&(W=(0,k.internMouseOutEvent)({event:F,type:V,blockId:B,target:q}));break;case"pointerdown":F.pointerType==="mouse"&&(W=(0,k.internSeatmapMousedownEvent)(ie)),F.pointerType==="touch"&&(W=(0,k.internSeatmapTouchstartEvent)(ie));break;case"pointerup":F.pointerType==="mouse"&&(W=(0,k.internSeatmapMouseupEvent)(ie)),F.pointerType==="touch"&&(W=(0,k.internSeatmapTouchendEvent)(ie))}W&&this.$internEventElement.dispatchEvent(W)}}}r.SVGDomEventManager=w},8608:(n,r,o)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.zoomButtons=r.removeBacklink=r.addBacklink=void 0;let s=o(4141);r.addBacklink=(v,b,x,k)=>{let O=document.createElement("button");O.addEventListener("click",()=>b.dispatchEvent((0,s.internSwitchAreaEvent)({areaId:0,seatmap:x}))),O.classList.add("seatmap-backlink"),O.ariaLabel="back",O.setAttribute("tabindex","-1"),v.appendChild(O).appendChild(document.createTextNode(k))},r.removeBacklink=v=>{v.querySelector(".seatmap-backlink")!==null&&v.removeChild(v.querySelector(".seatmap-backlink"))},r.zoomButtons=(v,b)=>{let x=document.createElement("div");x.classList.add("seatmap-zoom-controls");let k=c("seatmap-reset-zoom","reset-zoom",()=>b.dispatchEvent((0,s.internResetZoomEvent)({}))),O=c("seatmap-zoom-plus","zoom-in",()=>b.dispatchEvent((0,s.internZoomBy)({zoomBy:1.2}))),w=c("seatmap-zoom-minus","zoom-out",()=>b.dispatchEvent((0,s.internZoomBy)({zoomBy:.8})));x.appendChild(k),x.appendChild(O),x.appendChild(w),v.appendChild(x)};let c=(v,b,x)=>{let k=document.createElement("button");return k.addEventListener("click",x),k.classList.add(v,"seatmap-icon-button"),k.ariaLabel=b,k.setAttribute("tabindex","-1"),k}},8787:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(L,V,B,q){q===void 0&&(q=B);var W=Object.getOwnPropertyDescriptor(V,B);W&&!("get"in W?!V.__esModule:W.writable||W.configurable)||(W={enumerable:!0,get:function(){return V[B]}}),Object.defineProperty(L,q,W)}:function(L,V,B,q){q===void 0&&(q=B),L[q]=V[B]}),c=this&&this.__setModuleDefault||(Object.create?function(L,V){Object.defineProperty(L,"default",{enumerable:!0,value:V})}:function(L,V){L.default=V}),v=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var V={};if(L!=null)for(var B in L)B!=="default"&&Object.prototype.hasOwnProperty.call(L,B)&&s(V,L,B);return c(V,L),V};Object.defineProperty(r,"__esModule",{value:!0}),r.ViewportRectangleRenderer=void 0;let b=o(5320),x=o(9861),k=v(o(2697)),O=o(7939),w=o(8191),M=o(4141);class F extends b.EventHandler{constructor(V,B,q){super(),this.$internEventElement=V,this.$seatmap=B,this.renderer=q,this.areaId=0,this.addInternEventListener(V,"intern:zoomed",W=>this.updateMinimapViewportRectangle(this.areaId,W)),this.addInternEventListener(V,"intern:transform-values-initialised",()=>this.updateMinimapViewportRectangle(this.areaId)),this.addInternEventListener(V,"intern:switch-area",W=>this.updateMinimapViewportRectangle(W.detail.areaId)),this.renderViewportRectangle((0,O.visibleBoundsInZoomLayer)(this.$seatmap))}updateMinimapViewportRectangle(V,B){let q=this.renderer.svg.select(x.SEATMAP_AREA_LAYER).select(x.VIEWPORT_RECTANGLE);this.areaId=V,B&&(this.minZoom=B.detail.min,this.currentZoom=B.detail.transform.k);let W=(0,O.visibleBoundsInZoomLayer)(this.$seatmap);this.boundsEqual(W,q)||q.classed("hidden",this.areaId!==0||this.isMinZoom()).attr("x",W[0]).attr("y",W[1]).attr("width",W[2]).attr("height",W[3])}isMinZoom(){return!this.currentZoom||this.currentZoom-this.minZoom<1e-5}renderViewportRectangle(V){let B=(0,w.createWrapperGroup)(this.renderer.svg.select(".seatmap-area-layer"),"viewportRectangleWrapper");this.viewportRectangle=B.selectAll("viewport-rectangle").data([null]).join("rect").classed("viewport-rectangle",!0).attr("x",V[0]).attr("y",V[1]).attr("width",V[2]).attr("height",V[3]).call(k.drag().on("drag",q=>{let W=Number.parseInt(this.viewportRectangle.attr("x"),10)+q.dx,ie=Number.parseInt(this.viewportRectangle.attr("y"),10)+q.dy;this.viewportRectangle.attr("x",W).attr("y",ie)}).on("end",q=>{let W=Number.parseInt(this.viewportRectangle.attr("x"),10)+q.dx,ie=Number.parseInt(this.viewportRectangle.attr("y"),10)+q.dy,se=Number.parseInt(this.viewportRectangle.attr("width"),10),we=Number.parseInt(this.viewportRectangle.attr("height"),10);window.setTimeout(()=>{this.$internEventElement.dispatchEvent((0,M.translateTo)({x:W+se/2,y:ie+we/2}))},0)}))}boundsEqual(V,B){return B.attr("x")===String(V[0])&&B.attr("y")===String(V[1])&&B.attr("width")===String(V[2])&&B.attr("height")===String(V[3])}}r.ViewportRectangleRenderer=F},3454:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(B,q,W,ie){ie===void 0&&(ie=W);var se=Object.getOwnPropertyDescriptor(q,W);se&&!("get"in se?!q.__esModule:se.writable||se.configurable)||(se={enumerable:!0,get:function(){return q[W]}}),Object.defineProperty(B,ie,se)}:function(B,q,W,ie){ie===void 0&&(ie=W),B[ie]=q[W]}),c=this&&this.__setModuleDefault||(Object.create?function(B,q){Object.defineProperty(B,"default",{enumerable:!0,value:q})}:function(B,q){B.default=q}),v=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var q={};if(B!=null)for(var W in B)W!=="default"&&Object.prototype.hasOwnProperty.call(B,W)&&s(q,B,W);return c(q,B),q};Object.defineProperty(r,"__esModule",{value:!0}),r.ZoomLayer=r.DEBUG_ZOOM_TO_BOUNDS=void 0;let b=v(o(2697)),x=o(7939),k=o(9861),O=o(5320),w=o(2800),M=o(4141),F=o(8607),L=o(2987);r.DEBUG_ZOOM_TO_BOUNDS=!1;class V extends O.EventHandler{constructor(q,W,ie,se){super(),this.$seatmap=q,this.$internEventElement=W,this.renderer=ie,this.shouldDispatchZoom=!1,this.areaId=0,this.minZoom=0,this.maxZoom=4,this.panStartFired=!1,this.opts=se,this.addSeatmapEventListeners(),this.zoomLayer=this.svg.select(k.SEATMAP_ZOOM_LAYER),this.zoomBehavior=b.zoom().clickDistance(3).tapDistance(3).filter(we=>we.type!=="dblclick").on("zoom.default",we=>{var Me,_e;if(this.panStartFired||((Me=we.sourceEvent)===null||Me===void 0?void 0:Me.type)!=="mousemove"&&((_e=we.sourceEvent)===null||_e===void 0?void 0:_e.type)!=="touchmove"||(this.$internEventElement.dispatchEvent((0,M.internPanStartEvent)()),this.panStartFired=!0),(0,x.isValidTransform)(we)&&this.seatmap){let ke=we.transform;this.shouldDispatchZoom=!0,this.setTranslateExtend(ke,this.area.bounds),this.zoomLayer.attr("transform",ke.toString()),window.setTimeout(()=>{this.$internEventElement.dispatchEvent((0,M.zoomingEvent)({transform:ke}))},0)}}).on("end",we=>{var Me,_e;((Me=we.sourceEvent)===null||Me===void 0?void 0:Me.type)!=="mouseup"&&((_e=we.sourceEvent)===null||_e===void 0?void 0:_e.type)!=="touchend"||(this.$internEventElement.dispatchEvent((0,M.internPanEndEvent)()),this.panStartFired=!1),this.shouldDispatchZoom&&(this.shouldDispatchZoom=!1,window.setTimeout(()=>{let{transform:ke}=we;this.$internEventElement.dispatchEvent((0,M.zoomEndEvent)({min:this.minZoom,max:this.maxZoom,transform:ke}))},0))}).wheelDelta(we=>(we.preventDefault(),-we.deltaY*(we.deltaMode===1?.05:we.deltaMode?1:.002))),this.svg.call(this.zoomBehavior)}addSeatmapEventListeners(){this.addInternEventListener(this.$internEventElement,"intern:config-options-changed",q=>this.opts=q.detail),this.addInternEventListener(this.$internEventElement,"intern:zoom-by",q=>this.zoomBy(q.detail.zoomBy)),this.addInternEventListener(this.$internEventElement,"intern:translate-to",q=>this.translateTo(q.detail.x,q.detail.y)),this.addInternEventListener(this.$internEventElement,"intern:seatmap-initialized",q=>{this.seatmap=q.detail.seatmap,this.areaId=q.detail.areaId,this.initTransformValues()}),this.addInternEventListener(this.$internEventElement,"intern:switch-area",q=>{this.areaId=q.detail.areaId,this.initTransformValues(),this.resetZoom(0)}),this.addInternEventListener(this.$internEventElement,"intern:reset-zoom",q=>this.resetZoom(q.detail.duration)),this.addInternEventListener(this.$internEventElement,"intern:zoomToSelectables",q=>this.zoomToSelectables(q.detail.ids)),this.addInternEventListener(this.$internEventElement,"intern:zoomToSeatLevel",q=>this.zoomToSeatLevel(q.detail.point)),this.addInternEventListener(this.$internEventElement,"intern:zoom-to-scale",q=>this.zoomToScale(q.detail.scale)),this.addInternEventListener(this.$internEventElement,"intern:zoom-to-seatsize",q=>this.zoomToScale(q.detail.scale/(this.area.seatSize*this.renderer.scaleFactor))),this.addInternEventListener(this.$internEventElement,"intern:zoom-to-bounds",q=>this.zoomTo((0,w.zoomTransformForBounds)(q.detail.bounds,this.areaBounds),q.detail.duration))}initTransformValues(){this.areaBounds=this.seatmap.areas.find(q=>q.id===this.areaId).bounds,this.setScaleExtent(),this.setTranslateExtend(b.zoomIdentity,this.areaBounds),this.$internEventElement.dispatchEvent((0,M.transformValuesInitialised)())}resetZoom(q=500){this.zoomTo(b.zoomIdentity,q)}zoomTo(q,W=0){W===0?this.svg.call(this.zoomBehavior.transform,q):this.svg.transition().duration(W).call(this.zoomBehavior.transform,q)}zoomBy(q){this.svg.transition().duration(500).call(this.zoomBehavior.scaleBy,q)}translateTo(q,W){this.svg.transition().duration(500).call(this.zoomBehavior.translateTo,q,W)}zoomToScale(q,W){this.svg.transition().duration(500).call(this.zoomBehavior.scaleTo,q,W)}zoomToSelectables(q){let W=this.getSelectables(q);if(W.length>0){let ie=W.map(ke=>ke.areaId).filter((ke,be,Te)=>Te.indexOf(ke)===be),se=this.seatmap.areas.find(ke=>ke.id===(ie.length>1?0:ie[0]));this.areaId!==se.id&&this.$internEventElement.dispatchEvent((0,M.internSwitchAreaEvent)({areaId:se.id,seatmap:this.seatmap}));let we=[null,null,null,null];we=(0,F.allBlocksFlat)(this.seatmap,se.id).filter(ke=>(0,k.isLinkedBlock)(ke)&&ie.includes(ke.linkedAreaId)).reduce((ke,be)=>(0,x.combineBounds)(ke,(0,w.getBoundsForBlocks)(be)),we),we=W.filter(ke=>ke.areaId===se.id).reduce((ke,be)=>(0,k.isSeat)(be)?(0,x.combineBounds)(ke,(0,w.getBoundsForSeat)(be,se.seatSize)):(0,k.isGeneralAdmission)(be)?(0,x.combineBounds)(ke,(0,w.getBoundsForBlocks)(be)):ke,we);let Me=r.DEBUG_ZOOM_TO_BOUNDS?[0,0]:[2*se.seatSize,2*se.seatSize],_e=(0,w.zoomTransformForBounds)(we,se.bounds,Me,r.DEBUG_ZOOM_TO_BOUNDS?void 0:this.maxZoom);r.DEBUG_ZOOM_TO_BOUNDS&&b.select(".seatmap-area-layer").selectAll("bound-rect").data([we]).join("rect").attr("x",ke=>ke[0]).attr("y",ke=>ke[1]).attr("width",ke=>ke[2]).attr("height",ke=>ke[3]).attr("fill","none").attr("stroke","black"),this.zoomTo(_e,500)}}getSelectables(q){let W=q.filter(se=>(0,L.isSeatElementId)(se)).map(L.idFromElementId),ie=q.filter(se=>(0,L.isGAElementId)(se)).map(L.idFromElementId);return Object.values(this.seatmap.seatIdToSeat).filter(se=>W.includes(se.id)).concat(Object.values(this.seatmap.gaIdToGa).filter(se=>ie.includes(se.id)))}get area(){return this.seatmap.areas.find(q=>q.id===this.areaId)}zoomToSeatLevel(q){this.zoomToScale(this.renderer.seatLevelZoomThreshold,q)}setTranslateExtend(q,W){if(W){let ie=this.$seatmap.getBoundingClientRect(),se=ie.width,we=ie.height,Me=[W[0]-se/2/this.renderer.scaleFactor/q.k,W[1]-we/2/this.renderer.scaleFactor/q.k],_e=[W[0]+W[2]+se/2/this.renderer.scaleFactor/q.k,W[1]+W[3]+we/2/this.renderer.scaleFactor/q.k];this.zoomBehavior.translateExtent([Me,_e])}}setScaleExtent(){this.maxZoom=Math.max(1,this.renderer.optimalSeatSize,this.renderer.seatLevelZoomThreshold),this.minZoom=1,this.zoomBehavior.scaleExtent([this.minZoom,this.maxZoom])}get svg(){return this.renderer.svg}}r.ZoomLayer=V},4257:function(n,r,o){"use strict";var s=this&&this.__createBinding||(Object.create?function(v,b,x,k){k===void 0&&(k=x);var O=Object.getOwnPropertyDescriptor(b,x);O&&!("get"in O?!b.__esModule:O.writable||O.configurable)||(O={enumerable:!0,get:function(){return b[x]}}),Object.defineProperty(v,k,O)}:function(v,b,x,k){k===void 0&&(k=x),v[k]=b[x]}),c=this&&this.__exportStar||function(v,b){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(b,x)||s(b,v,x)};Object.defineProperty(r,"__esModule",{value:!0}),o(5765),c(o(8831),r),c(o(9534),r),c(o(9861),r),c(o(2987),r),c(o(9278),r),c(o(1143),r),c(o(9101),r),c(o(2475),r),c(o(7443),r),c(o(2256),r)},5765:()=>{function n(r,o,s,c,v){if(!s.hasChildNodes())return;let b=Array.from(s.childNodes);for(let x=0;x<b.length;x++)if(b[x]instanceof SVGElement){let k=b[x];if(k instanceof SVGGraphicsElement&&!(k instanceof SVGGElement)){let O=k;try{let w=O.getBBox(),M=c.createSVGPoint();M.x=o.x,M.y=o.y;let F=c.createSVGPoint();F.x=o.x+o.width,F.y=o.y+o.height;let L=O.getCTM().inverse();M=M.matrixTransform(L),F=F.matrixTransform(L),v(w,M,F)&&r.push(k)}catch{}}k.hasChildNodes()&&n(r,o,k,c,v)}}SVGSVGElement.prototype.getEnclosureList||(SVGSVGElement.prototype.getEnclosureList=function(r,o){let s=[];return n(s,r,o||this,this,(c,v,b)=>c.y>=v.y&&c.x>=v.x&&c.y+c.height<=b.y&&c.x+c.width<=b.x),s}),SVGSVGElement.prototype.getIntersectionList||(SVGSVGElement.prototype.getIntersectionList=function(r,o){let s=[];return n(s,r,o||this,this,(c,v,b)=>c.y>=v.y&&c.x>=v.x&&c.y+c.height<=b.y&&c.x+c.width<=b.x),s})},8258:(n,r,o)=>{"use strict";function s(w){for(var M,F=-1,L=w.length,V=w[L-1],B=0;++F<L;)M=V,V=w[F],B+=M[1]*V[0]-M[0]*V[1];return B/2}function c(w){for(var M,F,L=-1,V=w.length,B=0,q=0,W=w[V-1],ie=0;++L<V;)M=W,W=w[L],ie+=F=M[0]*W[1]-W[0]*M[1],B+=(M[0]+W[0])*F,q+=(M[1]+W[1])*F;return[B/(ie*=3),q/ie]}function v(w,M){return w[0]-M[0]||w[1]-M[1]}function b(w){let M=w.length,F=[0,1],L,V=2;for(L=2;L<M;++L){for(;V>1&&(B=w[F[V-2]],q=w[F[V-1]],W=w[L],(q[0]-B[0])*(W[1]-B[1])-(q[1]-B[1])*(W[0]-B[0])<=0);)--V;F[V++]=L}var B,q,W;return F.slice(0,V)}function x(w){if((F=w.length)<3)return null;var M,F,L=new Array(F),V=new Array(F);for(M=0;M<F;++M)L[M]=[+w[M][0],+w[M][1],M];for(L.sort(v),M=0;M<F;++M)V[M]=[L[M][0],-L[M][1]];var B=b(L),q=b(V),W=q[0]===B[0],ie=q[q.length-1]===B[B.length-1],se=[];for(M=B.length-1;M>=0;--M)se.push(w[L[B[M]][2]]);for(M=+W;M<q.length-ie;++M)se.push(w[L[q[M]][2]]);return se}function k(w,M){for(var F,L,V=w.length,B=w[V-1],q=M[0],W=M[1],ie=B[0],se=B[1],we=!1,Me=0;Me<V;++Me)F=(B=w[Me])[0],(L=B[1])>W!=se>W&&q<(ie-F)*(W-L)/(se-L)+F&&(we=!we),ie=F,se=L;return we}function O(w){for(var M,F,L=-1,V=w.length,B=w[V-1],q=B[0],W=B[1],ie=0;++L<V;)M=q,F=W,M-=q=(B=w[L])[0],F-=W=B[1],ie+=Math.hypot(M,F);return ie}o.r(r),o.d(r,{polygonArea:()=>s,polygonCentroid:()=>c,polygonContains:()=>k,polygonHull:()=>x,polygonLength:()=>O})},2697:(n,r,o)=>{"use strict";function s(a,l){return a==null||l==null?NaN:a<l?-1:a>l?1:a>=l?0:NaN}function c(a,l){return a==null||l==null?NaN:l<a?-1:l>a?1:l>=a?0:NaN}function v(a){let l,u,p;function m(_,I,S=0,P=_.length){if(S<P){if(l(I,I)!==0)return P;do{let A=S+P>>>1;u(_[A],I)<0?S=A+1:P=A}while(S<P)}return S}return a.length!==2?(l=s,u=(_,I)=>s(a(_),I),p=(_,I)=>a(_)-I):(l=a===s||a===c?a:b,u=a,p=a),{left:m,center:function(_,I,S=0,P=_.length){let A=m(_,I,S,P-1);return A>S&&p(_[A-1],I)>-p(_[A],I)?A-1:A},right:function(_,I,S=0,P=_.length){if(S<P){if(l(I,I)!==0)return P;do{let A=S+P>>>1;u(_[A],I)<=0?S=A+1:P=A}while(S<P)}return S}}}function b(){return 0}function x(a){return a===null?NaN:+a}o.r(r),o.d(r,{Adder:()=>Ke,Delaunay:()=>xg,FormatSpecifier:()=>KI,InternMap:()=>$e,InternSet:()=>ot,Node:()=>iC,Path:()=>_g,Voronoi:()=>Ig,ZoomTransform:()=>Of,active:()=>Xb,arc:()=>qle,area:()=>WV,areaRadial:()=>XV,ascending:()=>s,autoType:()=>OI,axisBottom:()=>Tb,axisLeft:()=>bb,axisRight:()=>Eb,axisTop:()=>yb,bin:()=>B0,bisect:()=>F,bisectCenter:()=>M,bisectLeft:()=>w,bisectRight:()=>O,bisector:()=>v,blob:()=>N,blur:()=>L,blur2:()=>V,blurImage:()=>B,brush:()=>Zu,brushSelection:()=>eI,brushX:()=>lP,brushY:()=>tI,buffer:()=>ge,chord:()=>nI,chordDirected:()=>iI,chordTranspose:()=>zs,cluster:()=>soe,color:()=>em,contourDensity:()=>bI,contours:()=>Oy,count:()=>we,create:()=>Fle,creator:()=>nf,cross:()=>be,csv:()=>Ht,csvFormat:()=>vP,csvFormatBody:()=>Fy,csvFormatRow:()=>_P,csvFormatRows:()=>Ly,csvFormatValue:()=>CP,csvParse:()=>kI,csvParseRows:()=>gP,cubehelix:()=>Hc,cumsum:()=>Te,curveBasis:()=>pce,curveBasisClosed:()=>mce,curveBasisOpen:()=>fce,curveBumpX:()=>ZV,curveBumpY:()=>ej,curveBundle:()=>hce,curveCardinal:()=>gce,curveCardinalClosed:()=>vce,curveCardinalOpen:()=>_ce,curveCatmullRom:()=>Cce,curveCatmullRomClosed:()=>yce,curveCatmullRomOpen:()=>Ece,curveLinear:()=>Rk,curveLinearClosed:()=>Tce,curveMonotoneX:()=>bce,curveMonotoneY:()=>Ice,curveNatural:()=>Sce,curveStep:()=>xce,curveStepAfter:()=>Pce,curveStepBefore:()=>Ace,descending:()=>c,deviation:()=>pt,difference:()=>dn,disjoint:()=>wc,dispatch:()=>kh,drag:()=>AI,dragDisable:()=>of,dragEnable:()=>J0,dsv:()=>vt,dsvFormat:()=>yf,easeBack:()=>$I,easeBackIn:()=>RP,easeBackInOut:()=>$I,easeBackOut:()=>MP,easeBounce:()=>bf,easeBounceIn:()=>Ky,easeBounceInOut:()=>qy,easeBounceOut:()=>bf,easeCircle:()=>H_,easeCircleIn:()=>PP,easeCircleInOut:()=>H_,easeCircleOut:()=>Ll,easeCubic:()=>Ft,easeCubicIn:()=>Wi,easeCubicInOut:()=>Ft,easeCubicOut:()=>Rt,easeElastic:()=>HI,easeElasticIn:()=>FP,easeElasticInOut:()=>f,easeElasticOut:()=>HI,easeExp:()=>BI,easeExpIn:()=>AP,easeExpInOut:()=>BI,easeExpOut:()=>Hy,easeLinear:()=>Vh,easePoly:()=>MI,easePolyIn:()=>IP,easePolyInOut:()=>MI,easePolyOut:()=>SP,easeQuad:()=>By,easeQuadIn:()=>bP,easeQuadInOut:()=>By,easeQuadOut:()=>RI,easeSin:()=>$y,easeSinIn:()=>xP,easeSinInOut:()=>$y,easeSinOut:()=>Uy,every:()=>H1,extent:()=>$t,fcumsum:()=>Fe,filter:()=>Gv,flatGroup:()=>Co,flatRollup:()=>js,forceCenter:()=>In,forceCollide:()=>If,forceLink:()=>VI,forceManyBody:()=>WH,forceRadial:()=>zH,forceSimulation:()=>qH,forceX:()=>YH,forceY:()=>JH,format:()=>WI,formatDefaultLocale:()=>K3,formatLocale:()=>G3,formatPrefix:()=>LP,formatSpecifier:()=>z_,fsum:()=>rt,geoAlbers:()=>w9,geoAlbersUsa:()=>Gre,geoArea:()=>t9,geoAzimuthalEqualArea:()=>Kre,geoAzimuthalEqualAreaRaw:()=>YF,geoAzimuthalEquidistant:()=>qre,geoAzimuthalEquidistantRaw:()=>JF,geoBounds:()=>o9,geoCentroid:()=>u9,geoCircle:()=>p9,geoClipAntimeridian:()=>tk,geoClipCircle:()=>AF,geoClipExtent:()=>h9,geoClipRectangle:()=>gS,geoConicConformal:()=>zre,geoConicConformalRaw:()=>N9,geoConicEqualArea:()=>sk,geoConicEqualAreaRaw:()=>k9,geoConicEquidistant:()=>Jre,geoConicEquidistantRaw:()=>R9,geoContains:()=>E9,geoDistance:()=>vS,geoEqualEarth:()=>Xre,geoEqualEarthRaw:()=>XF,geoEquirectangular:()=>Yre,geoEquirectangularRaw:()=>bS,geoGnomonic:()=>Qre,geoGnomonicRaw:()=>QF,geoGraticule:()=>LF,geoGraticule10:()=>T9,geoIdentity:()=>Zre,geoInterpolate:()=>b9,geoLength:()=>PF,geoMercator:()=>Wre,geoMercatorRaw:()=>TS,geoNaturalEarth1:()=>eoe,geoNaturalEarth1Raw:()=>ZF,geoOrthographic:()=>toe,geoOrthographicRaw:()=>eL,geoPath:()=>$re,geoProjection:()=>kf,geoProjectionMutator:()=>WF,geoRotation:()=>CF,geoStereographic:()=>noe,geoStereographicRaw:()=>tL,geoStream:()=>sp,geoTransform:()=>Hre,geoTransverseMercator:()=>ioe,geoTransverseMercatorRaw:()=>nL,gray:()=>pI,greatest:()=>U0,greatestIndex:()=>jv,group:()=>Nt,groupSort:()=>sd,groups:()=>Hn,hcl:()=>P_,hierarchy:()=>iL,histogram:()=>B0,hsl:()=>n_,html:()=>hn,image:()=>on,index:()=>ju,indexes:()=>Kp,interpolate:()=>ls,interpolateArray:()=>sy,interpolateBasis:()=>eg,interpolateBasisClosed:()=>nc,interpolateBlues:()=>vle,interpolateBrBG:()=>Jse,interpolateBuGn:()=>ole,interpolateBuPu:()=>ale,interpolateCividis:()=>ble,interpolateCool:()=>xle,interpolateCubehelix:()=>$oe,interpolateCubehelixDefault:()=>Ile,interpolateCubehelixLong:()=>gk,interpolateDate:()=>tg,interpolateDiscrete:()=>Noe,interpolateGnBu:()=>sle,interpolateGreens:()=>_le,interpolateGreys:()=>Cle,interpolateHcl:()=>Boe,interpolateHclLong:()=>Uoe,interpolateHsl:()=>Moe,interpolateHslLong:()=>Foe,interpolateHue:()=>Roe,interpolateInferno:()=>Rle,interpolateLab:()=>Loe,interpolateMagma:()=>Nle,interpolateNumber:()=>Mc,interpolateNumberArray:()=>ay,interpolateObject:()=>ly,interpolateOrRd:()=>lle,interpolateOranges:()=>Tle,interpolatePRGn:()=>Xse,interpolatePiYG:()=>Qse,interpolatePlasma:()=>Mle,interpolatePuBu:()=>dle,interpolatePuBuGn:()=>cle,interpolatePuOr:()=>Zse,interpolatePuRd:()=>ule,interpolatePurples:()=>yle,interpolateRainbow:()=>Ale,interpolateRdBu:()=>ele,interpolateRdGy:()=>tle,interpolateRdPu:()=>ple,interpolateRdYlBu:()=>nle,interpolateRdYlGn:()=>ile,interpolateReds:()=>Ele,interpolateRgb:()=>vd,interpolateRgbBasis:()=>oy,interpolateRgbBasisClosed:()=>Hb,interpolateRound:()=>hk,interpolateSinebow:()=>wle,interpolateSpectral:()=>rle,interpolateString:()=>Ju,interpolateTransformCss:()=>vr,interpolateTransformSvg:()=>Kb,interpolateTurbo:()=>Dle,interpolateViridis:()=>Ole,interpolateWarm:()=>Sle,interpolateYlGn:()=>fle,interpolateYlGnBu:()=>mle,interpolateYlOrBr:()=>hle,interpolateYlOrRd:()=>gle,interpolateZoom:()=>e7,interrupt:()=>am,intersection:()=>ud,interval:()=>Gce,isoFormat:()=>Hce,isoParse:()=>jce,json:()=>Kn,lab:()=>x_,lch:()=>wy,least:()=>F1,leastIndex:()=>L1,line:()=>LL,lineRadial:()=>JV,link:()=>Mk,linkHorizontal:()=>tce,linkRadial:()=>ice,linkVertical:()=>nce,local:()=>jV,map:()=>hb,matcher:()=>su,max:()=>qu,maxIndex:()=>ia,mean:()=>Sh,median:()=>Zm,medianIndex:()=>Yp,merge:()=>rs,min:()=>Jm,minIndex:()=>Xm,mode:()=>wl,namespace:()=>tf,namespaces:()=>W0,nice:()=>Ku,now:()=>om,pack:()=>Coe,packEnclose:()=>foe,packSiblings:()=>voe,pairs:()=>xh,partition:()=>yoe,path:()=>_f,pathRound:()=>rI,permute:()=>Gu,pie:()=>Jle,piecewise:()=>r7,pointRadial:()=>jS,pointer:()=>Ol,pointers:()=>Ble,polygonArea:()=>wS.polygonArea,polygonCentroid:()=>wS.polygonCentroid,polygonContains:()=>wS.polygonContains,polygonHull:()=>wS.polygonHull,polygonLength:()=>wS.polygonLength,precisionFixed:()=>q3,precisionPrefix:()=>W3,precisionRound:()=>z3,quadtree:()=>Ci,quantile:()=>cd,quantileIndex:()=>Qm,quantileSorted:()=>Ih,quantize:()=>Hoe,quickselect:()=>ld,radialArea:()=>XV,radialLine:()=>JV,randomBates:()=>Koe,randomBernoulli:()=>zoe,randomBeta:()=>s7,randomBinomial:()=>l7,randomCauchy:()=>Joe,randomExponential:()=>qoe,randomGamma:()=>pL,randomGeometric:()=>a7,randomInt:()=>joe,randomIrwinHall:()=>o7,randomLcg:()=>tae,randomLogNormal:()=>Goe,randomLogistic:()=>Xoe,randomNormal:()=>uL,randomPareto:()=>Woe,randomPoisson:()=>Qoe,randomUniform:()=>Voe,randomWeibull:()=>Yoe,range:()=>au,rank:()=>V0,reduce:()=>gb,reverse:()=>j1,rgb:()=>gd,ribbon:()=>Ty,ribbonArrow:()=>by,rollup:()=>ca,rollups:()=>Da,scaleBand:()=>hL,scaleDiverging:()=>mV,scaleDivergingLog:()=>fV,scaleDivergingPow:()=>NL,scaleDivergingSqrt:()=>Bse,scaleDivergingSymlog:()=>hV,scaleIdentity:()=>f7,scaleImplicit:()=>mL,scaleLinear:()=>m7,scaleLog:()=>C7,scaleOrdinal:()=>fL,scalePoint:()=>nae,scalePow:()=>EL,scaleQuantile:()=>x7,scaleQuantize:()=>A7,scaleRadial:()=>S7,scaleSequential:()=>cV,scaleSequentialLog:()=>dV,scaleSequentialPow:()=>OL,scaleSequentialQuantile:()=>pV,scaleSequentialSqrt:()=>Lse,scaleSequentialSymlog:()=>uV,scaleSqrt:()=>dae,scaleSymlog:()=>T7,scaleThreshold:()=>P7,scaleTime:()=>Mse,scaleUtc:()=>Fse,scan:()=>Ah,schemeAccent:()=>$se,schemeBlues:()=>LV,schemeBrBG:()=>gV,schemeBuGn:()=>SV,schemeBuPu:()=>xV,schemeCategory10:()=>Use,schemeDark2:()=>Hse,schemeGnBu:()=>AV,schemeGreens:()=>BV,schemeGreys:()=>UV,schemeObservable10:()=>Vse,schemeOrRd:()=>PV,schemeOranges:()=>VV,schemePRGn:()=>vV,schemePaired:()=>jse,schemePastel1:()=>Gse,schemePastel2:()=>Kse,schemePiYG:()=>_V,schemePuBu:()=>wV,schemePuBuGn:()=>kV,schemePuOr:()=>CV,schemePuRd:()=>DV,schemePurples:()=>$V,schemeRdBu:()=>yV,schemeRdGy:()=>EV,schemeRdPu:()=>OV,schemeRdYlBu:()=>TV,schemeRdYlGn:()=>bV,schemeReds:()=>HV,schemeSet1:()=>qse,schemeSet2:()=>Wse,schemeSet3:()=>zse,schemeSpectral:()=>IV,schemeTableau10:()=>Yse,schemeYlGn:()=>RV,schemeYlGnBu:()=>NV,schemeYlOrBr:()=>MV,schemeYlOrRd:()=>FV,select:()=>as,selectAll:()=>Ule,selection:()=>ec,selector:()=>md,selectorAll:()=>Uo,shuffle:()=>ef,shuffler:()=>dd,some:()=>V1,sort:()=>ad,stack:()=>Dce,stackOffsetDiverging:()=>Nce,stackOffsetExpand:()=>Oce,stackOffsetNone:()=>dE,stackOffsetSilhouette:()=>Rce,stackOffsetWiggle:()=>Mce,stackOrderAppearance:()=>kj,stackOrderAscending:()=>wj,stackOrderDescending:()=>Lce,stackOrderInsideOut:()=>Bce,stackOrderNone:()=>uE,stackOrderReverse:()=>Uce,stratify:()=>Ioe,style:()=>zu,subset:()=>jA,sum:()=>j0,superset:()=>Br,svg:()=>Ei,symbol:()=>uce,symbolAsterisk:()=>tj,symbolCircle:()=>Fk,symbolCross:()=>nj,symbolDiamond:()=>rj,symbolDiamond2:()=>oj,symbolPlus:()=>aj,symbolSquare:()=>sj,symbolSquare2:()=>lj,symbolStar:()=>dj,symbolTimes:()=>HL,symbolTriangle:()=>uj,symbolTriangle2:()=>pj,symbolWye:()=>mj,symbolX:()=>HL,symbols:()=>fj,symbolsFill:()=>fj,symbolsStroke:()=>dce,text:()=>He,thresholdFreedmanDiaconis:()=>$0,thresholdScott:()=>H0,thresholdSturges:()=>zp,tickFormat:()=>p7,tickIncrement:()=>ul,tickStep:()=>ou,ticks:()=>Ks,timeDay:()=>oE,timeDays:()=>hae,timeFormat:()=>kL,timeFormatDefaultLocale:()=>lV,timeFormatLocale:()=>q7,timeFriday:()=>N7,timeFridays:()=>Tae,timeHour:()=>Ek,timeHours:()=>mae,timeInterval:()=>Os,timeMillisecond:()=>rE,timeMilliseconds:()=>k7,timeMinute:()=>Ck,timeMinutes:()=>uae,timeMonday:()=>FS,timeMondays:()=>_ae,timeMonth:()=>bk,timeMonths:()=>wae,timeParse:()=>W7,timeSaturday:()=>R7,timeSaturdays:()=>bae,timeSecond:()=>Wh,timeSeconds:()=>w7,timeSunday:()=>aE,timeSundays:()=>M7,timeThursday:()=>aC,timeThursdays:()=>Eae,timeTickInterval:()=>K7,timeTicks:()=>G7,timeTuesday:()=>D7,timeTuesdays:()=>Cae,timeWednesday:()=>O7,timeWednesdays:()=>yae,timeWeek:()=>aE,timeWeeks:()=>M7,timeYear:()=>wf,timeYears:()=>Oae,timeout:()=>pf,timer:()=>ys,timerFlush:()=>r_,transition:()=>_n,transpose:()=>B1,tree:()=>Poe,treemap:()=>koe,treemapBinary:()=>woe,treemapDice:()=>kS,treemapResquarify:()=>Ooe,treemapSlice:()=>fk,treemapSliceDice:()=>Doe,treemapSquarify:()=>Q9,tsv:()=>Ut,tsvFormat:()=>yP,tsvFormatBody:()=>wI,tsvFormatRow:()=>TP,tsvFormatRows:()=>EP,tsvFormatValue:()=>DI,tsvParse:()=>ds,tsvParseRows:()=>Fl,union:()=>Go,unixDay:()=>xL,unixDays:()=>vae,utcDay:()=>MS,utcDays:()=>gae,utcFormat:()=>Sk,utcFriday:()=>B7,utcFridays:()=>Pae,utcHour:()=>Tk,utcHours:()=>fae,utcMillisecond:()=>rE,utcMilliseconds:()=>k7,utcMinute:()=>yk,utcMinutes:()=>pae,utcMonday:()=>LS,utcMondays:()=>Iae,utcMonth:()=>Ik,utcMonths:()=>Dae,utcParse:()=>wL,utcSaturday:()=>U7,utcSaturdays:()=>kae,utcSecond:()=>Wh,utcSeconds:()=>w7,utcSunday:()=>sE,utcSundays:()=>$7,utcThursday:()=>lC,utcThursdays:()=>Aae,utcTickInterval:()=>j7,utcTicks:()=>V7,utcTuesday:()=>F7,utcTuesdays:()=>Sae,utcWednesday:()=>L7,utcWednesdays:()=>xae,utcWeek:()=>sE,utcWeeks:()=>$7,utcYear:()=>Df,utcYears:()=>Nae,variance:()=>Ye,window:()=>Q1,xml:()=>jt,zip:()=>$1,zoom:()=>Xce,zoomIdentity:()=>jk,zoomTransform:()=>Nj});let k=v(s),O=k.right,w=k.left,M=v(x).center,F=O;function L(a,l){if(!((l=+l)>=0))throw new RangeError("invalid r");let u=a.length;if(!((u=Math.floor(u))>=0))throw new RangeError("invalid length");if(!u||!l)return a;let p=se(l),m=a.slice();return p(a,m,0,u,1),p(m,a,0,u,1),p(a,m,0,u,1),a}let V=q(se),B=q(function(a){let l=se(a);return(u,p,m,_,I)=>{l(u,p,0+(m<<=2),0+(_<<=2),I<<=2),l(u,p,m+1,_+1,I),l(u,p,m+2,_+2,I),l(u,p,m+3,_+3,I)}});function q(a){return function(l,u,p=u){if(!((u=+u)>=0))throw new RangeError("invalid rx");if(!((p=+p)>=0))throw new RangeError("invalid ry");let{data:m,width:_,height:I}=l;if(!((_=Math.floor(_))>=0))throw new RangeError("invalid width");if(!((I=Math.floor(I!==void 0?I:m.length/_))>=0))throw new RangeError("invalid height");if(!_||!I||!u&&!p)return l;let S=u&&a(u),P=p&&a(p),A=m.slice();return S&&P?(W(S,A,m,_,I),W(S,m,A,_,I),W(S,A,m,_,I),ie(P,m,A,_,I),ie(P,A,m,_,I),ie(P,m,A,_,I)):S?(W(S,m,A,_,I),W(S,A,m,_,I),W(S,m,A,_,I)):P&&(ie(P,m,A,_,I),ie(P,A,m,_,I),ie(P,m,A,_,I)),l}}function W(a,l,u,p,m){for(let _=0,I=p*m;_<I;)a(l,u,_,_+=p,1)}function ie(a,l,u,p,m){for(let _=0,I=p*m;_<p;++_)a(l,u,_,_+I,p)}function se(a){let l=Math.floor(a);if(l===a)return function(m){let _=2*m+1;return(I,S,P,A,G)=>{if(!((A-=G)>=P))return;let X=m*S[P],z=G*m;for(let te=P,de=P+z;te<de;te+=G)X+=S[Math.min(A,te)];for(let te=P,de=A;te<=de;te+=G)X+=S[Math.min(A,te+z)],I[te]=X/_,X-=S[Math.max(P,te-z)]}}(a);let u=a-l,p=2*a+1;return(m,_,I,S,P)=>{if(!((S-=P)>=I))return;let A=l*_[I],G=P*l,X=G+P;for(let z=I,te=I+G;z<te;z+=P)A+=_[Math.min(S,z)];for(let z=I,te=S;z<=te;z+=P)A+=_[Math.min(S,z+G)],m[z]=(A+u*(_[Math.max(I,z-X)]+_[Math.min(S,z+X)]))/p,A-=_[Math.max(I,z-G)]}}function we(a,l){let u=0;if(l===void 0)for(let p of a)p!=null&&(p=+p)>=p&&++u;else{let p=-1;for(let m of a)(m=l(m,++p,a))!=null&&(m=+m)>=m&&++u}return u}function Me(a){return 0|a.length}function _e(a){return!(a>0)}function ke(a){return typeof a!="object"||"length"in a?a:Array.from(a)}function be(...a){let l=typeof a[a.length-1]=="function"&&function(I){return S=>I(...S)}(a.pop()),u=(a=a.map(ke)).map(Me),p=a.length-1,m=new Array(p+1).fill(0),_=[];if(p<0||u.some(_e))return _;for(;;){_.push(m.map((S,P)=>a[P][S]));let I=p;for(;++m[I]===u[I];){if(I===0)return l?_.map(l):_;m[I--]=0}}}function Te(a,l){var u=0,p=0;return Float64Array.from(a,l===void 0?m=>u+=+m||0:m=>u+=+l(m,p++,a)||0)}function Ye(a,l){let u,p=0,m=0,_=0;if(l===void 0)for(let I of a)I!=null&&(I=+I)>=I&&(u=I-m,m+=u/++p,_+=u*(I-m));else{let I=-1;for(let S of a)(S=l(S,++I,a))!=null&&(S=+S)>=S&&(u=S-m,m+=u/++p,_+=u*(S-m))}if(p>1)return _/(p-1)}function pt(a,l){let u=Ye(a,l);return u&&Math.sqrt(u)}function $t(a,l){let u,p;if(l===void 0)for(let m of a)m!=null&&(u===void 0?m>=m&&(u=p=m):(u>m&&(u=m),p<m&&(p=m)));else{let m=-1;for(let _ of a)(_=l(_,++m,a))!=null&&(u===void 0?_>=_&&(u=p=_):(u>_&&(u=_),p<_&&(p=_)))}return[u,p]}class Ke{constructor(){this._partials=new Float64Array(32),this._n=0}add(l){let u=this._partials,p=0;for(let m=0;m<this._n&&m<32;m++){let _=u[m],I=l+_,S=Math.abs(l)<Math.abs(_)?l-(I-_):_-(I-l);S&&(u[p++]=S),l=I}return u[p]=l,this._n=p+1,this}valueOf(){let l=this._partials,u,p,m,_=this._n,I=0;if(_>0){for(I=l[--_];_>0&&(u=I,p=l[--_],I=u+p,m=p-(I-u),!m););_>0&&(m<0&&l[_-1]<0||m>0&&l[_-1]>0)&&(p=2*m,u=I+p,p==u-I&&(I=u))}return I}}function rt(a,l){let u=new Ke;if(l===void 0)for(let p of a)(p=+p)&&u.add(p);else{let p=-1;for(let m of a)(m=+l(m,++p,a))&&u.add(m)}return+u}function Fe(a,l){let u=new Ke,p=-1;return Float64Array.from(a,l===void 0?m=>u.add(+m||0):m=>u.add(+l(m,++p,a)||0))}class $e extends Map{constructor(l,u=Ge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:u}}),l!=null)for(let[p,m]of l)this.set(p,m)}get(l){return super.get(it(this,l))}has(l){return super.has(it(this,l))}set(l,u){return super.set(mt(this,l),u)}delete(l){return super.delete(ln(this,l))}}class ot extends Set{constructor(l,u=Ge){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:u}}),l!=null)for(let p of l)this.add(p)}has(l){return super.has(it(this,l))}add(l){return super.add(mt(this,l))}delete(l){return super.delete(ln(this,l))}}function it({_intern:a,_key:l},u){let p=l(u);return a.has(p)?a.get(p):u}function mt({_intern:a,_key:l},u){let p=l(u);return a.has(p)?a.get(p):(a.set(p,u),u)}function ln({_intern:a,_key:l},u){let p=l(u);return a.has(p)&&(u=a.get(p),a.delete(p)),u}function Ge(a){return a!==null&&typeof a=="object"?a.valueOf():a}function It(a){return a}function Nt(a,...l){return Jl(a,It,It,l)}function Hn(a,...l){return Jl(a,Array.from,It,l)}function Lr(a,l){for(let u=1,p=l.length;u<p;++u)a=a.flatMap(m=>m.pop().map(([_,I])=>[...m,_,I]));return a}function Co(a,...l){return Lr(Hn(a,...l),l)}function js(a,l,...u){return Lr(Da(a,l,...u),u)}function ca(a,l,...u){return Jl(a,It,l,u)}function Da(a,l,...u){return Jl(a,Array.from,l,u)}function ju(a,...l){return Jl(a,It,qp,l)}function Kp(a,...l){return Jl(a,Array.from,qp,l)}function qp(a){if(a.length!==1)throw new Error("duplicate key");return a[0]}function Jl(a,l,u,p){return function m(_,I){if(I>=p.length)return u(_);let S=new $e,P=p[I++],A=-1;for(let G of _){let X=P(G,++A,_),z=S.get(X);z?z.push(G):S.set(X,[G])}for(let[G,X]of S)S.set(G,m(X,I));return l(S)}(a,0)}function Gu(a,l){return Array.from(l,u=>a[u])}function ad(a,...l){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");a=Array.from(a);let[u]=l;if(u&&u.length!==2||l.length>1){let p=Uint32Array.from(a,(m,_)=>_);return l.length>1?(l=l.map(m=>a.map(m)),p.sort((m,_)=>{for(let I of l){let S=Oa(I[m],I[_]);if(S)return S}})):(u=a.map(u),p.sort((m,_)=>Oa(u[m],u[_]))),Gu(a,p)}return a.sort(Gs(u))}function Gs(a=s){if(a===s)return Oa;if(typeof a!="function")throw new TypeError("compare is not a function");return(l,u)=>{let p=a(l,u);return p||p===0?p:(a(u,u)===0)-(a(l,l)===0)}}function Oa(a,l){return(a==null||!(a>=a))-(l==null||!(l>=l))||(a<l?-1:a>l?1:0)}function sd(a,l,u){return(l.length!==2?ad(ca(a,l,u),([p,m],[_,I])=>s(m,I)||s(p,_)):ad(Nt(a,u),([p,m],[_,I])=>l(m,I)||s(p,_))).map(([p])=>p)}var ru=Array.prototype,Ym=ru.slice;function Xl(a){return()=>a}ru.map;let Pc=Math.sqrt(50),L0=Math.sqrt(10),bh=Math.sqrt(2);function Wp(a,l,u){let p=(l-a)/Math.max(0,u),m=Math.floor(Math.log10(p)),_=p/Math.pow(10,m),I=_>=Pc?10:_>=L0?5:_>=bh?2:1,S,P,A;return m<0?(A=Math.pow(10,-m)/I,S=Math.round(a*A),P=Math.round(l*A),S/A<a&&++S,P/A>l&&--P,A=-A):(A=Math.pow(10,m)*I,S=Math.round(a/A),P=Math.round(l/A),S*A<a&&++S,P*A>l&&--P),P<S&&.5<=u&&u<2?Wp(a,l,2*u):[S,P,A]}function Ks(a,l,u){if(!((u=+u)>0))return[];if((a=+a)==(l=+l))return[a];let p=l<a,[m,_,I]=p?Wp(l,a,u):Wp(a,l,u);if(!(_>=m))return[];let S=_-m+1,P=new Array(S);if(p)if(I<0)for(let A=0;A<S;++A)P[A]=(_-A)/-I;else for(let A=0;A<S;++A)P[A]=(_-A)*I;else if(I<0)for(let A=0;A<S;++A)P[A]=(m+A)/-I;else for(let A=0;A<S;++A)P[A]=(m+A)*I;return P}function ul(a,l,u){return Wp(a=+a,l=+l,u=+u)[2]}function ou(a,l,u){u=+u;let p=(l=+l)<(a=+a),m=p?ul(l,a,u):ul(a,l,u);return(p?-1:1)*(m<0?1/-m:m)}function Ku(a,l,u){let p;for(;;){let m=ul(a,l,u);if(m===p||m===0||!isFinite(m))return[a,l];m>0?(a=Math.floor(a/m)*m,l=Math.ceil(l/m)*m):m<0&&(a=Math.ceil(a*m)/m,l=Math.floor(l*m)/m),p=m}}function zp(a){return Math.max(1,Math.ceil(Math.log(we(a))/Math.LN2)+1)}function B0(){var a=It,l=$t,u=zp;function p(m){Array.isArray(m)||(m=Array.from(m));var _,I,S,P=m.length,A=new Array(P);for(_=0;_<P;++_)A[_]=a(m[_],_,m);var G=l(A),X=G[0],z=G[1],te=u(A,X,z);if(!Array.isArray(te)){let fe=z,me=+te;if(l===$t&&([X,z]=Ku(X,z,me)),(te=Ks(X,z,me))[0]<=X&&(S=ul(X,z,me)),te[te.length-1]>=z)if(fe>=z&&l===$t){let xe=ul(X,z,me);isFinite(xe)&&(xe>0?z=(Math.floor(z/xe)+1)*xe:xe<0&&(z=(Math.ceil(z*-xe)+1)/-xe))}else te.pop()}for(var de=te.length,le=0,ue=de;te[le]<=X;)++le;for(;te[ue-1]>z;)--ue;(le||ue<de)&&(te=te.slice(le,ue),de=ue-le);var pe,ye=new Array(de+1);for(_=0;_<=de;++_)(pe=ye[_]=[]).x0=_>0?te[_-1]:X,pe.x1=_<de?te[_]:z;if(isFinite(S)){if(S>0)for(_=0;_<P;++_)(I=A[_])!=null&&X<=I&&I<=z&&ye[Math.min(de,Math.floor((I-X)/S))].push(m[_]);else if(S<0){for(_=0;_<P;++_)if((I=A[_])!=null&&X<=I&&I<=z){let fe=Math.floor((X-I)*S);ye[Math.min(de,fe+(te[fe]<=I))].push(m[_])}}}else for(_=0;_<P;++_)(I=A[_])!=null&&X<=I&&I<=z&&ye[F(te,I,0,de)].push(m[_]);return ye}return p.value=function(m){return arguments.length?(a=typeof m=="function"?m:Xl(m),p):a},p.domain=function(m){return arguments.length?(l=typeof m=="function"?m:Xl([m[0],m[1]]),p):l},p.thresholds=function(m){return arguments.length?(u=typeof m=="function"?m:Xl(Array.isArray(m)?Ym.call(m):m),p):u},p}function qu(a,l){let u;if(l===void 0)for(let p of a)p!=null&&(u<p||u===void 0&&p>=p)&&(u=p);else{let p=-1;for(let m of a)(m=l(m,++p,a))!=null&&(u<m||u===void 0&&m>=m)&&(u=m)}return u}function ia(a,l){let u,p=-1,m=-1;if(l===void 0)for(let _ of a)++m,_!=null&&(u<_||u===void 0&&_>=_)&&(u=_,p=m);else for(let _ of a)(_=l(_,++m,a))!=null&&(u<_||u===void 0&&_>=_)&&(u=_,p=m);return p}function Jm(a,l){let u;if(l===void 0)for(let p of a)p!=null&&(u>p||u===void 0&&p>=p)&&(u=p);else{let p=-1;for(let m of a)(m=l(m,++p,a))!=null&&(u>m||u===void 0&&m>=m)&&(u=m)}return u}function Xm(a,l){let u,p=-1,m=-1;if(l===void 0)for(let _ of a)++m,_!=null&&(u>_||u===void 0&&_>=_)&&(u=_,p=m);else for(let _ of a)(_=l(_,++m,a))!=null&&(u>_||u===void 0&&_>=_)&&(u=_,p=m);return p}function ld(a,l,u=0,p=1/0,m){if(l=Math.floor(l),u=Math.floor(Math.max(0,u)),p=Math.floor(Math.min(a.length-1,p)),!(u<=l&&l<=p))return a;for(m=m===void 0?Oa:Gs(m);p>u;){if(p-u>600){let P=p-u+1,A=l-u+1,G=Math.log(P),X=.5*Math.exp(2*G/3),z=.5*Math.sqrt(G*X*(P-X)/P)*(A-P/2<0?-1:1);ld(a,l,Math.max(u,Math.floor(l-A*X/P+z)),Math.min(p,Math.floor(l+(P-A)*X/P+z)),m)}let _=a[l],I=u,S=p;for(kc(a,u,l),m(a[p],_)>0&&kc(a,u,p);I<S;){for(kc(a,I,S),++I,--S;m(a[I],_)<0;)++I;for(;m(a[S],_)>0;)--S}m(a[u],_)===0?kc(a,u,S):(++S,kc(a,S,p)),S<=l&&(u=S+1),l<=S&&(p=S-1)}return a}function kc(a,l,u){let p=a[l];a[l]=a[u],a[u]=p}function U0(a,l=s){let u,p=!1;if(l.length===1){let m;for(let _ of a){let I=l(_);(p?s(I,m)>0:s(I,I)===0)&&(u=_,m=I,p=!0)}}else for(let m of a)(p?l(m,u)>0:l(m,m)===0)&&(u=m,p=!0);return u}function cd(a,l,u){if(a=Float64Array.from(function*(S,P){if(P===void 0)for(let A of S)A!=null&&(A=+A)>=A&&(yield A);else{let A=-1;for(let G of S)(G=P(G,++A,S))!=null&&(G=+G)>=G&&(yield G)}}(a,u)),(p=a.length)&&!isNaN(l=+l)){if(l<=0||p<2)return Jm(a);if(l>=1)return qu(a);var p,m=(p-1)*l,_=Math.floor(m),I=qu(ld(a,_).subarray(0,_+1));return I+(Jm(a.subarray(_+1))-I)*(m-_)}}function Ih(a,l,u=x){if((p=a.length)&&!isNaN(l=+l)){if(l<=0||p<2)return+u(a[0],0,a);if(l>=1)return+u(a[p-1],p-1,a);var p,m=(p-1)*l,_=Math.floor(m),I=+u(a[_],_,a);return I+(+u(a[_+1],_+1,a)-I)*(m-_)}}function Qm(a,l,u=x){if(!isNaN(l=+l)){if(p=Float64Array.from(a,(S,P)=>x(u(a[P],P,a))),l<=0)return Xm(p);if(l>=1)return ia(p);var p,m=Uint32Array.from(a,(S,P)=>P),_=p.length-1,I=Math.floor(_*l);return ld(m,I,0,_,(S,P)=>Oa(p[S],p[P])),(I=U0(m.subarray(0,I+1),S=>p[S]))>=0?I:-1}}function $0(a,l,u){let p=we(a),m=cd(a,.75)-cd(a,.25);return p&&m?Math.ceil((u-l)/(2*m*Math.pow(p,-.3333333333333333))):1}function H0(a,l,u){let p=we(a),m=pt(a);return p&&m?Math.ceil((u-l)*Math.cbrt(p)/(3.49*m)):1}function Sh(a,l){let u=0,p=0;if(l===void 0)for(let m of a)m!=null&&(m=+m)>=m&&(++u,p+=m);else{let m=-1;for(let _ of a)(_=l(_,++m,a))!=null&&(_=+_)>=_&&(++u,p+=_)}if(u)return p/u}function Zm(a,l){return cd(a,.5,l)}function Yp(a,l){return Qm(a,.5,l)}function rs(a){return Array.from(function*(l){for(let u of l)yield*jj(u)}(a))}function wl(a,l){let u=new $e;if(l===void 0)for(let _ of a)_!=null&&_>=_&&u.set(_,(u.get(_)||0)+1);else{let _=-1;for(let I of a)(I=l(I,++_,a))!=null&&I>=I&&u.set(I,(u.get(I)||0)+1)}let p,m=0;for(let[_,I]of u)I>m&&(m=I,p=_);return p}function xh(a,l=Vv){let u=[],p,m=!1;for(let _ of a)m&&u.push(l(p,_)),p=_,m=!0;return u}function Vv(a,l){return[a,l]}function au(a,l,u){a=+a,l=+l,u=(m=arguments.length)<2?(l=a,a=0,1):m<3?1:+u;for(var p=-1,m=0|Math.max(0,Math.ceil((l-a)/u)),_=new Array(m);++p<m;)_[p]=a+p*u;return _}function V0(a,l=s){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let u=Array.from(a),p=new Float64Array(u.length);l.length!==2&&(u=u.map(l),l=s);let m=(S,P)=>l(u[S],u[P]),_,I;return(a=Uint32Array.from(u,(S,P)=>P)).sort(l===s?(S,P)=>Oa(u[S],u[P]):Gs(m)),a.forEach((S,P)=>{let A=m(S,_===void 0?S:_);A>=0?((_===void 0||A>0)&&(_=S,I=P),p[S]=I):p[S]=NaN}),p}function F1(a,l=s){let u,p=!1;if(l.length===1){let m;for(let _ of a){let I=l(_);(p?s(I,m)<0:s(I,I)===0)&&(u=_,m=I,p=!0)}}else for(let m of a)(p?l(m,u)<0:l(m,m)===0)&&(u=m,p=!0);return u}function L1(a,l=s){if(l.length===1)return Xm(a,l);let u,p=-1,m=-1;for(let _ of a)++m,(p<0?l(_,_)===0:l(_,u)<0)&&(u=_,p=m);return p}function jv(a,l=s){if(l.length===1)return ia(a,l);let u,p=-1,m=-1;for(let _ of a)++m,(p<0?l(_,_)===0:l(_,u)>0)&&(u=_,p=m);return p}function Ah(a,l){let u=L1(a,l);return u<0?void 0:u}let ef=dd(Math.random);function dd(a){return function(l,u=0,p=l.length){let m=p-(u=+u);for(;m;){let _=a()*m--|0,I=l[m+u];l[m+u]=l[_+u],l[_+u]=I}return l}}function j0(a,l){let u=0;if(l===void 0)for(let p of a)(p=+p)&&(u+=p);else{let p=-1;for(let m of a)(m=+l(m,++p,a))&&(u+=m)}return u}function B1(a){if(!(m=a.length))return[];for(var l=-1,u=Jm(a,U1),p=new Array(u);++l<u;)for(var m,_=-1,I=p[l]=new Array(m);++_<m;)I[_]=a[_][l];return p}function U1(a){return a.length}function $1(){return B1(arguments)}function H1(a,l){if(typeof l!="function")throw new TypeError("test is not a function");let u=-1;for(let p of a)if(!l(p,++u,a))return!1;return!0}function V1(a,l){if(typeof l!="function")throw new TypeError("test is not a function");let u=-1;for(let p of a)if(l(p,++u,a))return!0;return!1}function Gv(a,l){if(typeof l!="function")throw new TypeError("test is not a function");let u=[],p=-1;for(let m of a)l(m,++p,a)&&u.push(m);return u}function hb(a,l){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof l!="function")throw new TypeError("mapper is not a function");return Array.from(a,(u,p)=>l(u,p,a))}function gb(a,l,u){if(typeof l!="function")throw new TypeError("reducer is not a function");let p=a[Symbol.iterator](),m,_,I=-1;if(arguments.length<3){if({done:m,value:u}=p.next(),m)return;++I}for(;{done:m,value:_}=p.next(),!m;)u=l(u,_,++I,a);return u}function j1(a){if(typeof a[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(a).reverse()}function dn(a,...l){a=new ot(a);for(let u of l)for(let p of u)a.delete(p);return a}function wc(a,l){let u=l[Symbol.iterator](),p=new ot;for(let m of a){if(p.has(m))return!1;let _,I;for(;({value:_,done:I}=u.next())&&!I;){if(Object.is(m,_))return!1;p.add(_)}}return!0}function ud(a,...l){a=new ot(a),l=l.map(Cs);e:for(let u of a)for(let p of l)if(!p.has(u)){a.delete(u);continue e}return a}function Cs(a){return a instanceof ot?a:new ot(a)}function Br(a,l){let u=a[Symbol.iterator](),p=new Set;for(let m of l){let _=pd(m);if(p.has(_))continue;let I,S;for(;{value:I,done:S}=u.next();){if(S)return!1;let P=pd(I);if(p.add(P),Object.is(_,P))break}}return!0}function pd(a){return a!==null&&typeof a=="object"?a.valueOf():a}function jA(a,l){return Br(l,a)}function Go(...a){let l=new ot;for(let u of a)for(let p of u)l.add(p);return l}function Bo(a){return a}var Kv=1,qv=2,G1=3,Ph=4,vb=1e-6;function ws(a){return"translate("+a+",0)"}function _b(a){return"translate(0,"+a+")"}function G0(a){return l=>+a(l)}function Cb(a,l){return l=Math.max(0,a.bandwidth()-2*l)/2,a.round()&&(l=Math.round(l)),u=>+a(u)+l}function K1(){return!this.__axis}function pl(a,l){var u=[],p=null,m=null,_=6,I=6,S=3,P=typeof window<"u"&&window.devicePixelRatio>1?0:.5,A=a===Kv||a===Ph?-1:1,G=a===Ph||a===qv?"x":"y",X=a===Kv||a===G1?ws:_b;function z(te){var de=p??(l.ticks?l.ticks.apply(l,u):l.domain()),le=m??(l.tickFormat?l.tickFormat.apply(l,u):Bo),ue=Math.max(_,0)+S,pe=l.range(),ye=+pe[0]+P,fe=+pe[pe.length-1]+P,me=(l.bandwidth?Cb:G0)(l.copy(),P),xe=te.selection?te.selection():te,De=xe.selectAll(".domain").data([null]),tt=xe.selectAll(".tick").data(de,l).order(),ct=tt.exit(),je=tt.enter().append("g").attr("class","tick"),Xe=tt.select("line"),qe=tt.select("text");De=De.merge(De.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tt=tt.merge(je),Xe=Xe.merge(je.append("line").attr("stroke","currentColor").attr(G+"2",A*_)),qe=qe.merge(je.append("text").attr("fill","currentColor").attr(G,A*ue).attr("dy",a===Kv?"0em":a===G1?"0.71em":"0.32em")),te!==xe&&(De=De.transition(te),tt=tt.transition(te),Xe=Xe.transition(te),qe=qe.transition(te),ct=ct.transition(te).attr("opacity",vb).attr("transform",function(Ze){return isFinite(Ze=me(Ze))?X(Ze+P):this.getAttribute("transform")}),je.attr("opacity",vb).attr("transform",function(Ze){var Ct=this.parentNode.__axis;return X((Ct&&isFinite(Ct=Ct(Ze))?Ct:me(Ze))+P)})),ct.remove(),De.attr("d",a===Ph||a===qv?I?"M"+A*I+","+ye+"H"+P+"V"+fe+"H"+A*I:"M"+P+","+ye+"V"+fe:I?"M"+ye+","+A*I+"V"+P+"H"+fe+"V"+A*I:"M"+ye+","+P+"H"+fe),tt.attr("opacity",1).attr("transform",function(Ze){return X(me(Ze)+P)}),Xe.attr(G+"2",A*_),qe.attr(G,A*ue).text(le),xe.filter(K1).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",a===qv?"start":a===Ph?"end":"middle"),xe.each(function(){this.__axis=me})}return z.scale=function(te){return arguments.length?(l=te,z):l},z.ticks=function(){return u=Array.from(arguments),z},z.tickArguments=function(te){return arguments.length?(u=te==null?[]:Array.from(te),z):u.slice()},z.tickValues=function(te){return arguments.length?(p=te==null?null:Array.from(te),z):p&&p.slice()},z.tickFormat=function(te){return arguments.length?(m=te,z):m},z.tickSize=function(te){return arguments.length?(_=I=+te,z):_},z.tickSizeInner=function(te){return arguments.length?(_=+te,z):_},z.tickSizeOuter=function(te){return arguments.length?(I=+te,z):I},z.tickPadding=function(te){return arguments.length?(S=+te,z):S},z.offset=function(te){return arguments.length?(P=+te,z):P},z}function yb(a){return pl(Kv,a)}function Eb(a){return pl(qv,a)}function Tb(a){return pl(G1,a)}function bb(a){return pl(Ph,a)}var Ib={value:()=>{}};function q1(){for(var a,l=0,u=arguments.length,p={};l<u;++l){if(!(a=arguments[l]+"")||a in p||/[\s.]/.test(a))throw new Error("illegal type: "+a);p[a]=[]}return new qs(p)}function qs(a){this._=a}function GA(a,l){for(var u,p=0,m=a.length;p<m;++p)if((u=a[p]).name===l)return u.value}function Ql(a,l,u){for(var p=0,m=a.length;p<m;++p)if(a[p].name===l){a[p]=Ib,a=a.slice(0,p).concat(a.slice(p+1));break}return u!=null&&a.push({name:l,value:u}),a}qs.prototype=q1.prototype={constructor:qs,on:function(a,l){var u,p,m=this._,_=(p=m,(a+"").trim().split(/^|\s+/).map(function(P){var A="",G=P.indexOf(".");if(G>=0&&(A=P.slice(G+1),P=P.slice(0,G)),P&&!p.hasOwnProperty(P))throw new Error("unknown type: "+P);return{type:P,name:A}})),I=-1,S=_.length;if(!(arguments.length<2)){if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++I<S;)if(u=(a=_[I]).type)m[u]=Ql(m[u],a.name,l);else if(l==null)for(u in m)m[u]=Ql(m[u],a.name,null);return this}for(;++I<S;)if((u=(a=_[I]).type)&&(u=GA(m[u],a.name)))return u},copy:function(){var a={},l=this._;for(var u in l)a[u]=l[u].slice();return new qs(a)},call:function(a,l){if((u=arguments.length-2)>0)for(var u,p,m=new Array(u),_=0;_<u;++_)m[_]=arguments[_+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(_=0,u=(p=this._[a]).length;_<u;++_)p[_].value.apply(l,m)},apply:function(a,l,u){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var p=this._[a],m=0,_=p.length;m<_;++m)p[m].value.apply(l,u)}};let kh=q1;function Sb(){}function md(a){return a==null?Sb:function(){return this.querySelector(a)}}function K0(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function W1(){return[]}function Uo(a){return a==null?W1:function(){return this.querySelectorAll(a)}}function su(a){return function(){return this.matches(a)}}function Wv(a){return function(l){return l.matches(a)}}var KA=Array.prototype.find;function z1(){return this.firstElementChild}var qA=Array.prototype.filter;function xb(){return Array.from(this.children)}function q0(a){return new Array(a.length)}function Wu(a,l){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=l}function WA(a,l,u,p,m,_){for(var I,S=0,P=l.length,A=_.length;S<A;++S)(I=l[S])?(I.__data__=_[S],p[S]=I):u[S]=new Wu(a,_[S]);for(;S<P;++S)(I=l[S])&&(m[S]=I)}function Ab(a,l,u,p,m,_,I){var S,P,A,G=new Map,X=l.length,z=_.length,te=new Array(X);for(S=0;S<X;++S)(P=l[S])&&(te[S]=A=I.call(P,P.__data__,S,l)+"",G.has(A)?m[S]=P:G.set(A,P));for(S=0;S<z;++S)A=I.call(a,_[S],S,_)+"",(P=G.get(A))?(p[S]=P,P.__data__=_[S],G.delete(A)):u[S]=new Wu(a,_[S]);for(S=0;S<X;++S)(P=l[S])&&G.get(te[S])===P&&(m[S]=P)}function Pb(a){return a.__data__}function Y1(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function J1(a,l){return a<l?-1:a>l?1:a>=l?0:NaN}Wu.prototype={constructor:Wu,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,l){return this._parent.insertBefore(a,l)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};var zv="http://www.w3.org/1999/xhtml";let W0={svg:"http://www.w3.org/2000/svg",xhtml:zv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tf(a){var l=a+="",u=l.indexOf(":");return u>=0&&(l=a.slice(0,u))!=="xmlns"&&(a=a.slice(u+1)),W0.hasOwnProperty(l)?{space:W0[l],local:a}:a}function kb(a){return function(){this.removeAttribute(a)}}function Zl(a){return function(){this.removeAttributeNS(a.space,a.local)}}function X1(a,l){return function(){this.setAttribute(a,l)}}function z0(a,l){return function(){this.setAttributeNS(a.space,a.local,l)}}function wb(a,l){return function(){var u=l.apply(this,arguments);u==null?this.removeAttribute(a):this.setAttribute(a,u)}}function Db(a,l){return function(){var u=l.apply(this,arguments);u==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,u)}}function Q1(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function zA(a){return function(){this.style.removeProperty(a)}}function YA(a,l,u){return function(){this.style.setProperty(a,l,u)}}function wh(a,l,u){return function(){var p=l.apply(this,arguments);p==null?this.style.removeProperty(a):this.style.setProperty(a,p,u)}}function zu(a,l){return a.style.getPropertyValue(l)||Q1(a).getComputedStyle(a,null).getPropertyValue(l)}function Ob(a){return function(){delete this[a]}}function Jp(a,l){return function(){this[a]=l}}function Yv(a,l){return function(){var u=l.apply(this,arguments);u==null?delete this[a]:this[a]=u}}function Nb(a){return a.trim().split(/^|\s+/)}function Xp(a){return a.classList||new Dc(a)}function Dc(a){this._node=a,this._names=Nb(a.getAttribute("class")||"")}function Z1(a,l){for(var u=Xp(a),p=-1,m=l.length;++p<m;)u.add(l[p])}function Rb(a,l){for(var u=Xp(a),p=-1,m=l.length;++p<m;)u.remove(l[p])}function Jv(a){return function(){Z1(this,a)}}function Tt(a){return function(){Rb(this,a)}}function Vt(a,l){return function(){(l.apply(this,arguments)?Z1:Rb)(this,a)}}function Kt(){this.textContent=""}function Nn(a){return function(){this.textContent=a}}function Ji(a){return function(){var l=a.apply(this,arguments);this.textContent=l??""}}function zr(){this.innerHTML=""}function os(a){return function(){this.innerHTML=a}}function lu(a){return function(){var l=a.apply(this,arguments);this.innerHTML=l??""}}function Ko(){this.nextSibling&&this.parentNode.appendChild(this)}function ey(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function JA(a){return function(){var l=this.ownerDocument,u=this.namespaceURI;return u===zv&&l.documentElement.namespaceURI===zv?l.createElement(a):l.createElementNS(u,a)}}function Oc(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function nf(a){var l=tf(a);return(l.local?Oc:JA)(l)}function XA(){return null}function Dh(){var a=this.parentNode;a&&a.removeChild(this)}function Xv(){var a=this.cloneNode(!1),l=this.parentNode;return l?l.insertBefore(a,this.nextSibling):a}function Qv(){var a=this.cloneNode(!0),l=this.parentNode;return l?l.insertBefore(a,this.nextSibling):a}function yo(a){return function(){var l=this.__on;if(l){for(var u,p=0,m=-1,_=l.length;p<_;++p)u=l[p],a.type&&u.type!==a.type||u.name!==a.name?l[++m]=u:this.removeEventListener(u.type,u.listener,u.options);++m?l.length=m:delete this.__on}}}function QA(a,l,u){return function(){var p,m=this.__on,_=function(P){return function(A){P.call(this,A,this.__data__)}}(l);if(m){for(var I=0,S=m.length;I<S;++I)if((p=m[I]).type===a.type&&p.name===a.name)return this.removeEventListener(p.type,p.listener,p.options),this.addEventListener(p.type,p.listener=_,p.options=u),void(p.value=l)}this.addEventListener(a.type,_,u),p={type:a.type,name:a.name,value:l,listener:_,options:u},m?m.push(p):this.__on=[p]}}function ty(a,l,u){var p=Q1(a),m=p.CustomEvent;typeof m=="function"?m=new m(l,u):(m=p.document.createEvent("Event"),u?(m.initEvent(l,u.bubbles,u.cancelable),m.detail=u.detail):m.initEvent(l,!1,!1)),a.dispatchEvent(m)}function Zv(a,l){return function(){return ty(this,a,l)}}function ZA(a,l){return function(){return ty(this,a,l.apply(this,arguments))}}Dc.prototype={add:function(a){this._names.indexOf(a)<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var l=this._names.indexOf(a);l>=0&&(this._names.splice(l,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};var ny=[null];function ml(a,l){this._groups=a,this._parents=l}function Y0(){return new ml([[document.documentElement]],ny)}ml.prototype=Y0.prototype={constructor:ml,select:function(a){typeof a!="function"&&(a=md(a));for(var l=this._groups,u=l.length,p=new Array(u),m=0;m<u;++m)for(var _,I,S=l[m],P=S.length,A=p[m]=new Array(P),G=0;G<P;++G)(_=S[G])&&(I=a.call(_,_.__data__,G,S))&&("__data__"in _&&(I.__data__=_.__data__),A[G]=I);return new ml(p,this._parents)},selectAll:function(a){a=typeof a=="function"?function(G){return function(){return K0(G.apply(this,arguments))}}(a):Uo(a);for(var l=this._groups,u=l.length,p=[],m=[],_=0;_<u;++_)for(var I,S=l[_],P=S.length,A=0;A<P;++A)(I=S[A])&&(p.push(a.call(I,I.__data__,A,S)),m.push(I));return new ml(p,m)},selectChild:function(a){return this.select(a==null?z1:function(l){return function(){return KA.call(this.children,l)}}(typeof a=="function"?a:Wv(a)))},selectChildren:function(a){return this.selectAll(a==null?xb:function(l){return function(){return qA.call(this.children,l)}}(typeof a=="function"?a:Wv(a)))},filter:function(a){typeof a!="function"&&(a=su(a));for(var l=this._groups,u=l.length,p=new Array(u),m=0;m<u;++m)for(var _,I=l[m],S=I.length,P=p[m]=[],A=0;A<S;++A)(_=I[A])&&a.call(_,_.__data__,A,I)&&P.push(_);return new ml(p,this._parents)},data:function(a,l){if(!arguments.length)return Array.from(this,Pb);var u,p=l?Ab:WA,m=this._parents,_=this._groups;typeof a!="function"&&(u=a,a=function(){return u});for(var I=_.length,S=new Array(I),P=new Array(I),A=new Array(I),G=0;G<I;++G){var X=m[G],z=_[G],te=z.length,de=Y1(a.call(X,X&&X.__data__,G,m)),le=de.length,ue=P[G]=new Array(le),pe=S[G]=new Array(le);p(X,z,ue,pe,A[G]=new Array(te),de,l);for(var ye,fe,me=0,xe=0;me<le;++me)if(ye=ue[me]){for(me>=xe&&(xe=me+1);!(fe=pe[xe])&&++xe<le;);ye._next=fe||null}}return(S=new ml(S,m))._enter=P,S._exit=A,S},enter:function(){return new ml(this._enter||this._groups.map(q0),this._parents)},exit:function(){return new ml(this._exit||this._groups.map(q0),this._parents)},join:function(a,l,u){var p=this.enter(),m=this,_=this.exit();return typeof a=="function"?(p=a(p))&&(p=p.selection()):p=p.append(a+""),l!=null&&(m=l(m))&&(m=m.selection()),u==null?_.remove():u(_),p&&m?p.merge(m).order():m},merge:function(a){for(var l=a.selection?a.selection():a,u=this._groups,p=l._groups,m=u.length,_=p.length,I=Math.min(m,_),S=new Array(m),P=0;P<I;++P)for(var A,G=u[P],X=p[P],z=G.length,te=S[P]=new Array(z),de=0;de<z;++de)(A=G[de]||X[de])&&(te[de]=A);for(;P<m;++P)S[P]=u[P];return new ml(S,this._parents)},selection:function(){return this},order:function(){for(var a=this._groups,l=-1,u=a.length;++l<u;)for(var p,m=a[l],_=m.length-1,I=m[_];--_>=0;)(p=m[_])&&(I&&4^p.compareDocumentPosition(I)&&I.parentNode.insertBefore(p,I),I=p);return this},sort:function(a){function l(X,z){return X&&z?a(X.__data__,z.__data__):!X-!z}a||(a=J1);for(var u=this._groups,p=u.length,m=new Array(p),_=0;_<p;++_){for(var I,S=u[_],P=S.length,A=m[_]=new Array(P),G=0;G<P;++G)(I=S[G])&&(A[G]=I);A.sort(l)}return new ml(m,this._parents).order()},call:function(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var a=this._groups,l=0,u=a.length;l<u;++l)for(var p=a[l],m=0,_=p.length;m<_;++m){var I=p[m];if(I)return I}return null},size:function(){let a=0;for(let l of this)++a;return a},empty:function(){return!this.node()},each:function(a){for(var l=this._groups,u=0,p=l.length;u<p;++u)for(var m,_=l[u],I=0,S=_.length;I<S;++I)(m=_[I])&&a.call(m,m.__data__,I,_);return this},attr:function(a,l){var u=tf(a);if(arguments.length<2){var p=this.node();return u.local?p.getAttributeNS(u.space,u.local):p.getAttribute(u)}return this.each((l==null?u.local?Zl:kb:typeof l=="function"?u.local?Db:wb:u.local?z0:X1)(u,l))},style:function(a,l,u){return arguments.length>1?this.each((l==null?zA:typeof l=="function"?wh:YA)(a,l,u??"")):zu(this.node(),a)},property:function(a,l){return arguments.length>1?this.each((l==null?Ob:typeof l=="function"?Yv:Jp)(a,l)):this.node()[a]},classed:function(a,l){var u=Nb(a+"");if(arguments.length<2){for(var p=Xp(this.node()),m=-1,_=u.length;++m<_;)if(!p.contains(u[m]))return!1;return!0}return this.each((typeof l=="function"?Vt:l?Jv:Tt)(u,l))},text:function(a){return arguments.length?this.each(a==null?Kt:(typeof a=="function"?Ji:Nn)(a)):this.node().textContent},html:function(a){return arguments.length?this.each(a==null?zr:(typeof a=="function"?lu:os)(a)):this.node().innerHTML},raise:function(){return this.each(Ko)},lower:function(){return this.each(ey)},append:function(a){var l=typeof a=="function"?a:nf(a);return this.select(function(){return this.appendChild(l.apply(this,arguments))})},insert:function(a,l){var u=typeof a=="function"?a:nf(a),p=l==null?XA:typeof l=="function"?l:md(l);return this.select(function(){return this.insertBefore(u.apply(this,arguments),p.apply(this,arguments)||null)})},remove:function(){return this.each(Dh)},clone:function(a){return this.select(a?Qv:Xv)},datum:function(a){return arguments.length?this.property("__data__",a):this.node().__data__},on:function(a,l,u){var p,m,_=function(X){return X.trim().split(/^|\s+/).map(function(z){var te="",de=z.indexOf(".");return de>=0&&(te=z.slice(de+1),z=z.slice(0,de)),{type:z,name:te}})}(a+""),I=_.length;if(!(arguments.length<2)){for(S=l?QA:yo,p=0;p<I;++p)this.each(S(_[p],l,u));return this}var S=this.node().__on;if(S){for(var P,A=0,G=S.length;A<G;++A)for(p=0,P=S[A];p<I;++p)if((m=_[p]).type===P.type&&m.name===P.name)return P.value}},dispatch:function(a,l){return this.each((typeof l=="function"?ZA:Zv)(a,l))},[Symbol.iterator]:function*(){for(var a=this._groups,l=0,u=a.length;l<u;++l)for(var p,m=a[l],_=0,I=m.length;_<I;++_)(p=m[_])&&(yield p)}};let ec=Y0;function as(a){return typeof a=="string"?new ml([[document.querySelector(a)]],[document.documentElement]):new ml([[a]],ny)}let Mb={passive:!1},Qp={capture:!0,passive:!1};function e_(a){a.stopImmediatePropagation()}function rf(a){a.preventDefault(),a.stopImmediatePropagation()}function of(a){var l=a.document.documentElement,u=as(a).on("dragstart.drag",rf,Qp);"onselectstart"in l?u.on("selectstart.drag",rf,Qp):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function J0(a,l){var u=a.document.documentElement,p=as(a).on("dragstart.drag",null);l&&(p.on("click.drag",rf,Qp),setTimeout(function(){p.on("click.drag",null)},0)),"onselectstart"in u?p.on("selectstart.drag",null):(u.style.MozUserSelect=u.__noselect,delete u.__noselect)}function cu(a,l,u){a.prototype=l.prototype=u,u.constructor=a}function fd(a,l){var u=Object.create(a.prototype);for(var p in l)u[p]=l[p];return u}function hd(){}var af=.7,Oh=1/af,Nh="\\s*([+-]?\\d+)\\s*",Zp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iy=/^#([0-9a-f]{3,8})$/,eP=new RegExp(`^rgb\\(${Nh},${Nh},${Nh}\\)$`),Fb=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),tP=new RegExp(`^rgba\\(${Nh},${Nh},${Nh},${Zp}\\)$`),nP=new RegExp(`^rgba\\(${tc},${tc},${tc},${Zp}\\)$`),ss=new RegExp(`^hsl\\(${Zp},${tc},${tc}\\)$`),Ws=new RegExp(`^hsla\\(${Zp},${tc},${tc},${Zp}\\)$`),Lb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Bb(){return this.rgb().formatHex()}function ry(){return this.rgb().formatRgb()}function em(a){var l,u;return a=(a+"").trim().toLowerCase(),(l=iy.exec(a))?(u=l[1].length,l=parseInt(l[1],16),u===6?t_(l):u===3?new ya(l>>8&15|l>>4&240,l>>4&15|240&l,(15&l)<<4|15&l,1):u===8?tm(l>>24&255,l>>16&255,l>>8&255,(255&l)/255):u===4?tm(l>>12&15|l>>8&240,l>>8&15|l>>4&240,l>>4&15|240&l,((15&l)<<4|15&l)/255):null):(l=eP.exec(a))?new ya(l[1],l[2],l[3],1):(l=Fb.exec(a))?new ya(255*l[1]/100,255*l[2]/100,255*l[3]/100,1):(l=tP.exec(a))?tm(l[1],l[2],l[3],l[4]):(l=nP.exec(a))?tm(255*l[1]/100,255*l[2]/100,255*l[3]/100,l[4]):(l=ss.exec(a))?Ub(l[1],l[2]/100,l[3]/100,1):(l=Ws.exec(a))?Ub(l[1],l[2]/100,l[3]/100,l[4]):Lb.hasOwnProperty(a)?t_(Lb[a]):a==="transparent"?new ya(NaN,NaN,NaN,0):null}function t_(a){return new ya(a>>16&255,a>>8&255,255&a,1)}function tm(a,l,u,p){return p<=0&&(a=l=u=NaN),new ya(a,l,u,p)}function X0(a){return a instanceof hd||(a=em(a)),a?new ya((a=a.rgb()).r,a.g,a.b,a.opacity):new ya}function gd(a,l,u,p){return arguments.length===1?X0(a):new ya(a,l,u,p??1)}function ya(a,l,u,p){this.r=+a,this.g=+l,this.b=+u,this.opacity=+p}function Rh(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}`}function Q0(){let a=Yu(this.opacity);return`${a===1?"rgb(":"rgba("}${sf(this.r)}, ${sf(this.g)}, ${sf(this.b)}${a===1?")":`, ${a})`}`}function Yu(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function sf(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function lf(a){return((a=sf(a))<16?"0":"")+a.toString(16)}function Ub(a,l,u,p){return p<=0?a=l=u=NaN:u<=0||u>=1?a=l=NaN:l<=0&&(a=NaN),new Dl(a,l,u,p)}function $b(a){if(a instanceof Dl)return new Dl(a.h,a.s,a.l,a.opacity);if(a instanceof hd||(a=em(a)),!a)return new Dl;if(a instanceof Dl)return a;var l=(a=a.rgb()).r/255,u=a.g/255,p=a.b/255,m=Math.min(l,u,p),_=Math.max(l,u,p),I=NaN,S=_-m,P=(_+m)/2;return S?(I=l===_?(u-p)/S+6*(u<p):u===_?(p-l)/S+2:(l-u)/S+4,S/=P<.5?_+m:2-_-m,I*=60):S=P>0&&P<1?0:I,new Dl(I,S,P,a.opacity)}function n_(a,l,u,p){return arguments.length===1?$b(a):new Dl(a,l,u,p??1)}function Dl(a,l,u,p){this.h=+a,this.s=+l,this.l=+u,this.opacity=+p}function Mh(a){return(a=(a||0)%360)<0?a+360:a}function Z0(a){return Math.max(0,Math.min(1,a||0))}function Ie(a,l,u){return 255*(a<60?l+(u-l)*a/60:a<180?u:a<240?l+(u-l)*(240-a)/60:l)}function cf(a,l,u,p,m){var _=a*a,I=_*a;return((1-3*a+3*_-I)*l+(4-6*_+3*I)*u+(1+3*a+3*_-3*I)*p+I*m)/6}function eg(a){var l=a.length-1;return function(u){var p=u<=0?u=0:u>=1?(u=1,l-1):Math.floor(u*l),m=a[p],_=a[p+1],I=p>0?a[p-1]:2*m-_,S=p<l-1?a[p+2]:2*_-m;return cf((u-p/l)*l,I,m,_,S)}}function nc(a){var l=a.length;return function(u){var p=Math.floor(((u%=1)<0?++u:u)*l),m=a[(p+l-1)%l],_=a[p%l],I=a[(p+1)%l],S=a[(p+2)%l];return cf((u-p/l)*l,m,_,I,S)}}cu(hd,em,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:Bb,formatHex:Bb,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return $b(this).formatHsl()},formatRgb:ry,toString:ry}),cu(ya,gd,fd(hd,{brighter(a){return a=a==null?Oh:Math.pow(Oh,a),new ya(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?af:Math.pow(af,a),new ya(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new ya(sf(this.r),sf(this.g),sf(this.b),Yu(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rh,formatHex:Rh,formatHex8:function(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}${lf(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Q0,toString:Q0})),cu(Dl,n_,fd(hd,{brighter(a){return a=a==null?Oh:Math.pow(Oh,a),new Dl(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?af:Math.pow(af,a),new Dl(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+360*(this.h<0),l=isNaN(a)||isNaN(this.s)?0:this.s,u=this.l,p=u+(u<.5?u:1-u)*l,m=2*u-p;return new ya(Ie(a>=240?a-240:a+120,m,p),Ie(a,m,p),Ie(a<120?a+240:a-120,m,p),this.opacity)},clamp(){return new Dl(Mh(this.h),Z0(this.s),Z0(this.l),Yu(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let a=Yu(this.opacity);return`${a===1?"hsl(":"hsla("}${Mh(this.h)}, ${100*Z0(this.s)}%, ${100*Z0(this.l)}%${a===1?")":`, ${a})`}`}}));let Sr=a=>()=>a;function nm(a,l){return function(u){return a+u*l}}function Nc(a,l){var u=l-a;return u?nm(a,u>180||u<-180?u-360*Math.round(u/360):u):Sr(isNaN(a)?l:a)}function $o(a,l){var u=l-a;return u?nm(a,u):Sr(isNaN(a)?l:a)}let vd=function a(l){var u=function(m){return(m=+m)==1?$o:function(_,I){return I-_?function(S,P,A){return S=Math.pow(S,A),P=Math.pow(P,A)-S,A=1/A,function(G){return Math.pow(S+G*P,A)}}(_,I,m):Sr(isNaN(_)?I:_)}}(l);function p(m,_){var I=u((m=gd(m)).r,(_=gd(_)).r),S=u(m.g,_.g),P=u(m.b,_.b),A=$o(m.opacity,_.opacity);return function(G){return m.r=I(G),m.g=S(G),m.b=P(G),m.opacity=A(G),m+""}}return p.gamma=a,p}(1);function Rc(a){return function(l){var u,p,m=l.length,_=new Array(m),I=new Array(m),S=new Array(m);for(u=0;u<m;++u)p=gd(l[u]),_[u]=p.r||0,I[u]=p.g||0,S[u]=p.b||0;return _=a(_),I=a(I),S=a(S),p.opacity=1,function(P){return p.r=_(P),p.g=I(P),p.b=S(P),p+""}}}var oy=Rc(eg),Hb=Rc(nc);function ay(a,l){l||(l=[]);var u,p=a?Math.min(l.length,a.length):0,m=l.slice();return function(_){for(u=0;u<p;++u)m[u]=a[u]*(1-_)+l[u]*_;return m}}function Vb(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}function sy(a,l){return(Vb(l)?ay:Fh)(a,l)}function Fh(a,l){var u,p=l?l.length:0,m=a?Math.min(p,a.length):0,_=new Array(m),I=new Array(p);for(u=0;u<m;++u)_[u]=ls(a[u],l[u]);for(;u<p;++u)I[u]=l[u];return function(S){for(u=0;u<m;++u)I[u]=_[u](S);return I}}function tg(a,l){var u=new Date;return a=+a,l=+l,function(p){return u.setTime(a*(1-p)+l*p),u}}function Mc(a,l){return a=+a,l=+l,function(u){return a*(1-u)+l*u}}function ly(a,l){var u,p={},m={};for(u in a!==null&&typeof a=="object"||(a={}),l!==null&&typeof l=="object"||(l={}),l)u in a?p[u]=ls(a[u],l[u]):m[u]=l[u];return function(_){for(u in p)m[u]=p[u](_);return m}}var _d=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ng=new RegExp(_d.source,"g");function Ju(a,l){var u,p,m,_=_d.lastIndex=ng.lastIndex=0,I=-1,S=[],P=[];for(a+="",l+="";(u=_d.exec(a))&&(p=ng.exec(l));)(m=p.index)>_&&(m=l.slice(_,m),S[I]?S[I]+=m:S[++I]=m),(u=u[0])===(p=p[0])?S[I]?S[I]+=p:S[++I]=p:(S[++I]=null,P.push({i:I,x:Mc(u,p)})),_=ng.lastIndex;return _<l.length&&(m=l.slice(_),S[I]?S[I]+=m:S[++I]=m),S.length<2?P[0]?function(A){return function(G){return A(G)+""}}(P[0].x):function(A){return function(){return A}}(l):(l=P.length,function(A){for(var G,X=0;X<l;++X)S[(G=P[X]).i]=G.x(A);return S.join("")})}function ls(a,l){var u,p=typeof l;return l==null||p==="boolean"?Sr(l):(p==="number"?Mc:p==="string"?(u=em(l))?(l=u,vd):Ju:l instanceof em?vd:l instanceof Date?tg:Vb(l)?ay:Array.isArray(l)?Fh:typeof l.valueOf!="function"&&typeof l.toString!="function"||isNaN(l)?ly:Mc)(a,l)}function cy(a){let l;for(;l=a.sourceEvent;)a=l;return a}function Ol(a,l){if(a=cy(a),l===void 0&&(l=a.currentTarget),l){var u=l.ownerSVGElement||l;if(u.createSVGPoint){var p=u.createSVGPoint();return p.x=a.clientX,p.y=a.clientY,[(p=p.matrixTransform(l.getScreenCTM().inverse())).x,p.y]}if(l.getBoundingClientRect){var m=l.getBoundingClientRect();return[a.clientX-m.left-l.clientLeft,a.clientY-m.top-l.clientTop]}}return[a.pageX,a.pageY]}var im,Fc,df=0,ig=0,rm=0,dy=1e3,za=0,Xu=0,rg=0,Nl=typeof performance=="object"&&performance.now?performance:Date,i_=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function om(){return Xu||(i_(uf),Xu=Nl.now()+rg)}function uf(){Xu=0}function Lh(){this._call=this._time=this._next=null}function ys(a,l,u){var p=new Lh;return p.restart(a,l,u),p}function r_(){om(),++df;for(var a,l=im;l;)(a=Xu-l._time)>=0&&l._call.call(void 0,a),l=l._next;--df}function jb(){Xu=(za=Nl.now())+rg,df=ig=0;try{r_()}finally{df=0,function(){for(var a,l,u=im,p=1/0;u;)u._call?(p>u._time&&(p=u._time),a=u,u=u._next):(l=u._next,u._next=null,u=a?a._next=l:im=l);Fc=a,og(p)}(),Xu=0}}function iP(){var a=Nl.now(),l=a-za;l>dy&&(rg-=l,za=a)}function og(a){df||(ig&&(ig=clearTimeout(ig)),a-Xu>24?(a<1/0&&(ig=setTimeout(jb,a-Nl.now()-rg)),rm&&(rm=clearInterval(rm))):(rm||(za=Nl.now(),rm=setInterval(iP,dy)),df=1,i_(jb)))}function pf(a,l,u){var p=new Lh;return l=l==null?0:+l,p.restart(m=>{p.stop(),a(m+l)},l,u),p}Lh.prototype=ys.prototype={constructor:Lh,restart:function(a,l,u){if(typeof a!="function")throw new TypeError("callback is not a function");u=(u==null?om():+u)+(l==null?0:+l),this._next||Fc===this||(Fc?Fc._next=this:im=this,Fc=this),this._call=a,this._time=u,og()},stop:function(){this._call&&(this._call=null,this._time=1/0,og())}};var Gb=kh("start","end","cancel","interrupt"),ag=[],o_=0,a_=1,s_=2,Bh=3,sg=5,lg=6;function cg(a,l,u,p,m,_){var I=a.__transition;if(I){if(u in I)return}else a.__transition={};(function(S,P,A){var G,X=S.__transition;function z(le){var ue,pe,ye,fe;if(A.state!==a_)return de();for(ue in X)if((fe=X[ue]).name===A.name){if(fe.state===Bh)return pf(z);fe.state===4?(fe.state=lg,fe.timer.stop(),fe.on.call("interrupt",S,S.__data__,fe.index,fe.group),delete X[ue]):+ue<P&&(fe.state=lg,fe.timer.stop(),fe.on.call("cancel",S,S.__data__,fe.index,fe.group),delete X[ue])}if(pf(function(){A.state===Bh&&(A.state=4,A.timer.restart(te,A.delay,A.time),te(le))}),A.state=s_,A.on.call("start",S,S.__data__,A.index,A.group),A.state===s_){for(A.state=Bh,G=new Array(ye=A.tween.length),ue=0,pe=-1;ue<ye;++ue)(fe=A.tween[ue].value.call(S,S.__data__,A.index,A.group))&&(G[++pe]=fe);G.length=pe+1}}function te(le){for(var ue=le<A.duration?A.ease.call(null,le/A.duration):(A.timer.restart(de),A.state=sg,1),pe=-1,ye=G.length;++pe<ye;)G[pe].call(S,ue);A.state===sg&&(A.on.call("end",S,S.__data__,A.index,A.group),de())}function de(){for(var le in A.state=lg,A.timer.stop(),delete X[P],X)return;delete S.__transition}X[P]=A,A.timer=ys(function(le){A.state=a_,A.timer.restart(z,A.delay,A.time),A.delay<=le&&z(le-A.delay)},0,A.time)})(a,u,{name:l,index:p,group:m,on:Gb,tween:ag,time:_.time,delay:_.delay,duration:_.duration,ease:_.ease,timer:null,state:o_})}function l_(a,l){var u=Lc(a,l);if(u.state>o_)throw new Error("too late; already scheduled");return u}function ic(a,l){var u=Lc(a,l);if(u.state>Bh)throw new Error("too late; already running");return u}function Lc(a,l){var u=a.__transition;if(!u||!(u=u[l]))throw new Error("transition not found");return u}function am(a,l){var u,p,m,_=a.__transition,I=!0;if(_){for(m in l=l==null?null:l+"",_)(u=_[m]).name===l?(p=u.state>s_&&u.state<sg,u.state=lg,u.timer.stop(),u.on.call(p?"interrupt":"cancel",a,a.__data__,u.index,u.group),delete _[m]):I=!1;I&&delete a.__transition}}var dg,c_=180/Math.PI,d_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function u_(a,l,u,p,m,_){var I,S,P;return(I=Math.sqrt(a*a+l*l))&&(a/=I,l/=I),(P=a*u+l*p)&&(u-=a*P,p-=l*P),(S=Math.sqrt(u*u+p*p))&&(u/=S,p/=S,P/=S),a*p<l*u&&(a=-a,l=-l,P=-P,I=-I),{translateX:m,translateY:_,rotate:Math.atan2(l,a)*c_,skewX:Math.atan(P)*c_,scaleX:I,scaleY:S}}function p_(a,l,u,p){function m(_){return _.length?_.pop()+" ":""}return function(_,I){var S=[],P=[];return _=a(_),I=a(I),function(A,G,X,z,te,de){if(A!==X||G!==z){var le=te.push("translate(",null,l,null,u);de.push({i:le-4,x:Mc(A,X)},{i:le-2,x:Mc(G,z)})}else(X||z)&&te.push("translate("+X+l+z+u)}(_.translateX,_.translateY,I.translateX,I.translateY,S,P),function(A,G,X,z){A!==G?(A-G>180?G+=360:G-A>180&&(A+=360),z.push({i:X.push(m(X)+"rotate(",null,p)-2,x:Mc(A,G)})):G&&X.push(m(X)+"rotate("+G+p)}(_.rotate,I.rotate,S,P),function(A,G,X,z){A!==G?z.push({i:X.push(m(X)+"skewX(",null,p)-2,x:Mc(A,G)}):G&&X.push(m(X)+"skewX("+G+p)}(_.skewX,I.skewX,S,P),function(A,G,X,z,te,de){if(A!==X||G!==z){var le=te.push(m(te)+"scale(",null,",",null,")");de.push({i:le-4,x:Mc(A,X)},{i:le-2,x:Mc(G,z)})}else X===1&&z===1||te.push(m(te)+"scale("+X+","+z+")")}(_.scaleX,_.scaleY,I.scaleX,I.scaleY,S,P),_=I=null,function(A){for(var G,X=-1,z=P.length;++X<z;)S[(G=P[X]).i]=G.x(A);return S.join("")}}}var vr=p_(function(a){let l=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return l.isIdentity?d_:u_(l.a,l.b,l.c,l.d,l.e,l.f)},"px, ","px)","deg)"),Kb=p_(function(a){return a==null?d_:(dg||(dg=document.createElementNS("http://www.w3.org/2000/svg","g")),dg.setAttribute("transform",a),(a=dg.transform.baseVal.consolidate())?u_((a=a.matrix).a,a.b,a.c,a.d,a.e,a.f):d_)},", ",")",")");function rP(a,l){var u,p;return function(){var m=ic(this,a),_=m.tween;if(_!==u){for(var I=0,S=(p=u=_).length;I<S;++I)if(p[I].name===l){(p=p.slice()).splice(I,1);break}}m.tween=p}}function ug(a,l,u){var p,m;if(typeof u!="function")throw new Error;return function(){var _=ic(this,a),I=_.tween;if(I!==p){m=(p=I).slice();for(var S={name:l,value:u},P=0,A=m.length;P<A;++P)if(m[P].name===l){m[P]=S;break}P===A&&m.push(S)}_.tween=m}}function m_(a,l,u){var p=a._id;return a.each(function(){var m=ic(this,p);(m.value||(m.value={}))[l]=u.apply(this,arguments)}),function(m){return Lc(m,p).value[l]}}function qb(a,l){var u;return(typeof l=="number"?Mc:l instanceof em?vd:(u=em(l))?(l=u,vd):Ju)(a,l)}function oP(a){return function(){this.removeAttribute(a)}}function Bc(a){return function(){this.removeAttributeNS(a.space,a.local)}}function aP(a,l,u){var p,m,_=u+"";return function(){var I=this.getAttribute(a);return I===_?null:I===p?m:m=l(p=I,u)}}function f_(a,l,u){var p,m,_=u+"";return function(){var I=this.getAttributeNS(a.space,a.local);return I===_?null:I===p?m:m=l(p=I,u)}}function uy(a,l,u){var p,m,_;return function(){var I,S,P=u(this);if(P!=null)return(I=this.getAttribute(a))===(S=P+"")?null:I===p&&S===m?_:(m=S,_=l(p=I,P));this.removeAttribute(a)}}function Wb(a,l,u){var p,m,_;return function(){var I,S,P=u(this);if(P!=null)return(I=this.getAttributeNS(a.space,a.local))===(S=P+"")?null:I===p&&S===m?_:(m=S,_=l(p=I,P));this.removeAttributeNS(a.space,a.local)}}function zb(a,l){var u,p;function m(){var _=l.apply(this,arguments);return _!==p&&(u=(p=_)&&function(I,S){return function(P){this.setAttributeNS(I.space,I.local,S.call(this,P))}}(a,_)),u}return m._value=l,m}function rc(a,l){var u,p;function m(){var _=l.apply(this,arguments);return _!==p&&(u=(p=_)&&function(I,S){return function(P){this.setAttribute(I,S.call(this,P))}}(a,_)),u}return m._value=l,m}function sm(a,l){return function(){l_(this,a).delay=+l.apply(this,arguments)}}function py(a,l){return l=+l,function(){l_(this,a).delay=l}}function Yb(a,l){return function(){ic(this,a).duration=+l.apply(this,arguments)}}function h_(a,l){return l=+l,function(){ic(this,a).duration=l}}var Jb=ec.prototype.constructor;function g_(a){return function(){this.style.removeProperty(a)}}var my=0;function Na(a,l,u,p){this._groups=a,this._parents=l,this._name=u,this._id=p}function _n(a){return ec().transition(a)}function eo(){return++my}var $i=ec.prototype;function Wi(a){return a*a*a}function Rt(a){return--a*a*a+1}function Ft(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}Na.prototype=_n.prototype={constructor:Na,select:function(a){var l=this._name,u=this._id;typeof a!="function"&&(a=md(a));for(var p=this._groups,m=p.length,_=new Array(m),I=0;I<m;++I)for(var S,P,A=p[I],G=A.length,X=_[I]=new Array(G),z=0;z<G;++z)(S=A[z])&&(P=a.call(S,S.__data__,z,A))&&("__data__"in S&&(P.__data__=S.__data__),X[z]=P,cg(X[z],l,u,z,X,Lc(S,u)));return new Na(_,this._parents,l,u)},selectAll:function(a){var l=this._name,u=this._id;typeof a!="function"&&(a=Uo(a));for(var p=this._groups,m=p.length,_=[],I=[],S=0;S<m;++S)for(var P,A=p[S],G=A.length,X=0;X<G;++X)if(P=A[X]){for(var z,te=a.call(P,P.__data__,X,A),de=Lc(P,u),le=0,ue=te.length;le<ue;++le)(z=te[le])&&cg(z,l,u,le,te,de);_.push(te),I.push(P)}return new Na(_,I,l,u)},selectChild:$i.selectChild,selectChildren:$i.selectChildren,filter:function(a){typeof a!="function"&&(a=su(a));for(var l=this._groups,u=l.length,p=new Array(u),m=0;m<u;++m)for(var _,I=l[m],S=I.length,P=p[m]=[],A=0;A<S;++A)(_=I[A])&&a.call(_,_.__data__,A,I)&&P.push(_);return new Na(p,this._parents,this._name,this._id)},merge:function(a){if(a._id!==this._id)throw new Error;for(var l=this._groups,u=a._groups,p=l.length,m=u.length,_=Math.min(p,m),I=new Array(p),S=0;S<_;++S)for(var P,A=l[S],G=u[S],X=A.length,z=I[S]=new Array(X),te=0;te<X;++te)(P=A[te]||G[te])&&(z[te]=P);for(;S<p;++S)I[S]=l[S];return new Na(I,this._parents,this._name,this._id)},selection:function(){return new Jb(this._groups,this._parents)},transition:function(){for(var a=this._name,l=this._id,u=eo(),p=this._groups,m=p.length,_=0;_<m;++_)for(var I,S=p[_],P=S.length,A=0;A<P;++A)if(I=S[A]){var G=Lc(I,l);cg(I,a,u,A,S,{time:G.time+G.delay+G.duration,delay:0,duration:G.duration,ease:G.ease})}return new Na(p,this._parents,a,u)},call:$i.call,nodes:$i.nodes,node:$i.node,size:$i.size,empty:$i.empty,each:$i.each,on:function(a,l){var u=this._id;return arguments.length<2?Lc(this.node(),u).on.on(a):this.each(function(p,m,_){var I,S,P=function(A){return(A+"").trim().split(/^|\s+/).every(function(G){var X=G.indexOf(".");return X>=0&&(G=G.slice(0,X)),!G||G==="start"})}(m)?l_:ic;return function(){var A=P(this,p),G=A.on;G!==I&&(S=(I=G).copy()).on(m,_),A.on=S}}(u,a,l))},attr:function(a,l){var u=tf(a),p=u==="transform"?Kb:qb;return this.attrTween(a,typeof l=="function"?(u.local?Wb:uy)(u,p,m_(this,"attr."+a,l)):l==null?(u.local?Bc:oP)(u):(u.local?f_:aP)(u,p,l))},attrTween:function(a,l){var u="attr."+a;if(arguments.length<2)return(u=this.tween(u))&&u._value;if(l==null)return this.tween(u,null);if(typeof l!="function")throw new Error;var p=tf(a);return this.tween(u,(p.local?zb:rc)(p,l))},style:function(a,l,u){var p=(a+="")=="transform"?vr:qb;return l==null?this.styleTween(a,function(m,_){var I,S,P;return function(){var A=zu(this,m),G=(this.style.removeProperty(m),zu(this,m));return A===G?null:A===I&&G===S?P:P=_(I=A,S=G)}}(a,p)).on("end.style."+a,g_(a)):typeof l=="function"?this.styleTween(a,function(m,_,I){var S,P,A;return function(){var G=zu(this,m),X=I(this),z=X+"";return X==null&&(this.style.removeProperty(m),z=X=zu(this,m)),G===z?null:G===S&&z===P?A:(P=z,A=_(S=G,X))}}(a,p,m_(this,"style."+a,l))).each(function(m,_){var I,S,P,A,G="style."+_,X="end."+G;return function(){var z=ic(this,m),te=z.on,de=z.value[G]==null?A||(A=g_(_)):void 0;te===I&&P===de||(S=(I=te).copy()).on(X,P=de),z.on=S}}(this._id,a)):this.styleTween(a,function(m,_,I){var S,P,A=I+"";return function(){var G=zu(this,m);return G===A?null:G===S?P:P=_(S=G,I)}}(a,p,l),u).on("end.style."+a,null)},styleTween:function(a,l,u){var p="style."+(a+="");if(arguments.length<2)return(p=this.tween(p))&&p._value;if(l==null)return this.tween(p,null);if(typeof l!="function")throw new Error;return this.tween(p,function(m,_,I){var S,P;function A(){var G=_.apply(this,arguments);return G!==P&&(S=(P=G)&&function(X,z,te){return function(de){this.style.setProperty(X,z.call(this,de),te)}}(m,G,I)),S}return A._value=_,A}(a,l,u??""))},text:function(a){return this.tween("text",typeof a=="function"?function(l){return function(){var u=l(this);this.textContent=u??""}}(m_(this,"text",a)):function(l){return function(){this.textContent=l}}(a==null?"":a+""))},textTween:function(a){var l="text";if(arguments.length<1)return(l=this.tween(l))&&l._value;if(a==null)return this.tween(l,null);if(typeof a!="function")throw new Error;return this.tween(l,function(u){var p,m;function _(){var I=u.apply(this,arguments);return I!==m&&(p=(m=I)&&function(S){return function(P){this.textContent=S.call(this,P)}}(I)),p}return _._value=u,_}(a))},remove:function(){return this.on("end.remove",function(a){return function(){var l=this.parentNode;for(var u in this.__transition)if(+u!==a)return;l&&l.removeChild(this)}}(this._id))},tween:function(a,l){var u=this._id;if(a+="",arguments.length<2){for(var p,m=Lc(this.node(),u).tween,_=0,I=m.length;_<I;++_)if((p=m[_]).name===a)return p.value;return null}return this.each((l==null?rP:ug)(u,a,l))},delay:function(a){var l=this._id;return arguments.length?this.each((typeof a=="function"?sm:py)(l,a)):Lc(this.node(),l).delay},duration:function(a){var l=this._id;return arguments.length?this.each((typeof a=="function"?Yb:h_)(l,a)):Lc(this.node(),l).duration},ease:function(a){var l=this._id;return arguments.length?this.each(function(u,p){if(typeof p!="function")throw new Error;return function(){ic(this,u).ease=p}}(l,a)):Lc(this.node(),l).ease},easeVarying:function(a){if(typeof a!="function")throw new Error;return this.each(function(l,u){return function(){var p=u.apply(this,arguments);if(typeof p!="function")throw new Error;ic(this,l).ease=p}}(this._id,a))},end:function(){var a,l,u=this,p=u._id,m=u.size();return new Promise(function(_,I){var S={value:I},P={value:function(){--m==0&&_()}};u.each(function(){var A=ic(this,p),G=A.on;G!==a&&((l=(a=G).copy())._.cancel.push(S),l._.interrupt.push(S),l._.end.push(P)),A.on=l}),m===0&&_()})},[Symbol.iterator]:$i[Symbol.iterator]};var du={time:null,delay:0,duration:250,ease:Ft};function to(a,l){for(var u;!(u=a.__transition)||!(u=u[l]);)if(!(a=a.parentNode))throw new Error(`transition ${l} not found`);return u}ec.prototype.interrupt=function(a){return this.each(function(){am(this,a)})},ec.prototype.transition=function(a){var l,u;a instanceof Na?(l=a._id,a=a._name):(l=eo(),(u=du).time=om(),a=a==null?null:a+"");for(var p=this._groups,m=p.length,_=0;_<m;++_)for(var I,S=p[_],P=S.length,A=0;A<P;++A)(I=S[A])&&cg(I,a,l,A,S,u||to(I,l));return new Na(p,this._parents,a,l)};var Uc=[null];function Xb(a,l){var u,p,m=a.__transition;if(m){for(p in l=l==null?null:l+"",m)if((u=m[p]).state>a_&&u.name===l)return new Na([[a]],Uc,l,+p)}return null}let v_=a=>()=>a;function Rl(a,{sourceEvent:l,target:u,selection:p,mode:m,dispatch:_}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},selection:{value:p,enumerable:!0,configurable:!0},mode:{value:m,enumerable:!0,configurable:!0},_:{value:_}})}function $c(a){a.preventDefault(),a.stopImmediatePropagation()}var pg={name:"drag"},lm={name:"space"},mf={name:"handle"},ff={name:"center"};let{abs:fy,max:Ra,min:Ya}=Math;function hy(a){return[+a[0],+a[1]]}function __(a){return[hy(a[0]),hy(a[1])]}var hf={name:"x",handles:["w","e"].map(gf),input:function(a,l){return a==null?null:[[+a[0],l[0][1]],[+a[1],l[1][1]]]},output:function(a){return a&&[a[0][0],a[1][0]]}},mg={name:"y",handles:["n","s"].map(gf),input:function(a,l){return a==null?null:[[l[0][0],+a[0]],[l[1][0],+a[1]]]},output:function(a){return a&&[a[0][1],a[1][1]]}},C_={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(gf),input:function(a){return a==null?null:__(a)},output:function(a){return a}},Cd={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fg={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},gy={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},y_={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Qb={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function gf(a){return{type:a}}function sP(a){return!a.ctrlKey&&!a.button}function Zb(){var a=this.ownerSVGElement||this;return a.hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]}function Qu(){return navigator.maxTouchPoints||"ontouchstart"in this}function E_(a){for(;!a.__brush;)if(!(a=a.parentNode))return;return a.__brush}function eI(a){var l=a.__brush;return l?l.dim.output(l.selection):null}function lP(){return hg(hf)}function tI(){return hg(mg)}function Zu(){return hg(C_)}function hg(a){var l,u=Zb,p=sP,m=Qu,_=!0,I=kh("start","brush","end"),S=6;function P(ue){var pe=ue.property("__brush",le).selectAll(".overlay").data([gf("overlay")]);pe.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Cd.overlay).merge(pe).each(function(){var fe=E_(this).extent;as(this).attr("x",fe[0][0]).attr("y",fe[0][1]).attr("width",fe[1][0]-fe[0][0]).attr("height",fe[1][1]-fe[0][1])}),ue.selectAll(".selection").data([gf("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Cd.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var ye=ue.selectAll(".handle").data(a.handles,function(fe){return fe.type});ye.exit().remove(),ye.enter().append("rect").attr("class",function(fe){return"handle handle--"+fe.type}).attr("cursor",function(fe){return Cd[fe.type]}),ue.each(A).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",z).filter(m).on("touchstart.brush",z).on("touchmove.brush",te).on("touchend.brush touchcancel.brush",de).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(){var ue=as(this),pe=E_(this).selection;pe?(ue.selectAll(".selection").style("display",null).attr("x",pe[0][0]).attr("y",pe[0][1]).attr("width",pe[1][0]-pe[0][0]).attr("height",pe[1][1]-pe[0][1]),ue.selectAll(".handle").style("display",null).attr("x",function(ye){return ye.type[ye.type.length-1]==="e"?pe[1][0]-S/2:pe[0][0]-S/2}).attr("y",function(ye){return ye.type[0]==="s"?pe[1][1]-S/2:pe[0][1]-S/2}).attr("width",function(ye){return ye.type==="n"||ye.type==="s"?pe[1][0]-pe[0][0]+S:S}).attr("height",function(ye){return ye.type==="e"||ye.type==="w"?pe[1][1]-pe[0][1]+S:S})):ue.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function G(ue,pe,ye){var fe=ue.__brush.emitter;return!fe||ye&&fe.clean?new X(ue,pe,ye):fe}function X(ue,pe,ye){this.that=ue,this.args=pe,this.state=ue.__brush,this.active=0,this.clean=ye}function z(ue){if((!l||ue.touches)&&p.apply(this,arguments)){var pe,ye,fe,me,xe,De,tt,ct,je,Xe,qe,Ze=this,Ct=ue.target.__data__.type,Oe=(_&&ue.metaKey?Ct="overlay":Ct)==="selection"?pg:_&&ue.altKey?ff:mf,ze=a===mg?null:y_[Ct],lt=a===hf?null:Qb[Ct],gt=E_(Ze),Bt=gt.extent,qt=gt.selection,gn=Bt[0][0],Zt=Bt[0][1],Rn=Bt[1][0],zi=Bt[1][1],Jn=0,fi=0,Yo=ze&&lt&&_&&ue.shiftKey,Cr=Array.from(ue.touches||[ue],Pr=>{let Jo=Pr.identifier;return(Pr=Ol(Pr,Ze)).point0=Pr.slice(),Pr.identifier=Jo,Pr});am(Ze);var Ns=G(Ze,arguments,!0).beforestart();if(Ct==="overlay"){qt&&(je=!0);let Pr=[Cr[0],Cr[1]||Cr[0]];gt.selection=qt=[[pe=a===mg?gn:Ya(Pr[0][0],Pr[1][0]),fe=a===hf?Zt:Ya(Pr[0][1],Pr[1][1])],[xe=a===mg?Rn:Ra(Pr[0][0],Pr[1][0]),tt=a===hf?zi:Ra(Pr[0][1],Pr[1][1])]],Cr.length>1&&_m(ue)}else pe=qt[0][0],fe=qt[0][1],xe=qt[1][0],tt=qt[1][1];ye=pe,me=fe,De=xe,ct=tt;var _u=as(Ze).attr("pointer-events","none"),fp=_u.selectAll(".overlay").attr("cursor",Cd[Ct]);if(ue.touches)Ns.moved=KS,Ns.ended=pE;else{var Yh=as(ue.view).on("mousemove.brush",KS,!0).on("mouseup.brush",pE,!0);_&&Yh.on("keydown.brush",function(Pr){switch(Pr.keyCode){case 16:Yo=ze&&lt;break;case 18:Oe===mf&&(ze&&(xe=De-Jn*ze,pe=ye+Jn*ze),lt&&(tt=ct-fi*lt,fe=me+fi*lt),Oe=ff,_m(Pr));break;case 32:Oe!==mf&&Oe!==ff||(ze<0?xe=De-Jn:ze>0&&(pe=ye-Jn),lt<0?tt=ct-fi:lt>0&&(fe=me-fi),Oe=lm,fp.attr("cursor",Cd.selection),_m(Pr));break;default:return}$c(Pr)},!0).on("keyup.brush",function(Pr){switch(Pr.keyCode){case 16:Yo&&(Xe=qe=Yo=!1,_m(Pr));break;case 18:Oe===ff&&(ze<0?xe=De:ze>0&&(pe=ye),lt<0?tt=ct:lt>0&&(fe=me),Oe=mf,_m(Pr));break;case 32:Oe===lm&&(Pr.altKey?(ze&&(xe=De-Jn*ze,pe=ye+Jn*ze),lt&&(tt=ct-fi*lt,fe=me+fi*lt),Oe=ff):(ze<0?xe=De:ze>0&&(pe=ye),lt<0?tt=ct:lt>0&&(fe=me),Oe=mf),fp.attr("cursor",Cd[Ct]),_m(Pr));break;default:return}$c(Pr)},!0),of(ue.view)}A.call(Ze),Ns.start(ue,Oe.name)}function KS(Pr){for(let Jo of Pr.changedTouches||[Pr])for(let Hg of Cr)Hg.identifier===Jo.identifier&&(Hg.cur=Ol(Jo,Ze));if(Yo&&!Xe&&!qe&&Cr.length===1){let Jo=Cr[0];fy(Jo.cur[0]-Jo[0])>fy(Jo.cur[1]-Jo[1])?qe=!0:Xe=!0}for(let Jo of Cr)Jo.cur&&(Jo[0]=Jo.cur[0],Jo[1]=Jo.cur[1]);je=!0,$c(Pr),_m(Pr)}function _m(Pr){let Jo=Cr[0],Hg=Jo.point0;var Cm;switch(Jn=Jo[0]-Hg[0],fi=Jo[1]-Hg[1],Oe){case lm:case pg:ze&&(Jn=Ra(gn-pe,Ya(Rn-xe,Jn)),ye=pe+Jn,De=xe+Jn),lt&&(fi=Ra(Zt-fe,Ya(zi-tt,fi)),me=fe+fi,ct=tt+fi);break;case mf:Cr[1]?(ze&&(ye=Ra(gn,Ya(Rn,Cr[0][0])),De=Ra(gn,Ya(Rn,Cr[1][0])),ze=1),lt&&(me=Ra(Zt,Ya(zi,Cr[0][1])),ct=Ra(Zt,Ya(zi,Cr[1][1])),lt=1)):(ze<0?(Jn=Ra(gn-pe,Ya(Rn-pe,Jn)),ye=pe+Jn,De=xe):ze>0&&(Jn=Ra(gn-xe,Ya(Rn-xe,Jn)),ye=pe,De=xe+Jn),lt<0?(fi=Ra(Zt-fe,Ya(zi-fe,fi)),me=fe+fi,ct=tt):lt>0&&(fi=Ra(Zt-tt,Ya(zi-tt,fi)),me=fe,ct=tt+fi));break;case ff:ze&&(ye=Ra(gn,Ya(Rn,pe-Jn*ze)),De=Ra(gn,Ya(Rn,xe+Jn*ze))),lt&&(me=Ra(Zt,Ya(zi,fe-fi*lt)),ct=Ra(Zt,Ya(zi,tt+fi*lt)))}De<ye&&(ze*=-1,Cm=pe,pe=xe,xe=Cm,Cm=ye,ye=De,De=Cm,Ct in fg&&fp.attr("cursor",Cd[Ct=fg[Ct]])),ct<me&&(lt*=-1,Cm=fe,fe=tt,tt=Cm,Cm=me,me=ct,ct=Cm,Ct in gy&&fp.attr("cursor",Cd[Ct=gy[Ct]])),gt.selection&&(qt=gt.selection),Xe&&(ye=qt[0][0],De=qt[1][0]),qe&&(me=qt[0][1],ct=qt[1][1]),qt[0][0]===ye&&qt[0][1]===me&&qt[1][0]===De&&qt[1][1]===ct||(gt.selection=[[ye,me],[De,ct]],A.call(Ze),Ns.brush(Pr,Oe.name))}function pE(Pr){if(function(Jo){Jo.stopImmediatePropagation()}(Pr),Pr.touches){if(Pr.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else J0(Pr.view,je),Yh.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);_u.attr("pointer-events","all"),fp.attr("cursor",Cd.overlay),gt.selection&&(qt=gt.selection),function(Jo){return Jo[0][0]===Jo[1][0]||Jo[0][1]===Jo[1][1]}(qt)&&(gt.selection=null,A.call(Ze)),Ns.end(Pr,Oe.name)}}function te(ue){G(this,arguments).moved(ue)}function de(ue){G(this,arguments).ended(ue)}function le(){var ue=this.__brush||{selection:null};return ue.extent=__(u.apply(this,arguments)),ue.dim=a,ue}return P.move=function(ue,pe,ye){ue.tween?ue.on("start.brush",function(fe){G(this,arguments).beforestart().start(fe)}).on("interrupt.brush end.brush",function(fe){G(this,arguments).end(fe)}).tween("brush",function(){var fe=this,me=fe.__brush,xe=G(fe,arguments),De=me.selection,tt=a.input(typeof pe=="function"?pe.apply(this,arguments):pe,me.extent),ct=ls(De,tt);function je(Xe){me.selection=Xe===1&&tt===null?null:ct(Xe),A.call(fe),xe.brush()}return De!==null&&tt!==null?je:je(1)}):ue.each(function(){var fe=this,me=arguments,xe=fe.__brush,De=a.input(typeof pe=="function"?pe.apply(fe,me):pe,xe.extent),tt=G(fe,me).beforestart();am(fe),xe.selection=De===null?null:De,A.call(fe),tt.start(ye).brush(ye).end(ye)})},P.clear=function(ue,pe){P.move(ue,null,pe)},X.prototype={beforestart:function(){return++this.active==1&&(this.state.emitter=this,this.starting=!0),this},start:function(ue,pe){return this.starting?(this.starting=!1,this.emit("start",ue,pe)):this.emit("brush",ue),this},brush:function(ue,pe){return this.emit("brush",ue,pe),this},end:function(ue,pe){return--this.active==0&&(delete this.state.emitter,this.emit("end",ue,pe)),this},emit:function(ue,pe,ye){var fe=as(this.that).datum();I.call(ue,this.that,new Rl(ue,{sourceEvent:pe,target:P,selection:a.output(this.state.selection),mode:ye,dispatch:I}),fe)}},P.extent=function(ue){return arguments.length?(u=typeof ue=="function"?ue:v_(__(ue)),P):u},P.filter=function(ue){return arguments.length?(p=typeof ue=="function"?ue:v_(!!ue),P):p},P.touchable=function(ue){return arguments.length?(m=typeof ue=="function"?ue:v_(!!ue),P):m},P.handleSize=function(ue){return arguments.length?(S=+ue,P):S},P.keyModifiers=function(ue){return arguments.length?(_=!!ue,P):_},P.on=function(){var ue=I.on.apply(I,arguments);return ue===I?P:ue},P}var T_=Math.abs,cm=Math.cos,ep=Math.sin,vf=Math.PI,gi=vf/2,gg=2*vf,b_=Math.max,tp=1e-12;function vg(a,l){return Array.from({length:l-a},(u,p)=>a+p)}function nI(){return I_(!1,!1)}function zs(){return I_(!1,!0)}function iI(){return I_(!0,!1)}function I_(a,l){var u=0,p=null,m=null,_=null;function I(S){var P,A=S.length,G=new Array(A),X=vg(0,A),z=new Array(A*A),te=new Array(A),de=0;S=Float64Array.from({length:A*A},l?(le,ue)=>S[ue%A][ue/A|0]:(le,ue)=>S[ue/A|0][ue%A]);for(let le=0;le<A;++le){let ue=0;for(let pe=0;pe<A;++pe)ue+=S[le*A+pe]+a*S[pe*A+le];de+=G[le]=ue}P=(de=b_(0,gg-u*A)/de)?u:gg/A;{let le=0;p&&X.sort((ue,pe)=>p(G[ue],G[pe]));for(let ue of X){let pe=le;if(a){let ye=vg(1+~A,A).filter(fe=>fe<0?S[~fe*A+ue]:S[ue*A+fe]);m&&ye.sort((fe,me)=>m(fe<0?-S[~fe*A+ue]:S[ue*A+fe],me<0?-S[~me*A+ue]:S[ue*A+me]));for(let fe of ye)fe<0?(z[~fe*A+ue]||(z[~fe*A+ue]={source:null,target:null})).target={index:ue,startAngle:le,endAngle:le+=S[~fe*A+ue]*de,value:S[~fe*A+ue]}:(z[ue*A+fe]||(z[ue*A+fe]={source:null,target:null})).source={index:ue,startAngle:le,endAngle:le+=S[ue*A+fe]*de,value:S[ue*A+fe]};te[ue]={index:ue,startAngle:pe,endAngle:le,value:G[ue]}}else{let ye=vg(0,A).filter(fe=>S[ue*A+fe]||S[fe*A+ue]);m&&ye.sort((fe,me)=>m(S[ue*A+fe],S[ue*A+me]));for(let fe of ye){let me;if(ue<fe?(me=z[ue*A+fe]||(z[ue*A+fe]={source:null,target:null}),me.source={index:ue,startAngle:le,endAngle:le+=S[ue*A+fe]*de,value:S[ue*A+fe]}):(me=z[fe*A+ue]||(z[fe*A+ue]={source:null,target:null}),me.target={index:ue,startAngle:le,endAngle:le+=S[ue*A+fe]*de,value:S[ue*A+fe]},ue===fe&&(me.source=me.target)),me.source&&me.target&&me.source.value<me.target.value){let xe=me.source;me.source=me.target,me.target=xe}}te[ue]={index:ue,startAngle:pe,endAngle:le,value:G[ue]}}le+=P}}return(z=Object.values(z)).groups=te,_?z.sort(_):z}return I.padAngle=function(S){return arguments.length?(u=b_(0,S),I):u},I.sortGroups=function(S){return arguments.length?(p=S,I):p},I.sortSubgroups=function(S){return arguments.length?(m=S,I):m},I.sortChords=function(S){return arguments.length?(S==null?_=null:(P=S,_=function(A,G){return P(A.source.value+A.target.value,G.source.value+G.target.value)})._=S,I):_&&_._;var P},I}let vy=Math.PI,yd=2*vy,Ma=1e-6,_y=yd-Ma;function S_(a){this._+=a[0];for(let l=1,u=a.length;l<u;++l)this._+=arguments[l]+a[l]}class _g{constructor(l){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=l==null?S_:function(u){let p=Math.floor(u);if(!(p>=0))throw new Error(`invalid digits: ${u}`);if(p>15)return S_;let m=10**p;return function(_){this._+=_[0];for(let I=1,S=_.length;I<S;++I)this._+=Math.round(arguments[I]*m)/m+_[I]}}(l)}moveTo(l,u){this._append`M${this._x0=this._x1=+l},${this._y0=this._y1=+u}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(l,u){this._append`L${this._x1=+l},${this._y1=+u}`}quadraticCurveTo(l,u,p,m){this._append`Q${+l},${+u},${this._x1=+p},${this._y1=+m}`}bezierCurveTo(l,u,p,m,_,I){this._append`C${+l},${+u},${+p},${+m},${this._x1=+_},${this._y1=+I}`}arcTo(l,u,p,m,_){if(l=+l,u=+u,p=+p,m=+m,(_=+_)<0)throw new Error(`negative radius: ${_}`);let I=this._x1,S=this._y1,P=p-l,A=m-u,G=I-l,X=S-u,z=G*G+X*X;if(this._x1===null)this._append`M${this._x1=l},${this._y1=u}`;else if(z>Ma)if(Math.abs(X*P-A*G)>Ma&&_){let te=p-I,de=m-S,le=P*P+A*A,ue=te*te+de*de,pe=Math.sqrt(le),ye=Math.sqrt(z),fe=_*Math.tan((vy-Math.acos((le+z-ue)/(2*pe*ye)))/2),me=fe/ye,xe=fe/pe;Math.abs(me-1)>Ma&&this._append`L${l+me*G},${u+me*X}`,this._append`A${_},${_},0,0,${+(X*te>G*de)},${this._x1=l+xe*P},${this._y1=u+xe*A}`}else this._append`L${this._x1=l},${this._y1=u}`}arc(l,u,p,m,_,I){if(l=+l,u=+u,I=!!I,(p=+p)<0)throw new Error(`negative radius: ${p}`);let S=p*Math.cos(m),P=p*Math.sin(m),A=l+S,G=u+P,X=1^I,z=I?m-_:_-m;this._x1===null?this._append`M${A},${G}`:(Math.abs(this._x1-A)>Ma||Math.abs(this._y1-G)>Ma)&&this._append`L${A},${G}`,p&&(z<0&&(z=z%yd+yd),z>_y?this._append`A${p},${p},0,1,${X},${l-S},${u-P}A${p},${p},0,1,${X},${this._x1=A},${this._y1=G}`:z>Ma&&this._append`A${p},${p},0,${+(z>=vy)},${X},${this._x1=l+p*Math.cos(_)},${this._y1=u+p*Math.sin(_)}`)}rect(l,u,p,m){this._append`M${this._x0=this._x1=+l},${this._y0=this._y1=+u}h${p=+p}v${+m}h${-p}Z`}toString(){return this._}}function _f(){return new _g}function rI(a=3){return new _g(+a)}_f.prototype=_g.prototype;var oI=Array.prototype.slice;function dm(a){return function(){return a}}function aI(a){return a.source}function Cy(a){return a.target}function yy(a){return a.radius}function Cg(a){return a.startAngle}function Ey(a){return a.endAngle}function sI(){return 0}function lI(){return 10}function yg(a){var l=aI,u=Cy,p=yy,m=yy,_=Cg,I=Ey,S=sI,P=null;function A(){var G,X=l.apply(this,arguments),z=u.apply(this,arguments),te=S.apply(this,arguments)/2,de=oI.call(arguments),le=+p.apply(this,(de[0]=X,de)),ue=_.apply(this,de)-gi,pe=I.apply(this,de)-gi,ye=+m.apply(this,(de[0]=z,de)),fe=_.apply(this,de)-gi,me=I.apply(this,de)-gi;if(P||(P=G=_f()),te>tp&&(T_(pe-ue)>2*te+tp?pe>ue?(ue+=te,pe-=te):(ue-=te,pe+=te):ue=pe=(ue+pe)/2,T_(me-fe)>2*te+tp?me>fe?(fe+=te,me-=te):(fe-=te,me+=te):fe=me=(fe+me)/2),P.moveTo(le*cm(ue),le*ep(ue)),P.arc(0,0,le,ue,pe),ue!==fe||pe!==me)if(a){var xe=ye-+a.apply(this,arguments),De=(fe+me)/2;P.quadraticCurveTo(0,0,xe*cm(fe),xe*ep(fe)),P.lineTo(ye*cm(De),ye*ep(De)),P.lineTo(xe*cm(me),xe*ep(me))}else P.quadraticCurveTo(0,0,ye*cm(fe),ye*ep(fe)),P.arc(0,0,ye,fe,me);if(P.quadraticCurveTo(0,0,le*cm(ue),le*ep(ue)),P.closePath(),G)return P=null,G+""||null}return a&&(A.headRadius=function(G){return arguments.length?(a=typeof G=="function"?G:dm(+G),A):a}),A.radius=function(G){return arguments.length?(p=m=typeof G=="function"?G:dm(+G),A):p},A.sourceRadius=function(G){return arguments.length?(p=typeof G=="function"?G:dm(+G),A):p},A.targetRadius=function(G){return arguments.length?(m=typeof G=="function"?G:dm(+G),A):m},A.startAngle=function(G){return arguments.length?(_=typeof G=="function"?G:dm(+G),A):_},A.endAngle=function(G){return arguments.length?(I=typeof G=="function"?G:dm(+G),A):I},A.padAngle=function(G){return arguments.length?(S=typeof G=="function"?G:dm(+G),A):S},A.source=function(G){return arguments.length?(l=G,A):l},A.target=function(G){return arguments.length?(u=G,A):u},A.context=function(G){return arguments.length?(P=G??null,A):P},A}function Ty(){return yg()}function by(){return yg(lI)}let Iy=Math.PI/180,Ed=180/Math.PI,um=.96422,Sy=1,cI=.82521,dI=4/29,Uh=6/29,xy=3*Uh*Uh,uI=Uh*Uh*Uh;function Ay(a){if(a instanceof Td)return new Td(a.l,a.a,a.b,a.opacity);if(a instanceof uu)return fI(a);a instanceof ya||(a=X0(a));var l,u,p=A_(a.r),m=A_(a.g),_=A_(a.b),I=Py((.2225045*p+.7168786*m+.0606169*_)/Sy);return p===m&&m===_?l=u=I:(l=Py((.4360747*p+.3850649*m+.1430804*_)/um),u=Py((.0139322*p+.0971045*m+.7141733*_)/cI)),new Td(116*I-16,500*(l-I),200*(I-u),a.opacity)}function pI(a,l){return new Td(a,0,0,l??1)}function x_(a,l,u,p){return arguments.length===1?Ay(a):new Td(a,l,u,p??1)}function Td(a,l,u,p){this.l=+a,this.a=+l,this.b=+u,this.opacity=+p}function Py(a){return a>uI?Math.pow(a,.3333333333333333):a/xy+dI}function Ml(a){return a>Uh?a*a*a:xy*(a-dI)}function ky(a){return 255*(a<=.0031308?12.92*a:1.055*Math.pow(a,.4166666666666667)-.055)}function A_(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function mI(a){if(a instanceof uu)return new uu(a.h,a.c,a.l,a.opacity);if(a instanceof Td||(a=Ay(a)),a.a===0&&a.b===0)return new uu(NaN,0<a.l&&a.l<100?0:NaN,a.l,a.opacity);var l=Math.atan2(a.b,a.a)*Ed;return new uu(l<0?l+360:l,Math.sqrt(a.a*a.a+a.b*a.b),a.l,a.opacity)}function wy(a,l,u,p){return arguments.length===1?mI(a):new uu(u,l,a,p??1)}function P_(a,l,u,p){return arguments.length===1?mI(a):new uu(a,l,u,p??1)}function uu(a,l,u,p){this.h=+a,this.c=+l,this.l=+u,this.opacity=+p}function fI(a){if(isNaN(a.h))return new Td(a.l,0,0,a.opacity);var l=a.h*Iy;return new Td(a.l,Math.cos(l)*a.c,Math.sin(l)*a.c,a.opacity)}cu(Td,x_,fd(hd,{brighter(a){return new Td(this.l+18*(a??1),this.a,this.b,this.opacity)},darker(a){return new Td(this.l-18*(a??1),this.a,this.b,this.opacity)},rgb(){var a=(this.l+16)/116,l=isNaN(this.a)?a:a+this.a/500,u=isNaN(this.b)?a:a-this.b/200;return new ya(ky(3.1338561*(l=um*Ml(l))-1.6168667*(a=Sy*Ml(a))-.4906146*(u=cI*Ml(u))),ky(-.9787684*l+1.9161415*a+.033454*u),ky(.0719453*l-.2289914*a+1.4052427*u),this.opacity)}})),cu(uu,P_,fd(hd,{brighter(a){return new uu(this.h,this.c,this.l+18*(a??1),this.opacity)},darker(a){return new uu(this.h,this.c,this.l-18*(a??1),this.opacity)},rgb(){return fI(this).rgb()}}));var k_=-.14861,w_=1.78277,Dy=-.29227,D_=-.90649,Eg=1.97294,hI=Eg*D_,gI=Eg*w_,vI=w_*Dy-D_*k_;function Hc(a,l,u,p){return arguments.length===1?function(m){if(m instanceof pu)return new pu(m.h,m.s,m.l,m.opacity);m instanceof ya||(m=X0(m));var _=m.r/255,I=m.g/255,S=m.b/255,P=(vI*S+hI*_-gI*I)/(vI+hI-gI),A=S-P,G=(Eg*(I-P)-Dy*A)/D_,X=Math.sqrt(G*G+A*A)/(Eg*P*(1-P)),z=X?Math.atan2(G,A)*Ed-120:NaN;return new pu(z<0?z+360:z,X,P,m.opacity)}(a):new pu(a,l,u,p??1)}function pu(a,l,u,p){this.h=+a,this.s=+l,this.l=+u,this.opacity=+p}cu(pu,Hc,fd(hd,{brighter(a){return a=a==null?Oh:Math.pow(Oh,a),new pu(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?af:Math.pow(af,a),new pu(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=isNaN(this.h)?0:(this.h+120)*Iy,l=+this.l,u=isNaN(this.s)?0:this.s*l*(1-l),p=Math.cos(a),m=Math.sin(a);return new ya(255*(l+u*(k_*p+w_*m)),255*(l+u*(Dy*p+D_*m)),255*(l+u*(Eg*p)),this.opacity)}}));var _I=Array.prototype.slice;function cP(a,l){return a-l}let pm=a=>()=>a;function dP(a,l){for(var u,p=-1,m=l.length;++p<m;)if(u=CI(a,l[p]))return u;return 0}function CI(a,l){for(var u=l[0],p=l[1],m=-1,_=0,I=a.length,S=I-1;_<I;S=_++){var P=a[_],A=P[0],G=P[1],X=a[S],z=X[0],te=X[1];if(yI(P,X,l))return 0;G>p!=te>p&&u<(z-A)*(p-G)/(te-G)+A&&(m=-m)}return m}function yI(a,l,u){var p,m,_,I;return function(S,P,A){return(P[0]-S[0])*(A[1]-S[1])==(A[0]-S[0])*(P[1]-S[1])}(a,l,u)&&(m=a[p=+(a[0]===l[0])],_=u[p],I=l[p],m<=_&&_<=I||I<=_&&_<=m)}function uP(){}var np=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function Oy(){var a=1,l=1,u=zp,p=S;function m(P){var A=u(P);if(Array.isArray(A))A=A.slice().sort(cP);else{let G=$t(P,O_);for(A=Ks(...Ku(G[0],G[1],A),A);A[A.length-1]>=G[1];)A.pop();for(;A[1]<G[0];)A.shift()}return A.map(G=>_(P,G))}function _(P,A){let G=A==null?NaN:+A;if(isNaN(G))throw new Error(`invalid value: ${A}`);var X=[],z=[];return function(te,de,le){var ue,pe,ye,fe,me,xe,De=new Array,tt=new Array;for(ue=pe=-1,fe=Cf(te[0],de),np[fe<<1].forEach(ct);++ue<a-1;)ye=fe,fe=Cf(te[ue+1],de),np[ye|fe<<1].forEach(ct);for(np[0|fe].forEach(ct);++pe<l-1;){for(ue=-1,fe=Cf(te[pe*a+a],de),me=Cf(te[pe*a],de),np[fe<<1|me<<2].forEach(ct);++ue<a-1;)ye=fe,fe=Cf(te[pe*a+a+ue+1],de),xe=me,me=Cf(te[pe*a+ue+1],de),np[ye|fe<<1|me<<2|xe<<3].forEach(ct);np[fe|me<<3].forEach(ct)}for(ue=-1,me=te[pe*a]>=de,np[me<<2].forEach(ct);++ue<a-1;)xe=me,me=Cf(te[pe*a+ue+1],de),np[me<<2|xe<<3].forEach(ct);function ct(je){var Xe,qe,Ze=[je[0][0]+ue,je[0][1]+pe],Ct=[je[1][0]+ue,je[1][1]+pe],Oe=I(Ze),ze=I(Ct);(Xe=tt[Oe])?(qe=De[ze])?(delete tt[Xe.end],delete De[qe.start],Xe===qe?(Xe.ring.push(Ct),le(Xe.ring)):De[Xe.start]=tt[qe.end]={start:Xe.start,end:qe.end,ring:Xe.ring.concat(qe.ring)}):(delete tt[Xe.end],Xe.ring.push(Ct),tt[Xe.end=ze]=Xe):(Xe=De[ze])?(qe=tt[Oe])?(delete De[Xe.start],delete tt[qe.end],Xe===qe?(Xe.ring.push(Ct),le(Xe.ring)):De[qe.start]=tt[Xe.end]={start:qe.start,end:Xe.end,ring:qe.ring.concat(Xe.ring)}):(delete De[Xe.start],Xe.ring.unshift(Ze),De[Xe.start=Oe]=Xe):De[Oe]=tt[ze]={start:Oe,end:ze,ring:[Ze,Ct]}}np[me<<3].forEach(ct)}(P,G,function(te){p(te,P,G),function(de){for(var le=0,ue=de.length,pe=de[ue-1][1]*de[0][0]-de[ue-1][0]*de[0][1];++le<ue;)pe+=de[le-1][1]*de[le][0]-de[le-1][0]*de[le][1];return pe}(te)>0?X.push([te]):z.push(te)}),z.forEach(function(te){for(var de,le=0,ue=X.length;le<ue;++le)if(dP((de=X[le])[0],te)!==-1)return void de.push(te)}),{type:"MultiPolygon",value:A,coordinates:X}}function I(P){return 2*P[0]+P[1]*(a+1)*4}function S(P,A,G){P.forEach(function(X){var z=X[0],te=X[1],de=0|z,le=0|te,ue=Ny(A[le*a+de]);z>0&&z<a&&de===z&&(X[0]=Tg(z,Ny(A[le*a+de-1]),ue,G)),te>0&&te<l&&le===te&&(X[1]=Tg(te,Ny(A[(le-1)*a+de]),ue,G))})}return m.contour=_,m.size=function(P){if(!arguments.length)return[a,l];var A=Math.floor(P[0]),G=Math.floor(P[1]);if(!(A>=0&&G>=0))throw new Error("invalid size");return a=A,l=G,m},m.thresholds=function(P){return arguments.length?(u=typeof P=="function"?P:Array.isArray(P)?pm(_I.call(P)):pm(P),m):u},m.smooth=function(P){return arguments.length?(p=P?S:uP,m):p===S},m}function O_(a){return isFinite(a)?a:NaN}function Cf(a,l){return a!=null&&+a>=l}function Ny(a){return a==null||isNaN(a=+a)?-1/0:a}function Tg(a,l,u,p){let m=p-l,_=u-l,I=isFinite(m)||isFinite(_)?m/_:Math.sign(m)/Math.sign(_);return isNaN(I)?a:a+I-.5}function EI(a){return a[0]}function TI(a){return a[1]}function Ry(){return 1}function bI(){var a=EI,l=TI,u=Ry,p=960,m=500,_=20,I=2,S=3*_,P=p+2*S>>I,A=m+2*S>>I,G=pm(20);function X(ye){var fe=new Float32Array(P*A),me=Math.pow(2,-I),xe=-1;for(let Ct of ye){var De=(a(Ct,++xe,ye)+S)*me,tt=(l(Ct,xe,ye)+S)*me,ct=+u(Ct,xe,ye);if(ct&&De>=0&&De<P&&tt>=0&&tt<A){var je=Math.floor(De),Xe=Math.floor(tt),qe=De-je-.5,Ze=tt-Xe-.5;fe[je+Xe*P]+=(1-qe)*(1-Ze)*ct,fe[je+1+Xe*P]+=qe*(1-Ze)*ct,fe[je+1+(Xe+1)*P]+=qe*Ze*ct,fe[je+(Xe+1)*P]+=(1-qe)*Ze*ct}}return V({data:fe,width:P,height:A},_*me),fe}function z(ye){var fe=X(ye),me=G(fe),xe=Math.pow(2,2*I);return Array.isArray(me)||(me=Ks(Number.MIN_VALUE,qu(fe)/xe,me)),Oy().size([P,A]).thresholds(me.map(De=>De*xe))(fe).map((De,tt)=>(De.value=+me[tt],te(De)))}function te(ye){return ye.coordinates.forEach(de),ye}function de(ye){ye.forEach(le)}function le(ye){ye.forEach(ue)}function ue(ye){ye[0]=ye[0]*Math.pow(2,I)-S,ye[1]=ye[1]*Math.pow(2,I)-S}function pe(){return P=p+2*(S=3*_)>>I,A=m+2*S>>I,z}return z.contours=function(ye){var fe=X(ye),me=Oy().size([P,A]),xe=Math.pow(2,2*I),De=tt=>{tt=+tt;var ct=te(me.contour(fe,tt*xe));return ct.value=tt,ct};return Object.defineProperty(De,"max",{get:()=>qu(fe)/xe}),De},z.x=function(ye){return arguments.length?(a=typeof ye=="function"?ye:pm(+ye),z):a},z.y=function(ye){return arguments.length?(l=typeof ye=="function"?ye:pm(+ye),z):l},z.weight=function(ye){return arguments.length?(u=typeof ye=="function"?ye:pm(+ye),z):u},z.size=function(ye){if(!arguments.length)return[p,m];var fe=+ye[0],me=+ye[1];if(!(fe>=0&&me>=0))throw new Error("invalid size");return p=fe,m=me,pe()},z.cellSize=function(ye){if(!arguments.length)return 1<<I;if(!((ye=+ye)>=1))throw new Error("invalid cell size");return I=Math.floor(Math.log(ye)/Math.LN2),pe()},z.thresholds=function(ye){return arguments.length?(G=typeof ye=="function"?ye:Array.isArray(ye)?pm(_I.call(ye)):pm(ye),z):G},z.bandwidth=function(ye){if(!arguments.length)return Math.sqrt(_*(_+1));if(!((ye=+ye)>=0))throw new Error("invalid bandwidth");return _=(Math.sqrt(4*ye*ye+1)-1)/2,pe()},z}let Ds=134217729;function My(a,l,u,p,m){let _,I,S,P,A=l[0],G=p[0],X=0,z=0;G>A==G>-A?(_=A,A=l[++X]):(_=G,G=p[++z]);let te=0;if(X<a&&z<u)for(G>A==G>-A?(I=A+_,S=_-(I-A),A=l[++X]):(I=G+_,S=_-(I-G),G=p[++z]),_=I,S!==0&&(m[te++]=S);X<a&&z<u;)G>A==G>-A?(I=_+A,P=I-_,S=_-(I-P)+(A-P),A=l[++X]):(I=_+G,P=I-_,S=_-(I-P)+(G-P),G=p[++z]),_=I,S!==0&&(m[te++]=S);for(;X<a;)I=_+A,P=I-_,S=_-(I-P)+(A-P),A=l[++X],_=I,S!==0&&(m[te++]=S);for(;z<u;)I=_+G,P=I-_,S=_-(I-P)+(G-P),G=p[++z],_=I,S!==0&&(m[te++]=S);return _===0&&te!==0||(m[te++]=_),te}function Qt(a){return new Float64Array(a)}let ip=Qt(4),bg=Qt(8),II=Qt(12),N_=Qt(16),Ys=Qt(4);function R_(a,l,u,p,m,_){let I=(l-_)*(u-m),S=(a-m)*(p-_),P=I-S,A=Math.abs(I+S);return Math.abs(P)>=33306690738754716e-32*A?P:-function(G,X,z,te,de,le,ue){let pe,ye,fe,me,xe,De,tt,ct,je,Xe,qe,Ze,Ct,Oe,ze,lt,gt,Bt,qt=G-de,gn=z-de,Zt=X-le,Rn=te-le;Oe=qt*Rn,De=Ds*qt,tt=De-(De-qt),ct=qt-tt,De=Ds*Rn,je=De-(De-Rn),Xe=Rn-je,ze=ct*Xe-(Oe-tt*je-ct*je-tt*Xe),lt=Zt*gn,De=Ds*Zt,tt=De-(De-Zt),ct=Zt-tt,De=Ds*gn,je=De-(De-gn),Xe=gn-je,gt=ct*Xe-(lt-tt*je-ct*je-tt*Xe),qe=ze-gt,xe=ze-qe,ip[0]=ze-(qe+xe)+(xe-gt),Ze=Oe+qe,xe=Ze-Oe,Ct=Oe-(Ze-xe)+(qe-xe),qe=Ct-lt,xe=Ct-qe,ip[1]=Ct-(qe+xe)+(xe-lt),Bt=Ze+qe,xe=Bt-Ze,ip[2]=Ze-(Bt-xe)+(qe-xe),ip[3]=Bt;let zi=function(Ns,_u){let fp=_u[0];for(let Yh=1;Yh<4;Yh++)fp+=_u[Yh];return fp}(0,ip),Jn=22204460492503146e-32*ue;if(zi>=Jn||-zi>=Jn||(xe=G-qt,pe=G-(qt+xe)+(xe-de),xe=z-gn,fe=z-(gn+xe)+(xe-de),xe=X-Zt,ye=X-(Zt+xe)+(xe-le),xe=te-Rn,me=te-(Rn+xe)+(xe-le),pe===0&&ye===0&&fe===0&&me===0)||(Jn=11093356479670487e-47*ue+33306690738754706e-32*Math.abs(zi),zi+=qt*me+Rn*pe-(Zt*fe+gn*ye),zi>=Jn||-zi>=Jn))return zi;Oe=pe*Rn,De=Ds*pe,tt=De-(De-pe),ct=pe-tt,De=Ds*Rn,je=De-(De-Rn),Xe=Rn-je,ze=ct*Xe-(Oe-tt*je-ct*je-tt*Xe),lt=ye*gn,De=Ds*ye,tt=De-(De-ye),ct=ye-tt,De=Ds*gn,je=De-(De-gn),Xe=gn-je,gt=ct*Xe-(lt-tt*je-ct*je-tt*Xe),qe=ze-gt,xe=ze-qe,Ys[0]=ze-(qe+xe)+(xe-gt),Ze=Oe+qe,xe=Ze-Oe,Ct=Oe-(Ze-xe)+(qe-xe),qe=Ct-lt,xe=Ct-qe,Ys[1]=Ct-(qe+xe)+(xe-lt),Bt=Ze+qe,xe=Bt-Ze,Ys[2]=Ze-(Bt-xe)+(qe-xe),Ys[3]=Bt;let fi=My(4,ip,4,Ys,bg);Oe=qt*me,De=Ds*qt,tt=De-(De-qt),ct=qt-tt,De=Ds*me,je=De-(De-me),Xe=me-je,ze=ct*Xe-(Oe-tt*je-ct*je-tt*Xe),lt=Zt*fe,De=Ds*Zt,tt=De-(De-Zt),ct=Zt-tt,De=Ds*fe,je=De-(De-fe),Xe=fe-je,gt=ct*Xe-(lt-tt*je-ct*je-tt*Xe),qe=ze-gt,xe=ze-qe,Ys[0]=ze-(qe+xe)+(xe-gt),Ze=Oe+qe,xe=Ze-Oe,Ct=Oe-(Ze-xe)+(qe-xe),qe=Ct-lt,xe=Ct-qe,Ys[1]=Ct-(qe+xe)+(xe-lt),Bt=Ze+qe,xe=Bt-Ze,Ys[2]=Ze-(Bt-xe)+(qe-xe),Ys[3]=Bt;let Yo=My(fi,bg,4,Ys,II);Oe=pe*me,De=Ds*pe,tt=De-(De-pe),ct=pe-tt,De=Ds*me,je=De-(De-me),Xe=me-je,ze=ct*Xe-(Oe-tt*je-ct*je-tt*Xe),lt=ye*fe,De=Ds*ye,tt=De-(De-ye),ct=ye-tt,De=Ds*fe,je=De-(De-fe),Xe=fe-je,gt=ct*Xe-(lt-tt*je-ct*je-tt*Xe),qe=ze-gt,xe=ze-qe,Ys[0]=ze-(qe+xe)+(xe-gt),Ze=Oe+qe,xe=Ze-Oe,Ct=Oe-(Ze-xe)+(qe-xe),qe=Ct-lt,xe=Ct-qe,Ys[1]=Ct-(qe+xe)+(xe-lt),Bt=Ze+qe,xe=Bt-Ze,Ys[2]=Ze-(Bt-xe)+(qe-xe),Ys[3]=Bt;let Cr=My(Yo,II,4,Ys,N_);return N_[Cr-1]}(a,l,u,p,m,_,A)}Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(8),Qt(8),Qt(8),Qt(4),Qt(8),Qt(8),Qt(8),Qt(12),Qt(192),Qt(192),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(8),Qt(8),Qt(8),Qt(8),Qt(8),Qt(8),Qt(8),Qt(8),Qt(8),Qt(4),Qt(4),Qt(4),Qt(8),Qt(16),Qt(16),Qt(16),Qt(32),Qt(32),Qt(48),Qt(64),Qt(1152),Qt(1152),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(4),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(24),Qt(1152),Qt(1152),Qt(1152),Qt(1152),Qt(1152),Qt(2304),Qt(2304),Qt(3456),Qt(5760),Qt(8),Qt(8),Qt(8),Qt(16),Qt(24),Qt(48),Qt(48),Qt(96),Qt(192),Qt(384),Qt(384),Qt(384),Qt(768),Qt(96),Qt(96),Qt(96),Qt(1152);let Vc=Math.pow(2,-52),M_=new Uint32Array(512);class F_{static from(l,u=mm,p=mP){let m=l.length,_=new Float64Array(2*m);for(let I=0;I<m;I++){let S=l[I];_[2*I]=u(S),_[2*I+1]=p(S)}return new F_(_)}constructor(l){let u=l.length>>1;if(u>0&&typeof l[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=l;let p=Math.max(2*u-5,0);this._triangles=new Uint32Array(3*p),this._halfedges=new Int32Array(3*p),this._hashSize=Math.ceil(Math.sqrt(u)),this._hullPrev=new Uint32Array(u),this._hullNext=new Uint32Array(u),this._hullTri=new Uint32Array(u),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(u),this._dists=new Float64Array(u),this.update()}update(){let{coords:l,_hullPrev:u,_hullNext:p,_hullTri:m,_hullHash:_}=this,I=l.length>>1,S=1/0,P=1/0,A=-1/0,G=-1/0;for(let je=0;je<I;je++){let Xe=l[2*je],qe=l[2*je+1];Xe<S&&(S=Xe),qe<P&&(P=qe),Xe>A&&(A=Xe),qe>G&&(G=qe),this._ids[je]=je}let X=(S+A)/2,z=(P+G)/2,te,de,le;for(let je=0,Xe=1/0;je<I;je++){let qe=rp(X,z,l[2*je],l[2*je+1]);qe<Xe&&(te=je,Xe=qe)}let ue=l[2*te],pe=l[2*te+1];for(let je=0,Xe=1/0;je<I;je++){if(je===te)continue;let qe=rp(ue,pe,l[2*je],l[2*je+1]);qe<Xe&&qe>0&&(de=je,Xe=qe)}let ye=l[2*de],fe=l[2*de+1],me=1/0;for(let je=0;je<I;je++){if(je===te||je===de)continue;let Xe=pP(ue,pe,ye,fe,l[2*je],l[2*je+1]);Xe<me&&(le=je,me=Xe)}let xe=l[2*le],De=l[2*le+1];if(me===1/0){for(let qe=0;qe<I;qe++)this._dists[qe]=l[2*qe]-l[0]||l[2*qe+1]-l[1];cs(this._ids,this._dists,0,I-1);let je=new Uint32Array(I),Xe=0;for(let qe=0,Ze=-1/0;qe<I;qe++){let Ct=this._ids[qe],Oe=this._dists[Ct];Oe>Ze&&(je[Xe++]=Ct,Ze=Oe)}return this.hull=je.subarray(0,Xe),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(R_(ue,pe,ye,fe,xe,De)<0){let je=de,Xe=ye,qe=fe;de=le,ye=xe,fe=De,le=je,xe=Xe,De=qe}let tt=function(je,Xe,qe,Ze,Ct,Oe){let ze=qe-je,lt=Ze-Xe,gt=Ct-je,Bt=Oe-Xe,qt=ze*ze+lt*lt,gn=gt*gt+Bt*Bt,Zt=.5/(ze*Bt-lt*gt);return{x:je+(Bt*qt-lt*gn)*Zt,y:Xe+(ze*gn-gt*qt)*Zt}}(ue,pe,ye,fe,xe,De);this._cx=tt.x,this._cy=tt.y;for(let je=0;je<I;je++)this._dists[je]=rp(l[2*je],l[2*je+1],tt.x,tt.y);cs(this._ids,this._dists,0,I-1),this._hullStart=te;let ct=3;p[te]=u[le]=de,p[de]=u[te]=le,p[le]=u[de]=te,m[te]=0,m[de]=1,m[le]=2,_.fill(-1),_[this._hashKey(ue,pe)]=te,_[this._hashKey(ye,fe)]=de,_[this._hashKey(xe,De)]=le,this.trianglesLen=0,this._addTriangle(te,de,le,-1,-1,-1);for(let je,Xe,qe=0;qe<this._ids.length;qe++){let Ze=this._ids[qe],Ct=l[2*Ze],Oe=l[2*Ze+1];if(qe>0&&Math.abs(Ct-je)<=Vc&&Math.abs(Oe-Xe)<=Vc||(je=Ct,Xe=Oe,Ze===te||Ze===de||Ze===le))continue;let ze=0;for(let gn=0,Zt=this._hashKey(Ct,Oe);gn<this._hashSize&&(ze=_[(Zt+gn)%this._hashSize],ze===-1||ze===p[ze]);gn++);ze=u[ze];let lt,gt=ze;for(;lt=p[gt],R_(Ct,Oe,l[2*gt],l[2*gt+1],l[2*lt],l[2*lt+1])>=0;)if(gt=lt,gt===ze){gt=-1;break}if(gt===-1)continue;let Bt=this._addTriangle(gt,Ze,p[gt],-1,-1,m[gt]);m[Ze]=this._legalize(Bt+2),m[gt]=Bt,ct++;let qt=p[gt];for(;lt=p[qt],R_(Ct,Oe,l[2*qt],l[2*qt+1],l[2*lt],l[2*lt+1])<0;)Bt=this._addTriangle(qt,Ze,lt,m[Ze],-1,m[qt]),m[Ze]=this._legalize(Bt+2),p[qt]=qt,ct--,qt=lt;if(gt===ze)for(;lt=u[gt],R_(Ct,Oe,l[2*lt],l[2*lt+1],l[2*gt],l[2*gt+1])<0;)Bt=this._addTriangle(lt,Ze,gt,-1,m[gt],m[lt]),this._legalize(Bt+2),m[lt]=Bt,p[gt]=gt,ct--,gt=lt;this._hullStart=u[Ze]=gt,p[gt]=u[qt]=Ze,p[Ze]=qt,_[this._hashKey(Ct,Oe)]=Ze,_[this._hashKey(l[2*gt],l[2*gt+1])]=gt}this.hull=new Uint32Array(ct);for(let je=0,Xe=this._hullStart;je<ct;je++)this.hull[je]=Xe,Xe=p[Xe];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(l,u){return Math.floor(function(p,m){let _=p/(Math.abs(p)+Math.abs(m));return(m>0?3-_:1+_)/4}(l-this._cx,u-this._cy)*this._hashSize)%this._hashSize}_legalize(l){let{_triangles:u,_halfedges:p,coords:m}=this,_=0,I=0;for(;;){let S=p[l],P=l-l%3;if(I=P+(l+2)%3,S===-1){if(_===0)break;l=M_[--_];continue}let A=S-S%3,G=P+(l+1)%3,X=A+(S+2)%3,z=u[I],te=u[l],de=u[G],le=u[X];if(or(m[2*z],m[2*z+1],m[2*te],m[2*te+1],m[2*de],m[2*de+1],m[2*le],m[2*le+1])){u[l]=le,u[S]=z;let ue=p[X];if(ue===-1){let ye=this._hullStart;do{if(this._hullTri[ye]===X){this._hullTri[ye]=l;break}ye=this._hullPrev[ye]}while(ye!==this._hullStart)}this._link(l,ue),this._link(S,p[I]),this._link(I,X);let pe=A+(S+1)%3;_<M_.length&&(M_[_++]=pe)}else{if(_===0)break;l=M_[--_]}}return I}_link(l,u){this._halfedges[l]=u,u!==-1&&(this._halfedges[u]=l)}_addTriangle(l,u,p,m,_,I){let S=this.trianglesLen;return this._triangles[S]=l,this._triangles[S+1]=u,this._triangles[S+2]=p,this._link(S,m),this._link(S+1,_),this._link(S+2,I),this.trianglesLen+=3,S}}function rp(a,l,u,p){let m=a-u,_=l-p;return m*m+_*_}function or(a,l,u,p,m,_,I,S){let P=a-I,A=l-S,G=u-I,X=p-S,z=m-I,te=_-S,de=G*G+X*X,le=z*z+te*te;return P*(X*le-de*te)-A*(G*le-de*z)+(P*P+A*A)*(G*te-X*z)<0}function pP(a,l,u,p,m,_){let I=u-a,S=p-l,P=m-a,A=_-l,G=I*I+S*S,X=P*P+A*A,z=.5/(I*A-S*P),te=(A*G-S*X)*z,de=(I*X-P*G)*z;return te*te+de*de}function cs(a,l,u,p){if(p-u<=20)for(let m=u+1;m<=p;m++){let _=a[m],I=l[_],S=m-1;for(;S>=u&&l[a[S]]>I;)a[S+1]=a[S--];a[S+1]=_}else{let m=u+1,_=p;qo(a,u+p>>1,m),l[a[u]]>l[a[p]]&&qo(a,u,p),l[a[m]]>l[a[p]]&&qo(a,m,p),l[a[u]]>l[a[m]]&&qo(a,u,m);let I=a[m],S=l[I];for(;;){do m++;while(l[a[m]]<S);do _--;while(l[a[_]]>S);if(_<m)break;qo(a,m,_)}a[u+1]=a[_],a[_]=I,p-m+1>=_-u?(cs(a,l,m,p),cs(a,l,u,_-1)):(cs(a,l,u,_-1),cs(a,l,m,p))}}function qo(a,l,u){let p=a[l];a[l]=a[u],a[u]=p}function mm(a){return a[0]}function mP(a){return a[1]}let L_=1e-6;class fl{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(l,u){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+u}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(l,u){this._+=`L${this._x1=+l},${this._y1=+u}`}arc(l,u,p){let m=(l=+l)+(p=+p),_=u=+u;if(p<0)throw new Error("negative radius");this._x1===null?this._+=`M${m},${_}`:(Math.abs(this._x1-m)>L_||Math.abs(this._y1-_)>L_)&&(this._+="L"+m+","+_),p&&(this._+=`A${p},${p},0,1,1,${l-p},${u}A${p},${p},0,1,1,${this._x1=m},${this._y1=_}`)}rect(l,u,p,m){this._+=`M${this._x0=this._x1=+l},${this._y0=this._y1=+u}h${+p}v${+m}h${-p}Z`}value(){return this._||null}}class B_{constructor(){this._=[]}moveTo(l,u){this._.push([l,u])}closePath(){this._.push(this._[0].slice())}lineTo(l,u){this._.push([l,u])}value(){return this._.length?this._:null}}class Ig{constructor(l,[u,p,m,_]=[0,0,960,500]){if(!((m=+m)>=(u=+u)&&(_=+_)>=(p=+p)))throw new Error("invalid bounds");this.delaunay=l,this._circumcenters=new Float64Array(2*l.points.length),this.vectors=new Float64Array(2*l.points.length),this.xmax=m,this.xmin=u,this.ymax=_,this.ymin=p,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:l,hull:u,triangles:p},vectors:m}=this,_,I,S=this.circumcenters=this._circumcenters.subarray(0,p.length/3*2);for(let le,ue,pe=0,ye=0,fe=p.length;pe<fe;pe+=3,ye+=2){let me=2*p[pe],xe=2*p[pe+1],De=2*p[pe+2],tt=l[me],ct=l[me+1],je=l[xe],Xe=l[xe+1],qe=l[De],Ze=l[De+1],Ct=je-tt,Oe=Xe-ct,ze=qe-tt,lt=Ze-ct,gt=2*(Ct*lt-Oe*ze);if(Math.abs(gt)<1e-9){if(_===void 0){_=I=0;for(let qt of u)_+=l[2*qt],I+=l[2*qt+1];_/=u.length,I/=u.length}let Bt=1e9*Math.sign((_-tt)*lt-(I-ct)*ze);le=(tt+qe)/2-Bt*lt,ue=(ct+Ze)/2+Bt*ze}else{let Bt=1/gt,qt=Ct*Ct+Oe*Oe,gn=ze*ze+lt*lt;le=tt+(lt*qt-Oe*gn)*Bt,ue=ct+(Ct*gn-ze*qt)*Bt}S[ye]=le,S[ye+1]=ue}let P,A,G,X=u[u.length-1],z=4*X,te=l[2*X],de=l[2*X+1];m.fill(0);for(let le=0;le<u.length;++le)X=u[le],P=z,A=te,G=de,z=4*X,te=l[2*X],de=l[2*X+1],m[P+2]=m[z]=G-de,m[P+3]=m[z+1]=te-A}render(l){let u=l==null?l=new fl:void 0,{delaunay:{halfedges:p,inedges:m,hull:_},circumcenters:I,vectors:S}=this;if(_.length<=1)return null;for(let G=0,X=p.length;G<X;++G){let z=p[G];if(z<G)continue;let te=2*Math.floor(G/3),de=2*Math.floor(z/3),le=I[te],ue=I[te+1],pe=I[de],ye=I[de+1];this._renderSegment(le,ue,pe,ye,l)}let P,A=_[_.length-1];for(let G=0;G<_.length;++G){P=A,A=_[G];let X=2*Math.floor(m[A]/3),z=I[X],te=I[X+1],de=4*P,le=this._project(z,te,S[de+2],S[de+3]);le&&this._renderSegment(z,te,le[0],le[1],l)}return u&&u.value()}renderBounds(l){let u=l==null?l=new fl:void 0;return l.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),u&&u.value()}renderCell(l,u){let p=u==null?u=new fl:void 0,m=this._clip(l);if(m===null||!m.length)return;u.moveTo(m[0],m[1]);let _=m.length;for(;m[0]===m[_-2]&&m[1]===m[_-1]&&_>1;)_-=2;for(let I=2;I<_;I+=2)m[I]===m[I-2]&&m[I+1]===m[I-1]||u.lineTo(m[I],m[I+1]);return u.closePath(),p&&p.value()}*cellPolygons(){let{delaunay:{points:l}}=this;for(let u=0,p=l.length/2;u<p;++u){let m=this.cellPolygon(u);m&&(m.index=u,yield m)}}cellPolygon(l){let u=new B_;return this.renderCell(l,u),u.value()}_renderSegment(l,u,p,m,_){let I,S=this._regioncode(l,u),P=this._regioncode(p,m);S===0&&P===0?(_.moveTo(l,u),_.lineTo(p,m)):(I=this._clipSegment(l,u,p,m,S,P))&&(_.moveTo(I[0],I[1]),_.lineTo(I[2],I[3]))}contains(l,u,p){return(u=+u)==u&&(p=+p)==p&&this.delaunay._step(l,u,p)===l}*neighbors(l){let u=this._clip(l);if(u)for(let p of this.delaunay.neighbors(l)){let m=this._clip(p);if(m){e:for(let _=0,I=u.length;_<I;_+=2)for(let S=0,P=m.length;S<P;S+=2)if(u[_]===m[S]&&u[_+1]===m[S+1]&&u[(_+2)%I]===m[(S+P-2)%P]&&u[(_+3)%I]===m[(S+P-1)%P]){yield p;break e}}}}_cell(l){let{circumcenters:u,delaunay:{inedges:p,halfedges:m,triangles:_}}=this,I=p[l];if(I===-1)return null;let S=[],P=I;do{let A=Math.floor(P/3);if(S.push(u[2*A],u[2*A+1]),P=P%3==2?P-2:P+1,_[P]!==l)break;P=m[P]}while(P!==I&&P!==-1);return S}_clip(l){if(l===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let u=this._cell(l);if(u===null)return null;let{vectors:p}=this,m=4*l;return this._simplify(p[m]||p[m+1]?this._clipInfinite(l,u,p[m],p[m+1],p[m+2],p[m+3]):this._clipFinite(l,u))}_clipFinite(l,u){let p=u.length,m,_,I,S,P=null,A=u[p-2],G=u[p-1],X=this._regioncode(A,G),z=0;for(let te=0;te<p;te+=2)if(m=A,_=G,A=u[te],G=u[te+1],I=X,X=this._regioncode(A,G),I===0&&X===0)S=z,z=0,P?P.push(A,G):P=[A,G];else{let de,le,ue,pe,ye;if(I===0){if((de=this._clipSegment(m,_,A,G,I,X))===null)continue;[le,ue,pe,ye]=de}else{if((de=this._clipSegment(A,G,m,_,X,I))===null)continue;[pe,ye,le,ue]=de,S=z,z=this._edgecode(le,ue),S&&z&&this._edge(l,S,z,P,P.length),P?P.push(le,ue):P=[le,ue]}S=z,z=this._edgecode(pe,ye),S&&z&&this._edge(l,S,z,P,P.length),P?P.push(pe,ye):P=[pe,ye]}if(P)S=z,z=this._edgecode(P[0],P[1]),S&&z&&this._edge(l,S,z,P,P.length);else if(this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return P}_clipSegment(l,u,p,m,_,I){let S=_<I;for(S&&([l,u,p,m,_,I]=[p,m,l,u,I,_]);;){if(_===0&&I===0)return S?[p,m,l,u]:[l,u,p,m];if(_&I)return null;let P,A,G=_||I;8&G?(P=l+(p-l)*(this.ymax-u)/(m-u),A=this.ymax):4&G?(P=l+(p-l)*(this.ymin-u)/(m-u),A=this.ymin):2&G?(A=u+(m-u)*(this.xmax-l)/(p-l),P=this.xmax):(A=u+(m-u)*(this.xmin-l)/(p-l),P=this.xmin),_?(l=P,u=A,_=this._regioncode(l,u)):(p=P,m=A,I=this._regioncode(p,m))}}_clipInfinite(l,u,p,m,_,I){let S,P=Array.from(u);if((S=this._project(P[0],P[1],p,m))&&P.unshift(S[0],S[1]),(S=this._project(P[P.length-2],P[P.length-1],_,I))&&P.push(S[0],S[1]),P=this._clipFinite(l,P))for(let A,G=0,X=P.length,z=this._edgecode(P[X-2],P[X-1]);G<X;G+=2)A=z,z=this._edgecode(P[G],P[G+1]),A&&z&&(G=this._edge(l,A,z,P,G),X=P.length);else this.contains(l,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(P=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return P}_edge(l,u,p,m,_){for(;u!==p;){let I,S;switch(u){case 5:u=4;continue;case 4:u=6,I=this.xmax,S=this.ymin;break;case 6:u=2;continue;case 2:u=10,I=this.xmax,S=this.ymax;break;case 10:u=8;continue;case 8:u=9,I=this.xmin,S=this.ymax;break;case 9:u=1;continue;case 1:u=5,I=this.xmin,S=this.ymin}m[_]===I&&m[_+1]===S||!this.contains(l,I,S)||(m.splice(_,0,I,S),_+=2)}return _}_project(l,u,p,m){let _,I,S,P=1/0;if(m<0){if(u<=this.ymin)return null;(_=(this.ymin-u)/m)<P&&(S=this.ymin,I=l+(P=_)*p)}else if(m>0){if(u>=this.ymax)return null;(_=(this.ymax-u)/m)<P&&(S=this.ymax,I=l+(P=_)*p)}if(p>0){if(l>=this.xmax)return null;(_=(this.xmax-l)/p)<P&&(I=this.xmax,S=u+(P=_)*m)}else if(p<0){if(l<=this.xmin)return null;(_=(this.xmin-l)/p)<P&&(I=this.xmin,S=u+(P=_)*m)}return[I,S]}_edgecode(l,u){return(l===this.xmin?1:l===this.xmax?2:0)|(u===this.ymin?4:u===this.ymax?8:0)}_regioncode(l,u){return(l<this.xmin?1:l>this.xmax?2:0)|(u<this.ymin?4:u>this.ymax?8:0)}_simplify(l){if(l&&l.length>4){for(let u=0;u<l.length;u+=2){let p=(u+2)%l.length,m=(u+4)%l.length;(l[u]===l[p]&&l[p]===l[m]||l[u+1]===l[p+1]&&l[p+1]===l[m+1])&&(l.splice(p,2),u-=2)}l.length||(l=null)}return l}}let da=2*Math.PI,wo=Math.pow;function SI(a){return a[0]}function xI(a){return a[1]}function Sg(a,l,u){return[a+Math.sin(a+l)*u,l+Math.cos(a-l)*u]}class xg{static from(l,u=SI,p=xI,m){return new xg("length"in l?function(_,I,S,P){let A=_.length,G=new Float64Array(2*A);for(let X=0;X<A;++X){let z=_[X];G[2*X]=I.call(P,z,X,_),G[2*X+1]=S.call(P,z,X,_)}return G}(l,u,p,m):Float64Array.from(function*(_,I,S,P){let A=0;for(let G of _)yield I.call(P,G,A,_),yield S.call(P,G,A,_),++A}(l,u,p,m)))}constructor(l){this._delaunator=new F_(l),this.inedges=new Int32Array(l.length/2),this._hullIndex=new Int32Array(l.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let l=this._delaunator,u=this.points;if(l.hull&&l.hull.length>2&&function(P){let{triangles:A,coords:G}=P;for(let X=0;X<A.length;X+=3){let z=2*A[X],te=2*A[X+1],de=2*A[X+2];if((G[de]-G[z])*(G[te+1]-G[z+1])-(G[te]-G[z])*(G[de+1]-G[z+1])>1e-10)return!1}return!0}(l)){this.collinear=Int32Array.from({length:u.length/2},(z,te)=>te).sort((z,te)=>u[2*z]-u[2*te]||u[2*z+1]-u[2*te+1]);let P=this.collinear[0],A=this.collinear[this.collinear.length-1],G=[u[2*P],u[2*P+1],u[2*A],u[2*A+1]],X=1e-8*Math.hypot(G[3]-G[1],G[2]-G[0]);for(let z=0,te=u.length/2;z<te;++z){let de=Sg(u[2*z],u[2*z+1],X);u[2*z]=de[0],u[2*z+1]=de[1]}this._delaunator=new F_(u)}else delete this.collinear;let p=this.halfedges=this._delaunator.halfedges,m=this.hull=this._delaunator.hull,_=this.triangles=this._delaunator.triangles,I=this.inedges.fill(-1),S=this._hullIndex.fill(-1);for(let P=0,A=p.length;P<A;++P){let G=_[P%3==2?P-2:P+1];p[P]!==-1&&I[G]!==-1||(I[G]=P)}for(let P=0,A=m.length;P<A;++P)S[m[P]]=P;m.length<=2&&m.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=m[0],I[m[0]]=1,m.length===2&&(I[m[1]]=0,this.triangles[1]=m[1],this.triangles[2]=m[1]))}voronoi(l){return new Ig(this,l)}*neighbors(l){let{inedges:u,hull:p,_hullIndex:m,halfedges:_,triangles:I,collinear:S}=this;if(S){let X=S.indexOf(l);return X>0&&(yield S[X-1]),void(X<S.length-1&&(yield S[X+1]))}let P=u[l];if(P===-1)return;let A=P,G=-1;do{if(yield G=I[A],A=A%3==2?A-2:A+1,I[A]!==l)return;if(A=_[A],A===-1){let X=p[(m[l]+1)%p.length];return void(X!==G&&(yield X))}}while(A!==P)}find(l,u,p=0){if((l=+l)!=l||(u=+u)!=u)return-1;let m=p,_;for(;(_=this._step(p,l,u))>=0&&_!==p&&_!==m;)p=_;return _}_step(l,u,p){let{inedges:m,hull:_,_hullIndex:I,halfedges:S,triangles:P,points:A}=this;if(m[l]===-1||!A.length)return(l+1)%(A.length>>1);let G=l,X=wo(u-A[2*l],2)+wo(p-A[2*l+1],2),z=m[l],te=z;do{let de=P[te],le=wo(u-A[2*de],2)+wo(p-A[2*de+1],2);if(le<X&&(X=le,G=de),te=te%3==2?te-2:te+1,P[te]!==l)break;if(te=S[te],te===-1){if(te=_[(I[l]+1)%_.length],te!==de&&wo(u-A[2*te],2)+wo(p-A[2*te+1],2)<X)return te;break}}while(te!==z);return G}render(l){let u=l==null?l=new fl:void 0,{points:p,halfedges:m,triangles:_}=this;for(let I=0,S=m.length;I<S;++I){let P=m[I];if(P<I)continue;let A=2*_[I],G=2*_[P];l.moveTo(p[A],p[A+1]),l.lineTo(p[G],p[G+1])}return this.renderHull(l),u&&u.value()}renderPoints(l,u){u!==void 0||l&&typeof l.moveTo=="function"||(u=l,l=null),u=u==null?2:+u;let p=l==null?l=new fl:void 0,{points:m}=this;for(let _=0,I=m.length;_<I;_+=2){let S=m[_],P=m[_+1];l.moveTo(S+u,P),l.arc(S,P,u,0,da)}return p&&p.value()}renderHull(l){let u=l==null?l=new fl:void 0,{hull:p,points:m}=this,_=2*p[0],I=p.length;l.moveTo(m[_],m[_+1]);for(let S=1;S<I;++S){let P=2*p[S];l.lineTo(m[P],m[P+1])}return l.closePath(),u&&u.value()}hullPolygon(){let l=new B_;return this.renderHull(l),l.value()}renderTriangle(l,u){let p=u==null?u=new fl:void 0,{points:m,triangles:_}=this,I=2*_[l*=3],S=2*_[l+1],P=2*_[l+2];return u.moveTo(m[I],m[I+1]),u.lineTo(m[S],m[S+1]),u.lineTo(m[P],m[P+1]),u.closePath(),p&&p.value()}*trianglePolygons(){let{triangles:l}=this;for(let u=0,p=l.length/3;u<p;++u)yield this.trianglePolygon(u)}trianglePolygon(l){let u=new B_;return this.renderTriangle(l,u),u.value()}}let Ag=a=>()=>a;function $h(a,{sourceEvent:l,subject:u,target:p,identifier:m,active:_,x:I,y:S,dx:P,dy:A,dispatch:G}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},subject:{value:u,enumerable:!0,configurable:!0},target:{value:p,enumerable:!0,configurable:!0},identifier:{value:m,enumerable:!0,configurable:!0},active:{value:_,enumerable:!0,configurable:!0},x:{value:I,enumerable:!0,configurable:!0},y:{value:S,enumerable:!0,configurable:!0},dx:{value:P,enumerable:!0,configurable:!0},dy:{value:A,enumerable:!0,configurable:!0},_:{value:G}})}function oc(a){return!a.ctrlKey&&!a.button}function Hh(){return this.parentNode}function fP(a,l){return l??{x:a.x,y:a.y}}function hP(){return navigator.maxTouchPoints||"ontouchstart"in this}function AI(){var a,l,u,p,m=oc,_=Hh,I=fP,S=hP,P={},A=kh("start","drag","end"),G=0,X=0;function z(me){me.on("mousedown.drag",te).filter(S).on("touchstart.drag",ue).on("touchmove.drag",pe,Mb).on("touchend.drag touchcancel.drag",ye).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function te(me,xe){if(!p&&m.call(this,me,xe)){var De=fe(this,_.call(this,me,xe),me,xe,"mouse");De&&(as(me.view).on("mousemove.drag",de,Qp).on("mouseup.drag",le,Qp),of(me.view),e_(me),u=!1,a=me.clientX,l=me.clientY,De("start",me))}}function de(me){if(rf(me),!u){var xe=me.clientX-a,De=me.clientY-l;u=xe*xe+De*De>X}P.mouse("drag",me)}function le(me){as(me.view).on("mousemove.drag mouseup.drag",null),J0(me.view,u),rf(me),P.mouse("end",me)}function ue(me,xe){if(m.call(this,me,xe)){var De,tt,ct=me.changedTouches,je=_.call(this,me,xe),Xe=ct.length;for(De=0;De<Xe;++De)(tt=fe(this,je,me,xe,ct[De].identifier,ct[De]))&&(e_(me),tt("start",me,ct[De]))}}function pe(me){var xe,De,tt=me.changedTouches,ct=tt.length;for(xe=0;xe<ct;++xe)(De=P[tt[xe].identifier])&&(rf(me),De("drag",me,tt[xe]))}function ye(me){var xe,De,tt=me.changedTouches,ct=tt.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),xe=0;xe<ct;++xe)(De=P[tt[xe].identifier])&&(e_(me),De("end",me,tt[xe]))}function fe(me,xe,De,tt,ct,je){var Xe,qe,Ze,Ct=A.copy(),Oe=Ol(je||De,xe);if((Ze=I.call(me,new $h("beforestart",{sourceEvent:De,target:z,identifier:ct,active:G,x:Oe[0],y:Oe[1],dx:0,dy:0,dispatch:Ct}),tt))!=null)return Xe=Ze.x-Oe[0]||0,qe=Ze.y-Oe[1]||0,function ze(lt,gt,Bt){var qt,gn=Oe;switch(lt){case"start":P[ct]=ze,qt=G++;break;case"end":delete P[ct],--G;case"drag":Oe=Ol(Bt||gt,xe),qt=G}Ct.call(lt,me,new $h(lt,{sourceEvent:gt,subject:Ze,target:z,identifier:ct,active:qt,x:Oe[0]+Xe,y:Oe[1]+qe,dx:Oe[0]-gn[0],dy:Oe[1]-gn[1],dispatch:Ct}),tt)}}return z.filter=function(me){return arguments.length?(m=typeof me=="function"?me:Ag(!!me),z):m},z.container=function(me){return arguments.length?(_=typeof me=="function"?me:Ag(me),z):_},z.subject=function(me){return arguments.length?(I=typeof me=="function"?me:Ag(me),z):I},z.touchable=function(me){return arguments.length?(S=typeof me=="function"?me:Ag(!!me),z):S},z.on=function(){var me=A.on.apply(A,arguments);return me===A?z:me},z.clickDistance=function(me){return arguments.length?(X=(me=+me)*me,z):Math.sqrt(X)},z}$h.prototype.on=function(){var a=this._.on.apply(this._,arguments);return a===this._?this:a};var mu={},ar={},U_=34,Js=10,$_=13;function uo(a){return new Function("d","return {"+a.map(function(l,u){return JSON.stringify(l)+": d["+u+'] || ""'}).join(",")+"}")}function PI(a){var l=Object.create(null),u=[];return a.forEach(function(p){for(var m in p)m in l||u.push(l[m]=m)}),u}function hl(a,l){var u=a+"",p=u.length;return p<l?new Array(l-p+1).join(0)+u:u}function yf(a){var l=new RegExp('["'+a+`
\r]`),u=a.charCodeAt(0);function p(S,P){var A,G=[],X=S.length,z=0,te=0,de=X<=0,le=!1;function ue(){if(de)return ar;if(le)return le=!1,mu;var ye,fe,me=z;if(S.charCodeAt(me)===U_){for(;z++<X&&S.charCodeAt(z)!==U_||S.charCodeAt(++z)===U_;);return(ye=z)>=X?de=!0:(fe=S.charCodeAt(z++))===Js?le=!0:fe===$_&&(le=!0,S.charCodeAt(z)===Js&&++z),S.slice(me+1,ye-1).replace(/""/g,'"')}for(;z<X;){if((fe=S.charCodeAt(ye=z++))===Js)le=!0;else if(fe===$_)le=!0,S.charCodeAt(z)===Js&&++z;else if(fe!==u)continue;return S.slice(me,ye)}return de=!0,S.slice(me,X)}for(S.charCodeAt(X-1)===Js&&--X,S.charCodeAt(X-1)===$_&&--X;(A=ue())!==ar;){for(var pe=[];A!==mu&&A!==ar;)pe.push(A),A=ue();P&&(pe=P(pe,te++))==null||G.push(pe)}return G}function m(S,P){return S.map(function(A){return P.map(function(G){return I(A[G])}).join(a)})}function _(S){return S.map(I).join(a)}function I(S){return S==null?"":S instanceof Date?function(P){var A,G=P.getUTCHours(),X=P.getUTCMinutes(),z=P.getUTCSeconds(),te=P.getUTCMilliseconds();return isNaN(P)?"Invalid Date":((A=P.getUTCFullYear())<0?"-"+hl(-A,6):A>9999?"+"+hl(A,6):hl(A,4))+"-"+hl(P.getUTCMonth()+1,2)+"-"+hl(P.getUTCDate(),2)+(te?"T"+hl(G,2)+":"+hl(X,2)+":"+hl(z,2)+"."+hl(te,3)+"Z":z?"T"+hl(G,2)+":"+hl(X,2)+":"+hl(z,2)+"Z":X||G?"T"+hl(G,2)+":"+hl(X,2)+"Z":"")}(S):l.test(S+="")?'"'+S.replace(/"/g,'""')+'"':S}return{parse:function(S,P){var A,G,X=p(S,function(z,te){if(A)return A(z,te-1);G=z,A=P?function(de,le){var ue=uo(de);return function(pe,ye){return le(ue(pe),ye,de)}}(z,P):uo(z)});return X.columns=G||[],X},parseRows:p,format:function(S,P){return P==null&&(P=PI(S)),[P.map(I).join(a)].concat(m(S,P)).join(`
`)},formatBody:function(S,P){return P==null&&(P=PI(S)),m(S,P).join(`
`)},formatRows:function(S){return S.map(_).join(`
`)},formatRow:_,formatValue:I}}var Ef=yf(","),kI=Ef.parse,gP=Ef.parseRows,vP=Ef.format,Fy=Ef.formatBody,Ly=Ef.formatRows,_P=Ef.formatRow,CP=Ef.formatValue,Tf=yf("	"),ds=Tf.parse,Fl=Tf.parseRows,yP=Tf.format,wI=Tf.formatBody,EP=Tf.formatRows,TP=Tf.formatRow,DI=Tf.formatValue;function OI(a){for(var l in a){var u,p,m=a[l].trim();if(m)if(m==="true")m=!0;else if(m==="false")m=!1;else if(m==="NaN")m=NaN;else if(isNaN(u=+m)){if(!(p=m.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;NI&&p[4]&&!p[7]&&(m=m.replace(/-/g,"/").replace(/T/," ")),m=new Date(m)}else m=u;else m=null;a[l]=m}return a}let NI=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),Vh=a=>+a;function bP(a){return a*a}function RI(a){return a*(2-a)}function By(a){return((a*=2)<=1?a*a:--a*(2-a)+1)/2}var IP=function a(l){function u(p){return Math.pow(p,l)}return l=+l,u.exponent=a,u}(3),SP=function a(l){function u(p){return 1-Math.pow(1-p,l)}return l=+l,u.exponent=a,u}(3),MI=function a(l){function u(p){return((p*=2)<=1?Math.pow(p,l):2-Math.pow(2-p,l))/2}return l=+l,u.exponent=a,u}(3),FI=Math.PI,LI=FI/2;function xP(a){return+a==1?1:1-Math.cos(a*LI)}function Uy(a){return Math.sin(a*LI)}function $y(a){return(1-Math.cos(FI*a))/2}function op(a){return 1.0009775171065494*(Math.pow(2,-10*a)-.0009765625)}function AP(a){return op(1-+a)}function Hy(a){return 1-op(a)}function BI(a){return((a*=2)<=1?op(1-a):2-op(a-1))/2}function PP(a){return 1-Math.sqrt(1-a*a)}function Ll(a){return Math.sqrt(1- --a*a)}function H_(a){return((a*=2)<=1?1-Math.sqrt(1-a*a):Math.sqrt(1-(a-=2)*a)+1)/2}var Vy=4/11,kP=6/11,jy=8/11,Gy=3/4,wP=9/11,DP=10/11,OP=15/16,UI=21/22,NP=63/64,V_=1/Vy/Vy;function Ky(a){return 1-bf(1-a)}function bf(a){return(a=+a)<Vy?V_*a*a:a<jy?V_*(a-=kP)*a+Gy:a<DP?V_*(a-=wP)*a+OP:V_*(a-=UI)*a+NP}function qy(a){return((a*=2)<=1?1-bf(1-a):bf(a-1)+1)/2}var Wy=1.70158,RP=function a(l){function u(p){return(p=+p)*p*(l*(p-1)+p)}return l=+l,u.overshoot=a,u}(Wy),MP=function a(l){function u(p){return--p*p*((p+1)*l+p)+1}return l=+l,u.overshoot=a,u}(Wy),$I=function a(l){function u(p){return((p*=2)<1?p*p*((l+1)*p-l):(p-=2)*p*((l+1)*p+l)+2)/2}return l=+l,u.overshoot=a,u}(Wy),jh=2*Math.PI,FP=function a(l,u){var p=Math.asin(1/(l=Math.max(1,l)))*(u/=jh);function m(_){return l*op(- --_)*Math.sin((p-_)/u)}return m.amplitude=function(_){return a(_,u*jh)},m.period=function(_){return a(l,_)},m}(1,.3),HI=function a(l,u){var p=Math.asin(1/(l=Math.max(1,l)))*(u/=jh);function m(_){return 1-l*op(_=+_)*Math.sin((_+p)/u)}return m.amplitude=function(_){return a(_,u*jh)},m.period=function(_){return a(l,_)},m}(1,.3),f=function a(l,u){var p=Math.asin(1/(l=Math.max(1,l)))*(u/=jh);function m(_){return((_=2*_-1)<0?l*op(-_)*Math.sin((p-_)/u):2-l*op(_)*Math.sin((p+_)/u))/2}return m.amplitude=function(_){return a(_,u*jh)},m.period=function(_){return a(l,_)},m}(1,.3);function T(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.blob()}function N(a,l){return fetch(a,l).then(T)}function oe(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.arrayBuffer()}function ge(a,l){return fetch(a,l).then(oe)}function Pe(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function He(a,l){return fetch(a,l).then(Pe)}function nt(a){return function(l,u,p){return arguments.length===2&&typeof u=="function"&&(p=u,u=void 0),He(l,u).then(function(m){return a(m,p)})}}function vt(a,l,u,p){arguments.length===3&&typeof u=="function"&&(p=u,u=void 0);var m=yf(a);return He(l,u).then(function(_){return m.parse(_,p)})}var Ht=nt(kI),Ut=nt(ds);function on(a,l){return new Promise(function(u,p){var m=new Image;for(var _ in l)m[_]=l[_];m.onerror=p,m.onload=function(){u(m)},m.src=a})}function Vn(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);if(a.status!==204&&a.status!==205)return a.json()}function Kn(a,l){return fetch(a,l).then(Vn)}function mi(a){return(l,u)=>He(l,u).then(p=>new DOMParser().parseFromString(p,a))}let jt=mi("application/xml");var hn=mi("text/html"),Ei=mi("image/svg+xml");function In(a,l){var u,p=1;function m(){var _,I,S=u.length,P=0,A=0;for(_=0;_<S;++_)P+=(I=u[_]).x,A+=I.y;for(P=(P/S-a)*p,A=(A/S-l)*p,_=0;_<S;++_)(I=u[_]).x-=P,I.y-=A}return a==null&&(a=0),l==null&&(l=0),m.initialize=function(_){u=_},m.x=function(_){return arguments.length?(a=+_,m):a},m.y=function(_){return arguments.length?(l=+_,m):l},m.strength=function(_){return arguments.length?(p=+_,m):p},m}function Xi(a,l,u,p){if(isNaN(l)||isNaN(u))return a;var m,_,I,S,P,A,G,X,z,te=a._root,de={data:p},le=a._x0,ue=a._y0,pe=a._x1,ye=a._y1;if(!te)return a._root=de,a;for(;te.length;)if((A=l>=(_=(le+pe)/2))?le=_:pe=_,(G=u>=(I=(ue+ye)/2))?ue=I:ye=I,m=te,!(te=te[X=G<<1|A]))return m[X]=de,a;if(S=+a._x.call(null,te.data),P=+a._y.call(null,te.data),l===S&&u===P)return de.next=te,m?m[X]=de:a._root=de,a;do m=m?m[X]=new Array(4):a._root=new Array(4),(A=l>=(_=(le+pe)/2))?le=_:pe=_,(G=u>=(I=(ue+ye)/2))?ue=I:ye=I;while((X=G<<1|A)==(z=(P>=I)<<1|S>=_));return m[z]=te,m[X]=de,a}function ei(a,l,u,p,m){this.node=a,this.x0=l,this.y0=u,this.x1=p,this.y1=m}function ao(a){return a[0]}function pi(a){return a[1]}function Ci(a,l,u){var p=new Fa(l??ao,u??pi,NaN,NaN,NaN,NaN);return a==null?p:p.addAll(a)}function Fa(a,l,u,p,m,_){this._x=a,this._y=l,this._x0=u,this._y0=p,this._x1=m,this._y1=_,this._root=void 0}function Ea(a){for(var l={data:a.data},u=l;a=a.next;)u=u.next={data:a.data};return l}var Eo=Ci.prototype=Fa.prototype;function sr(a){return function(){return a}}function ua(a){return 1e-6*(a()-.5)}function fu(a){return a.x+a.vx}function fm(a){return a.y+a.vy}function If(a){var l,u,p,m=1,_=1;function I(){for(var A,G,X,z,te,de,le,ue=l.length,pe=0;pe<_;++pe)for(G=Ci(l,fu,fm).visitAfter(S),A=0;A<ue;++A)X=l[A],de=u[X.index],le=de*de,z=X.x+X.vx,te=X.y+X.vy,G.visit(ye);function ye(fe,me,xe,De,tt){var ct=fe.data,je=fe.r,Xe=de+je;if(!ct)return me>z+Xe||De<z-Xe||xe>te+Xe||tt<te-Xe;if(ct.index>X.index){var qe=z-ct.x-ct.vx,Ze=te-ct.y-ct.vy,Ct=qe*qe+Ze*Ze;Ct<Xe*Xe&&(qe===0&&(Ct+=(qe=ua(p))*qe),Ze===0&&(Ct+=(Ze=ua(p))*Ze),Ct=(Xe-(Ct=Math.sqrt(Ct)))/Ct*m,X.vx+=(qe*=Ct)*(Xe=(je*=je)/(le+je)),X.vy+=(Ze*=Ct)*Xe,ct.vx-=qe*(Xe=1-Xe),ct.vy-=Ze*Xe)}}}function S(A){if(A.data)return A.r=u[A.data.index];for(var G=A.r=0;G<4;++G)A[G]&&A[G].r>A.r&&(A.r=A[G].r)}function P(){if(l){var A,G,X=l.length;for(u=new Array(X),A=0;A<X;++A)G=l[A],u[G.index]=+a(G,A,l)}}return typeof a!="function"&&(a=sr(a==null?1:+a)),I.initialize=function(A,G){l=A,p=G,P()},I.iterations=function(A){return arguments.length?(_=+A,I):_},I.strength=function(A){return arguments.length?(m=+A,I):m},I.radius=function(A){return arguments.length?(a=typeof A=="function"?A:sr(+A),P(),I):a},I}function ap(a){return a.index}function zy(a,l){var u=a.get(l);if(!u)throw new Error("node not found: "+l);return u}function VI(a){var l,u,p,m,_,I,S=ap,P=function(le){return 1/Math.min(m[le.source.index],m[le.target.index])},A=sr(30),G=1;function X(le){for(var ue=0,pe=a.length;ue<G;++ue)for(var ye,fe,me,xe,De,tt,ct,je=0;je<pe;++je)fe=(ye=a[je]).source,xe=(me=ye.target).x+me.vx-fe.x-fe.vx||ua(I),De=me.y+me.vy-fe.y-fe.vy||ua(I),xe*=tt=((tt=Math.sqrt(xe*xe+De*De))-u[je])/tt*le*l[je],De*=tt,me.vx-=xe*(ct=_[je]),me.vy-=De*ct,fe.vx+=xe*(ct=1-ct),fe.vy+=De*ct}function z(){if(p){var le,ue,pe=p.length,ye=a.length,fe=new Map(p.map((me,xe)=>[S(me,xe,p),me]));for(le=0,m=new Array(pe);le<ye;++le)(ue=a[le]).index=le,typeof ue.source!="object"&&(ue.source=zy(fe,ue.source)),typeof ue.target!="object"&&(ue.target=zy(fe,ue.target)),m[ue.source.index]=(m[ue.source.index]||0)+1,m[ue.target.index]=(m[ue.target.index]||0)+1;for(le=0,_=new Array(ye);le<ye;++le)ue=a[le],_[le]=m[ue.source.index]/(m[ue.source.index]+m[ue.target.index]);l=new Array(ye),te(),u=new Array(ye),de()}}function te(){if(p)for(var le=0,ue=a.length;le<ue;++le)l[le]=+P(a[le],le,a)}function de(){if(p)for(var le=0,ue=a.length;le<ue;++le)u[le]=+A(a[le],le,a)}return a==null&&(a=[]),X.initialize=function(le,ue){p=le,I=ue,z()},X.links=function(le){return arguments.length?(a=le,z(),X):a},X.id=function(le){return arguments.length?(S=le,X):S},X.iterations=function(le){return arguments.length?(G=+le,X):G},X.strength=function(le){return arguments.length?(P=typeof le=="function"?le:sr(+le),te(),X):P},X.distance=function(le){return arguments.length?(A=typeof le=="function"?le:sr(+le),de(),X):A},X}Eo.copy=function(){var a,l,u=new Fa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),p=this._root;if(!p)return u;if(!p.length)return u._root=Ea(p),u;for(a=[{source:p,target:u._root=new Array(4)}];p=a.pop();)for(var m=0;m<4;++m)(l=p.source[m])&&(l.length?a.push({source:l,target:p.target[m]=new Array(4)}):p.target[m]=Ea(l));return u},Eo.add=function(a){let l=+this._x.call(null,a),u=+this._y.call(null,a);return Xi(this.cover(l,u),l,u,a)},Eo.addAll=function(a){var l,u,p,m,_=a.length,I=new Array(_),S=new Array(_),P=1/0,A=1/0,G=-1/0,X=-1/0;for(u=0;u<_;++u)isNaN(p=+this._x.call(null,l=a[u]))||isNaN(m=+this._y.call(null,l))||(I[u]=p,S[u]=m,p<P&&(P=p),p>G&&(G=p),m<A&&(A=m),m>X&&(X=m));if(P>G||A>X)return this;for(this.cover(P,A).cover(G,X),u=0;u<_;++u)Xi(this,I[u],S[u],a[u]);return this},Eo.cover=function(a,l){if(isNaN(a=+a)||isNaN(l=+l))return this;var u=this._x0,p=this._y0,m=this._x1,_=this._y1;if(isNaN(u))m=(u=Math.floor(a))+1,_=(p=Math.floor(l))+1;else{for(var I,S,P=m-u||1,A=this._root;u>a||a>=m||p>l||l>=_;)switch(S=(l<p)<<1|a<u,(I=new Array(4))[S]=A,A=I,P*=2,S){case 0:m=u+P,_=p+P;break;case 1:u=m-P,_=p+P;break;case 2:m=u+P,p=_-P;break;case 3:u=m-P,p=_-P}this._root&&this._root.length&&(this._root=A)}return this._x0=u,this._y0=p,this._x1=m,this._y1=_,this},Eo.data=function(){var a=[];return this.visit(function(l){if(!l.length)do a.push(l.data);while(l=l.next)}),a},Eo.extent=function(a){return arguments.length?this.cover(+a[0][0],+a[0][1]).cover(+a[1][0],+a[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Eo.find=function(a,l,u){var p,m,_,I,S,P,A,G=this._x0,X=this._y0,z=this._x1,te=this._y1,de=[],le=this._root;for(le&&de.push(new ei(le,G,X,z,te)),u==null?u=1/0:(G=a-u,X=l-u,z=a+u,te=l+u,u*=u);P=de.pop();)if(!(!(le=P.node)||(m=P.x0)>z||(_=P.y0)>te||(I=P.x1)<G||(S=P.y1)<X))if(le.length){var ue=(m+I)/2,pe=(_+S)/2;de.push(new ei(le[3],ue,pe,I,S),new ei(le[2],m,pe,ue,S),new ei(le[1],ue,_,I,pe),new ei(le[0],m,_,ue,pe)),(A=(l>=pe)<<1|a>=ue)&&(P=de[de.length-1],de[de.length-1]=de[de.length-1-A],de[de.length-1-A]=P)}else{var ye=a-+this._x.call(null,le.data),fe=l-+this._y.call(null,le.data),me=ye*ye+fe*fe;if(me<u){var xe=Math.sqrt(u=me);G=a-xe,X=l-xe,z=a+xe,te=l+xe,p=le.data}}return p},Eo.remove=function(a){if(isNaN(_=+this._x.call(null,a))||isNaN(I=+this._y.call(null,a)))return this;var l,u,p,m,_,I,S,P,A,G,X,z,te=this._root,de=this._x0,le=this._y0,ue=this._x1,pe=this._y1;if(!te)return this;if(te.length)for(;;){if((A=_>=(S=(de+ue)/2))?de=S:ue=S,(G=I>=(P=(le+pe)/2))?le=P:pe=P,l=te,!(te=te[X=G<<1|A]))return this;if(!te.length)break;(l[X+1&3]||l[X+2&3]||l[X+3&3])&&(u=l,z=X)}for(;te.data!==a;)if(p=te,!(te=te.next))return this;return(m=te.next)&&delete te.next,p?(m?p.next=m:delete p.next,this):l?(m?l[X]=m:delete l[X],(te=l[0]||l[1]||l[2]||l[3])&&te===(l[3]||l[2]||l[1]||l[0])&&!te.length&&(u?u[z]=te:this._root=te),this):(this._root=m,this)},Eo.removeAll=function(a){for(var l=0,u=a.length;l<u;++l)this.remove(a[l]);return this},Eo.root=function(){return this._root},Eo.size=function(){var a=0;return this.visit(function(l){if(!l.length)do++a;while(l=l.next)}),a},Eo.visit=function(a){var l,u,p,m,_,I,S=[],P=this._root;for(P&&S.push(new ei(P,this._x0,this._y0,this._x1,this._y1));l=S.pop();)if(!a(P=l.node,p=l.x0,m=l.y0,_=l.x1,I=l.y1)&&P.length){var A=(p+_)/2,G=(m+I)/2;(u=P[3])&&S.push(new ei(u,A,G,_,I)),(u=P[2])&&S.push(new ei(u,p,G,A,I)),(u=P[1])&&S.push(new ei(u,A,m,_,G)),(u=P[0])&&S.push(new ei(u,p,m,A,G))}return this},Eo.visitAfter=function(a){var l,u=[],p=[];for(this._root&&u.push(new ei(this._root,this._x0,this._y0,this._x1,this._y1));l=u.pop();){var m=l.node;if(m.length){var _,I=l.x0,S=l.y0,P=l.x1,A=l.y1,G=(I+P)/2,X=(S+A)/2;(_=m[0])&&u.push(new ei(_,I,S,G,X)),(_=m[1])&&u.push(new ei(_,G,S,P,X)),(_=m[2])&&u.push(new ei(_,I,X,G,A)),(_=m[3])&&u.push(new ei(_,G,X,P,A))}p.push(l)}for(;l=p.pop();)a(l.node,l.x0,l.y0,l.x1,l.y1);return this},Eo.x=function(a){return arguments.length?(this._x=a,this):this._x},Eo.y=function(a){return arguments.length?(this._y=a,this):this._y};let j_=1664525,Yy=1013904223,Pg=4294967296;function G_(a){return a.x}function jI(a){return a.y}var K_=10,q_=Math.PI*(3-Math.sqrt(5));function qH(a){var l,u=1,p=.001,m=1-Math.pow(p,1/300),_=0,I=.6,S=new Map,P=ys(X),A=kh("tick","end"),G=function(){let le=1;return()=>(le=(j_*le+Yy)%Pg)/Pg}();function X(){z(),A.call("tick",l),u<p&&(P.stop(),A.call("end",l))}function z(le){var ue,pe,ye=a.length;le===void 0&&(le=1);for(var fe=0;fe<le;++fe)for(u+=(_-u)*m,S.forEach(function(me){me(u)}),ue=0;ue<ye;++ue)(pe=a[ue]).fx==null?pe.x+=pe.vx*=I:(pe.x=pe.fx,pe.vx=0),pe.fy==null?pe.y+=pe.vy*=I:(pe.y=pe.fy,pe.vy=0);return l}function te(){for(var le,ue=0,pe=a.length;ue<pe;++ue){if((le=a[ue]).index=ue,le.fx!=null&&(le.x=le.fx),le.fy!=null&&(le.y=le.fy),isNaN(le.x)||isNaN(le.y)){var ye=K_*Math.sqrt(.5+ue),fe=ue*q_;le.x=ye*Math.cos(fe),le.y=ye*Math.sin(fe)}(isNaN(le.vx)||isNaN(le.vy))&&(le.vx=le.vy=0)}}function de(le){return le.initialize&&le.initialize(a,G),le}return a==null&&(a=[]),te(),l={tick:z,restart:function(){return P.restart(X),l},stop:function(){return P.stop(),l},nodes:function(le){return arguments.length?(a=le,te(),S.forEach(de),l):a},alpha:function(le){return arguments.length?(u=+le,l):u},alphaMin:function(le){return arguments.length?(p=+le,l):p},alphaDecay:function(le){return arguments.length?(m=+le,l):+m},alphaTarget:function(le){return arguments.length?(_=+le,l):_},velocityDecay:function(le){return arguments.length?(I=1-le,l):1-I},randomSource:function(le){return arguments.length?(G=le,S.forEach(de),l):G},force:function(le,ue){return arguments.length>1?(ue==null?S.delete(le):S.set(le,de(ue)),l):S.get(le)},find:function(le,ue,pe){var ye,fe,me,xe,De,tt=0,ct=a.length;for(pe==null?pe=1/0:pe*=pe,tt=0;tt<ct;++tt)(me=(ye=le-(xe=a[tt]).x)*ye+(fe=ue-xe.y)*fe)<pe&&(De=xe,pe=me);return De},on:function(le,ue){return arguments.length>1?(A.on(le,ue),l):A.on(le)}}}function WH(){var a,l,u,p,m,_=sr(-30),I=1,S=1/0,P=.81;function A(te){var de,le=a.length,ue=Ci(a,G_,jI).visitAfter(X);for(p=te,de=0;de<le;++de)l=a[de],ue.visit(z)}function G(){if(a){var te,de,le=a.length;for(m=new Array(le),te=0;te<le;++te)de=a[te],m[de.index]=+_(de,te,a)}}function X(te){var de,le,ue,pe,ye,fe=0,me=0;if(te.length){for(ue=pe=ye=0;ye<4;++ye)(de=te[ye])&&(le=Math.abs(de.value))&&(fe+=de.value,me+=le,ue+=le*de.x,pe+=le*de.y);te.x=ue/me,te.y=pe/me}else{(de=te).x=de.data.x,de.y=de.data.y;do fe+=m[de.data.index];while(de=de.next)}te.value=fe}function z(te,de,le,ue){if(!te.value)return!0;var pe=te.x-l.x,ye=te.y-l.y,fe=ue-de,me=pe*pe+ye*ye;if(fe*fe/P<me)return me<S&&(pe===0&&(me+=(pe=ua(u))*pe),ye===0&&(me+=(ye=ua(u))*ye),me<I&&(me=Math.sqrt(I*me)),l.vx+=pe*te.value*p/me,l.vy+=ye*te.value*p/me),!0;if(!(te.length||me>=S)){(te.data!==l||te.next)&&(pe===0&&(me+=(pe=ua(u))*pe),ye===0&&(me+=(ye=ua(u))*ye),me<I&&(me=Math.sqrt(I*me)));do te.data!==l&&(fe=m[te.data.index]*p/me,l.vx+=pe*fe,l.vy+=ye*fe);while(te=te.next)}}return A.initialize=function(te,de){a=te,u=de,G()},A.strength=function(te){return arguments.length?(_=typeof te=="function"?te:sr(+te),G(),A):_},A.distanceMin=function(te){return arguments.length?(I=te*te,A):Math.sqrt(I)},A.distanceMax=function(te){return arguments.length?(S=te*te,A):Math.sqrt(S)},A.theta=function(te){return arguments.length?(P=te*te,A):Math.sqrt(P)},A}function zH(a,l,u){var p,m,_,I=sr(.1);function S(A){for(var G=0,X=p.length;G<X;++G){var z=p[G],te=z.x-l||1e-6,de=z.y-u||1e-6,le=Math.sqrt(te*te+de*de),ue=(_[G]-le)*m[G]*A/le;z.vx+=te*ue,z.vy+=de*ue}}function P(){if(p){var A,G=p.length;for(m=new Array(G),_=new Array(G),A=0;A<G;++A)_[A]=+a(p[A],A,p),m[A]=isNaN(_[A])?0:+I(p[A],A,p)}}return typeof a!="function"&&(a=sr(+a)),l==null&&(l=0),u==null&&(u=0),S.initialize=function(A){p=A,P()},S.strength=function(A){return arguments.length?(I=typeof A=="function"?A:sr(+A),P(),S):I},S.radius=function(A){return arguments.length?(a=typeof A=="function"?A:sr(+A),P(),S):a},S.x=function(A){return arguments.length?(l=+A,S):l},S.y=function(A){return arguments.length?(u=+A,S):u},S}function YH(a){var l,u,p,m=sr(.1);function _(S){for(var P,A=0,G=l.length;A<G;++A)(P=l[A]).vx+=(p[A]-P.x)*u[A]*S}function I(){if(l){var S,P=l.length;for(u=new Array(P),p=new Array(P),S=0;S<P;++S)u[S]=isNaN(p[S]=+a(l[S],S,l))?0:+m(l[S],S,l)}}return typeof a!="function"&&(a=sr(a==null?0:+a)),_.initialize=function(S){l=S,I()},_.strength=function(S){return arguments.length?(m=typeof S=="function"?S:sr(+S),I(),_):m},_.x=function(S){return arguments.length?(a=typeof S=="function"?S:sr(+S),I(),_):a},_}function JH(a){var l,u,p,m=sr(.1);function _(S){for(var P,A=0,G=l.length;A<G;++A)(P=l[A]).vy+=(p[A]-P.y)*u[A]*S}function I(){if(l){var S,P=l.length;for(u=new Array(P),p=new Array(P),S=0;S<P;++S)u[S]=isNaN(p[S]=+a(l[S],S,l))?0:+m(l[S],S,l)}}return typeof a!="function"&&(a=sr(a==null?0:+a)),_.initialize=function(S){l=S,I()},_.strength=function(S){return arguments.length?(m=typeof S=="function"?S:sr(+S),I(),_):m},_.y=function(S){return arguments.length?(a=typeof S=="function"?S:sr(+S),I(),_):a},_}function GI(a,l){if((u=(a=l?a.toExponential(l-1):a.toExponential()).indexOf("e"))<0)return null;var u,p=a.slice(0,u);return[p.length>1?p[0]+p.slice(2):p,+a.slice(u+1)]}function W_(a){return(a=GI(Math.abs(a)))?a[1]:NaN}var B3,XH=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function z_(a){if(!(l=XH.exec(a)))throw new Error("invalid format: "+a);var l;return new KI({fill:l[1],align:l[2],sign:l[3],symbol:l[4],zero:l[5],width:l[6],comma:l[7],precision:l[8]&&l[8].slice(1),trim:l[9],type:l[10]})}function KI(a){this.fill=a.fill===void 0?" ":a.fill+"",this.align=a.align===void 0?">":a.align+"",this.sign=a.sign===void 0?"-":a.sign+"",this.symbol=a.symbol===void 0?"":a.symbol+"",this.zero=!!a.zero,this.width=a.width===void 0?void 0:+a.width,this.comma=!!a.comma,this.precision=a.precision===void 0?void 0:+a.precision,this.trim=!!a.trim,this.type=a.type===void 0?"":a.type+""}function U3(a,l){var u=GI(a,l);if(!u)return a+"";var p=u[0],m=u[1];return m<0?"0."+new Array(-m).join("0")+p:p.length>m+1?p.slice(0,m+1)+"."+p.slice(m+1):p+new Array(m-p.length+2).join("0")}z_.prototype=KI.prototype,KI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};let $3={"%":(a,l)=>(100*a).toFixed(l),b:a=>Math.round(a).toString(2),c:a=>a+"",d:function(a){return Math.abs(a=Math.round(a))>=1e21?a.toLocaleString("en").replace(/,/g,""):a.toString(10)},e:(a,l)=>a.toExponential(l),f:(a,l)=>a.toFixed(l),g:(a,l)=>a.toPrecision(l),o:a=>Math.round(a).toString(8),p:(a,l)=>U3(100*a,l),r:U3,s:function(a,l){var u=GI(a,l);if(!u)return a+"";var p=u[0],m=u[1],_=m-(B3=3*Math.max(-8,Math.min(8,Math.floor(m/3))))+1,I=p.length;return _===I?p:_>I?p+new Array(_-I+1).join("0"):_>0?p.slice(0,_)+"."+p.slice(_):"0."+new Array(1-_).join("0")+GI(a,Math.max(0,l+_-1))[0]},X:a=>Math.round(a).toString(16).toUpperCase(),x:a=>Math.round(a).toString(16)};function H3(a){return a}var qI,WI,LP,V3=Array.prototype.map,j3=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function G3(a){var l,u,p=a.grouping===void 0||a.thousands===void 0?H3:(l=V3.call(a.grouping,Number),u=a.thousands+"",function(z,te){for(var de=z.length,le=[],ue=0,pe=l[0],ye=0;de>0&&pe>0&&(ye+pe+1>te&&(pe=Math.max(1,te-ye)),le.push(z.substring(de-=pe,de+pe)),!((ye+=pe+1)>te));)pe=l[ue=(ue+1)%l.length];return le.reverse().join(u)}),m=a.currency===void 0?"":a.currency[0]+"",_=a.currency===void 0?"":a.currency[1]+"",I=a.decimal===void 0?".":a.decimal+"",S=a.numerals===void 0?H3:function(z){return function(te){return te.replace(/[0-9]/g,function(de){return z[+de]})}}(V3.call(a.numerals,String)),P=a.percent===void 0?"%":a.percent+"",A=a.minus===void 0?"\u2212":a.minus+"",G=a.nan===void 0?"NaN":a.nan+"";function X(z){var te=(z=z_(z)).fill,de=z.align,le=z.sign,ue=z.symbol,pe=z.zero,ye=z.width,fe=z.comma,me=z.precision,xe=z.trim,De=z.type;De==="n"?(fe=!0,De="g"):$3[De]||(me===void 0&&(me=12),xe=!0,De="g"),(pe||te==="0"&&de==="=")&&(pe=!0,te="0",de="=");var tt=ue==="$"?m:ue==="#"&&/[boxX]/.test(De)?"0"+De.toLowerCase():"",ct=ue==="$"?_:/[%p]/.test(De)?P:"",je=$3[De],Xe=/[defgprs%]/.test(De);function qe(Ze){var Ct,Oe,ze,lt=tt,gt=ct;if(De==="c")gt=je(Ze)+gt,Ze="";else{var Bt=(Ze=+Ze)<0||1/Ze<0;if(Ze=isNaN(Ze)?G:je(Math.abs(Ze),me),xe&&(Ze=function(Zt){e:for(var Rn,zi=Zt.length,Jn=1,fi=-1;Jn<zi;++Jn)switch(Zt[Jn]){case".":fi=Rn=Jn;break;case"0":fi===0&&(fi=Jn),Rn=Jn;break;default:if(!+Zt[Jn])break e;fi>0&&(fi=0)}return fi>0?Zt.slice(0,fi)+Zt.slice(Rn+1):Zt}(Ze)),Bt&&+Ze==0&&le!=="+"&&(Bt=!1),lt=(Bt?le==="("?le:A:le==="-"||le==="("?"":le)+lt,gt=(De==="s"?j3[8+B3/3]:"")+gt+(Bt&&le==="("?")":""),Xe){for(Ct=-1,Oe=Ze.length;++Ct<Oe;)if(48>(ze=Ze.charCodeAt(Ct))||ze>57){gt=(ze===46?I+Ze.slice(Ct+1):Ze.slice(Ct))+gt,Ze=Ze.slice(0,Ct);break}}}fe&&!pe&&(Ze=p(Ze,1/0));var qt=lt.length+Ze.length+gt.length,gn=qt<ye?new Array(ye-qt+1).join(te):"";switch(fe&&pe&&(Ze=p(gn+Ze,gn.length?ye-gt.length:1/0),gn=""),de){case"<":Ze=lt+Ze+gt+gn;break;case"=":Ze=lt+gn+Ze+gt;break;case"^":Ze=gn.slice(0,qt=gn.length>>1)+lt+Ze+gt+gn.slice(qt);break;default:Ze=gn+lt+Ze+gt}return S(Ze)}return me=me===void 0?6:/[gprs]/.test(De)?Math.max(1,Math.min(21,me)):Math.max(0,Math.min(20,me)),qe.toString=function(){return z+""},qe}return{format:X,formatPrefix:function(z,te){var de=X(((z=z_(z)).type="f",z)),le=3*Math.max(-8,Math.min(8,Math.floor(W_(te)/3))),ue=Math.pow(10,-le),pe=j3[8+le/3];return function(ye){return de(ue*ye)+pe}}}}function K3(a){return qI=G3(a),WI=qI.format,LP=qI.formatPrefix,qI}function q3(a){return Math.max(0,-W_(Math.abs(a)))}function W3(a,l){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(W_(l)/3)))-W_(Math.abs(a)))}function z3(a,l){return a=Math.abs(a),l=Math.abs(l)-a,Math.max(0,W_(l)-W_(a))+1}K3({thousands:",",grouping:[3],currency:["$",""]});var Ti=1e-6,Jy=1e-12,Ur=Math.PI,Ja=Ur/2,zI=Ur/4,ac=2*Ur,Wo=180/Ur,Pi=Ur/180,Yr=Math.abs,Y_=Math.atan,sc=Math.atan2,li=Math.cos,YI=Math.ceil,Y3=Math.exp,BP=Math.hypot,JI=Math.log,UP=Math.pow,jn=Math.sin,hu=Math.sign||function(a){return a>0?1:a<0?-1:0},Xs=Math.sqrt,$P=Math.tan;function J3(a){return a>1?0:a<-1?Ur:Math.acos(a)}function lc(a){return a>1?Ja:a<-1?-Ja:Math.asin(a)}function X3(a){return(a=jn(a/2))*a}function La(){}function XI(a,l){a&&Z3.hasOwnProperty(a.type)&&Z3[a.type](a,l)}var Q3={Feature:function(a,l){XI(a.geometry,l)},FeatureCollection:function(a,l){for(var u=a.features,p=-1,m=u.length;++p<m;)XI(u[p].geometry,l)}},Z3={Sphere:function(a,l){l.sphere()},Point:function(a,l){a=a.coordinates,l.point(a[0],a[1],a[2])},MultiPoint:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)a=u[p],l.point(a[0],a[1],a[2])},LineString:function(a,l){HP(a.coordinates,l,0)},MultiLineString:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)HP(u[p],l,0)},Polygon:function(a,l){eF(a.coordinates,l)},MultiPolygon:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)eF(u[p],l)},GeometryCollection:function(a,l){for(var u=a.geometries,p=-1,m=u.length;++p<m;)XI(u[p],l)}};function HP(a,l,u){var p,m=-1,_=a.length-u;for(l.lineStart();++m<_;)p=a[m],l.point(p[0],p[1],p[2]);l.lineEnd()}function eF(a,l){var u=-1,p=a.length;for(l.polygonStart();++u<p;)HP(a[u],l,1);l.polygonEnd()}function sp(a,l){a&&Q3.hasOwnProperty(a.type)?Q3[a.type](a,l):XI(a,l)}var tF,nF,VP,jP,GP,Ba,jc,Xa,bd,kg,iF,rF,J_,Xy,Gh,Sf,QI=new Ke,ZI=new Ke,hm={point:La,lineStart:La,lineEnd:La,polygonStart:function(){QI=new Ke,hm.lineStart=QH,hm.lineEnd=ZH},polygonEnd:function(){var a=+QI;ZI.add(a<0?ac+a:a),this.lineStart=this.lineEnd=this.point=La},sphere:function(){ZI.add(ac)}};function QH(){hm.point=e9}function ZH(){oF(tF,nF)}function e9(a,l){hm.point=oF,tF=a,nF=l,VP=a*=Pi,jP=li(l=(l*=Pi)/2+zI),GP=jn(l)}function oF(a,l){var u=(a*=Pi)-VP,p=u>=0?1:-1,m=p*u,_=li(l=(l*=Pi)/2+zI),I=jn(l),S=GP*I,P=jP*_+S*li(m),A=S*p*jn(m);QI.add(sc(A,P)),VP=a,jP=_,GP=I}function t9(a){return ZI=new Ke,sp(a,hm),2*ZI}function eS(a){return[sc(a[1],a[0]),lc(a[2])]}function wg(a){var l=a[0],u=a[1],p=li(u);return[p*li(l),p*jn(l),jn(u)]}function tS(a,l){return a[0]*l[0]+a[1]*l[1]+a[2]*l[2]}function X_(a,l){return[a[1]*l[2]-a[2]*l[1],a[2]*l[0]-a[0]*l[2],a[0]*l[1]-a[1]*l[0]]}function KP(a,l){a[0]+=l[0],a[1]+=l[1],a[2]+=l[2]}function nS(a,l){return[a[0]*l,a[1]*l,a[2]*l]}function iS(a){var l=Xs(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=l,a[1]/=l,a[2]/=l}var Qy,rS,oS,aS,sS,lS,cS,dS,qP,WP,zP,aF,sF,cc,dc,uc,xf={point:YP,lineStart:cF,lineEnd:dF,polygonStart:function(){xf.point=uF,xf.lineStart=n9,xf.lineEnd=i9,Xy=new Ke,hm.polygonStart()},polygonEnd:function(){hm.polygonEnd(),xf.point=YP,xf.lineStart=cF,xf.lineEnd=dF,QI<0?(Ba=-(Xa=180),jc=-(bd=90)):Xy>Ti?bd=90:Xy<-Ti&&(jc=-90),Sf[0]=Ba,Sf[1]=Xa},sphere:function(){Ba=-(Xa=180),jc=-(bd=90)}};function YP(a,l){Gh.push(Sf=[Ba=a,Xa=a]),l<jc&&(jc=l),l>bd&&(bd=l)}function lF(a,l){var u=wg([a*Pi,l*Pi]);if(J_){var p=X_(J_,u),m=X_([p[1],-p[0],0],p);iS(m),m=eS(m);var _,I=a-kg,S=I>0?1:-1,P=m[0]*Wo*S,A=Yr(I)>180;A^(S*kg<P&&P<S*a)?(_=m[1]*Wo)>bd&&(bd=_):A^(S*kg<(P=(P+360)%360-180)&&P<S*a)?(_=-m[1]*Wo)<jc&&(jc=_):(l<jc&&(jc=l),l>bd&&(bd=l)),A?a<kg?Id(Ba,a)>Id(Ba,Xa)&&(Xa=a):Id(a,Xa)>Id(Ba,Xa)&&(Ba=a):Xa>=Ba?(a<Ba&&(Ba=a),a>Xa&&(Xa=a)):a>kg?Id(Ba,a)>Id(Ba,Xa)&&(Xa=a):Id(a,Xa)>Id(Ba,Xa)&&(Ba=a)}else Gh.push(Sf=[Ba=a,Xa=a]);l<jc&&(jc=l),l>bd&&(bd=l),J_=u,kg=a}function cF(){xf.point=lF}function dF(){Sf[0]=Ba,Sf[1]=Xa,xf.point=YP,J_=null}function uF(a,l){if(J_){var u=a-kg;Xy.add(Yr(u)>180?u+(u>0?360:-360):u)}else iF=a,rF=l;hm.point(a,l),lF(a,l)}function n9(){hm.lineStart()}function i9(){uF(iF,rF),hm.lineEnd(),Yr(Xy)>Ti&&(Ba=-(Xa=180)),Sf[0]=Ba,Sf[1]=Xa,J_=null}function Id(a,l){return(l-=a)<0?l+360:l}function r9(a,l){return a[0]-l[0]}function pF(a,l){return a[0]<=a[1]?a[0]<=l&&l<=a[1]:l<a[0]||a[1]<l}function o9(a){var l,u,p,m,_,I,S;if(bd=Xa=-(Ba=jc=1/0),Gh=[],sp(a,xf),u=Gh.length){for(Gh.sort(r9),l=1,_=[p=Gh[0]];l<u;++l)pF(p,(m=Gh[l])[0])||pF(p,m[1])?(Id(p[0],m[1])>Id(p[0],p[1])&&(p[1]=m[1]),Id(m[0],p[1])>Id(p[0],p[1])&&(p[0]=m[0])):_.push(p=m);for(I=-1/0,l=0,p=_[u=_.length-1];l<=u;p=m,++l)m=_[l],(S=Id(p[1],m[0]))>I&&(I=S,Ba=m[0],Xa=p[1])}return Gh=Sf=null,Ba===1/0||jc===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ba,jc],[Xa,bd]]}var lp={sphere:La,point:JP,lineStart:mF,lineEnd:fF,polygonStart:function(){lp.lineStart=l9,lp.lineEnd=c9},polygonEnd:function(){lp.lineStart=mF,lp.lineEnd=fF}};function JP(a,l){a*=Pi;var u=li(l*=Pi);Zy(u*li(a),u*jn(a),jn(l))}function Zy(a,l,u){++Qy,oS+=(a-oS)/Qy,aS+=(l-aS)/Qy,sS+=(u-sS)/Qy}function mF(){lp.point=a9}function a9(a,l){a*=Pi;var u=li(l*=Pi);cc=u*li(a),dc=u*jn(a),uc=jn(l),lp.point=s9,Zy(cc,dc,uc)}function s9(a,l){a*=Pi;var u=li(l*=Pi),p=u*li(a),m=u*jn(a),_=jn(l),I=sc(Xs((I=dc*_-uc*m)*I+(I=uc*p-cc*_)*I+(I=cc*m-dc*p)*I),cc*p+dc*m+uc*_);rS+=I,lS+=I*(cc+(cc=p)),cS+=I*(dc+(dc=m)),dS+=I*(uc+(uc=_)),Zy(cc,dc,uc)}function fF(){lp.point=JP}function l9(){lp.point=d9}function c9(){hF(aF,sF),lp.point=JP}function d9(a,l){aF=a,sF=l,a*=Pi,l*=Pi,lp.point=hF;var u=li(l);cc=u*li(a),dc=u*jn(a),uc=jn(l),Zy(cc,dc,uc)}function hF(a,l){a*=Pi;var u=li(l*=Pi),p=u*li(a),m=u*jn(a),_=jn(l),I=dc*_-uc*m,S=uc*p-cc*_,P=cc*m-dc*p,A=BP(I,S,P),G=lc(A),X=A&&-G/A;qP.add(X*I),WP.add(X*S),zP.add(X*P),rS+=G,lS+=G*(cc+(cc=p)),cS+=G*(dc+(dc=m)),dS+=G*(uc+(uc=_)),Zy(cc,dc,uc)}function u9(a){Qy=rS=oS=aS=sS=lS=cS=dS=0,qP=new Ke,WP=new Ke,zP=new Ke,sp(a,lp);var l=+qP,u=+WP,p=+zP,m=BP(l,u,p);return m<Jy&&(l=lS,u=cS,p=dS,rS<Ti&&(l=oS,u=aS,p=sS),(m=BP(l,u,p))<Jy)?[NaN,NaN]:[sc(u,l)*Wo,lc(p/m)*Wo]}function Q_(a){return function(){return a}}function XP(a,l){function u(p,m){return p=a(p,m),l(p[0],p[1])}return a.invert&&l.invert&&(u.invert=function(p,m){return(p=l.invert(p,m))&&a.invert(p[0],p[1])}),u}function QP(a,l){return Yr(a)>Ur&&(a-=Math.round(a/ac)*ac),[a,l]}function ZP(a,l,u){return(a%=ac)?l||u?XP(vF(a),_F(l,u)):vF(a):l||u?_F(l,u):QP}function gF(a){return function(l,u){return Yr(l+=a)>Ur&&(l-=Math.round(l/ac)*ac),[l,u]}}function vF(a){var l=gF(a);return l.invert=gF(-a),l}function _F(a,l){var u=li(a),p=jn(a),m=li(l),_=jn(l);function I(S,P){var A=li(P),G=li(S)*A,X=jn(S)*A,z=jn(P),te=z*u+G*p;return[sc(X*m-te*_,G*u-z*p),lc(te*m+X*_)]}return I.invert=function(S,P){var A=li(P),G=li(S)*A,X=jn(S)*A,z=jn(P),te=z*m-X*_;return[sc(X*m+z*_,G*u+te*p),lc(te*u-G*p)]},I}function CF(a){function l(u){return(u=a(u[0]*Pi,u[1]*Pi))[0]*=Wo,u[1]*=Wo,u}return a=ZP(a[0]*Pi,a[1]*Pi,a.length>2?a[2]*Pi:0),l.invert=function(u){return(u=a.invert(u[0]*Pi,u[1]*Pi))[0]*=Wo,u[1]*=Wo,u},l}function yF(a,l,u,p,m,_){if(u){var I=li(l),S=jn(l),P=p*u;m==null?(m=l+p*ac,_=l-P/2):(m=EF(I,m),_=EF(I,_),(p>0?m<_:m>_)&&(m+=p*ac));for(var A,G=m;p>0?G>_:G<_;G-=P)A=eS([I,-S*li(G),-S*jn(G)]),a.point(A[0],A[1])}}function EF(a,l){(l=wg(l))[0]-=a,iS(l);var u=J3(-l[1]);return((-l[2]<0?-u:u)+ac-Ti)%ac}function p9(){var a,l,u=Q_([0,0]),p=Q_(90),m=Q_(2),_={point:function(S,P){a.push(S=l(S,P)),S[0]*=Wo,S[1]*=Wo}};function I(){var S=u.apply(this,arguments),P=p.apply(this,arguments)*Pi,A=m.apply(this,arguments)*Pi;return a=[],l=ZP(-S[0]*Pi,-S[1]*Pi,0).invert,yF(_,P,A,1),S={type:"Polygon",coordinates:[a]},a=l=null,S}return I.center=function(S){return arguments.length?(u=typeof S=="function"?S:Q_([+S[0],+S[1]]),I):u},I.radius=function(S){return arguments.length?(p=typeof S=="function"?S:Q_(+S),I):p},I.precision=function(S){return arguments.length?(m=typeof S=="function"?S:Q_(+S),I):m},I}function TF(){var a,l=[];return{point:function(u,p,m){a.push([u,p,m])},lineStart:function(){l.push(a=[])},lineEnd:La,rejoin:function(){l.length>1&&l.push(l.pop().concat(l.shift()))},result:function(){var u=l;return l=[],a=null,u}}}function uS(a,l){return Yr(a[0]-l[0])<Ti&&Yr(a[1]-l[1])<Ti}function pS(a,l,u,p){this.x=a,this.z=l,this.o=u,this.e=p,this.v=!1,this.n=this.p=null}function bF(a,l,u,p,m){var _,I,S=[],P=[];if(a.forEach(function(de){if(!((le=de.length-1)<=0)){var le,ue,pe=de[0],ye=de[le];if(uS(pe,ye)){if(!pe[2]&&!ye[2]){for(m.lineStart(),_=0;_<le;++_)m.point((pe=de[_])[0],pe[1]);return void m.lineEnd()}ye[0]+=2*Ti}S.push(ue=new pS(pe,de,null,!0)),P.push(ue.o=new pS(pe,null,ue,!1)),S.push(ue=new pS(ye,de,null,!1)),P.push(ue.o=new pS(ye,null,ue,!0))}}),S.length){for(P.sort(l),IF(S),IF(P),_=0,I=P.length;_<I;++_)P[_].e=u=!u;for(var A,G,X=S[0];;){for(var z=X,te=!0;z.v;)if((z=z.n)===X)return;A=z.z,m.lineStart();do{if(z.v=z.o.v=!0,z.e){if(te)for(_=0,I=A.length;_<I;++_)m.point((G=A[_])[0],G[1]);else p(z.x,z.n.x,1,m);z=z.n}else{if(te)for(A=z.p.z,_=A.length-1;_>=0;--_)m.point((G=A[_])[0],G[1]);else p(z.x,z.p.x,-1,m);z=z.p}A=(z=z.o).z,te=!te}while(!z.v);m.lineEnd()}}}function IF(a){if(l=a.length){for(var l,u,p=0,m=a[0];++p<l;)m.n=u=a[p],u.p=m,m=u;m.n=u=a[0],u.p=m}}function ek(a){return Yr(a[0])<=Ur?a[0]:hu(a[0])*((Yr(a[0])+Ur)%ac-Ur)}function SF(a,l){var u=ek(l),p=l[1],m=jn(p),_=[jn(u),-li(u),0],I=0,S=0,P=new Ke;m===1?p=Ja+Ti:m===-1&&(p=-Ja-Ti);for(var A=0,G=a.length;A<G;++A)if(z=(X=a[A]).length)for(var X,z,te=X[z-1],de=ek(te),le=te[1]/2+zI,ue=jn(le),pe=li(le),ye=0;ye<z;++ye,de=me,ue=De,pe=tt,te=fe){var fe=X[ye],me=ek(fe),xe=fe[1]/2+zI,De=jn(xe),tt=li(xe),ct=me-de,je=ct>=0?1:-1,Xe=je*ct,qe=Xe>Ur,Ze=ue*De;if(P.add(sc(Ze*je*jn(Xe),pe*tt+Ze*li(Xe))),I+=qe?ct+je*ac:ct,qe^de>=u^me>=u){var Ct=X_(wg(te),wg(fe));iS(Ct);var Oe=X_(_,Ct);iS(Oe);var ze=(qe^ct>=0?-1:1)*lc(Oe[2]);(p>ze||p===ze&&(Ct[0]||Ct[1]))&&(S+=qe^ct>=0?1:-1)}}return(I<-Ti||I<Ti&&P<-Jy)^1&S}function xF(a,l,u,p){return function(m){var _,I,S,P=l(m),A=TF(),G=l(A),X=!1,z={point:te,lineStart:le,lineEnd:ue,polygonStart:function(){z.point=pe,z.lineStart=ye,z.lineEnd=fe,I=[],_=[]},polygonEnd:function(){z.point=te,z.lineStart=le,z.lineEnd=ue,I=rs(I);var me=SF(_,p);I.length?(X||(m.polygonStart(),X=!0),bF(I,f9,me,u,m)):me&&(X||(m.polygonStart(),X=!0),m.lineStart(),u(null,null,1,m),m.lineEnd()),X&&(m.polygonEnd(),X=!1),I=_=null},sphere:function(){m.polygonStart(),m.lineStart(),u(null,null,1,m),m.lineEnd(),m.polygonEnd()}};function te(me,xe){a(me,xe)&&m.point(me,xe)}function de(me,xe){P.point(me,xe)}function le(){z.point=de,P.lineStart()}function ue(){z.point=te,P.lineEnd()}function pe(me,xe){S.push([me,xe]),G.point(me,xe)}function ye(){G.lineStart(),S=[]}function fe(){pe(S[0][0],S[0][1]),G.lineEnd();var me,xe,De,tt,ct=G.clean(),je=A.result(),Xe=je.length;if(S.pop(),_.push(S),S=null,Xe)if(1&ct){if((xe=(De=je[0]).length-1)>0){for(X||(m.polygonStart(),X=!0),m.lineStart(),me=0;me<xe;++me)m.point((tt=De[me])[0],tt[1]);m.lineEnd()}}else Xe>1&&2&ct&&je.push(je.pop().concat(je.shift())),I.push(je.filter(m9))}return z}}function m9(a){return a.length>1}function f9(a,l){return((a=a.x)[0]<0?a[1]-Ja-Ti:Ja-a[1])-((l=l.x)[0]<0?l[1]-Ja-Ti:Ja-l[1])}QP.invert=QP;let tk=xF(function(){return!0},function(a){var l,u=NaN,p=NaN,m=NaN;return{lineStart:function(){a.lineStart(),l=1},point:function(_,I){var S=_>0?Ur:-Ur,P=Yr(_-u);Yr(P-Ur)<Ti?(a.point(u,p=(p+I)/2>0?Ja:-Ja),a.point(m,p),a.lineEnd(),a.lineStart(),a.point(S,p),a.point(_,p),l=0):m!==S&&P>=Ur&&(Yr(u-m)<Ti&&(u-=m*Ti),Yr(_-S)<Ti&&(_-=S*Ti),p=function(A,G,X,z){var te,de,le=jn(A-X);return Yr(le)>Ti?Y_((jn(G)*(de=li(z))*jn(X)-jn(z)*(te=li(G))*jn(A))/(te*de*le)):(G+z)/2}(u,p,_,I),a.point(m,p),a.lineEnd(),a.lineStart(),a.point(S,p),l=0),a.point(u=_,p=I),m=S},lineEnd:function(){a.lineEnd(),u=p=NaN},clean:function(){return 2-l}}},function(a,l,u,p){var m;if(a==null)m=u*Ja,p.point(-Ur,m),p.point(0,m),p.point(Ur,m),p.point(Ur,0),p.point(Ur,-m),p.point(0,-m),p.point(-Ur,-m),p.point(-Ur,0),p.point(-Ur,m);else if(Yr(a[0]-l[0])>Ti){var _=a[0]<l[0]?Ur:-Ur;m=u*_/2,p.point(-_,m),p.point(0,m),p.point(_,m)}else p.point(l[0],l[1])},[-Ur,-Ja]);function AF(a){var l=li(a),u=2*Pi,p=l>0,m=Yr(l)>Ti;function _(P,A){return li(P)*li(A)>l}function I(P,A,G){var X=[1,0,0],z=X_(wg(P),wg(A)),te=tS(z,z),de=z[0],le=te-de*de;if(!le)return!G&&P;var ue=l*te/le,pe=-l*de/le,ye=X_(X,z),fe=nS(X,ue);KP(fe,nS(z,pe));var me=ye,xe=tS(fe,me),De=tS(me,me),tt=xe*xe-De*(tS(fe,fe)-1);if(!(tt<0)){var ct=Xs(tt),je=nS(me,(-xe-ct)/De);if(KP(je,fe),je=eS(je),!G)return je;var Xe,qe=P[0],Ze=A[0],Ct=P[1],Oe=A[1];Ze<qe&&(Xe=qe,qe=Ze,Ze=Xe);var ze=Ze-qe,lt=Yr(ze-Ur)<Ti;if(!lt&&Oe<Ct&&(Xe=Ct,Ct=Oe,Oe=Xe),lt||ze<Ti?lt?Ct+Oe>0^je[1]<(Yr(je[0]-qe)<Ti?Ct:Oe):Ct<=je[1]&&je[1]<=Oe:ze>Ur^(qe<=je[0]&&je[0]<=Ze)){var gt=nS(me,(-xe+ct)/De);return KP(gt,fe),[je,eS(gt)]}}}function S(P,A){var G=p?a:Ur-a,X=0;return P<-G?X|=1:P>G&&(X|=2),A<-G?X|=4:A>G&&(X|=8),X}return xF(_,function(P){var A,G,X,z,te;return{lineStart:function(){z=X=!1,te=1},point:function(de,le){var ue,pe=[de,le],ye=_(de,le),fe=p?ye?0:S(de,le):ye?S(de+(de<0?Ur:-Ur),le):0;if(!A&&(z=X=ye)&&P.lineStart(),ye!==X&&(!(ue=I(A,pe))||uS(A,ue)||uS(pe,ue))&&(pe[2]=1),ye!==X)te=0,ye?(P.lineStart(),ue=I(pe,A),P.point(ue[0],ue[1])):(ue=I(A,pe),P.point(ue[0],ue[1],2),P.lineEnd()),A=ue;else if(m&&A&&p^ye){var me;fe&G||!(me=I(pe,A,!0))||(te=0,p?(P.lineStart(),P.point(me[0][0],me[0][1]),P.point(me[1][0],me[1][1]),P.lineEnd()):(P.point(me[1][0],me[1][1]),P.lineEnd(),P.lineStart(),P.point(me[0][0],me[0][1],3)))}!ye||A&&uS(A,pe)||P.point(pe[0],pe[1]),A=pe,X=ye,G=fe},lineEnd:function(){X&&P.lineEnd(),A=null},clean:function(){return te|(z&&X)<<1}}},function(P,A,G,X){yF(X,a,u,G,P,A)},p?[0,-a]:[-Ur,a-Ur])}var nk,ik,mS,fS,eE=1e9,hS=-eE;function gS(a,l,u,p){function m(A,G){return a<=A&&A<=u&&l<=G&&G<=p}function _(A,G,X,z){var te=0,de=0;if(A==null||(te=I(A,X))!==(de=I(G,X))||P(A,G)<0^X>0)do z.point(te===0||te===3?a:u,te>1?p:l);while((te=(te+X+4)%4)!==de);else z.point(G[0],G[1])}function I(A,G){return Yr(A[0]-a)<Ti?G>0?0:3:Yr(A[0]-u)<Ti?G>0?2:1:Yr(A[1]-l)<Ti?G>0?1:0:G>0?3:2}function S(A,G){return P(A.x,G.x)}function P(A,G){var X=I(A,1),z=I(G,1);return X!==z?X-z:X===0?G[1]-A[1]:X===1?A[0]-G[0]:X===2?A[1]-G[1]:G[0]-A[0]}return function(A){var G,X,z,te,de,le,ue,pe,ye,fe,me,xe=A,De=TF(),tt={point:ct,lineStart:function(){tt.point=je,X&&X.push(z=[]),fe=!0,ye=!1,ue=pe=NaN},lineEnd:function(){G&&(je(te,de),le&&ye&&De.rejoin(),G.push(De.result())),tt.point=ct,ye&&xe.lineEnd()},polygonStart:function(){xe=De,G=[],X=[],me=!0},polygonEnd:function(){var Xe=function(){for(var Ct=0,Oe=0,ze=X.length;Oe<ze;++Oe)for(var lt,gt,Bt=X[Oe],qt=1,gn=Bt.length,Zt=Bt[0],Rn=Zt[0],zi=Zt[1];qt<gn;++qt)lt=Rn,gt=zi,Rn=(Zt=Bt[qt])[0],zi=Zt[1],gt<=p?zi>p&&(Rn-lt)*(p-gt)>(zi-gt)*(a-lt)&&++Ct:zi<=p&&(Rn-lt)*(p-gt)<(zi-gt)*(a-lt)&&--Ct;return Ct}(),qe=me&&Xe,Ze=(G=rs(G)).length;(qe||Ze)&&(A.polygonStart(),qe&&(A.lineStart(),_(null,null,1,A),A.lineEnd()),Ze&&bF(G,S,Xe,_,A),A.polygonEnd()),xe=A,G=X=z=null}};function ct(Xe,qe){m(Xe,qe)&&xe.point(Xe,qe)}function je(Xe,qe){var Ze=m(Xe,qe);if(X&&z.push([Xe,qe]),fe)te=Xe,de=qe,le=Ze,fe=!1,Ze&&(xe.lineStart(),xe.point(Xe,qe));else if(Ze&&ye)xe.point(Xe,qe);else{var Ct=[ue=Math.max(hS,Math.min(eE,ue)),pe=Math.max(hS,Math.min(eE,pe))],Oe=[Xe=Math.max(hS,Math.min(eE,Xe)),qe=Math.max(hS,Math.min(eE,qe))];(function(ze,lt,gt,Bt,qt,gn){var Zt,Rn=ze[0],zi=ze[1],Jn=0,fi=1,Yo=lt[0]-Rn,Cr=lt[1]-zi;if(Zt=gt-Rn,Yo||!(Zt>0)){if(Zt/=Yo,Yo<0){if(Zt<Jn)return;Zt<fi&&(fi=Zt)}else if(Yo>0){if(Zt>fi)return;Zt>Jn&&(Jn=Zt)}if(Zt=qt-Rn,Yo||!(Zt<0)){if(Zt/=Yo,Yo<0){if(Zt>fi)return;Zt>Jn&&(Jn=Zt)}else if(Yo>0){if(Zt<Jn)return;Zt<fi&&(fi=Zt)}if(Zt=Bt-zi,Cr||!(Zt>0)){if(Zt/=Cr,Cr<0){if(Zt<Jn)return;Zt<fi&&(fi=Zt)}else if(Cr>0){if(Zt>fi)return;Zt>Jn&&(Jn=Zt)}if(Zt=gn-zi,Cr||!(Zt<0)){if(Zt/=Cr,Cr<0){if(Zt>fi)return;Zt>Jn&&(Jn=Zt)}else if(Cr>0){if(Zt<Jn)return;Zt<fi&&(fi=Zt)}return Jn>0&&(ze[0]=Rn+Jn*Yo,ze[1]=zi+Jn*Cr),fi<1&&(lt[0]=Rn+fi*Yo,lt[1]=zi+fi*Cr),!0}}}}})(Ct,Oe,a,l,u,p)?(ye||(xe.lineStart(),xe.point(Ct[0],Ct[1])),xe.point(Oe[0],Oe[1]),Ze||xe.lineEnd(),me=!1):Ze&&(xe.lineStart(),xe.point(Xe,qe),me=!1)}ue=Xe,pe=qe,ye=Ze}return tt}}function h9(){var a,l,u,p=0,m=0,_=960,I=500;return u={stream:function(S){return a&&l===S?a:a=gS(p,m,_,I)(l=S)},extent:function(S){return arguments.length?(p=+S[0][0],m=+S[0][1],_=+S[1][0],I=+S[1][1],a=l=null,u):[[p,m],[_,I]]}}}var Z_={sphere:La,point:La,lineStart:function(){Z_.point=v9,Z_.lineEnd=g9},lineEnd:La,polygonStart:La,polygonEnd:La};function g9(){Z_.point=Z_.lineEnd=La}function v9(a,l){ik=a*=Pi,mS=jn(l*=Pi),fS=li(l),Z_.point=_9}function _9(a,l){a*=Pi;var u=jn(l*=Pi),p=li(l),m=Yr(a-ik),_=li(m),I=p*jn(m),S=fS*u-mS*p*_,P=mS*u+fS*p*_;nk.add(sc(Xs(I*I+S*S),P)),ik=a,mS=u,fS=p}function PF(a){return nk=new Ke,sp(a,Z_),+nk}var rk=[null,null],C9={type:"LineString",coordinates:rk};function vS(a,l){return rk[0]=a,rk[1]=l,PF(C9)}var kF={Feature:function(a,l){return _S(a.geometry,l)},FeatureCollection:function(a,l){for(var u=a.features,p=-1,m=u.length;++p<m;)if(_S(u[p].geometry,l))return!0;return!1}},wF={Sphere:function(){return!0},Point:function(a,l){return DF(a.coordinates,l)},MultiPoint:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)if(DF(u[p],l))return!0;return!1},LineString:function(a,l){return OF(a.coordinates,l)},MultiLineString:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)if(OF(u[p],l))return!0;return!1},Polygon:function(a,l){return NF(a.coordinates,l)},MultiPolygon:function(a,l){for(var u=a.coordinates,p=-1,m=u.length;++p<m;)if(NF(u[p],l))return!0;return!1},GeometryCollection:function(a,l){for(var u=a.geometries,p=-1,m=u.length;++p<m;)if(_S(u[p],l))return!0;return!1}};function _S(a,l){return!(!a||!wF.hasOwnProperty(a.type))&&wF[a.type](a,l)}function DF(a,l){return vS(a,l)===0}function OF(a,l){for(var u,p,m,_=0,I=a.length;_<I;_++){if((p=vS(a[_],l))===0||_>0&&(m=vS(a[_],a[_-1]))>0&&u<=m&&p<=m&&(u+p-m)*(1-Math.pow((u-p)/m,2))<Jy*m)return!0;u=p}return!1}function NF(a,l){return!!SF(a.map(y9),RF(l))}function y9(a){return(a=a.map(RF)).pop(),a}function RF(a){return[a[0]*Pi,a[1]*Pi]}function E9(a,l){return(a&&kF.hasOwnProperty(a.type)?kF[a.type]:_S)(a,l)}function MF(a,l,u){var p=au(a,l-Ti,u).concat(l);return function(m){return p.map(function(_){return[m,_]})}}function FF(a,l,u){var p=au(a,l-Ti,u).concat(l);return function(m){return p.map(function(_){return[_,m]})}}function LF(){var a,l,u,p,m,_,I,S,P,A,G,X,z=10,te=z,de=90,le=360,ue=2.5;function pe(){return{type:"MultiLineString",coordinates:ye()}}function ye(){return au(YI(p/de)*de,u,de).map(G).concat(au(YI(S/le)*le,I,le).map(X)).concat(au(YI(l/z)*z,a,z).filter(function(fe){return Yr(fe%de)>Ti}).map(P)).concat(au(YI(_/te)*te,m,te).filter(function(fe){return Yr(fe%le)>Ti}).map(A))}return pe.lines=function(){return ye().map(function(fe){return{type:"LineString",coordinates:fe}})},pe.outline=function(){return{type:"Polygon",coordinates:[G(p).concat(X(I).slice(1),G(u).reverse().slice(1),X(S).reverse().slice(1))]}},pe.extent=function(fe){return arguments.length?pe.extentMajor(fe).extentMinor(fe):pe.extentMinor()},pe.extentMajor=function(fe){return arguments.length?(p=+fe[0][0],u=+fe[1][0],S=+fe[0][1],I=+fe[1][1],p>u&&(fe=p,p=u,u=fe),S>I&&(fe=S,S=I,I=fe),pe.precision(ue)):[[p,S],[u,I]]},pe.extentMinor=function(fe){return arguments.length?(l=+fe[0][0],a=+fe[1][0],_=+fe[0][1],m=+fe[1][1],l>a&&(fe=l,l=a,a=fe),_>m&&(fe=_,_=m,m=fe),pe.precision(ue)):[[l,_],[a,m]]},pe.step=function(fe){return arguments.length?pe.stepMajor(fe).stepMinor(fe):pe.stepMinor()},pe.stepMajor=function(fe){return arguments.length?(de=+fe[0],le=+fe[1],pe):[de,le]},pe.stepMinor=function(fe){return arguments.length?(z=+fe[0],te=+fe[1],pe):[z,te]},pe.precision=function(fe){return arguments.length?(ue=+fe,P=MF(_,m,90),A=FF(l,a,ue),G=MF(S,I,90),X=FF(p,u,ue),pe):ue},pe.extentMajor([[-180,-90+Ti],[180,90-Ti]]).extentMinor([[-180,-80-Ti],[180,80+Ti]])}function T9(){return LF()()}function b9(a,l){var u=a[0]*Pi,p=a[1]*Pi,m=l[0]*Pi,_=l[1]*Pi,I=li(p),S=jn(p),P=li(_),A=jn(_),G=I*li(u),X=I*jn(u),z=P*li(m),te=P*jn(m),de=2*lc(Xs(X3(_-p)+I*P*X3(m-u))),le=jn(de),ue=de?function(pe){var ye=jn(pe*=de)/le,fe=jn(de-pe)/le,me=fe*G+ye*z,xe=fe*X+ye*te,De=fe*S+ye*A;return[sc(xe,me)*Wo,sc(De,Xs(me*me+xe*xe))*Wo]}:function(){return[u*Wo,p*Wo]};return ue.distance=de,ue}let tE=a=>a;var BF,UF,Dg,eC,Og=new Ke,CS=new Ke,Af={point:La,lineStart:La,lineEnd:La,polygonStart:function(){Af.lineStart=$F,Af.lineEnd=Y},polygonEnd:function(){Af.lineStart=Af.lineEnd=Af.point=La,Og.add(Yr(CS)),CS=new Ke},result:function(){var a=Og/2;return Og=new Ke,a}};function $F(){Af.point=HF}function HF(a,l){Af.point=U,BF=Dg=a,UF=eC=l}function U(a,l){CS.add(eC*a-Dg*l),Dg=a,eC=l}function Y(){U(BF,UF)}let Q=Af;var Z=1/0,re=Z,ve=-Z,Be=ve,st={point:function(a,l){a<Z&&(Z=a),a>ve&&(ve=a),l<re&&(re=l),l>Be&&(Be=l)},lineStart:La,lineEnd:La,polygonStart:La,polygonEnd:La,result:function(){var a=[[Z,re],[ve,Be]];return ve=Be=-(re=Z=1/0),a}};let St=st;var tn,bi,Ii,ki,xn=0,To=0,Do=0,pa=0,Es=0,Qs=0,cp=0,gu=0,Gc=0,Ts={point:Oo,lineStart:tC,lineEnd:Pt,polygonStart:function(){Ts.lineStart=yn,Ts.lineEnd=Zn},polygonEnd:function(){Ts.point=Oo,Ts.lineStart=tC,Ts.lineEnd=Pt},result:function(){var a=Gc?[cp/Gc,gu/Gc]:Qs?[pa/Qs,Es/Qs]:Do?[xn/Do,To/Do]:[NaN,NaN];return xn=To=Do=pa=Es=Qs=cp=gu=Gc=0,a}};function Oo(a,l){xn+=a,To+=l,++Do}function tC(){Ts.point=nE}function nE(a,l){Ts.point=gm,Oo(Ii=a,ki=l)}function gm(a,l){var u=a-Ii,p=l-ki,m=Xs(u*u+p*p);pa+=m*(Ii+a)/2,Es+=m*(ki+l)/2,Qs+=m,Oo(Ii=a,ki=l)}function Pt(){Ts.point=Oo}function yn(){Ts.point=Li}function Zn(){_r(tn,bi)}function Li(a,l){Ts.point=_r,Oo(tn=Ii=a,bi=ki=l)}function _r(a,l){var u=a-Ii,p=l-ki,m=Xs(u*u+p*p);pa+=m*(Ii+a)/2,Es+=m*(ki+l)/2,Qs+=m,cp+=(m=ki*a-Ii*l)*(Ii+a),gu+=m*(ki+l),Gc+=3*m,Oo(Ii=a,ki=l)}let Yi=Ts;function $r(a){this._context=a}$r.prototype={_radius:4.5,pointRadius:function(a){return this._radius=a,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(a,l){switch(this._point){case 0:this._context.moveTo(a,l),this._point=1;break;case 1:this._context.lineTo(a,l);break;default:this._context.moveTo(a+this._radius,l),this._context.arc(a,l,this._radius,0,ac)}},result:La};var zo,so,ur,Qa,vu,vm=new Ke,dp={point:La,lineStart:function(){dp.point=Ng},lineEnd:function(){zo&&Sd(so,ur),dp.point=La},polygonStart:function(){zo=!0},polygonEnd:function(){zo=null},result:function(){var a=+vm;return vm=new Ke,a}};function Ng(a,l){dp.point=Sd,so=Qa=a,ur=vu=l}function Sd(a,l){Qa-=a,vu-=l,vm.add(Xs(Qa*Qa+vu*vu)),Qa=a,vu=l}let Rg=dp,Kh,Pf,nC,ok;class I9{constructor(l){this._append=l==null?S9:function(u){let p=Math.floor(u);if(!(p>=0))throw new RangeError(`invalid digits: ${u}`);if(p>15)return S9;if(p!==Kh){let m=10**p;Kh=p,Pf=function(_){let I=1;this._+=_[0];for(let S=_.length;I<S;++I)this._+=Math.round(arguments[I]*m)/m+_[I]}}return Pf}(l),this._radius=4.5,this._=""}pointRadius(l){return this._radius=+l,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(l,u){switch(this._point){case 0:this._append`M${l},${u}`,this._point=1;break;case 1:this._append`L${l},${u}`;break;default:if(this._append`M${l},${u}`,this._radius!==nC||this._append!==Pf){let p=this._radius,m=this._;this._="",this._append`m0,${p}a${p},${p} 0 1,1 0,${-2*p}a${p},${p} 0 1,1 0,${2*p}z`,nC=p,Pf=this._append,ok=this._,this._=m}this._+=ok}}result(){let l=this._;return this._="",l.length?l:null}}function S9(a){let l=1;this._+=a[0];for(let u=a.length;l<u;++l)this._+=arguments[l]+a[l]}function $re(a,l){let u,p,m=3,_=4.5;function I(S){return S&&(typeof _=="function"&&p.pointRadius(+_.apply(this,arguments)),sp(S,u(p))),p.result()}return I.area=function(S){return sp(S,u(Q)),Q.result()},I.measure=function(S){return sp(S,u(Rg)),Rg.result()},I.bounds=function(S){return sp(S,u(St)),St.result()},I.centroid=function(S){return sp(S,u(Yi)),Yi.result()},I.projection=function(S){return arguments.length?(u=S==null?(a=null,tE):(a=S).stream,I):a},I.context=function(S){return arguments.length?(p=S==null?(l=null,new I9(m)):new $r(l=S),typeof _!="function"&&p.pointRadius(_),I):l},I.pointRadius=function(S){return arguments.length?(_=typeof S=="function"?S:(p.pointRadius(+S),+S),I):_},I.digits=function(S){if(!arguments.length)return m;if(S==null)m=null;else{let P=Math.floor(S);if(!(P>=0))throw new RangeError(`invalid digits: ${S}`);m=P}return l===null&&(p=new I9(m)),I},I.projection(a).digits(m).context(l)}function Hre(a){return{stream:yS(a)}}function yS(a){return function(l){var u=new VF;for(var p in a)u[p]=a[p];return u.stream=l,u}}function VF(){}function jF(a,l,u){var p=a.clipExtent&&a.clipExtent();return a.scale(150).translate([0,0]),p!=null&&a.clipExtent(null),sp(u,a.stream(St)),l(St.result()),p!=null&&a.clipExtent(p),a}function ak(a,l,u){return jF(a,function(p){var m=l[1][0]-l[0][0],_=l[1][1]-l[0][1],I=Math.min(m/(p[1][0]-p[0][0]),_/(p[1][1]-p[0][1])),S=+l[0][0]+(m-I*(p[1][0]+p[0][0]))/2,P=+l[0][1]+(_-I*(p[1][1]+p[0][1]))/2;a.scale(150*I).translate([S,P])},u)}function GF(a,l,u){return ak(a,[[0,0],l],u)}function KF(a,l,u){return jF(a,function(p){var m=+l,_=m/(p[1][0]-p[0][0]),I=(m-_*(p[1][0]+p[0][0]))/2,S=-_*p[0][1];a.scale(150*_).translate([I,S])},u)}function qF(a,l,u){return jF(a,function(p){var m=+l,_=m/(p[1][1]-p[0][1]),I=-_*p[0][0],S=(m-_*(p[1][1]+p[0][1]))/2;a.scale(150*_).translate([I,S])},u)}VF.prototype={constructor:VF,point:function(a,l){this.stream.point(a,l)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var x9=16,Vre=li(30*Pi);function A9(a,l){return+l?function(u,p){function m(_,I,S,P,A,G,X,z,te,de,le,ue,pe,ye){var fe=X-_,me=z-I,xe=fe*fe+me*me;if(xe>4*p&&pe--){var De=P+de,tt=A+le,ct=G+ue,je=Xs(De*De+tt*tt+ct*ct),Xe=lc(ct/=je),qe=Yr(Yr(ct)-1)<Ti||Yr(S-te)<Ti?(S+te)/2:sc(tt,De),Ze=u(qe,Xe),Ct=Ze[0],Oe=Ze[1],ze=Ct-_,lt=Oe-I,gt=me*ze-fe*lt;(gt*gt/xe>p||Yr((fe*ze+me*lt)/xe-.5)>.3||P*de+A*le+G*ue<Vre)&&(m(_,I,S,P,A,G,Ct,Oe,qe,De/=je,tt/=je,ct,pe,ye),ye.point(Ct,Oe),m(Ct,Oe,qe,De,tt,ct,X,z,te,de,le,ue,pe,ye))}}return function(_){var I,S,P,A,G,X,z,te,de,le,ue,pe,ye={point:fe,lineStart:me,lineEnd:De,polygonStart:function(){_.polygonStart(),ye.lineStart=tt},polygonEnd:function(){_.polygonEnd(),ye.lineStart=me}};function fe(Xe,qe){Xe=u(Xe,qe),_.point(Xe[0],Xe[1])}function me(){te=NaN,ye.point=xe,_.lineStart()}function xe(Xe,qe){var Ze=wg([Xe,qe]),Ct=u(Xe,qe);m(te,de,z,le,ue,pe,te=Ct[0],de=Ct[1],z=Xe,le=Ze[0],ue=Ze[1],pe=Ze[2],x9,_),_.point(te,de)}function De(){ye.point=fe,_.lineEnd()}function tt(){me(),ye.point=ct,ye.lineEnd=je}function ct(Xe,qe){xe(I=Xe,qe),S=te,P=de,A=le,G=ue,X=pe,ye.point=xe}function je(){m(te,de,z,le,ue,pe,S,P,I,A,G,X,x9,_),ye.lineEnd=De,De()}return ye}}(a,l):function(u){return yS({point:function(p,m){p=u(p,m),this.stream.point(p[0],p[1])}})}(a)}var jre=yS({point:function(a,l){this.stream.point(a*Pi,l*Pi)}});function P9(a,l,u,p,m,_){if(!_)return function(le,ue,pe,ye,fe){function me(xe,De){return[ue+le*(xe*=ye),pe-le*(De*=fe)]}return me.invert=function(xe,De){return[(xe-ue)/le*ye,(pe-De)/le*fe]},me}(a,l,u,p,m);var I=li(_),S=jn(_),P=I*a,A=S*a,G=I/a,X=S/a,z=(S*u-I*l)/a,te=(S*l+I*u)/a;function de(le,ue){return[P*(le*=p)-A*(ue*=m)+l,u-A*le-P*ue]}return de.invert=function(le,ue){return[p*(G*le-X*ue+z),m*(te-X*le-G*ue)]},de}function kf(a){return WF(function(){return a})()}function WF(a){var l,u,p,m,_,I,S,P,A,G,X=150,z=480,te=250,de=0,le=0,ue=0,pe=0,ye=0,fe=0,me=1,xe=1,De=null,tt=tk,ct=null,je=tE,Xe=.5;function qe(ze){return P(ze[0]*Pi,ze[1]*Pi)}function Ze(ze){return(ze=P.invert(ze[0],ze[1]))&&[ze[0]*Wo,ze[1]*Wo]}function Ct(){var ze=P9(X,0,0,me,xe,fe).apply(null,l(de,le)),lt=P9(X,z-ze[0],te-ze[1],me,xe,fe);return u=ZP(ue,pe,ye),S=XP(l,lt),P=XP(u,S),I=A9(S,Xe),Oe()}function Oe(){return A=G=null,qe}return qe.stream=function(ze){return A&&G===ze?A:A=jre(function(lt){return yS({point:function(gt,Bt){var qt=lt(gt,Bt);return this.stream.point(qt[0],qt[1])}})}(u)(tt(I(je(G=ze)))))},qe.preclip=function(ze){return arguments.length?(tt=ze,De=void 0,Oe()):tt},qe.postclip=function(ze){return arguments.length?(je=ze,ct=p=m=_=null,Oe()):je},qe.clipAngle=function(ze){return arguments.length?(tt=+ze?AF(De=ze*Pi):(De=null,tk),Oe()):De*Wo},qe.clipExtent=function(ze){return arguments.length?(je=ze==null?(ct=p=m=_=null,tE):gS(ct=+ze[0][0],p=+ze[0][1],m=+ze[1][0],_=+ze[1][1]),Oe()):ct==null?null:[[ct,p],[m,_]]},qe.scale=function(ze){return arguments.length?(X=+ze,Ct()):X},qe.translate=function(ze){return arguments.length?(z=+ze[0],te=+ze[1],Ct()):[z,te]},qe.center=function(ze){return arguments.length?(de=ze[0]%360*Pi,le=ze[1]%360*Pi,Ct()):[de*Wo,le*Wo]},qe.rotate=function(ze){return arguments.length?(ue=ze[0]%360*Pi,pe=ze[1]%360*Pi,ye=ze.length>2?ze[2]%360*Pi:0,Ct()):[ue*Wo,pe*Wo,ye*Wo]},qe.angle=function(ze){return arguments.length?(fe=ze%360*Pi,Ct()):fe*Wo},qe.reflectX=function(ze){return arguments.length?(me=ze?-1:1,Ct()):me<0},qe.reflectY=function(ze){return arguments.length?(xe=ze?-1:1,Ct()):xe<0},qe.precision=function(ze){return arguments.length?(I=A9(S,Xe=ze*ze),Oe()):Xs(Xe)},qe.fitExtent=function(ze,lt){return ak(qe,ze,lt)},qe.fitSize=function(ze,lt){return GF(qe,ze,lt)},qe.fitWidth=function(ze,lt){return KF(qe,ze,lt)},qe.fitHeight=function(ze,lt){return qF(qe,ze,lt)},function(){return l=a.apply(this,arguments),qe.invert=l.invert&&Ze,Ct()}}function zF(a){var l=0,u=Ur/3,p=WF(a),m=p(l,u);return m.parallels=function(_){return arguments.length?p(l=_[0]*Pi,u=_[1]*Pi):[l*Wo,u*Wo]},m}function k9(a,l){var u=jn(a),p=(u+jn(l))/2;if(Yr(p)<Ti)return function(S){var P=li(S);function A(G,X){return[G*P,jn(X)/P]}return A.invert=function(G,X){return[G/P,lc(X*P)]},A}(a);var m=1+u*(2*p-u),_=Xs(m)/p;function I(S,P){var A=Xs(m-2*p*jn(P))/p;return[A*jn(S*=p),_-A*li(S)]}return I.invert=function(S,P){var A=_-P,G=sc(S,Yr(A))*hu(A);return A*p<0&&(G-=Ur*hu(S)*hu(A)),[G/p,lc((m-(S*S+A*A)*p*p)/(2*p))]},I}function sk(){return zF(k9).scale(155.424).center([0,33.6442])}function w9(){return sk().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Gre(){var a,l,u,p,m,_,I=w9(),S=sk().rotate([154,0]).center([-2,58.5]).parallels([55,65]),P=sk().rotate([157,0]).center([-3,19.9]).parallels([8,18]),A={point:function(z,te){_=[z,te]}};function G(z){var te=z[0],de=z[1];return _=null,u.point(te,de),_||(p.point(te,de),_)||(m.point(te,de),_)}function X(){return a=l=null,G}return G.invert=function(z){var te=I.scale(),de=I.translate(),le=(z[0]-de[0])/te,ue=(z[1]-de[1])/te;return(ue>=.12&&ue<.234&&le>=-.425&&le<-.214?S:ue>=.166&&ue<.234&&le>=-.214&&le<-.115?P:I).invert(z)},G.stream=function(z){return a&&l===z?a:(te=[I.stream(l=z),S.stream(z),P.stream(z)],de=te.length,a={point:function(le,ue){for(var pe=-1;++pe<de;)te[pe].point(le,ue)},sphere:function(){for(var le=-1;++le<de;)te[le].sphere()},lineStart:function(){for(var le=-1;++le<de;)te[le].lineStart()},lineEnd:function(){for(var le=-1;++le<de;)te[le].lineEnd()},polygonStart:function(){for(var le=-1;++le<de;)te[le].polygonStart()},polygonEnd:function(){for(var le=-1;++le<de;)te[le].polygonEnd()}});var te,de},G.precision=function(z){return arguments.length?(I.precision(z),S.precision(z),P.precision(z),X()):I.precision()},G.scale=function(z){return arguments.length?(I.scale(z),S.scale(.35*z),P.scale(z),G.translate(I.translate())):I.scale()},G.translate=function(z){if(!arguments.length)return I.translate();var te=I.scale(),de=+z[0],le=+z[1];return u=I.translate(z).clipExtent([[de-.455*te,le-.238*te],[de+.455*te,le+.238*te]]).stream(A),p=S.translate([de-.307*te,le+.201*te]).clipExtent([[de-.425*te+Ti,le+.12*te+Ti],[de-.214*te-Ti,le+.234*te-Ti]]).stream(A),m=P.translate([de-.205*te,le+.212*te]).clipExtent([[de-.214*te+Ti,le+.166*te+Ti],[de-.115*te-Ti,le+.234*te-Ti]]).stream(A),X()},G.fitExtent=function(z,te){return ak(G,z,te)},G.fitSize=function(z,te){return GF(G,z,te)},G.fitWidth=function(z,te){return KF(G,z,te)},G.fitHeight=function(z,te){return qF(G,z,te)},G.scale(1070)}function D9(a){return function(l,u){var p=li(l),m=li(u),_=a(p*m);return _===1/0?[2,0]:[_*m*jn(l),_*jn(u)]}}function ES(a){return function(l,u){var p=Xs(l*l+u*u),m=a(p),_=jn(m),I=li(m);return[sc(l*_,p*I),lc(p&&u*_/p)]}}var YF=D9(function(a){return Xs(2/(1+a))});function Kre(){return kf(YF).scale(124.75).clipAngle(179.999)}YF.invert=ES(function(a){return 2*lc(a/2)});var JF=D9(function(a){return(a=J3(a))&&a/jn(a)});function qre(){return kf(JF).scale(79.4188).clipAngle(179.999)}function TS(a,l){return[a,JI($P((Ja+l)/2))]}function Wre(){return O9(TS).scale(961/ac)}function O9(a){var l,u,p,m=kf(a),_=m.center,I=m.scale,S=m.translate,P=m.clipExtent,A=null;function G(){var X=Ur*I(),z=m(CF(m.rotate()).invert([0,0]));return P(A==null?[[z[0]-X,z[1]-X],[z[0]+X,z[1]+X]]:a===TS?[[Math.max(z[0]-X,A),l],[Math.min(z[0]+X,u),p]]:[[A,Math.max(z[1]-X,l)],[u,Math.min(z[1]+X,p)]])}return m.scale=function(X){return arguments.length?(I(X),G()):I()},m.translate=function(X){return arguments.length?(S(X),G()):S()},m.center=function(X){return arguments.length?(_(X),G()):_()},m.clipExtent=function(X){return arguments.length?(X==null?A=l=u=p=null:(A=+X[0][0],l=+X[0][1],u=+X[1][0],p=+X[1][1]),G()):A==null?null:[[A,l],[u,p]]},G()}function lk(a){return $P((Ja+a)/2)}function N9(a,l){var u=li(a),p=a===l?jn(a):JI(u/li(l))/JI(lk(l)/lk(a)),m=u*UP(lk(a),p)/p;if(!p)return TS;function _(I,S){m>0?S<-Ja+Ti&&(S=-Ja+Ti):S>Ja-Ti&&(S=Ja-Ti);var P=m/UP(lk(S),p);return[P*jn(p*I),m-P*li(p*I)]}return _.invert=function(I,S){var P=m-S,A=hu(p)*Xs(I*I+P*P),G=sc(I,Yr(P))*hu(P);return P*p<0&&(G-=Ur*hu(I)*hu(P)),[G/p,2*Y_(UP(m/A,1/p))-Ja]},_}function zre(){return zF(N9).scale(109.5).parallels([30,30])}function bS(a,l){return[a,l]}function Yre(){return kf(bS).scale(152.63)}function R9(a,l){var u=li(a),p=a===l?jn(a):(u-li(l))/(l-a),m=u/p+a;if(Yr(p)<Ti)return bS;function _(I,S){var P=m-S,A=p*I;return[P*jn(A),m-P*li(A)]}return _.invert=function(I,S){var P=m-S,A=sc(I,Yr(P))*hu(P);return P*p<0&&(A-=Ur*hu(I)*hu(P)),[A/p,m-hu(p)*Xs(I*I+P*P)]},_}function Jre(){return zF(R9).scale(131.154).center([0,13.9389])}JF.invert=ES(function(a){return a}),TS.invert=function(a,l){return[a,2*Y_(Y3(l))-Ja]},bS.invert=bS;var IS=1.340264,SS=-.081106,xS=893e-6,AS=.003796,ck=Xs(3)/2;function XF(a,l){var u=lc(ck*jn(l)),p=u*u,m=p*p*p;return[a*li(u)/(ck*(IS+3*SS*p+m*(7*xS+9*AS*p))),u*(IS+SS*p+m*(xS+AS*p))]}function Xre(){return kf(XF).scale(177.158)}function QF(a,l){var u=li(l),p=li(a)*u;return[u*jn(a)/p,jn(l)/p]}function Qre(){return kf(QF).scale(144.049).clipAngle(60)}function Zre(){var a,l,u,p,m,_,I,S=1,P=0,A=0,G=1,X=1,z=0,te=null,de=1,le=1,ue=yS({point:function(me,xe){var De=fe([me,xe]);this.stream.point(De[0],De[1])}}),pe=tE;function ye(){return de=S*G,le=S*X,_=I=null,fe}function fe(me){var xe=me[0]*de,De=me[1]*le;if(z){var tt=De*a-xe*l;xe=xe*a+De*l,De=tt}return[xe+P,De+A]}return fe.invert=function(me){var xe=me[0]-P,De=me[1]-A;if(z){var tt=De*a+xe*l;xe=xe*a-De*l,De=tt}return[xe/de,De/le]},fe.stream=function(me){return _&&I===me?_:_=ue(pe(I=me))},fe.postclip=function(me){return arguments.length?(pe=me,te=u=p=m=null,ye()):pe},fe.clipExtent=function(me){return arguments.length?(pe=me==null?(te=u=p=m=null,tE):gS(te=+me[0][0],u=+me[0][1],p=+me[1][0],m=+me[1][1]),ye()):te==null?null:[[te,u],[p,m]]},fe.scale=function(me){return arguments.length?(S=+me,ye()):S},fe.translate=function(me){return arguments.length?(P=+me[0],A=+me[1],ye()):[P,A]},fe.angle=function(me){return arguments.length?(l=jn(z=me%360*Pi),a=li(z),ye()):z*Wo},fe.reflectX=function(me){return arguments.length?(G=me?-1:1,ye()):G<0},fe.reflectY=function(me){return arguments.length?(X=me?-1:1,ye()):X<0},fe.fitExtent=function(me,xe){return ak(fe,me,xe)},fe.fitSize=function(me,xe){return GF(fe,me,xe)},fe.fitWidth=function(me,xe){return KF(fe,me,xe)},fe.fitHeight=function(me,xe){return qF(fe,me,xe)},fe}function ZF(a,l){var u=l*l,p=u*u;return[a*(.8707-.131979*u+p*(p*(.003971*u-.001529*p)-.013791)),l*(1.007226+u*(.015085+p*(.028874*u-.044475-.005916*p)))]}function eoe(){return kf(ZF).scale(175.295)}function eL(a,l){return[li(l)*jn(a),jn(l)]}function toe(){return kf(eL).scale(249.5).clipAngle(90+Ti)}function tL(a,l){var u=li(l),p=1+li(a)*u;return[u*jn(a)/p,jn(l)/p]}function noe(){return kf(tL).scale(250).clipAngle(142)}function nL(a,l){return[JI($P((Ja+l)/2)),-a]}function ioe(){var a=O9(nL),l=a.center,u=a.rotate;return a.center=function(p){return arguments.length?l([-p[1],p[0]]):[(p=l())[1],-p[0]]},a.rotate=function(p){return arguments.length?u([p[0],p[1],p.length>2?p[2]+90:90]):[(p=u())[0],p[1],p[2]-90]},u([0,0,90]).scale(159.155)}function roe(a,l){return a.parent===l.parent?1:2}function ooe(a,l){return a+l.x}function aoe(a,l){return Math.max(a,l.y)}function soe(){var a=roe,l=1,u=1,p=!1;function m(_){var I,S=0;_.eachAfter(function(z){var te=z.children;te?(z.x=function(de){return de.reduce(ooe,0)/de.length}(te),z.y=function(de){return 1+de.reduce(aoe,0)}(te)):(z.x=I?S+=a(z,I):0,z.y=0,I=z)});var P=function(z){for(var te;te=z.children;)z=te[0];return z}(_),A=function(z){for(var te;te=z.children;)z=te[te.length-1];return z}(_),G=P.x-a(P,A)/2,X=A.x+a(A,P)/2;return _.eachAfter(p?function(z){z.x=(z.x-_.x)*l,z.y=(_.y-z.y)*u}:function(z){z.x=(z.x-G)/(X-G)*l,z.y=(1-(_.y?z.y/_.y:1))*u})}return m.separation=function(_){return arguments.length?(a=_,m):a},m.size=function(_){return arguments.length?(p=!1,l=+_[0],u=+_[1],m):p?null:[l,u]},m.nodeSize=function(_){return arguments.length?(p=!0,l=+_[0],u=+_[1],m):p?[l,u]:null},m}function loe(a){var l=0,u=a.children,p=u&&u.length;if(p)for(;--p>=0;)l+=u[p].value;else l=1;a.value=l}function iL(a,l){a instanceof Map?(a=[void 0,a],l===void 0&&(l=doe)):l===void 0&&(l=coe);for(var u,p,m,_,I,S=new iC(a),P=[S];u=P.pop();)if((m=l(u.data))&&(I=(m=Array.from(m)).length))for(u.children=m,_=I-1;_>=0;--_)P.push(p=m[_]=new iC(m[_])),p.parent=u,p.depth=u.depth+1;return S.eachBefore(M9)}function coe(a){return a.children}function doe(a){return Array.isArray(a)?a[1]:null}function uoe(a){a.data.value!==void 0&&(a.value=a.data.value),a.data=a.data.data}function M9(a){var l=0;do a.height=l;while((a=a.parent)&&a.height<++l)}function iC(a){this.data=a,this.depth=this.height=0,this.parent=null}function dk(a){return a==null?null:F9(a)}function F9(a){if(typeof a!="function")throw new Error;return a}function rC(){return 0}function iE(a){return function(){return a}}XF.invert=function(a,l){for(var u,p=l,m=p*p,_=m*m*m,I=0;I<12&&(_=(m=(p-=u=(p*(IS+SS*m+_*(xS+AS*m))-l)/(IS+3*SS*m+_*(7*xS+9*AS*m)))*p)*m*m,!(Yr(u)<Jy));++I);return[ck*a*(IS+3*SS*m+_*(7*xS+9*AS*m))/li(p),lc(jn(p)/ck)]},QF.invert=ES(Y_),ZF.invert=function(a,l){var u,p=l,m=25;do{var _=p*p,I=_*_;p-=u=(p*(1.007226+_*(.015085+I*(.028874*_-.044475-.005916*I)))-l)/(1.007226+_*(.045255+I*(.259866*_-.311325-.06507600000000001*I)))}while(Yr(u)>Ti&&--m>0);return[a/(.8707+(_=p*p)*(_*(_*_*_*(.003971-.001529*_)-.013791)-.131979)),p]},eL.invert=ES(lc),tL.invert=ES(function(a){return 2*Y_(a)}),nL.invert=function(a,l){return[-l,2*Y_(Y3(a))-Ja]},iC.prototype=iL.prototype={constructor:iC,count:function(){return this.eachAfter(loe)},each:function(a,l){let u=-1;for(let p of this)a.call(l,p,++u,this);return this},eachAfter:function(a,l){for(var u,p,m,_=this,I=[_],S=[],P=-1;_=I.pop();)if(S.push(_),u=_.children)for(p=0,m=u.length;p<m;++p)I.push(u[p]);for(;_=S.pop();)a.call(l,_,++P,this);return this},eachBefore:function(a,l){for(var u,p,m=this,_=[m],I=-1;m=_.pop();)if(a.call(l,m,++I,this),u=m.children)for(p=u.length-1;p>=0;--p)_.push(u[p]);return this},find:function(a,l){let u=-1;for(let p of this)if(a.call(l,p,++u,this))return p},sum:function(a){return this.eachAfter(function(l){for(var u=+a(l.data)||0,p=l.children,m=p&&p.length;--m>=0;)u+=p[m].value;l.value=u})},sort:function(a){return this.eachBefore(function(l){l.children&&l.children.sort(a)})},path:function(a){for(var l=this,u=function(_,I){if(_===I)return _;var S=_.ancestors(),P=I.ancestors(),A=null;for(_=S.pop(),I=P.pop();_===I;)A=_,_=S.pop(),I=P.pop();return A}(l,a),p=[l];l!==u;)l=l.parent,p.push(l);for(var m=p.length;a!==u;)p.splice(m,0,a),a=a.parent;return p},ancestors:function(){for(var a=this,l=[a];a=a.parent;)l.push(a);return l},descendants:function(){return Array.from(this)},leaves:function(){var a=[];return this.eachBefore(function(l){l.children||a.push(l)}),a},links:function(){var a=this,l=[];return a.each(function(u){u!==a&&l.push({source:u.parent,target:u})}),l},copy:function(){return iL(this).eachBefore(uoe)},[Symbol.iterator]:function*(){var a,l,u,p,m=this,_=[m];do for(a=_.reverse(),_=[];m=a.pop();)if(yield m,l=m.children)for(u=0,p=l.length;u<p;++u)_.push(l[u]);while(_.length)}};let poe=1664525,moe=1013904223,L9=4294967296;function rL(){let a=1;return()=>(a=(poe*a+moe)%L9)/L9}function foe(a){return B9(a,rL())}function B9(a,l){for(var u,p,m=0,_=(a=function(S,P){let A,G,X=S.length;for(;X;)G=P()*X--|0,A=S[X],S[X]=S[G],S[G]=A;return S}(Array.from(a),l)).length,I=[];m<_;)u=a[m],p&&U9(p,u)?++m:(p=goe(I=hoe(I,u)),m=0);return p}function hoe(a,l){var u,p;if(oL(l,a))return[l];for(u=0;u<a.length;++u)if(uk(l,a[u])&&oL(PS(a[u],l),a))return[a[u],l];for(u=0;u<a.length-1;++u)for(p=u+1;p<a.length;++p)if(uk(PS(a[u],a[p]),l)&&uk(PS(a[u],l),a[p])&&uk(PS(a[p],l),a[u])&&oL($9(a[u],a[p],l),a))return[a[u],a[p],l];throw new Error}function uk(a,l){var u=a.r-l.r,p=l.x-a.x,m=l.y-a.y;return u<0||u*u<p*p+m*m}function U9(a,l){var u=a.r-l.r+1e-9*Math.max(a.r,l.r,1),p=l.x-a.x,m=l.y-a.y;return u>0&&u*u>p*p+m*m}function oL(a,l){for(var u=0;u<l.length;++u)if(!U9(a,l[u]))return!1;return!0}function goe(a){switch(a.length){case 1:return function(l){return{x:l.x,y:l.y,r:l.r}}(a[0]);case 2:return PS(a[0],a[1]);case 3:return $9(a[0],a[1],a[2])}}function PS(a,l){var u=a.x,p=a.y,m=a.r,_=l.x,I=l.y,S=l.r,P=_-u,A=I-p,G=S-m,X=Math.sqrt(P*P+A*A);return{x:(u+_+P/X*G)/2,y:(p+I+A/X*G)/2,r:(X+m+S)/2}}function $9(a,l,u){var p=a.x,m=a.y,_=a.r,I=l.x,S=l.y,P=l.r,A=u.x,G=u.y,X=u.r,z=p-I,te=p-A,de=m-S,le=m-G,ue=P-_,pe=X-_,ye=p*p+m*m-_*_,fe=ye-I*I-S*S+P*P,me=ye-A*A-G*G+X*X,xe=te*de-z*le,De=(de*me-le*fe)/(2*xe)-p,tt=(le*ue-de*pe)/xe,ct=(te*fe-z*me)/(2*xe)-m,je=(z*pe-te*ue)/xe,Xe=tt*tt+je*je-1,qe=2*(_+De*tt+ct*je),Ze=De*De+ct*ct-_*_,Ct=-(Math.abs(Xe)>1e-6?(qe+Math.sqrt(qe*qe-4*Xe*Ze))/(2*Xe):Ze/qe);return{x:p+De+tt*Ct,y:m+ct+je*Ct,r:Ct}}function H9(a,l,u){var p,m,_,I,S=a.x-l.x,P=a.y-l.y,A=S*S+P*P;A?(m=l.r+u.r,m*=m,I=a.r+u.r,m>(I*=I)?(p=(A+I-m)/(2*A),_=Math.sqrt(Math.max(0,I/A-p*p)),u.x=a.x-p*S-_*P,u.y=a.y-p*P+_*S):(p=(A+m-I)/(2*A),_=Math.sqrt(Math.max(0,m/A-p*p)),u.x=l.x+p*S-_*P,u.y=l.y+p*P+_*S)):(u.x=l.x+u.r,u.y=l.y)}function V9(a,l){var u=a.r+l.r-1e-6,p=l.x-a.x,m=l.y-a.y;return u>0&&u*u>p*p+m*m}function j9(a){var l=a._,u=a.next._,p=l.r+u.r,m=(l.x*u.r+u.x*l.r)/p,_=(l.y*u.r+u.y*l.r)/p;return m*m+_*_}function pk(a){this._=a,this.next=null,this.previous=null}function G9(a,l){if(!(I=(u=a,a=typeof u=="object"&&"length"in u?u:Array.from(u)).length))return 0;var u,p,m,_,I,S,P,A,G,X,z,te;if((p=a[0]).x=0,p.y=0,!(I>1))return p.r;if(m=a[1],p.x=-m.r,m.x=p.r,m.y=0,!(I>2))return p.r+m.r;H9(m,p,_=a[2]),p=new pk(p),m=new pk(m),_=new pk(_),p.next=_.previous=m,m.next=p.previous=_,_.next=m.previous=p;e:for(A=3;A<I;++A){H9(p._,m._,_=a[A]),_=new pk(_),G=m.next,X=p.previous,z=m._.r,te=p._.r;do if(z<=te){if(V9(G._,_._)){m=G,p.next=m,m.previous=p,--A;continue e}z+=G._.r,G=G.next}else{if(V9(X._,_._)){(p=X).next=m,m.previous=p,--A;continue e}te+=X._.r,X=X.previous}while(G!==X.next);for(_.previous=p,_.next=m,p.next=m.previous=m=_,S=j9(p);(_=_.next)!==m;)(P=j9(_))<S&&(p=_,S=P);m=p.next}for(p=[m._],_=m;(_=_.next)!==m;)p.push(_._);for(_=B9(p,l),A=0;A<I;++A)(p=a[A]).x-=_.x,p.y-=_.y;return _.r}function voe(a){return G9(a,rL()),a}function _oe(a){return Math.sqrt(a.value)}function Coe(){var a=null,l=1,u=1,p=rC;function m(_){let I=rL();return _.x=l/2,_.y=u/2,a?_.eachBefore(K9(a)).eachAfter(aL(p,.5,I)).eachBefore(q9(1)):_.eachBefore(K9(_oe)).eachAfter(aL(rC,1,I)).eachAfter(aL(p,_.r/Math.min(l,u),I)).eachBefore(q9(Math.min(l,u)/(2*_.r))),_}return m.radius=function(_){return arguments.length?(a=dk(_),m):a},m.size=function(_){return arguments.length?(l=+_[0],u=+_[1],m):[l,u]},m.padding=function(_){return arguments.length?(p=typeof _=="function"?_:iE(+_),m):p},m}function K9(a){return function(l){l.children||(l.r=Math.max(0,+a(l)||0))}}function aL(a,l,u){return function(p){if(m=p.children){var m,_,I,S=m.length,P=a(p)*l||0;if(P)for(_=0;_<S;++_)m[_].r+=P;if(I=G9(m,u),P)for(_=0;_<S;++_)m[_].r-=P;p.r=I+P}}}function q9(a){return function(l){var u=l.parent;l.r*=a,u&&(l.x=u.x+a*l.x,l.y=u.y+a*l.y)}}function W9(a){a.x0=Math.round(a.x0),a.y0=Math.round(a.y0),a.x1=Math.round(a.x1),a.y1=Math.round(a.y1)}function kS(a,l,u,p,m){for(var _,I=a.children,S=-1,P=I.length,A=a.value&&(p-l)/a.value;++S<P;)(_=I[S]).y0=u,_.y1=m,_.x0=l,_.x1=l+=_.value*A}function yoe(){var a=1,l=1,u=0,p=!1;function m(_){var I=_.height+1;return _.x0=_.y0=u,_.x1=a,_.y1=l/I,_.eachBefore(function(S,P){return function(A){A.children&&kS(A,A.x0,S*(A.depth+1)/P,A.x1,S*(A.depth+2)/P);var G=A.x0,X=A.y0,z=A.x1-u,te=A.y1-u;z<G&&(G=z=(G+z)/2),te<X&&(X=te=(X+te)/2),A.x0=G,A.y0=X,A.x1=z,A.y1=te}}(l,I)),p&&_.eachBefore(W9),_}return m.round=function(_){return arguments.length?(p=!!_,m):p},m.size=function(_){return arguments.length?(a=+_[0],l=+_[1],m):[a,l]},m.padding=function(_){return arguments.length?(u=+_,m):u},m}var Eoe={depth:-1},z9={},sL={};function Toe(a){return a.id}function boe(a){return a.parentId}function Ioe(){var a,l=Toe,u=boe;function p(m){var _,I,S,P,A,G,X,z,te=Array.from(m),de=l,le=u,ue=new Map;if(a!=null){let pe=te.map((me,xe)=>function(De){let tt=(De=`${De}`).length;return lL(De,tt-1)&&!lL(De,tt-2)&&(De=De.slice(0,-1)),De[0]==="/"?De:`/${De}`}(a(me,xe,m))),ye=pe.map(Y9),fe=new Set(pe).add("");for(let me of ye)fe.has(me)||(fe.add(me),pe.push(me),ye.push(Y9(me)),te.push(sL));de=(me,xe)=>pe[xe],le=(me,xe)=>ye[xe]}for(S=0,_=te.length;S<_;++S)I=te[S],G=te[S]=new iC(I),(X=de(I,S,m))!=null&&(X+="")&&(z=G.id=X,ue.set(z,ue.has(z)?z9:G)),(X=le(I,S,m))!=null&&(X+="")&&(G.parent=X);for(S=0;S<_;++S)if(X=(G=te[S]).parent){if(!(A=ue.get(X)))throw new Error("missing: "+X);if(A===z9)throw new Error("ambiguous: "+X);A.children?A.children.push(G):A.children=[G],G.parent=A}else{if(P)throw new Error("multiple roots");P=G}if(!P)throw new Error("no root");if(a!=null){for(;P.data===sL&&P.children.length===1;)P=P.children[0],--_;for(let pe=te.length-1;pe>=0&&(G=te[pe]).data===sL;--pe)G.data=null}if(P.parent=Eoe,P.eachBefore(function(pe){pe.depth=pe.parent.depth+1,--_}).eachBefore(M9),P.parent=null,_>0)throw new Error("cycle");return P}return p.id=function(m){return arguments.length?(l=dk(m),p):l},p.parentId=function(m){return arguments.length?(u=dk(m),p):u},p.path=function(m){return arguments.length?(a=dk(m),p):a},p}function Y9(a){let l=a.length;if(l<2)return"";for(;--l>1&&!lL(a,l););return a.slice(0,l)}function lL(a,l){if(a[l]==="/"){let u=0;for(;l>0&&a[--l]==="\\";)++u;if(!(1&u))return!0}return!1}function Soe(a,l){return a.parent===l.parent?1:2}function cL(a){var l=a.children;return l?l[0]:a.t}function dL(a){var l=a.children;return l?l[l.length-1]:a.t}function xoe(a,l,u){var p=u/(l.i-a.i);l.c-=p,l.s+=u,a.c+=p,l.z+=u,l.m+=u}function Aoe(a,l,u){return a.a.parent===l.parent?a.a:u}function mk(a,l){this._=a,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=l}function Poe(){var a=Soe,l=1,u=1,p=null;function m(P){var A=function(pe){for(var ye,fe,me,xe,De,tt=new mk(pe,0),ct=[tt];ye=ct.pop();)if(me=ye._.children)for(ye.children=new Array(De=me.length),xe=De-1;xe>=0;--xe)ct.push(fe=ye.children[xe]=new mk(me[xe],xe)),fe.parent=ye;return(tt.parent=new mk(null,0)).children=[tt],tt}(P);if(A.eachAfter(_),A.parent.m=-A.z,A.eachBefore(I),p)P.eachBefore(S);else{var G=P,X=P,z=P;P.eachBefore(function(pe){pe.x<G.x&&(G=pe),pe.x>X.x&&(X=pe),pe.depth>z.depth&&(z=pe)});var te=G===X?1:a(G,X)/2,de=te-G.x,le=l/(X.x+te+de),ue=u/(z.depth||1);P.eachBefore(function(pe){pe.x=(pe.x+de)*le,pe.y=pe.depth*ue})}return P}function _(P){var A=P.children,G=P.parent.children,X=P.i?G[P.i-1]:null;if(A){(function(te){for(var de,le=0,ue=0,pe=te.children,ye=pe.length;--ye>=0;)(de=pe[ye]).z+=le,de.m+=le,le+=de.s+(ue+=de.c)})(P);var z=(A[0].z+A[A.length-1].z)/2;X?(P.z=X.z+a(P._,X._),P.m=P.z-z):P.z=z}else X&&(P.z=X.z+a(P._,X._));P.parent.A=function(te,de,le){if(de){for(var ue,pe=te,ye=te,fe=de,me=pe.parent.children[0],xe=pe.m,De=ye.m,tt=fe.m,ct=me.m;fe=dL(fe),pe=cL(pe),fe&&pe;)me=cL(me),(ye=dL(ye)).a=te,(ue=fe.z+tt-pe.z-xe+a(fe._,pe._))>0&&(xoe(Aoe(fe,te,le),te,ue),xe+=ue,De+=ue),tt+=fe.m,xe+=pe.m,ct+=me.m,De+=ye.m;fe&&!dL(ye)&&(ye.t=fe,ye.m+=tt-De),pe&&!cL(me)&&(me.t=pe,me.m+=xe-ct,le=te)}return le}(P,X,P.parent.A||G[0])}function I(P){P._.x=P.z+P.parent.m,P.m+=P.parent.m}function S(P){P.x*=l,P.y=P.depth*u}return m.separation=function(P){return arguments.length?(a=P,m):a},m.size=function(P){return arguments.length?(p=!1,l=+P[0],u=+P[1],m):p?null:[l,u]},m.nodeSize=function(P){return arguments.length?(p=!0,l=+P[0],u=+P[1],m):p?[l,u]:null},m}function fk(a,l,u,p,m){for(var _,I=a.children,S=-1,P=I.length,A=a.value&&(m-u)/a.value;++S<P;)(_=I[S]).x0=l,_.x1=p,_.y0=u,_.y1=u+=_.value*A}mk.prototype=Object.create(iC.prototype);var J9=(1+Math.sqrt(5))/2;function X9(a,l,u,p,m,_){for(var I,S,P,A,G,X,z,te,de,le,ue,pe=[],ye=l.children,fe=0,me=0,xe=ye.length,De=l.value;fe<xe;){P=m-u,A=_-p;do G=ye[me++].value;while(!G&&me<xe);for(X=z=G,ue=G*G*(le=Math.max(A/P,P/A)/(De*a)),de=Math.max(z/ue,ue/X);me<xe;++me){if(G+=S=ye[me].value,S<X&&(X=S),S>z&&(z=S),ue=G*G*le,(te=Math.max(z/ue,ue/X))>de){G-=S;break}de=te}pe.push(I={value:G,dice:P<A,children:ye.slice(fe,me)}),I.dice?kS(I,u,p,m,De?p+=A*G/De:_):fk(I,u,p,De?u+=P*G/De:m,_),De-=G,fe=me}return pe}let Q9=function a(l){function u(p,m,_,I,S){X9(l,p,m,_,I,S)}return u.ratio=function(p){return a((p=+p)>1?p:1)},u}(J9);function koe(){var a=Q9,l=!1,u=1,p=1,m=[0],_=rC,I=rC,S=rC,P=rC,A=rC;function G(z){return z.x0=z.y0=0,z.x1=u,z.y1=p,z.eachBefore(X),m=[0],l&&z.eachBefore(W9),z}function X(z){var te=m[z.depth],de=z.x0+te,le=z.y0+te,ue=z.x1-te,pe=z.y1-te;ue<de&&(de=ue=(de+ue)/2),pe<le&&(le=pe=(le+pe)/2),z.x0=de,z.y0=le,z.x1=ue,z.y1=pe,z.children&&(te=m[z.depth+1]=_(z)/2,de+=A(z)-te,le+=I(z)-te,(ue-=S(z)-te)<de&&(de=ue=(de+ue)/2),(pe-=P(z)-te)<le&&(le=pe=(le+pe)/2),a(z,de,le,ue,pe))}return G.round=function(z){return arguments.length?(l=!!z,G):l},G.size=function(z){return arguments.length?(u=+z[0],p=+z[1],G):[u,p]},G.tile=function(z){return arguments.length?(a=F9(z),G):a},G.padding=function(z){return arguments.length?G.paddingInner(z).paddingOuter(z):G.paddingInner()},G.paddingInner=function(z){return arguments.length?(_=typeof z=="function"?z:iE(+z),G):_},G.paddingOuter=function(z){return arguments.length?G.paddingTop(z).paddingRight(z).paddingBottom(z).paddingLeft(z):G.paddingTop()},G.paddingTop=function(z){return arguments.length?(I=typeof z=="function"?z:iE(+z),G):I},G.paddingRight=function(z){return arguments.length?(S=typeof z=="function"?z:iE(+z),G):S},G.paddingBottom=function(z){return arguments.length?(P=typeof z=="function"?z:iE(+z),G):P},G.paddingLeft=function(z){return arguments.length?(A=typeof z=="function"?z:iE(+z),G):A},G}function woe(a,l,u,p,m){var _,I,S=a.children,P=S.length,A=new Array(P+1);for(A[0]=I=_=0;_<P;++_)A[_+1]=I+=S[_].value;(function G(X,z,te,de,le,ue,pe){if(X>=z-1){var ye=S[X];return ye.x0=de,ye.y0=le,ye.x1=ue,void(ye.y1=pe)}for(var fe=A[X],me=te/2+fe,xe=X+1,De=z-1;xe<De;){var tt=xe+De>>>1;A[tt]<me?xe=tt+1:De=tt}me-A[xe-1]<A[xe]-me&&X+1<xe&&--xe;var ct=A[xe]-fe,je=te-ct;if(ue-de>pe-le){var Xe=te?(de*je+ue*ct)/te:ue;G(X,xe,ct,de,le,Xe,pe),G(xe,z,je,Xe,le,ue,pe)}else{var qe=te?(le*je+pe*ct)/te:pe;G(X,xe,ct,de,le,ue,qe),G(xe,z,je,de,qe,ue,pe)}})(0,P,a.value,l,u,p,m)}function Doe(a,l,u,p,m){(1&a.depth?fk:kS)(a,l,u,p,m)}let Ooe=function a(l){function u(p,m,_,I,S){if((P=p._squarify)&&P.ratio===l)for(var P,A,G,X,z,te=-1,de=P.length,le=p.value;++te<de;){for(G=(A=P[te]).children,X=A.value=0,z=G.length;X<z;++X)A.value+=G[X].value;A.dice?kS(A,m,_,I,le?_+=(S-_)*A.value/le:S):fk(A,m,_,le?m+=(I-m)*A.value/le:I,S),le-=A.value}else p._squarify=P=X9(l,p,m,_,I,S),P.ratio=l}return u.ratio=function(p){return a((p=+p)>1?p:1)},u}(J9);function Noe(a){var l=a.length;return function(u){return a[Math.max(0,Math.min(l-1,Math.floor(u*l)))]}}function Roe(a,l){var u=Nc(+a,+l);return function(p){var m=u(p);return m-360*Math.floor(m/360)}}function hk(a,l){return a=+a,l=+l,function(u){return Math.round(a*(1-u)+l*u)}}function Z9(a){return((a=Math.exp(a))+1/a)/2}let e7=function a(l,u,p){function m(_,I){var S,P,A=_[0],G=_[1],X=_[2],z=I[0],te=I[1],de=I[2],le=z-A,ue=te-G,pe=le*le+ue*ue;if(pe<1e-12)P=Math.log(de/X)/l,S=function(tt){return[A+tt*le,G+tt*ue,X*Math.exp(l*tt*P)]};else{var ye=Math.sqrt(pe),fe=(de*de-X*X+p*pe)/(2*X*u*ye),me=(de*de-X*X-p*pe)/(2*de*u*ye),xe=Math.log(Math.sqrt(fe*fe+1)-fe),De=Math.log(Math.sqrt(me*me+1)-me);P=(De-xe)/l,S=function(tt){var ct,je=tt*P,Xe=Z9(xe),qe=X/(u*ye)*(Xe*(ct=l*je+xe,((ct=Math.exp(2*ct))-1)/(ct+1))-function(Ze){return((Ze=Math.exp(Ze))-1/Ze)/2}(xe));return[A+qe*le,G+qe*ue,X*Xe/Z9(l*je+xe)]}}return S.duration=1e3*P*l/Math.SQRT2,S}return m.rho=function(_){var I=Math.max(.001,+_),S=I*I;return a(I,S,S*S)},m}(Math.SQRT2,2,4);function t7(a){return function(l,u){var p=a((l=n_(l)).h,(u=n_(u)).h),m=$o(l.s,u.s),_=$o(l.l,u.l),I=$o(l.opacity,u.opacity);return function(S){return l.h=p(S),l.s=m(S),l.l=_(S),l.opacity=I(S),l+""}}}let Moe=t7(Nc);var Foe=t7($o);function Loe(a,l){var u=$o((a=x_(a)).l,(l=x_(l)).l),p=$o(a.a,l.a),m=$o(a.b,l.b),_=$o(a.opacity,l.opacity);return function(I){return a.l=u(I),a.a=p(I),a.b=m(I),a.opacity=_(I),a+""}}function n7(a){return function(l,u){var p=a((l=P_(l)).h,(u=P_(u)).h),m=$o(l.c,u.c),_=$o(l.l,u.l),I=$o(l.opacity,u.opacity);return function(S){return l.h=p(S),l.c=m(S),l.l=_(S),l.opacity=I(S),l+""}}}let Boe=n7(Nc);var Uoe=n7($o);function i7(a){return function l(u){function p(m,_){var I=a((m=Hc(m)).h,(_=Hc(_)).h),S=$o(m.s,_.s),P=$o(m.l,_.l),A=$o(m.opacity,_.opacity);return function(G){return m.h=I(G),m.s=S(G),m.l=P(Math.pow(G,u)),m.opacity=A(G),m+""}}return u=+u,p.gamma=l,p}(1)}let $oe=i7(Nc);var gk=i7($o);function r7(a,l){l===void 0&&(l=a,a=ls);for(var u=0,p=l.length-1,m=l[0],_=new Array(p<0?0:p);u<p;)_[u]=a(m,m=l[++u]);return function(I){var S=Math.max(0,Math.min(p-1,Math.floor(I*=p)));return _[S](I-S)}}function Hoe(a,l){for(var u=new Array(l),p=0;p<l;++p)u[p]=a(p/(l-1));return u}var wS=o(8258);let Bl=Math.random,Voe=function a(l){function u(p,m){return p=p==null?0:+p,m=m==null?1:+m,arguments.length===1?(m=p,p=0):m-=p,function(){return l()*m+p}}return u.source=a,u}(Bl),joe=function a(l){function u(p,m){return arguments.length<2&&(m=p,p=0),p=Math.floor(p),m=Math.floor(m)-p,function(){return Math.floor(l()*m+p)}}return u.source=a,u}(Bl),uL=function a(l){function u(p,m){var _,I;return p=p==null?0:+p,m=m==null?1:+m,function(){var S;if(_!=null)S=_,_=null;else do _=2*l()-1,S=2*l()-1,I=_*_+S*S;while(!I||I>1);return p+m*S*Math.sqrt(-2*Math.log(I)/I)}}return u.source=a,u}(Bl),Goe=function a(l){var u=uL.source(l);function p(){var m=u.apply(this,arguments);return function(){return Math.exp(m())}}return p.source=a,p}(Bl),o7=function a(l){function u(p){return(p=+p)<=0?()=>0:function(){for(var m=0,_=p;_>1;--_)m+=l();return m+_*l()}}return u.source=a,u}(Bl),Koe=function a(l){var u=o7.source(l);function p(m){if((m=+m)==0)return l;var _=u(m);return function(){return _()/m}}return p.source=a,p}(Bl),qoe=function a(l){function u(p){return function(){return-Math.log1p(-l())/p}}return u.source=a,u}(Bl),Woe=function a(l){function u(p){if((p=+p)<0)throw new RangeError("invalid alpha");return p=1/-p,function(){return Math.pow(1-l(),p)}}return u.source=a,u}(Bl),zoe=function a(l){function u(p){if((p=+p)<0||p>1)throw new RangeError("invalid p");return function(){return Math.floor(l()+p)}}return u.source=a,u}(Bl),a7=function a(l){function u(p){if((p=+p)<0||p>1)throw new RangeError("invalid p");return p===0?()=>1/0:p===1?()=>1:(p=Math.log1p(-p),function(){return 1+Math.floor(Math.log1p(-l())/p)})}return u.source=a,u}(Bl),pL=function a(l){var u=uL.source(l)();function p(m,_){if((m=+m)<0)throw new RangeError("invalid k");if(m===0)return()=>0;if(_=_==null?1:+_,m===1)return()=>-Math.log1p(-l())*_;var I=(m<1?m+1:m)-1/3,S=1/(3*Math.sqrt(I)),P=m<1?()=>Math.pow(l(),1/m):()=>1;return function(){do{do var A=u(),G=1+S*A;while(G<=0);G*=G*G;var X=1-l()}while(X>=1-.0331*A*A*A*A&&Math.log(X)>=.5*A*A+I*(1-G+Math.log(G)));return I*G*P()*_}}return p.source=a,p}(Bl),s7=function a(l){var u=pL.source(l);function p(m,_){var I=u(m),S=u(_);return function(){var P=I();return P===0?0:P/(P+S())}}return p.source=a,p}(Bl),l7=function a(l){var u=a7.source(l),p=s7.source(l);function m(_,I){return _=+_,(I=+I)>=1?()=>_:I<=0?()=>0:function(){for(var S=0,P=_,A=I;P*A>16&&P*(1-A)>16;){var G=Math.floor((P+1)*A),X=p(G,P-G+1)();X<=A?(S+=G,P-=G,A=(A-X)/(1-X)):(P=G-1,A/=X)}for(var z=A<.5,te=u(z?A:1-A),de=te(),le=0;de<=P;++le)de+=te();return S+(z?le:P-le)}}return m.source=a,m}(Bl),Yoe=function a(l){function u(p,m,_){var I;return(p=+p)==0?I=S=>-Math.log(S):(p=1/p,I=S=>Math.pow(S,p)),m=m==null?0:+m,_=_==null?1:+_,function(){return m+_*I(-Math.log1p(-l()))}}return u.source=a,u}(Bl),Joe=function a(l){function u(p,m){return p=p==null?0:+p,m=m==null?1:+m,function(){return p+m*Math.tan(Math.PI*l())}}return u.source=a,u}(Bl),Xoe=function a(l){function u(p,m){return p=p==null?0:+p,m=m==null?1:+m,function(){var _=l();return p+m*Math.log(_/(1-_))}}return u.source=a,u}(Bl),Qoe=function a(l){var u=pL.source(l),p=l7.source(l);function m(_){return function(){for(var I=0,S=_;S>16;){var P=Math.floor(.875*S),A=u(P)();if(A>S)return I+p(P-1,S/A)();I+=P,S-=A}for(var G=-Math.log1p(-l()),X=0;G<=S;++X)G-=Math.log1p(-l());return I+X}}return m.source=a,m}(Bl),Zoe=1664525,eae=1013904223,c7=1/4294967296;function tae(a=Math.random()){let l=0|(0<=a&&a<1?a/c7:Math.abs(a));return()=>(l=Zoe*l+eae|0,c7*(l>>>0))}function up(a,l){switch(arguments.length){case 0:break;case 1:this.range(a);break;default:this.range(l).domain(a)}return this}function qh(a,l){switch(arguments.length){case 0:break;case 1:typeof a=="function"?this.interpolator(a):this.range(a);break;default:this.domain(a),typeof l=="function"?this.interpolator(l):this.range(l)}return this}let mL=Symbol("implicit");function fL(){var a=new $e,l=[],u=[],p=mL;function m(_){let I=a.get(_);if(I===void 0){if(p!==mL)return p;a.set(_,I=l.push(_)-1)}return u[I%u.length]}return m.domain=function(_){if(!arguments.length)return l.slice();l=[],a=new $e;for(let I of _)a.has(I)||a.set(I,l.push(I)-1);return m},m.range=function(_){return arguments.length?(u=Array.from(_),m):u.slice()},m.unknown=function(_){return arguments.length?(p=_,m):p},m.copy=function(){return fL(l,u).unknown(p)},up.apply(m,arguments),m}function hL(){var a,l,u=fL().unknown(void 0),p=u.domain,m=u.range,_=0,I=1,S=!1,P=0,A=0,G=.5;function X(){var z=p().length,te=I<_,de=te?I:_,le=te?_:I;a=(le-de)/Math.max(1,z-P+2*A),S&&(a=Math.floor(a)),de+=(le-de-a*(z-P))*G,l=a*(1-P),S&&(de=Math.round(de),l=Math.round(l));var ue=au(z).map(function(pe){return de+a*pe});return m(te?ue.reverse():ue)}return delete u.unknown,u.domain=function(z){return arguments.length?(p(z),X()):p()},u.range=function(z){return arguments.length?([_,I]=z,_=+_,I=+I,X()):[_,I]},u.rangeRound=function(z){return[_,I]=z,_=+_,I=+I,S=!0,X()},u.bandwidth=function(){return l},u.step=function(){return a},u.round=function(z){return arguments.length?(S=!!z,X()):S},u.padding=function(z){return arguments.length?(P=Math.min(1,A=+z),X()):P},u.paddingInner=function(z){return arguments.length?(P=Math.min(1,z),X()):P},u.paddingOuter=function(z){return arguments.length?(A=+z,X()):A},u.align=function(z){return arguments.length?(G=Math.max(0,Math.min(1,z)),X()):G},u.copy=function(){return hL(p(),[_,I]).round(S).paddingInner(P).paddingOuter(A).align(G)},up.apply(X(),arguments)}function d7(a){var l=a.copy;return a.padding=a.paddingOuter,delete a.paddingInner,delete a.paddingOuter,a.copy=function(){return d7(l())},a}function nae(){return d7(hL.apply(null,arguments).paddingInner(1))}function vk(a){return+a}var u7=[0,1];function Kc(a){return a}function gL(a,l){return(l-=a=+a)?function(p){return(p-a)/l}:(u=isNaN(l)?NaN:.5,function(){return u});var u}function iae(a,l,u){var p=a[0],m=a[1],_=l[0],I=l[1];return m<p?(p=gL(m,p),_=u(I,_)):(p=gL(p,m),_=u(_,I)),function(S){return _(p(S))}}function rae(a,l,u){var p=Math.min(a.length,l.length)-1,m=new Array(p),_=new Array(p),I=-1;for(a[p]<a[0]&&(a=a.slice().reverse(),l=l.slice().reverse());++I<p;)m[I]=gL(a[I],a[I+1]),_[I]=u(l[I],l[I+1]);return function(S){var P=F(a,S,1,p)-1;return _[P](m[P](S))}}function DS(a,l){return l.domain(a.domain()).range(a.range()).interpolate(a.interpolate()).clamp(a.clamp()).unknown(a.unknown())}function _k(){var a,l,u,p,m,_,I=u7,S=u7,P=ls,A=Kc;function G(){var z=Math.min(I.length,S.length);return A!==Kc&&(A=function(te,de){var le;return te>de&&(le=te,te=de,de=le),function(ue){return Math.max(te,Math.min(de,ue))}}(I[0],I[z-1])),p=z>2?rae:iae,m=_=null,X}function X(z){return z==null||isNaN(z=+z)?u:(m||(m=p(I.map(a),S,P)))(a(A(z)))}return X.invert=function(z){return A(l((_||(_=p(S,I.map(a),Mc)))(z)))},X.domain=function(z){return arguments.length?(I=Array.from(z,vk),G()):I.slice()},X.range=function(z){return arguments.length?(S=Array.from(z),G()):S.slice()},X.rangeRound=function(z){return S=Array.from(z),P=hk,G()},X.clamp=function(z){return arguments.length?(A=!!z||Kc,G()):A!==Kc},X.interpolate=function(z){return arguments.length?(P=z,G()):P},X.unknown=function(z){return arguments.length?(u=z,X):u},function(z,te){return a=z,l=te,G()}}function vL(){return _k()(Kc,Kc)}function p7(a,l,u,p){var m,_=ou(a,l,u);switch((p=z_(p??",f")).type){case"s":var I=Math.max(Math.abs(a),Math.abs(l));return p.precision!=null||isNaN(m=W3(_,I))||(p.precision=m),LP(p,I);case"":case"e":case"g":case"p":case"r":p.precision!=null||isNaN(m=z3(_,Math.max(Math.abs(a),Math.abs(l))))||(p.precision=m-(p.type==="e"));break;case"f":case"%":p.precision!=null||isNaN(m=q3(_))||(p.precision=m-2*(p.type==="%"))}return WI(p)}function Mg(a){var l=a.domain;return a.ticks=function(u){var p=l();return Ks(p[0],p[p.length-1],u??10)},a.tickFormat=function(u,p){var m=l();return p7(m[0],m[m.length-1],u??10,p)},a.nice=function(u){u==null&&(u=10);var p,m,_=l(),I=0,S=_.length-1,P=_[I],A=_[S],G=10;for(A<P&&(m=P,P=A,A=m,m=I,I=S,S=m);G-- >0;){if((m=ul(P,A,u))===p)return _[I]=P,_[S]=A,l(_);if(m>0)P=Math.floor(P/m)*m,A=Math.ceil(A/m)*m;else{if(!(m<0))break;P=Math.ceil(P*m)/m,A=Math.floor(A*m)/m}p=m}return a},a}function m7(){var a=vL();return a.copy=function(){return DS(a,m7())},up.apply(a,arguments),Mg(a)}function f7(a){var l;function u(p){return p==null||isNaN(p=+p)?l:p}return u.invert=u,u.domain=u.range=function(p){return arguments.length?(a=Array.from(p,vk),u):a.slice()},u.unknown=function(p){return arguments.length?(l=p,u):l},u.copy=function(){return f7(a).unknown(l)},a=arguments.length?Array.from(a,vk):[0,1],Mg(u)}function h7(a,l){var u,p=0,m=(a=a.slice()).length-1,_=a[p],I=a[m];return I<_&&(u=p,p=m,m=u,u=_,_=I,I=u),a[p]=l.floor(_),a[m]=l.ceil(I),a}function g7(a){return Math.log(a)}function v7(a){return Math.exp(a)}function oae(a){return-Math.log(-a)}function aae(a){return-Math.exp(-a)}function sae(a){return isFinite(a)?+("1e"+a):a<0?0:a}function _7(a){return(l,u)=>-a(-l,u)}function _L(a){let l=a(g7,v7),u=l.domain,p,m,_=10;function I(){return p=function(S){return S===Math.E?Math.log:S===10&&Math.log10||S===2&&Math.log2||(S=Math.log(S),P=>Math.log(P)/S)}(_),m=function(S){return S===10?sae:S===Math.E?Math.exp:P=>Math.pow(S,P)}(_),u()[0]<0?(p=_7(p),m=_7(m),a(oae,aae)):a(g7,v7),l}return l.base=function(S){return arguments.length?(_=+S,I()):_},l.domain=function(S){return arguments.length?(u(S),I()):u()},l.ticks=S=>{let P=u(),A=P[0],G=P[P.length-1],X=G<A;X&&([A,G]=[G,A]);let z,te,de=p(A),le=p(G),ue=S==null?10:+S,pe=[];if(!(_%1)&&le-de<ue){if(de=Math.floor(de),le=Math.ceil(le),A>0){for(;de<=le;++de)for(z=1;z<_;++z)if(te=de<0?z/m(-de):z*m(de),!(te<A)){if(te>G)break;pe.push(te)}}else for(;de<=le;++de)for(z=_-1;z>=1;--z)if(te=de>0?z/m(-de):z*m(de),!(te<A)){if(te>G)break;pe.push(te)}2*pe.length<ue&&(pe=Ks(A,G,ue))}else pe=Ks(de,le,Math.min(le-de,ue)).map(m);return X?pe.reverse():pe},l.tickFormat=(S,P)=>{if(S==null&&(S=10),P==null&&(P=_===10?"s":","),typeof P!="function"&&(_%1||(P=z_(P)).precision!=null||(P.trim=!0),P=WI(P)),S===1/0)return P;let A=Math.max(1,_*S/l.ticks().length);return G=>{let X=G/m(Math.round(p(G)));return X*_<_-.5&&(X*=_),X<=A?P(G):""}},l.nice=()=>u(h7(u(),{floor:S=>m(Math.floor(p(S))),ceil:S=>m(Math.ceil(p(S)))})),l}function C7(){let a=_L(_k()).domain([1,10]);return a.copy=()=>DS(a,C7()).base(a.base()),up.apply(a,arguments),a}function y7(a){return function(l){return Math.sign(l)*Math.log1p(Math.abs(l/a))}}function E7(a){return function(l){return Math.sign(l)*Math.expm1(Math.abs(l))*a}}function CL(a){var l=1,u=a(y7(l),E7(l));return u.constant=function(p){return arguments.length?a(y7(l=+p),E7(l)):l},Mg(u)}function T7(){var a=CL(_k());return a.copy=function(){return DS(a,T7()).constant(a.constant())},up.apply(a,arguments)}function b7(a){return function(l){return l<0?-Math.pow(-l,a):Math.pow(l,a)}}function lae(a){return a<0?-Math.sqrt(-a):Math.sqrt(a)}function cae(a){return a<0?-a*a:a*a}function yL(a){var l=a(Kc,Kc),u=1;return l.exponent=function(p){return arguments.length?(u=+p)==1?a(Kc,Kc):u===.5?a(lae,cae):a(b7(u),b7(1/u)):u},Mg(l)}function EL(){var a=yL(_k());return a.copy=function(){return DS(a,EL()).exponent(a.exponent())},up.apply(a,arguments),a}function dae(){return EL.apply(null,arguments).exponent(.5)}function I7(a){return Math.sign(a)*a*a}function S7(){var a,l=vL(),u=[0,1],p=!1;function m(_){var I=function(S){return Math.sign(S)*Math.sqrt(Math.abs(S))}(l(_));return isNaN(I)?a:p?Math.round(I):I}return m.invert=function(_){return l.invert(I7(_))},m.domain=function(_){return arguments.length?(l.domain(_),m):l.domain()},m.range=function(_){return arguments.length?(l.range((u=Array.from(_,vk)).map(I7)),m):u.slice()},m.rangeRound=function(_){return m.range(_).round(!0)},m.round=function(_){return arguments.length?(p=!!_,m):p},m.clamp=function(_){return arguments.length?(l.clamp(_),m):l.clamp()},m.unknown=function(_){return arguments.length?(a=_,m):a},m.copy=function(){return S7(l.domain(),u).round(p).clamp(l.clamp()).unknown(a)},up.apply(m,arguments),Mg(m)}function x7(){var a,l=[],u=[],p=[];function m(){var I=0,S=Math.max(1,u.length);for(p=new Array(S-1);++I<S;)p[I-1]=Ih(l,I/S);return _}function _(I){return I==null||isNaN(I=+I)?a:u[F(p,I)]}return _.invertExtent=function(I){var S=u.indexOf(I);return S<0?[NaN,NaN]:[S>0?p[S-1]:l[0],S<p.length?p[S]:l[l.length-1]]},_.domain=function(I){if(!arguments.length)return l.slice();l=[];for(let S of I)S==null||isNaN(S=+S)||l.push(S);return l.sort(s),m()},_.range=function(I){return arguments.length?(u=Array.from(I),m()):u.slice()},_.unknown=function(I){return arguments.length?(a=I,_):a},_.quantiles=function(){return p.slice()},_.copy=function(){return x7().domain(l).range(u).unknown(a)},up.apply(_,arguments)}function A7(){var a,l=0,u=1,p=1,m=[.5],_=[0,1];function I(P){return P!=null&&P<=P?_[F(m,P,0,p)]:a}function S(){var P=-1;for(m=new Array(p);++P<p;)m[P]=((P+1)*u-(P-p)*l)/(p+1);return I}return I.domain=function(P){return arguments.length?([l,u]=P,l=+l,u=+u,S()):[l,u]},I.range=function(P){return arguments.length?(p=(_=Array.from(P)).length-1,S()):_.slice()},I.invertExtent=function(P){var A=_.indexOf(P);return A<0?[NaN,NaN]:A<1?[l,m[0]]:A>=p?[m[p-1],u]:[m[A-1],m[A]]},I.unknown=function(P){return arguments.length&&(a=P),I},I.thresholds=function(){return m.slice()},I.copy=function(){return A7().domain([l,u]).range(_).unknown(a)},up.apply(Mg(I),arguments)}function P7(){var a,l=[.5],u=[0,1],p=1;function m(_){return _!=null&&_<=_?u[F(l,_,0,p)]:a}return m.domain=function(_){return arguments.length?(l=Array.from(_),p=Math.min(l.length,u.length-1),m):l.slice()},m.range=function(_){return arguments.length?(u=Array.from(_),p=Math.min(l.length,u.length-1),m):u.slice()},m.invertExtent=function(_){var I=u.indexOf(_);return[l[I-1],l[I]]},m.unknown=function(_){return arguments.length?(a=_,m):a},m.copy=function(){return P7().domain(l).range(u).unknown(a)},up.apply(m,arguments)}let OS=1e3,Fg=6e4,NS=36e5,RS=864e5,TL=6048e5,bL=31536e6,IL=new Date,SL=new Date;function Os(a,l,u,p){function m(_){return a(_=arguments.length===0?new Date:new Date(+_)),_}return m.floor=_=>(a(_=new Date(+_)),_),m.ceil=_=>(a(_=new Date(_-1)),l(_,1),a(_),_),m.round=_=>{let I=m(_),S=m.ceil(_);return _-I<S-_?I:S},m.offset=(_,I)=>(l(_=new Date(+_),I==null?1:Math.floor(I)),_),m.range=(_,I,S)=>{let P=[];if(_=m.ceil(_),S=S==null?1:Math.floor(S),!(_<I&&S>0))return P;let A;do P.push(A=new Date(+_)),l(_,S),a(_);while(A<_&&_<I);return P},m.filter=_=>Os(I=>{if(I>=I)for(;a(I),!_(I);)I.setTime(I-1)},(I,S)=>{if(I>=I)if(S<0)for(;++S<=0;)for(;l(I,-1),!_(I););else for(;--S>=0;)for(;l(I,1),!_(I););}),u&&(m.count=(_,I)=>(IL.setTime(+_),SL.setTime(+I),a(IL),a(SL),Math.floor(u(IL,SL))),m.every=_=>(_=Math.floor(_),isFinite(_)&&_>0?_>1?m.filter(p?I=>p(I)%_==0:I=>m.count(0,I)%_==0):m:null)),m}let rE=Os(()=>{},(a,l)=>{a.setTime(+a+l)},(a,l)=>l-a);rE.every=a=>(a=Math.floor(a),isFinite(a)&&a>0?a>1?Os(l=>{l.setTime(Math.floor(l/a)*a)},(l,u)=>{l.setTime(+l+u*a)},(l,u)=>(u-l)/a):rE:null);let k7=rE.range,Wh=Os(a=>{a.setTime(a-a.getMilliseconds())},(a,l)=>{a.setTime(+a+l*OS)},(a,l)=>(l-a)/OS,a=>a.getUTCSeconds()),w7=Wh.range,Ck=Os(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*OS)},(a,l)=>{a.setTime(+a+l*Fg)},(a,l)=>(l-a)/Fg,a=>a.getMinutes()),uae=Ck.range,yk=Os(a=>{a.setUTCSeconds(0,0)},(a,l)=>{a.setTime(+a+l*Fg)},(a,l)=>(l-a)/Fg,a=>a.getUTCMinutes()),pae=yk.range,Ek=Os(a=>{a.setTime(a-a.getMilliseconds()-a.getSeconds()*OS-a.getMinutes()*Fg)},(a,l)=>{a.setTime(+a+l*NS)},(a,l)=>(l-a)/NS,a=>a.getHours()),mae=Ek.range,Tk=Os(a=>{a.setUTCMinutes(0,0,0)},(a,l)=>{a.setTime(+a+l*NS)},(a,l)=>(l-a)/NS,a=>a.getUTCHours()),fae=Tk.range,oE=Os(a=>a.setHours(0,0,0,0),(a,l)=>a.setDate(a.getDate()+l),(a,l)=>(l-a-(l.getTimezoneOffset()-a.getTimezoneOffset())*Fg)/RS,a=>a.getDate()-1),hae=oE.range,MS=Os(a=>{a.setUTCHours(0,0,0,0)},(a,l)=>{a.setUTCDate(a.getUTCDate()+l)},(a,l)=>(l-a)/RS,a=>a.getUTCDate()-1),gae=MS.range,xL=Os(a=>{a.setUTCHours(0,0,0,0)},(a,l)=>{a.setUTCDate(a.getUTCDate()+l)},(a,l)=>(l-a)/RS,a=>Math.floor(a/RS)),vae=xL.range;function oC(a){return Os(l=>{l.setDate(l.getDate()-(l.getDay()+7-a)%7),l.setHours(0,0,0,0)},(l,u)=>{l.setDate(l.getDate()+7*u)},(l,u)=>(u-l-(u.getTimezoneOffset()-l.getTimezoneOffset())*Fg)/TL)}let aE=oC(0),FS=oC(1),D7=oC(2),O7=oC(3),aC=oC(4),N7=oC(5),R7=oC(6),M7=aE.range,_ae=FS.range,Cae=D7.range,yae=O7.range,Eae=aC.range,Tae=N7.range,bae=R7.range;function sC(a){return Os(l=>{l.setUTCDate(l.getUTCDate()-(l.getUTCDay()+7-a)%7),l.setUTCHours(0,0,0,0)},(l,u)=>{l.setUTCDate(l.getUTCDate()+7*u)},(l,u)=>(u-l)/TL)}let sE=sC(0),LS=sC(1),F7=sC(2),L7=sC(3),lC=sC(4),B7=sC(5),U7=sC(6),$7=sE.range,Iae=LS.range,Sae=F7.range,xae=L7.range,Aae=lC.range,Pae=B7.range,kae=U7.range,bk=Os(a=>{a.setDate(1),a.setHours(0,0,0,0)},(a,l)=>{a.setMonth(a.getMonth()+l)},(a,l)=>l.getMonth()-a.getMonth()+12*(l.getFullYear()-a.getFullYear()),a=>a.getMonth()),wae=bk.range,Ik=Os(a=>{a.setUTCDate(1),a.setUTCHours(0,0,0,0)},(a,l)=>{a.setUTCMonth(a.getUTCMonth()+l)},(a,l)=>l.getUTCMonth()-a.getUTCMonth()+12*(l.getUTCFullYear()-a.getUTCFullYear()),a=>a.getUTCMonth()),Dae=Ik.range,wf=Os(a=>{a.setMonth(0,1),a.setHours(0,0,0,0)},(a,l)=>{a.setFullYear(a.getFullYear()+l)},(a,l)=>l.getFullYear()-a.getFullYear(),a=>a.getFullYear());wf.every=a=>isFinite(a=Math.floor(a))&&a>0?Os(l=>{l.setFullYear(Math.floor(l.getFullYear()/a)*a),l.setMonth(0,1),l.setHours(0,0,0,0)},(l,u)=>{l.setFullYear(l.getFullYear()+u*a)}):null;let Oae=wf.range,Df=Os(a=>{a.setUTCMonth(0,1),a.setUTCHours(0,0,0,0)},(a,l)=>{a.setUTCFullYear(a.getUTCFullYear()+l)},(a,l)=>l.getUTCFullYear()-a.getUTCFullYear(),a=>a.getUTCFullYear());Df.every=a=>isFinite(a=Math.floor(a))&&a>0?Os(l=>{l.setUTCFullYear(Math.floor(l.getUTCFullYear()/a)*a),l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},(l,u)=>{l.setUTCFullYear(l.getUTCFullYear()+u*a)}):null;let Nae=Df.range;function H7(a,l,u,p,m,_){let I=[[Wh,1,OS],[Wh,5,5e3],[Wh,15,15e3],[Wh,30,3e4],[_,1,Fg],[_,5,3e5],[_,15,9e5],[_,30,18e5],[m,1,NS],[m,3,108e5],[m,6,216e5],[m,12,432e5],[p,1,RS],[p,2,1728e5],[u,1,TL],[l,1,2592e6],[l,3,7776e6],[a,1,bL]];function S(P,A,G){let X=Math.abs(A-P)/G,z=v(([,,le])=>le).right(I,X);if(z===I.length)return a.every(ou(P/bL,A/bL,G));if(z===0)return rE.every(Math.max(ou(P,A,G),1));let[te,de]=I[X/I[z-1][2]<I[z][2]/X?z-1:z];return te.every(de)}return[function(P,A,G){let X=A<P;X&&([P,A]=[A,P]);let z=G&&typeof G.range=="function"?G:S(P,A,G),te=z?z.range(P,+A+1):[];return X?te.reverse():te},S]}let[V7,j7]=H7(Df,Ik,sE,xL,Tk,yk),[G7,K7]=H7(wf,bk,aE,oE,Ek,Ck);function AL(a){if(0<=a.y&&a.y<100){var l=new Date(-1,a.m,a.d,a.H,a.M,a.S,a.L);return l.setFullYear(a.y),l}return new Date(a.y,a.m,a.d,a.H,a.M,a.S,a.L)}function PL(a){if(0<=a.y&&a.y<100){var l=new Date(Date.UTC(-1,a.m,a.d,a.H,a.M,a.S,a.L));return l.setUTCFullYear(a.y),l}return new Date(Date.UTC(a.y,a.m,a.d,a.H,a.M,a.S,a.L))}function BS(a,l,u){return{y:a,m:l,d:u,H:0,M:0,S:0,L:0}}function q7(a){var l=a.dateTime,u=a.date,p=a.time,m=a.periods,_=a.days,I=a.shortDays,S=a.months,P=a.shortMonths,A=US(m),G=$S(m),X=US(_),z=$S(_),te=US(I),de=$S(I),le=US(S),ue=$S(S),pe=US(P),ye=$S(P),fe={a:function(je){return I[je.getDay()]},A:function(je){return _[je.getDay()]},b:function(je){return P[je.getMonth()]},B:function(je){return S[je.getMonth()]},c:null,d:Z7,e:Z7,f:nse,g:pse,G:fse,H:Zae,I:ese,j:tse,L:eV,m:ise,M:rse,p:function(je){return m[+(je.getHours()>=12)]},q:function(je){return 1+~~(je.getMonth()/3)},Q:aV,s:sV,S:ose,u:ase,U:sse,V:lse,w:cse,W:dse,x:null,X:null,y:use,Y:mse,Z:hse,"%":oV},me={a:function(je){return I[je.getUTCDay()]},A:function(je){return _[je.getUTCDay()]},b:function(je){return P[je.getUTCMonth()]},B:function(je){return S[je.getUTCMonth()]},c:null,d:nV,e:nV,f:Cse,g:kse,G:Dse,H:gse,I:vse,j:_se,L:iV,m:yse,M:Ese,p:function(je){return m[+(je.getUTCHours()>=12)]},q:function(je){return 1+~~(je.getUTCMonth()/3)},Q:aV,s:sV,S:Tse,u:bse,U:Ise,V:Sse,w:xse,W:Ase,x:null,X:null,y:Pse,Y:wse,Z:Ose,"%":oV},xe={a:function(je,Xe,qe){var Ze=te.exec(Xe.slice(qe));return Ze?(je.w=de.get(Ze[0].toLowerCase()),qe+Ze[0].length):-1},A:function(je,Xe,qe){var Ze=X.exec(Xe.slice(qe));return Ze?(je.w=z.get(Ze[0].toLowerCase()),qe+Ze[0].length):-1},b:function(je,Xe,qe){var Ze=pe.exec(Xe.slice(qe));return Ze?(je.m=ye.get(Ze[0].toLowerCase()),qe+Ze[0].length):-1},B:function(je,Xe,qe){var Ze=le.exec(Xe.slice(qe));return Ze?(je.m=ue.get(Ze[0].toLowerCase()),qe+Ze[0].length):-1},c:function(je,Xe,qe){return ct(je,l,Xe,qe)},d:X7,e:X7,f:Yae,g:J7,G:Y7,H:Q7,I:Q7,j:Kae,L:zae,m:Gae,M:qae,p:function(je,Xe,qe){var Ze=A.exec(Xe.slice(qe));return Ze?(je.p=G.get(Ze[0].toLowerCase()),qe+Ze[0].length):-1},q:jae,Q:Xae,s:Qae,S:Wae,u:Bae,U:Uae,V:$ae,w:Lae,W:Hae,x:function(je,Xe,qe){return ct(je,u,Xe,qe)},X:function(je,Xe,qe){return ct(je,p,Xe,qe)},y:J7,Y:Y7,Z:Vae,"%":Jae};function De(je,Xe){return function(qe){var Ze,Ct,Oe,ze=[],lt=-1,gt=0,Bt=je.length;for(qe instanceof Date||(qe=new Date(+qe));++lt<Bt;)je.charCodeAt(lt)===37&&(ze.push(je.slice(gt,lt)),(Ct=z7[Ze=je.charAt(++lt)])!=null?Ze=je.charAt(++lt):Ct=Ze==="e"?" ":"0",(Oe=Xe[Ze])&&(Ze=Oe(qe,Ct)),ze.push(Ze),gt=lt+1);return ze.push(je.slice(gt,lt)),ze.join("")}}function tt(je,Xe){return function(qe){var Ze,Ct,Oe=BS(1900,void 0,1);if(ct(Oe,je,qe+="",0)!=qe.length)return null;if("Q"in Oe)return new Date(Oe.Q);if("s"in Oe)return new Date(1e3*Oe.s+("L"in Oe?Oe.L:0));if(Xe&&!("Z"in Oe)&&(Oe.Z=0),"p"in Oe&&(Oe.H=Oe.H%12+12*Oe.p),Oe.m===void 0&&(Oe.m="q"in Oe?Oe.q:0),"V"in Oe){if(Oe.V<1||Oe.V>53)return null;"w"in Oe||(Oe.w=1),"Z"in Oe?(Ct=(Ze=PL(BS(Oe.y,0,1))).getUTCDay(),Ze=Ct>4||Ct===0?LS.ceil(Ze):LS(Ze),Ze=MS.offset(Ze,7*(Oe.V-1)),Oe.y=Ze.getUTCFullYear(),Oe.m=Ze.getUTCMonth(),Oe.d=Ze.getUTCDate()+(Oe.w+6)%7):(Ct=(Ze=AL(BS(Oe.y,0,1))).getDay(),Ze=Ct>4||Ct===0?FS.ceil(Ze):FS(Ze),Ze=oE.offset(Ze,7*(Oe.V-1)),Oe.y=Ze.getFullYear(),Oe.m=Ze.getMonth(),Oe.d=Ze.getDate()+(Oe.w+6)%7)}else("W"in Oe||"U"in Oe)&&("w"in Oe||(Oe.w="u"in Oe?Oe.u%7:"W"in Oe?1:0),Ct="Z"in Oe?PL(BS(Oe.y,0,1)).getUTCDay():AL(BS(Oe.y,0,1)).getDay(),Oe.m=0,Oe.d="W"in Oe?(Oe.w+6)%7+7*Oe.W-(Ct+5)%7:Oe.w+7*Oe.U-(Ct+6)%7);return"Z"in Oe?(Oe.H+=Oe.Z/100|0,Oe.M+=Oe.Z%100,PL(Oe)):AL(Oe)}}function ct(je,Xe,qe,Ze){for(var Ct,Oe,ze=0,lt=Xe.length,gt=qe.length;ze<lt;){if(Ze>=gt)return-1;if((Ct=Xe.charCodeAt(ze++))===37){if(Ct=Xe.charAt(ze++),!(Oe=xe[Ct in z7?Xe.charAt(ze++):Ct])||(Ze=Oe(je,qe,Ze))<0)return-1}else if(Ct!=qe.charCodeAt(Ze++))return-1}return Ze}return fe.x=De(u,fe),fe.X=De(p,fe),fe.c=De(l,fe),me.x=De(u,me),me.X=De(p,me),me.c=De(l,me),{format:function(je){var Xe=De(je+="",fe);return Xe.toString=function(){return je},Xe},parse:function(je){var Xe=tt(je+="",!1);return Xe.toString=function(){return je},Xe},utcFormat:function(je){var Xe=De(je+="",me);return Xe.toString=function(){return je},Xe},utcParse:function(je){var Xe=tt(je+="",!0);return Xe.toString=function(){return je},Xe}}}var lE,kL,W7,Sk,wL,z7={"-":"",_:" ",0:"0"},gl=/^\s*\d+/,Rae=/^%/,Mae=/[\\^$*+?|[\]().{}]/g;function bo(a,l,u){var p=a<0?"-":"",m=(p?-a:a)+"",_=m.length;return p+(_<u?new Array(u-_+1).join(l)+m:m)}function Fae(a){return a.replace(Mae,"\\$&")}function US(a){return new RegExp("^(?:"+a.map(Fae).join("|")+")","i")}function $S(a){return new Map(a.map((l,u)=>[l.toLowerCase(),u]))}function Lae(a,l,u){var p=gl.exec(l.slice(u,u+1));return p?(a.w=+p[0],u+p[0].length):-1}function Bae(a,l,u){var p=gl.exec(l.slice(u,u+1));return p?(a.u=+p[0],u+p[0].length):-1}function Uae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.U=+p[0],u+p[0].length):-1}function $ae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.V=+p[0],u+p[0].length):-1}function Hae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.W=+p[0],u+p[0].length):-1}function Y7(a,l,u){var p=gl.exec(l.slice(u,u+4));return p?(a.y=+p[0],u+p[0].length):-1}function J7(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.y=+p[0]+(+p[0]>68?1900:2e3),u+p[0].length):-1}function Vae(a,l,u){var p=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(l.slice(u,u+6));return p?(a.Z=p[1]?0:-(p[2]+(p[3]||"00")),u+p[0].length):-1}function jae(a,l,u){var p=gl.exec(l.slice(u,u+1));return p?(a.q=3*p[0]-3,u+p[0].length):-1}function Gae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.m=p[0]-1,u+p[0].length):-1}function X7(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.d=+p[0],u+p[0].length):-1}function Kae(a,l,u){var p=gl.exec(l.slice(u,u+3));return p?(a.m=0,a.d=+p[0],u+p[0].length):-1}function Q7(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.H=+p[0],u+p[0].length):-1}function qae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.M=+p[0],u+p[0].length):-1}function Wae(a,l,u){var p=gl.exec(l.slice(u,u+2));return p?(a.S=+p[0],u+p[0].length):-1}function zae(a,l,u){var p=gl.exec(l.slice(u,u+3));return p?(a.L=+p[0],u+p[0].length):-1}function Yae(a,l,u){var p=gl.exec(l.slice(u,u+6));return p?(a.L=Math.floor(p[0]/1e3),u+p[0].length):-1}function Jae(a,l,u){var p=Rae.exec(l.slice(u,u+1));return p?u+p[0].length:-1}function Xae(a,l,u){var p=gl.exec(l.slice(u));return p?(a.Q=+p[0],u+p[0].length):-1}function Qae(a,l,u){var p=gl.exec(l.slice(u));return p?(a.s=+p[0],u+p[0].length):-1}function Z7(a,l){return bo(a.getDate(),l,2)}function Zae(a,l){return bo(a.getHours(),l,2)}function ese(a,l){return bo(a.getHours()%12||12,l,2)}function tse(a,l){return bo(1+oE.count(wf(a),a),l,3)}function eV(a,l){return bo(a.getMilliseconds(),l,3)}function nse(a,l){return eV(a,l)+"000"}function ise(a,l){return bo(a.getMonth()+1,l,2)}function rse(a,l){return bo(a.getMinutes(),l,2)}function ose(a,l){return bo(a.getSeconds(),l,2)}function ase(a){var l=a.getDay();return l===0?7:l}function sse(a,l){return bo(aE.count(wf(a)-1,a),l,2)}function tV(a){var l=a.getDay();return l>=4||l===0?aC(a):aC.ceil(a)}function lse(a,l){return a=tV(a),bo(aC.count(wf(a),a)+(wf(a).getDay()===4),l,2)}function cse(a){return a.getDay()}function dse(a,l){return bo(FS.count(wf(a)-1,a),l,2)}function use(a,l){return bo(a.getFullYear()%100,l,2)}function pse(a,l){return bo((a=tV(a)).getFullYear()%100,l,2)}function mse(a,l){return bo(a.getFullYear()%1e4,l,4)}function fse(a,l){var u=a.getDay();return bo((a=u>=4||u===0?aC(a):aC.ceil(a)).getFullYear()%1e4,l,4)}function hse(a){var l=a.getTimezoneOffset();return(l>0?"-":(l*=-1,"+"))+bo(l/60|0,"0",2)+bo(l%60,"0",2)}function nV(a,l){return bo(a.getUTCDate(),l,2)}function gse(a,l){return bo(a.getUTCHours(),l,2)}function vse(a,l){return bo(a.getUTCHours()%12||12,l,2)}function _se(a,l){return bo(1+MS.count(Df(a),a),l,3)}function iV(a,l){return bo(a.getUTCMilliseconds(),l,3)}function Cse(a,l){return iV(a,l)+"000"}function yse(a,l){return bo(a.getUTCMonth()+1,l,2)}function Ese(a,l){return bo(a.getUTCMinutes(),l,2)}function Tse(a,l){return bo(a.getUTCSeconds(),l,2)}function bse(a){var l=a.getUTCDay();return l===0?7:l}function Ise(a,l){return bo(sE.count(Df(a)-1,a),l,2)}function rV(a){var l=a.getUTCDay();return l>=4||l===0?lC(a):lC.ceil(a)}function Sse(a,l){return a=rV(a),bo(lC.count(Df(a),a)+(Df(a).getUTCDay()===4),l,2)}function xse(a){return a.getUTCDay()}function Ase(a,l){return bo(LS.count(Df(a)-1,a),l,2)}function Pse(a,l){return bo(a.getUTCFullYear()%100,l,2)}function kse(a,l){return bo((a=rV(a)).getUTCFullYear()%100,l,2)}function wse(a,l){return bo(a.getUTCFullYear()%1e4,l,4)}function Dse(a,l){var u=a.getUTCDay();return bo((a=u>=4||u===0?lC(a):lC.ceil(a)).getUTCFullYear()%1e4,l,4)}function Ose(){return"+0000"}function oV(){return"%"}function aV(a){return+a}function sV(a){return Math.floor(+a/1e3)}function lV(a){return lE=q7(a),kL=lE.format,W7=lE.parse,Sk=lE.utcFormat,wL=lE.utcParse,lE}function Nse(a){return new Date(a)}function Rse(a){return a instanceof Date?+a:+new Date(+a)}function DL(a,l,u,p,m,_,I,S,P,A){var G=vL(),X=G.invert,z=G.domain,te=A(".%L"),de=A(":%S"),le=A("%I:%M"),ue=A("%I %p"),pe=A("%a %d"),ye=A("%b %d"),fe=A("%B"),me=A("%Y");function xe(De){return(P(De)<De?te:S(De)<De?de:I(De)<De?le:_(De)<De?ue:p(De)<De?m(De)<De?pe:ye:u(De)<De?fe:me)(De)}return G.invert=function(De){return new Date(X(De))},G.domain=function(De){return arguments.length?z(Array.from(De,Rse)):z().map(Nse)},G.ticks=function(De){var tt=z();return a(tt[0],tt[tt.length-1],De??10)},G.tickFormat=function(De,tt){return tt==null?xe:A(tt)},G.nice=function(De){var tt=z();return De&&typeof De.range=="function"||(De=l(tt[0],tt[tt.length-1],De??10)),De?z(h7(tt,De)):G},G.copy=function(){return DS(G,DL(a,l,u,p,m,_,I,S,P,A))},G}function Mse(){return up.apply(DL(G7,K7,wf,bk,aE,oE,Ek,Ck,Wh,kL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fse(){return up.apply(DL(V7,j7,Df,Ik,sE,MS,Tk,yk,Wh,Sk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xk(){var a,l,u,p,m,_=0,I=1,S=Kc,P=!1;function A(X){return X==null||isNaN(X=+X)?m:S(u===0?.5:(X=(p(X)-a)*u,P?Math.max(0,Math.min(1,X)):X))}function G(X){return function(z){var te,de;return arguments.length?([te,de]=z,S=X(te,de),A):[S(0),S(1)]}}return A.domain=function(X){return arguments.length?([_,I]=X,a=p(_=+_),l=p(I=+I),u=a===l?0:1/(l-a),A):[_,I]},A.clamp=function(X){return arguments.length?(P=!!X,A):P},A.interpolator=function(X){return arguments.length?(S=X,A):S},A.range=G(ls),A.rangeRound=G(hk),A.unknown=function(X){return arguments.length?(m=X,A):m},function(X){return p=X,a=X(_),l=X(I),u=a===l?0:1/(l-a),A}}function Lg(a,l){return l.domain(a.domain()).interpolator(a.interpolator()).clamp(a.clamp()).unknown(a.unknown())}function cV(){var a=Mg(xk()(Kc));return a.copy=function(){return Lg(a,cV())},qh.apply(a,arguments)}function dV(){var a=_L(xk()).domain([1,10]);return a.copy=function(){return Lg(a,dV()).base(a.base())},qh.apply(a,arguments)}function uV(){var a=CL(xk());return a.copy=function(){return Lg(a,uV()).constant(a.constant())},qh.apply(a,arguments)}function OL(){var a=yL(xk());return a.copy=function(){return Lg(a,OL()).exponent(a.exponent())},qh.apply(a,arguments)}function Lse(){return OL.apply(null,arguments).exponent(.5)}function pV(){var a=[],l=Kc;function u(p){if(p!=null&&!isNaN(p=+p))return l((F(a,p,1)-1)/(a.length-1))}return u.domain=function(p){if(!arguments.length)return a.slice();a=[];for(let m of p)m==null||isNaN(m=+m)||a.push(m);return a.sort(s),u},u.interpolator=function(p){return arguments.length?(l=p,u):l},u.range=function(){return a.map((p,m)=>l(m/(a.length-1)))},u.quantiles=function(p){return Array.from({length:p+1},(m,_)=>cd(a,_/p))},u.copy=function(){return pV(l).domain(a)},qh.apply(u,arguments)}function Ak(){var a,l,u,p,m,_,I,S=0,P=.5,A=1,G=1,X=Kc,z=!1;function te(le){return isNaN(le=+le)?I:(le=.5+((le=+_(le))-l)*(G*le<G*l?p:m),X(z?Math.max(0,Math.min(1,le)):le))}function de(le){return function(ue){var pe,ye,fe;return arguments.length?([pe,ye,fe]=ue,X=r7(le,[pe,ye,fe]),te):[X(0),X(.5),X(1)]}}return te.domain=function(le){return arguments.length?([S,P,A]=le,a=_(S=+S),l=_(P=+P),u=_(A=+A),p=a===l?0:.5/(l-a),m=l===u?0:.5/(u-l),G=l<a?-1:1,te):[S,P,A]},te.clamp=function(le){return arguments.length?(z=!!le,te):z},te.interpolator=function(le){return arguments.length?(X=le,te):X},te.range=de(ls),te.rangeRound=de(hk),te.unknown=function(le){return arguments.length?(I=le,te):I},function(le){return _=le,a=le(S),l=le(P),u=le(A),p=a===l?0:.5/(l-a),m=l===u?0:.5/(u-l),G=l<a?-1:1,te}}function mV(){var a=Mg(Ak()(Kc));return a.copy=function(){return Lg(a,mV())},qh.apply(a,arguments)}function fV(){var a=_L(Ak()).domain([.1,1,10]);return a.copy=function(){return Lg(a,fV()).base(a.base())},qh.apply(a,arguments)}function hV(){var a=CL(Ak());return a.copy=function(){return Lg(a,hV()).constant(a.constant())},qh.apply(a,arguments)}function NL(){var a=yL(Ak());return a.copy=function(){return Lg(a,NL()).exponent(a.exponent())},qh.apply(a,arguments)}function Bse(){return NL.apply(null,arguments).exponent(.5)}function xr(a){for(var l=a.length/6|0,u=new Array(l),p=0;p<l;)u[p]="#"+a.slice(6*p,6*++p);return u}lV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});let Use=xr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),$se=xr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Hse=xr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Vse=xr("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),jse=xr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Gse=xr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Kse=xr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),qse=xr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Wse=xr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),zse=xr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Yse=xr("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ra=a=>oy(a[a.length-1]);var gV=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(xr);let Jse=ra(gV);var vV=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(xr);let Xse=ra(vV);var _V=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(xr);let Qse=ra(_V);var CV=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(xr);let Zse=ra(CV);var yV=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(xr);let ele=ra(yV);var EV=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(xr);let tle=ra(EV);var TV=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(xr);let nle=ra(TV);var bV=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(xr);let ile=ra(bV);var IV=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(xr);let rle=ra(IV);var SV=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(xr);let ole=ra(SV);var xV=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(xr);let ale=ra(xV);var AV=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(xr);let sle=ra(AV);var PV=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(xr);let lle=ra(PV);var kV=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(xr);let cle=ra(kV);var wV=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(xr);let dle=ra(wV);var DV=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(xr);let ule=ra(DV);var OV=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(xr);let ple=ra(OV);var NV=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(xr);let mle=ra(NV);var RV=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(xr);let fle=ra(RV);var MV=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(xr);let hle=ra(MV);var FV=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(xr);let gle=ra(FV);var LV=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(xr);let vle=ra(LV);var BV=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(xr);let _le=ra(BV);var UV=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(xr);let Cle=ra(UV);var $V=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(xr);let yle=ra($V);var HV=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(xr);let Ele=ra(HV);var VV=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(xr);let Tle=ra(VV);function ble(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-a*(35.34-a*(2381.73-a*(6402.7-a*(7024.72-2710.57*a)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+a*(170.73+a*(52.82-a*(131.46-a*(176.58-67.37*a)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+a*(442.36-a*(2482.43-a*(6167.24-a*(6614.94-2475.67*a)))))))+")"}let Ile=gk(Hc(300,.5,0),Hc(-240,.5,1));var Sle=gk(Hc(-100,.75,.35),Hc(80,1.5,.8)),xle=gk(Hc(260,.75,.35),Hc(80,1.5,.8)),Pk=Hc();function Ale(a){(a<0||a>1)&&(a-=Math.floor(a));var l=Math.abs(a-.5);return Pk.h=360*a-100,Pk.s=1.5-1.5*l,Pk.l=.8-.9*l,Pk+""}var kk=gd(),Ple=Math.PI/3,kle=2*Math.PI/3;function wle(a){var l;return a=(.5-a)*Math.PI,kk.r=255*(l=Math.sin(a))*l,kk.g=255*(l=Math.sin(a+Ple))*l,kk.b=255*(l=Math.sin(a+kle))*l,kk+""}function Dle(a){return a=Math.max(0,Math.min(1,a)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+a*(1172.33-a*(10793.56-a*(33300.12-a*(38394.49-14825.05*a)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+a*(557.33+a*(1225.33-a*(3574.96-a*(1073.77+707.56*a)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+a*(3211.1-a*(15327.97-a*(27814-a*(22569.18-6838.66*a)))))))+")"}function wk(a){var l=a.length;return function(u){return a[Math.max(0,Math.min(l-1,Math.floor(u*l)))]}}let Ole=wk(xr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Nle=wk(xr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Rle=wk(xr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Mle=wk(xr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Fle(a){return as(nf(a).call(document.documentElement))}var Lle=0;function jV(){return new RL}function RL(){this._="@"+(++Lle).toString(36)}function Ble(a,l){return a.target&&(a=cy(a),l===void 0&&(l=a.currentTarget),a=a.touches||[a]),Array.from(a,u=>Ol(u,l))}function Ule(a){return typeof a=="string"?new ml([document.querySelectorAll(a)],[document.documentElement]):new ml([K0(a)],ny)}function Ar(a){return function(){return a}}RL.prototype=jV.prototype={constructor:RL,get:function(a){for(var l=this._;!(l in a);)if(!(a=a.parentNode))return;return a[l]},set:function(a,l){return a[this._]=l},remove:function(a){return this._ in a&&delete a[this._]},toString:function(){return this._}};let GV=Math.abs,pc=Math.atan2,zh=Math.cos,$le=Math.max,cE=Math.min,xd=Math.sin,Ta=Math.sqrt,mc=1e-12,Bg=Math.PI,Dk=Bg/2,Ug=2*Bg;function KV(a){return a>=1?Dk:a<=-1?-Dk:Math.asin(a)}function HS(a){let l=3;return a.digits=function(u){if(!arguments.length)return l;if(u==null)l=null;else{let p=Math.floor(u);if(!(p>=0))throw new RangeError(`invalid digits: ${u}`);l=p}return a},()=>new _g(l)}function Hle(a){return a.innerRadius}function Vle(a){return a.outerRadius}function jle(a){return a.startAngle}function Gle(a){return a.endAngle}function Kle(a){return a&&a.padAngle}function Ok(a,l,u,p,m,_,I){var S=a-u,P=l-p,A=(I?_:-_)/Ta(S*S+P*P),G=A*P,X=-A*S,z=a+G,te=l+X,de=u+G,le=p+X,ue=(z+de)/2,pe=(te+le)/2,ye=de-z,fe=le-te,me=ye*ye+fe*fe,xe=m-_,De=z*le-de*te,tt=(fe<0?-1:1)*Ta($le(0,xe*xe*me-De*De)),ct=(De*fe-ye*tt)/me,je=(-De*ye-fe*tt)/me,Xe=(De*fe+ye*tt)/me,qe=(-De*ye+fe*tt)/me,Ze=ct-ue,Ct=je-pe,Oe=Xe-ue,ze=qe-pe;return Ze*Ze+Ct*Ct>Oe*Oe+ze*ze&&(ct=Xe,je=qe),{cx:ct,cy:je,x01:-G,y01:-X,x11:ct*(m/xe-1),y11:je*(m/xe-1)}}function qle(){var a=Hle,l=Vle,u=Ar(0),p=null,m=jle,_=Gle,I=Kle,S=null,P=HS(A);function A(){var G,X,z,te=+a.apply(this,arguments),de=+l.apply(this,arguments),le=m.apply(this,arguments)-Dk,ue=_.apply(this,arguments)-Dk,pe=GV(ue-le),ye=ue>le;if(S||(S=G=P()),de<te&&(X=de,de=te,te=X),de>mc)if(pe>Ug-mc)S.moveTo(de*zh(le),de*xd(le)),S.arc(0,0,de,le,ue,!ye),te>mc&&(S.moveTo(te*zh(ue),te*xd(ue)),S.arc(0,0,te,ue,le,ye));else{var fe,me,xe=le,De=ue,tt=le,ct=ue,je=pe,Xe=pe,qe=I.apply(this,arguments)/2,Ze=qe>mc&&(p?+p.apply(this,arguments):Ta(te*te+de*de)),Ct=cE(GV(de-te)/2,+u.apply(this,arguments)),Oe=Ct,ze=Ct;if(Ze>mc){var lt=KV(Ze/te*xd(qe)),gt=KV(Ze/de*xd(qe));(je-=2*lt)>mc?(tt+=lt*=ye?1:-1,ct-=lt):(je=0,tt=ct=(le+ue)/2),(Xe-=2*gt)>mc?(xe+=gt*=ye?1:-1,De-=gt):(Xe=0,xe=De=(le+ue)/2)}var Bt=de*zh(xe),qt=de*xd(xe),gn=te*zh(ct),Zt=te*xd(ct);if(Ct>mc){var Rn,zi=de*zh(De),Jn=de*xd(De),fi=te*zh(tt),Yo=te*xd(tt);if(pe<Bg)if(Rn=function(_m,pE,Pr,Jo,Hg,Cm,Qce,Zce){var Mj=Pr-_m,Fj=Jo-pE,Lj=Qce-Hg,Bj=Zce-Cm,qS=Bj*Mj-Lj*Fj;if(!(qS*qS<mc))return[_m+(qS=(Lj*(pE-Cm)-Bj*(_m-Hg))/qS)*Mj,pE+qS*Fj]}(Bt,qt,fi,Yo,zi,Jn,gn,Zt)){var Cr=Bt-Rn[0],Ns=qt-Rn[1],_u=zi-Rn[0],fp=Jn-Rn[1],Yh=1/xd(((z=(Cr*_u+Ns*fp)/(Ta(Cr*Cr+Ns*Ns)*Ta(_u*_u+fp*fp)))>1?0:z<-1?Bg:Math.acos(z))/2),KS=Ta(Rn[0]*Rn[0]+Rn[1]*Rn[1]);Oe=cE(Ct,(te-KS)/(Yh-1)),ze=cE(Ct,(de-KS)/(Yh+1))}else Oe=ze=0}Xe>mc?ze>mc?(fe=Ok(fi,Yo,Bt,qt,de,ze,ye),me=Ok(zi,Jn,gn,Zt,de,ze,ye),S.moveTo(fe.cx+fe.x01,fe.cy+fe.y01),ze<Ct?S.arc(fe.cx,fe.cy,ze,pc(fe.y01,fe.x01),pc(me.y01,me.x01),!ye):(S.arc(fe.cx,fe.cy,ze,pc(fe.y01,fe.x01),pc(fe.y11,fe.x11),!ye),S.arc(0,0,de,pc(fe.cy+fe.y11,fe.cx+fe.x11),pc(me.cy+me.y11,me.cx+me.x11),!ye),S.arc(me.cx,me.cy,ze,pc(me.y11,me.x11),pc(me.y01,me.x01),!ye))):(S.moveTo(Bt,qt),S.arc(0,0,de,xe,De,!ye)):S.moveTo(Bt,qt),te>mc&&je>mc?Oe>mc?(fe=Ok(gn,Zt,zi,Jn,te,-Oe,ye),me=Ok(Bt,qt,fi,Yo,te,-Oe,ye),S.lineTo(fe.cx+fe.x01,fe.cy+fe.y01),Oe<Ct?S.arc(fe.cx,fe.cy,Oe,pc(fe.y01,fe.x01),pc(me.y01,me.x01),!ye):(S.arc(fe.cx,fe.cy,Oe,pc(fe.y01,fe.x01),pc(fe.y11,fe.x11),!ye),S.arc(0,0,te,pc(fe.cy+fe.y11,fe.cx+fe.x11),pc(me.cy+me.y11,me.cx+me.x11),ye),S.arc(me.cx,me.cy,Oe,pc(me.y11,me.x11),pc(me.y01,me.x01),!ye))):S.arc(0,0,te,ct,tt,ye):S.lineTo(gn,Zt)}else S.moveTo(0,0);if(S.closePath(),G)return S=null,G+""||null}return A.centroid=function(){var G=(+a.apply(this,arguments)+ +l.apply(this,arguments))/2,X=(+m.apply(this,arguments)+ +_.apply(this,arguments))/2-Bg/2;return[zh(X)*G,xd(X)*G]},A.innerRadius=function(G){return arguments.length?(a=typeof G=="function"?G:Ar(+G),A):a},A.outerRadius=function(G){return arguments.length?(l=typeof G=="function"?G:Ar(+G),A):l},A.cornerRadius=function(G){return arguments.length?(u=typeof G=="function"?G:Ar(+G),A):u},A.padRadius=function(G){return arguments.length?(p=G==null?null:typeof G=="function"?G:Ar(+G),A):p},A.startAngle=function(G){return arguments.length?(m=typeof G=="function"?G:Ar(+G),A):m},A.endAngle=function(G){return arguments.length?(_=typeof G=="function"?G:Ar(+G),A):_},A.padAngle=function(G){return arguments.length?(I=typeof G=="function"?G:Ar(+G),A):I},A.context=function(G){return arguments.length?(S=G??null,A):S},A}var Wle=Array.prototype.slice;function Nk(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function qV(a){this._context=a}function Rk(a){return new qV(a)}function ML(a){return a[0]}function FL(a){return a[1]}function LL(a,l){var u=Ar(!0),p=null,m=Rk,_=null,I=HS(S);function S(P){var A,G,X,z=(P=Nk(P)).length,te=!1;for(p==null&&(_=m(X=I())),A=0;A<=z;++A)!(A<z&&u(G=P[A],A,P))===te&&((te=!te)?_.lineStart():_.lineEnd()),te&&_.point(+a(G,A,P),+l(G,A,P));if(X)return _=null,X+""||null}return a=typeof a=="function"?a:a===void 0?ML:Ar(a),l=typeof l=="function"?l:l===void 0?FL:Ar(l),S.x=function(P){return arguments.length?(a=typeof P=="function"?P:Ar(+P),S):a},S.y=function(P){return arguments.length?(l=typeof P=="function"?P:Ar(+P),S):l},S.defined=function(P){return arguments.length?(u=typeof P=="function"?P:Ar(!!P),S):u},S.curve=function(P){return arguments.length?(m=P,p!=null&&(_=m(p)),S):m},S.context=function(P){return arguments.length?(P==null?p=_=null:_=m(p=P),S):p},S}function WV(a,l,u){var p=null,m=Ar(!0),_=null,I=Rk,S=null,P=HS(A);function A(X){var z,te,de,le,ue,pe=(X=Nk(X)).length,ye=!1,fe=new Array(pe),me=new Array(pe);for(_==null&&(S=I(ue=P())),z=0;z<=pe;++z){if(!(z<pe&&m(le=X[z],z,X))===ye)if(ye=!ye)te=z,S.areaStart(),S.lineStart();else{for(S.lineEnd(),S.lineStart(),de=z-1;de>=te;--de)S.point(fe[de],me[de]);S.lineEnd(),S.areaEnd()}ye&&(fe[z]=+a(le,z,X),me[z]=+l(le,z,X),S.point(p?+p(le,z,X):fe[z],u?+u(le,z,X):me[z]))}if(ue)return S=null,ue+""||null}function G(){return LL().defined(m).curve(I).context(_)}return a=typeof a=="function"?a:a===void 0?ML:Ar(+a),l=typeof l=="function"?l:Ar(l===void 0?0:+l),u=typeof u=="function"?u:u===void 0?FL:Ar(+u),A.x=function(X){return arguments.length?(a=typeof X=="function"?X:Ar(+X),p=null,A):a},A.x0=function(X){return arguments.length?(a=typeof X=="function"?X:Ar(+X),A):a},A.x1=function(X){return arguments.length?(p=X==null?null:typeof X=="function"?X:Ar(+X),A):p},A.y=function(X){return arguments.length?(l=typeof X=="function"?X:Ar(+X),u=null,A):l},A.y0=function(X){return arguments.length?(l=typeof X=="function"?X:Ar(+X),A):l},A.y1=function(X){return arguments.length?(u=X==null?null:typeof X=="function"?X:Ar(+X),A):u},A.lineX0=A.lineY0=function(){return G().x(a).y(l)},A.lineY1=function(){return G().x(a).y(u)},A.lineX1=function(){return G().x(p).y(l)},A.defined=function(X){return arguments.length?(m=typeof X=="function"?X:Ar(!!X),A):m},A.curve=function(X){return arguments.length?(I=X,_!=null&&(S=I(_)),A):I},A.context=function(X){return arguments.length?(X==null?_=S=null:S=I(_=X),A):_},A}function zle(a,l){return l<a?-1:l>a?1:l>=a?0:NaN}function Yle(a){return a}function Jle(){var a=Yle,l=zle,u=null,p=Ar(0),m=Ar(Ug),_=Ar(0);function I(S){var P,A,G,X,z,te=(S=Nk(S)).length,de=0,le=new Array(te),ue=new Array(te),pe=+p.apply(this,arguments),ye=Math.min(Ug,Math.max(-Ug,m.apply(this,arguments)-pe)),fe=Math.min(Math.abs(ye)/te,_.apply(this,arguments)),me=fe*(ye<0?-1:1);for(P=0;P<te;++P)(z=ue[le[P]=P]=+a(S[P],P,S))>0&&(de+=z);for(l!=null?le.sort(function(xe,De){return l(ue[xe],ue[De])}):u!=null&&le.sort(function(xe,De){return u(S[xe],S[De])}),P=0,G=de?(ye-te*me)/de:0;P<te;++P,pe=X)A=le[P],X=pe+((z=ue[A])>0?z*G:0)+me,ue[A]={data:S[A],index:P,value:z,startAngle:pe,endAngle:X,padAngle:fe};return ue}return I.value=function(S){return arguments.length?(a=typeof S=="function"?S:Ar(+S),I):a},I.sortValues=function(S){return arguments.length?(l=S,u=null,I):l},I.sort=function(S){return arguments.length?(u=S,l=null,I):u},I.startAngle=function(S){return arguments.length?(p=typeof S=="function"?S:Ar(+S),I):p},I.endAngle=function(S){return arguments.length?(m=typeof S=="function"?S:Ar(+S),I):m},I.padAngle=function(S){return arguments.length?(_=typeof S=="function"?S:Ar(+S),I):_},I}qV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2;default:this._context.lineTo(a,l)}}};var zV=BL(Rk);function YV(a){this._curve=a}function BL(a){function l(u){return new YV(a(u))}return l._curve=a,l}function VS(a){var l=a.curve;return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a.curve=function(u){return arguments.length?l(BL(u)):l()._curve},a}function JV(){return VS(LL().curve(zV))}function XV(){var a=WV().curve(zV),l=a.curve,u=a.lineX0,p=a.lineX1,m=a.lineY0,_=a.lineY1;return a.angle=a.x,delete a.x,a.startAngle=a.x0,delete a.x0,a.endAngle=a.x1,delete a.x1,a.radius=a.y,delete a.y,a.innerRadius=a.y0,delete a.y0,a.outerRadius=a.y1,delete a.y1,a.lineStartAngle=function(){return VS(u())},delete a.lineX0,a.lineEndAngle=function(){return VS(p())},delete a.lineX1,a.lineInnerRadius=function(){return VS(m())},delete a.lineY0,a.lineOuterRadius=function(){return VS(_())},delete a.lineY1,a.curve=function(I){return arguments.length?l(BL(I)):l()._curve},a}function jS(a,l){return[(l=+l)*Math.cos(a-=Math.PI/2),l*Math.sin(a)]}YV.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(a,l){this._curve.point(l*Math.sin(a),l*-Math.cos(a))}};class QV{constructor(l,u){this._context=l,this._x=u}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(l,u){switch(l=+l,u=+u,this._point){case 0:this._point=1,this._line?this._context.lineTo(l,u):this._context.moveTo(l,u);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+l)/2,this._y0,this._x0,u,l,u):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+u)/2,l,this._y0,l,u)}this._x0=l,this._y0=u}}class Xle{constructor(l){this._context=l}lineStart(){this._point=0}lineEnd(){}point(l,u){if(l=+l,u=+u,this._point===0)this._point=1;else{let p=jS(this._x0,this._y0),m=jS(this._x0,this._y0=(this._y0+u)/2),_=jS(l,this._y0),I=jS(l,u);this._context.moveTo(...p),this._context.bezierCurveTo(...m,..._,...I)}this._x0=l,this._y0=u}}function ZV(a){return new QV(a,!0)}function ej(a){return new QV(a,!1)}function Qle(a){return new Xle(a)}function Zle(a){return a.source}function ece(a){return a.target}function Mk(a){let l=Zle,u=ece,p=ML,m=FL,_=null,I=null,S=HS(P);function P(){let A,G=Wle.call(arguments),X=l.apply(this,G),z=u.apply(this,G);if(_==null&&(I=a(A=S())),I.lineStart(),G[0]=X,I.point(+p.apply(this,G),+m.apply(this,G)),G[0]=z,I.point(+p.apply(this,G),+m.apply(this,G)),I.lineEnd(),A)return I=null,A+""||null}return P.source=function(A){return arguments.length?(l=A,P):l},P.target=function(A){return arguments.length?(u=A,P):u},P.x=function(A){return arguments.length?(p=typeof A=="function"?A:Ar(+A),P):p},P.y=function(A){return arguments.length?(m=typeof A=="function"?A:Ar(+A),P):m},P.context=function(A){return arguments.length?(A==null?_=I=null:I=a(_=A),P):_},P}function tce(){return Mk(ZV)}function nce(){return Mk(ej)}function ice(){let a=Mk(Qle);return a.angle=a.x,delete a.x,a.radius=a.y,delete a.y,a}let rce=Ta(3),tj={draw(a,l){let u=.59436*Ta(l+cE(l/28,.75)),p=u/2,m=p*rce;a.moveTo(0,u),a.lineTo(0,-u),a.moveTo(-m,-p),a.lineTo(m,p),a.moveTo(-m,p),a.lineTo(m,-p)}},Fk={draw(a,l){let u=Ta(l/Bg);a.moveTo(u,0),a.arc(0,0,u,0,Ug)}},nj={draw(a,l){let u=Ta(l/5)/2;a.moveTo(-3*u,-u),a.lineTo(-u,-u),a.lineTo(-u,-3*u),a.lineTo(u,-3*u),a.lineTo(u,-u),a.lineTo(3*u,-u),a.lineTo(3*u,u),a.lineTo(u,u),a.lineTo(u,3*u),a.lineTo(-u,3*u),a.lineTo(-u,u),a.lineTo(-3*u,u),a.closePath()}},ij=Ta(1/3),oce=2*ij,rj={draw(a,l){let u=Ta(l/oce),p=u*ij;a.moveTo(0,-u),a.lineTo(p,0),a.lineTo(0,u),a.lineTo(-p,0),a.closePath()}},oj={draw(a,l){let u=.62625*Ta(l);a.moveTo(0,-u),a.lineTo(u,0),a.lineTo(0,u),a.lineTo(-u,0),a.closePath()}},aj={draw(a,l){let u=.87559*Ta(l-cE(l/7,2));a.moveTo(-u,0),a.lineTo(u,0),a.moveTo(0,u),a.lineTo(0,-u)}},sj={draw(a,l){let u=Ta(l),p=-u/2;a.rect(p,p,u,u)}},lj={draw(a,l){let u=.4431*Ta(l);a.moveTo(u,u),a.lineTo(u,-u),a.lineTo(-u,-u),a.lineTo(-u,u),a.closePath()}},cj=xd(Bg/10)/xd(7*Bg/10),ace=xd(Ug/10)*cj,sce=-zh(Ug/10)*cj,dj={draw(a,l){let u=Ta(.8908130915292852*l),p=ace*u,m=sce*u;a.moveTo(0,-u),a.lineTo(p,m);for(let _=1;_<5;++_){let I=Ug*_/5,S=zh(I),P=xd(I);a.lineTo(P*u,-S*u),a.lineTo(S*p-P*m,P*p+S*m)}a.closePath()}},UL=Ta(3),uj={draw(a,l){let u=-Ta(l/(3*UL));a.moveTo(0,2*u),a.lineTo(-UL*u,-u),a.lineTo(UL*u,-u),a.closePath()}},lce=Ta(3),pj={draw(a,l){let u=.6824*Ta(l),p=u/2,m=u*lce/2;a.moveTo(0,-u),a.lineTo(m,p),a.lineTo(-m,p),a.closePath()}},pp=-.5,mp=Ta(3)/2,$L=1/Ta(12),cce=3*($L/2+1),mj={draw(a,l){let u=Ta(l/cce),p=u/2,m=u*$L,_=p,I=u*$L+u,S=-_,P=I;a.moveTo(p,m),a.lineTo(_,I),a.lineTo(S,P),a.lineTo(pp*p-mp*m,mp*p+pp*m),a.lineTo(pp*_-mp*I,mp*_+pp*I),a.lineTo(pp*S-mp*P,mp*S+pp*P),a.lineTo(pp*p+mp*m,pp*m-mp*p),a.lineTo(pp*_+mp*I,pp*I-mp*_),a.lineTo(pp*S+mp*P,pp*P-mp*S),a.closePath()}},HL={draw(a,l){let u=.6189*Ta(l-cE(l/6,1.7));a.moveTo(-u,-u),a.lineTo(u,u),a.moveTo(-u,u),a.lineTo(u,-u)}},fj=[Fk,nj,rj,sj,dj,uj,mj],dce=[Fk,aj,HL,pj,tj,lj,oj];function uce(a,l){let u=null,p=HS(m);function m(){let _;if(u||(u=_=p()),a.apply(this,arguments).draw(u,+l.apply(this,arguments)),_)return u=null,_+""||null}return a=typeof a=="function"?a:Ar(a||Fk),l=typeof l=="function"?l:Ar(l===void 0?64:+l),m.type=function(_){return arguments.length?(a=typeof _=="function"?_:Ar(_),m):a},m.size=function(_){return arguments.length?(l=typeof _=="function"?_:Ar(+_),m):l},m.context=function(_){return arguments.length?(u=_??null,m):u},m}function $g(){}function Lk(a,l,u){a._context.bezierCurveTo((2*a._x0+a._x1)/3,(2*a._y0+a._y1)/3,(a._x0+2*a._x1)/3,(a._y0+2*a._y1)/3,(a._x0+4*a._x1+l)/6,(a._y0+4*a._y1+u)/6)}function Bk(a){this._context=a}function pce(a){return new Bk(a)}function hj(a){this._context=a}function mce(a){return new hj(a)}function gj(a){this._context=a}function fce(a){return new gj(a)}function vj(a,l){this._basis=new Bk(a),this._beta=l}Bk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lk(this,a,l)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=l}},hj.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._x2=a,this._y2=l;break;case 1:this._point=2,this._x3=a,this._y3=l;break;case 2:this._point=3,this._x4=a,this._y4=l,this._context.moveTo((this._x0+4*this._x1+a)/6,(this._y0+4*this._y1+l)/6);break;default:Lk(this,a,l)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=l}},gj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var u=(this._x0+4*this._x1+a)/6,p=(this._y0+4*this._y1+l)/6;this._line?this._context.lineTo(u,p):this._context.moveTo(u,p);break;case 3:this._point=4;default:Lk(this,a,l)}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=l}},vj.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var a=this._x,l=this._y,u=a.length-1;if(u>0)for(var p,m=a[0],_=l[0],I=a[u]-m,S=l[u]-_,P=-1;++P<=u;)p=P/u,this._basis.point(this._beta*a[P]+(1-this._beta)*(m+p*I),this._beta*l[P]+(1-this._beta)*(_+p*S));this._x=this._y=null,this._basis.lineEnd()},point:function(a,l){this._x.push(+a),this._y.push(+l)}};let hce=function a(l){function u(p){return l===1?new Bk(p):new vj(p,l)}return u.beta=function(p){return a(+p)},u}(.85);function Uk(a,l,u){a._context.bezierCurveTo(a._x1+a._k*(a._x2-a._x0),a._y1+a._k*(a._y2-a._y0),a._x2+a._k*(a._x1-l),a._y2+a._k*(a._y1-u),a._x2,a._y2)}function VL(a,l){this._context=a,this._k=(1-l)/6}VL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Uk(this,this._x1,this._y1)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2,this._x1=a,this._y1=l;break;case 2:this._point=3;default:Uk(this,a,l)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let gce=function a(l){function u(p){return new VL(p,l)}return u.tension=function(p){return a(+p)},u}(0);function jL(a,l){this._context=a,this._k=(1-l)/6}jL.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._x3=a,this._y3=l;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=l);break;case 2:this._point=3,this._x5=a,this._y5=l;break;default:Uk(this,a,l)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let vce=function a(l){function u(p){return new jL(p,l)}return u.tension=function(p){return a(+p)},u}(0);function GL(a,l){this._context=a,this._k=(1-l)/6}GL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Uk(this,a,l)}this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let _ce=function a(l){function u(p){return new GL(p,l)}return u.tension=function(p){return a(+p)},u}(0);function KL(a,l,u){var p=a._x1,m=a._y1,_=a._x2,I=a._y2;if(a._l01_a>mc){var S=2*a._l01_2a+3*a._l01_a*a._l12_a+a._l12_2a,P=3*a._l01_a*(a._l01_a+a._l12_a);p=(p*S-a._x0*a._l12_2a+a._x2*a._l01_2a)/P,m=(m*S-a._y0*a._l12_2a+a._y2*a._l01_2a)/P}if(a._l23_a>mc){var A=2*a._l23_2a+3*a._l23_a*a._l12_a+a._l12_2a,G=3*a._l23_a*(a._l23_a+a._l12_a);_=(_*A+a._x1*a._l23_2a-l*a._l12_2a)/G,I=(I*A+a._y1*a._l23_2a-u*a._l12_2a)/G}a._context.bezierCurveTo(p,m,_,I,a._x2,a._y2)}function _j(a,l){this._context=a,this._alpha=l}_j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){if(a=+a,l=+l,this._point){var u=this._x2-a,p=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2;break;case 2:this._point=3;default:KL(this,a,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let Cce=function a(l){function u(p){return l?new _j(p,l):new VL(p,0)}return u.alpha=function(p){return a(+p)},u}(.5);function Cj(a,l){this._context=a,this._alpha=l}Cj.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(a,l){if(a=+a,l=+l,this._point){var u=this._x2-a,p=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+p*p,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=a,this._y3=l;break;case 1:this._point=2,this._context.moveTo(this._x4=a,this._y4=l);break;case 2:this._point=3,this._x5=a,this._y5=l;break;default:KL(this,a,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let yce=function a(l){function u(p){return l?new Cj(p,l):new jL(p,0)}return u.alpha=function(p){return a(+p)},u}(.5);function yj(a,l){this._context=a,this._alpha=l}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){if(a=+a,l=+l,this._point){var u=this._x2-a,p=this._y2-l;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(u*u+p*p,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:KL(this,a,l)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=a,this._y0=this._y1,this._y1=this._y2,this._y2=l}};let Ece=function a(l){function u(p){return l?new yj(p,l):new GL(p,0)}return u.alpha=function(p){return a(+p)},u}(.5);function Ej(a){this._context=a}function Tce(a){return new Ej(a)}function Tj(a){return a<0?-1:1}function bj(a,l,u){var p=a._x1-a._x0,m=l-a._x1,_=(a._y1-a._y0)/(p||m<0&&-0),I=(u-a._y1)/(m||p<0&&-0),S=(_*m+I*p)/(p+m);return(Tj(_)+Tj(I))*Math.min(Math.abs(_),Math.abs(I),.5*Math.abs(S))||0}function Ij(a,l){var u=a._x1-a._x0;return u?(3*(a._y1-a._y0)/u-l)/2:l}function qL(a,l,u){var p=a._x0,m=a._y0,_=a._x1,I=a._y1,S=(_-p)/3;a._context.bezierCurveTo(p+S,m+S*l,_-S,I-S*u,_,I)}function $k(a){this._context=a}function Sj(a){this._context=new xj(a)}function xj(a){this._context=a}function bce(a){return new $k(a)}function Ice(a){return new Sj(a)}function Aj(a){this._context=a}function Pj(a){var l,u,p=a.length-1,m=new Array(p),_=new Array(p),I=new Array(p);for(m[0]=0,_[0]=2,I[0]=a[0]+2*a[1],l=1;l<p-1;++l)m[l]=1,_[l]=4,I[l]=4*a[l]+2*a[l+1];for(m[p-1]=2,_[p-1]=7,I[p-1]=8*a[p-1]+a[p],l=1;l<p;++l)u=m[l]/_[l-1],_[l]-=u,I[l]-=u*I[l-1];for(m[p-1]=I[p-1]/_[p-1],l=p-2;l>=0;--l)m[l]=(I[l]-m[l+1])/_[l];for(_[p-1]=(a[p]+m[p-1])/2,l=0;l<p-1;++l)_[l]=2*a[l+1]-m[l+1];return[m,_]}function Sce(a){return new Aj(a)}function Hk(a,l){this._context=a,this._t=l}function xce(a){return new Hk(a,.5)}function Ace(a){return new Hk(a,0)}function Pce(a){return new Hk(a,1)}function dE(a,l){if((m=a.length)>1)for(var u,p,m,_=1,I=a[l[0]],S=I.length;_<m;++_)for(p=I,I=a[l[_]],u=0;u<S;++u)I[u][1]+=I[u][0]=isNaN(p[u][1])?p[u][0]:p[u][1]}function uE(a){for(var l=a.length,u=new Array(l);--l>=0;)u[l]=l;return u}function kce(a,l){return a[l]}function wce(a){let l=[];return l.key=a,l}function Dce(){var a=Ar([]),l=uE,u=dE,p=kce;function m(_){var I,S,P=Array.from(a.apply(this,arguments),wce),A=P.length,G=-1;for(let X of _)for(I=0,++G;I<A;++I)(P[I][G]=[0,+p(X,P[I].key,G,_)]).data=X;for(I=0,S=Nk(l(P));I<A;++I)P[S[I]].index=I;return u(P,S),P}return m.keys=function(_){return arguments.length?(a=typeof _=="function"?_:Ar(Array.from(_)),m):a},m.value=function(_){return arguments.length?(p=typeof _=="function"?_:Ar(+_),m):p},m.order=function(_){return arguments.length?(l=_==null?uE:typeof _=="function"?_:Ar(Array.from(_)),m):l},m.offset=function(_){return arguments.length?(u=_??dE,m):u},m}function Oce(a,l){if((p=a.length)>0){for(var u,p,m,_=0,I=a[0].length;_<I;++_){for(m=u=0;u<p;++u)m+=a[u][_][1]||0;if(m)for(u=0;u<p;++u)a[u][_][1]/=m}dE(a,l)}}function Nce(a,l){if((S=a.length)>0)for(var u,p,m,_,I,S,P=0,A=a[l[0]].length;P<A;++P)for(_=I=0,u=0;u<S;++u)(m=(p=a[l[u]][P])[1]-p[0])>0?(p[0]=_,p[1]=_+=m):m<0?(p[1]=I,p[0]=I+=m):(p[0]=0,p[1]=m)}function Rce(a,l){if((u=a.length)>0){for(var u,p=0,m=a[l[0]],_=m.length;p<_;++p){for(var I=0,S=0;I<u;++I)S+=a[I][p][1]||0;m[p][1]+=m[p][0]=-S/2}dE(a,l)}}function Mce(a,l){if((m=a.length)>0&&(p=(u=a[l[0]]).length)>0){for(var u,p,m,_=0,I=1;I<p;++I){for(var S=0,P=0,A=0;S<m;++S){for(var G=a[l[S]],X=G[I][1]||0,z=(X-(G[I-1][1]||0))/2,te=0;te<S;++te){var de=a[l[te]];z+=(de[I][1]||0)-(de[I-1][1]||0)}P+=X,A+=z*X}u[I-1][1]+=u[I-1][0]=_,P&&(_-=A/P)}u[I-1][1]+=u[I-1][0]=_,dE(a,l)}}function kj(a){var l=a.map(Fce);return uE(a).sort(function(u,p){return l[u]-l[p]})}function Fce(a){for(var l,u=-1,p=0,m=a.length,_=-1/0;++u<m;)(l=+a[u][1])>_&&(_=l,p=u);return p}function wj(a){var l=a.map(Dj);return uE(a).sort(function(u,p){return l[u]-l[p]})}function Dj(a){for(var l,u=0,p=-1,m=a.length;++p<m;)(l=+a[p][1])&&(u+=l);return u}function Lce(a){return wj(a).reverse()}function Bce(a){var l,u,p=a.length,m=a.map(Dj),_=kj(a),I=0,S=0,P=[],A=[];for(l=0;l<p;++l)u=_[l],I<S?(I+=m[u],P.push(u)):(S+=m[u],A.push(u));return A.reverse().concat(P)}function Uce(a){return uE(a).reverse()}Ej.prototype={areaStart:$g,areaEnd:$g,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(a,l){a=+a,l=+l,this._point?this._context.lineTo(a,l):(this._point=1,this._context.moveTo(a,l))}},$k.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:qL(this,this._t0,Ij(this,this._t0))}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(a,l){var u=NaN;if(l=+l,(a=+a)!==this._x1||l!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2;break;case 2:this._point=3,qL(this,Ij(this,u=bj(this,a,l)),u);break;default:qL(this,this._t0,u=bj(this,a,l))}this._x0=this._x1,this._x1=a,this._y0=this._y1,this._y1=l,this._t0=u}}},(Sj.prototype=Object.create($k.prototype)).point=function(a,l){$k.prototype.point.call(this,l,a)},xj.prototype={moveTo:function(a,l){this._context.moveTo(l,a)},closePath:function(){this._context.closePath()},lineTo:function(a,l){this._context.lineTo(l,a)},bezierCurveTo:function(a,l,u,p,m,_){this._context.bezierCurveTo(l,a,p,u,_,m)}},Aj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var a=this._x,l=this._y,u=a.length;if(u)if(this._line?this._context.lineTo(a[0],l[0]):this._context.moveTo(a[0],l[0]),u===2)this._context.lineTo(a[1],l[1]);else for(var p=Pj(a),m=Pj(l),_=0,I=1;I<u;++_,++I)this._context.bezierCurveTo(p[0][_],m[0][_],p[1][_],m[1][_],a[I],l[I]);(this._line||this._line!==0&&u===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(a,l){this._x.push(+a),this._y.push(+l)}},Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(a,l){switch(a=+a,l=+l,this._point){case 0:this._point=1,this._line?this._context.lineTo(a,l):this._context.moveTo(a,l);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,l),this._context.lineTo(a,l);else{var u=this._x*(1-this._t)+a*this._t;this._context.lineTo(u,this._y),this._context.lineTo(u,l)}}this._x=a,this._y=l}};var Oj="%Y-%m-%dT%H:%M:%S.%LZ",$ce=Date.prototype.toISOString?function(a){return a.toISOString()}:Sk(Oj);let Hce=$ce;var Vce=+new Date("2000-01-01T00:00:00.000Z")?function(a){var l=new Date(a);return isNaN(l)?null:l}:wL(Oj);let jce=Vce;function Gce(a,l,u){var p=new Lh,m=l;return l==null?(p.restart(a,l,u),p):(p._restart=p.restart,p.restart=function(_,I,S){I=+I,S=S==null?om():+S,p._restart(function P(A){A+=m,p._restart(P,m+=I,S),_(A)},I,S)},p.restart(a,l,u),p)}let Vk=a=>()=>a;function Kce(a,{sourceEvent:l,target:u,transform:p,dispatch:m}){Object.defineProperties(this,{type:{value:a,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:u,enumerable:!0,configurable:!0},transform:{value:p,enumerable:!0,configurable:!0},_:{value:m}})}function Of(a,l,u){this.k=a,this.x=l,this.y=u}Of.prototype={constructor:Of,scale:function(a){return a===1?this:new Of(this.k*a,this.x,this.y)},translate:function(a,l){return a===0&l===0?this:new Of(this.k,this.x+this.k*a,this.y+this.k*l)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var jk=new Of(1,0,0);function Nj(a){for(;!a.__zoom;)if(!(a=a.parentNode))return jk;return a.__zoom}function WL(a){a.stopImmediatePropagation()}function GS(a){a.preventDefault(),a.stopImmediatePropagation()}function qce(a){return!(a.ctrlKey&&a.type!=="wheel"||a.button)}function Wce(){var a=this;return a instanceof SVGElement?(a=a.ownerSVGElement||a).hasAttribute("viewBox")?[[(a=a.viewBox.baseVal).x,a.y],[a.x+a.width,a.y+a.height]]:[[0,0],[a.width.baseVal.value,a.height.baseVal.value]]:[[0,0],[a.clientWidth,a.clientHeight]]}function Rj(){return this.__zoom||jk}function zce(a){return-a.deltaY*(a.deltaMode===1?.05:a.deltaMode?1:.002)*(a.ctrlKey?10:1)}function Yce(){return navigator.maxTouchPoints||"ontouchstart"in this}function Jce(a,l,u){var p=a.invertX(l[0][0])-u[0][0],m=a.invertX(l[1][0])-u[1][0],_=a.invertY(l[0][1])-u[0][1],I=a.invertY(l[1][1])-u[1][1];return a.translate(m>p?(p+m)/2:Math.min(0,p)||Math.max(0,m),I>_?(_+I)/2:Math.min(0,_)||Math.max(0,I))}function Xce(){var a,l,u,p=qce,m=Wce,_=Jce,I=zce,S=Yce,P=[0,1/0],A=[[-1/0,-1/0],[1/0,1/0]],G=250,X=e7,z=kh("start","zoom","end"),te=500,de=150,le=0,ue=10;function pe(Oe){Oe.property("__zoom",Rj).on("wheel.zoom",ct,{passive:!1}).on("mousedown.zoom",je).on("dblclick.zoom",Xe).filter(S).on("touchstart.zoom",qe).on("touchmove.zoom",Ze).on("touchend.zoom touchcancel.zoom",Ct).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function ye(Oe,ze){return(ze=Math.max(P[0],Math.min(P[1],ze)))===Oe.k?Oe:new Of(ze,Oe.x,Oe.y)}function fe(Oe,ze,lt){var gt=ze[0]-lt[0]*Oe.k,Bt=ze[1]-lt[1]*Oe.k;return gt===Oe.x&&Bt===Oe.y?Oe:new Of(Oe.k,gt,Bt)}function me(Oe){return[(+Oe[0][0]+ +Oe[1][0])/2,(+Oe[0][1]+ +Oe[1][1])/2]}function xe(Oe,ze,lt,gt){Oe.on("start.zoom",function(){De(this,arguments).event(gt).start()}).on("interrupt.zoom end.zoom",function(){De(this,arguments).event(gt).end()}).tween("zoom",function(){var Bt=this,qt=arguments,gn=De(Bt,qt).event(gt),Zt=m.apply(Bt,qt),Rn=lt==null?me(Zt):typeof lt=="function"?lt.apply(Bt,qt):lt,zi=Math.max(Zt[1][0]-Zt[0][0],Zt[1][1]-Zt[0][1]),Jn=Bt.__zoom,fi=typeof ze=="function"?ze.apply(Bt,qt):ze,Yo=X(Jn.invert(Rn).concat(zi/Jn.k),fi.invert(Rn).concat(zi/fi.k));return function(Cr){if(Cr===1)Cr=fi;else{var Ns=Yo(Cr),_u=zi/Ns[2];Cr=new Of(_u,Rn[0]-Ns[0]*_u,Rn[1]-Ns[1]*_u)}gn.zoom(null,Cr)}})}function De(Oe,ze,lt){return!lt&&Oe.__zooming||new tt(Oe,ze)}function tt(Oe,ze){this.that=Oe,this.args=ze,this.active=0,this.sourceEvent=null,this.extent=m.apply(Oe,ze),this.taps=0}function ct(Oe,...ze){if(p.apply(this,arguments)){var lt=De(this,ze).event(Oe),gt=this.__zoom,Bt=Math.max(P[0],Math.min(P[1],gt.k*Math.pow(2,I.apply(this,arguments)))),qt=Ol(Oe);if(lt.wheel)lt.mouse[0][0]===qt[0]&&lt.mouse[0][1]===qt[1]||(lt.mouse[1]=gt.invert(lt.mouse[0]=qt)),clearTimeout(lt.wheel);else{if(gt.k===Bt)return;lt.mouse=[qt,gt.invert(qt)],am(this),lt.start()}GS(Oe),lt.wheel=setTimeout(function(){lt.wheel=null,lt.end()},de),lt.zoom("mouse",_(fe(ye(gt,Bt),lt.mouse[0],lt.mouse[1]),lt.extent,A))}}function je(Oe,...ze){if(!u&&p.apply(this,arguments)){var lt=Oe.currentTarget,gt=De(this,ze,!0).event(Oe),Bt=as(Oe.view).on("mousemove.zoom",function(Rn){if(GS(Rn),!gt.moved){var zi=Rn.clientX-gn,Jn=Rn.clientY-Zt;gt.moved=zi*zi+Jn*Jn>le}gt.event(Rn).zoom("mouse",_(fe(gt.that.__zoom,gt.mouse[0]=Ol(Rn,lt),gt.mouse[1]),gt.extent,A))},!0).on("mouseup.zoom",function(Rn){Bt.on("mousemove.zoom mouseup.zoom",null),J0(Rn.view,gt.moved),GS(Rn),gt.event(Rn).end()},!0),qt=Ol(Oe,lt),gn=Oe.clientX,Zt=Oe.clientY;of(Oe.view),WL(Oe),gt.mouse=[qt,this.__zoom.invert(qt)],am(this),gt.start()}}function Xe(Oe,...ze){if(p.apply(this,arguments)){var lt=this.__zoom,gt=Ol(Oe.changedTouches?Oe.changedTouches[0]:Oe,this),Bt=lt.invert(gt),qt=lt.k*(Oe.shiftKey?.5:2),gn=_(fe(ye(lt,qt),gt,Bt),m.apply(this,ze),A);GS(Oe),G>0?as(this).transition().duration(G).call(xe,gn,gt,Oe):as(this).call(pe.transform,gn,gt,Oe)}}function qe(Oe,...ze){if(p.apply(this,arguments)){var lt,gt,Bt,qt,gn=Oe.touches,Zt=gn.length,Rn=De(this,ze,Oe.changedTouches.length===Zt).event(Oe);for(WL(Oe),gt=0;gt<Zt;++gt)qt=[qt=Ol(Bt=gn[gt],this),this.__zoom.invert(qt),Bt.identifier],Rn.touch0?Rn.touch1||Rn.touch0[2]===qt[2]||(Rn.touch1=qt,Rn.taps=0):(Rn.touch0=qt,lt=!0,Rn.taps=1+!!a);a&&(a=clearTimeout(a)),lt&&(Rn.taps<2&&(l=qt[0],a=setTimeout(function(){a=null},te)),am(this),Rn.start())}}function Ze(Oe,...ze){if(this.__zooming){var lt,gt,Bt,qt,gn=De(this,ze).event(Oe),Zt=Oe.changedTouches,Rn=Zt.length;for(GS(Oe),lt=0;lt<Rn;++lt)Bt=Ol(gt=Zt[lt],this),gn.touch0&&gn.touch0[2]===gt.identifier?gn.touch0[0]=Bt:gn.touch1&&gn.touch1[2]===gt.identifier&&(gn.touch1[0]=Bt);if(gt=gn.that.__zoom,gn.touch1){var zi=gn.touch0[0],Jn=gn.touch0[1],fi=gn.touch1[0],Yo=gn.touch1[1],Cr=(Cr=fi[0]-zi[0])*Cr+(Cr=fi[1]-zi[1])*Cr,Ns=(Ns=Yo[0]-Jn[0])*Ns+(Ns=Yo[1]-Jn[1])*Ns;gt=ye(gt,Math.sqrt(Cr/Ns)),Bt=[(zi[0]+fi[0])/2,(zi[1]+fi[1])/2],qt=[(Jn[0]+Yo[0])/2,(Jn[1]+Yo[1])/2]}else{if(!gn.touch0)return;Bt=gn.touch0[0],qt=gn.touch0[1]}gn.zoom("touch",_(fe(gt,Bt,qt),gn.extent,A))}}function Ct(Oe,...ze){if(this.__zooming){var lt,gt,Bt=De(this,ze).event(Oe),qt=Oe.changedTouches,gn=qt.length;for(WL(Oe),u&&clearTimeout(u),u=setTimeout(function(){u=null},te),lt=0;lt<gn;++lt)gt=qt[lt],Bt.touch0&&Bt.touch0[2]===gt.identifier?delete Bt.touch0:Bt.touch1&&Bt.touch1[2]===gt.identifier&&delete Bt.touch1;if(Bt.touch1&&!Bt.touch0&&(Bt.touch0=Bt.touch1,delete Bt.touch1),Bt.touch0)Bt.touch0[1]=this.__zoom.invert(Bt.touch0[0]);else if(Bt.end(),Bt.taps===2&&(gt=Ol(gt,this),Math.hypot(l[0]-gt[0],l[1]-gt[1])<ue)){var Zt=as(this).on("dblclick.zoom");Zt&&Zt.apply(this,arguments)}}}return pe.transform=function(Oe,ze,lt,gt){var Bt=Oe.selection?Oe.selection():Oe;Bt.property("__zoom",Rj),Oe!==Bt?xe(Oe,ze,lt,gt):Bt.interrupt().each(function(){De(this,arguments).event(gt).start().zoom(null,typeof ze=="function"?ze.apply(this,arguments):ze).end()})},pe.scaleBy=function(Oe,ze,lt,gt){pe.scaleTo(Oe,function(){return this.__zoom.k*(typeof ze=="function"?ze.apply(this,arguments):ze)},lt,gt)},pe.scaleTo=function(Oe,ze,lt,gt){pe.transform(Oe,function(){var Bt=m.apply(this,arguments),qt=this.__zoom,gn=lt==null?me(Bt):typeof lt=="function"?lt.apply(this,arguments):lt,Zt=qt.invert(gn),Rn=typeof ze=="function"?ze.apply(this,arguments):ze;return _(fe(ye(qt,Rn),gn,Zt),Bt,A)},lt,gt)},pe.translateBy=function(Oe,ze,lt,gt){pe.transform(Oe,function(){return _(this.__zoom.translate(typeof ze=="function"?ze.apply(this,arguments):ze,typeof lt=="function"?lt.apply(this,arguments):lt),m.apply(this,arguments),A)},null,gt)},pe.translateTo=function(Oe,ze,lt,gt,Bt){pe.transform(Oe,function(){var qt=m.apply(this,arguments),gn=this.__zoom,Zt=gt==null?me(qt):typeof gt=="function"?gt.apply(this,arguments):gt;return _(jk.translate(Zt[0],Zt[1]).scale(gn.k).translate(typeof ze=="function"?-ze.apply(this,arguments):-ze,typeof lt=="function"?-lt.apply(this,arguments):-lt),qt,A)},gt,Bt)},tt.prototype={event:function(Oe){return Oe&&(this.sourceEvent=Oe),this},start:function(){return++this.active==1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(Oe,ze){return this.mouse&&Oe!=="mouse"&&(this.mouse[1]=ze.invert(this.mouse[0])),this.touch0&&Oe!=="touch"&&(this.touch0[1]=ze.invert(this.touch0[0])),this.touch1&&Oe!=="touch"&&(this.touch1[1]=ze.invert(this.touch1[0])),this.that.__zoom=ze,this.emit("zoom"),this},end:function(){return--this.active==0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(Oe){var ze=as(this.that).datum();z.call(Oe,this.that,new Kce(Oe,{sourceEvent:this.sourceEvent,target:pe,type:Oe,transform:this.that.__zoom,dispatch:z}),ze)}},pe.wheelDelta=function(Oe){return arguments.length?(I=typeof Oe=="function"?Oe:Vk(+Oe),pe):I},pe.filter=function(Oe){return arguments.length?(p=typeof Oe=="function"?Oe:Vk(!!Oe),pe):p},pe.touchable=function(Oe){return arguments.length?(S=typeof Oe=="function"?Oe:Vk(!!Oe),pe):S},pe.extent=function(Oe){return arguments.length?(m=typeof Oe=="function"?Oe:Vk([[+Oe[0][0],+Oe[0][1]],[+Oe[1][0],+Oe[1][1]]]),pe):m},pe.scaleExtent=function(Oe){return arguments.length?(P[0]=+Oe[0],P[1]=+Oe[1],pe):[P[0],P[1]]},pe.translateExtent=function(Oe){return arguments.length?(A[0][0]=+Oe[0][0],A[1][0]=+Oe[1][0],A[0][1]=+Oe[0][1],A[1][1]=+Oe[1][1],pe):[[A[0][0],A[0][1]],[A[1][0],A[1][1]]]},pe.constrain=function(Oe){return arguments.length?(_=Oe,pe):_},pe.duration=function(Oe){return arguments.length?(G=+Oe,pe):G},pe.interpolate=function(Oe){return arguments.length?(X=Oe,pe):X},pe.on=function(){var Oe=z.on.apply(z,arguments);return Oe===z?pe:Oe},pe.clickDistance=function(Oe){return arguments.length?(le=(Oe=+Oe)*Oe,pe):Math.sqrt(le)},pe.tapDistance=function(Oe){return arguments.length?(ue=+Oe,pe):ue},pe}Nj.prototype=Of.prototype}},i={};function e(n){var r=i[n];if(r!==void 0)return r.exports;var o=i[n]={id:n,loaded:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}return e.d=(n,r)=>{for(var o in r)e.o(r,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:r[o]})},e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),e.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),e.r=n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.nmd=n=>(n.paths=[],n.children||(n.children=[]),n),e(4257)})())});function n4(t,i){return Object.is(t,i)}var Zs=null,qk=!1,i4=1,Ad=Symbol("SIGNAL");function kr(t){let i=Zs;return Zs=t,i}function r4(){return Zs}var mE={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fE(t){if(qk)throw new Error("");if(Zs===null)return;Zs.consumerOnSignalRead(t);let i=Zs.nextProducerIndex++;if(Xk(Zs),i<Zs.producerNode.length&&Zs.producerNode[i]!==t&&WS(Zs)){let e=Zs.producerNode[i];Jk(e,Zs.producerIndexOfThis[i])}Zs.producerNode[i]!==t&&(Zs.producerNode[i]=t,Zs.producerIndexOfThis[i]=WS(Zs)?Kj(t,Zs,i):0),Zs.producerLastReadVersion[i]=t.version}function Gj(){i4++}function o4(t){if(!(WS(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===i4)){if(!t.producerMustRecompute(t)&&!Yk(t)){t4(t);return}t.producerRecomputeValue(t),t4(t)}}function a4(t){if(t.liveConsumerNode===void 0)return;let i=qk;qk=!0;try{for(let e of t.liveConsumerNode)e.dirty||lde(e)}finally{qk=i}}function s4(){return Zs?.consumerAllowSignalWrites!==!1}function lde(t){t.dirty=!0,a4(t),t.consumerMarkedDirty?.(t)}function t4(t){t.dirty=!1,t.lastCleanEpoch=i4}function zS(t){return t&&(t.nextProducerIndex=0),kr(t)}function zk(t,i){if(kr(i),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(WS(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)Jk(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Yk(t){Xk(t);for(let i=0;i<t.producerNode.length;i++){let e=t.producerNode[i],n=t.producerLastReadVersion[i];if(n!==e.version||(o4(e),n!==e.version))return!0}return!1}function YS(t){if(Xk(t),WS(t))for(let i=0;i<t.producerNode.length;i++)Jk(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Kj(t,i,e){if(qj(t),t.liveConsumerNode.length===0&&Wj(t))for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Kj(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(e),t.liveConsumerNode.push(i)-1}function Jk(t,i){if(qj(t),t.liveConsumerNode.length===1&&Wj(t))for(let n=0;n<t.producerNode.length;n++)Jk(t.producerNode[n],t.producerIndexOfThis[n]);let e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[i],r=t.liveConsumerNode[i];Xk(r),r.producerIndexOfThis[n]=i}}function WS(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Xk(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function qj(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Wj(t){return t.producerNode!==void 0}function Qk(t,i){let e=Object.create(cde);e.computation=t,i!==void 0&&(e.equal=i);let n=()=>{if(o4(e),fE(e),e.value===Wk)throw e.error;return e.value};return n[Ad]=e,n}var ZL=Symbol("UNSET"),e4=Symbol("COMPUTING"),Wk=Symbol("ERRORED"),cde=Mn(at({},mE),{value:ZL,dirty:!0,error:null,equal:n4,kind:"computed",producerMustRecompute(t){return t.value===ZL||t.value===e4},producerRecomputeValue(t){if(t.value===e4)throw new Error("Detected cycle in computations.");let i=t.value;t.value=e4;let e=zS(t),n,r=!1;try{n=t.computation(),kr(null),r=i!==ZL&&i!==Wk&&n!==Wk&&t.equal(i,n)}catch(o){n=Wk,t.error=o}finally{zk(t,e)}if(r){t.value=i;return}t.value=n,t.version++}});function dde(){throw new Error}var zj=dde;function Yj(t){zj(t)}function l4(t){zj=t}var ude=null;function c4(t,i){let e=Object.create(Zk);e.value=t,i!==void 0&&(e.equal=i);let n=()=>(fE(e),e.value);return n[Ad]=e,n}function hE(t,i){s4()||Yj(t),t.equal(t.value,i)||(t.value=i,pde(t))}function d4(t,i){s4()||Yj(t),hE(t,i(t.value))}var Zk=Mn(at({},mE),{equal:n4,value:void 0,kind:"signal"});function pde(t){t.version++,Gj(),a4(t),ude?.()}function u4(t){let i=kr(null);try{return t()}finally{kr(i)}}var p4;function JS(){return p4}function Jh(t){let i=p4;return p4=t,i}var ew=Symbol("NotFound");function wi(t){return typeof t=="function"}function jg(t){let e=t(n=>{Error.call(n),n.stack=new Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var tw=jg(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:
${e.map((n,r)=>`${r+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=e});function cC(t,i){if(t){let e=t.indexOf(i);0<=e&&t.splice(e,1)}}var Ua=class t{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;let{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(let o of e)o.remove(this);else e.remove(this);let{initialTeardown:n}=this;if(wi(n))try{n()}catch(o){i=o instanceof tw?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Jj(o)}catch(s){i=i??[],s instanceof tw?i=[...i,...s.errors]:i.push(s)}}if(i)throw new tw(i)}}add(i){var e;if(i&&i!==this)if(this.closed)Jj(i);else{if(i instanceof t){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(i)}}_hasParent(i){let{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){let{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){let{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&cC(e,i)}remove(i){let{_finalizers:e}=this;e&&cC(e,i),i instanceof t&&i._removeParent(this)}};Ua.EMPTY=(()=>{let t=new Ua;return t.closed=!0,t})();var m4=Ua.EMPTY;function nw(t){return t instanceof Ua||t&&"closed"in t&&wi(t.remove)&&wi(t.add)&&wi(t.unsubscribe)}function Jj(t){wi(t)?t():t.unsubscribe()}var ym={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gE={setTimeout(t,i,...e){let{delegate:n}=gE;return n?.setTimeout?n.setTimeout(t,i,...e):setTimeout(t,i,...e)},clearTimeout(t){let{delegate:i}=gE;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function iw(t){gE.setTimeout(()=>{let{onUnhandledError:i}=ym;if(i)i(t);else throw t})}function Xh(){}var Xj=f4("C",void 0,void 0);function Qj(t){return f4("E",void 0,t)}function Zj(t){return f4("N",t,void 0)}function f4(t,i,e){return{kind:t,value:i,error:e}}var dC=null;function vE(t){if(ym.useDeprecatedSynchronousErrorHandling){let i=!dC;if(i&&(dC={errorThrown:!1,error:null}),t(),i){let{errorThrown:e,error:n}=dC;if(dC=null,e)throw n}}else t()}function eG(t){ym.useDeprecatedSynchronousErrorHandling&&dC&&(dC.errorThrown=!0,dC.error=t)}var uC=class extends Ua{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,nw(i)&&i.add(this)):this.destination=_de}static create(i,e,n){return new Em(i,e,n)}next(i){this.isStopped?g4(Zj(i),this):this._next(i)}error(i){this.isStopped?g4(Qj(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?g4(Xj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gde=Function.prototype.bind;function h4(t,i){return gde.call(t,i)}var v4=class{constructor(i){this.partialObserver=i}next(i){let{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(n){rw(n)}}error(i){let{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(n){rw(n)}else rw(i)}complete(){let{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){rw(e)}}},Em=class extends uC{constructor(i,e,n){super();let r;if(wi(i)||!i)r={next:i??void 0,error:e??void 0,complete:n??void 0};else{let o;this&&ym.useDeprecatedNextContext?(o=Object.create(i),o.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&h4(i.next,o),error:i.error&&h4(i.error,o),complete:i.complete&&h4(i.complete,o)}):r=i}this.destination=new v4(r)}};function rw(t){ym.useDeprecatedSynchronousErrorHandling?eG(t):iw(t)}function vde(t){throw t}function g4(t,i){let{onStoppedNotification:e}=ym;e&&gE.setTimeout(()=>e(t,i))}var _de={closed:!0,next:Xh,error:vde,complete:Xh};var _E=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qc(t){return t}function _4(...t){return C4(t)}function C4(t){return t.length===0?qc:t.length===1?t[0]:function(e){return t.reduce((n,r)=>r(n),e)}}var Ki=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){let n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,r){let o=yde(e)?e:new Em(e,n,r);return vE(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return n=tG(n),new n((r,o)=>{let s=new Em({next:c=>{try{e(c)}catch(v){o(v),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)}[_E](){return this}pipe(...e){return C4(e)(this)}toPromise(e){return e=tG(e),new e((n,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>n(o))})}}return t.create=i=>new t(i),t})();function tG(t){var i;return(i=t??ym.Promise)!==null&&i!==void 0?i:Promise}function Cde(t){return t&&wi(t.next)&&wi(t.error)&&wi(t.complete)}function yde(t){return t&&t instanceof uC||Cde(t)&&nw(t)}function y4(t){return wi(t?.lift)}function Hi(t){return i=>{if(y4(i))return i.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Bi(t,i,e,n,r){return new E4(t,i,e,n,r)}var E4=class extends uC{constructor(i,e,n,r,o,s){super(i),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(c){try{e(c)}catch(v){i.error(v)}}:super._next,this._error=r?function(c){try{r(c)}catch(v){i.error(v)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(c){i.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:e}=this;super.unsubscribe(),!e&&((i=this.onFinalize)===null||i===void 0||i.call(this))}}};function CE(){return Hi((t,i)=>{let e=null;t._refCount++;let n=Bi(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){e=null;return}let r=t._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),i.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}var Gg=class extends Ki{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,y4(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){let i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Ua;let e=this.getSubject();i.add(this.source.subscribe(Bi(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Ua.EMPTY)}return i}refCount(){return CE()(this)}};var nG=jg(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qn=(()=>{class t extends Ki{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){let n=new ow(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new nG}next(e){vE(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(e)}})}error(e){vE(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;let{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){vE(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){let{hasError:n,isStopped:r,observers:o}=this;return n||r?m4:(this.currentObservers=null,o.push(e),new Ua(()=>{this.currentObservers=null,cC(o,e)}))}_checkFinalizedStatuses(e){let{hasError:n,thrownError:r,isStopped:o}=this;n?e.error(r):o&&e.complete()}asObservable(){let e=new Ki;return e.source=this,e}}return t.create=(i,e)=>new ow(i,e),t})(),ow=class extends qn{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.next)===null||n===void 0||n.call(e,i)}error(i){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.error)===null||n===void 0||n.call(e,i)}complete(){var i,e;(e=(i=this.destination)===null||i===void 0?void 0:i.complete)===null||e===void 0||e.call(i)}_subscribe(i){var e,n;return(n=(e=this.source)===null||e===void 0?void 0:e.subscribe(i))!==null&&n!==void 0?n:m4}};var ni=class extends qn{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){let e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){let{hasError:i,thrownError:e,_value:n}=this;if(i)throw e;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}};var pC={now(){return(pC.delegate||Date).now()},delegate:void 0};var XS=class extends qn{constructor(i=1/0,e=1/0,n=pC){super(),this._bufferSize=i,this._windowTime=e,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,e)}next(i){let{isStopped:e,_buffer:n,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(n.push(i),!r&&n.push(o.now()+s)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();let e=this._innerSubscribe(i),{_infiniteTimeWindow:n,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!i.closed;s+=n?1:2)i.next(o[s]);return this._checkFinalizedStatuses(i),e}_trimBuffer(){let{_bufferSize:i,_timestampProvider:e,_buffer:n,_infiniteTimeWindow:r}=this,o=(r?1:2)*i;if(i<1/0&&o<n.length&&n.splice(0,n.length-o),!r){let s=e.now(),c=0;for(let v=1;v<n.length&&n[v]<=s;v+=2)c=v;c&&n.splice(0,c+1)}}};var aw=class extends Ua{constructor(i,e){super()}schedule(i,e=0){return this}};var QS={setInterval(t,i,...e){let{delegate:n}=QS;return n?.setInterval?n.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){let{delegate:i}=QS;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};var sw=class extends aw{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var n;if(this.closed)return this;this.state=i;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,e),this}requestAsyncId(i,e,n=0){return QS.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return e;e!=null&&QS.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(i,e);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let n=!1,r;try{this.work(i)}catch(o){n=!0,r=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,cC(n,this),i!=null&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}};var yE=class t{constructor(i,e=t.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}};yE.now=pC.now;var lw=class extends yE{constructor(i,e=yE.now){super(i,e),this.actions=[],this._active=!1}flush(i){let{actions:e}=this;if(this._active){e.push(i);return}let n;this._active=!0;do if(n=i.execute(i.state,i.delay))break;while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}};var Qh=new lw(sw),iG=Qh;var el=new Ki(t=>t.complete());function cw(t){return t&&wi(t.schedule)}function rG(t){return t[t.length-1]}function dw(t){return wi(rG(t))?t.pop():void 0}function Kg(t){return cw(rG(t))?t.pop():void 0}function aG(t,i,e,n){function r(o){return o instanceof e?o:new e(function(s){s(o)})}return new(e||(e=Promise))(function(o,s){function c(x){try{b(n.next(x))}catch(k){s(k)}}function v(x){try{b(n.throw(x))}catch(k){s(k)}}function b(x){x.done?o(x.value):r(x.value).then(c,v)}b((n=n.apply(t,i||[])).next())})}function oG(t){var i=typeof Symbol=="function"&&Symbol.iterator,e=i&&t[i],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}function mC(t){return this instanceof mC?(this.v=t,this):new mC(t)}function sG(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(t,i||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(w){return function(M){return Promise.resolve(M).then(w,k)}}function c(w,M){n[w]&&(r[w]=function(F){return new Promise(function(L,V){o.push([w,F,L,V])>1||v(w,F)})},M&&(r[w]=M(r[w])))}function v(w,M){try{b(n[w](M))}catch(F){O(o[0][3],F)}}function b(w){w.value instanceof mC?Promise.resolve(w.value.v).then(x,k):O(o[0][2],w)}function x(w){v("next",w)}function k(w){v("throw",w)}function O(w,M){w(M),o.shift(),o.length&&v(o[0][0],o[0][1])}}function lG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t[Symbol.asyncIterator],e;return i?i.call(t):(t=typeof oG=="function"?oG(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=t[o]&&function(s){return new Promise(function(c,v){s=t[o](s),r(c,v,s.done,s.value)})}}function r(o,s,c,v){Promise.resolve(v).then(function(b){o({value:b,done:c})},s)}}var EE=t=>t&&typeof t.length=="number"&&typeof t!="function";function uw(t){return wi(t?.then)}function pw(t){return wi(t[_E])}function mw(t){return Symbol.asyncIterator&&wi(t?.[Symbol.asyncIterator])}function fw(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ede(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hw=Ede();function gw(t){return wi(t?.[hw])}function vw(t){return sG(this,arguments,function*(){let e=t.getReader();try{for(;;){let{value:n,done:r}=yield mC(e.read());if(r)return yield mC(void 0);yield yield mC(n)}}finally{e.releaseLock()}})}function _w(t){return wi(t?.getReader)}function Xr(t){if(t instanceof Ki)return t;if(t!=null){if(pw(t))return Tde(t);if(EE(t))return bde(t);if(uw(t))return Ide(t);if(mw(t))return cG(t);if(gw(t))return Sde(t);if(_w(t))return xde(t)}throw fw(t)}function Tde(t){return new Ki(i=>{let e=t[_E]();if(wi(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function bde(t){return new Ki(i=>{for(let e=0;e<t.length&&!i.closed;e++)i.next(t[e]);i.complete()})}function Ide(t){return new Ki(i=>{t.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,iw)})}function Sde(t){return new Ki(i=>{for(let e of t)if(i.next(e),i.closed)return;i.complete()})}function cG(t){return new Ki(i=>{Ade(t,i).catch(e=>i.error(e))})}function xde(t){return cG(vw(t))}function Ade(t,i){var e,n,r,o;return aG(this,void 0,void 0,function*(){try{for(e=lG(t);n=yield e.next(),!n.done;){let s=n.value;if(i.next(s),i.closed)return}}catch(s){r={error:s}}finally{try{n&&!n.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}i.complete()})}function fc(t,i,e,n=0,r=!1){let o=i.schedule(function(){e(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!r)return o}function Cw(t,i=0){return Hi((e,n)=>{e.subscribe(Bi(n,r=>fc(n,t,()=>n.next(r),i),()=>fc(n,t,()=>n.complete(),i),r=>fc(n,t,()=>n.error(r),i)))})}function yw(t,i=0){return Hi((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),i))})}function dG(t,i){return Xr(t).pipe(yw(i),Cw(i))}function uG(t,i){return Xr(t).pipe(yw(i),Cw(i))}function pG(t,i){return new Ki(e=>{let n=0;return i.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}function mG(t,i){return new Ki(e=>{let n;return fc(e,i,()=>{n=t[hw](),fc(e,i,()=>{let r,o;try{({value:r,done:o}=n.next())}catch(s){e.error(s);return}o?e.complete():e.next(r)},0,!0)}),()=>wi(n?.return)&&n.return()})}function Ew(t,i){if(!t)throw new Error("Iterable cannot be null");return new Ki(e=>{fc(e,i,()=>{let n=t[Symbol.asyncIterator]();fc(e,i,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function fG(t,i){return Ew(vw(t),i)}function hG(t,i){if(t!=null){if(pw(t))return dG(t,i);if(EE(t))return pG(t,i);if(uw(t))return uG(t,i);if(mw(t))return Ew(t,i);if(gw(t))return mG(t,i);if(_w(t))return fG(t,i)}throw fw(t)}function Qo(t,i){return i?hG(t,i):Xr(t)}function an(...t){let i=Kg(t);return Qo(t,i)}function ma(t,i){let e=wi(t)?t:()=>t,n=r=>r.error(e());return new Ki(i?r=>i.schedule(n,0,r):n)}function Tm(t){return!!t&&(t instanceof Ki||wi(t.lift)&&wi(t.subscribe))}var Cu=jg(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function T4(t,i){let e=typeof i=="object";return new Promise((n,r)=>{let o=!1,s;t.subscribe({next:c=>{s=c,o=!0},error:r,complete:()=>{o?n(s):e?n(i.defaultValue):r(new Cu)}})})}function $a(t,i){let e=typeof i=="object";return new Promise((n,r)=>{let o=new Em({next:s=>{n(s),o.unsubscribe()},error:r,complete:()=>{e?n(i.defaultValue):r(new Cu)}});t.subscribe(o)})}function Tw(t){return t instanceof Date&&!isNaN(t)}var bw=jg(t=>function(e=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e});function b4(t,i){let{first:e,each:n,with:r=Pde,scheduler:o=i??Qh,meta:s=null}=Tw(t)?{first:t}:typeof t=="number"?{each:t}:t;if(e==null&&n==null)throw new TypeError("No timeout provided.");return Hi((c,v)=>{let b,x,k=null,O=0,w=M=>{x=fc(v,o,()=>{try{b.unsubscribe(),Xr(r({meta:s,lastValue:k,seen:O})).subscribe(v)}catch(F){v.error(F)}},M)};b=c.subscribe(Bi(v,M=>{x?.unsubscribe(),O++,v.next(k=M),n>0&&w(n)},void 0,void 0,()=>{x?.closed||x?.unsubscribe(),k=null})),!O&&w(e!=null?typeof e=="number"?e:+e-o.now():n)})}function Pde(t){throw new bw(t)}function cn(t,i){return Hi((e,n)=>{let r=0;e.subscribe(Bi(n,o=>{n.next(t.call(i,o,r++))}))})}var{isArray:kde}=Array;function wde(t,i){return kde(i)?t(...i):t(i)}function TE(t){return cn(i=>wde(t,i))}var{isArray:Dde}=Array,{getPrototypeOf:Ode,prototype:Nde,keys:Rde}=Object;function Iw(t){if(t.length===1){let i=t[0];if(Dde(i))return{args:i,keys:null};if(Mde(i)){let e=Rde(i);return{args:e.map(n=>i[n]),keys:e}}}return{args:t,keys:null}}function Mde(t){return t&&typeof t=="object"&&Ode(t)===Nde}function Sw(t,i){return t.reduce((e,n,r)=>(e[n]=i[r],e),{})}function tl(...t){let i=Kg(t),e=dw(t),{args:n,keys:r}=Iw(t);if(n.length===0)return Qo([],i);let o=new Ki(Fde(n,i,r?s=>Sw(r,s):qc));return e?o.pipe(TE(e)):o}function Fde(t,i,e=qc){return n=>{gG(i,()=>{let{length:r}=t,o=new Array(r),s=r,c=r;for(let v=0;v<r;v++)gG(i,()=>{let b=Qo(t[v],i),x=!1;b.subscribe(Bi(n,k=>{o[v]=k,x||(x=!0,c--),c||n.next(e(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function gG(t,i,e){t?fc(e,t,i):i()}function vG(t,i,e,n,r,o,s,c){let v=[],b=0,x=0,k=!1,O=()=>{k&&!v.length&&!b&&i.complete()},w=F=>b<n?M(F):v.push(F),M=F=>{o&&i.next(F),b++;let L=!1;Xr(e(F,x++)).subscribe(Bi(i,V=>{r?.(V),o?w(V):i.next(V)},()=>{L=!0},void 0,()=>{if(L)try{for(b--;v.length&&b<n;){let V=v.shift();s?fc(i,s,()=>M(V)):M(V)}O()}catch(V){i.error(V)}}))};return t.subscribe(Bi(i,w,()=>{k=!0,O()})),()=>{c?.()}}function ba(t,i,e=1/0){return wi(i)?ba((n,r)=>cn((o,s)=>i(n,o,r,s))(Xr(t(n,r))),e):(typeof i=="number"&&(e=i),Hi((n,r)=>vG(n,r,t,e)))}function bE(t=1/0){return ba(qc,t)}function _G(){return bE(1)}function bm(...t){return _G()(Qo(t,Kg(t)))}function Zh(t){return new Ki(i=>{Xr(t()).subscribe(i)})}var Lde={connector:()=>new qn,resetOnDisconnect:!0};function I4(t,i=Lde){let e=null,{connector:n,resetOnDisconnect:r=!0}=i,o=n(),s=new Ki(c=>o.subscribe(c));return s.connect=()=>((!e||e.closed)&&(e=Zh(()=>t).subscribe(o),r&&e.add(()=>o=n())),e),s}function ZS(...t){let i=dw(t),{args:e,keys:n}=Iw(t),r=new Ki(o=>{let{length:s}=e;if(!s){o.complete();return}let c=new Array(s),v=s,b=s;for(let x=0;x<s;x++){let k=!1;Xr(e[x]).subscribe(Bi(o,O=>{k||(k=!0,b--),c[x]=O},()=>v--,void 0,()=>{(!v||!k)&&(b||o.next(n?Sw(n,c):c),o.complete())}))}});return i?r.pipe(TE(i)):r}var Bde=["addListener","removeListener"],Ude=["addEventListener","removeEventListener"],$de=["on","off"];function ex(t,i,e,n){if(wi(e)&&(n=e,e=void 0),n)return ex(t,i,e).pipe(TE(n));let[r,o]=jde(t)?Ude.map(s=>c=>t[s](i,c,e)):Hde(t)?Bde.map(CG(t,i)):Vde(t)?$de.map(CG(t,i)):[];if(!r&&EE(t))return ba(s=>ex(s,i,e))(Xr(t));if(!r)throw new TypeError("Invalid event target");return new Ki(s=>{let c=(...v)=>s.next(1<v.length?v:v[0]);return r(c),()=>o(c)})}function CG(t,i){return e=>n=>t[e](i,n)}function Hde(t){return wi(t.addListener)&&wi(t.removeListener)}function Vde(t){return wi(t.on)&&wi(t.off)}function jde(t){return wi(t.addEventListener)&&wi(t.removeEventListener)}function Wc(t=0,i,e=iG){let n=-1;return i!=null&&(cw(i)?e=i:n=i),new Ki(r=>{let o=Tw(t)?+t-e.now():t;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=n?this.schedule(void 0,n):r.complete())},o)})}function yu(t=0,i=Qh){return t<0&&(t=0),Wc(t,t,i)}function Yt(t,i){return Hi((e,n)=>{let r=0;e.subscribe(Bi(n,o=>t.call(i,o,r++)&&n.next(o)))})}function No(t){return Hi((i,e)=>{let n=null,r=!1,o;n=i.subscribe(Bi(e,void 0,void 0,s=>{o=Xr(t(s,No(t)(i))),n?(n.unsubscribe(),n=null,o.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,o.subscribe(e))})}function yG(t,i,e,n,r){return(o,s)=>{let c=e,v=i,b=0;o.subscribe(Bi(s,x=>{let k=b++;v=c?t(v,x,k):(c=!0,x),n&&s.next(v)},r&&(()=>{c&&s.next(v),s.complete()})))}}function hp(t,i){return wi(i)?ba(t,i,1):ba(t,1)}function EG(t){return new Ki(i=>t.subscribe(i))}var Gde={connector:()=>new qn};function xw(t,i=Gde){let{connector:e}=i;return Hi((n,r)=>{let o=e();Xr(t(EG(o))).subscribe(r),r.add(n.subscribe(o))})}function Pd(t){return Hi((i,e)=>{let n=!1,r=null,o=null,s=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let c=r;r=null,e.next(c)}};i.subscribe(Bi(e,c=>{o?.unsubscribe(),n=!0,r=c,o=Bi(e,s,Xh),Xr(t(c)).subscribe(o)},()=>{s(),e.complete()},void 0,()=>{r=o=null}))})}function tx(t,i=Qh){return Hi((e,n)=>{let r=null,o=null,s=null,c=()=>{if(r){r.unsubscribe(),r=null;let b=o;o=null,n.next(b)}};function v(){let b=s+t,x=i.now();if(x<b){r=this.schedule(void 0,b-x),n.add(r);return}c()}e.subscribe(Bi(n,b=>{o=b,s=i.now(),r||(r=i.schedule(v,t),n.add(r))},()=>{c(),n.complete()},void 0,()=>{o=r=null}))})}function qg(t){return Hi((i,e)=>{let n=!1;i.subscribe(Bi(e,r=>{n=!0,e.next(r)},()=>{n||e.next(t),e.complete()}))})}function Za(t){return t<=0?()=>el:Hi((i,e)=>{let n=0;i.subscribe(Bi(e,r=>{++n<=t&&(e.next(r),t<=n&&e.complete())}))})}function TG(){return Hi((t,i)=>{t.subscribe(Bi(i,Xh))})}function bG(t){return cn(()=>t)}function Wg(t,i){return i?e=>bm(i.pipe(Za(1),TG()),e.pipe(Wg(t))):ba((e,n)=>Xr(t(e,n)).pipe(Za(1),bG(e)))}function nx(t,i=Qh){let e=Wc(t,i);return Wg(()=>e)}function Ro(t,i=qc){return t=t??Kde,Hi((e,n)=>{let r,o=!0;e.subscribe(Bi(n,s=>{let c=i(s);(o||!t(r,c))&&(o=!1,r=c,n.next(s))}))})}function Kde(t,i){return t===i}function Aw(t=qde){return Hi((i,e)=>{let n=!1;i.subscribe(Bi(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(t())))})}function qde(){return new Cu}function gp(t){return Hi((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}function Ul(t,i){let e=arguments.length>=2;return n=>n.pipe(t?Yt((r,o)=>t(r,o,n)):qc,Za(1),e?qg(i):Aw(()=>new Cu))}function IE(t){return t<=0?()=>el:Hi((i,e)=>{let n=[];i.subscribe(Bi(e,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(let r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}function S4(t,i){let e=arguments.length>=2;return n=>n.pipe(t?Yt((r,o)=>t(r,o,n)):qc,IE(1),e?qg(i):Aw(()=>new Cu))}function IG(t,i){let e=wi(t)?t:()=>t;return wi(i)?xw(i,{connector:e}):n=>new Gg(n,e)}function x4(t){return t?i=>xw(t)(i):i=>IG(new qn)(i)}function ix(t){return Hi((i,e)=>{let n,r=!1,o,s=()=>{n=i.subscribe(Bi(e,void 0,void 0,c=>{o||(o=new qn,Xr(t(o)).subscribe(Bi(e,()=>n?s():r=!0))),o&&o.next(c)})),r&&(n.unsubscribe(),n=null,r=!1,s())};s()})}function A4(t,i){return Hi(yG(t,i,arguments.length>=2,!0))}function zg(t={}){let{connector:i=()=>new qn,resetOnError:e=!0,resetOnComplete:n=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,c,v,b=0,x=!1,k=!1,O=()=>{c?.unsubscribe(),c=void 0},w=()=>{O(),s=v=void 0,x=k=!1},M=()=>{let F=s;w(),F?.unsubscribe()};return Hi((F,L)=>{b++,!k&&!x&&O();let V=v=v??i();L.add(()=>{b--,b===0&&!k&&!x&&(c=P4(M,r))}),V.subscribe(L),!s&&b>0&&(s=new Em({next:B=>V.next(B),error:B=>{k=!0,O(),c=P4(w,e,B),V.error(B)},complete:()=>{x=!0,O(),c=P4(w,n),V.complete()}}),Xr(F).subscribe(s))})(o)}}function P4(t,i,...e){if(i===!0){t();return}if(i===!1)return;let n=new Em({next:()=>{n.unsubscribe(),t()}});return Xr(i(...e)).subscribe(n)}function Pw(t,i,e){let n,r=!1;return t&&typeof t=="object"?{bufferSize:n=1/0,windowTime:i=1/0,refCount:r=!1,scheduler:e}=t:n=t??1/0,zg({connector:()=>new XS(n,i,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function k4(...t){let i=Kg(t);return Hi((e,n)=>{(i?bm(t,e,i):bm(t,e)).subscribe(n)})}function Ia(t,i){return Hi((e,n)=>{let r=null,o=0,s=!1,c=()=>s&&!r&&n.complete();e.subscribe(Bi(n,v=>{r?.unsubscribe();let b=0,x=o++;Xr(t(v,x)).subscribe(r=Bi(n,k=>n.next(i?i(v,k,x,b++):k),()=>{r=null,c()}))},()=>{s=!0,c()}))})}function e0(t){return Hi((i,e)=>{Xr(t).subscribe(Bi(e,()=>e.complete(),Xh)),!e.closed&&i.subscribe(e)})}function An(t,i,e){let n=wi(t)||i||e?{next:t,error:i,complete:e}:t;return n?Hi((r,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let c=!0;r.subscribe(Bi(o,v=>{var b;(b=n.next)===null||b===void 0||b.call(n,v),o.next(v)},()=>{var v;c=!1,(v=n.complete)===null||v===void 0||v.call(n),o.complete()},v=>{var b;c=!1,(b=n.error)===null||b===void 0||b.call(n,v),o.error(v)},()=>{var v,b;c&&((v=n.unsubscribe)===null||v===void 0||v.call(n)),(b=n.finalize)===null||b===void 0||b.call(n)}))}):qc}function w4(t,i){return Hi((e,n)=>{let{leading:r=!0,trailing:o=!1}=i??{},s=!1,c=null,v=null,b=!1,x=()=>{v?.unsubscribe(),v=null,o&&(w(),b&&n.complete())},k=()=>{v=null,b&&n.complete()},O=M=>v=Xr(t(M)).subscribe(Bi(n,x,k)),w=()=>{if(s){s=!1;let M=c;c=null,n.next(M),!b&&O(M)}};e.subscribe(Bi(n,M=>{s=!0,c=M,!(v&&!v.closed)&&(r?w():O(M))},()=>{b=!0,!(o&&s&&v&&!v.closed)&&n.complete()}))})}var CK="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Lt=class extends Error{code;constructor(i,e){super(_D(i,e)),this.code=i}};function Wde(t){return`NG0${Math.abs(t)}`}function _D(t,i){return`${Wde(t)}${i?": "+i:""}`}var CD=Symbol("InputSignalNode#UNSET"),yK=Mn(at({},Zk),{transformFn:void 0,applyValueToInputSignal(t,i){hE(t,i)}});function EK(t,i){let e=Object.create(yK);e.value=t,e.transformFn=i?.transform;function n(){if(fE(e),e.value===CD){let r=null;throw new Lt(-950,r)}return e.value}return n[Ad]=e,n}function vx(t){return{toString:t}.toString()}var kw="__parameters__";function zde(t){return function(...e){if(t){let n=t(...e);for(let r in n)this[r]=n[r]}}}function TK(t,i,e){return vx(()=>{let n=zde(i);function r(...o){if(this instanceof r)return n.apply(this,o),this;let s=new r(...o);return c.annotation=s,c;function c(v,b,x){let k=v.hasOwnProperty(kw)?v[kw]:Object.defineProperty(v,kw,{value:[]})[kw];for(;k.length<=x;)k.push(null);return(k[x]=k[x]||[]).push(s),v}}return r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var vl=globalThis;function oa(t){for(let i in t)if(t[i]===oa)return i;throw Error("Could not find renamed property on target object.")}function Yde(t,i){for(let e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}function wd(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(wd).join(", ")}]`;if(t==null)return""+t;let i=t.overriddenName||t.name;if(i)return`${i}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n>=0?e.slice(0,n):e}function q4(t,i){return t?i?`${t} ${i}`:t:i||""}var Jde=oa({__forward_ref__:oa});function Od(t){return t.__forward_ref__=Od,t.toString=function(){return wd(this())},t}function zc(t){return bK(t)?t():t}function bK(t){return typeof t=="function"&&t.hasOwnProperty(Jde)&&t.__forward_ref__===Od}function Ce(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function yD(t){return SG(t,SK)||SG(t,xK)}function IK(t){return yD(t)!==null}function SG(t,i){return t.hasOwnProperty(i)?t[i]:null}function Xde(t){let i=t&&(t[SK]||t[xK]);return i||null}function xG(t){return t&&(t.hasOwnProperty(AG)||t.hasOwnProperty(Qde))?t[AG]:null}var SK=oa({\u0275prov:oa}),AG=oa({\u0275inj:oa}),xK=oa({ngInjectableDef:oa}),Qde=oa({ngInjectorDef:oa}),mn=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(i,e){this._desc=i,this.\u0275prov=void 0,typeof e=="number"?this.__NG_ELEMENT_ID__=e:e!==void 0&&(this.\u0275prov=Ce({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function AK(t){return t&&!!t.\u0275providers}var Zde=oa({\u0275cmp:oa}),eue=oa({\u0275dir:oa}),tue=oa({\u0275pipe:oa}),nue=oa({\u0275mod:oa}),$w=oa({\u0275fac:oa}),sx=oa({__NG_ELEMENT_ID__:oa}),PG=oa({__NG_ENV_ID__:oa});function Eu(t){return typeof t=="string"?t:t==null?"":String(t)}function iue(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Eu(t)}function PK(t,i){throw new Lt(-200,t)}function e5(t,i){throw new Lt(-201,!1)}var Hr=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Hr||{}),W4;function kK(){return W4}function kd(t){let i=W4;return W4=t,i}function wK(t,i,e){let n=yD(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(e&Hr.Optional)return null;if(i!==void 0)return i;e5(t,"Injector")}var rue={},hC=rue,z4="__NG_DI_FLAG__",Hw=class{injector;constructor(i){this.injector=i}retrieve(i,e){let n=e;return this.injector.get(i,n.optional?ew:hC,n)}},Vw="ngTempTokenPath",oue="ngTokenPath",aue=/\n/gm,sue="\u0275",kG="__source";function lue(t,i=Hr.Default){if(JS()===void 0)throw new Lt(-203,!1);if(JS()===null)return wK(t,void 0,i);{let e=JS(),n;return e instanceof Hw?n=e.injector:n=e,n.get(t,i&Hr.Optional?null:void 0,i)}}function yt(t,i=Hr.Default){return(kK()||lue)(zc(t),i)}function E(t,i=Hr.Default){return yt(t,ED(i))}function ED(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Y4(t){let i=[];for(let e=0;e<t.length;e++){let n=zc(t[e]);if(Array.isArray(n)){if(n.length===0)throw new Lt(900,!1);let r,o=Hr.Default;for(let s=0;s<n.length;s++){let c=n[s],v=cue(c);typeof v=="number"?v===-1?r=c.token:o|=v:r=c}i.push(yt(r,o))}else i.push(yt(n))}return i}function DK(t,i){return t[z4]=i,t.prototype[z4]=i,t}function cue(t){return t[z4]}function due(t,i,e,n){let r=t[Vw];throw i[kG]&&r.unshift(i[kG]),t.message=uue(`
`+t.message,r,e,n),t[oue]=r,t[Vw]=null,t}function uue(t,i,e,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sue?t.slice(2):t;let r=wd(i);if(Array.isArray(i))r=i.map(wd).join(" -> ");else if(typeof i=="object"){let o=[];for(let s in i)if(i.hasOwnProperty(s)){let c=i[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):wd(c)))}r=`{${o.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${t.replace(aue,`
  `)}`}var t5=DK(TK("Optional"),8);var OK=DK(TK("SkipSelf"),4);function vC(t,i){let e=t.hasOwnProperty($w);return e?t[$w]:null}function pue(t,i,e){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],o=i[n];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}function mue(t){return t.flat(Number.POSITIVE_INFINITY)}function n5(t,i){t.forEach(e=>Array.isArray(e)?n5(e,i):i(e))}function NK(t,i,e){i>=t.length?t.push(e):t.splice(i,0,e)}function jw(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function fue(t,i){let e=[];for(let n=0;n<t;n++)e.push(i);return e}function hue(t,i,e,n){let r=t.length;if(r==i)t.push(e,n);else if(r===1)t.push(n,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>i;){let o=r-2;t[r]=t[o],r--}t[i]=e,t[i+1]=n}}function kC(t,i,e){let n=_x(t,i);return n>=0?t[n|1]=e:(n=~n,hue(t,n,i,e)),n}function D4(t,i){let e=_x(t,i);if(e>=0)return t[e|1]}function _x(t,i){return gue(t,i,1)}function gue(t,i,e){let n=0,r=t.length>>e;for(;r!==n;){let o=n+(r-n>>1),s=t[o<<e];if(i===s)return o<<e;s>i?r=o:n=o+1}return~(r<<e)}var _C={},Yc=[],DE=new mn(""),RK=new mn("",-1),MK=new mn(""),Gw=class{get(i,e=hC){if(e===hC){let n=new Error(`NullInjectorError: No provider for ${wd(i)}!`);throw n.name="NullInjectorError",n}return e}};function FK(t,i){let e=t[nue]||null;if(!e&&i===!0)throw new Error(`Type ${wd(t)} does not have '\u0275mod' property.`);return e}function CC(t){return t[Zde]||null}function vue(t){return t[eue]||null}function _ue(t){return t[tue]||null}function Cx(t){return{\u0275providers:t}}function Cue(...t){return{\u0275providers:LK(!0,t),\u0275fromNgModule:!0}}function LK(t,...i){let e=[],n=new Set,r,o=s=>{e.push(s)};return n5(i,s=>{let c=s;J4(c,o,[],n)&&(r||=[],r.push(c))}),r!==void 0&&BK(r,o),e}function BK(t,i){for(let e=0;e<t.length;e++){let{ngModule:n,providers:r}=t[e];i5(r,o=>{i(o,n)})}}function J4(t,i,e,n){if(t=zc(t),!t)return!1;let r=null,o=xG(t),s=!o&&CC(t);if(!o&&!s){let v=t.ngModule;if(o=xG(v),o)r=v;else return!1}else{if(s&&!s.standalone)return!1;r=t}let c=n.has(r);if(s){if(c)return!1;if(n.add(r),s.dependencies){let v=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let b of v)J4(b,i,e,n)}}else if(o){if(o.imports!=null&&!c){n.add(r);let b;try{n5(o.imports,x=>{J4(x,i,e,n)&&(b||=[],b.push(x))})}finally{}b!==void 0&&BK(b,i)}if(!c){let b=vC(r)||(()=>new r);i({provide:r,useFactory:b,deps:Yc},r),i({provide:MK,useValue:r,multi:!0},r),i({provide:DE,useValue:()=>yt(r),multi:!0},r)}let v=o.providers;if(v!=null&&!c){let b=t;i5(v,x=>{i(x,b)})}}else return!1;return r!==t&&t.providers!==void 0}function i5(t,i){for(let e of t)AK(e)&&(e=e.\u0275providers),Array.isArray(e)?i5(e,i):i(e)}var yue=oa({provide:String,useValue:oa});function UK(t){return t!==null&&typeof t=="object"&&yue in t}function Eue(t){return!!(t&&t.useExisting)}function Tue(t){return!!(t&&t.useFactory)}function OE(t){return typeof t=="function"}function bue(t){return!!t.useClass}var TD=new mn(""),Mw={},wG={},O4;function r5(){return O4===void 0&&(O4=new Gw),O4}var gc=class{},cx=class extends gc{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(i,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,Q4(i,s=>this.processProvider(s)),this.records.set(RK,SE(void 0,this)),r.has("environment")&&this.records.set(gc,SE(void 0,this));let o=this.records.get(TD);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(MK,Yc,Hr.Self))}retrieve(i,e){let n=e;return this.get(i,n.optional?ew:hC,n)}destroy(){ox(this),this._destroyed=!0;let i=kr(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),kr(i)}}onDestroy(i){return ox(this),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){ox(this);let e=Jh(this),n=kd(void 0),r;try{return i()}finally{Jh(e),kd(n)}}get(i,e=hC,n=Hr.Default){if(ox(this),i.hasOwnProperty(PG))return i[PG](this);n=ED(n);let r,o=Jh(this),s=kd(void 0);try{if(!(n&Hr.SkipSelf)){let v=this.records.get(i);if(v===void 0){let b=Pue(i)&&yD(i);b&&this.injectableDefInScope(b)?v=SE(X4(i),Mw):v=null,this.records.set(i,v)}if(v!=null)return this.hydrate(i,v)}let c=n&Hr.Self?r5():this.parent;return e=n&Hr.Optional&&e===hC?null:e,c.get(i,e)}catch(c){if(c.name==="NullInjectorError"){if((c[Vw]=c[Vw]||[]).unshift(wd(i)),o)throw c;return due(c,i,"R3InjectorError",this.source)}else throw c}finally{kd(s),Jh(o)}}resolveInjectorInitializers(){let i=kr(null),e=Jh(this),n=kd(void 0),r;try{let o=this.get(DE,Yc,Hr.Self);for(let s of o)s()}finally{Jh(e),kd(n),kr(i)}}toString(){let i=[],e=this.records;for(let n of e.keys())i.push(wd(n));return`R3Injector[${i.join(", ")}]`}processProvider(i){i=zc(i);let e=OE(i)?i:zc(i&&i.provide),n=Sue(i);if(!OE(i)&&i.multi===!0){let r=this.records.get(e);r||(r=SE(void 0,Mw,!0),r.factory=()=>Y4(r.multi),this.records.set(e,r)),e=i,r.multi.push(i)}this.records.set(e,n)}hydrate(i,e){let n=kr(null);try{return e.value===wG?PK(wd(i)):e.value===Mw&&(e.value=wG,e.value=e.factory()),typeof e.value=="object"&&e.value&&Aue(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{kr(n)}}injectableDefInScope(i){if(!i.providedIn)return!1;let e=zc(i.providedIn);return typeof e=="string"?e==="any"||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(i){let e=this._onDestroyHooks.indexOf(i);e!==-1&&this._onDestroyHooks.splice(e,1)}};function X4(t){let i=yD(t),e=i!==null?i.factory:vC(t);if(e!==null)return e;if(t instanceof mn)throw new Lt(204,!1);if(t instanceof Function)return Iue(t);throw new Lt(204,!1)}function Iue(t){if(t.length>0)throw new Lt(204,!1);let e=Xde(t);return e!==null?()=>e.factory(t):()=>new t}function Sue(t){if(UK(t))return SE(void 0,t.useValue);{let i=$K(t);return SE(i,Mw)}}function $K(t,i,e){let n;if(OE(t)){let r=zc(t);return vC(r)||X4(r)}else if(UK(t))n=()=>zc(t.useValue);else if(Tue(t))n=()=>t.useFactory(...Y4(t.deps||[]));else if(Eue(t))n=()=>yt(zc(t.useExisting));else{let r=zc(t&&(t.useClass||t.provide));if(xue(t))n=()=>new r(...Y4(t.deps));else return vC(r)||X4(r)}return n}function ox(t){if(t.destroyed)throw new Lt(205,!1)}function SE(t,i,e=!1){return{factory:t,value:i,multi:e?[]:void 0}}function xue(t){return!!t.deps}function Aue(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Pue(t){return typeof t=="function"||typeof t=="object"&&t instanceof mn}function Q4(t,i){for(let e of t)Array.isArray(e)?Q4(e,i):e&&AK(e)?Q4(e.\u0275providers,i):i(e)}function Nd(t,i){let e;t instanceof cx?(ox(t),e=t):e=new Hw(t);let n,r=Jh(e),o=kd(void 0);try{return i()}finally{Jh(r),kd(o)}}function HK(){return kK()!==void 0||JS()!=null}function yx(t){if(!HK())throw new Lt(-203,!1)}function kue(t){let i=vl.ng;if(i&&i.\u0275compilerFacade)return i.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function wue(t){return typeof t=="function"}var o0=0,yr=1,lr=2,vc=3,Sm=4,Rd=5,NE=6,Kw=7,il=8,yC=9,t0=10,us=11,dx=12,DG=13,VE=14,Tu=15,EC=16,xE=17,n0=18,bD=19,VK=20,Yg=21,N4=22,TC=23,vp=24,kE=25,Rs=26,jK=1;var bC=7,qw=8,RE=9,hc=10;function Jg(t){return Array.isArray(t)&&typeof t[jK]=="object"}function a0(t){return Array.isArray(t)&&t[jK]===!0}function o5(t){return(t.flags&4)!==0}function jE(t){return t.componentOffset>-1}function ID(t){return(t.flags&1)===1}function Rf(t){return!!t.template}function Ww(t){return(t[lr]&512)!==0}function GE(t){return(t[lr]&256)===256}var Xg=class{previousValue;currentValue;firstChange;constructor(i,e,n){this.previousValue=i,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}};function GK(t,i,e,n){i!==null?i.applyValueToInputSignal(i,n):t[e]=n}var Ha=(()=>{let t=()=>KK;return t.ngInherit=!0,t})();function KK(t){return t.type.prototype.ngOnChanges&&(t.setInput=Oue),Due}function Due(){let t=WK(this),i=t?.current;if(i){let e=t.previous;if(e===_C)t.previous=i;else for(let n in i)e[n]=i[n];t.current=null,this.ngOnChanges(i)}}function Oue(t,i,e,n,r){let o=this.declaredInputs[n],s=WK(t)||Nue(t,{previous:_C,current:null}),c=s.current||(s.current={}),v=s.previous,b=v[o];c[o]=new Xg(b&&b.currentValue,e,v===_C),GK(t,i,r,e)}var qK="__ngSimpleChanges__";function WK(t){return t[qK]||null}function Nue(t,i){return t[qK]=i}var OG=null;var fa=function(t,i=null,e){OG?.(t,i,e)},zK="svg",Rue="math";function Mf(t){for(;Array.isArray(t);)t=t[o0];return t}function YK(t,i){return Mf(i[t])}function $f(t,i){return Mf(i[t.index])}function a5(t,i){return t.data[i]}function SD(t,i){return t[i]}function Ff(t,i){let e=i[t];return Jg(e)?e:e[o0]}function Mue(t){return(t[lr]&4)===4}function s5(t){return(t[lr]&128)===128}function Fue(t){return a0(t[vc])}function Qg(t,i){return i==null?null:t[i]}function JK(t){t[xE]=0}function XK(t){t[lr]&1024||(t[lr]|=1024,s5(t)&&KE(t))}function Lue(t,i){for(;t>0;)i=i[VE],t--;return i}function xD(t){return!!(t[lr]&9216||t[vp]?.dirty)}function Z4(t){t[t0].changeDetectionScheduler?.notify(8),t[lr]&64&&(t[lr]|=1024),xD(t)&&KE(t)}function KE(t){t[t0].changeDetectionScheduler?.notify(0);let i=IC(t);for(;i!==null&&!(i[lr]&8192||(i[lr]|=8192,!s5(i)));)i=IC(i)}function QK(t,i){if(GE(t))throw new Lt(911,!1);t[Yg]===null&&(t[Yg]=[]),t[Yg].push(i)}function Bue(t,i){if(t[Yg]===null)return;let e=t[Yg].indexOf(i);e!==-1&&t[Yg].splice(e,1)}function IC(t){let i=t[vc];return a0(i)?i[vc]:i}function l5(t){return t[Kw]??=[]}function c5(t){return t.cleanup??=[]}function Uue(t,i,e,n){let r=l5(i);r.push(e),t.firstCreatePass&&c5(t).push(n,r.length-1)}var wr={lFrame:rq(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var eB=!1;function $ue(){return wr.lFrame.elementDepthCount}function Hue(){wr.lFrame.elementDepthCount++}function Vue(){wr.lFrame.elementDepthCount--}function d5(){return wr.bindingsEnabled}function ZK(){return wr.skipHydrationRootTNode!==null}function jue(t){return wr.skipHydrationRootTNode===t}function Gue(){wr.skipHydrationRootTNode=null}function Di(){return wr.lFrame.lView}function ps(){return wr.lFrame.tView}function Ne(t){return wr.lFrame.contextLView=t,t[il]}function Re(t){return wr.lFrame.contextLView=null,t}function Md(){let t=eq();for(;t!==null&&t.type===64;)t=t.parent;return t}function eq(){return wr.lFrame.currentTNode}function Kue(){let t=wr.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}function wC(t,i){let e=wr.lFrame;e.currentTNode=t,e.isParent=i}function u5(){return wr.lFrame.isParent}function p5(){wr.lFrame.isParent=!1}function que(){return wr.lFrame.contextLView}function tq(){return eB}function zw(t){let i=eB;return eB=t,i}function s0(){let t=wr.lFrame,i=t.bindingRootIndex;return i===-1&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function m5(){return wr.lFrame.bindingIndex}function Wue(t){return wr.lFrame.bindingIndex=t}function Ex(){return wr.lFrame.bindingIndex++}function Tx(t){let i=wr.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,e}function zue(){return wr.lFrame.inI18n}function Yue(t,i){let e=wr.lFrame;e.bindingIndex=e.bindingRootIndex=t,tB(i)}function Jue(){return wr.lFrame.currentDirectiveIndex}function tB(t){wr.lFrame.currentDirectiveIndex=t}function Xue(t){let i=wr.lFrame.currentDirectiveIndex;return i===-1?null:t[i]}function f5(){return wr.lFrame.currentQueryIndex}function AD(t){wr.lFrame.currentQueryIndex=t}function Que(t){let i=t[yr];return i.type===2?i.declTNode:i.type===1?t[Rd]:null}function nq(t,i,e){if(e&Hr.SkipSelf){let r=i,o=t;for(;r=r.parent,r===null&&!(e&Hr.Host);)if(r=Que(o),r===null||(o=o[VE],r.type&10))break;if(r===null)return!1;i=r,t=o}let n=wr.lFrame=iq();return n.currentTNode=i,n.lView=t,!0}function h5(t){let i=iq(),e=t[yr];wr.lFrame=i,i.currentTNode=e.firstChild,i.lView=t,i.tView=e,i.contextLView=t,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function iq(){let t=wr.lFrame,i=t===null?null:t.child;return i===null?rq(t):i}function rq(t){let i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=i),i}function oq(){let t=wr.lFrame;return wr.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var aq=oq;function g5(){let t=oq();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Zue(t){return(wr.lFrame.contextLView=Lue(t,wr.lFrame.contextLView))[il]}function xm(){return wr.lFrame.selectedIndex}function SC(t){wr.lFrame.selectedIndex=t}function PD(){let t=wr.lFrame;return a5(t.tView,t.selectedIndex)}function qE(){wr.lFrame.currentNamespace=zK}function sq(){epe()}function epe(){wr.lFrame.currentNamespace=null}function tpe(){return wr.lFrame.currentNamespace}var lq=!0;function kD(){return lq}function wD(t){lq=t}function npe(t,i,e){let{ngOnChanges:n,ngOnInit:r,ngDoCheck:o}=i.type.prototype;if(n){let s=KK(i);(e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s)}r&&(e.preOrderHooks??=[]).push(0-t,r),o&&((e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o))}function v5(t,i){for(let e=i.directiveStart,n=i.directiveEnd;e<n;e++){let o=t.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:v,ngAfterViewChecked:b,ngOnDestroy:x}=o;s&&(t.contentHooks??=[]).push(-e,s),c&&((t.contentHooks??=[]).push(e,c),(t.contentCheckHooks??=[]).push(e,c)),v&&(t.viewHooks??=[]).push(-e,v),b&&((t.viewHooks??=[]).push(e,b),(t.viewCheckHooks??=[]).push(e,b)),x!=null&&(t.destroyHooks??=[]).push(e,x)}}function Fw(t,i,e){cq(t,i,3,e)}function Lw(t,i,e,n){(t[lr]&3)===e&&cq(t,i,e,n)}function R4(t,i){let e=t[lr];(e&3)===i&&(e&=16383,e+=1,t[lr]=e)}function cq(t,i,e,n){let r=n!==void 0?t[xE]&65535:0,o=n??-1,s=i.length-1,c=0;for(let v=r;v<s;v++)if(typeof i[v+1]=="number"){if(c=i[v],n!=null&&c>=n)break}else i[v]<0&&(t[xE]+=65536),(c<o||o==-1)&&(ipe(t,e,i,v),t[xE]=(t[xE]&4294901760)+v+2),v++}function NG(t,i){fa(4,t,i);let e=kr(null);try{i.call(t)}finally{kr(e),fa(5,t,i)}}function ipe(t,i,e,n){let r=e[n]<0,o=e[n+1],s=r?-e[n]:e[n],c=t[s];r?t[lr]>>14<t[xE]>>16&&(t[lr]&3)===i&&(t[lr]+=16384,NG(c,o)):NG(c,o)}var wE=-1,xC=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(i,e,n){this.factory=i,this.canSeeViewProviders=e,this.injectImpl=n}};function rpe(t){return(t.flags&8)!==0}function ope(t){return(t.flags&16)!==0}function ape(t,i,e){let n=0;for(;n<e.length;){let r=e[n];if(typeof r=="number"){if(r!==0)break;n++;let o=e[n++],s=e[n++],c=e[n++];t.setAttribute(i,s,c,o)}else{let o=r,s=e[++n];lpe(o)?t.setProperty(i,o,s):t.setAttribute(i,o,s),n++}}return n}function spe(t){return t===3||t===4||t===6}function lpe(t){return t.charCodeAt(0)===64}function ME(t,i){if(!(i===null||i.length===0))if(t===null||t.length===0)t=i.slice();else{let e=-1;for(let n=0;n<i.length;n++){let r=i[n];typeof r=="number"?e=r:e===0||(e===-1||e===2?RG(t,e,r,null,i[++n]):RG(t,e,r,null,null))}}return t}function RG(t,i,e,n,r){let o=0,s=t.length;if(i===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===i){s=-1;break}else if(c>i){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===e){r!==null&&(t[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(t.splice(s,0,i),o=s+1),t.splice(o++,0,e),r!==null&&t.splice(o++,0,r)}function dq(t){return t!==wE}function Yw(t){return t&32767}function cpe(t){return t>>16}function Jw(t,i){let e=cpe(t),n=i;for(;e>0;)n=n[VE],e--;return n}var nB=!0;function Xw(t){let i=nB;return nB=t,i}var dpe=256,uq=dpe-1,pq=5,upe=0,Nf={};function ppe(t,i,e){let n;typeof e=="string"?n=e.charCodeAt(0)||0:e.hasOwnProperty(sx)&&(n=e[sx]),n==null&&(n=e[sx]=upe++);let r=n&uq,o=1<<r;i.data[t+(r>>pq)]|=o}function Qw(t,i){let e=mq(t,i);if(e!==-1)return e;let n=i[yr];n.firstCreatePass&&(t.injectorIndex=i.length,M4(n.data,t),M4(i,null),M4(n.blueprint,null));let r=_5(t,i),o=t.injectorIndex;if(dq(r)){let s=Yw(r),c=Jw(r,i),v=c[yr].data;for(let b=0;b<8;b++)i[o+b]=c[s+b]|v[s+b]}return i[o+8]=r,o}function M4(t,i){t.push(0,0,0,0,0,0,0,0,i)}function mq(t,i){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||i[t.injectorIndex+8]===null?-1:t.injectorIndex}function _5(t,i){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let e=0,n=null,r=i;for(;r!==null;){if(n=_q(r),n===null)return wE;if(e++,r=r[VE],n.injectorIndex!==-1)return n.injectorIndex|e<<16}return wE}function iB(t,i,e){ppe(t,i,e)}function fq(t,i,e){if(e&Hr.Optional||t!==void 0)return t;e5(i,"NodeInjector")}function hq(t,i,e,n){if(e&Hr.Optional&&n===void 0&&(n=null),(e&(Hr.Self|Hr.Host))===0){let r=t[yC],o=kd(void 0);try{return r?r.get(i,n,e&Hr.Optional):wK(i,n,e&Hr.Optional)}finally{kd(o)}}return fq(n,i,e)}function gq(t,i,e,n=Hr.Default,r){if(t!==null){if(i[lr]&2048&&!(n&Hr.Self)){let s=gpe(t,i,e,n,Nf);if(s!==Nf)return s}let o=vq(t,i,e,n,Nf);if(o!==Nf)return o}return hq(i,e,n,r)}function vq(t,i,e,n,r){let o=fpe(e);if(typeof o=="function"){if(!nq(i,t,n))return n&Hr.Host?fq(r,e,n):hq(i,e,n,r);try{let s;if(s=o(n),s==null&&!(n&Hr.Optional))e5(e);else return s}finally{aq()}}else if(typeof o=="number"){let s=null,c=mq(t,i),v=wE,b=n&Hr.Host?i[Tu][Rd]:null;for((c===-1||n&Hr.SkipSelf)&&(v=c===-1?_5(t,i):i[c+8],v===wE||!FG(n,!1)?c=-1:(s=i[yr],c=Yw(v),i=Jw(v,i)));c!==-1;){let x=i[yr];if(MG(o,c,x.data)){let k=mpe(c,i,e,s,n,b);if(k!==Nf)return k}v=i[c+8],v!==wE&&FG(n,i[yr].data[c+8]===b)&&MG(o,c,i)?(s=x,c=Yw(v),i=Jw(v,i)):c=-1}}return r}function mpe(t,i,e,n,r,o){let s=i[yr],c=s.data[t+8],v=n==null?jE(c)&&nB:n!=s&&(c.type&3)!==0,b=r&Hr.Host&&o===c,x=Bw(c,s,e,v,b);return x!==null?ux(i,s,x,c):Nf}function Bw(t,i,e,n,r){let o=t.providerIndexes,s=i.data,c=o&1048575,v=t.directiveStart,b=t.directiveEnd,x=o>>20,k=n?c:c+x,O=r?c+x:b;for(let w=k;w<O;w++){let M=s[w];if(w<v&&e===M||w>=v&&M.type===e)return w}if(r){let w=s[v];if(w&&Rf(w)&&w.type===e)return v}return null}function ux(t,i,e,n){let r=t[e],o=i.data;if(r instanceof xC){let s=r;s.resolving&&PK(iue(o[e]));let c=Xw(s.canSeeViewProviders);s.resolving=!0;let v,b=s.injectImpl?kd(s.injectImpl):null,x=nq(t,n,Hr.Default);try{r=t[e]=s.factory(void 0,o,t,n),i.firstCreatePass&&e>=n.directiveStart&&npe(e,o[e],i)}finally{b!==null&&kd(b),Xw(c),s.resolving=!1,aq()}}return r}function fpe(t){if(typeof t=="string")return t.charCodeAt(0)||0;let i=t.hasOwnProperty(sx)?t[sx]:void 0;return typeof i=="number"?i>=0?i&uq:hpe:i}function MG(t,i,e){let n=1<<t;return!!(e[i+(t>>pq)]&n)}function FG(t,i){return!(t&Hr.Self)&&!(t&Hr.Host&&i)}var gC=class{_tNode;_lView;constructor(i,e){this._tNode=i,this._lView=e}get(i,e,n){return gq(this._tNode,this._lView,i,ED(n),e)}};function hpe(){return new gC(Md(),Di())}function Ve(t){return vx(()=>{let i=t.prototype.constructor,e=i[$w]||rB(i),n=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){let o=r[$w]||rB(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function rB(t){return bK(t)?()=>{let i=rB(zc(t));return i&&i()}:vC(t)}function gpe(t,i,e,n,r){let o=t,s=i;for(;o!==null&&s!==null&&s[lr]&2048&&!Ww(s);){let c=vq(o,s,e,n|Hr.Self,Nf);if(c!==Nf)return c;let v=o.parent;if(!v){let b=s[VK];if(b){let x=b.get(e,Nf,n);if(x!==Nf)return x}v=_q(s),s=s[VE]}o=v}return r}function _q(t){let i=t[yr],e=i.type;return e===2?i.declTNode:e===1?t[Rd]:null}function LG(t,i=null,e=null,n){let r=Cq(t,i,e,n);return r.resolveInjectorInitializers(),r}function Cq(t,i=null,e=null,n,r=new Set){let o=[e||Yc,Cue(t)];return n=n||(typeof t=="object"?void 0:wd(t)),new cx(o,i||r5(),n||null,r)}var _l=class t{static THROW_IF_NOT_FOUND=hC;static NULL=new Gw;static create(i,e){if(Array.isArray(i))return LG({name:""},e,i,"");{let n=i.name??"";return LG({name:n},i.parent,i.providers,n)}}static \u0275prov=Ce({token:t,providedIn:"any",factory:()=>yt(RK)});static __NG_ELEMENT_ID__=-1};var vpe=new mn("");vpe.__NG_ELEMENT_ID__=t=>{let i=Md();if(i===null)throw new Lt(204,!1);if(i.type&2)return i.value;if(t&Hr.Optional)return null;throw new Lt(204,!1)};var yq=!1,Oi=(()=>{class t{static __NG_ELEMENT_ID__=_pe;static __NG_ENV_ID__=e=>e}return t})(),Zw=class extends Oi{_lView;constructor(i){super(),this._lView=i}onDestroy(i){let e=this._lView;return GE(e)?(i(),()=>{}):(QK(e,i),()=>Bue(e,i))}};function _pe(){return new Zw(Di())}var AC=class{},C5=new mn("",{providedIn:"root",factory:()=>!1});var Eq=new mn(""),Tq=new mn(""),l0=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new ni(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let e=this.taskId++;return this.pendingTasks.add(e),e}has(e){return this.pendingTasks.has(e)}remove(e){this.pendingTasks.delete(e),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})();var oB=class extends qn{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(i=!1){super(),this.__isAsync=i,HK()&&(this.destroyRef=E(Oi,{optional:!0})??void 0,this.pendingTasks=E(l0,{optional:!0})??void 0)}emit(i){let e=kr(null);try{super.next(i)}finally{kr(e)}}subscribe(i,e,n){let r=i,o=e||(()=>null),s=n;if(i&&typeof i=="object"){let v=i;r=v.next?.bind(v),o=v.error?.bind(v),s=v.complete?.bind(v)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:r,error:o,complete:s});return i instanceof Ua&&i.add(c),c}wrapInTimeout(i){return e=>{let n=this.pendingTasks?.add();setTimeout(()=>{try{i(e)}finally{n!==void 0&&this.pendingTasks?.remove(n)}})}}},Jt=oB;function px(...t){}function bq(t){let i,e;function n(){t=px;try{e!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(e),i!==void 0&&clearTimeout(i)}catch{}}return i=setTimeout(()=>{t(),n()}),typeof requestAnimationFrame=="function"&&(e=requestAnimationFrame(()=>{t(),n()})),()=>n()}function BG(t){return queueMicrotask(()=>t()),()=>{t=px}}var y5="isAngularZone",eD=y5+"_ID",Cpe=0,Si=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Jt(!1);onMicrotaskEmpty=new Jt(!1);onStable=new Jt(!1);onError=new Jt(!1);constructor(i){let{enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=yq}=i;if(typeof Zone>"u")throw new Lt(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&n,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Tpe(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(y5)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Lt(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Lt(909,!1)}run(i,e,n){return this._inner.run(i,e,n)}runTask(i,e,n,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,i,ype,px,px);try{return o.runTask(s,e,n)}finally{o.cancelTask(s)}}runGuarded(i,e,n){return this._inner.runGuarded(i,e,n)}runOutsideAngular(i){return this._outer.run(i)}},ype={};function E5(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Epe(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function i(){bq(()=>{t.callbackScheduled=!1,aB(t),t.isCheckStableRunning=!0,E5(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{i()}):t._outer.run(()=>{i()}),aB(t)}function Tpe(t){let i=()=>{Epe(t)},e=Cpe++;t._inner=t._inner.fork({name:"angular",properties:{[y5]:!0,[eD]:e,[eD+e]:!0},onInvokeTask:(n,r,o,s,c,v)=>{if(bpe(v))return n.invokeTask(o,s,c,v);try{return UG(t),n.invokeTask(o,s,c,v)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&i(),$G(t)}},onInvoke:(n,r,o,s,c,v,b)=>{try{return UG(t),n.invoke(o,s,c,v,b)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Ipe(v)&&i(),$G(t)}},onHasTask:(n,r,o,s)=>{n.hasTask(o,s),r===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,aB(t),E5(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,o,s)=>(n.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function aB(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function UG(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function $G(t){t._nesting--,E5(t)}var tD=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Jt;onMicrotaskEmpty=new Jt;onStable=new Jt;onError=new Jt;run(i,e,n){return i.apply(e,n)}runGuarded(i,e,n){return i.apply(e,n)}runOutsideAngular(i){return i()}runTask(i,e,n,r){return i.apply(e,n)}};function bpe(t){return Iq(t,"__ignore_ng_zone__")}function Ipe(t){return Iq(t,"__scheduler_tick__")}function Iq(t,i){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[i]===!0}function Spe(t="zone.js",i){return t==="noop"?new tD:t==="zone.js"?new Si(i):t}var Cl=class{_console=console;handleError(i){this._console.error("ERROR",i)}},xpe=new mn("",{providedIn:"root",factory:()=>{let t=E(Si),i=E(Cl);return e=>t.runOutsideAngular(()=>i.handleError(e))}}),nD=class{destroyed=!1;listeners=null;errorHandler=E(Cl,{optional:!0});destroyRef=E(Oi);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(i){if(this.destroyed)throw new Lt(953,!1);return(this.listeners??=[]).push(i),{unsubscribe:()=>{let e=this.listeners?.indexOf(i);e!==void 0&&e!==-1&&this.listeners?.splice(e,1)}}}emit(i){if(this.destroyed){console.warn(_D(953,!1));return}if(this.listeners===null)return;let e=kr(null);try{for(let n of this.listeners)try{n(i)}catch(r){this.errorHandler?.handleError(r)}}finally{kr(e)}}};function vo(t){return new nD}function HG(t,i){return EK(t,i)}function Ape(t){return EK(CD,t)}var We=(HG.required=Ape,HG);function Ppe(){return WE(Md(),Di())}function WE(t,i){return new ii($f(t,i))}var ii=(()=>{class t{nativeElement;constructor(e){this.nativeElement=e}static __NG_ELEMENT_ID__=Ppe}return t})();function Sq(t){return t instanceof ii?t.nativeElement:t}function nn(t,i){let e=c4(t,i?.equal),n=e[Ad];return e.set=r=>hE(n,r),e.update=r=>d4(n,r),e.asReadonly=xq.bind(e),e}function xq(){let t=this[Ad];if(t.readonlyFn===void 0){let i=()=>this();i[Ad]=t,t.readonlyFn=i}return t.readonlyFn}function kpe(){return this._results[Symbol.iterator]()}var sB=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new qn}constructor(i=!1){this._emitDistinctChangesOnly=i}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){this.dirty=!1;let n=mue(i);(this._changesDetected=!pue(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(i){this._onDirty=i}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=kpe};function Aq(t){return(t.flags&128)===128}var Pq=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pq||{}),kq=new Map,wpe=0;function Dpe(){return wpe++}function Ope(t){kq.set(t[bD],t)}function lB(t){kq.delete(t[bD])}var VG="__ngContext__";function zE(t,i){Jg(i)?(t[VG]=i[bD],Ope(i)):t[VG]=i}function wq(t){return Oq(t[dx])}function Dq(t){return Oq(t[Sm])}function Oq(t){for(;t!==null&&!a0(t);)t=t[Sm];return t}var cB;function Nq(t){cB=t}function Npe(){if(cB!==void 0)return cB;if(typeof document<"u")return document;throw new Lt(210,!1)}var DD=new mn("",{providedIn:"root",factory:()=>Rpe}),Rpe="ng",T5=new mn(""),Zg=new mn("",{providedIn:"platform",factory:()=>"unknown"});var b5=new mn(""),I5=new mn("",{providedIn:"root",factory:()=>Npe().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null}),S5={breakpoints:[16,32,48,64,96,128,256,384,640,750,828,1080,1200,1920,2048,3840],placeholderResolution:30,disableImageSizeWarning:!1,disableImageLazyLoadWarning:!1},Rq=new mn("",{providedIn:"root",factory:()=>S5});var Mpe="h",Fpe="b";var Mq=!1,Lpe=new mn("",{providedIn:"root",factory:()=>Mq});var x5=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(x5||{}),YE=new mn(""),jG=new Set;function c0(t){jG.has(t)||(jG.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var A5=(()=>{class t{view;node;constructor(e,n){this.view=e,this.node=n}static __NG_ELEMENT_ID__=Bpe}return t})();function Bpe(){return new A5(Di(),Md())}var AE=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(AE||{}),Fq=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})(),Upe=[AE.EarlyRead,AE.Write,AE.MixedReadWrite,AE.Read],$pe=(()=>{class t{ngZone=E(Si);scheduler=E(AC);errorHandler=E(Cl,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){E(YE,{optional:!0})}execute(){let e=this.sequences.size>0;e&&fa(16),this.executing=!0;for(let n of Upe)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[n];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),e&&fa(17)}register(e){let{view:n}=e;n!==void 0?((n[kE]??=[]).push(e),KE(n),n[lr]|=8192):this.executing?this.deferredRegistrations.add(e):this.addSequence(e)}addSequence(e){this.sequences.add(e),this.scheduler.notify(7)}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}maybeTrace(e,n){return n?n.run(x5.AFTER_NEXT_RENDER,e):e()}static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new t})}return t})(),dB=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(i,e,n,r,o,s=null){this.impl=i,this.hooks=e,this.view=n,this.once=r,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let i=this.view?.[kE];i&&(this.view[kE]=i.filter(e=>e!==this))}};function P5(t,i){!i?.injector&&yx(P5);let e=i?.injector??E(_l);return c0("NgAfterNextRender"),Vpe(t,e,i,!0)}function Hpe(t,i){if(t instanceof Function){let e=[void 0,void 0,void 0,void 0];return e[i]=t,e}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Vpe(t,i,e,n){let r=i.get(Fq);r.impl??=i.get($pe);let o=i.get(YE,null,{optional:!0}),s=e?.phase??AE.MixedReadWrite,c=e?.manualCleanup!==!0?i.get(Oi):null,v=i.get(A5,null,{optional:!0}),b=new dB(r.impl,Hpe(t,s),v?.view,n,c,o?.snapshot(null));return r.impl.register(b),b}var jpe=()=>null;function Lq(t,i,e=!1){return jpe(t,i,e)}function Bq(t,i){let e=t.contentQueries;if(e!==null){let n=kr(null);try{for(let r=0;r<e.length;r+=2){let o=e[r],s=e[r+1];if(s!==-1){let c=t.data[s];AD(o),c.contentQueries(2,i[s],s)}}}finally{kr(n)}}}function uB(t,i,e){AD(0);let n=kr(null);try{i(t,e)}finally{kr(n)}}function k5(t,i,e){if(o5(i)){let n=kr(null);try{let r=i.directiveStart,o=i.directiveEnd;for(let s=r;s<o;s++){let c=t.data[s];if(c.contentQueries){let v=e[s];c.contentQueries(1,v,s)}}}finally{kr(n)}}}var Lf=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Lf||{}),ww;function Gpe(){if(ww===void 0&&(ww=null,vl.trustedTypes))try{ww=vl.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ww}function OD(t){return Gpe()?.createHTML(t)||t}var Dw;function Kpe(){if(Dw===void 0&&(Dw=null,vl.trustedTypes))try{Dw=vl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Dw}function GG(t){return Kpe()?.createScriptURL(t)||t}var i0=class{changingThisBreaksApplicationSecurity;constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${CK})`}},pB=class extends i0{getTypeName(){return"HTML"}},mB=class extends i0{getTypeName(){return"Style"}},fB=class extends i0{getTypeName(){return"Script"}},hB=class extends i0{getTypeName(){return"URL"}},gB=class extends i0{getTypeName(){return"ResourceURL"}};function bu(t){return t instanceof i0?t.changingThisBreaksApplicationSecurity:t}function ev(t,i){let e=qpe(t);if(e!=null&&e!==i){if(e==="ResourceURL"&&i==="URL")return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${CK})`)}return e===i}function qpe(t){return t instanceof i0&&t.getTypeName()||null}function Uq(t){return new pB(t)}function $q(t){return new mB(t)}function Hq(t){return new fB(t)}function Vq(t){return new hB(t)}function jq(t){return new gB(t)}function Wpe(t){let i=new _B(t);return zpe()?new vB(i):i}var vB=class{inertDocumentHelper;constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{let e=new window.DOMParser().parseFromString(OD(i),"text/html").body;return e===null?this.inertDocumentHelper.getInertBodyElement(i):(e.firstChild?.remove(),e)}catch{return null}}},_B=class{defaultDoc;inertDocument;constructor(i){this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(i){let e=this.inertDocument.createElement("template");return e.innerHTML=OD(i),e}};function zpe(){try{return!!new window.DOMParser().parseFromString(OD(""),"text/html")}catch{return!1}}var Ype=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ND(t){return t=String(t),t.match(Ype)?t:"unsafe:"+t}function d0(t){let i={};for(let e of t.split(","))i[e]=!0;return i}function bx(...t){let i={};for(let e of t)for(let n in e)e.hasOwnProperty(n)&&(i[n]=!0);return i}var Gq=d0("area,br,col,hr,img,wbr"),Kq=d0("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qq=d0("rp,rt"),Jpe=bx(qq,Kq),Xpe=bx(Kq,d0("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qpe=bx(qq,d0("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),KG=bx(Gq,Xpe,Qpe,Jpe),Wq=d0("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zpe=d0("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),eme=d0("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),tme=bx(Wq,Zpe,eme),nme=d0("script,style,template"),CB=class{sanitizedSomething=!1;buf=[];sanitizeChildren(i){let e=i.firstChild,n=!0,r=[];for(;e;){if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild){r.push(e),e=ome(e);continue}for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let o=rme(e);if(o){e=o;break}e=r.pop()}}return this.buf.join("")}startElement(i){let e=qG(i).toLowerCase();if(!KG.hasOwnProperty(e))return this.sanitizedSomething=!0,!nme.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);let n=i.attributes;for(let r=0;r<n.length;r++){let o=n.item(r),s=o.name,c=s.toLowerCase();if(!tme.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let v=o.value;Wq[c]&&(v=ND(v)),this.buf.push(" ",s,'="',WG(v),'"')}return this.buf.push(">"),!0}endElement(i){let e=qG(i).toLowerCase();KG.hasOwnProperty(e)&&!Gq.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(i){this.buf.push(WG(i))}};function ime(t,i){return(t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function rme(t){let i=t.nextSibling;if(i&&t!==i.previousSibling)throw zq(i);return i}function ome(t){let i=t.firstChild;if(i&&ime(t,i))throw zq(i);return i}function qG(t){let i=t.nodeName;return typeof i=="string"?i:"FORM"}function zq(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var ame=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sme=/([^\#-~ |!])/g;function WG(t){return t.replace(/&/g,"&amp;").replace(ame,function(i){let e=i.charCodeAt(0),n=i.charCodeAt(1);return"&#"+((e-55296)*1024+(n-56320)+65536)+";"}).replace(sme,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ow;function Yq(t,i){let e=null;try{Ow=Ow||Wpe(t);let n=i?String(i):"";e=Ow.getInertBodyElement(n);let r=5,o=n;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,n=o,o=e.innerHTML,e=Ow.getInertBodyElement(n)}while(n!==o);let c=new CB().sanitizeChildren(zG(e)||e);return OD(c)}finally{if(e){let n=zG(e)||e;for(;n.firstChild;)n.firstChild.remove()}}}function zG(t){return"content"in t&&lme(t)?t.content:null}function lme(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var bs=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bs||{});function un(t){let i=Jq();return i?i.sanitize(bs.URL,t)||"":ev(t,"URL")?bu(t):ND(Eu(t))}function tv(t){let i=Jq();if(i)return GG(i.sanitize(bs.RESOURCE_URL,t)||"");if(ev(t,"ResourceURL"))return GG(bu(t));throw new Lt(904,!1)}function Jq(){let t=Di();return t&&t[t0].sanitizer}var cme=/^>|^->|<!--|-->|--!>|<!-$/g,dme=/(<|>)/g,ume="\u200B$1\u200B";function pme(t){return t.replace(cme,i=>i.replace(dme,ume))}function Ix(t){return t.ownerDocument.defaultView}function Xq(t){return t instanceof Function?t():t}function mme(t,i,e){let n=t.length;for(;;){let r=t.indexOf(i,e);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=i.length;if(r+o===n||t.charCodeAt(r+o)<=32)return r}e=r+1}}var Qq="ng-template";function fme(t,i,e,n){let r=0;if(n){for(;r<i.length&&typeof i[r]=="string";r+=2)if(i[r]==="class"&&mme(i[r+1].toLowerCase(),e,0)!==-1)return!0}else if(w5(t))return!1;if(r=i.indexOf(1,r),r>-1){let o;for(;++r<i.length&&typeof(o=i[r])=="string";)if(o.toLowerCase()===e)return!0}return!1}function w5(t){return t.type===4&&t.value!==Qq}function hme(t,i,e){let n=t.type===4&&!e?Qq:t.value;return i===n}function gme(t,i,e){let n=4,r=t.attrs,o=r!==null?Cme(r):0,s=!1;for(let c=0;c<i.length;c++){let v=i[c];if(typeof v=="number"){if(!s&&!Im(n)&&!Im(v))return!1;if(s&&Im(v))continue;s=!1,n=v|n&1;continue}if(!s)if(n&4){if(n=2|n&1,v!==""&&!hme(t,v,e)||v===""&&i.length===1){if(Im(n))return!1;s=!0}}else if(n&8){if(r===null||!fme(t,r,v,e)){if(Im(n))return!1;s=!0}}else{let b=i[++c],x=vme(v,r,w5(t),e);if(x===-1){if(Im(n))return!1;s=!0;continue}if(b!==""){let k;if(x>o?k="":k=r[x+1].toLowerCase(),n&2&&b!==k){if(Im(n))return!1;s=!0}}}}return Im(n)||s}function Im(t){return(t&1)===0}function vme(t,i,e,n){if(i===null)return-1;let r=0;if(n||!e){let o=!1;for(;r<i.length;){let s=i[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=i[++r];for(;typeof c=="string";)c=i[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return yme(i,t)}function Zq(t,i,e=!1){for(let n=0;n<i.length;n++)if(gme(t,i[n],e))return!0;return!1}function _me(t){let i=t.attrs;if(i!=null){let e=i.indexOf(5);if((e&1)===0)return i[e+1]}return null}function Cme(t){for(let i=0;i<t.length;i++){let e=t[i];if(spe(e))return i}return t.length}function yme(t,i){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){let n=t[e];if(typeof n=="number")return-1;if(n===i)return e;e++}return-1}function Eme(t,i){e:for(let e=0;e<i.length;e++){let n=i[e];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function YG(t,i){return t?":not("+i.trim()+")":i}function Tme(t){let i=t[0],e=1,n=2,r="",o=!1;for(;e<t.length;){let s=t[e];if(typeof s=="string")if(n&2){let c=t[++e];r+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else n&8?r+="."+s:n&4&&(r+=" "+s);else r!==""&&!Im(s)&&(i+=YG(o,r),r=""),n=s,o=o||!Im(n);e++}return r!==""&&(i+=YG(o,r)),i}function bme(t){return t.map(Tme).join(",")}function Ime(t){let i=[],e=[],n=1,r=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")r===2?o!==""&&i.push(o,t[++n]):r===8&&e.push(o);else{if(!Im(r))break;r=o}n++}return e.length&&i.push(1,...e),i}var rl={};function Sme(t,i){return t.createText(i)}function xme(t,i,e){t.setValue(i,e)}function Ame(t,i){return t.createComment(pme(i))}function eW(t,i,e){return t.createElement(i,e)}function iD(t,i,e,n,r){t.insertBefore(i,e,n,r)}function tW(t,i,e){t.appendChild(i,e)}function JG(t,i,e,n,r){n!==null?iD(t,i,e,n,r):tW(t,i,e)}function Pme(t,i,e){t.removeChild(null,i,e)}function kme(t,i,e){t.setAttribute(i,"style",e)}function wme(t,i,e){e===""?t.removeAttribute(i,"class"):t.setAttribute(i,"class",e)}function nW(t,i,e){let{mergedAttrs:n,classes:r,styles:o}=e;n!==null&&ape(t,i,n),r!==null&&wme(t,i,r),o!==null&&kme(t,i,o)}function D5(t,i,e,n,r,o,s,c,v,b,x){let k=Rs+n,O=k+r,w=Dme(k,O),M=typeof b=="function"?b():b;return w[yr]={type:t,blueprint:w,template:e,queries:null,viewQuery:c,declTNode:i,data:w.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:v,consts:M,incompleteFirstPass:!1,ssrId:x}}function Dme(t,i){let e=[];for(let n=0;n<i;n++)e.push(n<t?null:rl);return e}function Ome(t){let i=t.tView;return i===null||i.incompleteFirstPass?t.tView=D5(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function O5(t,i,e,n,r,o,s,c,v,b,x){let k=i.blueprint.slice();return k[o0]=r,k[lr]=n|4|128|8|64|1024,(b!==null||t&&t[lr]&2048)&&(k[lr]|=2048),JK(k),k[vc]=k[VE]=t,k[il]=e,k[t0]=s||t&&t[t0],k[us]=c||t&&t[us],k[yC]=v||t&&t[yC]||null,k[Rd]=o,k[bD]=Dpe(),k[NE]=x,k[VK]=b,k[Tu]=i.type==2?t[Tu]:k,k}function Nme(t,i,e){let n=$f(i,t),r=Ome(e),o=t[t0].rendererFactory,s=N5(t,O5(t,r,null,iW(e),n,i,null,o.createRenderer(n,e),null,null,null));return t[i.index]=s}function iW(t){let i=16;return t.signals?i=4096:t.onPush&&(i=64),i}function rW(t,i,e,n){if(e===0)return-1;let r=i.length;for(let o=0;o<e;o++)i.push(n),t.blueprint.push(n),t.data.push(null);return r}function N5(t,i){return t[dx]?t[DG][Sm]=i:t[dx]=i,t[DG]=i,i}function d(t=1){oW(ps(),Di(),xm()+t,!1)}function oW(t,i,e,n){if(!n)if((i[lr]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fw(i,o,e)}else{let o=t.preOrderHooks;o!==null&&Lw(i,o,0,e)}SC(e)}var RD=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(RD||{});function yB(t,i,e,n){let r=kr(null);try{let[o,s,c]=t.inputs[e],v=null;(s&RD.SignalBased)!==0&&(v=i[o][Ad]),v!==null&&v.transformFn!==void 0?n=v.transformFn(n):c!==null&&(n=c.call(i,n)),t.setInput!==null?t.setInput(i,v,n,e,o):GK(i,v,o,n)}finally{kr(r)}}function aW(t,i,e,n,r){let o=xm(),s=n&2;try{SC(-1),s&&i.length>Rs&&oW(t,i,Rs,!1),fa(s?2:0,r),e(n,r)}finally{SC(o),fa(s?3:1,r)}}function MD(t,i,e){Ume(t,i,e),(e.flags&64)===64&&$me(t,i,e)}function R5(t,i,e=$f){let n=i.localNames;if(n!==null){let r=i.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],c=s===-1?e(i,t):t[s];t[r++]=c}}}function Rme(t,i,e,n){let o=n.get(Lpe,Mq)||e===Lf.ShadowDom,s=t.selectRootElement(i,o);return Mme(s),s}function Mme(t){Fme(t)}var Fme=()=>null;function Lme(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function M5(t,i,e,n,r,o,s,c){if(!c&&L5(i,t,e,n,r)){jE(i)&&Bme(e,i.index);return}if(i.type&3){let v=$f(i,e);n=Lme(n),r=s!=null?s(r,i.value||"",n):r,o.setProperty(v,n,r)}else i.type&12}function Bme(t,i){let e=Ff(i,t);e[lr]&16||(e[lr]|=64)}function Ume(t,i,e){let n=e.directiveStart,r=e.directiveEnd;jE(e)&&Nme(i,e,t.data[n+e.componentOffset]),t.firstCreatePass||Qw(e,i);let o=e.initialInputs;for(let s=n;s<r;s++){let c=t.data[s],v=ux(i,t,s,e);if(zE(v,i),o!==null&&Gme(i,s-n,v,c,e,o),Rf(c)){let b=Ff(e.index,i);b[il]=ux(i,t,s,e)}}}function $me(t,i,e){let n=e.directiveStart,r=e.directiveEnd,o=e.index,s=Jue();try{SC(o);for(let c=n;c<r;c++){let v=t.data[c],b=i[c];tB(c),(v.hostBindings!==null||v.hostVars!==0||v.hostAttrs!==null)&&Hme(v,b)}}finally{SC(-1),tB(s)}}function Hme(t,i){t.hostBindings!==null&&t.hostBindings(1,i)}function F5(t,i){let e=t.directiveRegistry,n=null;if(e)for(let r=0;r<e.length;r++){let o=e[r];Zq(i,o.selectors,!1)&&(n??=[],Rf(o)?n.unshift(o):n.push(o))}return n}function Vme(t,i,e,n,r,o){let s=$f(t,i);jme(i[us],s,o,t.value,e,n,r)}function jme(t,i,e,n,r,o,s){if(o==null)t.removeAttribute(i,r,e);else{let c=s==null?Eu(o):s(o,n||"",r);t.setAttribute(i,r,c,e)}}function Gme(t,i,e,n,r,o){let s=o[i];if(s!==null)for(let c=0;c<s.length;c+=2){let v=s[c],b=s[c+1];yB(n,e,v,b)}}function Kme(t,i){let e=t[yC],n=e?e.get(Cl,null):null;n&&n.handleError(i)}function L5(t,i,e,n,r){let o=t.inputs?.[n],s=t.hostDirectiveInputs?.[n],c=!1;if(s)for(let v=0;v<s.length;v+=2){let b=s[v],x=s[v+1],k=i.data[b];yB(k,e[b],x,r),c=!0}if(o)for(let v of o){let b=e[v],x=i.data[v];yB(x,b,n,r),c=!0}return c}function qme(t,i){let e=Ff(i,t),n=e[yr];Wme(n,e);let r=e[o0];r!==null&&e[NE]===null&&(e[NE]=Lq(r,e[yC])),fa(18),B5(n,e,e[il]),fa(19,e[il])}function Wme(t,i){for(let e=i.length;e<t.blueprint.length;e++)i.push(t.blueprint[e])}function B5(t,i,e){h5(i);try{let n=t.viewQuery;n!==null&&uB(1,n,e);let r=t.template;r!==null&&aW(t,i,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),i[n0]?.finishViewCreation(t),t.staticContentQueries&&Bq(t,i),t.staticViewQueries&&uB(2,t.viewQuery,e);let o=t.components;o!==null&&zme(i,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{i[lr]&=-5,g5()}}function zme(t,i){for(let e=0;e<i.length;e++)qme(t,i[e])}function Sx(t,i,e,n){let r=kr(null);try{let o=i.tView,c=t[lr]&4096?4096:16,v=O5(t,o,e,c,null,i,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),b=t[i.index];v[EC]=b;let x=t[n0];return x!==null&&(v[n0]=x.createEmbeddedView(o)),B5(o,v,e),v}finally{kr(r)}}function FE(t,i){return!i||i.firstChild===null||Aq(t)}var Yme;function U5(t,i){return Yme(t,i)}var Bf=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bf||{});function $5(t){return(t.flags&32)===32}function PE(t,i,e,n,r){if(n!=null){let o,s=!1;a0(n)?o=n:Jg(n)&&(s=!0,n=n[o0]);let c=Mf(n);t===0&&e!==null?r==null?tW(i,e,c):iD(i,e,c,r||null,!0):t===1&&e!==null?iD(i,e,c,r||null,!0):t===2?Pme(i,c,s):t===3&&i.destroyNode(c),o!=null&&ofe(i,t,o,e,r)}}function Jme(t,i){sW(t,i),i[o0]=null,i[Rd]=null}function Xme(t,i,e,n,r,o){n[o0]=r,n[Rd]=i,BD(t,n,e,1,r,o)}function sW(t,i){i[t0].changeDetectionScheduler?.notify(9),BD(t,i,i[us],2,null,null)}function Qme(t){let i=t[dx];if(!i)return F4(t[yr],t);for(;i;){let e=null;if(Jg(i))e=i[dx];else{let n=i[hc];n&&(e=n)}if(!e){for(;i&&!i[Sm]&&i!==t;)Jg(i)&&F4(i[yr],i),i=i[vc];i===null&&(i=t),Jg(i)&&F4(i[yr],i),e=i&&i[Sm]}i=e}}function H5(t,i){let e=t[RE],n=e.indexOf(i);e.splice(n,1)}function FD(t,i){if(GE(i))return;let e=i[us];e.destroyNode&&BD(t,i,e,3,null,null),Qme(i)}function F4(t,i){if(GE(i))return;let e=kr(null);try{i[lr]&=-129,i[lr]|=256,i[vp]&&YS(i[vp]),efe(t,i),Zme(t,i),i[yr].type===1&&i[us].destroy();let n=i[EC];if(n!==null&&a0(i[vc])){n!==i[vc]&&H5(n,i);let r=i[n0];r!==null&&r.detachView(t)}lB(i)}finally{kr(e)}}function Zme(t,i){let e=t.cleanup,n=i[Kw];if(e!==null)for(let s=0;s<e.length-1;s+=2)if(typeof e[s]=="string"){let c=e[s+3];c>=0?n[c]():n[-c].unsubscribe(),s+=2}else{let c=n[e[s+1]];e[s].call(c)}n!==null&&(i[Kw]=null);let r=i[Yg];if(r!==null){i[Yg]=null;for(let s=0;s<r.length;s++){let c=r[s];c()}}let o=i[TC];if(o!==null){i[TC]=null;for(let s of o)s.destroy()}}function efe(t,i){let e;if(t!=null&&(e=t.destroyHooks)!=null)for(let n=0;n<e.length;n+=2){let r=i[e[n]];if(!(r instanceof xC)){let o=e[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=r[o[s]],v=o[s+1];fa(4,c,v);try{v.call(c)}finally{fa(5,c,v)}}else{fa(4,r,o);try{o.call(r)}finally{fa(5,r,o)}}}}}function lW(t,i,e){return tfe(t,i.parent,e)}function tfe(t,i,e){let n=i;for(;n!==null&&n.type&168;)i=n,n=i.parent;if(n===null)return e[o0];if(jE(n)){let{encapsulation:r}=t.data[n.directiveStart+n.componentOffset];if(r===Lf.None||r===Lf.Emulated)return null}return $f(n,e)}function cW(t,i,e){return ife(t,i,e)}function nfe(t,i,e){return t.type&40?$f(t,e):null}var ife=nfe,XG;function LD(t,i,e,n){let r=lW(t,n,i),o=i[us],s=n.parent||i[Rd],c=cW(s,n,i);if(r!=null)if(Array.isArray(e))for(let v=0;v<e.length;v++)JG(o,r,e[v],c,!1);else JG(o,r,e,c,!1);XG!==void 0&&XG(o,n,i,e,r)}function ax(t,i){if(i!==null){let e=i.type;if(e&3)return $f(i,t);if(e&4)return EB(-1,t[i.index]);if(e&8){let n=i.child;if(n!==null)return ax(t,n);{let r=t[i.index];return a0(r)?EB(-1,r):Mf(r)}}else{if(e&128)return ax(t,i.next);if(e&32)return U5(i,t)()||Mf(t[i.index]);{let n=dW(t,i);if(n!==null){if(Array.isArray(n))return n[0];let r=IC(t[Tu]);return ax(r,n)}else return ax(t,i.next)}}}return null}function dW(t,i){if(i!==null){let n=t[Tu][Rd],r=i.projection;return n.projection[r]}return null}function EB(t,i){let e=hc+t+1;if(e<i.length){let n=i[e],r=n[yr].firstChild;if(r!==null)return ax(n,r)}return i[bC]}function V5(t,i,e,n,r,o,s){for(;e!=null;){if(e.type===128){e=e.next;continue}let c=n[e.index],v=e.type;if(s&&i===0&&(c&&zE(Mf(c),n),e.flags|=2),!$5(e))if(v&8)V5(t,i,e.child,n,r,o,!1),PE(i,t,r,c,o);else if(v&32){let b=U5(e,n),x;for(;x=b();)PE(i,t,r,x,o);PE(i,t,r,c,o)}else v&16?uW(t,i,n,e,r,o):PE(i,t,r,c,o);e=s?e.projectionNext:e.next}}function BD(t,i,e,n,r,o){V5(e,n,t.firstChild,i,r,o,!1)}function rfe(t,i,e){let n=i[us],r=lW(t,e,i),o=e.parent||i[Rd],s=cW(o,e,i);uW(n,0,i,e,r,s)}function uW(t,i,e,n,r,o){let s=e[Tu],v=s[Rd].projection[n.projection];if(Array.isArray(v))for(let b=0;b<v.length;b++){let x=v[b];PE(i,t,r,x,o)}else{let b=v,x=s[vc];Aq(n)&&(b.flags|=128),V5(t,i,b,x,r,o,!0)}}function ofe(t,i,e,n,r){let o=e[bC],s=Mf(e);o!==s&&PE(i,t,n,o,r);for(let c=hc;c<e.length;c++){let v=e[c];BD(v[yr],v,t,i,n,o)}}function afe(t,i,e,n,r){if(i)r?t.addClass(e,n):t.removeClass(e,n);else{let o=n.indexOf("-")===-1?void 0:Bf.DashCase;r==null?t.removeStyle(e,n,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bf.Important),t.setStyle(e,n,r,o))}}function rD(t,i,e,n,r=!1){for(;e!==null;){if(e.type===128){e=r?e.projectionNext:e.next;continue}let o=i[e.index];o!==null&&n.push(Mf(o)),a0(o)&&sfe(o,n);let s=e.type;if(s&8)rD(t,i,e.child,n);else if(s&32){let c=U5(e,i),v;for(;v=c();)n.push(v)}else if(s&16){let c=dW(i,e);if(Array.isArray(c))n.push(...c);else{let v=IC(i[Tu]);rD(v[yr],v,c,n,!0)}}e=r?e.projectionNext:e.next}return n}function sfe(t,i){for(let e=hc;e<t.length;e++){let n=t[e],r=n[yr].firstChild;r!==null&&rD(n[yr],n,r,i)}t[bC]!==t[o0]&&i.push(t[bC])}function pW(t){if(t[kE]!==null){for(let i of t[kE])i.impl.addSequence(i);t[kE].length=0}}var mW=[];function lfe(t){return t[vp]??cfe(t)}function cfe(t){let i=mW.pop()??Object.create(ufe);return i.lView=t,i}function dfe(t){t.lView[vp]!==t&&(t.lView=null,mW.push(t))}var ufe=Mn(at({},mE),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{KE(t.lView)},consumerOnSignalRead(){this.lView[vp]=this}});function pfe(t){let i=t[vp]??Object.create(mfe);return i.lView=t,i}var mfe=Mn(at({},mE),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let i=IC(t.lView);for(;i&&!fW(i[yr]);)i=IC(i);i&&XK(i)},consumerOnSignalRead(){this.lView[vp]=this}});function fW(t){return t.type!==2}function hW(t){if(t[TC]===null)return;let i=!0;for(;i;){let e=!1;for(let n of t[TC])n.dirty&&(e=!0,n.zone===null||Zone.current===n.zone?n.run():n.zone.run(()=>n.run()));i=e&&!!(t[lr]&8192)}}var ffe=100;function gW(t,i=!0,e=0){let r=t[t0].rendererFactory,o=!1;o||r.begin?.();try{hfe(t,e)}catch(s){throw i&&Kme(t,s),s}finally{o||r.end?.()}}function hfe(t,i){let e=tq();try{zw(!0),TB(t,i);let n=0;for(;xD(t);){if(n===ffe)throw new Lt(103,!1);n++,TB(t,1)}}finally{zw(e)}}function gfe(t,i,e,n){if(GE(i))return;let r=i[lr],o=!1,s=!1;h5(i);let c=!0,v=null,b=null;o||(fW(t)?(b=lfe(i),v=zS(b)):r4()===null?(c=!1,b=pfe(i),v=zS(b)):i[vp]&&(YS(i[vp]),i[vp]=null));try{JK(i),Wue(t.bindingStartIndex),e!==null&&aW(t,i,e,2,n);let x=(r&3)===3;if(!o)if(x){let w=t.preOrderCheckHooks;w!==null&&Fw(i,w,null)}else{let w=t.preOrderHooks;w!==null&&Lw(i,w,0,null),R4(i,0)}if(s||vfe(i),hW(i),vW(i,0),t.contentQueries!==null&&Bq(t,i),!o)if(x){let w=t.contentCheckHooks;w!==null&&Fw(i,w)}else{let w=t.contentHooks;w!==null&&Lw(i,w,1),R4(i,1)}Cfe(t,i);let k=t.components;k!==null&&CW(i,k,0);let O=t.viewQuery;if(O!==null&&uB(2,O,n),!o)if(x){let w=t.viewCheckHooks;w!==null&&Fw(i,w)}else{let w=t.viewHooks;w!==null&&Lw(i,w,2),R4(i,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),i[N4]){for(let w of i[N4])w();i[N4]=null}o||(pW(i),i[lr]&=-73)}catch(x){throw o||KE(i),x}finally{b!==null&&(zk(b,v),c&&dfe(b)),g5()}}function vW(t,i){for(let e=wq(t);e!==null;e=Dq(e))for(let n=hc;n<e.length;n++){let r=e[n];_W(r,i)}}function vfe(t){for(let i=wq(t);i!==null;i=Dq(i)){if(!(i[lr]&2))continue;let e=i[RE];for(let n=0;n<e.length;n++){let r=e[n];XK(r)}}}function _fe(t,i,e){fa(18);let n=Ff(i,t);_W(n,e),fa(19,n[il])}function _W(t,i){s5(t)&&TB(t,i)}function TB(t,i){let n=t[yr],r=t[lr],o=t[vp],s=!!(i===0&&r&16);if(s||=!!(r&64&&i===0),s||=!!(r&1024),s||=!!(o?.dirty&&Yk(o)),s||=!1,o&&(o.dirty=!1),t[lr]&=-9217,s)gfe(n,t,n.template,t[il]);else if(r&8192){hW(t),vW(t,1);let c=n.components;c!==null&&CW(t,c,1),pW(t)}}function CW(t,i,e){for(let n=0;n<i.length;n++)_fe(t,i[n],e)}function Cfe(t,i){let e=t.hostBindingOpCodes;if(e!==null)try{for(let n=0;n<e.length;n++){let r=e[n];if(r<0)SC(~r);else{let o=r,s=e[++n],c=e[++n];Yue(s,o);let v=i[o];fa(24,v),c(2,v),fa(25,v)}}}finally{SC(-1)}}function j5(t,i){let e=tq()?64:1088;for(t[t0].changeDetectionScheduler?.notify(i);t;){t[lr]|=e;let n=IC(t);if(Ww(t)&&!n)return t;t=n}return null}function yW(t,i,e,n){return[t,!0,0,i,null,n,null,e,null,null]}function EW(t,i){let e=hc+i;if(e<t.length)return t[e]}function xx(t,i,e,n=!0){let r=i[yr];if(yfe(r,i,t,e),n){let s=EB(e,t),c=i[us],v=c.parentNode(t[bC]);v!==null&&Xme(r,t[Rd],c,i,v,s)}let o=i[NE];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function TW(t,i){let e=mx(t,i);return e!==void 0&&FD(e[yr],e),e}function mx(t,i){if(t.length<=hc)return;let e=hc+i,n=t[e];if(n){let r=n[EC];r!==null&&r!==t&&H5(r,n),i>0&&(t[e-1][Sm]=n[Sm]);let o=jw(t,hc+i);Jme(n[yr],n);let s=o[n0];s!==null&&s.detachView(o[yr]),n[vc]=null,n[Sm]=null,n[lr]&=-129}return n}function yfe(t,i,e,n){let r=hc+n,o=e.length;n>0&&(e[r-1][Sm]=i),n<o-hc?(i[Sm]=e[r],NK(e,hc+n,i)):(e.push(i),i[Sm]=null),i[vc]=e;let s=i[EC];s!==null&&e!==s&&bW(s,i);let c=i[n0];c!==null&&c.insertView(t),Z4(i),i[lr]|=128}function bW(t,i){let e=t[RE],n=i[vc];if(Jg(n))t[lr]|=2;else{let r=n[vc][Tu];i[Tu]!==r&&(t[lr]|=2)}e===null?t[RE]=[i]:e.push(i)}var fx=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let i=this._lView,e=i[yr];return rD(e,i,e.firstChild,[])}constructor(i,e,n=!0){this._lView=i,this._cdRefInjectingView=e,this.notifyErrorHandler=n}get context(){return this._lView[il]}set context(i){this._lView[il]=i}get destroyed(){return GE(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let i=this._lView[vc];if(a0(i)){let e=i[qw],n=e?e.indexOf(this):-1;n>-1&&(mx(i,n),jw(e,n))}this._attachedToViewContainer=!1}FD(this._lView[yr],this._lView)}onDestroy(i){QK(this._lView,i)}markForCheck(){j5(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[lr]&=-129}reattach(){Z4(this._lView),this._lView[lr]|=128}detectChanges(){this._lView[lr]|=1024,gW(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Lt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let i=Ww(this._lView),e=this._lView[EC];e!==null&&!i&&H5(e,this._lView),sW(this._lView[yr],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Lt(902,!1);this._appRef=i;let e=Ww(this._lView),n=this._lView[EC];n!==null&&!e&&bW(n,this._lView),Z4(this._lView)}};var Dd=(()=>{class t{static __NG_ELEMENT_ID__=bfe}return t})(),Efe=Dd,Tfe=class extends Efe{_declarationLView;_declarationTContainer;elementRef;constructor(i,e,n){super(),this._declarationLView=i,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,e){return this.createEmbeddedViewImpl(i,e)}createEmbeddedViewImpl(i,e,n){let r=Sx(this._declarationLView,this._declarationTContainer,i,{embeddedViewInjector:e,dehydratedView:n});return new fx(r)}};function bfe(){return UD(Md(),Di())}function UD(t,i){return t.type&4?new Tfe(i,t,WE(t,i)):null}function Ax(t,i,e,n,r){let o=t.data[i];if(o===null)o=Ife(t,i,e,n,r),zue()&&(o.flags|=32);else if(o.type&64){o.type=e,o.value=n,o.attrs=r;let s=Kue();o.injectorIndex=s===null?-1:s.injectorIndex}return wC(o,!0),o}function Ife(t,i,e,n,r){let o=eq(),s=u5(),c=s?o:o&&o.parent,v=t.data[i]=xfe(t,c,e,i,n,r);return Sfe(t,v,o,s),v}function Sfe(t,i,e,n){t.firstChild===null&&(t.firstChild=i),e!==null&&(n?e.child==null&&i.parent!==null&&(e.child=i):e.next===null&&(e.next=i,i.prev=e))}function xfe(t,i,e,n,r,o){let s=i?i.injectorIndex:-1,c=0;return ZK()&&(c|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var cYe=new RegExp(`^(\\d+)*(${Fpe}|${Mpe})*(.*)`);var Afe=()=>null;function LE(t,i){return Afe(t,i)}var Pfe=class{},IW=class{},bB=class{resolveComponentFactory(i){throw Error(`No component factory found for ${wd(i)}.`)}},$D=class{static NULL=new bB},Uf=class{},Er=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>kfe()}return t})();function kfe(){let t=Di(),i=Md(),e=Ff(i.index,t);return(Jg(e)?e:t)[us]}var wfe=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>null})}return t})();var L4={},IB=class{injector;parentInjector;constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,n){n=ED(n);let r=this.injector.get(i,L4,n);return r!==L4||e===L4?r:this.parentInjector.get(i,e,n)}};function SB(t,i,e){let n=e?t.styles:null,r=e?t.classes:null,o=0;if(i!==null)for(let s=0;s<i.length;s++){let c=i[s];if(typeof c=="number")o=c;else if(o==1)r=q4(r,c);else if(o==2){let v=c,b=i[++s];n=q4(n,v+": "+b+";")}}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=r:t.classesWithoutHost=r}function Et(t,i=Hr.Default){let e=Di();if(e===null)return yt(t,i);let n=Md();return gq(n,e,zc(t),i)}function JE(){let t="invalid";throw new Error(t)}function G5(t,i,e,n,r){let o=n===null?null:{"":-1},s=r(t,e);if(s!==null){let c,v=null,b=null,x=Ofe(s);x===null?c=s:[c,v,b]=x,Mfe(t,i,e,c,o,v,b)}o!==null&&n!==null&&Dfe(e,n,o)}function Dfe(t,i,e){let n=t.localNames=[];for(let r=0;r<i.length;r+=2){let o=e[i[r+1]];if(o==null)throw new Lt(-301,!1);n.push(i[r],o)}}function Ofe(t){let i=null,e=!1;for(let s=0;s<t.length;s++){let c=t[s];if(s===0&&Rf(c)&&(i=c),c.findHostDirectiveDefs!==null){e=!0;break}}if(!e)return null;let n=null,r=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(n??=[],r??=new Map,o??=new Map,Nfe(s,n,o,r)),s===i&&(n??=[],n.push(s));return n!==null?(n.push(...i===null?t:t.slice(1)),[n,r,o]):null}function Nfe(t,i,e,n){let r=i.length;t.findHostDirectiveDefs(t,i,n),e.set(t,[r,i.length-1])}function Rfe(t,i,e){i.componentOffset=e,(t.components??=[]).push(i.index)}function Mfe(t,i,e,n,r,o,s){let c=n.length,v=!1;for(let O=0;O<c;O++){let w=n[O];!v&&Rf(w)&&(v=!0,Rfe(t,e,O)),iB(Qw(e,i),t,w.type)}Hfe(e,t.data.length,c);for(let O=0;O<c;O++){let w=n[O];w.providersResolver&&w.providersResolver(w)}let b=!1,x=!1,k=rW(t,i,c,null);c>0&&(e.directiveToIndex=new Map);for(let O=0;O<c;O++){let w=n[O];if(e.mergedAttrs=ME(e.mergedAttrs,w.hostAttrs),Lfe(t,e,i,k,w),$fe(k,w,r),s!==null&&s.has(w)){let[F,L]=s.get(w);e.directiveToIndex.set(w.type,[k,F+e.directiveStart,L+e.directiveStart])}else(o===null||!o.has(w))&&e.directiveToIndex.set(w.type,k);w.contentQueries!==null&&(e.flags|=4),(w.hostBindings!==null||w.hostAttrs!==null||w.hostVars!==0)&&(e.flags|=64);let M=w.type.prototype;!b&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),b=!0),!x&&(M.ngOnChanges||M.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),x=!0),k++}Ffe(t,e,o)}function Ffe(t,i,e){for(let n=i.directiveStart;n<i.directiveEnd;n++){let r=t.data[n];if(e===null||!e.has(r))QG(0,i,r,n),QG(1,i,r,n),eK(i,n,!1);else{let o=e.get(r);ZG(0,i,o,n),ZG(1,i,o,n),eK(i,n,!0)}}}function QG(t,i,e,n){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;t===0?s=i.inputs??={}:s=i.outputs??={},s[o]??=[],s[o].push(n),SW(i,o)}}function ZG(t,i,e,n){let r=t===0?e.inputs:e.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],c;t===0?c=i.hostDirectiveInputs??={}:c=i.hostDirectiveOutputs??={},c[s]??=[],c[s].push(n,o),SW(i,s)}}function SW(t,i){i==="class"?t.flags|=8:i==="style"&&(t.flags|=16)}function eK(t,i,e){let{attrs:n,inputs:r,hostDirectiveInputs:o}=t;if(n===null||!e&&r===null||e&&o===null||w5(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,c=0;for(;c<n.length;){let v=n[c];if(v===0){c+=4;continue}else if(v===5){c+=2;continue}else if(typeof v=="number")break;if(!e&&r.hasOwnProperty(v)){let b=r[v];for(let x of b)if(x===i){s??=[],s.push(v,n[c+1]);break}}else if(e&&o.hasOwnProperty(v)){let b=o[v];for(let x=0;x<b.length;x+=2)if(b[x]===i){s??=[],s.push(b[x+1],n[c+1]);break}}c+=2}t.initialInputs??=[],t.initialInputs.push(s)}function Lfe(t,i,e,n,r){t.data[n]=r;let o=r.factory||(r.factory=vC(r.type,!0)),s=new xC(o,Rf(r),Et);t.blueprint[n]=s,e[n]=s,Bfe(t,i,n,rW(t,e,r.hostVars,rl),r)}function Bfe(t,i,e,n,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~i.index;Ufe(s)!=c&&s.push(c),s.push(e,n,o)}}function Ufe(t){let i=t.length;for(;i>0;){let e=t[--i];if(typeof e=="number"&&e<0)return e}return 0}function $fe(t,i,e){if(e){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)e[i.exportAs[n]]=t;Rf(i)&&(e[""]=t)}}function Hfe(t,i,e){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+e,t.providerIndexes=i}function xW(t,i,e,n,r,o,s,c){let v=i.consts,b=Qg(v,s),x=Ax(i,t,2,n,b);return o&&G5(i,e,x,Qg(v,c),r),x.mergedAttrs=ME(x.mergedAttrs,x.attrs),x.attrs!==null&&SB(x,x.attrs,!1),x.mergedAttrs!==null&&SB(x,x.mergedAttrs,!0),i.queries!==null&&i.queries.elementStart(i,x),x}function AW(t,i){v5(t,i),o5(i)&&t.queries.elementEnd(i)}var oD=class extends $D{ngModule;constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){let e=CC(i);return new BE(e,this.ngModule)}};function Vfe(t){return Object.keys(t).map(i=>{let[e,n,r]=t[i],o={propName:e,templateName:i,isSignal:(n&RD.SignalBased)!==0};return r&&(o.transform=r),o})}function jfe(t){return Object.keys(t).map(i=>({propName:t[i],templateName:i}))}function Gfe(t,i,e){let n=i instanceof gc?i:i?.injector;return n&&t.getStandaloneInjector!==null&&(n=t.getStandaloneInjector(n)||n),n?new IB(e,n):e}function Kfe(t){let i=t.get(Uf,null);if(i===null)throw new Lt(407,!1);let e=t.get(wfe,null),n=t.get(AC,null);return{rendererFactory:i,sanitizer:e,changeDetectionScheduler:n}}function qfe(t,i){let e=(t.selectors[0][0]||"div").toLowerCase();return eW(i,e,e==="svg"?zK:e==="math"?Rue:null)}var BE=class extends IW{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Vfe(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=jfe(this.componentDef.outputs),this.cachedOutputs}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=bme(i.selectors),this.ngContentSelectors=i.ngContentSelectors??[],this.isBoundToModule=!!e}create(i,e,n,r){fa(22);let o=kr(null);try{let s=this.componentDef,c=n?["ng-version","19.2.9"]:Ime(this.componentDef.selectors[0]),v=D5(0,null,null,1,0,null,null,null,null,[c],null),b=Gfe(s,r||this.ngModule,i),x=Kfe(b),k=x.rendererFactory.createRenderer(null,s),O=n?Rme(k,n,s.encapsulation,b):qfe(s,k),w=O5(null,v,null,512|iW(s),null,null,x,k,b,null,Lq(O,b,!0));w[Rs]=O,h5(w);let M=null;try{let F=xW(Rs,v,w,"#host",()=>[this.componentDef],!0,0);O&&(nW(k,O,F),zE(O,w)),MD(v,w,F),k5(v,F,w),AW(v,F),e!==void 0&&Wfe(F,this.ngContentSelectors,e),M=Ff(F.index,w),w[il]=M[il],B5(v,w,null)}catch(F){throw M!==null&&lB(M),lB(w),F}finally{fa(23),g5()}return new xB(this.componentType,w)}finally{kr(o)}}},xB=class extends Pfe{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(i,e){super(),this._rootLView=e,this._tNode=a5(e[yr],Rs),this.location=WE(this._tNode,e),this.instance=Ff(this._tNode.index,e)[il],this.hostView=this.changeDetectorRef=new fx(e,void 0,!1),this.componentType=i}setInput(i,e){let n=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),e))return;let r=this._rootLView,o=L5(n,r[yr],r,i,e);this.previousInputValues.set(i,e);let s=Ff(n.index,r);j5(s,1)}get injector(){return new gC(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}};function Wfe(t,i,e){let n=t.projection=[];for(let r=0;r<i.length;r++){let o=e[r];n.push(o!=null&&o.length?Array.from(o):null)}}var $l=(()=>{class t{static __NG_ELEMENT_ID__=zfe}return t})();function zfe(){let t=Md();return kW(t,Di())}var Yfe=$l,PW=class extends Yfe{_lContainer;_hostTNode;_hostLView;constructor(i,e,n){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=n}get element(){return WE(this._hostTNode,this._hostLView)}get injector(){return new gC(this._hostTNode,this._hostLView)}get parentInjector(){let i=_5(this._hostTNode,this._hostLView);if(dq(i)){let e=Jw(i,this._hostLView),n=Yw(i),r=e[yr].data[n+8];return new gC(r,e)}else return new gC(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){let e=tK(this._lContainer);return e!==null&&e[i]||null}get length(){return this._lContainer.length-hc}createEmbeddedView(i,e,n){let r,o;typeof n=="number"?r=n:n!=null&&(r=n.index,o=n.injector);let s=LE(this._lContainer,i.ssrId),c=i.createEmbeddedViewImpl(e||{},o,s);return this.insertImpl(c,r,FE(this._hostTNode,s)),c}createComponent(i,e,n,r,o){let s=i&&!wue(i),c;if(s)c=e;else{let M=e||{};c=M.index,n=M.injector,r=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let v=s?i:new BE(CC(i)),b=n||this.parentInjector;if(!o&&v.ngModule==null){let F=(s?b:this.parentInjector).get(gc,null);F&&(o=F)}let x=CC(v.componentType??{}),k=LE(this._lContainer,x?.id??null),O=k?.firstChild??null,w=v.create(b,r,O,o);return this.insertImpl(w.hostView,c,FE(this._hostTNode,k)),w}insert(i,e){return this.insertImpl(i,e,!0)}insertImpl(i,e,n){let r=i._lView;if(Fue(r)){let c=this.indexOf(i);if(c!==-1)this.detach(c);else{let v=r[vc],b=new PW(v,v[Rd],v[vc]);b.detach(b.indexOf(i))}}let o=this._adjustIndex(e),s=this._lContainer;return xx(s,r,o,n),i.attachToViewContainerRef(),NK(B4(s),o,i),i}move(i,e){return this.insert(i,e)}indexOf(i){let e=tK(this._lContainer);return e!==null?e.indexOf(i):-1}remove(i){let e=this._adjustIndex(i,-1),n=mx(this._lContainer,e);n&&(jw(B4(this._lContainer),e),FD(n[yr],n))}detach(i){let e=this._adjustIndex(i,-1),n=mx(this._lContainer,e);return n&&jw(B4(this._lContainer),e)!=null?new fx(n):null}_adjustIndex(i,e=0){return i??this.length+e}};function tK(t){return t[qw]}function B4(t){return t[qw]||(t[qw]=[])}function kW(t,i){let e,n=i[t.index];return a0(n)?e=n:(e=yW(n,i,null,t),i[t.index]=e,N5(i,e)),Xfe(e,i,t,n),new PW(e,t,i)}function Jfe(t,i){let e=t[us],n=e.createComment(""),r=$f(i,t),o=e.parentNode(r);return iD(e,o,n,e.nextSibling(r),!1),n}var Xfe=ehe,Qfe=()=>!1;function Zfe(t,i,e){return Qfe(t,i,e)}function ehe(t,i,e,n){if(t[bC])return;let r;e.type&8?r=Mf(n):r=Jfe(i,e),t[bC]=r}var AB=class t{queryList;matches=null;constructor(i){this.queryList=i}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},PB=class t{queries;constructor(i=[]){this.queries=i}createEmbeddedView(i){let e=i.queries;if(e!==null){let n=i.contentQueries!==null?i.contentQueries[0]:e.length,r=[];for(let o=0;o<n;o++){let s=e.getByIndex(o),c=this.queries[s.indexInDeclarationView];r.push(c.clone())}return new t(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}finishViewCreation(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)q5(i,e).matches!==null&&this.queries[e].setDirty()}},aD=class{flags;read;predicate;constructor(i,e,n=null){this.flags=e,this.read=n,typeof i=="string"?this.predicate=ahe(i):this.predicate=i}},kB=class t{queries;constructor(i=[]){this.queries=i}elementStart(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let n=0;n<this.length;n++){let r=e!==null?e.length:0,o=this.getByIndex(n).embeddedTView(i,r);o&&(o.indexInDeclarationView=n,e!==null?e.push(o):e=[o])}return e!==null?new t(e):null}template(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}},wB=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(i,e=-1){this.metadata=i,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new t(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let e=this._declarationNodeIndex,n=i.parent;for(;n!==null&&n.type&8&&n.index!==e;)n=n.parent;return e===(n!==null?n.index:-1)}return this._appliesToNextNode}matchTNode(i,e){let n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){let o=n[r];this.matchTNodeWithReadOption(i,e,the(e,o)),this.matchTNodeWithReadOption(i,e,Bw(e,i,o,!1,!1))}else n===Dd?e.type&4&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,Bw(e,i,n,!1,!1))}matchTNodeWithReadOption(i,e,n){if(n!==null){let r=this.metadata.read;if(r!==null)if(r===ii||r===$l||r===Dd&&e.type&4)this.addMatch(e.index,-2);else{let o=Bw(e,i,r,!1,!1);o!==null&&this.addMatch(e.index,o)}else this.addMatch(e.index,n)}}addMatch(i,e){this.matches===null?this.matches=[i,e]:this.matches.push(i,e)}};function the(t,i){let e=t.localNames;if(e!==null){for(let n=0;n<e.length;n+=2)if(e[n]===i)return e[n+1]}return null}function nhe(t,i){return t.type&11?WE(t,i):t.type&4?UD(t,i):null}function ihe(t,i,e,n){return e===-1?nhe(i,t):e===-2?rhe(t,i,n):ux(t,t[yr],e,i)}function rhe(t,i,e){if(e===ii)return WE(i,t);if(e===Dd)return UD(i,t);if(e===$l)return kW(i,t)}function wW(t,i,e,n){let r=i[n0].queries[n];if(r.matches===null){let o=t.data,s=e.matches,c=[];for(let v=0;s!==null&&v<s.length;v+=2){let b=s[v];if(b<0)c.push(null);else{let x=o[b];c.push(ihe(i,x,s[v+1],e.metadata.read))}}r.matches=c}return r.matches}function DB(t,i,e,n){let r=t.queries.getByIndex(e),o=r.matches;if(o!==null){let s=wW(t,i,r,e);for(let c=0;c<o.length;c+=2){let v=o[c];if(v>0)n.push(s[c/2]);else{let b=o[c+1],x=i[-v];for(let k=hc;k<x.length;k++){let O=x[k];O[EC]===O[vc]&&DB(O[yr],O,b,n)}if(x[RE]!==null){let k=x[RE];for(let O=0;O<k.length;O++){let w=k[O];DB(w[yr],w,b,n)}}}}}return n}function K5(t,i){return t[n0].queries[i].queryList}function DW(t,i,e){let n=new sB((e&4)===4);return Uue(t,i,n,n.destroy),(i[n0]??=new PB).queries.push(new AB(n))-1}function OW(t,i,e){let n=ps();return n.firstCreatePass&&(NW(n,new aD(t,i,e),-1),(i&2)===2&&(n.staticViewQueries=!0)),DW(n,Di(),i)}function ohe(t,i,e,n){let r=ps();if(r.firstCreatePass){let o=Md();NW(r,new aD(i,e,n),o.index),she(r,t),(e&2)===2&&(r.staticContentQueries=!0)}return DW(r,Di(),e)}function ahe(t){return t.split(",").map(i=>i.trim())}function NW(t,i,e){t.queries===null&&(t.queries=new kB),t.queries.track(new wB(i,e))}function she(t,i){let e=t.contentQueries||(t.contentQueries=[]),n=e.length?e[e.length-1]:-1;i!==n&&e.push(t.queries.length-1,i)}function q5(t,i){return t.queries.getByIndex(i)}function RW(t,i){let e=t[yr],n=q5(e,i);return n.crossesNgTemplate?DB(e,t,i,[]):wW(e,t,n,i)}function MW(t,i,e){let n,r=Qk(()=>{n._dirtyCounter();let o=uhe(n,t);if(i&&o===void 0)throw new Lt(-951,!1);return o});return n=r[Ad],n._dirtyCounter=nn(0),n._flatValue=void 0,r}function lhe(t){return MW(!0,!1,t)}function che(t){return MW(!0,!0,t)}function dhe(t,i){let e=t[Ad];e._lView=Di(),e._queryIndex=i,e._queryList=K5(e._lView,i),e._queryList.onDirty(()=>e._dirtyCounter.update(n=>n+1))}function uhe(t,i){let e=t._lView,n=t._queryIndex;if(e===void 0||n===void 0||e[lr]&4)return i?void 0:Yc;let r=K5(e,n),o=RW(e,n);return r.reset(o,Sq),i?r.first:r._changesDetected||t._flatValue===void 0?t._flatValue=r.toArray():t._flatValue}function nK(t,i){return lhe(i)}function phe(t,i){return che(i)}var u0=(nK.required=phe,nK);function FW(t,i){let e=Object.create(yK),n=new nD;e.value=t;function r(){return fE(e),iK(e.value),e.value}return r[Ad]=e,r.asReadonly=xq.bind(r),r.set=o=>{e.equal(e.value,o)||(hE(e,o),n.emit(o))},r.update=o=>{iK(e.value),r.set(o(e.value))},r.subscribe=n.subscribe.bind(n),r.destroyRef=n.destroyRef,r}function iK(t){if(t===CD)throw new Lt(952,!1)}function rK(t,i){return FW(t,i)}function mhe(t){return FW(CD,t)}var LW=(rK.required=mhe,rK);function fhe(t){let i=[],e=new Map;function n(r){let o=e.get(r);if(!o){let s=t(r);e.set(r,o=s.then(_he))}return o}return sD.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(n(r.templateUrl).then(b=>{r.template=b}));let c=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=c,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let b=r.styles.length,x=r.styleUrls;r.styleUrls.forEach((k,O)=>{c.push(""),s.push(n(k).then(w=>{c[b+O]=w,x.splice(x.indexOf(k),1),x.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(n(r.styleUrl).then(b=>{c.push(b),r.styleUrl=void 0}));let v=Promise.all(s).then(()=>Che(o));i.push(v)}),ghe(),Promise.all(i).then(()=>{})}var sD=new Map,hhe=new Set;function ghe(){let t=sD;return sD=new Map,t}function vhe(){return sD.size===0}function _he(t){return typeof t=="string"?t:t.text()}function Che(t){hhe.delete(t)}var UE=class{},W5=class{};var lD=class extends UE{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new oD(this);constructor(i,e,n,r=!0){super(),this.ngModuleType=i,this._parent=e;let o=FK(i);this._bootstrapComponents=Xq(o.bootstrap),this._r3Injector=Cq(i,e,[{provide:UE,useValue:this},{provide:$D,useValue:this.componentFactoryResolver},...n],wd(i),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}},cD=class extends W5{moduleType;constructor(i){super(),this.moduleType=i}create(i){return new lD(this.moduleType,i,[])}};function yhe(t,i,e){return new lD(t,i,e,!1)}var OB=class extends UE{injector;componentFactoryResolver=new oD(this);instance=null;constructor(i){super();let e=new cx([...i.providers,{provide:UE,useValue:this},{provide:$D,useValue:this.componentFactoryResolver}],i.parent||r5(),i.debugName,new Set(["environment"]));this.injector=e,i.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}};function Px(t,i,e=null){return new OB({providers:t,parent:i,debugName:e,runEnvironmentInitializers:!0}).injector}var Ehe=(()=>{class t{_injector;cachedInjectors=new Map;constructor(e){this._injector=e}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){let n=LK(!1,e.type),r=n.length>0?Px([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(let e of this.cachedInjectors.values())e!==null&&e.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=Ce({token:t,providedIn:"environment",factory:()=>new t(yt(gc))})}return t})();function ae(t){return vx(()=>{let i=BW(t),e=Mn(at({},i),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pq.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:i.standalone?r=>r.get(Ehe).getOrCreateStandaloneInjector(e):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Lf.Emulated,styles:t.styles||Yc,_:null,schemas:t.schemas||null,tView:null,id:""});i.standalone&&c0("NgStandalone"),UW(e);let n=t.dependencies;return e.directiveDefs=dD(n,!1),e.pipeDefs=dD(n,!0),e.id=xhe(e),e})}function The(t){return CC(t)||vue(t)}function bhe(t){return t!==null}function Qn(t){return vx(()=>({type:t.type,bootstrap:t.bootstrap||Yc,declarations:t.declarations||Yc,imports:t.imports||Yc,exports:t.exports||Yc,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ihe(t,i){if(t==null)return _C;let e={};for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],o,s,c,v;Array.isArray(r)?(c=r[0],o=r[1],s=r[2]??o,v=r[3]||null):(o=r,s=r,c=RD.None,v=null),e[o]=[n,c,v],i[o]=s}return e}function She(t){if(t==null)return _C;let i={};for(let e in t)t.hasOwnProperty(e)&&(i[t[e]]=e);return i}function kt(t){return vx(()=>{let i=BW(t);return UW(i),i})}function Sa(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function BW(t){let i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputConfig:t.inputs||_C,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Yc,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ihe(t.inputs,i),outputs:She(t.outputs),debugInfo:null}}function UW(t){t.features?.forEach(i=>i(t))}function dD(t,i){if(!t)return null;let e=i?_ue:The;return()=>(typeof t=="function"?t():t).map(n=>e(n)).filter(bhe)}function xhe(t){let i=0,e=typeof t.consts=="function"?"":t.consts,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,e,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of n.join("|"))i=Math.imul(31,i)+o.charCodeAt(0)<<0;return i+=2147483648,"c"+i}function Ahe(t){return Object.getPrototypeOf(t.prototype).constructor}function dt(t){let i=Ahe(t.type),e=!0,n=[t];for(;i;){let r;if(Rf(t))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Lt(903,!1);r=i.\u0275dir}if(r){if(e){n.push(r);let s=t;s.inputs=U4(t.inputs),s.declaredInputs=U4(t.declaredInputs),s.outputs=U4(t.outputs);let c=r.hostBindings;c&&Ohe(t,c);let v=r.viewQuery,b=r.contentQueries;if(v&&whe(t,v),b&&Dhe(t,b),Phe(t,r),Yde(t.outputs,r.outputs),Rf(r)&&r.data.animation){let x=t.data;x.animation=(x.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===dt&&(e=!1)}}i=Object.getPrototypeOf(i)}khe(n)}function Phe(t,i){for(let e in i.inputs){if(!i.inputs.hasOwnProperty(e)||t.inputs.hasOwnProperty(e))continue;let n=i.inputs[e];n!==void 0&&(t.inputs[e]=n,t.declaredInputs[e]=i.declaredInputs[e])}}function khe(t){let i=0,e=null;for(let n=t.length-1;n>=0;n--){let r=t[n];r.hostVars=i+=r.hostVars,r.hostAttrs=ME(r.hostAttrs,e=ME(e,r.hostAttrs))}}function U4(t){return t===_C?{}:t===Yc?[]:t}function whe(t,i){let e=t.viewQuery;e?t.viewQuery=(n,r)=>{i(n,r),e(n,r)}:t.viewQuery=i}function Dhe(t,i){let e=t.contentQueries;e?t.contentQueries=(n,r,o)=>{i(n,r,o),e(n,r,o)}:t.contentQueries=i}function Ohe(t,i){let e=t.hostBindings;e?t.hostBindings=(n,r)=>{i(n,r),e(n,r)}:t.hostBindings=i}function $W(t){return z5(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Nhe(t,i){if(Array.isArray(t))for(let e=0;e<t.length;e++)i(t[e]);else{let e=t[Symbol.iterator](),n;for(;!(n=e.next()).done;)i(n.value)}}function z5(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function XE(t,i,e){return t[i]=e}function HW(t,i){return t[i]}function _p(t,i,e){let n=t[i];return Object.is(n,e)?!1:(t[i]=e,!0)}function hx(t,i,e,n){let r=_p(t,i,e);return _p(t,i+1,n)||r}function VW(t,i,e,n,r){let o=hx(t,i,e,n);return _p(t,i+2,r)||o}function Y5(t,i,e,n,r,o){let s=hx(t,i,e,n);return hx(t,i+2,r,o)||s}function Rhe(t,i,e,n,r,o,s,c,v){let b=i.consts,x=Ax(i,t,4,s||null,c||null);d5()&&G5(i,e,x,Qg(b,v),F5),x.mergedAttrs=ME(x.mergedAttrs,x.attrs),v5(i,x);let k=x.tView=D5(2,x,n,r,o,i.directiveRegistry,i.pipeRegistry,null,i.schemas,b,null);return i.queries!==null&&(i.queries.template(i,x),k.queries=i.queries.embeddedTView(x)),x}function uD(t,i,e,n,r,o,s,c,v,b){let x=e+Rs,k=i.firstCreatePass?Rhe(x,i,t,n,r,o,s,c,v):i.data[x];wC(k,!1);let O=Mhe(i,t,k,e);kD()&&LD(i,t,O,k),zE(O,t);let w=yW(O,t,O,k);return t[x]=w,N5(t,w),Zfe(w,k,t),ID(k)&&MD(i,t,k),v!=null&&R5(t,k,b),k}function J(t,i,e,n,r,o,s,c){let v=Di(),b=ps(),x=Qg(b.consts,o);return uD(v,b,t,i,e,n,r,x,s,c),J}var Mhe=Fhe;function Fhe(t,i,e,n){return wD(!0),i[us].createComment("")}var J5=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var X5=new mn(""),kx=new mn(""),HD=(()=>{class t{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(e,n,r){this._ngZone=e,this.registry=n,Q5||(Lhe(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Si.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>n.updateCb&&n.updateCb(e)?(clearTimeout(n.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let o=-1;n&&n>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e()},n)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static \u0275fac=function(n){return new(n||t)(yt(Si),yt(VD),yt(kx))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),VD=(()=>{class t{_applications=new Map;registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return Q5?.findTestabilityInTree(this,e,n)??null}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();function Lhe(t){Q5=t}var Q5,jW=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new NB})}return t})(),NB=class{queuedEffectCount=0;queues=new Map;schedule(i){this.enqueue(i)}remove(i){let e=i.zone,n=this.queues.get(e);n.has(i)&&(n.delete(i),this.queuedEffectCount--)}enqueue(i){let e=i.zone;this.queues.has(e)||this.queues.set(e,new Set);let n=this.queues.get(e);n.has(i)||(this.queuedEffectCount++,n.add(i))}flush(){for(;this.queuedEffectCount>0;)for(let[i,e]of this.queues)i===null?this.flushQueue(e):i.run(()=>this.flushQueue(e))}flushQueue(i){for(let e of i)i.delete(e),this.queuedEffectCount--,e.run()}};function nv(t){return!!t&&typeof t.then=="function"}function Z5(t){return!!t&&typeof t.subscribe=="function"}var GW=new mn("");function e6(t){return Cx([{provide:GW,multi:!0,useValue:t}])}var KW=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n});appInits=E(GW,{optional:!0})??[];injector=E(_l);constructor(){}runInitializers(){if(this.initialized)return;let e=[];for(let r of this.appInits){let o=Nd(this.injector,r);if(nv(o))e.push(o);else if(Z5(o)){let s=new Promise((c,v)=>{o.subscribe({complete:c,error:v})});e.push(s)}}let n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),e.length===0&&n(),this.initialized=!0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),t6=new mn("");function Bhe(){l4(()=>{throw new Lt(600,!1)})}function Uhe(t){return t.isBoundToModule}var $he=10;function qW(t,i){return Array.isArray(i)?i.reduce(qW,t):at(at({},t),i)}var r0=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(xpe);afterRenderManager=E(Fq);zonelessEnabled=E(C5);rootEffectScheduler=E(jW);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new qn;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(l0).hasPendingTasks.pipe(cn(e=>!e));constructor(){E(YE,{optional:!0})}whenStable(){let e;return new Promise(n=>{e=this.isStable.subscribe({next:r=>{r&&n()}})}).finally(()=>{e.unsubscribe()})}_injector=E(gc);_rendererFactory=null;get injector(){return this._injector}bootstrap(e,n){return this.bootstrapImpl(e,n)}bootstrapImpl(e,n,r=_l.NULL){fa(10);let o=e instanceof IW;if(!this._injector.get(KW).done){let w="";throw new Lt(405,w)}let c;o?c=e:c=this._injector.get($D).resolveComponentFactory(e),this.componentTypes.push(c.componentType);let v=Uhe(c)?void 0:this._injector.get(UE),b=n||c.selector,x=c.create(r,[],b,v),k=x.location.nativeElement,O=x.injector.get(X5,null);return O?.registerApplication(k),x.onDestroy(()=>{this.detachView(x.hostView),Uw(this.components,x),O?.unregisterApplication(k)}),this._loadComponent(x),fa(11,x),x}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){fa(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(x5.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Lt(101,!1);let e=kr(null);try{this._runningTick=!0,this.synchronize()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,kr(e),this.afterTick.next(),fa(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Uf,null,{optional:!0}));let e=0;for(;this.dirtyFlags!==0&&e++<$he;)fa(14),this.synchronizeOnce(),fa(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let e=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:n,notifyErrorHandler:r}of this.allViews)Hhe(n,r,e,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:e})=>xD(e))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(e){let n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){let n=e;Uw(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(t6,[]).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Uw(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Lt(406,!1);let e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Uw(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function Hhe(t,i,e,n){if(!e&&!xD(t))return;gW(t,i,e&&!n?0:1)}function Le(t,i,e,n){let r=Di(),o=Ex();if(_p(r,o,i)){let s=ps(),c=PD();Vme(c,r,t,i,e,n)}return Le}function n6(t,i,e,n){return _p(t,Ex(),e)?i+Eu(e)+n:rl}function i6(t,i,e,n,r,o){let s=m5(),c=hx(t,s,e,r);return Tx(2),c?i+Eu(e)+n+Eu(r)+o:rl}function WW(t,i,e,n,r,o,s,c){let v=m5(),b=VW(t,v,e,r,s);return Tx(3),b?i+Eu(e)+n+Eu(r)+o+Eu(s)+c:rl}function Vhe(t,i,e,n,r,o,s,c,v,b){let x=m5(),k=Y5(t,x,e,r,s,v);return Tx(4),k?i+Eu(e)+n+Eu(r)+o+Eu(s)+c+Eu(v)+b:rl}function Nw(t,i){return t<<17|i<<2}function PC(t){return t>>17&32767}function jhe(t){return(t&2)==2}function Ghe(t,i){return t&131071|i<<17}function RB(t){return t|2}function $E(t){return(t&131068)>>2}function $4(t,i){return t&-131069|i<<2}function Khe(t){return(t&1)===1}function MB(t){return t|1}function qhe(t,i,e,n,r,o){let s=o?i.classBindings:i.styleBindings,c=PC(s),v=$E(s);t[n]=e;let b=!1,x;if(Array.isArray(e)){let k=e;x=k[1],(x===null||_x(k,x)>0)&&(b=!0)}else x=e;if(r)if(v!==0){let O=PC(t[c+1]);t[n+1]=Nw(O,c),O!==0&&(t[O+1]=$4(t[O+1],n)),t[c+1]=Ghe(t[c+1],n)}else t[n+1]=Nw(c,0),c!==0&&(t[c+1]=$4(t[c+1],n)),c=n;else t[n+1]=Nw(v,0),c===0?c=n:t[v+1]=$4(t[v+1],n),v=n;b&&(t[n+1]=RB(t[n+1])),oK(t,x,n,!0),oK(t,x,n,!1),Whe(i,x,t,n,o),s=Nw(c,v),o?i.classBindings=s:i.styleBindings=s}function Whe(t,i,e,n,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof i=="string"&&_x(o,i)>=0&&(e[n+1]=MB(e[n+1]))}function oK(t,i,e,n){let r=t[e+1],o=i===null,s=n?PC(r):$E(r),c=!1;for(;s!==0&&(c===!1||o);){let v=t[s],b=t[s+1];zhe(v,i)&&(c=!0,t[s+1]=n?MB(b):RB(b)),s=n?PC(b):$E(b)}c&&(t[e+1]=n?RB(r):MB(r))}function zhe(t,i){return t===null||i==null||(Array.isArray(t)?t[1]:t)===i?!0:Array.isArray(t)&&typeof i=="string"?_x(t,i)>=0:!1}var nl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zW(t){return t.substring(nl.key,nl.keyEnd)}function Yhe(t){return t.substring(nl.value,nl.valueEnd)}function Jhe(t){return XW(t),YW(t,HE(t,0,nl.textEnd))}function YW(t,i){let e=nl.textEnd;return e===i?-1:(i=nl.keyEnd=Qhe(t,nl.key=i,e),HE(t,i,e))}function Xhe(t){return XW(t),JW(t,HE(t,0,nl.textEnd))}function JW(t,i){let e=nl.textEnd,n=nl.key=HE(t,i,e);return e===n?-1:(n=nl.keyEnd=Zhe(t,n,e),n=aK(t,n,e,58),n=nl.value=HE(t,n,e),n=nl.valueEnd=e0e(t,n,e),aK(t,n,e,59))}function XW(t){nl.key=0,nl.keyEnd=0,nl.value=0,nl.valueEnd=0,nl.textEnd=t.length}function HE(t,i,e){for(;i<e&&t.charCodeAt(i)<=32;)i++;return i}function Qhe(t,i,e){for(;i<e&&t.charCodeAt(i)>32;)i++;return i}function Zhe(t,i,e){let n;for(;i<e&&((n=t.charCodeAt(i))===45||n===95||(n&-33)>=65&&(n&-33)<=90||n>=48&&n<=57);)i++;return i}function aK(t,i,e,n){return i=HE(t,i,e),i<e&&i++,i}function e0e(t,i,e){let n=-1,r=-1,o=-1,s=i,c=s;for(;s<e;){let v=t.charCodeAt(s++);if(v===59)return c;v===34||v===39?c=s=sK(t,v,s,e):i===s-4&&o===85&&r===82&&n===76&&v===40?c=s=sK(t,41,s,e):v>32&&(c=s),o=r,r=n,n=v&-33}return c}function sK(t,i,e,n){let r=-1,o=e;for(;o<n;){let s=t.charCodeAt(o++);if(s==i&&r!==92)return o;s==92&&r===92?r=0:r=s}throw new Error}function C(t,i,e){let n=Di(),r=Ex();if(_p(n,r,i)){let o=ps(),s=PD();M5(o,s,n,t,i,n[us],e,!1)}return C}function FB(t,i,e,n,r){L5(i,t,e,r?"class":"style",n)}function Io(t,i,e){return ZW(t,i,e,!1),Io}function Tr(t,i){return ZW(t,i,null,!0),Tr}function QW(t){wx(nz,t0e,t,!1)}function t0e(t,i){for(let e=Xhe(i);e>=0;e=JW(i,e))nz(t,zW(i),Yhe(i))}function xa(t){wx(s0e,jD,t,!0)}function jD(t,i){for(let e=Jhe(i);e>=0;e=YW(i,e))kC(t,zW(i),!0)}function ZW(t,i,e,n){let r=Di(),o=ps(),s=Tx(2);if(o.firstUpdatePass&&tz(o,t,s,n),i!==rl&&_p(r,s,i)){let c=o.data[xm()];iz(o,c,r,r[us],t,r[s+1]=c0e(i,e),n,s)}}function wx(t,i,e,n){let r=ps(),o=Tx(2);r.firstUpdatePass&&tz(r,null,o,n);let s=Di();if(e!==rl&&_p(s,o,e)){let c=r.data[xm()];if(rz(c,n)&&!ez(r,o)){let v=n?c.classesWithoutHost:c.stylesWithoutHost;v!==null&&(e=q4(v,e||"")),FB(r,c,s,e,n)}else l0e(r,c,s,s[us],s[o+1],s[o+1]=a0e(t,i,e),n,o)}}function ez(t,i){return i>=t.expandoStartIndex}function tz(t,i,e,n){let r=t.data;if(r[e+1]===null){let o=r[xm()],s=ez(t,e);rz(o,n)&&i===null&&!s&&(i=!1),i=n0e(r,o,i,n),qhe(r,o,i,e,s,n)}}function n0e(t,i,e,n){let r=Xue(t),o=n?i.residualClasses:i.residualStyles;if(r===null)(n?i.classBindings:i.styleBindings)===0&&(e=H4(null,t,i,e,n),e=gx(e,i.attrs,n),o=null);else{let s=i.directiveStylingLast;if(s===-1||t[s]!==r)if(e=H4(r,t,i,e,n),o===null){let v=i0e(t,i,n);v!==void 0&&Array.isArray(v)&&(v=H4(null,t,i,v[1],n),v=gx(v,i.attrs,n),r0e(t,i,n,v))}else o=o0e(t,i,n)}return o!==void 0&&(n?i.residualClasses=o:i.residualStyles=o),e}function i0e(t,i,e){let n=e?i.classBindings:i.styleBindings;if($E(n)!==0)return t[PC(n)]}function r0e(t,i,e,n){let r=e?i.classBindings:i.styleBindings;t[PC(r)]=n}function o0e(t,i,e){let n,r=i.directiveEnd;for(let o=1+i.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;n=gx(n,s,e)}return gx(n,i.attrs,e)}function H4(t,i,e,n,r){let o=null,s=e.directiveEnd,c=e.directiveStylingLast;for(c===-1?c=e.directiveStart:c++;c<s&&(o=i[c],n=gx(n,o.hostAttrs,r),o!==t);)c++;return t!==null&&(e.directiveStylingLast=c),n}function gx(t,i,e){let n=e?1:2,r=-1;if(i!==null)for(let o=0;o<i.length;o++){let s=i[o];typeof s=="number"?r=s:r===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),kC(t,s,e?!0:i[++o]))}return t===void 0?null:t}function a0e(t,i,e){if(e==null||e==="")return Yc;let n=[],r=bu(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)t(n,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&t(n,o,r[o]);else typeof r=="string"&&i(n,r);return n}function nz(t,i,e){kC(t,i,bu(e))}function s0e(t,i,e){let n=String(i);n!==""&&!n.includes(" ")&&kC(t,n,e)}function l0e(t,i,e,n,r,o,s,c){r===rl&&(r=Yc);let v=0,b=0,x=0<r.length?r[0]:null,k=0<o.length?o[0]:null;for(;x!==null||k!==null;){let O=v<r.length?r[v+1]:void 0,w=b<o.length?o[b+1]:void 0,M=null,F;x===k?(v+=2,b+=2,O!==w&&(M=k,F=w)):k===null||x!==null&&x<k?(v+=2,M=x):(b+=2,M=k,F=w),M!==null&&iz(t,i,e,n,M,F,s,c),x=v<r.length?r[v]:null,k=b<o.length?o[b]:null}}function iz(t,i,e,n,r,o,s,c){if(!(i.type&3))return;let v=t.data,b=v[c+1],x=Khe(b)?lK(v,i,e,r,$E(b),s):void 0;if(!pD(x)){pD(o)||jhe(b)&&(o=lK(v,null,e,r,c,s));let k=YK(xm(),e);afe(n,s,k,r,o)}}function lK(t,i,e,n,r,o){let s=i===null,c;for(;r>0;){let v=t[r],b=Array.isArray(v),x=b?v[1]:v,k=x===null,O=e[r+1];O===rl&&(O=k?Yc:void 0);let w=k?D4(O,n):x===n?O:void 0;if(b&&!pD(w)&&(w=D4(v,n)),pD(w)&&(c=w,s))return c;let M=t[r+1];r=s?PC(M):$E(M)}if(i!==null){let v=o?i.residualClasses:i.residualStyles;v!=null&&(c=D4(v,n))}return c}function pD(t){return t!==void 0}function c0e(t,i){return t==null||t===""||(typeof i=="string"?t=t+i:typeof t=="object"&&(t=wd(bu(t)))),t}function rz(t,i){return(t.flags&(i?8:16))!==0}function xo(t,i,e){let n=Di(),r=n6(n,t,i,e);wx(kC,jD,r,!0)}function GD(t,i,e,n,r){let o=Di(),s=i6(o,t,i,e,n,r);wx(kC,jD,s,!0)}function oz(t,i,e,n,r,o,s){let c=Di(),v=WW(c,t,i,e,n,r,o,s);wx(kC,jD,v,!0)}var LB=class{destroy(i){}updateValue(i,e){}swap(i,e){let n=Math.min(i,e),r=Math.max(i,e),o=this.detach(r);if(r-n>1){let s=this.detach(n);this.attach(n,o),this.attach(r,s)}else this.attach(n,o)}move(i,e){this.attach(e,this.detach(i))}};function V4(t,i,e,n,r){return t===e&&Object.is(i,n)?1:Object.is(r(t,i),r(e,n))?-1:0}function d0e(t,i,e){let n,r,o=0,s=t.length-1,c=void 0;if(Array.isArray(i)){let v=i.length-1;for(;o<=s&&o<=v;){let b=t.at(o),x=i[o],k=V4(o,b,o,x,e);if(k!==0){k<0&&t.updateValue(o,x),o++;continue}let O=t.at(s),w=i[v],M=V4(s,O,v,w,e);if(M!==0){M<0&&t.updateValue(s,w),s--,v--;continue}let F=e(o,b),L=e(s,O),V=e(o,x);if(Object.is(V,L)){let B=e(v,w);Object.is(B,F)?(t.swap(o,s),t.updateValue(s,w),v--,s--):t.move(s,o),t.updateValue(o,x),o++;continue}if(n??=new mD,r??=dK(t,o,s,e),BB(t,n,o,V))t.updateValue(o,x),o++,s++;else if(r.has(V))n.set(F,t.detach(o)),s--;else{let B=t.create(o,i[o]);t.attach(o,B),o++,s++}}for(;o<=v;)cK(t,n,e,o,i[o]),o++}else if(i!=null){let v=i[Symbol.iterator](),b=v.next();for(;!b.done&&o<=s;){let x=t.at(o),k=b.value,O=V4(o,x,o,k,e);if(O!==0)O<0&&t.updateValue(o,k),o++,b=v.next();else{n??=new mD,r??=dK(t,o,s,e);let w=e(o,k);if(BB(t,n,o,w))t.updateValue(o,k),o++,s++,b=v.next();else if(!r.has(w))t.attach(o,t.create(o,k)),o++,s++,b=v.next();else{let M=e(o,x);n.set(M,t.detach(o)),s--}}}for(;!b.done;)cK(t,n,e,t.length,b.value),b=v.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(v=>{t.destroy(v)})}function BB(t,i,e,n){return i!==void 0&&i.has(n)?(t.attach(e,i.get(n)),i.delete(n),!0):!1}function cK(t,i,e,n,r){if(BB(t,i,n,e(n,r)))t.updateValue(n,r);else{let o=t.create(n,r);t.attach(n,o)}}function dK(t,i,e,n){let r=new Set;for(let o=i;o<=e;o++)r.add(n(o,t.at(o)));return r}var mD=class{kvMap=new Map;_vMap=void 0;has(i){return this.kvMap.has(i)}delete(i){if(!this.has(i))return!1;let e=this.kvMap.get(i);return this._vMap!==void 0&&this._vMap.has(e)?(this.kvMap.set(i,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(i),!0}get(i){return this.kvMap.get(i)}set(i,e){if(this.kvMap.has(i)){let n=this.kvMap.get(i);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(n);)n=r.get(n);r.set(n,e)}else this.kvMap.set(i,e)}forEach(i){for(let[e,n]of this.kvMap)if(i(n,e),this._vMap!==void 0){let r=this._vMap;for(;r.has(n);)n=r.get(n),i(n,e)}}};function $(t,i){c0("NgControlFlow");let e=Di(),n=Ex(),r=e[n]!==rl?e[n]:-1,o=r!==-1?fD(e,Rs+r):void 0,s=0;if(_p(e,n,t)){let c=kr(null);try{if(o!==void 0&&TW(o,s),t!==-1){let v=Rs+t,b=fD(e,v),x=VB(e[yr],v),k=LE(b,x.tView.ssrId),O=Sx(e,x,i,{dehydratedView:k});xx(b,O,s,FE(x,k))}}finally{kr(c)}}else if(o!==void 0){let c=EW(o,s);c!==void 0&&(c[il]=i)}}var UB=class{lContainer;$implicit;$index;constructor(i,e,n){this.lContainer=i,this.$implicit=e,this.$index=n}get $count(){return this.lContainer.length-hc}};function fr(t){return t}function ri(t,i){return i}var $B=class{hasEmptyBlock;trackByFn;liveCollection;constructor(i,e,n){this.hasEmptyBlock=i,this.trackByFn=e,this.liveCollection=n}};function ft(t,i,e,n,r,o,s,c,v,b,x,k,O){c0("NgControlFlow");let w=Di(),M=ps(),F=v!==void 0,L=Di(),V=c?s.bind(L[Tu][il]):s,B=new $B(F,V);L[Rs+t]=B,uD(w,M,t+1,i,e,n,r,Qg(M.consts,o)),F&&uD(w,M,t+2,v,b,x,k,Qg(M.consts,O))}var HB=class extends LB{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(i,e,n){super(),this.lContainer=i,this.hostLView=e,this.templateTNode=n}get length(){return this.lContainer.length-hc}at(i){return this.getLView(i)[il].$implicit}attach(i,e){let n=e[NE];this.needsIndexUpdate||=i!==this.length,xx(this.lContainer,e,i,FE(this.templateTNode,n))}detach(i){return this.needsIndexUpdate||=i!==this.length-1,u0e(this.lContainer,i)}create(i,e){let n=LE(this.lContainer,this.templateTNode.tView.ssrId),r=Sx(this.hostLView,this.templateTNode,new UB(this.lContainer,e,i),{dehydratedView:n});return this.operationsCounter?.recordCreate(),r}destroy(i){FD(i[yr],i),this.operationsCounter?.recordDestroy()}updateValue(i,e){this.getLView(i)[il].$implicit=e}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let i=0;i<this.length;i++)this.getLView(i)[il].$index=i}getLView(i){return p0e(this.lContainer,i)}};function ht(t){let i=kr(null),e=xm();try{let n=Di(),r=n[yr],o=n[e],s=e+1,c=fD(n,s);if(o.liveCollection===void 0){let b=VB(r,s);o.liveCollection=new HB(c,n,b)}else o.liveCollection.reset();let v=o.liveCollection;if(d0e(v,t,o.trackByFn),v.updateIndexes(),o.hasEmptyBlock){let b=Ex(),x=v.length===0;if(_p(n,b,x)){let k=e+2,O=fD(n,k);if(x){let w=VB(r,k),M=LE(O,w.tView.ssrId),F=Sx(n,w,void 0,{dehydratedView:M});xx(O,F,0,FE(w,M))}else TW(O,0)}}}finally{kr(i)}}function fD(t,i){return t[i]}function u0e(t,i){return mx(t,i)}function p0e(t,i){return EW(t,i)}function VB(t,i){return a5(t,i)}function h(t,i,e,n){let r=Di(),o=ps(),s=Rs+t,c=r[us],v=o.firstCreatePass?xW(s,o,r,i,F5,d5(),e,n):o.data[s],b=m0e(o,r,v,c,i,t);r[s]=b;let x=ID(v);return wC(v,!0),nW(c,b,v),!$5(v)&&kD()&&LD(o,r,b,v),($ue()===0||x)&&zE(b,r),Hue(),x&&(MD(o,r,v),k5(o,v,r)),n!==null&&R5(r,v),h}function g(){let t=Md();u5()?p5():(t=t.parent,wC(t,!1));let i=t;jue(i)&&Gue(),Vue();let e=ps();return e.firstCreatePass&&AW(e,i),i.classesWithoutHost!=null&&rpe(i)&&FB(e,i,Di(),i.classesWithoutHost,!0),i.stylesWithoutHost!=null&&ope(i)&&FB(e,i,Di(),i.stylesWithoutHost,!1),g}function D(t,i,e,n){return h(t,i,e,n),g(),D}var m0e=(t,i,e,n,r,o)=>(wD(!0),eW(n,r,tpe()));function f0e(t,i,e,n,r){let o=i.consts,s=Qg(o,n),c=Ax(i,t,8,"ng-container",s);s!==null&&SB(c,s,!0);let v=Qg(o,r);return d5()&&G5(i,e,c,v,F5),c.mergedAttrs=ME(c.mergedAttrs,c.attrs),i.queries!==null&&i.queries.elementStart(i,c),c}function Mo(t,i,e){let n=Di(),r=ps(),o=t+Rs,s=r.firstCreatePass?f0e(o,r,n,i,e):r.data[o];wC(s,!0);let c=h0e(r,n,s,t);return n[o]=c,kD()&&LD(r,n,c,s),zE(c,n),ID(s)&&(MD(r,n,s),k5(r,s,n)),e!=null&&R5(n,s),Mo}function Fo(){let t=Md(),i=ps();return u5()?p5():(t=t.parent,wC(t,!1)),i.firstCreatePass&&(v5(i,t),o5(t)&&i.queries.elementEnd(t)),Fo}function ci(t,i,e){return Mo(t,i,e),Fo(),ci}var h0e=(t,i,e,n)=>(wD(!0),Ame(i[us],""));function Je(){return Di()}var fC=void 0;function g0e(t){let i=Math.floor(Math.abs(t)),e=t.toString().replace(/^[^.]*\.?/,"").length;return i===1&&e===0?1:5}var v0e=["en",[["a","p"],["AM","PM"],fC],[["AM","PM"],fC,fC],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],fC,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],fC,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",fC,"{1} 'at' {0}",fC],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",g0e],j4={};function Cp(t){let i=_0e(t),e=uK(i);if(e)return e;let n=i.split("-")[0];if(e=uK(n),e)return e;if(n==="en")return v0e;throw new Lt(701,!1)}function uK(t){return t in j4||(j4[t]=vl.ng&&vl.ng.common&&vl.ng.common.locales&&vl.ng.common.locales[t]),j4[t]}var Is=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Is||{});function _0e(t){return t.toLowerCase().replace(/_/g,"-")}var hD="en-US";var C0e=hD;function y0e(t){typeof t=="string"&&(C0e=t.toLowerCase().replace(/_/g,"-"))}function pK(t,i,e){return function n(r){if(r===Function)return e;let o=jE(t)?Ff(t.index,i):i;j5(o,5);let s=i[il],c=mK(i,s,e,r),v=n.__ngNextListenerFn__;for(;v;)c=mK(i,s,v,r)&&c,v=v.__ngNextListenerFn__;return c}}function mK(t,i,e,n){let r=kr(null);try{return fa(6,i,e),e(n)!==!1}catch(o){return E0e(t,o),!1}finally{fa(7,i,e),kr(r)}}function E0e(t,i){let e=t[yC],n=e?e.get(Cl,null):null;n&&n.handleError(i)}function fK(t,i,e,n,r,o){let s=i[e],c=i[yr],b=c.data[e].outputs[n],x=s[b],k=c.firstCreatePass?c5(c):null,O=l5(i),w=x.subscribe(o),M=O.length;O.push(o,w),k&&k.push(r,t.index,M,-(M+1))}var T0e=new Map;function Ee(t,i,e,n){let r=Di(),o=ps(),s=Md();return I0e(o,r,r[us],s,t,i,n),Ee}function b0e(t,i,e,n){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===e&&r[o+1]===n){let c=i[Kw],v=r[o+2];return c.length>v?c[v]:null}typeof s=="string"&&(o+=2)}return null}function I0e(t,i,e,n,r,o,s){let c=ID(n),b=t.firstCreatePass?c5(t):null,x=l5(i),k=!0;if(n.type&3||s){let O=$f(n,i),w=s?s(O):O,M=x.length,F=s?V=>s(Mf(V[n.index])):n.index,L=null;if(!s&&c&&(L=b0e(t,i,r,n.index)),L!==null){let V=L.__ngLastListenerFn__||L;V.__ngNextListenerFn__=o,L.__ngLastListenerFn__=o,k=!1}else{o=pK(n,i,o);let V=i[yC].get(DD);T0e.get(V)?.(w,r,o);let q=e.listen(w,r,o);x.push(o,q),b&&b.push(r,F,M,M+1)}}else o=pK(n,i,o);if(k){let O=n.outputs?.[r],w=n.hostDirectiveOutputs?.[r];if(w&&w.length)for(let M=0;M<w.length;M+=2){let F=w[M],L=w[M+1];fK(n,i,F,L,r,o)}if(O&&O.length)for(let M of O)fK(n,i,M,r,r,o)}}function y(t=1){return Zue(t)}function S0e(t,i){let e=null,n=_me(t);for(let r=0;r<i.length;r++){let o=i[r];if(o==="*"){e=r;continue}if(n===null?Zq(t,o,!0):Eme(n,o))return r}return e}function lo(t){let i=Di()[Tu][Rd];if(!i.projection){let e=t?t.length:1,n=i.projection=fue(e,null),r=n.slice(),o=i.child;for(;o!==null;){if(o.type!==128){let s=t?S0e(o,t):0;s!==null&&(r[s]?r[s].projectionNext=o:n[s]=o,r[s]=o)}o=o.next}}}function Or(t,i=0,e,n,r,o){let s=Di(),c=ps(),v=n?t+1:null;v!==null&&uD(s,c,v,n,r,o,null,e);let b=Ax(c,Rs+t,16,null,e||null);b.projection===null&&(b.projection=i),p5();let k=!s[NE]||ZK();s[Tu][Rd].projection[b.projection]===null&&v!==null?x0e(s,c,v):k&&!$5(b)&&rfe(c,s,b)}function x0e(t,i,e){let n=Rs+e,r=i.data[n],o=t[n],s=LE(o,r.tView.ssrId),c=Sx(t,r,void 0,{dehydratedView:s});xx(o,c,0,FE(r,s))}function Xt(t,i,e){return Fd(t,"",i,"",e),Xt}function Fd(t,i,e,n,r){let o=Di(),s=n6(o,i,e,n);if(s!==rl){let c=ps(),v=PD();M5(c,v,o,t,s,o[us],r,!1)}return Fd}function DC(t,i,e,n,r,o,s){let c=Di(),v=i6(c,i,e,n,r,o);if(v!==rl){let b=ps(),x=PD();M5(b,x,c,t,v,c[us],s,!1)}return DC}function p0(t,i,e,n){ohe(t,i,e,n)}function Qi(t,i,e){OW(t,i,e)}function Ni(t){let i=Di(),e=ps(),n=f5();AD(n+1);let r=q5(e,n);if(t.dirty&&Mue(i)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=RW(i,n);t.reset(o,Sq),t.notifyOnChanges()}return!0}return!1}function Ri(){return K5(Di(),f5())}function m0(t,i,e,n){dhe(t,OW(i,e,n))}function iv(t=1){AD(f5()+t)}function A0e(t,i,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),i[e]=n}function Fn(t){let i=que();return SD(i,Rs+t)}function R(t,i=""){let e=Di(),n=ps(),r=t+Rs,o=n.firstCreatePass?Ax(n,r,1,i,null):n.data[r],s=P0e(n,e,o,i,t);e[r]=s,kD()&&LD(n,e,s,o),wC(o,!1)}var P0e=(t,i,e,n,r)=>(wD(!0),Sme(i[us],n));function Ae(t){return ne("",t,""),Ae}function ne(t,i,e){let n=Di(),r=n6(n,t,i,e);return r!==rl&&KD(n,xm(),r),ne}function Vi(t,i,e,n,r){let o=Di(),s=i6(o,t,i,e,n,r);return s!==rl&&KD(o,xm(),s),Vi}function Am(t,i,e,n,r,o,s){let c=Di(),v=WW(c,t,i,e,n,r,o,s);return v!==rl&&KD(c,xm(),v),Am}function OC(t,i,e,n,r,o,s,c,v){let b=Di(),x=Vhe(b,t,i,e,n,r,o,s,c,v);return x!==rl&&KD(b,xm(),x),OC}function KD(t,i,e){let n=YK(i,t);xme(t[us],n,e)}function k0e(t,i,e){let n=ps();if(n.firstCreatePass){let r=Rf(t);jB(e,n.data,n.blueprint,r,!0),jB(i,n.data,n.blueprint,r,!1)}}function jB(t,i,e,n,r){if(t=zc(t),Array.isArray(t))for(let o=0;o<t.length;o++)jB(t[o],i,e,n,r);else{let o=ps(),s=Di(),c=Md(),v=OE(t)?t:zc(t.provide),b=$K(t),x=c.providerIndexes&1048575,k=c.directiveStart,O=c.providerIndexes>>20;if(OE(t)||!t.multi){let w=new xC(b,r,Et),M=K4(v,i,r?x:x+O,k);M===-1?(iB(Qw(c,s),o,v),G4(o,t,i.length),i.push(v),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(w),s.push(w)):(e[M]=w,s[M]=w)}else{let w=K4(v,i,x+O,k),M=K4(v,i,x,x+O),F=w>=0&&e[w],L=M>=0&&e[M];if(r&&!L||!r&&!F){iB(Qw(c,s),o,v);let V=O0e(r?D0e:w0e,e.length,r,n,b);!r&&L&&(e[M].providerFactory=V),G4(o,t,i.length,0),i.push(v),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(V),s.push(V)}else{let V=az(e[r?M:w],b,!r&&n);G4(o,t,w>-1?w:M,V)}!r&&n&&L&&e[M].componentProviders++}}}function G4(t,i,e,n){let r=OE(i),o=bue(i);if(r||o){let v=(o?zc(i.useClass):i).prototype.ngOnDestroy;if(v){let b=t.destroyHooks||(t.destroyHooks=[]);if(!r&&i.multi){let x=b.indexOf(e);x===-1?b.push(e,[n,v]):b[x+1].push(n,v)}else b.push(e,v)}}}function az(t,i,e){return e&&t.componentProviders++,t.multi.push(i)-1}function K4(t,i,e,n){for(let r=e;r<n;r++)if(i[r]===t)return r;return-1}function w0e(t,i,e,n){return GB(this.multi,[])}function D0e(t,i,e,n){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=ux(e,e[yr],this.providerFactory.index,n);o=c.slice(0,s),GB(r,o);for(let v=s;v<c.length;v++)o.push(c[v])}else o=[],GB(r,o);return o}function GB(t,i){for(let e=0;e<t.length;e++){let n=t[e];i.push(n())}return i}function O0e(t,i,e,n,r){let o=new xC(t,e,Et);return o.multi=[],o.index=i,o.componentProviders=0,az(o,r,n&&!e),o}function Hl(t,i=[]){return e=>{e.providersResolver=(n,r)=>k0e(n,r?r(t):t,i)}}function Dx(t,i,e){let n=t.\u0275cmp;n.directiveDefs=dD(i,!1),n.pipeDefs=dD(e,!0)}function ol(t,i,e){let n=s0()+t,r=Di();return r[n]===rl?XE(r,n,e?i.call(e):i()):HW(r,n)}function et(t,i,e,n){return sz(Di(),s0(),t,i,e,n)}function Un(t,i,e,n,r){return lz(Di(),s0(),t,i,e,n,r)}function Ms(t,i,e,n,r,o){return cz(Di(),s0(),t,i,e,n,r,o)}function Hf(t,i,e,n,r,o,s){return N0e(Di(),s0(),t,i,e,n,r,o,s)}function Ox(t,i,e,n,r,o,s,c){let v=s0()+t,b=Di(),x=Y5(b,v,e,n,r,o);return _p(b,v+4,s)||x?XE(b,v+5,c?i.call(c,e,n,r,o,s):i(e,n,r,o,s)):HW(b,v+5)}function qD(t,i){let e=t[i];return e===rl?void 0:e}function sz(t,i,e,n,r,o){let s=i+e;return _p(t,s,r)?XE(t,s+1,o?n.call(o,r):n(r)):qD(t,s+1)}function lz(t,i,e,n,r,o,s){let c=i+e;return hx(t,c,r,o)?XE(t,c+2,s?n.call(s,r,o):n(r,o)):qD(t,c+2)}function cz(t,i,e,n,r,o,s,c){let v=i+e;return VW(t,v,r,o,s)?XE(t,v+3,c?n.call(c,r,o,s):n(r,o,s)):qD(t,v+3)}function N0e(t,i,e,n,r,o,s,c,v){let b=i+e;return Y5(t,b,r,o,s,c)?XE(t,b+4,v?n.call(v,r,o,s,c):n(r,o,s,c)):qD(t,b+4)}function H(t,i){let e=ps(),n,r=t+Rs;e.firstCreatePass?(n=R0e(i,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];let o=n.factory||(n.factory=vC(n.type,!0)),s,c=kd(Et);try{let v=Xw(!1),b=o();return Xw(v),A0e(e,Di(),r,b),b}finally{kd(c)}}function R0e(t,i){if(i)for(let e=i.length-1;e>=0;e--){let n=i[e];if(t===n.name)return n}}function j(t,i,e){let n=t+Rs,r=Di(),o=SD(r,n);return r6(r,n)?sz(r,s0(),i,o.transform,e,o):o.transform(e)}function Qr(t,i,e,n){let r=t+Rs,o=Di(),s=SD(o,r);return r6(o,r)?lz(o,s0(),i,s.transform,e,n,s):s.transform(e,n)}function WD(t,i,e,n,r){let o=t+Rs,s=Di(),c=SD(s,o);return r6(s,o)?cz(s,s0(),i,c.transform,e,n,r,c):c.transform(e,n,r)}function r6(t,i){return t[yr].data[i].pure}function vi(t,i){return UD(t,i)}var Rw=null;function M0e(t){Rw!==null&&(t.defaultEncapsulation!==Rw.defaultEncapsulation||t.preserveWhitespaces!==Rw.preserveWhitespaces)||(Rw=t)}var KB=class{ngModuleFactory;componentFactories;constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}},dz=(()=>{class t{compileModuleSync(e){return new cD(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){let n=this.compileModuleSync(e),r=FK(e),o=Xq(r.declarations).reduce((s,c)=>{let v=CC(c);return v&&s.push(new BE(v)),s},[]);return new KB(n,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),F0e=new mn("");function L0e(t,i,e){let n=new cD(e);return Promise.resolve(n)}function hK(t){for(let i=t.length-1;i>=0;i--)if(t[i]!==void 0)return t[i]}var B0e=(()=>{class t{zone=E(Si);changeDetectionScheduler=E(AC);applicationRef=E(r0);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function U0e({ngZoneFactory:t,ignoreChangesOutsideZone:i,scheduleInRootZone:e}){return t??=()=>new Si(Mn(at({},uz()),{scheduleInRootZone:e})),[{provide:Si,useFactory:t},{provide:DE,multi:!0,useFactory:()=>{let n=E(B0e,{optional:!0});return()=>n.initialize()}},{provide:DE,multi:!0,useFactory:()=>{let n=E($0e);return()=>{n.initialize()}}},i===!0?{provide:Eq,useValue:!0}:[],{provide:Tq,useValue:e??yq}]}function uz(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var $0e=(()=>{class t{subscription=new Ua;initialized=!1;zone=E(Si);pendingTasks=E(l0);initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Si.assertNotInAngularZone(),queueMicrotask(()=>{e!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Si.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var H0e=(()=>{class t{appRef=E(r0);taskService=E(l0);ngZone=E(Si);zonelessEnabled=E(C5);tracing=E(YE,{optional:!0});disableScheduling=E(Eq,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ua;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(eD):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Tq,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tD||!this.zoneIsDefined)}notify(e){if(!this.zonelessEnabled&&e===5)return;let n=!1;switch(e){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,n=!0;break}case 12:{this.appRef.dirtyFlags|=16,n=!0;break}case 13:{this.appRef.dirtyFlags|=2,n=!0;break}case 11:{n=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(n))return;let r=this.useMicrotaskScheduler?BG:bq;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(e){return!(this.disableScheduling&&!e||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(eD+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let e=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(n){throw this.taskService.remove(e),n}finally{this.cleanup()}this.useMicrotaskScheduler=!0,BG(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(e)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let e=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V0e(){return typeof $localize<"u"&&$localize.locale||hD}var zD=new mn("",{providedIn:"root",factory:()=>E(zD,Hr.Optional|Hr.SkipSelf)||V0e()});var gD=new mn(""),j0e=new mn("");function rx(t){return!t.moduleRef}function G0e(t){let i=rx(t)?t.r3Injector:t.moduleRef.injector,e=i.get(Si);return e.run(()=>{rx(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let n=i.get(Cl,null),r;if(e.runOutsideAngular(()=>{r=e.onError.subscribe({next:o=>{n.handleError(o)}})}),rx(t)){let o=()=>i.destroy(),s=t.platformInjector.get(gD);s.add(o),i.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(gD);s.add(o),t.moduleRef.onDestroy(()=>{Uw(t.allPlatformModules,t.moduleRef),r.unsubscribe(),s.delete(o)})}return q0e(n,e,()=>{let o=i.get(KW);return o.runInitializers(),o.donePromise.then(()=>{let s=i.get(zD,hD);if(y0e(s||hD),!i.get(j0e,!0))return rx(t)?i.get(r0):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(rx(t)){let v=i.get(r0);return t.rootComponent!==void 0&&v.bootstrap(t.rootComponent),v}else return K0e(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function K0e(t,i){let e=t.injector.get(r0);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(n=>e.bootstrap(n));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(e);else throw new Lt(-403,!1);i.push(t)}function q0e(t,i,e){try{let n=e();return nv(n)?n.catch(r=>{throw i.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>t.handleError(n)),n}}var pz=(()=>{class t{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(e){this._injector=e}bootstrapModuleFactory(e,n){let r=n?.scheduleInRootZone,o=()=>Spe(n?.ngZone,Mn(at({},uz({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=n?.ignoreChangesOutsideZone,c=[U0e({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:AC,useExisting:H0e}],v=yhe(e.moduleType,this.injector,c);return G0e({moduleRef:v,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(e,n=[]){let r=qW({},n);return L0e(this.injector,r,e).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Lt(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());let e=this._injector.get(gD,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(n){return new(n||t)(yt(_l))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),lx=null,mz=new mn("");function W0e(t){if(lx&&!lx.get(mz,!1))throw new Lt(400,!1);Bhe(),lx=t;let i=t.get(pz);return J0e(t),i}function o6(t,i,e=[]){let n=`Platform: ${i}`,r=new mn(n);return(o=[])=>{let s=fz();if(!s||s.injector.get(mz,!1)){let c=[...e,...o,{provide:r,useValue:!0}];t?t(c):W0e(z0e(c,n))}return Y0e(r)}}function z0e(t=[],i){return _l.create({name:i,providers:[{provide:TD,useValue:"platform"},{provide:gD,useValue:new Set([()=>lx=null])},...t]})}function Y0e(t){let i=fz();if(!i)throw new Lt(401,!1);return i}function fz(){return lx?.get(pz)??null}function J0e(t){let i=t.get(T5,null);Nd(t,()=>{i?.forEach(e=>e())})}function hz(){return!1}var nr=(()=>{class t{static __NG_ELEMENT_ID__=X0e}return t})();function X0e(t){return Q0e(Md(),Di(),(t&16)===16)}function Q0e(t,i,e){if(jE(t)&&!e){let n=Ff(t.index,i);return new fx(n,n)}else if(t.type&175){let n=i[Tu];return new fx(n,i)}return null}var qB=class{constructor(){}supports(i){return $W(i)}create(i){return new WB(i)}},Z0e=(t,i)=>i,WB=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(i){this._trackByFn=i||Z0e}forEachItem(i){let e;for(e=this._itHead;e!==null;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,n=this._removalsHead,r=0,o=null;for(;e||n;){let s=!n||e&&e.currentIndex<gK(n,r,o)?e:n,c=gK(s,r,o),v=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,s.previousIndex==null)r++;else{o||(o=[]);let b=c-r,x=v-r;if(b!=x){for(let O=0;O<b;O++){let w=O<o.length?o[O]:o[O]=0,M=w+O;x<=M&&M<b&&(o[O]=w+1)}let k=s.previousIndex;o[k]=x-b}}c!==v&&i(s,c,v)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;e!==null;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;e!==null;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;e!==null;e=e._nextIdentityChange)i(e)}diff(i){if(i==null&&(i=[]),!$W(i))throw new Lt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._itHead,n=!1,r,o,s;if(Array.isArray(i)){this.length=i.length;for(let c=0;c<this.length;c++)o=i[c],s=this._trackByFn(c,o),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,o,s,c),n=!0):(n&&(e=this._verifyReinsertion(e,o,s,c)),Object.is(e.item,o)||this._addIdentityChange(e,o)),e=e._next}else r=0,Nhe(i,c=>{s=this._trackByFn(r,c),e===null||!Object.is(e.trackById,s)?(e=this._mismatch(e,c,s,r),n=!0):(n&&(e=this._verifyReinsertion(e,c,s,r)),Object.is(e.item,c)||this._addIdentityChange(e,c)),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;i!==null;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;i!==null;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,n,r){let o;return i===null?o=this._itTail:(o=i._prev,this._remove(i)),i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,o,r)):(i=this._linkedRecords===null?null:this._linkedRecords.get(n,r),i!==null?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,o,r)):i=this._addAfter(new zB(e,n),o,r)),i}_verifyReinsertion(i,e,n,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(n,null);return o!==null?i=this._reinsertAfter(o,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;i!==null;){let e=i._next;this._addToRemovals(this._unlink(i)),i=e}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,n){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(i);let r=i._prevRemoved,o=i._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(i,e,n),this._addToMoves(i,n),i}_moveAfter(i,e,n){return this._unlink(i),this._insertAfter(i,e,n),this._addToMoves(i,n),i}_addAfter(i,e,n){return this._insertAfter(i,e,n),this._additionsTail===null?this._additionsTail=this._additionsHead=i:this._additionsTail=this._additionsTail._nextAdded=i,i}_insertAfter(i,e,n){let r=e===null?this._itHead:e._next;return i._next=r,i._prev=e,r===null?this._itTail=i:r._prev=i,e===null?this._itHead=i:e._next=i,this._linkedRecords===null&&(this._linkedRecords=new vD),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){this._linkedRecords!==null&&this._linkedRecords.remove(i);let e=i._prev,n=i._next;return e===null?this._itHead=n:e._next=n,n===null?this._itTail=e:n._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail===null?this._movesTail=this._movesHead=i:this._movesTail=this._movesTail._nextMoved=i),i}_addToRemovals(i){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vD),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=i:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=i,i}},zB=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(i,e){this.item=i,this.trackById=e}},YB=class{_head=null;_tail=null;add(i){this._head===null?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let n;for(n=this._head;n!==null;n=n._nextDup)if((e===null||e<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){let e=i._prevDup,n=i._nextDup;return e===null?this._head=n:e._nextDup=n,n===null?this._tail=e:n._prevDup=e,this._head===null}},vD=class{map=new Map;put(i){let e=i.trackById,n=this.map.get(e);n||(n=new YB,this.map.set(e,n)),n.add(i)}get(i,e){let n=i,r=this.map.get(n);return r?r.get(i,e):null}remove(i){let e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function gK(t,i,e){let n=t.previousIndex;if(n===null)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+i+r}var JB=class{constructor(){}supports(i){return i instanceof Map||z5(i)}create(){return new XB}},XB=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(i){let e;for(e=this._mapHead;e!==null;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;e!==null;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;e!==null;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;e!==null;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;e!==null;e=e._nextRemoved)i(e)}diff(i){if(!i)i=new Map;else if(!(i instanceof Map||z5(i)))throw new Lt(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{let o=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;n!==null;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){let n=i._prev;return e._next=i,e._prev=n,i._prev=e,n&&(n._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){let r=this._records.get(i);this._maybeAddToChanges(r,e);let o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}let n=new QB(i);return this._records.set(i,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;i!==null;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;i!==null;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;i!=null;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){this._additionsHead===null?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){this._changesHead===null?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(n=>e(i[n],n))}},QB=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(i){this.key=i}};function vK(){return new a6([new qB])}var a6=(()=>{class t{factories;static \u0275prov=Ce({token:t,providedIn:"root",factory:vK});constructor(e){this.factories=e}static create(e,n){if(n!=null){let r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||vK()),deps:[[t,new OK,new t5]]}}find(e){let n=this.factories.find(r=>r.supports(e));if(n!=null)return n;throw new Lt(901,!1)}}return t})();function _K(){return new YD([new JB])}var YD=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:_K});factories;constructor(e){this.factories=e}static create(e,n){if(n){let r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||_K()),deps:[[t,new OK,new t5]]}}find(e){let n=this.factories.find(r=>r.supports(e));if(n)return n;throw new Lt(901,!1)}}return t})();var gz=o6(null,"core",[]),vz=(()=>{class t{constructor(e){}static \u0275fac=function(n){return new(n||t)(yt(r0))};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();function NC(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function s6(t,i=NaN){return!isNaN(parseFloat(t))&&!isNaN(Number(t))?Number(t):i}function Ld(t){return u4(t)}function sn(t,i){return Qk(t,i?.equal)}var ZB=class{[Ad];constructor(i){this[Ad]=i}destroy(){this[Ad].destroy()}};function al(t,i){!i?.injector&&yx(al);let e=i?.injector??E(_l),n=i?.manualCleanup!==!0?e.get(Oi):null,r,o=e.get(A5,null,{optional:!0}),s=e.get(AC);return o!==null&&!i?.forceRoot?(r=nge(o.view,s,t),n instanceof Zw&&n._lView===o.view&&(n=null)):r=ige(t,e.get(jW),s),r.injector=e,n!==null&&(r.onDestroyFn=n.onDestroy(()=>r.destroy())),new ZB(r)}var _z=Mn(at({},mE),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,cleanupFns:void 0,zone:null,kind:"effect",onDestroyFn:px,run(){if(this.dirty=!1,this.hasRun&&!Yk(this))return;this.hasRun=!0;let t=n=>(this.cleanupFns??=[]).push(n),i=zS(this),e=zw(!1);try{this.maybeCleanup(),this.fn(t)}finally{zw(e),zk(this,i)}},maybeCleanup(){if(this.cleanupFns?.length)try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[]}}}),ege=Mn(at({},_z),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){YS(this),this.onDestroyFn(),this.maybeCleanup(),this.scheduler.remove(this)}}),tge=Mn(at({},_z),{consumerMarkedDirty(){this.view[lr]|=8192,KE(this.view),this.notifier.notify(13)},destroy(){YS(this),this.onDestroyFn(),this.maybeCleanup(),this.view[TC]?.delete(this)}});function nge(t,i,e){let n=Object.create(tge);return n.view=t,n.zone=typeof Zone<"u"?Zone.current:null,n.notifier=i,n.fn=e,t[TC]??=new Set,t[TC].add(n),n.consumerMarkedDirty(n),n}function ige(t,i,e){let n=Object.create(ege);return n.fn=t,n.scheduler=i,n.notifier=e,n.zone=typeof Zone<"u"?Zone.current:null,n.scheduler.schedule(n),n.notifier.notify(12),n}function Cz(t){let i=CC(t);if(!i)return null;let e=new BE(i);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}var Ot=new mn("");var Tz=null;function Iu(){return Tz}function l6(t){Tz??=t}var Nx=class{},Rx=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E(bz),providedIn:"platform"})}return t})(),c6=new mn(""),bz=(()=>{class t extends Rx{_location;_history;_doc=E(Ot);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Iu().getBaseHref(this._doc)}onPopState(e){let n=Iu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Iu().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function JD(t,i){return t?i?t.endsWith("/")?i.startsWith("/")?t+i.slice(1):t+i:i.startsWith("/")?t+i:`${t}/${i}`:t:i}function yz(t){let i=t.search(/#|\?|$/);return t[i-1]==="/"?t.slice(0,i-1)+t.slice(i):t}function Pm(t){return t&&t[0]!=="?"?`?${t}`:t}var f0=(()=>{class t{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E(QD),providedIn:"root"})}return t})(),XD=new mn(""),QD=(()=>{class t extends f0{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??E(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return JD(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Pm(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Pm(o));this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Pm(o));this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(yt(Rx),yt(XD,8))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vf=(()=>{class t{_subject=new qn;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=age(yz(Ez(n))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Pm(n))}normalize(e){return t.stripTrailingSlash(oge(this._basePath,Ez(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pm(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pm(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n??void 0,complete:r??void 0})}static normalizeQueryParams=Pm;static joinWithSlash=JD;static stripTrailingSlash=yz;static \u0275fac=function(n){return new(n||t)(yt(f0))};static \u0275prov=Ce({token:t,factory:()=>rge(),providedIn:"root"})}return t})();function rge(){return new Vf(yt(f0))}function oge(t,i){if(!t||!i.startsWith(t))return i;let e=i.substring(t.length);return e===""||["/",";","?","#"].includes(e[0])?e:i}function Ez(t){return t.replace(/\/index.html$/,"")}function age(t){if(new RegExp("^(https?:)?//").test(t)){let[,e]=t.split(/\/\/[^\/]+/);return e}return t}var g6=(()=>{class t extends f0{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=JD(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,o){let s=this.prepareExternalUrl(r+Pm(o))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,s)}replaceState(e,n,r,o){let s=this.prepareExternalUrl(r+Pm(o))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||t)(yt(Rx),yt(XD,8))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var _c=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(_c||{}),Zo=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Zo||{}),Bd=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Bd||{}),g0={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function kz(t){return Cp(t)[Is.LocaleId]}function wz(t,i,e){let n=Cp(t),r=[n[Is.DayPeriodsFormat],n[Is.DayPeriodsStandalone]],o=yp(r,i);return yp(o,e)}function Dz(t,i,e){let n=Cp(t),r=[n[Is.DaysFormat],n[Is.DaysStandalone]],o=yp(r,i);return yp(o,e)}function Oz(t,i,e){let n=Cp(t),r=[n[Is.MonthsFormat],n[Is.MonthsStandalone]],o=yp(r,i);return yp(o,e)}function Nz(t,i){let n=Cp(t)[Is.Eras];return yp(n,i)}function Mx(t,i){let e=Cp(t);return yp(e[Is.DateFormat],i)}function Fx(t,i){let e=Cp(t);return yp(e[Is.TimeFormat],i)}function Lx(t,i){let n=Cp(t)[Is.DateTimeFormat];return yp(n,i)}function Bx(t,i){let e=Cp(t),n=e[Is.NumberSymbols][i];if(typeof n>"u"){if(i===g0.CurrencyDecimal)return e[Is.NumberSymbols][g0.Decimal];if(i===g0.CurrencyGroup)return e[Is.NumberSymbols][g0.Group]}return n}function Rz(t){if(!t[Is.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Is.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mz(t){let i=Cp(t);return Rz(i),(i[Is.ExtraData][2]||[]).map(n=>typeof n=="string"?d6(n):[d6(n[0]),d6(n[1])])}function Fz(t,i,e){let n=Cp(t);Rz(n);let r=[n[Is.ExtraData][0],n[Is.ExtraData][1]],o=yp(r,i)||[];return yp(o,e)||[]}function yp(t,i){for(let e=i;e>-1;e--)if(typeof t[e]<"u")return t[e];throw new Error("Locale data API: locale data undefined")}function d6(t){let[i,e]=t.split(":");return{hours:+i,minutes:+e}}var lge=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ZD={},cge=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Lz(t,i,e,n){let r=_ge(t);i=h0(e,i)||i;let s=[],c;for(;i;)if(c=cge.exec(i),c){s=s.concat(c.slice(1));let x=s.pop();if(!x)break;i=x}else{s.push(i);break}let v=r.getTimezoneOffset();n&&(v=Uz(n,v),r=vge(r,n));let b="";return s.forEach(x=>{let k=hge(x);b+=k?k(r,e,v):x==="''"?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function rO(t,i,e){let n=new Date(0);return n.setFullYear(t,i,e),n.setHours(0,0,0),n}function h0(t,i){let e=kz(t);if(ZD[e]??={},ZD[e][i])return ZD[e][i];let n="";switch(i){case"shortDate":n=Mx(t,Bd.Short);break;case"mediumDate":n=Mx(t,Bd.Medium);break;case"longDate":n=Mx(t,Bd.Long);break;case"fullDate":n=Mx(t,Bd.Full);break;case"shortTime":n=Fx(t,Bd.Short);break;case"mediumTime":n=Fx(t,Bd.Medium);break;case"longTime":n=Fx(t,Bd.Long);break;case"fullTime":n=Fx(t,Bd.Full);break;case"short":let r=h0(t,"shortTime"),o=h0(t,"shortDate");n=eO(Lx(t,Bd.Short),[r,o]);break;case"medium":let s=h0(t,"mediumTime"),c=h0(t,"mediumDate");n=eO(Lx(t,Bd.Medium),[s,c]);break;case"long":let v=h0(t,"longTime"),b=h0(t,"longDate");n=eO(Lx(t,Bd.Long),[v,b]);break;case"full":let x=h0(t,"fullTime"),k=h0(t,"fullDate");n=eO(Lx(t,Bd.Full),[x,k]);break}return n&&(ZD[e][i]=n),n}function eO(t,i){return i&&(t=t.replace(/\{([^}]+)}/g,function(e,n){return i!=null&&n in i?i[n]:e})),t}function km(t,i,e="-",n,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=e));let s=String(t);for(;s.length<i;)s="0"+s;return n&&(s=s.slice(s.length-i)),o+s}function dge(t,i){return km(t,3).substring(0,i)}function Fs(t,i,e=0,n=!1,r=!1){return function(o,s){let c=uge(t,o);if((e>0||c>-e)&&(c+=e),t===3)c===0&&e===-12&&(c=12);else if(t===6)return dge(c,i);let v=Bx(s,g0.MinusSign);return km(c,i,v,n,r)}}function uge(t,i){switch(t){case 0:return i.getFullYear();case 1:return i.getMonth();case 2:return i.getDate();case 3:return i.getHours();case 4:return i.getMinutes();case 5:return i.getSeconds();case 6:return i.getMilliseconds();case 7:return i.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function ha(t,i,e=_c.Format,n=!1){return function(r,o){return pge(r,o,t,i,e,n)}}function pge(t,i,e,n,r,o){switch(e){case 2:return Oz(i,r,n)[t.getMonth()];case 1:return Dz(i,r,n)[t.getDay()];case 0:let s=t.getHours(),c=t.getMinutes();if(o){let b=Mz(i),x=Fz(i,r,n),k=b.findIndex(O=>{if(Array.isArray(O)){let[w,M]=O,F=s>=w.hours&&c>=w.minutes,L=s<M.hours||s===M.hours&&c<M.minutes;if(w.hours<M.hours){if(F&&L)return!0}else if(F||L)return!0}else if(O.hours===s&&O.minutes===c)return!0;return!1});if(k!==-1)return x[k]}return wz(i,r,n)[s<12?0:1];case 3:return Nz(i,n)[t.getFullYear()<=0?0:1];default:let v=e;throw new Error(`unexpected translation type ${v}`)}}function tO(t){return function(i,e,n){let r=-1*n,o=Bx(e,g0.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case 0:return(r>=0?"+":"")+km(s,2,o)+km(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+km(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+km(s,2,o)+":"+km(Math.abs(r%60),2,o);case 3:return n===0?"Z":(r>=0?"+":"")+km(s,2,o)+":"+km(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var mge=0,iO=4;function fge(t){let i=rO(t,mge,1).getDay();return rO(t,0,1+(i<=iO?iO:iO+7)-i)}function Bz(t){let i=t.getDay(),e=i===0?-3:iO-i;return rO(t.getFullYear(),t.getMonth(),t.getDate()+e)}function u6(t,i=!1){return function(e,n){let r;if(i){let o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{let o=Bz(e),s=fge(o.getFullYear()),c=o.getTime()-s.getTime();r=1+Math.round(c/6048e5)}return km(r,t,Bx(n,g0.MinusSign))}}function nO(t,i=!1){return function(e,n){let o=Bz(e).getFullYear();return km(o,t,Bx(n,g0.MinusSign),i)}}var p6={};function hge(t){if(p6[t])return p6[t];let i;switch(t){case"G":case"GG":case"GGG":i=ha(3,Zo.Abbreviated);break;case"GGGG":i=ha(3,Zo.Wide);break;case"GGGGG":i=ha(3,Zo.Narrow);break;case"y":i=Fs(0,1,0,!1,!0);break;case"yy":i=Fs(0,2,0,!0,!0);break;case"yyy":i=Fs(0,3,0,!1,!0);break;case"yyyy":i=Fs(0,4,0,!1,!0);break;case"Y":i=nO(1);break;case"YY":i=nO(2,!0);break;case"YYY":i=nO(3);break;case"YYYY":i=nO(4);break;case"M":case"L":i=Fs(1,1,1);break;case"MM":case"LL":i=Fs(1,2,1);break;case"MMM":i=ha(2,Zo.Abbreviated);break;case"MMMM":i=ha(2,Zo.Wide);break;case"MMMMM":i=ha(2,Zo.Narrow);break;case"LLL":i=ha(2,Zo.Abbreviated,_c.Standalone);break;case"LLLL":i=ha(2,Zo.Wide,_c.Standalone);break;case"LLLLL":i=ha(2,Zo.Narrow,_c.Standalone);break;case"w":i=u6(1);break;case"ww":i=u6(2);break;case"W":i=u6(1,!0);break;case"d":i=Fs(2,1);break;case"dd":i=Fs(2,2);break;case"c":case"cc":i=Fs(7,1);break;case"ccc":i=ha(1,Zo.Abbreviated,_c.Standalone);break;case"cccc":i=ha(1,Zo.Wide,_c.Standalone);break;case"ccccc":i=ha(1,Zo.Narrow,_c.Standalone);break;case"cccccc":i=ha(1,Zo.Short,_c.Standalone);break;case"E":case"EE":case"EEE":i=ha(1,Zo.Abbreviated);break;case"EEEE":i=ha(1,Zo.Wide);break;case"EEEEE":i=ha(1,Zo.Narrow);break;case"EEEEEE":i=ha(1,Zo.Short);break;case"a":case"aa":case"aaa":i=ha(0,Zo.Abbreviated);break;case"aaaa":i=ha(0,Zo.Wide);break;case"aaaaa":i=ha(0,Zo.Narrow);break;case"b":case"bb":case"bbb":i=ha(0,Zo.Abbreviated,_c.Standalone,!0);break;case"bbbb":i=ha(0,Zo.Wide,_c.Standalone,!0);break;case"bbbbb":i=ha(0,Zo.Narrow,_c.Standalone,!0);break;case"B":case"BB":case"BBB":i=ha(0,Zo.Abbreviated,_c.Format,!0);break;case"BBBB":i=ha(0,Zo.Wide,_c.Format,!0);break;case"BBBBB":i=ha(0,Zo.Narrow,_c.Format,!0);break;case"h":i=Fs(3,1,-12);break;case"hh":i=Fs(3,2,-12);break;case"H":i=Fs(3,1);break;case"HH":i=Fs(3,2);break;case"m":i=Fs(4,1);break;case"mm":i=Fs(4,2);break;case"s":i=Fs(5,1);break;case"ss":i=Fs(5,2);break;case"S":i=Fs(6,1);break;case"SS":i=Fs(6,2);break;case"SSS":i=Fs(6,3);break;case"Z":case"ZZ":case"ZZZ":i=tO(0);break;case"ZZZZZ":i=tO(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":i=tO(1);break;case"OOOO":case"ZZZZ":case"zzzz":i=tO(2);break;default:return null}return p6[t]=i,i}function Uz(t,i){t=t.replace(/:/g,"");let e=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(e)?i:e}function gge(t,i){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+i),t}function vge(t,i,e){let r=t.getTimezoneOffset(),o=Uz(i,r);return gge(t,-1*(o-r))}function _ge(t){if(Iz(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(c=>+c);return rO(r,o-1,s)}let e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(lge))return Cge(n)}let i=new Date(t);if(!Iz(i))throw new Error(`Unable to convert "${t}" into a date`);return i}function Cge(t){let i=new Date(0),e=0,n=0,r=t[8]?i.setUTCFullYear:i.setFullYear,o=t[8]?i.setUTCHours:i.setHours;t[9]&&(e=Number(t[9]+t[10]),n=Number(t[9]+t[11])),r.call(i,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-e,c=Number(t[5]||0)-n,v=Number(t[6]||0),b=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(i,s,c,v,b),i}function Iz(t){return t instanceof Date&&!isNaN(t.valueOf())}var m6=/\s+/,Sz=[],At=(()=>{class t{_ngEl;_renderer;initialClasses=Sz;rawClass;stateMap=new Map;constructor(e,n){this._ngEl=e,this._renderer=n}set klass(e){this.initialClasses=e!=null?e.trim().split(m6):Sz}set ngClass(e){this.rawClass=typeof e=="string"?e.trim().split(m6):e}ngDoCheck(){for(let n of this.initialClasses)this._updateState(n,!0);let e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(let n of e)this._updateState(n,!0);else if(e!=null)for(let n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){let r=this.stateMap.get(e);r!==void 0?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(let e of this.stateMap){let n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){e=e.trim(),e.length>0&&e.split(m6).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(n){return new(n||t)(Et(ii),Et(Er))};static \u0275dir=kt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var oO=class{$implicit;ngForOf;index;count;constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ud=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){let e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){let n=this._viewContainer;e.forEachOperation((r,o,s)=>{if(r.previousIndex==null)n.createEmbeddedView(this._template,new oO(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)n.remove(o===null?void 0:o);else if(o!==null){let c=n.get(o);n.move(c,s),xz(c,r)}});for(let r=0,o=n.length;r<o;r++){let c=n.get(r).context;c.index=r,c.count=o,c.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{let o=n.get(r.currentIndex);xz(o,r)})}static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(Et($l),Et(Dd),Et(a6))};static \u0275dir=kt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function xz(t,i){t.context.$implicit=i.item}var ms=(()=>{class t{_viewContainer;_context=new aO;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Az(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Az(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||t)(Et($l),Et(Dd))};static \u0275dir=kt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),aO=class{$implicit=null;ngIf=null};function Az(t,i){if(t&&!t.createEmbeddedView)throw new Lt(2020,!1)}var sO=class{_viewContainerRef;_templateRef;_created=!1;constructor(i,e){this._viewContainerRef=i,this._templateRef=e}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(i){i&&!this._created?this.create():!i&&this._created&&this.destroy()}},v0=(()=>{class t{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(e){this._ngSwitch=e,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){let n=e===this._ngSwitch;return this._lastCasesMatched||=n,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),n}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(let n of this._defaultViews)n.enforceState(e)}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return t})(),RC=(()=>{class t{ngSwitch;_view;ngSwitchCase;constructor(e,n,r){this.ngSwitch=r,r._addCase(),this._view=new sO(e,n)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(n){return new(n||t)(Et($l),Et(Dd),Et(v0,9))};static \u0275dir=kt({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return t})(),v6=(()=>{class t{constructor(e,n,r){r._addDefault(new sO(e,n))}static \u0275fac=function(n){return new(n||t)(Et($l),Et(Dd),Et(v0,9))};static \u0275dir=kt({type:t,selectors:[["","ngSwitchDefault",""]]})}return t})();var Ux=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(e,n,r){this._ngEl=e,this._differs=n,this._renderer=r}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){let e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,n){let[r,o]=e.split("."),s=r.indexOf("-")===-1?void 0:Bf.DashCase;n!=null?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${n}${o}`:n,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(e){e.forEachRemovedItem(n=>this._setStyle(n.key,null)),e.forEachAddedItem(n=>this._setStyle(n.key,n.currentValue)),e.forEachChangedItem(n=>this._setStyle(n.key,n.currentValue))}static \u0275fac=function(n){return new(n||t)(Et(ii),Et(YD),Et(Er))};static \u0275dir=kt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),hr=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let n=this._viewContainerRef;if(this._viewRef&&n.remove(n.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=n.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,n,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,n,r):!1,get:(e,n,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,n,r)}})}static \u0275fac=function(n){return new(n||t)(Et($l))};static \u0275dir=kt({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Ha]})}return t})();function $z(t,i){return new Lt(2100,!1)}var f6=class{createSubscription(i,e){return Ld(()=>i.subscribe({next:e,error:n=>{throw n}}))}dispose(i){Ld(()=>i.unsubscribe())}},h6=class{createSubscription(i,e){return i.then(e,n=>{throw n})}dispose(i){}},yge=new h6,Ege=new f6,Su=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(e){this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(nv(e))return yge;if(Z5(e))return Ege;throw $z(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(n){return new(n||t)(Et(nr,16))};static \u0275pipe=Sa({name:"async",type:t,pure:!1})}return t})();var Tge="mediumDate",Hz=new mn(""),Vz=new mn(""),$x=(()=>{class t{locale;defaultTimezone;defaultOptions;constructor(e,n,r){this.locale=e,this.defaultTimezone=n,this.defaultOptions=r}transform(e,n,r,o){if(e==null||e===""||e!==e)return null;try{let s=n??this.defaultOptions?.dateFormat??Tge,c=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Lz(e,s,o||this.locale,c)}catch(s){throw $z(t,s.message)}}static \u0275fac=function(n){return new(n||t)(Et(zD,16),Et(Hz,24),Et(Vz,24))};static \u0275pipe=Sa({name:"date",type:t,pure:!0})}return t})();function bge(t,i){return{key:t,value:i}}var _6=(()=>{class t{differs;constructor(e){this.differs=e}differ;keyValues=[];compareFn=Pz;transform(e,n=Pz){if(!e||!(e instanceof Map)&&typeof e!="object")return null;this.differ??=this.differs.find(e).create();let r=this.differ.diff(e),o=n!==this.compareFn;return r&&(this.keyValues=[],r.forEachItem(s=>{this.keyValues.push(bge(s.key,s.currentValue))})),(r||o)&&(n&&this.keyValues.sort(n),this.compareFn=n),this.keyValues}static \u0275fac=function(n){return new(n||t)(Et(YD,16))};static \u0275pipe=Sa({name:"keyvalue",type:t,pure:!1})}return t})();function Pz(t,i){let e=t.key,n=i.key;if(e===n)return 0;if(e==null)return 1;if(n==null)return-1;if(typeof e=="string"&&typeof n=="string")return e<n?-1:1;if(typeof e=="number"&&typeof n=="number")return e-n;if(typeof e=="boolean"&&typeof n=="boolean")return e<n?-1:1;let r=String(e),o=String(n);return r==o?0:r<o?-1:1}var Vr=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();function Hx(t,i){i=encodeURIComponent(i);for(let e of t.split(";")){let n=e.indexOf("="),[r,o]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(o)}return null}var C6="browser",jz="server";function lO(t){return t===jz}var MC=class{};var qz=(()=>{class t{static \u0275prov=Ce({token:t,providedIn:"root",factory:()=>new y6(E(Ot),window)})}return t})(),y6=class{document;window;offset=()=>[0,0];constructor(i,e){this.document=i,this.window=e}setOffset(i){Array.isArray(i)?this.offset=()=>i:this.offset=i}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(i){this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){let e=Ige(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.window.history.scrollRestoration=i}scrollToElement(i){let e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])}};function Ige(t,i){let e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=n.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(i)||o.querySelector(`[name="${i}"]`);if(s)return s}r=n.nextNode()}}return null}var Wz=t=>t.src,Sge=new mn("",{providedIn:"root",factory:()=>Wz});var Gz=/^((\s*\d+w\s*(,|$)){1,})$/;var xge=[1,2],Age=640;var Pge=1920,kge=1080;var zz=(()=>{class t{imageLoader=E(Sge);config=wge(E(Rq));renderer=E(Er);imgElement=E(ii).nativeElement;injector=E(_l);lcpObserver;_renderedSrc=null;ngSrc;ngSrcset;sizes;width;height;loading;priority=!1;loaderParams;disableOptimizedSrcset=!1;fill=!1;placeholder;placeholderConfig;src;srcset;constructor(){}ngOnInit(){c0("NgOptimizedImage"),this.placeholder&&this.removePlaceholderOnLoad(this.imgElement),this.setHostAttributes()}setHostAttributes(){this.fill?this.sizes||="100vw":(this.setHostAttribute("width",this.width.toString()),this.setHostAttribute("height",this.height.toString())),this.setHostAttribute("loading",this.getLoadingBehavior()),this.setHostAttribute("fetchpriority",this.getFetchPriority()),this.setHostAttribute("ng-img","true");let e=this.updateSrcAndSrcset();this.sizes?this.getLoadingBehavior()==="lazy"?this.setHostAttribute("sizes","auto, "+this.sizes):this.setHostAttribute("sizes",this.sizes):this.ngSrcset&&Gz.test(this.ngSrcset)&&this.getLoadingBehavior()==="lazy"&&this.setHostAttribute("sizes","auto, 100vw")}ngOnChanges(e){if(e.ngSrc&&!e.ngSrc.isFirstChange()){let n=this._renderedSrc;this.updateSrcAndSrcset(!0)}}callImageLoader(e){let n=e;return this.loaderParams&&(n.loaderParams=this.loaderParams),this.imageLoader(n)}getLoadingBehavior(){return!this.priority&&this.loading!==void 0?this.loading:this.priority?"eager":"lazy"}getFetchPriority(){return this.priority?"high":"auto"}getRewrittenSrc(){if(!this._renderedSrc){let e={src:this.ngSrc};this._renderedSrc=this.callImageLoader(e)}return this._renderedSrc}getRewrittenSrcset(){let e=Gz.test(this.ngSrcset);return this.ngSrcset.split(",").filter(r=>r!=="").map(r=>{r=r.trim();let o=e?parseFloat(r):parseFloat(r)*this.width;return`${this.callImageLoader({src:this.ngSrc,width:o})} ${r}`}).join(", ")}getAutomaticSrcset(){return this.sizes?this.getResponsiveSrcset():this.getFixedSrcset()}getResponsiveSrcset(){let{breakpoints:e}=this.config,n=e;return this.sizes?.trim()==="100vw"&&(n=e.filter(o=>o>=Age)),n.map(o=>`${this.callImageLoader({src:this.ngSrc,width:o})} ${o}w`).join(", ")}updateSrcAndSrcset(e=!1){e&&(this._renderedSrc=null);let n=this.getRewrittenSrc();this.setHostAttribute("src",n);let r;return this.ngSrcset?r=this.getRewrittenSrcset():this.shouldGenerateAutomaticSrcset()&&(r=this.getAutomaticSrcset()),r&&this.setHostAttribute("srcset",r),r}getFixedSrcset(){return xge.map(n=>`${this.callImageLoader({src:this.ngSrc,width:this.width*n})} ${n}x`).join(", ")}shouldGenerateAutomaticSrcset(){let e=!1;return this.sizes||(e=this.width>Pge||this.height>kge),!this.disableOptimizedSrcset&&!this.srcset&&this.imageLoader!==Wz&&!e}generatePlaceholder(e){let{placeholderResolution:n}=this.config;return e===!0?`url(${this.callImageLoader({src:this.ngSrc,width:n,isPlaceholder:!0})})`:typeof e=="string"?`url(${e})`:null}shouldBlurPlaceholder(e){return!e||!e.hasOwnProperty("blur")?!0:!!e.blur}removePlaceholderOnLoad(e){let n=()=>{let s=this.injector.get(nr);r(),o(),this.placeholder=!1,s.markForCheck()},r=this.renderer.listen(e,"load",n),o=this.renderer.listen(e,"error",n);Dge(e,n)}setHostAttribute(e,n){this.renderer.setAttribute(this.imgElement,e,n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["img","ngSrc",""]],hostVars:18,hostBindings:function(n,r){n&2&&Io("position",r.fill?"absolute":null)("width",r.fill?"100%":null)("height",r.fill?"100%":null)("inset",r.fill?"0":null)("background-size",r.placeholder?"cover":null)("background-position",r.placeholder?"50% 50%":null)("background-repeat",r.placeholder?"no-repeat":null)("background-image",r.placeholder?r.generatePlaceholder(r.placeholder):null)("filter",r.placeholder&&r.shouldBlurPlaceholder(r.placeholderConfig)?"blur(15px)":null)},inputs:{ngSrc:[2,"ngSrc","ngSrc",Oge],ngSrcset:"ngSrcset",sizes:"sizes",width:[2,"width","width",s6],height:[2,"height","height",s6],loading:"loading",priority:[2,"priority","priority",NC],loaderParams:"loaderParams",disableOptimizedSrcset:[2,"disableOptimizedSrcset","disableOptimizedSrcset",NC],fill:[2,"fill","fill",NC],placeholder:[2,"placeholder","placeholder",Nge],placeholderConfig:"placeholderConfig",src:"src",srcset:"srcset"},features:[Ha]})}return t})();function wge(t){let i={};return t.breakpoints&&(i.breakpoints=t.breakpoints.sort((e,n)=>e-n)),Object.assign({},S5,t,i)}function Dge(t,i){t.complete&&t.naturalWidth&&i()}function Oge(t){return typeof t=="string"?t:bu(t)}function Nge(t){return typeof t=="string"&&t!=="true"&&t!=="false"&&t!==""?t:NC(t)}var uO=new mn(""),I6=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r,o){return this._findPluginFor(n).addEventListener(e,n,r,o)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(o=>o.supports(e)),!n)throw new Lt(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||t)(yt(uO),yt(Si))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),Vx=class{_doc;constructor(i){this._doc=i}manager},cO="ng-app-id";function Yz(t){for(let i of t)i.remove()}function Jz(t,i){let e=i.createElement("style");return e.textContent=t,e}function Rge(t,i,e,n){let r=t.head?.querySelectorAll(`style[${cO}="${i}"],link[${cO}="${i}"]`);if(r)for(let o of r)o.removeAttribute(cO),o instanceof HTMLLinkElement?n.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&e.set(o.textContent,{usage:0,elements:[o]})}function T6(t,i){let e=i.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",t),e}var S6=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,r,o={}){this.doc=e,this.appId=n,this.nonce=r,this.isServer=lO(o),Rge(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let r of e)this.addUsage(r,this.inline,Jz);n?.forEach(r=>this.addUsage(r,this.external,T6))}removeStyles(e,n){for(let r of e)this.removeUsage(r,this.inline);n?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,n,r){let o=n.get(e);o?o.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(e,this.doc)))})}removeUsage(e,n){let r=n.get(e);r&&(r.usage--,r.usage<=0&&(Yz(r.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Yz(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:r}]of this.inline)r.push(this.addElement(e,Jz(n,this.doc)));for(let[n,{elements:r}]of this.external)r.push(this.addElement(e,T6(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(cO,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||t)(yt(Ot),yt(DD),yt(I5,8),yt(Zg))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),E6={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x6=/%COMP%/g;var Qz="%COMP%",Mge=`_nghost-${Qz}`,Fge=`_ngcontent-${Qz}`,Lge=!0,Bge=new mn("",{providedIn:"root",factory:()=>Lge});function Uge(t){return Fge.replace(x6,t)}function $ge(t){return Mge.replace(x6,t)}function Zz(t,i){return i.map(e=>e.replace(x6,t))}var Kx=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,r,o,s,c,v,b=null,x=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=v,this.nonce=b,this.tracingService=x,this.platformIsServer=lO(c),this.defaultRenderer=new jx(e,s,v,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===Lf.ShadowDom&&(n=Mn(at({},n),{encapsulation:Lf.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof dO?r.applyToHost(e):r instanceof Gx&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,o=r.get(n.id);if(!o){let s=this.doc,c=this.ngZone,v=this.eventManager,b=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,k=this.platformIsServer,O=this.tracingService;switch(n.encapsulation){case Lf.Emulated:o=new dO(v,b,n,this.appId,x,s,c,k,O);break;case Lf.ShadowDom:return new b6(v,b,e,n,s,c,this.nonce,k,O);default:o=new Gx(v,b,n,x,s,c,k,O);break}r.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||t)(yt(I6),yt(S6),yt(DD),yt(Bge),yt(Ot),yt(Zg),yt(Si),yt(I5),yt(YE,8))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),jx=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(i,e,n,r,o){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(i,e){return e?this.doc.createElementNS(E6[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(Xz(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(Xz(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){e.remove()}selectRootElement(i,e){let n=typeof i=="string"?this.doc.querySelector(i):i;if(!n)throw new Lt(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;let o=E6[r];o?i.setAttributeNS(o,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){let r=E6[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(Bf.DashCase|Bf.Important)?i.style.setProperty(e,n,r&Bf.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&Bf.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){i!=null&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n,r){if(typeof i=="string"&&(i=Iu().getGlobalEventTarget(this.doc,i),!i))throw new Lt(5102,!1);let o=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(i,e,o)),this.eventManager.addEventListener(i,e,o,r)}decoratePreventDefault(i){return e=>{if(e==="__ngUnwrap__")return i;(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))===!1&&e.preventDefault()}}};function Xz(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var b6=class extends jx{sharedStylesHost;hostEl;shadowRoot;constructor(i,e,n,r,o,s,c,v,b){super(i,o,s,v,b),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let x=r.styles;x=Zz(r.id,x);for(let O of x){let w=document.createElement("style");c&&w.setAttribute("nonce",c),w.textContent=O,this.shadowRoot.appendChild(w)}let k=r.getExternalStyles?.();if(k)for(let O of k){let w=T6(O,o);c&&w.setAttribute("nonce",c),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(null,e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Gx=class extends jx{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(i,e,n,r,o,s,c,v,b){super(i,o,s,c,v),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let x=n.styles;this.styles=b?Zz(b,x):x,this.styleUrls=n.getExternalStyles?.(b)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dO=class extends Gx{contentAttr;hostAttr;constructor(i,e,n,r,o,s,c,v,b){let x=r+"-"+n.id;super(i,e,n,o,s,c,v,b,x),this.contentAttr=Uge(x),this.hostAttr=$ge(x)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){let n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}};var pO=class t extends Nx{supportsDOMEvents=!0;static makeCurrent(){l6(new t)}onAndCancel(i,e,n,r){return i.addEventListener(e,n,r),()=>{i.removeEventListener(e,n,r)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.remove()}createElement(i,e){return e=e||this.getDefaultDocument(),e.createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return e==="window"?window:e==="document"?i:e==="body"?i.body:null}getBaseHref(i){let e=Hge();return e==null?null:Vge(e)}resetBaseElement(){qx=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return Hx(document.cookie,i)}},qx=null;function Hge(){return qx=qx||document.querySelector("base"),qx?qx.getAttribute("href"):null}function Vge(t){return new URL(t,document.baseURI).pathname}var mO=class{addToWindow(i){vl.getAngularTestability=(n,r=!0)=>{let o=i.findTestabilityInTree(n,r);if(o==null)throw new Lt(5103,!1);return o},vl.getAllAngularTestabilities=()=>i.getAllTestabilities(),vl.getAllAngularRootElements=()=>i.getAllRootElements();let e=n=>{let r=vl.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&n()};r.forEach(c=>{c.whenStable(s)})};vl.frameworkStabilizers||(vl.frameworkStabilizers=[]),vl.frameworkStabilizers.push(e)}findTestabilityInTree(i,e,n){if(e==null)return null;let r=i.getTestability(e);return r??(n?Iu().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},jge=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),tY=(()=>{class t extends Vx{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r,o){return e.addEventListener(n,r,o),()=>this.removeEventListener(e,n,r,o)}removeEventListener(e,n,r,o){return e.removeEventListener(n,r,o)}static \u0275fac=function(n){return new(n||t)(yt(Ot))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),eY=["alt","control","meta","shift"],Gge={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Kge={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nY=(()=>{class t extends Vx{constructor(e){super(e)}supports(e){return t.parseEventName(e)!=null}addEventListener(e,n,r,o){let s=t.parseEventName(n),c=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Iu().onAndCancel(e,s.domEventName,c,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let o=t._normalizeKey(n.pop()),s="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),s="code."),eY.forEach(b=>{let x=n.indexOf(b);x>-1&&(n.splice(x,1),s+=b+".")}),s+=o,n.length!=0||o.length===0)return null;let v={};return v.domEventName=r,v.fullKey=s,v}static matchEventFullKeyCode(e,n){let r=Gge[e.key]||e.key,o="";return n.indexOf("code.")>-1&&(r=e.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),eY.forEach(s=>{if(s!==r){let c=Kge[s];c(e)&&(o+=s+".")}}),o+=r,o===n)}static eventCallback(e,n,r){return o=>{t.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>n(o))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||t)(yt(Ot))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function qge(){pO.makeCurrent()}function Wge(){return new Cl}function zge(){return Nq(document),document}var Yge=[{provide:Zg,useValue:C6},{provide:T5,useValue:qge,multi:!0},{provide:Ot,useFactory:zge}],A6=o6(gz,"browser",Yge);var Jge=[{provide:kx,useClass:mO},{provide:X5,useClass:HD,deps:[Si,VD,kx]},{provide:HD,useClass:HD,deps:[Si,VD,kx]}],Xge=[{provide:TD,useValue:"root"},{provide:Cl,useFactory:Wge},{provide:uO,useClass:tY,multi:!0,deps:[Ot]},{provide:uO,useClass:nY,multi:!0,deps:[Ot]},Kx,S6,I6,{provide:Uf,useExisting:Kx},{provide:MC,useClass:jge},[]],Wx=(()=>{class t{constructor(){}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[...Xge,...Jge],imports:[Vr,vz]})}return t})();var ZE=class{},zx=class{},Cc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(i){i?typeof i=="string"?this.lazyInit=()=>{this.headers=new Map,i.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),o=e.slice(n+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.addHeaderEntry(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();let e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){let e=new t;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){let e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(i.name,e);let r=(i.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let o=i.value;if(!o)this.headers.delete(e),this.normalizedNames.delete(e);else{let s=this.headers.get(e);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}break}}addHeaderEntry(i,e){let n=i.toLowerCase();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(e):this.headers.set(n,[e])}setHeaderEntries(i,e){let n=(Array.isArray(e)?e:[e]).map(o=>o.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}};var hO=class{encodeKey(i){return iY(i)}encodeValue(i){return iY(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}};function Qge(t,i){let e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,o)),i.decodeValue(r.slice(o+1))],v=e.get(s)||[];v.push(c),e.set(s,v)}),e}var Zge=/%(\d[a-f0-9])/gi,eve={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iY(t){return encodeURIComponent(t).replace(Zge,(i,e)=>eve[e]??i)}function fO(t){return`${t}`}var Nr=class t{map;encoder;updates=null;cloneFrom=null;constructor(i={}){if(this.encoder=i.encoder||new hO,i.fromString){if(i.fromObject)throw new Lt(2805,!1);this.map=Qge(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{let n=i.fromObject[e],r=Array.isArray(n)?n.map(fO):[fO(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();let e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){let e=[];return Object.keys(i).forEach(n=>{let r=i[n];Array.isArray(r)?r.forEach(o=>{e.push({param:n,value:o,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{let e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>i!=="").join("&")}clone(i){let e=new t({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":let e=(i.op==="a"?this.map.get(i.param):void 0)||[];e.push(fO(i.value)),this.map.set(i.param,e);break;case"d":if(i.value!==void 0){let n=this.map.get(i.param)||[],r=n.indexOf(fO(i.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}else{this.map.delete(i.param);break}}}),this.cloneFrom=this.updates=null)}};var gO=class{map=new Map;set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}};function tve(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function rY(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function oY(t){return typeof Blob<"u"&&t instanceof Blob}function aY(t){return typeof FormData<"u"&&t instanceof FormData}function nve(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var sY="Content-Type",lY="Accept",dY="X-Request-URL",uY="text/plain",pY="application/json",ive=`${pY}, ${uY}, */*`,QE=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(i,e,n,r){this.url=e,this.method=i.toUpperCase();let o;if(tve(this.method)||r?(this.body=n!==void 0?n:null,o=r):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Cc,this.context??=new gO,!this.params)this.params=new Nr,this.urlWithParams=e;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),v=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+v+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||rY(this.body)||oY(this.body)||aY(this.body)||nve(this.body)?this.body:this.body instanceof Nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||aY(this.body)?null:oY(this.body)?this.body.type||null:rY(this.body)?null:typeof this.body=="string"?uY:this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?pY:null}clone(i={}){let e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,o=i.transferCache??this.transferCache,s=i.body!==void 0?i.body:this.body,c=i.withCredentials??this.withCredentials,v=i.reportProgress??this.reportProgress,b=i.headers||this.headers,x=i.params||this.params,k=i.context??this.context;return i.setHeaders!==void 0&&(b=Object.keys(i.setHeaders).reduce((O,w)=>O.set(w,i.setHeaders[w]),b)),i.setParams&&(x=Object.keys(i.setParams).reduce((O,w)=>O.set(w,i.setParams[w]),x)),new t(e,n,s,{params:x,headers:b,context:k,reportProgress:v,responseType:r,withCredentials:c,transferCache:o})}},$d=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}($d||{}),eT=class{headers;status;statusText;url;ok;type;constructor(i,e=200,n="OK"){this.headers=i.headers||new Cc,this.status=i.status!==void 0?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}},vO=class t extends eT{constructor(i={}){super(i)}type=$d.ResponseHeader;clone(i={}){return new t({headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},Yx=class t extends eT{body;constructor(i={}){super(i),this.body=i.body!==void 0?i.body:null}type=$d.Response;clone(i={}){return new t({body:i.body!==void 0?i.body:this.body,headers:i.headers||this.headers,status:i.status!==void 0?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}},rv=class extends eT{name="HttpErrorResponse";message;error;ok=!1;constructor(i){super(i,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${i.url||"(unknown url)"}`:this.message=`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}},rve=200,ove=204,xu=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(xu||{});function P6(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ss=(()=>{class t{handler;constructor(e){this.handler=e}request(e,n,r={}){let o;if(e instanceof QE)o=e;else{let v;r.headers instanceof Cc?v=r.headers:v=new Cc(r.headers);let b;r.params&&(r.params instanceof Nr?b=r.params:b=new Nr({fromObject:r.params})),o=new QE(e,n,r.body!==void 0?r.body:null,{headers:v,context:r.context,params:b,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=an(o).pipe(hp(v=>this.handler.handle(v)));if(e instanceof QE||r.observe==="events")return s;let c=s.pipe(Yt(v=>v instanceof Yx));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(cn(v=>{if(v.body!==null&&!(v.body instanceof ArrayBuffer))throw new Lt(2806,!1);return v.body}));case"blob":return c.pipe(cn(v=>{if(v.body!==null&&!(v.body instanceof Blob))throw new Lt(2807,!1);return v.body}));case"text":return c.pipe(cn(v=>{if(v.body!==null&&typeof v.body!="string")throw new Lt(2808,!1);return v.body}));case"json":default:return c.pipe(cn(v=>v.body))}case"response":return c;default:throw new Lt(2809,!1)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Nr().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,P6(r,n))}post(e,n,r={}){return this.request("POST",e,P6(r,n))}put(e,n,r={}){return this.request("PUT",e,P6(r,n))}static \u0275fac=function(n){return new(n||t)(yt(ZE))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var ave=new mn("");function mY(t,i){return i(t)}function sve(t,i){return(e,n)=>i.intercept(e,{handle:r=>t(r,n)})}function lve(t,i,e){return(n,r)=>Nd(e,()=>i(n,o=>t(o,r)))}var wm=new mn(""),w6=new mn(""),fY=new mn(""),D6=new mn("",{providedIn:"root",factory:()=>!0});function cve(){let t=null;return(i,e)=>{t===null&&(t=(E(wm,{optional:!0})??[]).reduceRight(sve,mY));let n=E(l0);if(E(D6)){let o=n.add();return t(i,e).pipe(gp(()=>n.remove(o)))}else return t(i,e)}}var _O=(()=>{class t extends ZE{backend;injector;chain=null;pendingTasks=E(l0);contributeToStability=E(D6);constructor(e,n){super(),this.backend=e,this.injector=n}handle(e){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(w6),...this.injector.get(fY,[])]));this.chain=n.reduceRight((r,o)=>lve(r,o,this.injector),mY)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(gp(()=>this.pendingTasks.remove(n)))}else return this.chain(e,n=>this.backend.handle(n))}static \u0275fac=function(n){return new(n||t)(yt(zx),yt(gc))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var dve=/^\)\]\}',?\n/,uve=RegExp(`^${dY}:`,"m");function pve(t){return"responseURL"in t&&t.responseURL?t.responseURL:uve.test(t.getAllResponseHeaders())?t.getResponseHeader(dY):null}var k6=(()=>{class t{xhrFactory;constructor(e){this.xhrFactory=e}handle(e){if(e.method==="JSONP")throw new Lt(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?Qo(n.\u0275loadImpl()):an(null)).pipe(Ia(()=>new Ki(o=>{let s=n.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((F,L)=>s.setRequestHeader(F,L.join(","))),e.headers.has(lY)||s.setRequestHeader(lY,ive),!e.headers.has(sY)){let F=e.detectContentTypeHeader();F!==null&&s.setRequestHeader(sY,F)}if(e.responseType){let F=e.responseType.toLowerCase();s.responseType=F!=="json"?F:"text"}let c=e.serializeBody(),v=null,b=()=>{if(v!==null)return v;let F=s.statusText||"OK",L=new Cc(s.getAllResponseHeaders()),V=pve(s)||e.url;return v=new vO({headers:L,status:s.status,statusText:F,url:V}),v},x=()=>{let{headers:F,status:L,statusText:V,url:B}=b(),q=null;L!==ove&&(q=typeof s.response>"u"?s.responseText:s.response),L===0&&(L=q?rve:0);let W=L>=200&&L<300;if(e.responseType==="json"&&typeof q=="string"){let ie=q;q=q.replace(dve,"");try{q=q!==""?JSON.parse(q):null}catch(se){q=ie,W&&(W=!1,q={error:se,text:q})}}W?(o.next(new Yx({body:q,headers:F,status:L,statusText:V,url:B||void 0})),o.complete()):o.error(new rv({error:q,headers:F,status:L,statusText:V,url:B||void 0}))},k=F=>{let{url:L}=b(),V=new rv({error:F,status:s.status||0,statusText:s.statusText||"Unknown Error",url:L||void 0});o.error(V)},O=!1,w=F=>{O||(o.next(b()),O=!0);let L={type:$d.DownloadProgress,loaded:F.loaded};F.lengthComputable&&(L.total=F.total),e.responseType==="text"&&s.responseText&&(L.partialText=s.responseText),o.next(L)},M=F=>{let L={type:$d.UploadProgress,loaded:F.loaded};F.lengthComputable&&(L.total=F.total),o.next(L)};return s.addEventListener("load",x),s.addEventListener("error",k),s.addEventListener("timeout",k),s.addEventListener("abort",k),e.reportProgress&&(s.addEventListener("progress",w),c!==null&&s.upload&&s.upload.addEventListener("progress",M)),s.send(c),o.next({type:$d.Sent}),()=>{s.removeEventListener("error",k),s.removeEventListener("abort",k),s.removeEventListener("load",x),s.removeEventListener("timeout",k),e.reportProgress&&(s.removeEventListener("progress",w),c!==null&&s.upload&&s.upload.removeEventListener("progress",M)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(n){return new(n||t)(yt(MC))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),hY=new mn(""),mve="XSRF-TOKEN",fve=new mn("",{providedIn:"root",factory:()=>mve}),hve="X-XSRF-TOKEN",gve=new mn("",{providedIn:"root",factory:()=>hve}),Jx=class{},vve=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r}getToken(){if(this.platform==="server")return null;let e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hx(e,this.cookieName),this.lastCookieString=e),this.lastToken}static \u0275fac=function(n){return new(n||t)(yt(Ot),yt(Zg),yt(fve))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function _ve(t,i){let e=t.url.toLowerCase();if(!E(hY)||t.method==="GET"||t.method==="HEAD"||e.startsWith("http://")||e.startsWith("https://"))return i(t);let n=E(Jx).getToken(),r=E(gve);return n!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),i(t)}var O6=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(O6||{});function Cve(t,i){return{\u0275kind:t,\u0275providers:i}}function Hd(...t){let i=[Ss,k6,_O,{provide:ZE,useExisting:_O},{provide:zx,useFactory:()=>E(ave,{optional:!0})??E(k6)},{provide:w6,useValue:_ve,multi:!0},{provide:hY,useValue:!0},{provide:Jx,useClass:vve}];for(let e of t)i.push(...e.\u0275providers);return Cx(i)}var cY=new mn("");function Vd(){return Cve(O6.LegacyInterceptors,[{provide:cY,useFactory:cve},{provide:w6,useExisting:cY,multi:!0}])}var no=(()=>{class t{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||t)(yt(Ot))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ga=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:function(n){let r=null;return n?r=new(n||t):r=yt(Eve),r},providedIn:"root"})}return t})(),Eve=(()=>{class t extends ga{_doc;constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case bs.NONE:return n;case bs.HTML:return ev(n,"HTML")?bu(n):Yq(this._doc,String(n)).toString();case bs.STYLE:return ev(n,"Style")?bu(n):n;case bs.SCRIPT:if(ev(n,"Script"))return bu(n);throw new Lt(5200,!1);case bs.URL:return ev(n,"URL")?bu(n):ND(String(n));case bs.RESOURCE_URL:if(ev(n,"ResourceURL"))return bu(n);throw new Lt(5201,!1);default:throw new Lt(5202,!1)}}bypassSecurityTrustHtml(e){return Uq(e)}bypassSecurityTrustStyle(e){return $q(e)}bypassSecurityTrustScript(e){return Hq(e)}bypassSecurityTrustUrl(e){return Vq(e)}bypassSecurityTrustResourceUrl(e){return jq(e)}static \u0275fac=function(n){return new(n||t)(yt(Ot))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var E2=Kk(IJ(),1);var Dr="primary",u2=Symbol("RouteTitle"),U6=class{params;constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){let e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function BC(t){return new U6(t)}function OJ(t,i,e){let n=e.path.split("/");if(n.length>t.length||e.pathMatch==="full"&&(i.hasChildren()||n.length<t.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],c=t[o];if(s[0]===":")r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Tve(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!jf(t[e],i[e]))return!1;return!0}function jf(t,i){let e=t?$6(t):void 0,n=i?$6(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!NJ(t[r],i[r]))return!1;return!0}function $6(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function NJ(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;let e=[...t].sort(),n=[...i].sort();return e.every((r,o)=>n[o]===r)}else return t===i}function RJ(t){return t.length>0?t[t.length-1]:null}function cv(t){return Tm(t)?t:nv(t)?Qo(Promise.resolve(t)):an(t)}var bve={exact:FJ,subset:LJ},MJ={exact:Ive,subset:Sve,ignored:()=>!0};function SJ(t,i,e){return bve[e.paths](t.root,i.root,e.matrixParams)&&MJ[e.queryParams](t.queryParams,i.queryParams)&&!(e.fragment==="exact"&&t.fragment!==i.fragment)}function Ive(t,i){return jf(t,i)}function FJ(t,i,e){if(!FC(t.segments,i.segments)||!oN(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(let n in i.children)if(!t.children[n]||!FJ(t.children[n],i.children[n],e))return!1;return!0}function Sve(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>NJ(t[e],i[e]))}function LJ(t,i,e){return BJ(t,i,i.segments,e)}function BJ(t,i,e,n){if(t.segments.length>e.length){let r=t.segments.slice(0,e.length);return!(!FC(r,e)||i.hasChildren()||!oN(r,e,n))}else if(t.segments.length===e.length){if(!FC(t.segments,e)||!oN(t.segments,e,n))return!1;for(let r in i.children)if(!t.children[r]||!LJ(t.children[r],i.children[r],n))return!1;return!0}else{let r=e.slice(0,t.segments.length),o=e.slice(t.segments.length);return!FC(t.segments,r)||!oN(t.segments,r,n)||!t.children[Dr]?!1:BJ(t.children[Dr],i,o,n)}}function oN(t,i,e){return i.every((n,r)=>MJ[e](t[r].parameters,n.parameters))}var Gf=class{root;queryParams;fragment;_queryParamMap;constructor(i=new Ao([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=BC(this.queryParams),this._queryParamMap}toString(){return Pve.serialize(this)}},Ao=class{segments;children;parent=null;constructor(i,e){this.segments=i,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return aN(this)}},sv=class{path;parameters;_parameterMap;constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap??=BC(this.parameters),this._parameterMap}toString(){return $J(this)}};function xve(t,i){return FC(t,i)&&t.every((e,n)=>jf(e.parameters,i[n].parameters))}function FC(t,i){return t.length!==i.length?!1:t.every((e,n)=>e.path===i[n].path)}function Ave(t,i){let e=[];return Object.entries(t.children).forEach(([n,r])=>{n===Dr&&(e=e.concat(i(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Dr&&(e=e.concat(i(r,n)))}),e}var UC=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>new lv,providedIn:"root"})}return t})(),lv=class{parse(i){let e=new V6(i);return new Gf(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){let e=`/${Zx(i.root,!0)}`,n=Dve(i.queryParams),r=typeof i.fragment=="string"?`#${kve(i.fragment)}`:"";return`${e}${n}${r}`}},Pve=new lv;function aN(t){return t.segments.map(i=>$J(i)).join("/")}function Zx(t,i){if(!t.hasChildren())return aN(t);if(i){let e=t.children[Dr]?Zx(t.children[Dr],!1):"",n=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Dr&&n.push(`${r}:${Zx(o,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=Ave(t,(n,r)=>r===Dr?[Zx(t.children[Dr],!1)]:[`${r}:${Zx(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[Dr]!=null?`${aN(t)}/${e[0]}`:`${aN(t)}/(${e.join("//")})`}}function UJ(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function iN(t){return UJ(t).replace(/%3B/gi,";")}function kve(t){return encodeURI(t)}function H6(t){return UJ(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function sN(t){return decodeURIComponent(t)}function xJ(t){return sN(t.replace(/\+/g,"%20"))}function $J(t){return`${H6(t.path)}${wve(t.parameters)}`}function wve(t){return Object.entries(t).map(([i,e])=>`;${H6(i)}=${H6(e)}`).join("")}function Dve(t){let i=Object.entries(t).map(([e,n])=>Array.isArray(n)?n.map(r=>`${iN(e)}=${iN(r)}`).join("&"):`${iN(e)}=${iN(n)}`).filter(e=>e);return i.length?`?${i.join("&")}`:""}var Ove=/^[^\/()?;#]+/;function M6(t){let i=t.match(Ove);return i?i[0]:""}var Nve=/^[^\/()?;=#]+/;function Rve(t){let i=t.match(Nve);return i?i[0]:""}var Mve=/^[^=?&#]+/;function Fve(t){let i=t.match(Mve);return i?i[0]:""}var Lve=/^[^&#]+/;function Bve(t){let i=t.match(Lve);return i?i[0]:""}var V6=class{url;remaining;constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ao([],{}):new Ao([],this.parseChildren())}parseQueryParams(){let i={};if(this.consumeOptional("?"))do this.parseQueryParam(i);while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[Dr]=new Ao(i,e)),n}parseSegment(){let i=M6(this.remaining);if(i===""&&this.peekStartsWith(";"))throw new Lt(4009,!1);return this.capture(i),new sv(sN(i),this.parseMatrixParams())}parseMatrixParams(){let i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){let e=Rve(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=M6(this.remaining);r&&(n=r,this.capture(n))}i[sN(e)]=sN(n)}parseQueryParam(i){let e=Fve(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let s=Bve(this.remaining);s&&(n=s,this.capture(n))}let r=xJ(e),o=xJ(n);if(i.hasOwnProperty(r)){let s=i[r];Array.isArray(s)||(s=[s],i[r]=s),s.push(o)}else i[r]=o}parseParens(i){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=M6(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Lt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):i&&(o=Dr);let s=this.parseChildren();e[o]=Object.keys(s).length===1?s[Dr]:new Ao([],s),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return this.peekStartsWith(i)?(this.remaining=this.remaining.substring(i.length),!0):!1}capture(i){if(!this.consumeOptional(i))throw new Lt(4011,!1)}};function HJ(t){return t.segments.length>0?new Ao([],{[Dr]:t}):t}function VJ(t){let i={};for(let[n,r]of Object.entries(t.children)){let o=VJ(r);if(n===Dr&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))i[s]=c;else(o.segments.length>0||o.hasChildren())&&(i[n]=o)}let e=new Ao(t.segments,i);return Uve(e)}function Uve(t){if(t.numberOfChildren===1&&t.children[Dr]){let i=t.children[Dr];return new Ao(t.segments.concat(i.segments),i.children)}return t}function oT(t){return t instanceof Gf}function jJ(t,i,e=null,n=null){let r=GJ(t);return KJ(r,i,e,n)}function GJ(t){let i;function e(o){let s={};for(let v of o.children){let b=e(v);s[v.outlet]=b}let c=new Ao(o.url,s);return o===t&&(i=c),c}let n=e(t.root),r=HJ(n);return i??r}function KJ(t,i,e,n){let r=t;for(;r.parent;)r=r.parent;if(i.length===0)return F6(r,r,r,e,n);let o=$ve(i);if(o.toRoot())return F6(r,r,new Ao([],{}),e,n);let s=Hve(o,r,t),c=s.processChildren?t2(s.segmentGroup,s.index,o.commands):WJ(s.segmentGroup,s.index,o.commands);return F6(r,s.segmentGroup,c,e,n)}function cN(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function i2(t){return typeof t=="object"&&t!=null&&t.outlets}function F6(t,i,e,n,r){let o={};n&&Object.entries(n).forEach(([v,b])=>{o[v]=Array.isArray(b)?b.map(x=>`${x}`):`${b}`});let s;t===i?s=e:s=qJ(t,i,e);let c=HJ(VJ(s));return new Gf(c,o,r)}function qJ(t,i,e){let n={};return Object.entries(t.children).forEach(([r,o])=>{o===i?n[r]=e:n[r]=qJ(o,i,e)}),new Ao(t.segments,n)}var dN=class{isAbsolute;numberOfDoubleDots;commands;constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&cN(n[0]))throw new Lt(4003,!1);let r=n.find(i2);if(r&&r!==RJ(n))throw new Lt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $ve(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dN(!0,0,t);let i=0,e=!1,n=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([v,b])=>{c[v]=typeof b=="string"?b.split("/"):b}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,v)=>{v==0&&c==="."||(v==0&&c===""?e=!0:c===".."?i++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new dN(e,i,n)}var iT=class{segmentGroup;processChildren;index;constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}};function Hve(t,i,e){if(t.isAbsolute)return new iT(i,!0,0);if(!e)return new iT(i,!1,NaN);if(e.parent===null)return new iT(e,!0,0);let n=cN(t.commands[0])?0:1,r=e.segments.length-1+n;return Vve(e,r,t.numberOfDoubleDots)}function Vve(t,i,e){let n=t,r=i,o=e;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Lt(4005,!1);r=n.segments.length}return new iT(n,!1,r-o)}function jve(t){return i2(t[0])?t[0].outlets:{[Dr]:t}}function WJ(t,i,e){if(t??=new Ao([],{}),t.segments.length===0&&t.hasChildren())return t2(t,i,e);let n=Gve(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ao(t.segments.slice(0,n.pathIndex),{});return o.children[Dr]=new Ao(t.segments.slice(n.pathIndex),t.children),t2(o,0,r)}else return n.match&&r.length===0?new Ao(t.segments,{}):n.match&&!t.hasChildren()?j6(t,i,e):n.match?t2(t,0,r):j6(t,i,e)}function t2(t,i,e){if(e.length===0)return new Ao(t.segments,{});{let n=jve(e),r={};if(Object.keys(n).some(o=>o!==Dr)&&t.children[Dr]&&t.numberOfChildren===1&&t.children[Dr].segments.length===0){let o=t2(t.children[Dr],i,e);return new Ao(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=WJ(t.children[o],i,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Ao(t.segments,r)}}function Gve(t,i,e){let n=0,r=i,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return o;let s=t.segments[r],c=e[n];if(i2(c))break;let v=`${c}`,b=n<e.length-1?e[n+1]:null;if(r>0&&v===void 0)break;if(v&&b&&typeof b=="object"&&b.outlets===void 0){if(!PJ(v,b,s))return o;n+=2}else{if(!PJ(v,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function j6(t,i,e){let n=t.segments.slice(0,i),r=0;for(;r<e.length;){let o=e[r];if(i2(o)){let v=Kve(o.outlets);return new Ao(n,v)}if(r===0&&cN(e[0])){let v=t.segments[i];n.push(new sv(v.path,AJ(e[0]))),r++;continue}let s=i2(o)?o.outlets[Dr]:`${o}`,c=r<e.length-1?e[r+1]:null;s&&c&&cN(c)?(n.push(new sv(s,AJ(c))),r+=2):(n.push(new sv(s,{})),r++)}return new Ao(n,{})}function Kve(t){let i={};return Object.entries(t).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(i[e]=j6(new Ao([],{}),0,n))}),i}function AJ(t){let i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function PJ(t,i,e){return t==e.path&&jf(i,e.parameters)}var lN="imperative",ll=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ll||{}),Pu=class{id;url;constructor(i,e){this.id=i,this.url=e}},Jc=class extends Pu{type=ll.NavigationStart;navigationTrigger;restoredState;constructor(i,e,n="imperative",r=null){super(i,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},va=class extends Pu{urlAfterRedirects;type=ll.NavigationEnd;constructor(i,e,n){super(i,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jd=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jd||{}),aT=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(aT||{}),Gd=class extends Pu{reason;code;type=ll.NavigationCancel;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Kf=class extends Pu{reason;code;type=ll.NavigationSkipped;constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r}},Ep=class extends Pu{error;target;type=ll.NavigationError;constructor(i,e,n,r){super(i,e),this.error=n,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},r2=class extends Pu{urlAfterRedirects;state;type=ll.RoutesRecognized;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uN=class extends Pu{urlAfterRedirects;state;type=ll.GuardsCheckStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pN=class extends Pu{urlAfterRedirects;state;shouldActivate;type=ll.GuardsCheckEnd;constructor(i,e,n,r,o){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mN=class extends Pu{urlAfterRedirects;state;type=ll.ResolveStart;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fN=class extends Pu{urlAfterRedirects;state;type=ll.ResolveEnd;constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hN=class{route;type=ll.RouteConfigLoadStart;constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},gN=class{route;type=ll.RouteConfigLoadEnd;constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vN=class{snapshot;type=ll.ChildActivationStart;constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_N=class{snapshot;type=ll.ChildActivationEnd;constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},CN=class{snapshot;type=ll.ActivationStart;constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yN=class{snapshot;type=ll.ActivationEnd;constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sT=class{routerEvent;position;anchor;type=ll.Scroll;constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n}toString(){let i=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${i}')`}},o2=class{},lT=class{url;navigationBehaviorOptions;constructor(i,e){this.url=i,this.navigationBehaviorOptions=e}};function qve(t,i){return t.providers&&!t._injector&&(t._injector=Px(t.providers,i,`Route: ${t.path}`)),t._injector??i}function Dm(t){return t.outlet||Dr}function Wve(t,i){let e=t.filter(n=>Dm(n)===i);return e.push(...t.filter(n=>Dm(n)!==i)),e}function p2(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){let e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var EN=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return p2(this.route?.snapshot)??this.rootInjector}constructor(i){this.rootInjector=i,this.children=new $C(this.rootInjector)}},$C=(()=>{class t{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new EN(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||t)(yt(gc))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TN=class{_root;constructor(i){this._root=i}get root(){return this._root.value}parent(i){let e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){let e=G6(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){let e=G6(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){let e=K6(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return K6(i,this._root).map(e=>e.value)}};function G6(t,i){if(t===i.value)return i;for(let e of i.children){let n=G6(t,e);if(n)return n}return null}function K6(t,i){if(t===i.value)return[i];for(let e of i.children){let n=K6(t,e);if(n.length)return n.unshift(i),n}return[]}var Au=class{value;children;constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}};function nT(t){let i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}var a2=class extends TN{snapshot;constructor(i,e){super(i),this.snapshot=e,Z6(this,i)}toString(){return this.snapshot.toString()}};function zJ(t){let i=zve(t),e=new ni([new sv("",{})]),n=new ni({}),r=new ni({}),o=new ni({}),s=new ni(""),c=new Va(e,n,o,s,r,Dr,t,i.root);return c.snapshot=i.root,new a2(new Au(c,[]),i)}function zve(t){let i={},e={},n={},r="",o=new LC([],i,n,r,e,Dr,t,null,{});return new s2("",new Au(o,[]))}var Va=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(i,e,n,r,o,s,c,v){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=v,this.title=this.dataSubject?.pipe(cn(b=>b[u2]))??an(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(cn(i=>BC(i))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(cn(i=>BC(i))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bN(t,i,e="emptyOnly"){let n,{routeConfig:r}=t;return i!==null&&(e==="always"||r?.path===""||!i.component&&!i.routeConfig?.loadComponent)?n={params:at(at({},i.params),t.params),data:at(at({},i.data),t.data),resolve:at(at(at(at({},t.data),i.data),r?.data),t._resolvedData)}:n={params:at({},t.params),data:at({},t.data),resolve:at(at({},t.data),t._resolvedData??{})},r&&JJ(r)&&(n.resolve[u2]=r.title),n}var LC=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[u2]}constructor(i,e,n,r,o,s,c,v,b){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=v,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=BC(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=BC(this.queryParams),this._queryParamMap}toString(){let i=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${i}', path:'${e}')`}},s2=class extends TN{url;constructor(i,e){super(e),this.url=i,Z6(this,e)}toString(){return YJ(this._root)}};function Z6(t,i){i.value._routerState=t,i.children.forEach(e=>Z6(t,e))}function YJ(t){let i=t.children.length>0?` { ${t.children.map(YJ).join(", ")} } `:"";return`${t.value}${i}`}function L6(t){if(t.snapshot){let i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,jf(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),jf(i.params,e.params)||t.paramsSubject.next(e.params),Tve(i.url,e.url)||t.urlSubject.next(e.url),jf(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function q6(t,i){let e=jf(t.params,i.params)&&xve(t.url,i.url),n=!t.parent!=!i.parent;return e&&!n&&(!t.parent||q6(t.parent,i.parent))}function JJ(t){return typeof t.title=="string"||t.title===null}var XJ=new mn(""),ku=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Dr;activateEvents=new Jt;deactivateEvents=new Jt;attachEvents=new Jt;detachEvents=new Jt;routerOutletData=We(void 0);parentContexts=E($C);location=E($l);changeDetector=E(nr);inputBinder=E(m2,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Lt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Lt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Lt(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Lt(4013,!1);this._activatedRoute=e;let r=this.location,s=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,v=new W6(e,c,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:v,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ha]})}return t})(),W6=class{route;childContexts;parent;outletData;constructor(i,e,n,r){this.route=i,this.childContexts=e,this.parent=n,this.outletData=r}get(i,e){return i===Va?this.route:i===$C?this.childContexts:i===XJ?this.outletData:this.parent.get(i,e)}},m2=new mn(""),e8=(()=>{class t{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=tl([n.queryParams,n.params,n.data]).pipe(Ia(([o,s,c],v)=>(c=at(at(at({},o),s),c),v===0?an(c):Promise.resolve(c)))).subscribe(o=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let s=Cz(n.component);if(!s){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of s.inputs)e.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(e,r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function Yve(t,i,e){let n=l2(t,i._root,e?e._root:void 0);return new a2(n,i)}function l2(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=i.value;let r=Jve(t,i,e);return new Au(n,r)}else{if(t.shouldAttach(i.value)){let o=t.retrieve(i.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=i.value,s.children=i.children.map(c=>l2(t,c)),s}}let n=Xve(i.value),r=i.children.map(o=>l2(t,o));return new Au(n,r)}}function Jve(t,i,e){return i.children.map(n=>{for(let r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return l2(t,n,r);return l2(t,n)})}function Xve(t){return new Va(new ni(t.url),new ni(t.params),new ni(t.queryParams),new ni(t.fragment),new ni(t.data),t.outlet,t.component,t)}var cT=class{redirectTo;navigationBehaviorOptions;constructor(i,e){this.redirectTo=i,this.navigationBehaviorOptions=e}},QJ="ngNavigationCancelingError";function IN(t,i){let{redirectTo:e,navigationBehaviorOptions:n}=oT(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=ZJ(!1,jd.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function ZJ(t,i){let e=new Error(`NavigationCancelingError: ${t||""}`);return e[QJ]=!0,e.cancellationCode=i,e}function Qve(t){return eX(t)&&oT(t.url)}function eX(t){return!!t&&t[QJ]}var Zve=(t,i,e,n)=>cn(r=>(new z6(i,r.targetRouterState,r.currentRouterState,e,n).activate(t),r)),z6=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(i,e,n,r,o){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(i){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),L6(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){let r=nT(e);i.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(i,e,n){let r=i.value,o=e?e.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(i,e,s.children)}else this.deactivateChildRoutes(i,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=nT(i);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:s,route:i,contexts:c})}}deactivateRouteAndOutlet(i,e){let n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,o=nT(i);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){let r=nT(e);i.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new yN(o.value.snapshot))}),i.children.length&&this.forwardEvent(new _N(i.value.snapshot))}activateRoutes(i,e,n){let r=i.value,o=e?e.value:null;if(L6(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,s.children)}else this.activateChildRoutes(i,e,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),L6(c.route.value),this.activateChildRoutes(i,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(i,null,s.children)}else this.activateChildRoutes(i,null,n)}},SN=class{path;route;constructor(i){this.path=i,this.route=this.path[this.path.length-1]}},rT=class{component;route;constructor(i,e){this.component=i,this.route=e}};function e_e(t,i,e){let n=t._root,r=i?i._root:null;return e2(n,r,e,[n.value])}function t_e(t){let i=t.routeConfig?t.routeConfig.canActivateChild:null;return!i||i.length===0?null:{node:t,guards:i}}function uT(t,i){let e=Symbol(),n=i.get(t,e);return n===e?typeof t=="function"&&!IK(t)?t:i.get(t):n}function e2(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=nT(i);return t.children.forEach(s=>{n_e(s,o[s.value.outlet],e,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>n2(c,e.getContext(s),r)),r}function n_e(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=i?i.value:null,c=e?e.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let v=i_e(s,o,o.routeConfig.runGuardsAndResolvers);v?r.canActivateChecks.push(new SN(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?e2(t,i,c?c.children:null,n,r):e2(t,i,e,n,r),v&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new rT(c.outlet.component,s))}else s&&n2(i,c,r),r.canActivateChecks.push(new SN(n)),o.component?e2(t,null,c?c.children:null,n,r):e2(t,null,e,n,r);return r}function i_e(t,i,e){if(typeof e=="function")return e(t,i);switch(e){case"pathParamsChange":return!FC(t.url,i.url);case"pathParamsOrQueryParamsChange":return!FC(t.url,i.url)||!jf(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q6(t,i)||!jf(t.queryParams,i.queryParams);case"paramsChange":default:return!q6(t,i)}}function n2(t,i,e){let n=nT(t),r=t.value;Object.entries(n).forEach(([o,s])=>{r.component?i?n2(s,i.children.getContext(o),e):n2(s,null,e):n2(s,i,e)}),r.component?i&&i.outlet&&i.outlet.isActivated?e.canDeactivateChecks.push(new rT(i.outlet.component,r)):e.canDeactivateChecks.push(new rT(null,r)):e.canDeactivateChecks.push(new rT(null,r))}function f2(t){return typeof t=="function"}function r_e(t){return typeof t=="boolean"}function o_e(t){return t&&f2(t.canLoad)}function a_e(t){return t&&f2(t.canActivate)}function s_e(t){return t&&f2(t.canActivateChild)}function l_e(t){return t&&f2(t.canDeactivate)}function c_e(t){return t&&f2(t.canMatch)}function tX(t){return t instanceof Cu||t?.name==="EmptyError"}var rN=Symbol("INITIAL_VALUE");function dT(){return Ia(t=>tl(t.map(i=>i.pipe(Za(1),k4(rN)))).pipe(cn(i=>{for(let e of i)if(e!==!0){if(e===rN)return rN;if(e===!1||d_e(e))return e}return!0}),Yt(i=>i!==rN),Za(1)))}function d_e(t){return oT(t)||t instanceof cT}function u_e(t,i){return ba(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return s.length===0&&o.length===0?an(Mn(at({},e),{guardsResult:!0})):p_e(s,n,r,t).pipe(ba(c=>c&&r_e(c)?m_e(n,o,t,i):an(c)),cn(c=>Mn(at({},e),{guardsResult:c})))})}function p_e(t,i,e,n){return Qo(t).pipe(ba(r=>__e(r.component,r.route,e,i,n)),Ul(r=>r!==!0,!0))}function m_e(t,i,e,n){return Qo(i).pipe(hp(r=>bm(h_e(r.route.parent,n),f_e(r.route,n),v_e(t,r.path,e),g_e(t,r.route,e))),Ul(r=>r!==!0,!0))}function f_e(t,i){return t!==null&&i&&i(new CN(t)),an(!0)}function h_e(t,i){return t!==null&&i&&i(new vN(t)),an(!0)}function g_e(t,i,e){let n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||n.length===0)return an(!0);let r=n.map(o=>Zh(()=>{let s=p2(i)??e,c=uT(o,s),v=a_e(c)?c.canActivate(i,t):Nd(s,()=>c(i,t));return cv(v).pipe(Ul())}));return an(r).pipe(dT())}function v_e(t,i,e){let n=i[i.length-1],o=i.slice(0,i.length-1).reverse().map(s=>t_e(s)).filter(s=>s!==null).map(s=>Zh(()=>{let c=s.guards.map(v=>{let b=p2(s.node)??e,x=uT(v,b),k=s_e(x)?x.canActivateChild(n,t):Nd(b,()=>x(n,t));return cv(k).pipe(Ul())});return an(c).pipe(dT())}));return an(o).pipe(dT())}function __e(t,i,e,n,r){let o=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!o||o.length===0)return an(!0);let s=o.map(c=>{let v=p2(i)??r,b=uT(c,v),x=l_e(b)?b.canDeactivate(t,i,e,n):Nd(v,()=>b(t,i,e,n));return cv(x).pipe(Ul())});return an(s).pipe(dT())}function C_e(t,i,e,n){let r=i.canLoad;if(r===void 0||r.length===0)return an(!0);let o=r.map(s=>{let c=uT(s,t),v=o_e(c)?c.canLoad(i,e):Nd(t,()=>c(i,e));return cv(v)});return an(o).pipe(dT(),nX(n))}function nX(t){return _4(An(i=>{if(typeof i!="boolean")throw IN(t,i)}),cn(i=>i===!0))}function y_e(t,i,e,n){let r=i.canMatch;if(!r||r.length===0)return an(!0);let o=r.map(s=>{let c=uT(s,t),v=c_e(c)?c.canMatch(i,e):Nd(t,()=>c(i,e));return cv(v)});return an(o).pipe(dT(),nX(n))}var c2=class{segmentGroup;constructor(i){this.segmentGroup=i||null}},d2=class extends Error{urlTree;constructor(i){super(),this.urlTree=i}};function tT(t){return ma(new c2(t))}function E_e(t){return ma(new Lt(4e3,!1))}function T_e(t){return ma(ZJ(!1,jd.GuardRejected))}var Y6=class{urlSerializer;urlTree;constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return an(n);if(r.numberOfChildren>1||!r.children[Dr])return E_e(`${i.redirectTo}`);r=r.children[Dr]}}applyRedirectCommands(i,e,n,r,o){if(typeof e!="string"){let c=e,{queryParams:v,fragment:b,routeConfig:x,url:k,outlet:O,params:w,data:M,title:F}=r,L=Nd(o,()=>c({params:w,data:M,queryParams:v,fragment:b,routeConfig:x,url:k,outlet:O,title:F}));if(L instanceof Gf)throw new d2(L);e=L}let s=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e[0]==="/")throw new d2(s);return s}applyRedirectCreateUrlTree(i,e,n,r){let o=this.createSegmentGroup(i,e.root,n,r);return new Gf(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){let n={};return Object.entries(i).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);n[r]=e[c]}else n[r]=o}),n}createSegmentGroup(i,e,n,r){let o=this.createSegments(i,e.segments,n,r),s={};return Object.entries(e.children).forEach(([c,v])=>{s[c]=this.createSegmentGroup(i,v,n,r)}),new Ao(o,s)}createSegments(i,e,n,r){return e.map(o=>o.path[0]===":"?this.findPosParam(i,o,r):this.findOrReturn(o,n))}findPosParam(i,e,n){let r=n[e.path.substring(1)];if(!r)throw new Lt(4001,!1);return r}findOrReturn(i,e){let n=0;for(let r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}},J6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function b_e(t,i,e,n,r){let o=iX(t,i,e);return o.matched?(n=qve(i,n),y_e(n,i,e,r).pipe(cn(s=>s===!0?o:at({},J6)))):an(o)}function iX(t,i,e){if(i.path==="**")return I_e(e);if(i.path==="")return i.pathMatch==="full"&&(t.hasChildren()||e.length>0)?at({},J6):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(i.matcher||OJ)(e,t,i);if(!r)return at({},J6);let o={};Object.entries(r.posParams??{}).forEach(([c,v])=>{o[c]=v.path});let s=r.consumed.length>0?at(at({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function I_e(t){return{matched:!0,parameters:t.length>0?RJ(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function kJ(t,i,e,n){return e.length>0&&A_e(t,e,n)?{segmentGroup:new Ao(i,x_e(n,new Ao(e,t.children))),slicedSegments:[]}:e.length===0&&P_e(t,e,n)?{segmentGroup:new Ao(t.segments,S_e(t,e,n,t.children)),slicedSegments:e}:{segmentGroup:new Ao(t.segments,t.children),slicedSegments:e}}function S_e(t,i,e,n){let r={};for(let o of e)if(AN(t,i,o)&&!n[Dm(o)]){let s=new Ao([],{});r[Dm(o)]=s}return at(at({},n),r)}function x_e(t,i){let e={};e[Dr]=i;for(let n of t)if(n.path===""&&Dm(n)!==Dr){let r=new Ao([],{});e[Dm(n)]=r}return e}function A_e(t,i,e){return e.some(n=>AN(t,i,n)&&Dm(n)!==Dr)}function P_e(t,i,e){return e.some(n=>AN(t,i,n))}function AN(t,i,e){return(t.hasChildren()||i.length>0)&&e.pathMatch==="full"?!1:e.path===""}function k_e(t,i,e){return i.length===0&&!t.children[e]}var X6=class{};function w_e(t,i,e,n,r,o,s="emptyOnly"){return new Q6(t,i,e,n,r,s,o).recognize()}var D_e=31,Q6=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(i,e,n,r,o,s,c){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Y6(this.urlSerializer,this.urlTree)}noMatchError(i){return new Lt(4002,`'${i.segmentGroup}'`)}recognize(){let i=kJ(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(cn(({children:e,rootSnapshot:n})=>{let r=new Au(n,e),o=new s2("",r),s=jJ(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(i){let e=new LC([],Object.freeze({}),Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Dr,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,i,Dr,e).pipe(cn(n=>({children:n,rootSnapshot:e})),No(n=>{if(n instanceof d2)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof c2?this.noMatchError(n):n}))}processSegmentGroup(i,e,n,r,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(i,e,n,o):this.processSegment(i,e,n,n.segments,r,!0,o).pipe(cn(s=>s instanceof Au?[s]:[]))}processChildren(i,e,n,r){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return Qo(o).pipe(hp(s=>{let c=n.children[s],v=Wve(e,s);return this.processSegmentGroup(i,v,c,s,r)}),A4((s,c)=>(s.push(...c),s)),qg(null),S4(),ba(s=>{if(s===null)return tT(n);let c=rX(s);return O_e(c),an(c)}))}processSegment(i,e,n,r,o,s,c){return Qo(e).pipe(hp(v=>this.processSegmentAgainstRoute(v._injector??i,e,v,n,r,o,s,c).pipe(No(b=>{if(b instanceof c2)return an(null);throw b}))),Ul(v=>!!v),No(v=>{if(tX(v))return k_e(n,r,o)?an(new X6):tT(n);throw v}))}processSegmentAgainstRoute(i,e,n,r,o,s,c,v){return Dm(n)!==s&&(s===Dr||!AN(r,o,n))?tT(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(i,r,n,o,s,v):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,n,o,s,v):tT(r)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,o,s,c){let{matched:v,parameters:b,consumedSegments:x,positionalParamSegments:k,remainingSegments:O}=iX(e,r,o);if(!v)return tT(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>D_e&&(this.allowRedirects=!1));let w=new LC(o,b,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,wJ(r),Dm(r),r.component??r._loadedComponent??null,r,DJ(r)),M=bN(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(M.params),w.data=Object.freeze(M.data);let F=this.applyRedirects.applyRedirectCommands(x,r.redirectTo,k,w,i);return this.applyRedirects.lineralizeSegments(r,F).pipe(ba(L=>this.processSegment(i,n,e,L.concat(O),s,!1,c)))}matchSegmentAgainstRoute(i,e,n,r,o,s){let c=b_e(e,n,r,i,this.urlSerializer);return n.path==="**"&&(e.children={}),c.pipe(Ia(v=>v.matched?(i=n._injector??i,this.getChildConfig(i,n,r).pipe(Ia(({routes:b})=>{let x=n._loadedInjector??i,{parameters:k,consumedSegments:O,remainingSegments:w}=v,M=new LC(O,k,Object.freeze(at({},this.urlTree.queryParams)),this.urlTree.fragment,wJ(n),Dm(n),n.component??n._loadedComponent??null,n,DJ(n)),F=bN(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(F.params),M.data=Object.freeze(F.data);let{segmentGroup:L,slicedSegments:V}=kJ(e,O,w,b);if(V.length===0&&L.hasChildren())return this.processChildren(x,b,L,M).pipe(cn(q=>new Au(M,q)));if(b.length===0&&V.length===0)return an(new Au(M,[]));let B=Dm(n)===o;return this.processSegment(x,b,L,V,B?Dr:o,!0,M).pipe(cn(q=>new Au(M,q instanceof Au?[q]:[])))}))):tT(e)))}getChildConfig(i,e,n){return e.children?an({routes:e.children,injector:i}):e.loadChildren?e._loadedRoutes!==void 0?an({routes:e._loadedRoutes,injector:e._loadedInjector}):C_e(i,e,n,this.urlSerializer).pipe(ba(r=>r?this.configLoader.loadChildren(i,e).pipe(An(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):T_e(e))):an({routes:[],injector:i})}};function O_e(t){t.sort((i,e)=>i.value.outlet===Dr?-1:e.value.outlet===Dr?1:i.value.outlet.localeCompare(e.value.outlet))}function N_e(t){let i=t.value.routeConfig;return i&&i.path===""}function rX(t){let i=[],e=new Set;for(let n of t){if(!N_e(n)){i.push(n);continue}let r=i.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):i.push(n)}for(let n of e){let r=rX(n.children);i.push(new Au(n.value,r))}return i.filter(n=>!e.has(n))}function wJ(t){return t.data||{}}function DJ(t){return t.resolve||{}}function R_e(t,i,e,n,r,o){return ba(s=>w_e(t,i,e,n,s.extractedUrl,r,o).pipe(cn(({state:c,tree:v})=>Mn(at({},s),{targetSnapshot:c,urlAfterRedirects:v}))))}function M_e(t,i){return ba(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return an(e);let o=new Set(r.map(v=>v.route)),s=new Set;for(let v of o)if(!s.has(v))for(let b of oX(v))s.add(b);let c=0;return Qo(s).pipe(hp(v=>o.has(v)?F_e(v,n,t,i):(v.data=bN(v,v.parent,t).resolve,an(void 0))),An(()=>c++),IE(1),ba(v=>c===s.size?an(e):el))})}function oX(t){let i=t.children.map(e=>oX(e)).flat();return[t,...i]}function F_e(t,i,e,n){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!JJ(r)&&(o[u2]=r.title),L_e(o,t,i,n).pipe(cn(s=>(t._resolvedData=s,t.data=bN(t,t.parent,e).resolve,null)))}function L_e(t,i,e,n){let r=$6(t);if(r.length===0)return an({});let o={};return Qo(r).pipe(ba(s=>B_e(t[s],i,e,n).pipe(Ul(),An(c=>{if(c instanceof cT)throw IN(new lv,c);o[s]=c}))),IE(1),cn(()=>o),No(s=>tX(s)?el:ma(s)))}function B_e(t,i,e,n){let r=p2(i)??n,o=uT(t,r),s=o.resolve?o.resolve(i,e):Nd(r,()=>o(i,e));return cv(s)}function B6(t){return Ia(i=>{let e=t(i);return e?Qo(e).pipe(cn(()=>i)):an(i)})}var t8=(()=>{class t{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(o=>o.outlet===Dr);return n}getResolvedTitleForRoute(e){return e.data[u2]}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E(aX),providedIn:"root"})}return t})(),aX=(()=>{class t extends t8{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||t)(yt(no))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),HC=new mn("",{providedIn:"root",factory:()=>({})}),n8=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,r){n&1&&D(0,"router-outlet")},dependencies:[ku],encapsulation:2})}return t})();function i8(t){let i=t.children&&t.children.map(i8),e=i?Mn(at({},t),{children:i}):at({},t);return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Dr&&(e.component=n8),e}var pT=new mn(""),PN=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(dz);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return an(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=cv(e.loadComponent()).pipe(cn(lX),An(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),gp(()=>{this.componentLoaders.delete(e)})),r=new Gg(n,()=>new qn).pipe(CE());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return an({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=sX(n,this.compiler,e,this.onLoadEndListener).pipe(gp(()=>{this.childrenLoaders.delete(n)})),s=new Gg(o,()=>new qn).pipe(CE());return this.childrenLoaders.set(n,s),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function sX(t,i,e,n){return cv(t.loadChildren()).pipe(cn(lX),ba(r=>r instanceof W5||Array.isArray(r)?an(r):Qo(i.compileModuleAsync(r))),cn(r=>{n&&n(t);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(e).injector,s=o.get(pT,[],{optional:!0,self:!0}).flat()),{routes:s.map(i8),injector:o}}))}function U_e(t){return t&&typeof t=="object"&&"default"in t}function lX(t){return U_e(t)?t.default:t}var kN=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E($_e),providedIn:"root"})}return t})(),$_e=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),r8=new mn(""),o8=new mn("");function cX(t,i,e){let n=t.get(o8),r=t.get(Ot);return t.get(Si).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(b=>setTimeout(b));let o,s=new Promise(b=>{o=b}),c=r.startViewTransition(()=>(o(),H_e(t))),{onViewTransitionCreated:v}=n;return v&&Nd(t,()=>v({transition:c,from:i,to:e})),s})}function H_e(t){return new Promise(i=>{P5({read:()=>setTimeout(i)},{injector:t})})}var a8=new mn(""),wN=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new qn;transitionAbortSubject=new qn;configLoader=E(PN);environmentInjector=E(gc);destroyRef=E(Oi);urlSerializer=E(UC);rootContexts=E($C);location=E(Vf);inputBindingEnabled=E(m2,{optional:!0})!==null;titleStrategy=E(t8);options=E(HC,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(kN);createViewTransition=E(r8,{optional:!0});navigationErrorHandler=E(a8,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>an(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new hN(r)),n=r=>this.events.next(new gN(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Mn(at({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new ni(null),this.transitions.pipe(Yt(n=>n!==null),Ia(n=>{let r=!1,o=!1;return an(n).pipe(Ia(s=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",jd.SupersededByNewNavigation),el;this.currentTransition=n,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?Mn(at({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=s.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&v!=="reload"){let b="";return this.events.next(new Kf(s.id,this.urlSerializer.serialize(s.rawUrl),b,aT.IgnoredSameUrlNavigation)),s.resolve(!1),el}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return an(s).pipe(Ia(b=>(this.events.next(new Jc(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),b.id!==this.navigationId?el:Promise.resolve(b))),R_e(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),An(b=>{n.targetSnapshot=b.targetSnapshot,n.urlAfterRedirects=b.urlAfterRedirects,this.currentNavigation=Mn(at({},this.currentNavigation),{finalUrl:b.urlAfterRedirects});let x=new r2(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(x)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:b,extractedUrl:x,source:k,restoredState:O,extras:w}=s,M=new Jc(b,this.urlSerializer.serialize(x),k,O);this.events.next(M);let F=zJ(this.rootComponentType).snapshot;return this.currentTransition=n=Mn(at({},s),{targetSnapshot:F,urlAfterRedirects:x,extras:Mn(at({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=x,an(n)}else{let b="";return this.events.next(new Kf(s.id,this.urlSerializer.serialize(s.extractedUrl),b,aT.IgnoredByUrlHandlingStrategy)),s.resolve(!1),el}}),An(s=>{let c=new uN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),cn(s=>(this.currentTransition=n=Mn(at({},s),{guards:e_e(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),n)),u_e(this.environmentInjector,s=>this.events.next(s)),An(s=>{if(n.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw IN(this.urlSerializer,s.guardsResult);let c=new pN(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(c)}),Yt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",jd.GuardRejected),!1)),B6(s=>{if(s.guards.canActivateChecks.length!==0)return an(s).pipe(An(c=>{let v=new mN(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(v)}),Ia(c=>{let v=!1;return an(c).pipe(M_e(this.paramsInheritanceStrategy,this.environmentInjector),An({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(c,"",jd.NoDataFromResolver)}}))}),An(c=>{let v=new fN(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(v)}))}),B6(s=>{let c=v=>{let b=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(v.routeConfig).pipe(An(x=>{v.component=x}),cn(()=>{})));for(let x of v.children)b.push(...c(x));return b};return tl(c(s.targetSnapshot.root)).pipe(qg(null),Za(1))}),B6(()=>this.afterPreactivation()),Ia(()=>{let{currentSnapshot:s,targetSnapshot:c}=n,v=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return v?Qo(v).pipe(cn(()=>n)):an(n)}),cn(s=>{let c=Yve(e.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=n=Mn(at({},s),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,n}),An(()=>{this.events.next(new o2)}),Zve(this.rootContexts,e.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),Za(1),An({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new va(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),e0(this.transitionAbortSubject.pipe(An(s=>{throw s}))),gp(()=>{!r&&!o&&this.cancelNavigationTransition(n,"",jd.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),No(s=>{if(this.destroyed)return n.resolve(!1),el;if(o=!0,eX(s))this.events.next(new Gd(n.id,this.urlSerializer.serialize(n.extractedUrl),s.message,s.cancellationCode)),Qve(s)?this.events.next(new lT(s.url,s.navigationBehaviorOptions)):n.resolve(!1);else{let c=new Ep(n.id,this.urlSerializer.serialize(n.extractedUrl),s,n.targetSnapshot??void 0);try{let v=Nd(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(v instanceof cT){let{message:b,cancellationCode:x}=IN(this.urlSerializer,v);this.events.next(new Gd(n.id,this.urlSerializer.serialize(n.extractedUrl),b,x)),this.events.next(new lT(v.redirectTo,v.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(v){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(v)}}return el}))}))}cancelNavigationTransition(e,n,r){let o=new Gd(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(o),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function V_e(t){return t!==lN}var dX=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E(j_e),providedIn:"root"})}return t})(),xN=class{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}},j_e=(()=>{class t extends xN{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),uX=(()=>{class t{urlSerializer=E(UC);options=E(HC,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=E(Vf);urlHandlingStrategy=E(kN);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Gf;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:n,targetBrowserUrl:r}){let o=e!==void 0?this.urlHandlingStrategy.merge(e,n):n,s=r??o;return s instanceof Gf?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:n,initialUrl:r}){n&&e?(this.currentUrlTree=n,this.rawUrlTree=this.urlHandlingStrategy.merge(n,r),this.routerState=e):this.rawUrlTree=r}routerState=zJ(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:()=>E(G_e),providedIn:"root"})}return t})(),G_e=(()=>{class t extends uX{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&setTimeout(()=>{e(n.url,n.state,"popstate")})})}handleRouterEvent(e,n){e instanceof Jc?this.updateStateMemento():e instanceof Kf?this.commitTransition(n):e instanceof r2?this.urlUpdateStrategy==="eager"&&(n.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof o2?(this.commitTransition(n),this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(n),n)):e instanceof Gd&&(e.code===jd.GuardRejected||e.code===jd.NoDataFromResolver)?this.restoreHistory(n):e instanceof Ep?this.restoreHistory(n,!0):e instanceof va&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:n,id:r}){let{replaceUrl:o,state:s}=n;if(this.location.isCurrentPathEqualTo(e)||o){let c=this.browserPageId,v=at(at({},s),this.generateNgRouterState(r,c));this.location.replaceState(e,"",v)}else{let c=at(at({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===e.finalUrl&&o===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DN(t,i){t.events.pipe(Yt(e=>e instanceof va||e instanceof Gd||e instanceof Ep||e instanceof Kf),cn(e=>e instanceof va||e instanceof Kf?0:(e instanceof Gd?e.code===jd.Redirect||e.code===jd.SupersededByNewNavigation:!1)?2:1),Yt(e=>e!==2),Za(1)).subscribe(()=>{i()})}var K_e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},q_e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},zt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(J5);stateManager=E(uX);options=E(HC,{optional:!0})||{};pendingTasks=E(l0);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(wN);urlSerializer=E(UC);location=E(Vf);urlHandlingStrategy=E(kN);_events=new qn;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(dX);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(pT,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(m2,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ua;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof Gd&&n.code!==jd.Redirect&&n.code!==jd.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof va)this.navigated=!0;else if(n instanceof lT){let s=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),v=at({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||V_e(r.source)},s);this.scheduleNavigation(c,lN,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}z_e(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),lN,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n,r)=>{this.navigateToSyncWithBrowser(e,r,n)})}navigateToSyncWithBrowser(e,n,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let v=at({},r);delete v.navigationId,delete v.\u0275routerPageId,Object.keys(v).length!==0&&(o.state=v)}let c=this.parseUrl(e);this.scheduleNavigation(c,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(i8),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:v}=n,b=v?this.currentUrlTree.fragment:s,x=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":x=at(at({},this.currentUrlTree.queryParams),o);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}x!==null&&(x=this.removeEmptyProps(x));let k;try{let O=r?r.snapshot:this.routerState.snapshot.root;k=GJ(O)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),k=this.currentUrlTree.root}return KJ(k,e,x,b??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=oT(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,lN,null,n)}navigate(e,n={skipLocationChange:!1}){return W_e(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=at({},K_e):n===!1?r=at({},q_e):r=n,oT(e))return SJ(this.currentUrlTree,e,r);let o=this.parseUrl(e);return SJ(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,o])=>(o!=null&&(n[r]=o),n),{})}scheduleNavigation(e,n,r,o,s){if(this.disposed)return Promise.resolve(!1);let c,v,b;s?(c=s.resolve,v=s.reject,b=s.promise):b=new Promise((k,O)=>{c=k,v=O});let x=this.pendingTasks.add();return DN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:c,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(k=>Promise.reject(k))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function W_e(t){for(let i=0;i<t.length;i++)if(t[i]==null)throw new Lt(4008,!1)}function z_e(t){return!(t instanceof o2)&&!(t instanceof lT)}var h2=class{};var pX=(()=>{class t{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,r,o){this.router=e,this.injector=n,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(e=>e instanceof va),hp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let o of n){o.providers&&!o._injector&&(o._injector=Px(o.providers,e,`Route: ${o.path}`));let s=o._injector??e,c=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(c,o.children??o._loadedRoutes))}return Qo(r).pipe(bE())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=an(null);let o=r.pipe(ba(s=>s===null?an(void 0):(n._loadedRoutes=s.routes,n._loadedInjector=s.injector,this.processRoutes(s.injector??e,s.routes))));if(n.loadComponent&&!n._loadedComponent){let s=this.loader.loadComponent(n);return Qo([o,s]).pipe(bE())}else return o})}static \u0275fac=function(n){return new(n||t)(yt(zt),yt(gc),yt(h2),yt(PN))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mX=new mn(""),Y_e=(()=>{class t{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,r,o,s={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof va?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Kf&&e.code===aT.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof sT&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sT(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){JE()};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function J_e(t){return t.routerState.root}function g2(t,i){return{\u0275kind:t,\u0275providers:i}}function X_e(){let t=E(_l);return i=>{let e=t.get(r0);if(i!==e.components[0])return;let n=t.get(zt),r=t.get(fX);t.get(l8)===1&&n.initialNavigation(),t.get(vX,null,Hr.Optional)?.setUpPreloading(),t.get(mX,null,Hr.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var fX=new mn("",{factory:()=>new qn}),l8=new mn("",{providedIn:"root",factory:()=>1});function hX(){let t=[{provide:l8,useValue:0},e6(()=>{let i=E(_l);return i.get(c6,Promise.resolve()).then(()=>new Promise(n=>{let r=i.get(zt),o=i.get(fX);DN(r,()=>{n(!0)}),i.get(wN).afterPreactivation=()=>(n(!0),o.closed?an(void 0):o),r.initialNavigation()}))})];return g2(2,t)}function gX(){let t=[e6(()=>{E(zt).setUpLocationChangeListener()}),{provide:l8,useValue:2}];return g2(3,t)}var vX=new mn("");function _X(t){return g2(0,[{provide:vX,useExisting:pX},{provide:h2,useExisting:t}])}function CX(){return g2(8,[e8,{provide:m2,useExisting:e8}])}function yX(t){c0("NgRouterViewTransitions");let i=[{provide:r8,useValue:cX},{provide:o8,useValue:at({skipNextTransition:!!t?.skipInitialTransition},t)}];return g2(9,i)}var EX=[Vf,{provide:UC,useClass:lv},zt,$C,{provide:Va,useFactory:J_e,deps:[zt]},PN,[]],Tp=(()=>{class t{constructor(){}static forRoot(e,n){return{ngModule:t,providers:[EX,[],{provide:pT,multi:!0,useValue:e},[],n?.errorHandler?{provide:a8,useValue:n.errorHandler}:[],{provide:HC,useValue:n||{}},n?.useHash?Z_e():eCe(),Q_e(),n?.preloadingStrategy?_X(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?tCe(n):[],n?.bindToComponentInputs?CX().\u0275providers:[],n?.enableViewTransitions?yX().\u0275providers:[],nCe()]}}static forChild(e){return{ngModule:t,providers:[{provide:pT,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();function Q_e(){return{provide:mX,useFactory:()=>{let t=E(qz),i=E(Si),e=E(HC),n=E(wN),r=E(UC);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Y_e(r,n,t,i,e)}}}function Z_e(){return{provide:f0,useClass:g6}}function eCe(){return{provide:f0,useClass:QD}}function tCe(t){return[t.initialNavigation==="disabled"?gX().\u0275providers:[],t.initialNavigation==="enabledBlocking"?hX().\u0275providers:[]]}var s8=new mn("");function nCe(){return[{provide:s8,useFactory:X_e},{provide:t6,multi:!0,useExisting:s8}]}var cl=class{},bX=(()=>{class t extends cl{getTranslation(e){return an({})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),v2=class{},IX=(()=>{class t{handle(e){return e.key}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function ON(t,i){if(t===i)return!0;if(t===null||i===null)return!1;if(t!==t&&i!==i)return!0;let e=typeof t,n=typeof i,r,o,s;if(e==n&&e=="object")if(Array.isArray(t)){if(!Array.isArray(i))return!1;if((r=t.length)==i.length){for(o=0;o<r;o++)if(!ON(t[o],i[o]))return!1;return!0}}else{if(Array.isArray(i))return!1;s=Object.create(null);for(o in t){if(!ON(t[o],i[o]))return!1;s[o]=!0}for(o in i)if(!(o in s)&&typeof i[o]<"u")return!1;return!0}return!1}function dv(t){return typeof t<"u"&&t!==null}function c8(t){return t&&typeof t=="object"&&!Array.isArray(t)}function AX(t,i){let e=Object.assign({},t);return c8(t)&&c8(i)&&Object.keys(i).forEach(n=>{c8(i[n])?n in t?e[n]=AX(t[n],i[n]):Object.assign(e,{[n]:i[n]}):Object.assign(e,{[n]:i[n]})}),e}var fT=class{},SX=(()=>{class t extends fT{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,n){let r;return typeof e=="string"?r=this.interpolateString(e,n):typeof e=="function"?r=this.interpolateFunction(e,n):r=e,r}getValue(e,n){let r=typeof n=="string"?n.split("."):[n];n="";do n+=r.shift(),dv(e)&&dv(e[n])&&(typeof e[n]=="object"||!r.length)?(e=e[n],n=""):r.length?n+=".":e=void 0;while(r.length);return e}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(n,o);return dv(s)?s:r}):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),Xc=class{},xX=(()=>{class t extends Xc{compile(e,n){return e}compileTranslations(e,n){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),NN=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Jt;onLangChange=new Jt;onDefaultLangChange=new Jt},d8=new mn("USE_STORE"),u8=new mn("USE_DEFAULT_LANG"),p8=new mn("DEFAULT_LANGUAGE"),m8=new mn("USE_EXTEND"),Sn=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Jt;_onLangChange=new Jt;_onDefaultLangChange=new Jt;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}constructor(e,n,r,o,s,c=!0,v=!1,b=!1,x){this.store=e,this.currentLoader=n,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=c,this.isolate=v,this.extend=b,x&&this.setDefaultLang(x)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=e),n.pipe(Za(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return an(this.translations[e]);let n=this.retrieveTranslations(e);return typeof n<"u"?(this.currentLang||(this.currentLang=e),n.pipe(Za(1)).subscribe(r=>{this.changeLang(e)}),n):(this.changeLang(e),an(this.translations[e]))}retrieveTranslations(e){let n;return(typeof this.translations[e]>"u"||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),n=this._translationRequests[e]),n}getTranslation(e){this.pending=!0;let n=this.currentLoader.getTranslation(e).pipe(Pw(1),Za(1));return this.loadingTranslations=n.pipe(cn(r=>this.compiler.compileTranslations(r,e)),Pw(1),Za(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?at(at({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),n}setTranslation(e,n,r=!1){n=this.compiler.compileTranslations(n,e),(r||this.extend)&&this.translations[e]?this.translations[e]=AX(this.translations[e],n):this.translations[e]=n,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,n,r){let o;if(n instanceof Array){let s={},c=!1;for(let v of n)s[v]=this.getParsedResult(e,v,r),Tm(s[v])&&(c=!0);if(c){let v=n.map(b=>Tm(s[b])?s[b]:an(s[b]));return ZS(v).pipe(cn(b=>{let x={};return b.forEach((k,O)=>{x[n[O]]=k}),x}))}return s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,n),r)),typeof o>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),r)),typeof o>"u"){let s={key:n,translateService:this};typeof r<"u"&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return typeof o<"u"?o:n}get(e,n){if(!dv(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(hp(r=>(r=this.getParsedResult(r,e,n),Tm(r)?r:an(r))));{let r=this.getParsedResult(this.translations[this.currentLang],e,n);return Tm(r)?r:an(r)}}getStreamOnTranslationChange(e,n){if(!dv(e)||!e.length)throw new Error('Parameter "key" required');return bm(Zh(()=>this.get(e,n)),this.onTranslationChange.pipe(Ia(r=>{let o=this.getParsedResult(r.translations,e,n);return typeof o.subscribe=="function"?o:an(o)})))}stream(e,n){if(!dv(e)||!e.length)throw new Error('Parameter "key" required');return bm(Zh(()=>this.get(e,n)),this.onLangChange.pipe(Ia(r=>{let o=this.getParsedResult(r.translations,e,n);return Tm(o)?o:an(o)})))}instant(e,n){if(!dv(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,n);if(Tm(r)){if(e instanceof Array){let o={};return e.forEach((s,c)=>{o[e[c]]=e[c]}),o}return e}else return r}set(e,n,r=this.currentLang){this.translations[r][e]=this.compiler.compile(n,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;if(e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof e>"u"))return e.indexOf("-")!==-1&&(e=e.split("-")[0]),e.indexOf("_")!==-1&&(e=e.split("_")[0]),e}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}static \u0275fac=function(n){return new(n||t)(yt(NN),yt(cl),yt(Xc),yt(fT),yt(v2),yt(u8),yt(d8),yt(m8),yt(p8))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var Se=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,n){this.translate=e,this._ref=n}updateValue(e,n,r){let o=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,n);Tm(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,n).subscribe(o)}transform(e,...n){if(!e||!e.length)return e;if(ON(e,this.lastKey)&&ON(n,this.lastParams))return this.value;let r;if(dv(n[0])&&n.length)if(typeof n[0]=="string"&&n[0].length){let o=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else typeof n[0]=="object"&&!Array.isArray(n[0])&&(r=n[0]);return this.lastKey=e,this.lastParams=n,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||t)(Et(Sn,16),Et(nr,16))};static \u0275pipe=Sa({name:"translate",type:t,pure:!1,standalone:!1});static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),oi=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:cl,useClass:bX},e.compiler||{provide:Xc,useClass:xX},e.parser||{provide:fT,useClass:SX},e.missingTranslationHandler||{provide:v2,useClass:IX},NN,{provide:d8,useValue:e.isolate},{provide:u8,useValue:e.useDefaultLang},{provide:m8,useValue:e.extend},{provide:p8,useValue:e.defaultLanguage},Sn]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:cl,useClass:bX},e.compiler||{provide:Xc,useClass:xX},e.parser||{provide:fT,useClass:SX},e.missingTranslationHandler||{provide:v2,useClass:IX},{provide:d8,useValue:e.isolate},{provide:u8,useValue:e.useDefaultLang},{provide:m8,useValue:e.extend},{provide:p8,useValue:e.defaultLanguage},Sn]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();var kX=Kk(PX(),1);var iCe=new mn("MESSAGE_FORMAT_CONFIG"),rCe={biDiSupport:!1,formatters:{},strictNumberSign:!1,currency:"USD",strictPluralKeys:!0},wX=(()=>{let i=class i extends Xc{constructor(n){super(),this.mfCache=new Map;let{formatters:r,biDiSupport:o,strictNumberSign:s,currency:c,strictPluralKeys:v}=at(at({},rCe),n);this.config={customFormatters:r,biDiSupport:o,strict:s,currency:c,strictPluralKeys:v}}compile(n,r){return this.getMessageFormatInstance(r).compile(n)}compileTranslations(n,r){return typeof n=="string"?this.compile(n,r):Object.keys(n).reduce((o,s)=>{let c=n[s];return o[s]=this.compileTranslations(c,r),o},{})}getMessageFormatInstance(n){return this.mfCache.has(n)||this.mfCache.set(n,new kX.default(n,this.config)),this.mfCache.get(n)}};i.\u0275fac=function(r){return new(r||i)(yt(iCe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();function LX(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}var GC=LX();function oCe(t){GC=t}var BX=/[&<>"']/,aCe=new RegExp(BX.source,"g"),UX=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,sCe=new RegExp(UX.source,"g"),lCe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DX=t=>lCe[t];function yc(t,i){if(i){if(BX.test(t))return t.replace(aCe,DX)}else if(UX.test(t))return t.replace(sCe,DX);return t}var cCe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function $X(t){return t.replace(cCe,(i,e)=>(e=e.toLowerCase(),e==="colon"?":":e.charAt(0)==="#"?e.charAt(1)==="x"?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}var dCe=/(^|[^\[])\^/g;function aa(t,i){t=typeof t=="string"?t:t.source,i=i||"";let e={replace:(n,r)=>(r=r.source||r,r=r.replace(dCe,"$1"),t=t.replace(n,r),e),getRegex:()=>new RegExp(t,i)};return e}var uCe=/[^\w:]/g,pCe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function OX(t,i,e){if(t){let n;try{n=decodeURIComponent($X(e)).replace(uCe,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}i&&!pCe.test(e)&&(e=gCe(i,e));try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}var RN={},mCe=/^[^:]+:\/*[^/]*$/,fCe=/^([^:]+:)[\s\S]*$/,hCe=/^([^:]+:\/*[^/]*)[\s\S]*$/;function gCe(t,i){RN[" "+t]||(mCe.test(t)?RN[" "+t]=t+"/":RN[" "+t]=MN(t,"/",!0)),t=RN[" "+t];let e=t.indexOf(":")===-1;return i.substring(0,2)==="//"?e?i:t.replace(fCe,"$1")+i:i.charAt(0)==="/"?e?i:t.replace(hCe,"$1")+i:t+i}var FN={exec:function(){}};function NX(t,i){let e=t.replace(/\|/g,(o,s,c)=>{let v=!1,b=s;for(;--b>=0&&c[b]==="\\";)v=!v;return v?"|":" |"}),n=e.split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>i)n.splice(i);else for(;n.length<i;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function MN(t,i,e){let n=t.length;if(n===0)return"";let r=0;for(;r<n;){let o=t.charAt(n-r-1);if(o===i&&!e)r++;else if(o!==i&&e)r++;else break}return t.slice(0,n-r)}function vCe(t,i){if(t.indexOf(i[1])===-1)return-1;let e=t.length,n=0,r=0;for(;r<e;r++)if(t[r]==="\\")r++;else if(t[r]===i[0])n++;else if(t[r]===i[1]&&(n--,n<0))return r;return-1}function _Ce(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function RX(t,i){if(i<1)return"";let e="";for(;i>1;)i&1&&(e+=t),i>>=1,t+=t;return e+t}function MX(t,i,e,n){let r=i.href,o=i.title?yc(i.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){n.state.inLink=!0;let c={type:"link",raw:e,href:r,title:o,text:s,tokens:n.inlineTokens(s)};return n.state.inLink=!1,c}return{type:"image",raw:e,href:r,title:o,text:yc(s)}}function CCe(t,i){let e=t.match(/^(\s+)(?:```)/);if(e===null)return i;let n=e[1];return i.split(`
`).map(r=>{let o=r.match(/^\s+/);if(o===null)return r;let[s]=o;return s.length>=n.length?r.slice(n.length):r}).join(`
`)}var _2=class{constructor(i){this.options=i||GC}space(i){let e=this.rules.block.newline.exec(i);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(i){let e=this.rules.block.code.exec(i);if(e){let n=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:MN(n,`
`)}}}fences(i){let e=this.rules.block.fences.exec(i);if(e){let n=e[0],r=CCe(n,e[3]||"");return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:r}}}heading(i){let e=this.rules.block.heading.exec(i);if(e){let n=e[2].trim();if(/#$/.test(n)){let r=MN(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(i){let e=this.rules.block.hr.exec(i);if(e)return{type:"hr",raw:e[0]}}blockquote(i){let e=this.rules.block.blockquote.exec(i);if(e){let n=e[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;let o=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:e[0],tokens:o,text:n}}}list(i){let e=this.rules.block.list.exec(i);if(e){let n,r,o,s,c,v,b,x,k,O,w,M,F=e[1].trim(),L=F.length>1,V={type:"list",raw:"",ordered:L,start:L?+F.slice(0,-1):"",loose:!1,items:[]};F=L?`\\d{1,9}\\${F.slice(-1)}`:`\\${F}`,this.options.pedantic&&(F=L?F:"[*+-]");let B=new RegExp(`^( {0,3}${F})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;i&&(M=!1,!(!(e=B.exec(i))||this.rules.block.hr.test(i)));){if(n=e[0],i=i.substring(n.length),x=e[2].split(`
`,1)[0].replace(/^\t+/,W=>" ".repeat(3*W.length)),k=i.split(`
`,1)[0],this.options.pedantic?(s=2,w=x.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,w=x.slice(s),s+=e[1].length),v=!1,!x&&/^ *$/.test(k)&&(n+=k+`
`,i=i.substring(k.length+1),M=!0),!M){let W=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ie=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),se=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),we=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;i&&(O=i.split(`
`,1)[0],k=O,this.options.pedantic&&(k=k.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(se.test(k)||we.test(k)||W.test(k)||ie.test(i)));){if(k.search(/[^ ]/)>=s||!k.trim())w+=`
`+k.slice(s);else{if(v||x.search(/[^ ]/)>=4||se.test(x)||we.test(x)||ie.test(x))break;w+=`
`+k}!v&&!k.trim()&&(v=!0),n+=O+`
`,i=i.substring(O.length+1),x=k.slice(s)}}V.loose||(b?V.loose=!0:/\n *\n *$/.test(n)&&(b=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(w),r&&(o=r[0]!=="[ ] ",w=w.replace(/^\[[ xX]\] +/,""))),V.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:w}),V.raw+=n}V.items[V.items.length-1].raw=n.trimRight(),V.items[V.items.length-1].text=w.trimRight(),V.raw=V.raw.trimRight();let q=V.items.length;for(c=0;c<q;c++)if(this.lexer.state.top=!1,V.items[c].tokens=this.lexer.blockTokens(V.items[c].text,[]),!V.loose){let W=V.items[c].tokens.filter(se=>se.type==="space"),ie=W.length>0&&W.some(se=>/\n.*\n/.test(se.raw));V.loose=ie}if(V.loose)for(c=0;c<q;c++)V.items[c].loose=!0;return V}}html(i){let e=this.rules.block.html.exec(i);if(e){let n={type:"html",raw:e[0],pre:!this.options.sanitizer&&(e[1]==="pre"||e[1]==="script"||e[1]==="style"),text:e[0]};if(this.options.sanitize){let r=this.options.sanitizer?this.options.sanitizer(e[0]):yc(e[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}}def(i){let e=this.rules.block.def.exec(i);if(e){let n=e[1].toLowerCase().replace(/\s+/g," "),r=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:o}}}table(i){let e=this.rules.block.table.exec(i);if(e){let n={type:"table",header:NX(e[1]).map(r=>({text:r})),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=e[0];let r=n.align.length,o,s,c,v;for(o=0;o<r;o++)/^ *-+: *$/.test(n.align[o])?n.align[o]="right":/^ *:-+: *$/.test(n.align[o])?n.align[o]="center":/^ *:-+ *$/.test(n.align[o])?n.align[o]="left":n.align[o]=null;for(r=n.rows.length,o=0;o<r;o++)n.rows[o]=NX(n.rows[o],n.header.length).map(b=>({text:b}));for(r=n.header.length,s=0;s<r;s++)n.header[s].tokens=this.lexer.inline(n.header[s].text);for(r=n.rows.length,s=0;s<r;s++)for(v=n.rows[s],c=0;c<v.length;c++)v[c].tokens=this.lexer.inline(v[c].text);return n}}}lheading(i){let e=this.rules.block.lheading.exec(i);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(i){let e=this.rules.block.paragraph.exec(i);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(i){let e=this.rules.block.text.exec(i);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(i){let e=this.rules.inline.escape.exec(i);if(e)return{type:"escape",raw:e[0],text:yc(e[1])}}tag(i){let e=this.rules.inline.tag.exec(i);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):yc(e[0]):e[0]}}link(i){let e=this.rules.inline.link.exec(i);if(e){let n=e[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let s=MN(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=vCe(e[2],"()");if(s>-1){let v=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,v).trim(),e[3]=""}}let r=e[2],o="";if(this.options.pedantic){let s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=e[3]?e[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),MX(e,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},e[0],this.lexer)}}reflink(i,e){let n;if((n=this.rules.inline.reflink.exec(i))||(n=this.rules.inline.nolink.exec(i))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=e[r.toLowerCase()],!r){let o=n[0].charAt(0);return{type:"text",raw:o,text:o}}return MX(n,r,n[0],this.lexer)}}emStrong(i,e,n=""){let r=this.rules.inline.emStrong.lDelim.exec(i);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let o=r[1]||r[2]||"";if(!o||o&&(n===""||this.rules.inline.punctuation.exec(n))){let s=r[0].length-1,c,v,b=s,x=0,k=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(k.lastIndex=0,e=e.slice(-1*i.length+s);(r=k.exec(e))!=null;){if(c=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!c)continue;if(v=c.length,r[3]||r[4]){b+=v;continue}else if((r[5]||r[6])&&s%3&&!((s+v)%3)){x+=v;continue}if(b-=v,b>0)continue;v=Math.min(v,v+b+x);let O=i.slice(0,s+r.index+(r[0].length-c.length)+v);if(Math.min(s,v)%2){let M=O.slice(1,-1);return{type:"em",raw:O,text:M,tokens:this.lexer.inlineTokens(M)}}let w=O.slice(2,-2);return{type:"strong",raw:O,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(i){let e=this.rules.inline.code.exec(i);if(e){let n=e[2].replace(/\n/g," "),r=/[^ ]/.test(n),o=/^ /.test(n)&&/ $/.test(n);return r&&o&&(n=n.substring(1,n.length-1)),n=yc(n,!0),{type:"codespan",raw:e[0],text:n}}}br(i){let e=this.rules.inline.br.exec(i);if(e)return{type:"br",raw:e[0]}}del(i){let e=this.rules.inline.del.exec(i);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(i,e){let n=this.rules.inline.autolink.exec(i);if(n){let r,o;return n[2]==="@"?(r=yc(this.options.mangle?e(n[1]):n[1]),o="mailto:"+r):(r=yc(n[1]),o=r),{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}url(i,e){let n;if(n=this.rules.inline.url.exec(i)){let r,o;if(n[2]==="@")r=yc(this.options.mangle?e(n[0]):n[0]),o="mailto:"+r;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(s!==n[0]);r=yc(n[0]),n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(i,e){let n=this.rules.inline.text.exec(i);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):yc(n[0]):n[0]:r=yc(this.options.smartypants?e(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}},ji={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:FN,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};ji._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;ji._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;ji.def=aa(ji.def).replace("label",ji._label).replace("title",ji._title).getRegex();ji.bullet=/(?:[*+-]|\d{1,9}[.)])/;ji.listItemStart=aa(/^( *)(bull) */).replace("bull",ji.bullet).getRegex();ji.list=aa(ji.list).replace(/bull/g,ji.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+ji.def.source+")").getRegex();ji._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";ji._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;ji.html=aa(ji.html,"i").replace("comment",ji._comment).replace("tag",ji._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();ji.paragraph=aa(ji._paragraph).replace("hr",ji.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ji._tag).getRegex();ji.blockquote=aa(ji.blockquote).replace("paragraph",ji.paragraph).getRegex();ji.normal=at({},ji);ji.gfm=Mn(at({},ji.normal),{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});ji.gfm.table=aa(ji.gfm.table).replace("hr",ji.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ji._tag).getRegex();ji.gfm.paragraph=aa(ji._paragraph).replace("hr",ji.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",ji.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ji._tag).getRegex();ji.pedantic=Mn(at({},ji.normal),{html:aa(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ji._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:FN,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:aa(ji.normal._paragraph).replace("hr",ji.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",ji.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Wn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:FN,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:FN,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Wn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Wn.punctuation=aa(Wn.punctuation).replace(/punctuation/g,Wn._punctuation).getRegex();Wn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Wn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Wn._comment=aa(ji._comment).replace("(?:-->|$)","-->").getRegex();Wn.emStrong.lDelim=aa(Wn.emStrong.lDelim).replace(/punct/g,Wn._punctuation).getRegex();Wn.emStrong.rDelimAst=aa(Wn.emStrong.rDelimAst,"g").replace(/punct/g,Wn._punctuation).getRegex();Wn.emStrong.rDelimUnd=aa(Wn.emStrong.rDelimUnd,"g").replace(/punct/g,Wn._punctuation).getRegex();Wn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Wn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Wn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Wn.autolink=aa(Wn.autolink).replace("scheme",Wn._scheme).replace("email",Wn._email).getRegex();Wn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Wn.tag=aa(Wn.tag).replace("comment",Wn._comment).replace("attribute",Wn._attribute).getRegex();Wn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Wn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Wn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Wn.link=aa(Wn.link).replace("label",Wn._label).replace("href",Wn._href).replace("title",Wn._title).getRegex();Wn.reflink=aa(Wn.reflink).replace("label",Wn._label).replace("ref",ji._label).getRegex();Wn.nolink=aa(Wn.nolink).replace("ref",ji._label).getRegex();Wn.reflinkSearch=aa(Wn.reflinkSearch,"g").replace("reflink",Wn.reflink).replace("nolink",Wn.nolink).getRegex();Wn.normal=at({},Wn);Wn.pedantic=Mn(at({},Wn.normal),{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:aa(/^!?\[(label)\]\((.*?)\)/).replace("label",Wn._label).getRegex(),reflink:aa(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Wn._label).getRegex()});Wn.gfm=Mn(at({},Wn.normal),{escape:aa(Wn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Wn.gfm.url=aa(Wn.gfm.url,"i").replace("email",Wn.gfm._extended_email).getRegex();Wn.breaks=Mn(at({},Wn.gfm),{br:aa(Wn.br).replace("{2,}","*").getRegex(),text:aa(Wn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function yCe(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function FX(t){let i="",e,n,r=t.length;for(e=0;e<r;e++)n=t.charCodeAt(e),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}var VC=class t{constructor(i){this.tokens=[],this.tokens.links=Object.create(null),this.options=i||GC,this.options.tokenizer=this.options.tokenizer||new _2,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let e={block:ji.normal,inline:Wn.normal};this.options.pedantic?(e.block=ji.pedantic,e.inline=Wn.pedantic):this.options.gfm&&(e.block=ji.gfm,this.options.breaks?e.inline=Wn.breaks:e.inline=Wn.gfm),this.tokenizer.rules=e}static get rules(){return{block:ji,inline:Wn}}static lex(i,e){return new t(e).lex(i)}static lexInline(i,e){return new t(e).inlineTokens(i)}lex(i){i=i.replace(/\r\n|\r/g,`
`),this.blockTokens(i,this.tokens);let e;for(;e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(i,e=[]){this.options.pedantic?i=i.replace(/\t/g,"    ").replace(/^ +$/gm,""):i=i.replace(/^( *)(\t+)/gm,(c,v,b)=>v+"    ".repeat(b.length));let n,r,o,s;for(;i;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(c=>(n=c.call({lexer:this},i,e))?(i=i.substring(n.raw.length),e.push(n),!0):!1))){if(n=this.tokenizer.space(i)){i=i.substring(n.raw.length),n.raw.length===1&&e.length>0?e[e.length-1].raw+=`
`:e.push(n);continue}if(n=this.tokenizer.code(i)){i=i.substring(n.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);continue}if(n=this.tokenizer.fences(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.heading(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.hr(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.blockquote(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.list(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.html(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.def(i)){i=i.substring(n.raw.length),r=e[e.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.lheading(i)){i=i.substring(n.raw.length),e.push(n);continue}if(o=i,this.options.extensions&&this.options.extensions.startBlock){let c=1/0,v=i.slice(1),b;this.options.extensions.startBlock.forEach(function(x){b=x.call({lexer:this},v),typeof b=="number"&&b>=0&&(c=Math.min(c,b))}),c<1/0&&c>=0&&(o=i.substring(0,c+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){r=e[e.length-1],s&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n),s=o.length!==i.length,i=i.substring(n.raw.length);continue}if(n=this.tokenizer.text(i)){i=i.substring(n.raw.length),r=e[e.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):e.push(n);continue}if(i){let c="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return this.state.top=!0,e}inline(i,e=[]){return this.inlineQueue.push({src:i,tokens:e}),e}inlineTokens(i,e=[]){let n,r,o,s=i,c,v,b;if(this.tokens.links){let x=Object.keys(this.tokens.links);if(x.length>0)for(;(c=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)x.includes(c[0].slice(c[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,c.index)+"["+RX("a",c[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(c=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,c.index)+"["+RX("a",c[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(c=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,c.index+c[0].length-2)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;i;)if(v||(b=""),v=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(x=>(n=x.call({lexer:this},i,e))?(i=i.substring(n.raw.length),e.push(n),!0):!1))){if(n=this.tokenizer.escape(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.tag(i)){i=i.substring(n.raw.length),r=e[e.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.link(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.reflink(i,this.tokens.links)){i=i.substring(n.raw.length),r=e[e.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(n=this.tokenizer.emStrong(i,s,b)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.codespan(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.br(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.del(i)){i=i.substring(n.raw.length),e.push(n);continue}if(n=this.tokenizer.autolink(i,FX)){i=i.substring(n.raw.length),e.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(i,FX))){i=i.substring(n.raw.length),e.push(n);continue}if(o=i,this.options.extensions&&this.options.extensions.startInline){let x=1/0,k=i.slice(1),O;this.options.extensions.startInline.forEach(function(w){O=w.call({lexer:this},k),typeof O=="number"&&O>=0&&(x=Math.min(x,O))}),x<1/0&&x>=0&&(o=i.substring(0,x+1))}if(n=this.tokenizer.inlineText(o,yCe)){i=i.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(b=n.raw.slice(-1)),v=!0,r=e[e.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):e.push(n);continue}if(i){let x="Infinite loop on byte: "+i.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return e}},C2=class{constructor(i){this.options=i||GC}code(i,e,n){let r=(e||"").match(/\S*/)[0];if(this.options.highlight){let o=this.options.highlight(i,r);o!=null&&o!==i&&(n=!0,i=o)}return i=i.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+yc(r)+'">'+(n?i:yc(i,!0))+`</code></pre>
`:"<pre><code>"+(n?i:yc(i,!0))+`</code></pre>
`}blockquote(i){return`<blockquote>
${i}</blockquote>
`}html(i){return i}heading(i,e,n,r){if(this.options.headerIds){let o=this.options.headerPrefix+r.slug(n);return`<h${e} id="${o}">${i}</h${e}>
`}return`<h${e}>${i}</h${e}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(i,e,n){let r=e?"ol":"ul",o=e&&n!==1?' start="'+n+'"':"";return"<"+r+o+`>
`+i+"</"+r+`>
`}listitem(i){return`<li>${i}</li>
`}checkbox(i){return"<input "+(i?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(i){return`<p>${i}</p>
`}table(i,e){return e&&(e=`<tbody>${e}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+e+`</table>
`}tablerow(i){return`<tr>
${i}</tr>
`}tablecell(i,e){let n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+i+`</${n}>
`}strong(i){return`<strong>${i}</strong>`}em(i){return`<em>${i}</em>`}codespan(i){return`<code>${i}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(i){return`<del>${i}</del>`}link(i,e,n){if(i=OX(this.options.sanitize,this.options.baseUrl,i),i===null)return n;let r='<a href="'+i+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>",r}image(i,e,n){if(i=OX(this.options.sanitize,this.options.baseUrl,i),i===null)return n;let r=`<img src="${i}" alt="${n}"`;return e&&(r+=` title="${e}"`),r+=this.options.xhtml?"/>":">",r}text(i){return i}},LN=class{strong(i){return i}em(i){return i}codespan(i){return i}del(i){return i}html(i){return i}text(i){return i}link(i,e,n){return""+n}image(i,e,n){return""+n}br(){return""}},BN=class{constructor(){this.seen={}}serialize(i){return i.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(i,e){let n=i,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[i];do r++,n=i+"-"+r;while(this.seen.hasOwnProperty(n))}return e||(this.seen[i]=r,this.seen[n]=0),n}slug(i,e={}){let n=this.serialize(i);return this.getNextSafeSlug(n,e.dryrun)}},jC=class t{constructor(i){this.options=i||GC,this.options.renderer=this.options.renderer||new C2,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new LN,this.slugger=new BN}static parse(i,e){return new t(e).parse(i)}static parseInline(i,e){return new t(e).parseInline(i)}parse(i,e=!0){let n="",r,o,s,c,v,b,x,k,O,w,M,F,L,V,B,q,W,ie,se,we=i.length;for(r=0;r<we;r++){if(w=i[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[w.type]&&(se=this.options.extensions.renderers[w.type].call({parser:this},w),se!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(w.type))){n+=se||"";continue}switch(w.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(w.tokens),w.depth,$X(this.parseInline(w.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(w.text,w.lang,w.escaped);continue}case"table":{for(k="",x="",c=w.header.length,o=0;o<c;o++)x+=this.renderer.tablecell(this.parseInline(w.header[o].tokens),{header:!0,align:w.align[o]});for(k+=this.renderer.tablerow(x),O="",c=w.rows.length,o=0;o<c;o++){for(b=w.rows[o],x="",v=b.length,s=0;s<v;s++)x+=this.renderer.tablecell(this.parseInline(b[s].tokens),{header:!1,align:w.align[s]});O+=this.renderer.tablerow(x)}n+=this.renderer.table(k,O);continue}case"blockquote":{O=this.parse(w.tokens),n+=this.renderer.blockquote(O);continue}case"list":{for(M=w.ordered,F=w.start,L=w.loose,c=w.items.length,O="",o=0;o<c;o++)B=w.items[o],q=B.checked,W=B.task,V="",B.task&&(ie=this.renderer.checkbox(q),L?B.tokens.length>0&&B.tokens[0].type==="paragraph"?(B.tokens[0].text=ie+" "+B.tokens[0].text,B.tokens[0].tokens&&B.tokens[0].tokens.length>0&&B.tokens[0].tokens[0].type==="text"&&(B.tokens[0].tokens[0].text=ie+" "+B.tokens[0].tokens[0].text)):B.tokens.unshift({type:"text",text:ie}):V+=ie),V+=this.parse(B.tokens,L),O+=this.renderer.listitem(V,W,q);n+=this.renderer.list(O,M,F);continue}case"html":{n+=this.renderer.html(w.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(w.tokens));continue}case"text":{for(O=w.tokens?this.parseInline(w.tokens):w.text;r+1<we&&i[r+1].type==="text";)w=i[++r],O+=`
`+(w.tokens?this.parseInline(w.tokens):w.text);n+=e?this.renderer.paragraph(O):O;continue}default:{let Me='Token with "'+w.type+'" type was not found.';if(this.options.silent){console.error(Me);return}else throw new Error(Me)}}}return n}parseInline(i,e){e=e||this.renderer;let n="",r,o,s,c=i.length;for(r=0;r<c;r++){if(o=i[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){n+=s||"";continue}switch(o.type){case"escape":{n+=e.text(o.text);break}case"html":{n+=e.html(o.text);break}case"link":{n+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break}case"image":{n+=e.image(o.href,o.title,o.text);break}case"strong":{n+=e.strong(this.parseInline(o.tokens,e));break}case"em":{n+=e.em(this.parseInline(o.tokens,e));break}case"codespan":{n+=e.codespan(o.text);break}case"br":{n+=e.br();break}case"del":{n+=e.del(this.parseInline(o.tokens,e));break}case"text":{n+=e.text(o.text);break}default:{let v='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(v);return}else throw new Error(v)}}}return n}},y2=class{constructor(i){this.options=i||GC}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(i){return i}postprocess(i){return i}};function ECe(t,i,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+yc(n.message+"",!0)+"</pre>";if(i)return Promise.resolve(r);if(e){e(null,r);return}return r}if(i)return Promise.reject(n);if(e){e(n);return}throw n}}function HX(t,i){return(e,n,r)=>{typeof n=="function"&&(r=n,n=null);let o=at({},n);n=at(at({},hi.defaults),o);let s=ECe(n.silent,n.async,r);if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(_Ce(n),n.hooks&&(n.hooks.options=n),r){let c=n.highlight,v;try{n.hooks&&(e=n.hooks.preprocess(e)),v=t(e,n)}catch(k){return s(k)}let b=function(k){let O;if(!k)try{n.walkTokens&&hi.walkTokens(v,n.walkTokens),O=i(v,n),n.hooks&&(O=n.hooks.postprocess(O))}catch(w){k=w}return n.highlight=c,k?s(k):r(null,O)};if(!c||c.length<3||(delete n.highlight,!v.length))return b();let x=0;hi.walkTokens(v,function(k){k.type==="code"&&(x++,setTimeout(()=>{c(k.text,k.lang,function(O,w){if(O)return b(O);w!=null&&w!==k.text&&(k.text=w,k.escaped=!0),x--,x===0&&b()})},0))}),x===0&&b();return}if(n.async)return Promise.resolve(n.hooks?n.hooks.preprocess(e):e).then(c=>t(c,n)).then(c=>n.walkTokens?Promise.all(hi.walkTokens(c,n.walkTokens)).then(()=>c):c).then(c=>i(c,n)).then(c=>n.hooks?n.hooks.postprocess(c):c).catch(s);try{n.hooks&&(e=n.hooks.preprocess(e));let c=t(e,n);n.walkTokens&&hi.walkTokens(c,n.walkTokens);let v=i(c,n);return n.hooks&&(v=n.hooks.postprocess(v)),v}catch(c){return s(c)}}}function hi(t,i,e){return HX(VC.lex,jC.parse)(t,i,e)}hi.options=hi.setOptions=function(t){return hi.defaults=at(at({},hi.defaults),t),oCe(hi.defaults),hi};hi.getDefaults=LX;hi.defaults=GC;hi.use=function(...t){let i=hi.defaults.extensions||{renderers:{},childTokens:{}};t.forEach(e=>{let n=at({},e);if(n.async=hi.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){let o=i.renderers[r.name];o?i.renderers[r.name]=function(...s){let c=r.renderer.apply(this,s);return c===!1&&(c=o.apply(this,s)),c}:i.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");i[r.level]?i[r.level].unshift(r.tokenizer):i[r.level]=[r.tokenizer],r.start&&(r.level==="block"?i.startBlock?i.startBlock.push(r.start):i.startBlock=[r.start]:r.level==="inline"&&(i.startInline?i.startInline.push(r.start):i.startInline=[r.start]))}r.childTokens&&(i.childTokens[r.name]=r.childTokens)}),n.extensions=i),e.renderer){let r=hi.defaults.renderer||new C2;for(let o in e.renderer){let s=r[o];r[o]=(...c)=>{let v=e.renderer[o].apply(r,c);return v===!1&&(v=s.apply(r,c)),v}}n.renderer=r}if(e.tokenizer){let r=hi.defaults.tokenizer||new _2;for(let o in e.tokenizer){let s=r[o];r[o]=(...c)=>{let v=e.tokenizer[o].apply(r,c);return v===!1&&(v=s.apply(r,c)),v}}n.tokenizer=r}if(e.hooks){let r=hi.defaults.hooks||new y2;for(let o in e.hooks){let s=r[o];y2.passThroughHooks.has(o)?r[o]=c=>{if(hi.defaults.async)return Promise.resolve(e.hooks[o].call(r,c)).then(b=>s.call(r,b));let v=e.hooks[o].call(r,c);return s.call(r,v)}:r[o]=(...c)=>{let v=e.hooks[o].apply(r,c);return v===!1&&(v=s.apply(r,c)),v}}n.hooks=r}if(e.walkTokens){let r=hi.defaults.walkTokens;n.walkTokens=function(o){let s=[];return s.push(e.walkTokens.call(this,o)),r&&(s=s.concat(r.call(this,o))),s}}hi.setOptions(n)})};hi.walkTokens=function(t,i){let e=[];for(let n of t)switch(e=e.concat(i.call(hi,n)),n.type){case"table":{for(let r of n.header)e=e.concat(hi.walkTokens(r.tokens,i));for(let r of n.rows)for(let o of r)e=e.concat(hi.walkTokens(o.tokens,i));break}case"list":{e=e.concat(hi.walkTokens(n.items,i));break}default:hi.defaults.extensions&&hi.defaults.extensions.childTokens&&hi.defaults.extensions.childTokens[n.type]?hi.defaults.extensions.childTokens[n.type].forEach(function(r){e=e.concat(hi.walkTokens(n[r],i))}):n.tokens&&(e=e.concat(hi.walkTokens(n.tokens,i)))}return e};hi.parseInline=HX(VC.lexInline,jC.parseInline);hi.Parser=jC;hi.parser=jC.parse;hi.Renderer=C2;hi.TextRenderer=LN;hi.Lexer=VC;hi.lexer=VC.lex;hi.Tokenizer=_2;hi.Slugger=BN;hi.Hooks=y2;hi.parse=hi;var QQe=hi.options,ZQe=hi.setOptions,eZe=hi.use,tZe=hi.walkTokens,nZe=hi.parseInline;var iZe=jC.parse,rZe=VC.lex;var br=function(t){return t[t.XSRF_ATTEMPT=-622]="XSRF_ATTEMPT",t[t.SHOPPING_CART_EMPTY=-2002]="SHOPPING_CART_EMPTY",t[t.INSURANCE_TEMPORALLY_NOT_ALLOWED=-2054]="INSURANCE_TEMPORALLY_NOT_ALLOWED",t[t.VOUCHER_NO_MORE_DELIVERY_CHARGE_POSSIBLE=-2350]="VOUCHER_NO_MORE_DELIVERY_CHARGE_POSSIBLE",t[t.VOUCHER_NO_LONGER_NECESSARY=-2351]="VOUCHER_NO_LONGER_NECESSARY",t[t.CODE_TICKET_PERSONALISATION_WRONG_VALUE=-2353]="CODE_TICKET_PERSONALISATION_WRONG_VALUE",t[t.VOUCHER_USAGE_NOT_ALLOWED_WITH_DELIVERY_METHOD=-2355]="VOUCHER_USAGE_NOT_ALLOWED_WITH_DELIVERY_METHOD",t[t.TICKET_PERSONALISATION_INVALID_PASSPORT_NUMBER=-2356]="TICKET_PERSONALISATION_INVALID_PASSPORT_NUMBER",t[t.CODE_TICKET_PERSONALISATION_URL_NOT_ALLOWED=-2367]="CODE_TICKET_PERSONALISATION_URL_NOT_ALLOWED",t[t.USER_NOT_LOGGED_IN=-3004]="USER_NOT_LOGGED_IN",t[t.CREDIT_CARD_NUMBER_REJECTED=-3019]="CREDIT_CARD_NUMBER_REJECTED",t[t.CREDIT_CARD_PAYMENT_NOT_POSSIBLE=-3025]="CREDIT_CARD_PAYMENT_NOT_POSSIBLE",t[t.PAYMENT_METHOD_NOT_POSSIBLE=-3030]="PAYMENT_METHOD_NOT_POSSIBLE",t[t.CODE_KUNDE_MEMBERSHIP_REQUIRED=-3034]="CODE_KUNDE_MEMBERSHIP_REQUIRED",t[t.DUPLICATE_EMAIL=-3202]="DUPLICATE_EMAIL",t[t.CODE_FISCAL_CODE_ALREADY_EXISTS=-3205]="CODE_FISCAL_CODE_ALREADY_EXISTS",t[t.DUPLICATE_FISCAL_CODE=-3205]="DUPLICATE_FISCAL_CODE",t[t.CODE_CPF_FISCAL_INVALID=-3208]="CODE_CPF_FISCAL_INVALID",t[t.CODE_FISCAL_INVALID=-3209]="CODE_FISCAL_INVALID",t[t.DUPLICATE_VAT=-3210]="DUPLICATE_VAT",t[t.ORDER_NOT_FOUND=-4e3]="ORDER_NOT_FOUND",t[t.ORDER_IS_ALREADY_BOOKED=-4015]="ORDER_IS_ALREADY_BOOKED",t[t.CHOICE_MANDATORY_BUT_NOT_ACCEPTED=-4102]="CHOICE_MANDATORY_BUT_NOT_ACCEPTED",t[t.WRONG_MEMBER_CARD_NUMBER=-4105]="WRONG_MEMBER_CARD_NUMBER",t[t.TERMS_AND_CONDITIONS_NOT_ACCEPTED=-4106]="TERMS_AND_CONDITIONS_NOT_ACCEPTED",t[t.PAYMENT_AVS_ERROR_TRY_AGAIN=-4233]="PAYMENT_AVS_ERROR_TRY_AGAIN",t[t.PAYMENT_ERROR=-4234]="PAYMENT_ERROR",t[t.DEBIT_PAYMENT_DATA_INVALID=-4249]="DEBIT_PAYMENT_DATA_INVALID",t[t.CREDIT_CARD_NUMBER_INVALID=-4252]="CREDIT_CARD_NUMBER_INVALID",t[t.DEBIT_IBAN_INVALID=-4257]="DEBIT_IBAN_INVALID",t[t.DEBIT_BIC_INVALID=-4258]="DEBIT_BIC_INVALID",t[t.CREDITWORTHINESS_CHECK_FAILED=-4261]="CREDITWORTHINESS_CHECK_FAILED",t[t.CODE_PAY_SERVER_LOAD_LIMIT_REACHED=-4262]="CODE_PAY_SERVER_LOAD_LIMIT_REACHED",t[t.D3_SECURE_CHECK_REQUIRED=-4263]="D3_SECURE_CHECK_REQUIRED",t[t.CODE_TAN_NUMBER_FORMAT_NOT_VALID=-4300]="CODE_TAN_NUMBER_FORMAT_NOT_VALID",t[t.CODE_TAN_SERVICE_IS_NOT_ACTIVATED=-4301]="CODE_TAN_SERVICE_IS_NOT_ACTIVATED",t[t.CREDIT_CARD_TDL_NUMBER_REJECTED=-8033]="CREDIT_CARD_TDL_NUMBER_REJECTED",t[t.TDL_LIMIT_REACHED=-8145]="TDL_LIMIT_REACHED",t[t.IDENTIFICATION_NUMBER_BLACK_LISTED=-8147]="IDENTIFICATION_NUMBER_BLACK_LISTED",t[t.TICKET_PERSONALIZATION_SET_FAILED=-8150]="TICKET_PERSONALIZATION_SET_FAILED",t}(br||{});var Cn=function(t){return t.ShoppingCart="shoppingcart",t.Delivery="delivery",t.Login="login",t.Payment="payment",t.D3Secure="d3Secure",t.Summary="summary",t.TicketPersonalisation="ticketpersonalisation",t.Receipt="receipt",t.Sso="sso",t.Ticketreturn="ticketreturn",t.TicketreturnSuccess="ticketreturn-success",t.customerSearch="customerSearch",t.Pending="pending",t}(Cn||{}),T2=function(t){return t.ShoppingCart="shopping-cart",t.Login="login",t.Facebook="facebook",t.Delivery="delivery",t.TicketPersonalisation="ticket-personalisation",t.Payment="payment",t.D3Secure="d3-secure",t.Summary="summary",t.WaitingFor="waiting-for",t.Pending="pending",t.Receipt="receipt",t.Error="error",t.FatalError="fatal-error",t.Sso="sso",t.Generic="generic",t}(T2||{}),WX=function(t){return t.ExtraSmall="xs",t.Small="s",t.Medium="m",t.Large="l",t.ExtraLarge="xl",t}(WX||{}),Aa=function(t){return t.NONE="none",t.CARD="card",t.DEFAULT="default",t.MEMBERSHIP_CARD="membership-card",t.MODAL="modal",t.NEXT_STEPS="next-steps",t.INLINE_TEXT="inline-text",t}(Aa||{}),ce=class t{static hasProperty(i,e){let n=i;return e.split(".").every(r=>{let o=t.isObject(n)&&Object.prototype.hasOwnProperty.call(n,r);return o&&(n=n[r]),o})}static isObject(i){return i!=null&&typeof i=="object"}static isNullable(i){return i==null}static isEmpty(i){return!this.isNullable(i)&&this.isObject(i)?Object.keys(i).length<=0:!0}static isEqual(i,e){if(t.isNullable(i)||t.isNullable(e))return null;let n=Object.getOwnPropertyNames(i),r=Object.getOwnPropertyNames(e);return n.length!==r.length?!1:n.every(o=>t.isObject(i[o])?this.isEqual(i[o],e[o]):i[o]===e[o])}constructor(){}},g8=class{static getSet(i){return Object.keys(i).map(e=>i[e]).reduce((e,n)=>(e.add(n),e),new Set)}},Pa=class t{static of(i){return new t(i)}static empty(){return t.of(null)}constructor(i){this.value=i}filter(i){return this.value!==void 0&&this.value!==null&&i(this.value)?t.of(this.value):t.empty()}map(i){return this.value!==void 0&&this.value!==null?t.of(i(this.value)):t.empty()}flatMap(i){return this.value!==void 0&&this.value!==null?i(this.value):t.empty()}isPresent(){return this.value!==void 0&&this.value!==null}ifPresent(i){this.value!==void 0&&this.value!==null&&i(this.value)}ifPresentOrElse(i,e){this.value!==void 0&&this.value!==null?i(this.value):e()}orElse(i){return this.value!==void 0&&this.value!==null?this.value:i}orElseGet(i){return this.value!==void 0&&this.value!==null?this.value:i()}},ee=(()=>{let i=class i{static cutAt(n,r,o){return n.substring(0,r)+n.substring(o+1,n.length)}static replaceAt(n,r,o,s){return n.substring(0,r)+s+n.substring(o+1,n.length)}static getRandomId(n=i.EMPTY_STRING){return`${n}_${Math.random().toString(36).substr(2,9)}`}static isNotEmpty(n){return typeof n=="string"&&n.length>0}static isEmpty(n){return!i.isNotEmpty(n)}static unescapeSlashes(n){if(n!=null){let r=n.replace(/(^|[^\\])(\\\\)*\\$/,"$&\\");r=r.replace(/(^|[^\\])((\\\\)*")/g,"$1\\$2");try{r=JSON.parse(`"${r}"`)}catch{return n}return r}else return n}};i.EMPTY_STRING="",i.SPACE=" ";let t=i;return t})(),ro=class{static getCurrentBreakpoint(){let i=window.getComputedStyle(document.querySelector("body"),":before").getPropertyValue("content").replace(/['"]+/g,"");return ee.isNotEmpty(i)&&g8.getSet(WX).has(i)?i:void 0}static isInsideIFrame(){try{return this.isWindowInsideIFrame(window)}catch{return!0}}static isWindowInsideIFrame(i){try{return i.self!==i.top}catch{return!0}}static hasForeignReferrer(){let i=`^https?://${window.location.hostname}`;return window.document.referrer.length>0&&!window.document.referrer.match(i)}},b2=function(t){return t.DE="de_DE",t.PL="pl_PL",t.IT="it_IT",t.FR="fr_FR",t.FI="fi_FI",t.SV="sv_SE",t.CS="cs_CZ",t.ES="es_ES",t.NL="nl_NL",t.IW="he_IL",t.RU="ru_RU",t.PT="pt_BR",t.EN="en_US",t.SK="sk_SK",t.SL="en_SI",t}(b2||{}),uv=class{static getLocaleCode(i){return i!==void 0&&b2[i.toUpperCase()]?b2[i.toUpperCase()]:null}},C0=function(t){return t.TicketType="TYPE",t.TicketAmount="AMOUNT",t}(C0||{}),mv=function(t){return t.AdditionalTravelInformation="[0]",t.ChangedChosenDeliveryMethodNew="$newDeliveryMethod",t.ChangedChosenDeliveryMethodPrev="$prevDeliveryMethod",t.FanTicketDeliveryMethodName="{deliveryMethodName}",t}(mv||{}),Ip=class{static replaceTranslationParams(i,e){let n=i;return e.forEach((r,o)=>{let s=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g");n.indexOf(o)>=0&&(n=n.replace(s,r))}),n}static hasMessageFormatKeys(i){return typeof i!="string"?!1:Object.keys(C0).map(e=>C0[e]).reduce((e,n)=>e||i.indexOf(n)!==-1,!1)}static messageIsFilledAndNotKey(i,e){return!(e===i||ee.isEmpty(e.trim()))}},gT=class{constructor(){this.array=new Array}append(i){return this.array.push(i),this}toString(){return this.array.join(ee.EMPTY_STRING)}},En=(()=>{let i=class i{static getQueryParameter(n,r=window.location.search){let o=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),c=new RegExp(`[\\\\?&]${o}=([^&#]*)`).exec(r),v=null;return c!==null&&(v=decodeURIComponent(c[1].replace(/\+/g," "))),v}static getQueryParam(n,r){let o=new URL(n);return ee.isNotEmpty(r)&&o.searchParams.has(r)?o.searchParams.get(r):null}static redirectFromSelfTo(n,r=!0){let o=n,s=/(?=.*[\\?&]).*|(?=.*[\\?&])(?=.*%[0-9a-f]{2}).*/g;Array.isArray(s.exec(o))||(o=decodeURIComponent(n)),this.redirectTo(r,o)}static redirectTo(n,r){n?window.location.href=r:(r.startsWith("/")||(r=`/${r}`),window.location.assign(r))}static openPopup(n,r=!0,o,s){let c=n;r||(c=i.buildAbsolutePath(n)),window.open(c,o,s)||document.dispatchEvent(new CustomEvent("popupblocked",{detail:{url:c,target:o,features:s}}))}static historyBack(){window.history.back()}static redirectToSearchPage(n,r=""){let o=`${r}/search/?affiliate=${n}`;i.redirectFromSelfTo(o,!1)}static redirectWithLanguageFromSelfTo(n,r,o){let c=`${r.foreignLanguages.find(v=>v===o)??""}/${n}`;i.redirectFromSelfTo(c,!1)}static redirectToMyAftersalesPage(n,r,o){if(o){i.redirectWithLanguageFromSelfTo(`myaftersales/${o}/?affiliate=${n.code}`,n,r);return}i.redirectWithLanguageFromSelfTo(`myaftersales/?affiliate=${n.code}`,n,r)}static buildAbsoluteCheckoutPath(n,r){let o=`checkout.html?affiliate=${r}&doc=cart#/${n}`;return`${window.location.protocol}//${window.location.host}/${o}`}static buildAbsolutePath(n){let r=ee.EMPTY_STRING;return n.startsWith("/")||(r="/"),`${window.location.protocol}//${window.location.host}${r}${n}`}static addProtocolToUri(n){return n.substring(0,this.PROTOCOL_HTTP.length)===this.PROTOCOL_HTTP?n:`${window.location.protocol}//${n}`}static buildCheckoutRedirectPath(n,r,o){let s=`/checkout.html?affiliate=${r}&doc=cart#/${n}`;return o!==void 0&&(s+=`/${o}`),`&redirectUrl=${encodeURIComponent(i.buildAbsolutePath(s))}`}static isHostUnchangedFor(n){return n.indexOf(window.location.host)!==-1}static isRelativePath(n){return n.indexOf(this.PROTOCOL_HTTP_STRING)===-1&&n.indexOf(this.PROTOCOL_HTTPS_STRING)===-1&&n.indexOf(window.location.host)===-1&&n.startsWith("/")&&!n.startsWith("//")}};i.PROTOCOL_HTTP="http",i.PROTOCOL_HTTPS="https",i.PROTOCOL_HTTP_STRING="http://",i.PROTOCOL_HTTPS_STRING="https://";let t=i;return t})(),vT=class{get name(){return this.popup.name}get location(){return this.popup.location}get window(){return this.popup}constructor(i=T2.WaitingFor,e="EvPopup",n=""){this.isPage(i)&&(i=this.getPageUrl(i)),typeof i=="string"?this.popup=window.open(i,e,n):this.popup=i,this.popup.evPopupPayloadSubject=new ni(null)}navigate(i){this.popup.location.href=i}close(){this.popup.close()}focus(){this.popup.focus()}setPayload(i){this.popup.evPopupPayloadSubject.next(i)}isPage(i){return Object.values(T2).find(e=>e===i)!==void 0}getPageUrl(i){return location.href.indexOf("#")<0?`${location.href}/#/${i}/`:`${location.href.substring(0,location.href.indexOf("#"))}#/${i}/`}};var UN=function(t){return t.Get="GET",t.Head="HEAD",t.Post="POST",t.Put="PUT",t.Delete="DELETE",t.Connect="CONNECT",t.Options="OPTIONS",t.Trace="TRACE",t.Patch="PATCH",t}(UN||{}),Sp=class{},I2=class t{static getAffiliate(){let i=t.getConfiguration();return i!==null?i.affiliate:null}static getLoadingMessage(){let i=t.getConfiguration();return i!==null?i.loadingMessage:null}static getConfiguration(){let i=document.querySelector("script[type='application/configuration']");if(i!==null)try{return JSON.parse(i.textContent)}catch{console.error("Error while parsing application/configuration json")}return null}},Du=class{},Dt=class{static compare(i,e){return i===e||i===void 0&&e===void 0||i===null&&e===null||Array.isArray(i)&&Array.isArray(e)&&i.length===e.length&&i.every((n,r)=>n===e[r])}static isNotEmpty(i){return Array.isArray(i)&&i.length>0}static isEmpty(i){return Array.isArray(i)&&i.length===0}constructor(){}},Ls=class{static stopBubbling(i){i&&typeof i.stopPropagation.bind(i)=="function"&&i.stopPropagation(),i&&typeof i.preventDefault.bind(i)=="function"&&i.preventDefault()}},$N=function(t){return t.EventSeries="eventSeriesImage",t.Artist="artistImage",t.Mam="mamImage",t}($N||{}),dl=class{static getEventImageSrc(i,e,n){if(ee.isNotEmpty(i)&&ee.isNotEmpty(e)&&ce.isObject(n))switch(i){case $N.EventSeries:return`${n.teaserPath}${e}`;case $N.Artist:return`${n.galleryPath}${e}`;case $N.Mam:return`${n.mamPath}${e}`;default:return ee.EMPTY_STRING}else return null}static getAbsoluteImageSrc(i,e,n){let r=this.getEventImageSrc(i,e,n);return r!==null?En.buildAbsolutePath(r):null}},Vl=class{static isZero(i){return Number.isInteger(i)&&i===0}static isPositive(i){return Number.isInteger(i)&&i>0}static isNegative(i){return Number.isInteger(i)&&i<0}},HN=class{static buildMap(i){return Object.keys(i).reduce((e,n)=>e.set(n,i[n.toString()]),new Map)}static buildMapFromArray(i,e){return e.reduce((n,r)=>n.set(r[i],r),new Map)}static compare(i,e){if(!this.hasComparableMaps(i,e))return!1;let n;for(let[r,o]of i){if(n=e.get(r),n===void 0&&!e.get(r))return!1;if(Array.isArray(n)){if(!Array.isArray(o)||!Dt.compare(n,o)||n.length!==o.length)return!1}else if(n!==o)return!1}return!0}static hasComparableMaps(i,e){return i!=null&&e!==void 0&&e!==null&&i.size===e.size}},Kd=(()=>{let i=class i{static isExpirationDateInPast(n,r){let o=i.getMonthAndYearDate(),s=i.getMonthAndYearDate(n,r);return o>s}static getMonthAndYearDate(n=new Date().getMonth(),r=new Date().getFullYear()){let o=new Date;return o.setUTCDate(1),o.setFullYear(r),o.setMonth(n),o.setUTCHours(0),o.setUTCMinutes(0),o.setUTCSeconds(0),o.setUTCMilliseconds(0),o}static getFutureYears(n){let r=new Date().getFullYear(),o=[];for(let s=r;s<=r+n;s++)o.push(s);return o}static formatMonth(n){return n<i.OCTOBER?`0${n}`:`${n}`}static getIsoFormattedDateOnly(n){return new Date(n).toISOString().split("T")[0]}static getIsoFormattedDateWithoutMilliseconds(n){return`${new Date(n).toISOString().split(".")[0]}Z`}};i.TWENTY_YEARS_IN_FUTURE=20,i.MONTHS=12,i.DAYS=31,i.OCTOBER=10;let t=i;return t})();var _T=class{static getPathWithAppendix(i){return i=i?.trim()??"/",i.endsWith("/")?i:`${i}/`}static setAuthorizationHeader(i,e=new Cc){return e.set("Authorization",`Bearer ${i}`)}},Ho=function(t){return t.DAY="day",t.MONTH="month",t.YEAR="year",t}(Ho||{}),bp=class bp{static getWithOrder(...i){let e=bp.default();return e.fields=i.map(n=>{switch(n){case Ho.DAY:return bp.FIELD_DAY;case Ho.MONTH:return bp.FIELD_MONTH;case Ho.YEAR:return bp.FIELD_YEAR;default:return null}}),e}static default(){return{seperator:"-",fields:[bp.FIELD_DAY,bp.FIELD_MONTH,bp.FIELD_YEAR]}}constructor(){}};bp.FIELD_DAY={type:Ho.DAY,amount:2},bp.FIELD_MONTH={type:Ho.MONTH,amount:2},bp.FIELD_YEAR={type:Ho.YEAR,amount:4};var VX=bp,C8=function(t){return t[t.ShowAlways=0]="ShowAlways",t[t.HideTillMethodSelection=1]="HideTillMethodSelection",t}(C8||{}),T0=function(t){return t.SELF="_self",t.PARENT="_parent",t.TOP="_top",t.BLANK="_blank",t}(T0||{}),KC=function(t){return t[t.ModalWindow=0]="ModalWindow",t[t.InternalPopup=1]="InternalPopup",t[t.InternalSelf=2]="InternalSelf",t[t.InternalBlank=3]="InternalBlank",t[t.ExternalBlank=4]="ExternalBlank",t[t.UnknownType=-1]="UnknownType",t}(KC||{}),Rm=function(t){return t[t.WEAK=0]="WEAK",t[t.MEDIUM=1]="MEDIUM",t[t.COMPLEX=2]="COMPLEX",t[t.COMPLEX_OLD=3]="COMPLEX_OLD",t[t.COMPLEX_NEW=4]="COMPLEX_NEW",t}(Rm||{}),Ec=function(t){return t.COUNTRYCODE="country code",t.AREACODE="area code",t.LOCALNUMBER="local number",t}(Ec||{}),b0=function(t){return t[t.INACTIVE=0]="INACTIVE",t[t.ACTIVE=1]="ACTIVE",t}(b0||{}),GN=function(t){return t[t.Hide=0]="Hide",t[t.ShowRepeatedly=1]="ShowRepeatedly",t[t.ShowOnce=2]="ShowOnce",t}(GN||{}),zf=function(t){return t[t.OFF=0]="OFF",t[t.OPT_IN=1]="OPT_IN",t[t.SHOW_AFTER_DIALOG=2]="SHOW_AFTER_DIALOG",t[t.OPT_OUT=3]="OPT_OUT",t}(zf||{}),Qc=function(t){return t.MICO="mico",t.P24="p24",t}(Qc||{}),jl=function(t){return t.FOOTER="footer",t.BENEFIT_DELIVERY_METHOD="benefitDeliveryMethod",t.BENEFIT_PAYMENT_METHOD="benefitPaymentMethod",t.BENEFIT_COMMUNICATION="benefitCommunication",t.BACK_TO_SHOP_LINK="backToShopLink",t.LOGOUT_LINK="logoutLink",t.STAGE_IMAGE="stageimage",t.STAGE_TEASER_TEXT="stageteasertext",t.NEWSLETTER_COCKPIT="newsletterCockpit",t.HEADER="header",t.HIGHLIGHTED_TICKET_INSURANCE="highlightedTicketInsurance",t.EV_TRAVEL_WIDGET="hotelWidget",t.SOFT_LOGIN="softLogin",t}(jl||{}),qi=function(t){return t.ReferrerCheckout="refererCheckoutApp",t.ReservationExpirationTime="reservation_duration",t.Language="language",t.currency="currency_code",t.locale="locale",t.Affiliate="affiliate",t}(qi||{}),P2=(()=>{let i=class i{getCookieValue(n,r){let o=this.loadCookies();return Pa.of(o.get(n)??o.get(r))}loadCookies(){let n=new Map;return document.cookie.toString().split("; ").filter(o=>typeof o=="string"&&o.length>0).map(o=>o.split("=")).forEach(o=>n.set(o[0],o[1])),n}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),wu=class wu{constructor(i,e){this.cookieService=i,this.appConfig=e,this.affiliateCookieName=`${e.affiliate}.${wu.WEBSHOP_COOKIE_NAME}`}get(i){return this.getWebshopValues().get(i)}getRawValue(){let i=null;return this.cookieService.getCookieValue(this.affiliateCookieName,wu.WEBSHOP_COOKIE_NAME).ifPresent(e=>{i=e}),i}isRTLLanguageEnabled(){return wu.RTL_LANGUAGES.has(this.get(qi.Language))}decodeBase64(i){try{return E2.enc.Utf8.stringify(E2.enc.Base64.parse(i))}catch{return null}}getWebshopValues(){return this.cookieService.getCookieValue(this.affiliateCookieName,wu.WEBSHOP_COOKIE_NAME).map(i=>this.decodeBase64(i)).filter(i=>i!==null).map(i=>this.toMap(i)).orElseGet(()=>new Map)}toMap(i){let e=new Map;return i.split("&").filter(n=>typeof n=="string"&&n.length>0).map(n=>n.split("=")).forEach(n=>e.set(decodeURIComponent(n[0]),decodeURIComponent(n[1]))),e}};wu.RTL_LANGUAGES=new Set(["iw"]),wu.WEBSHOP_COOKIE_NAME="webshop",wu.\u0275fac=function(e){return new(e||wu)(yt(P2),yt(Sp))},wu.\u0275prov=Ce({token:wu,factory:wu.\u0275fac});var _i=wu,v8=class{constructor(i,e,n,r,o,s){this.id=i,this.path=e,this.payload=n,this.time=r,this.status=o,this.serverError=s}},hT=class{constructor(i,e=null){this.url=i,this.body=e,this.id=ee.getRandomId(),this.maxWaitForResponse=9e4}onRequest(i,e){this.requestObservable=i.pipe(Ul(),this.handleEmptyResponse(),this.mapErrorToBackendResponseJson(),b4(this.maxWaitForResponse),An({next:()=>{e(this.id,this.url,this.body,!0,!1)},error:n=>{n instanceof bw&&(n={status:xu.RequestTimeout,errorCode:-1,message:`Request timed out after ${this.maxWaitForResponse/1e3}s`});let r=n?.status===xu.InternalServerError||n?.status===xu.RequestTimeout;throw e(this.id,this.url,this.body,!1,r),n}}))}handleEmptyResponse(){return cn(i=>{if(ce.isObject(i)||ee.isNotEmpty(i)||Array.isArray(i))return i})}mapErrorToBackendResponseJson(){return No(i=>{try{return ma(JSON.parse(i.error))}catch{return ma(i.error)}})}},Wf=function(t){return t.JSON="json",t.TEXT="text",t}(Wf||{}),Nm=class{static set(i,e,n){return{headers:(n??new Cc).set("Content-Type","application/json"),responseType:i,params:e}}},Vo=(()=>{let i=class i{constructor(n,r,o){this.http=n,this.environment=r,this.document=o,this.cbStatus="_evcb-status",this.requestBlockDuration=6e4,this.circuitCheckTimeWindow=5e3,this.callHistory=[],this.circuitError={status:xu.LoopDetected,errorCode:-1,message:"Request-Circuit detected!"}}get(n,r,o,s){return this.preparedRequest(this.http.get(this.buildCompleteUrl(n),Nm.set(Wf.JSON,r,s)),new hT(n,null),o)}delete(n,r,o){return this.preparedRequest(this.http.delete(this.buildCompleteUrl(n),Nm.set(Wf.JSON,void 0,o)),new hT(n),r)}post(n,r=null,o=!1,s,c){let v=Nm.set(Wf.JSON,void 0,c);return o&&Nm.set(Wf.TEXT),this.preparedRequest(this.http.post(this.buildCompleteUrl(n),r,v),new hT(n,r),s)}put(n,r=null,o=!1,s,c){let v=Nm.set(Wf.JSON,void 0,c);return o&&Nm.set(Wf.TEXT),this.preparedRequest(this.http.put(this.buildCompleteUrl(n),r,v),new hT(n,r),s)}preparedRequest(n,r,o){return r.onRequest(n,this.addApiCallHistoryEntry.bind(this)),this.hasCircuitingRequests(r)?ma(this.circuitError):this.hasReachedMaxAttemptsPerMinute()?ma(()=>new Error("Request-Overflow detected: Too many Requests at once.")):o?r.requestObservable.pipe(this.interceptCircuit(r)):r.requestObservable.pipe(zg({resetOnComplete:!0}),this.interceptCircuit(r))}interceptCircuit(n){return An({error:r=>{throw this.hasCircuitingRequests(n)&&(r=this.circuitError),r}})}buildCompleteUrl(n){return`${this.environment?this.environment.server:""}/api${n}`}addApiCallHistoryEntry(n,r,o,s,c){this.callHistory.push(new v8(n,r,o,Date.now(),s,c))}hasReachedMaxAttemptsPerMinute(){return this.failedRequests().length>3}failedRequests(){return this.callHistory.filter(n=>n?.serverError&&n?.time>Date.now()-this.requestBlockDuration)}hasCircuitingRequests(n){return this.recentRequests(n).length>=i.maxCircuitingRequestsPerTimeWindow&&!this.isCircuitBreakerBlocked()}recentRequests(n){return this.callHistory.filter(r=>ce.isObject(r)&&r.path===n.url&&r.time>Date.now()-this.circuitCheckTimeWindow&&(ce.isObject(r.payload)&&ce.isEqual(r.payload,n.body)||Array.isArray(r.payload)&&Dt.compare(r.payload,n.body)||r.payload===n.body))}isCircuitBreakerBlocked(){let n=this.document.defaultView.localStorage;return ce.isObject(n)?ee.isNotEmpty(n.getItem(this.cbStatus))&&n.getItem(this.cbStatus)==="false":!1}};i.maxCircuitingRequestsPerTimeWindow=6,i.\u0275fac=function(r){return new(r||i)(yt(Ss),yt(Du,8),yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),cr=(()=>{let i=class i{constructor(n){this.webshopApi=n}getPathWithAppendix(n){let r=ee.EMPTY_STRING;return n.endsWith("/")||(r="/"),`${n}${r}`}};i.\u0275fac=function(r){return new(r||i)(yt(Vo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var zX=(()=>{var i,e;let n=class n{constructor(){Jr(this,i,E(Vo));Jr(this,e,E(_i))}getAffiliate(){let o=en(this,e).get(qi.Language),s=o?new Nr().set("language",o):new Nr;return en(this,i).get("/affiliates",s)}};i=new WeakMap,e=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac});let t=n;return t})(),qf=function(t){return t[t.TRACE=0]="TRACE",t[t.DEBUG=1]="DEBUG",t[t.ERROR=2]="ERROR",t}(qf||{}),_8=class{get logLevel(){return this._logLevel}get cause(){return this._cause}get message(){return this._message}get stack(){return this._stack}get cookie(){if(!ee.isEmpty(this._cookie))return this._cookie}get asString(){return`${this.cause}:${this.message}:${this.stack}`}constructor(i,e=qf.DEBUG){this._error=i,this._logLevel=e,this.data=[],this._stack=" ",this._cookie=null,this._cause=this._error.name,this._message=this._error.message,this._stack=this._error.stack}getPayload(i=[],e=[]){return{message:this.message,stackTrace:this.stack,cause:this.cause,userAgent:window.navigator.userAgent,platform:window.navigator.platform,routeHistory:i,failedRequests:e,cookie:this.cookie,data:Dt.isNotEmpty(this.data)?this.data:void 0}}setStack(i){ee.isNotEmpty(i)&&(this._stack=i)}setCookie(i){this._cookie=i}},y0=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr]});let t=i;return t})(),TCe=(()=>{let i=class i{constructor(n){this.router=n,this.routeHistory=[],this.routeHistory.push(n.url),this.registerHistorySubscription()}get history(){return this.routeHistory}registerHistorySubscription(){this.router.events.pipe(Yt(n=>n&&n instanceof va)).subscribe(n=>{this.routeHistory.length>=i.historyMaxEntry&&this.routeHistory.shift(),this.routeHistory.push(n.url)})}};i.historyMaxEntry=10,i.\u0275fac=function(r){return new(r||i)(yt(zt))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:y0});let t=i;return t})(),bCe=(()=>{var i;let e=class e{constructor(){Jr(this,i,E(Vo))}sendLogs(r,o){return en(this,i).post(`/logs/${r.logLevel}/`,r.getPayload(o,en(this,i).failedRequests()),!0)}};i=new WeakMap,e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:y0});let t=e;return t})(),Ir=(()=>{let i=class i{constructor(n,r,o,s,c){this.loggingResource=n,this.logHistoryService=r,this.environment=o,this.ngZone=s,this.webshopCookieService=c,this.loggedErrorsInTimeslot=[]}handleError(n){n.name="Angular/Browser Exception",this.error(n)}trace(n,r="Trace",o){n.name=r,this.handleLog(this.createLog(n,qf.TRACE,o))}debug(n,r="Debug",o){n.name=r,this.handleLog(this.createLog(n,qf.DEBUG,o))}error(n,r,o){ee.isNotEmpty(r)&&(n.name=r),this.handleLog(this.createLog(n,qf.ERROR,o))}createLog(n,r=qf.TRACE,o){let s=new _8(n,r);return s!==null&&s.logLevel===qf.ERROR&&s.setCookie(this.webshopCookieService.getRawValue()),s!==null&&Dt.isNotEmpty(o)&&(s.data=o),s}handleLog(n){this.loggedErrorsInTimeslot.includes(n.asString)||(this.logToConsole(n),this.logError(n),this.loggedErrorsInTimeslot.push(n.asString),this.ngZone.runOutsideAngular(()=>{an(n.asString).pipe(nx(i.logTimeout),Za(1)).subscribe(r=>{this.ngZone.run(()=>{let o=this.loggedErrorsInTimeslot.indexOf(r);this.loggedErrorsInTimeslot.splice(o,1)})})}))}logError(n){this.environment.production&&n.logLevel!==qf.TRACE&&this.loggingResource.sendLogs(n,this.logHistoryService.history).subscribe(()=>{},r=>{console.error("Log Error: Logging failed!",r),this.loggedErrorsInTimeslot.splice(-1,1)})}logToConsole(n){n.logLevel===qf.ERROR?(console.error(n.cause,n.message),console.trace(n.stack)):n.logLevel===qf.DEBUG?(console.warn(n.cause,n.message),console.trace(n.stack)):console.info(n.cause,n.message)}};i.logTimeout=1e4,i.\u0275fac=function(r){return new(r||i)(yt(bCe),yt(TCe),yt(Du),yt(Si),yt(_i))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:y0});let t=i;return t})();var Tn=(()=>{let i=class i{constructor(n,r){this.affiliateResource=n,this.logService=r,this.affiliateSubject=new ni(null)}observeAffiliate(){return this.affiliateSubject.asObservable()}updateAffiliate(){return this.affiliateResource.getAffiliate().pipe(An(n=>{this.affiliateSubject.next(n)})).toPromise()}getAffiliate(){let n=this.affiliateSubject.getValue();return n===null?(this.logService.error(new Error("Affiliate has not been loaded.")),null):n}isAffiliateLoaded(){return this.affiliateSubject.getValue()!==null}observeWebshopElement(n,r=!1){return this.observeAffiliate().pipe(cn(o=>{let s=r;return o!==null&&typeof o.settings=="object"&&typeof o.settings[n]=="boolean"&&(s=o.settings[n]),s}),Ro())}};i.\u0275fac=function(r){return new(r||i)(yt(zX),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),ICe=(()=>{let i=class i{constructor(){this.rejectValue=null,this.updatedValue=null,this.affiliateSubject=new ni(null)}observeAffiliate(){return this.affiliateSubject.asObservable()}updateAffiliate(){return new Ki(n=>{this.rejectValue?n.error(new rv(this.rejectValue)):n.next(this.updatedValue),n.complete()}).pipe(An(n=>{this.affiliateSubject.next(n)})).toPromise()}isAffiliateLoaded(){return this.affiliateSubject.getValue()!==null}getAffiliate(){return this.affiliateSubject.getValue()}setAffiliate(n){this.affiliateSubject.next(n)}observeWebshopElement(n){return this.observeAffiliate().pipe(cn(r=>r!==null&&typeof r.settings=="object"&&typeof r.settings[n]=="boolean"&&r.settings[n]),Ro())}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var S2=function(t){return t.ERROR="error",t}(S2||{}),Ap=(()=>{let i=class i{constructor(){this.affiliateService=E(Tn),this.logService=E(Ir),this.router=E(zt)}resolve(n,r){return this.affiliateService.isAffiliateLoaded()?this.affiliateService.getAffiliate():this.affiliateService.updateAffiliate().catch(o=>(this.logService.error(new Error(o)),this.router.config.some(s=>s.path===S2.ERROR)&&this.router.navigate([S2.ERROR]),null))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var SCe=(()=>{let i=class i{constructor(n){this.applicationConfiguration=n}intercept(n,r){if(!En.isRelativePath(n.url)&&!En.isHostUnchangedFor(n.url))return r.handle(n);let o=this.appendAffiliateQueryParameter(n);return this.hasAffiliatePlaceholder(o)&&(o=this.replaceAffiliatePathParameter(o)),r.handle(o)}appendAffiliateQueryParameter(n){let r=n.clone({params:n.params.set("affiliate",this.applicationConfiguration.affiliate)});return this.hasAffiliatePlaceholder(r)&&(r=this.replaceAffiliatePathParameter(r)),r}replaceAffiliatePathParameter(n){return n.clone({url:n.url.replace(i.URL_PARAMETER,`/${this.applicationConfiguration.affiliate}`)})}hasAffiliatePlaceholder(n){return n.url.indexOf(i.URL_PARAMETER)>=0}};i.URL_PARAMETER="/:affiliate",i.\u0275fac=function(r){return new(r||i)(yt(Sp))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),jX=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[zX,Tn,ICe,Ap,{provide:wm,useClass:SCe,multi:!0},Hd(Vd())]});let t=i;return t})(),Om=function(t){return t.FirstName="kundenvorname",t.LastName="kundennachname",t.Street="billing_addressStreet",t.HouseNo="billing_addressHouseNumber",t.ZipCode="kundenplz",t.City="kundenort",t.EMail="kundenemail",t.PhoneNumber="kundentelefon",t}(Om||{}),qC=(()=>{let i=class i{constructor(n){this.cookieService=n}getPartnerCookie(){return this.cookieService.getCookieValue(i.COOKIE_NAME).map(n=>decodeURIComponent(E2.enc.Utf8.stringify(E2.enc.Base64.parse(n)))).map(n=>this.toPartnerCustomer(n))}toPartnerCustomer(n){let r=new Map;return n.split("&").filter(o=>typeof o=="string"&&o.length>0).map(o=>o.split("=")).forEach(o=>r.set(decodeURIComponent(o[0]),decodeURIComponent(o[1]))),{firstName:this.determineReplacedValue(r,Om.FirstName),lastName:this.determineReplacedValue(r,Om.LastName),street:this.determineStreet(r),postalCode:r.get(Om.ZipCode),city:this.determineReplacedValue(r,Om.City),emailAddress:r.get(Om.EMail),phoneNumber:r.get(Om.PhoneNumber)}}determineReplacedValue(n,r){let o=n.get(r);return ee.isNotEmpty(o)?o.replace(/\+/g," "):o}determineStreet(n){let r;return n.has(Om.Street)&&(r=n.get(Om.Street).replace(/\+/g," ")),n.has(Om.HouseNo)&&(r+=` ${n.get(Om.HouseNo)}`),r}};i.COOKIE_NAME="extPartnerCustomerParams",i.\u0275fac=function(r){return new(r||i)(yt(P2))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var pv=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[P2,_i,qC]});let t=i;return t})();var I0=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),xt=(()=>{let i=class i{set evCoreHtml(n){typeof n=="string"?this.setInnerHTML(n):this.setInnerHTML(this.sanitizer.sanitize(bs.HTML,n))}constructor(n,r,o,s){this.element=n,this.affiliate=r,this.sanitizer=o,this.renderer=s,this.affiliateCode=ee.EMPTY_STRING,this.subscriptions=[],this.lastInput=null}ngOnInit(){this.subscriptions.push(this.onAffiliateUpdate())}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}setInnerHTML(n){this.renderer.setProperty(this.element.nativeElement,"innerHTML",this.sanitizer.sanitize(bs.HTML,this.sanitizer.bypassSecurityTrustHtml(this.setCorrectAffiliateCode(n))))}onAffiliateUpdate(){return this.affiliate.observeAffiliate().pipe(Yt(n=>n!==null)).subscribe(n=>{this.affiliateCode=n.code,ee.isNotEmpty(this.lastInput)&&(this.setInnerHTML(this.lastInput),this.lastInput=null)})}setCorrectAffiliateCode(n){let o=n;if(ee.isNotEmpty(this.affiliateCode)&&ee.isNotEmpty(o)){let s=/['"?&]affiliate=(\S{3})/g,c=String(o).match(s);Dt.isNotEmpty(c)&&c.forEach(v=>{let b=`${v.substring(0,v.length-3)}${this.affiliateCode}`;o=o.replace(v,b)})}else this.lastInput=n;return o}};i.\u0275fac=function(r){return new(r||i)(Et(ii),Et(Tn),Et(ga),Et(Er))},i.\u0275dir=kt({type:i,selectors:[["","evCoreHtml",""]],inputs:{evCoreHtml:"evCoreHtml"},standalone:!1});let t=i;return t})(),Po=(()=>{let i=class i{static forRoot(n){return{ngModule:i,providers:[{provide:I0,useClass:n.htmlInjector}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({});let t=i;return t})();var xCe=new mn("MESSAGE_FORMAT_CONFIG"),ACe={biDiSupport:!1,formatters:void 0,locales:void 0,strictNumberSign:!1},CT=(()=>{let i=class i{constructor(n){n=at(at({},ACe),n),this.messageFormat=new wX({formatters:n.formatters,biDiSupport:n.biDiSupport,strictNumberSign:n.strictNumberSign})}compile(n,r){return this.messageFormat.compile(n,r)}compileTranslations(n,r){return this.compilePluralFormatSyntax(n,r)}compilePluralFormatSyntax(n,r){let o={};return Object.entries(n).forEach(s=>{let[c,v]=s;Ip.hasMessageFormatKeys(v)?o[c]=this.compile(v,r):o[c]=v}),o}};i.\u0275fac=function(r){return new(r||i)(yt(xCe,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),PCe=(()=>{let i=class i{constructor(){this.translations$=new ni({})}hasTranslation(n){let r=this.translations$.getValue()[n],o=!1;return ee.isNotEmpty(r)&&(o=r.toString().trim().length===0),Object.prototype.hasOwnProperty.call(this.translations$.getValue(),n)&&r!==n&&(ee.isNotEmpty(r.toString().trim())||o)}hasTranslations(n){return n.every(r=>this.hasTranslation(r))}hasAnyTranslation(n){return n.find(r=>this.hasTranslation(r))!==void 0}instantTranslate(n){let r=n;return this.hasTranslation(n)&&typeof this.translations$.getValue()[n]!="function"&&(r=this.translations$.getValue()[n]),r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),fv=(()=>{var i;let e=class e{constructor(){Jr(this,i,E(Vo))}getInitialAppMessages(r,o,s){return en(this,i).get(`/messages/${r}/${o}/${s}/:affiliate`)}getErrorMessage(r,o){return en(this,i).get(`/messages/${r}/:affiliate/${o}`)}getContentMessage(r,o){return en(this,i).get(`/messages/content/${r}/:affiliate/${o}`)}};i=new WeakMap,e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ti=(()=>{let i=class i extends PCe{constructor(n,r,o,s){super(),this.messageResource=n,this.webshopCookieService=r,this.environment=o,this.logService=s}getTranslation(n){return this.messageResource.getInitialAppMessages(this.environment.name,this.environment.buildInfo.messageHash,n).pipe(An(r=>this.translations$.next(r)),No(r=>(this.logService?.error(new Error(r.message),"TranslateLoaderService"),ma(r))))}getMessage(n){let r=this.webshopCookieService.get(qi.Language);return this.messageResource.getContentMessage(r,n).pipe(cn(o=>ee.isNotEmpty(o.text)?o.text:""))}onTranslationsLoaded(){return this.translations$.asObservable()}};i.\u0275fac=function(r){return new(r||i)(yt(fv),yt(_i),yt(Du),yt(Ir,8))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var qd=(()=>{let i=class i{constructor(n){this.translationLoaderService=n}resolve(){return new Promise(n=>{this.translationLoaderService.onTranslationsLoaded().pipe(Yt(r=>r!=null&&Object.values(r).length>0)).subscribe(n.bind(this))})}};i.\u0275fac=function(r){return new(r||i)(yt(ti))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),GX=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[qd,Hd(Vd())],imports:[Vr,oi]});let t=i;return t})();var hv=(()=>{let i=class i{constructor(n){this.domSanitizer=n}transform(n,r){let o=n;return ee.isNotEmpty(o)&&Array.isArray(r)&&Dt.isNotEmpty(r)&&r.forEach(s=>{o=o.replace(s.placeholder,s.replacementValue)}),this.domSanitizer.bypassSecurityTrustHtml(o)}};i.\u0275fac=function(r){return new(r||i)(Et(ga,16))},i.\u0275pipe=Sa({name:"evReplaceMessagePlaceholder",type:i,pure:!0,standalone:!1});let t=i;return t})(),k2=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr]});let t=i;return t})(),kCe={html:t=>t,link:(t,i,e)=>`<a class="link" href="${t}" target="_blank">${e}</a>`},wCe={heading:(t,i)=>i===1?`<h2 class="card-headline theme-text-light-color">${t}</h2>`:`<h${i} class="card-headline theme-text-light-color">${t}</h${i}>`,html:t=>t,paragraph:t=>`<p class="card-paragraph theme-text-color">${t}</p>`,link:(t,i,e)=>`<a class="link" href="${t}" target="_blank">${e}</a>`},DCe={heading:(t,i)=>i===1?`<h2 class="media-heading theme-headline-color no-margin">${t}</h2>`:`<h${i} class="media-heading theme-headline-color no-margin">${t}</h${i}>`,html:t=>t,paragraph:t=>`<p class="default-paragraph theme-text-light-color">${t}</p>`,link:(t,i,e)=>`<a class="link" href="${t}">${e}</a>`},OCe={heading:(t,i)=>`<h5 class="modal-subtitle">${t}</h${i}>`,html:t=>t,paragraph:t=>`<div class="modal-description">
                    <p>${t}</p>
               </div>`,link:(t,i,e)=>`<a class="link" href="${t}">${e}</a>`,listitem:(t,i,e)=>`<li>- ${t}</li>`,list:(t,i,e)=>i?`<ol class="no-padding">${t}</ol>`:`<p><ul class="no-padding">${t}</ul></p>`},NCe={heading:(t,i)=>`<div class="row card-inline-headline">
                    <span class="text-left col-xs-12">${t}</span>
                </div>`,html:t=>t,paragraph:t=>`<div class="row">
                    <p class="card-paragraph theme-text-variant-color text-left col-xs-12">${t}</p>
                </div>`,link:(t,i,e)=>`<a class="link" href="${t}">${e}</a>`},Ou=(()=>{let i=class i{constructor(n){this.sanitizer=n,this.initialHeadingLevel=1,this.markedOptions={renderer:new hi.Renderer,walkTokens:r=>{r.type==="heading"&&(r.depth+=this.initialHeadingLevel-1)},headerIds:!1},this.rendererMap=new Map().set(Aa.NONE,new hi.Renderer).set(Aa.DEFAULT,kCe).set(Aa.CARD,wCe).set(Aa.MEMBERSHIP_CARD,DCe).set(Aa.MODAL,OCe).set(Aa.NEXT_STEPS,NCe).set(Aa.INLINE_TEXT,new hi.Renderer)}translateMarkdown(n,r=Aa.NONE,o=1){this.initialHeadingLevel=o,hi.options(this.markedOptions),hi.use({renderer:this.rendererMap.get(r)});let s=r===Aa.INLINE_TEXT?hi.parseInline(n):hi(n);return this.sanitizer.sanitize(bs.HTML,s)}addMarkedOptions(n){this.markedOptions=at(at({},this.markedOptions),n)}};i.\u0275fac=function(r){return new(r||i)(yt(ga))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),RCe=(()=>{let i=class i{constructor(n,r,o){this.messageResource=n,this.affiliateService=r,this.webshopCookieService=o}resolve(n){let r=this.getErrorCode(n),o=this.webshopCookieService.get(qi.Language);return new Promise(s=>Promise.all([this.messageResource.getErrorMessage(o,r).toPromise(),this.affiliateService.updateAffiliate()]).then(c=>{s(c[0])},()=>{s(null)}))}getErrorCode(n){return n.params.errorCode!==void 0?n.params.errorCode:0}};i.\u0275fac=function(r){return new(r||i)(yt(fv),yt(Tn),yt(_i))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var MCe=(()=>{let i=class i{intercept(n,r){let o=new Nr({encoder:this,fromString:n.params.toString()});return r.handle(n.clone({params:o}))}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}encodeKey(n){return encodeURIComponent(n)}encodeValue(n){return encodeURIComponent(n)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),FCe=(()=>{let i=class i{intercept(n,r){let o=n;return n.url.startsWith("http")||(o=n.clone({headers:n.headers.set("If-Modified-Since","0")})),r.handle(o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),LCe=(()=>{let i=class i{constructor(){this.logService=E(Ir),this.router=E(zt),this.tokenStore=E(Sp).xsrfToken,this.httpMethodTokenRequiredMap=new Set([UN.Post,UN.Put,UN.Delete])}intercept(n,r){let o=n;return this.tokenRequiredFor(n)&&(o=n.clone({headers:n.headers.set(i.HEADER_PARAM,this.tokenStore)})),r.handle(o).pipe(An(s=>{s.type===$d.Response&&this.retrieveTokenFrom(s)}),No(s=>(this.isXsrfAttemptError(s)?this.routeToErrorPage(s):this.retrieveTokenFrom(s),ma(s))))}isXsrfAttemptError(n){return ce.isObject(n.error)&&n.error.errorCode===br.XSRF_ATTEMPT}routeToErrorPage(n){this.router.config.some(r=>r.path===S2.ERROR)&&(this.router.navigate([S2.ERROR,n.error.errorCode]).finally(),delete n.error.message,delete n.error.errorCode)}tokenRequiredFor(n){return this.httpMethodTokenRequiredMap.has(n.method)&&this.tokenStore!==void 0&&(En.isHostUnchangedFor(n.url)||En.isRelativePath(n.url))}retrieveTokenFrom(n){let r=n.headers.get(i.HEADER_PARAM);ee.isNotEmpty(r)?this.tokenStore=r:ce.hasProperty(n,`body.${i.TOKEN_NAME}`)&&(this.tokenStore=n.body[i.TOKEN_NAME],this.logService.debug(new Error("XSRF-Token is missing in response header")))}};i.TOKEN_NAME="xsrfToken",i.HEADER_PARAM="X-XSRF-TOKEN",i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),VN=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[{provide:wm,useClass:FCe,multi:!0},{provide:wm,useClass:LCe,multi:!0},{provide:wm,useClass:MCe,multi:!0}]});let t=i;return t})(),E0=function(t){return t.OPEN_POPUP="openAsPopup",t.OPEN_BROWSER="openInBrowser",t.OPEN_APP_BROWER="openInAppBrowser",t.USER_DATA_CHANGED="userDataChanged",t.SIGN_ON="signOn",t.TICKET_RETURN_REQUEST_CREATED="ticketReturnRequestCreated",t}(E0||{}),xp=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.CANCEL=1]="CANCEL",t[t.UNKNOWN=2]="UNKNOWN",t[t.INTERNAL_INVALID_DATA=3]="INTERNAL_INVALID_DATA",t[t.NETWORK_NO_CONNECTION=10]="NETWORK_NO_CONNECTION",t[t.NETWORK_TIMEOUT=11]="NETWORK_TIMEOUT",t[t.NETWORK_NO_HOST=12]="NETWORK_NO_HOST",t}(xp||{}),ka=function(t){return t.EMPTY_CART="ShoppingCartEmptied",t.ROOT_CHANGE="RootChangeNotification",t.PAYMENT="CheckoutPaymentEvent",t.PAYMENT_RESULT="CheckoutPaymentEventResult",t.TRIGGER_APP="TriggerAppEvent",t.TRIGGER_WEB="TriggerWebEvent",t.APP_PAUSE="AppPause",t.APP_RESUME="AppResume",t.TRACKING="TrackingEvent",t}(ka||{}),Gl=function(t){return t.PAYPAL_BRAINTREE="paypal_vault_available_2",t.BRAINTREE_CREDIT_CARD="pp_braintree_cc",t.KLARNA_WHITELIST="klarna_whitelist",t.KLARNA_SDK="klarna_sdk",t.SIGN_ON="sign_on",t.APP_TRACKING="app_tracking",t}(Gl||{}),yT=function(t){return t.PAYPAL="paypal",t.BRAINTREE_CREDIT_CARD="pp_braintree_cc",t}(yT||{}),jo=(()=>{let i=class i{constructor(n,r){this.document=n,this.logService=r,this.receiverStream=new qn,this.currentListeners=new Map}isRunningInMoa(){return this.document.defaultView.featureIsEnabledInApp!==void 0}hasFeature(n){return typeof this.document.defaultView.featureIsEnabledInApp=="function"&&this.document.defaultView.featureIsEnabledInApp(n)}receive(...n){let r;return Array.isArray(n)&&Dt.isNotEmpty(n)&&(n.forEach(o=>this.createListener(o)),r=this.receiverStream.asObservable().pipe(Yt(o=>n.indexOf(o[0])>-1))),r}stopListener(n){this.hasListener(n)&&(this.document.defaultView.removeEventListener(n,this.currentListeners.get(n)),this.currentListeners.delete(n))}stopAll(){Array.from(this.currentListeners.keys()).forEach(n=>this.stopListener(n))}emitEvent(n,r=null){return this.document.defaultView.dispatchEvent(new CustomEvent(n,r))}hasListener(n){return this.currentListeners.has(n)}createListener(n){if(this.hasListener(n))this.logService.trace(new Error("listener already created"));else{let r=o=>this.emitReceivedEvent(n,o);this.currentListeners.set(n,r),this.document.defaultView.addEventListener(n,r)}}emitReceivedEvent(n,r){this.receiverStream.next([n,r])}};i.\u0275fac=function(r){return new(r||i)(yt(Ot),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var YX=(()=>{let i=class i{constructor(n){this.moaService=n}handleSignOnIfPossible(n,r){return new Promise((o,s)=>{this.moaService.isRunningInMoa()&&this.moaService.hasFeature(Gl.SIGN_ON)?(this.listenToResponse(o,s),this.emitEvent(n,r)):s(xp.NO_ERROR)})}listenToResponse(n,r){this.moaService.receive(ka.TRIGGER_WEB).pipe(Yt(o=>o&&o[1]?.detail?.action===E0.SIGN_ON),Ul()).subscribe(o=>{let s=o[1].detail;ce.isNullable(s.errorCode)||s.errorCode===xp.NO_ERROR?n():r(s.errorCode)})}emitEvent(n,r){let o={action:E0.SIGN_ON};ee.isNotEmpty(n)&&(o.provider=n),ee.isNotEmpty(r)&&(o.idToken=r),this.moaService.emitEvent(ka.TRIGGER_APP,{detail:o})}};i.\u0275fac=function(r){return new(r||i)(yt(jo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var KN=function(t){return t.POPUP="popup",t.PDF="pdf",t.APPLE_WALLET="appleWallet",t}(KN||{}),JX=(()=>{let i=class i{constructor(n){this.domSanitizer=n}transform(n,r){let o=new RegExp(/href=["'](.*?)["']/,"g"),s=n,c=n.match(o);return Dt.isNotEmpty(c)&&c.forEach(v=>{let b=v.indexOf("="),x=v.slice(b+2,-1).trim();ee.isNotEmpty(x)&&x.includes(".pdf")?s=s.replace(x,`${x}?lipa=${KN.PDF}`):ee.isNotEmpty(x)&&!x.startsWith("/")&&(s=s.replace(x,`${x}?lipa=${r}`))}),this.domSanitizer.sanitize(bs.HTML,this.domSanitizer.bypassSecurityTrustHtml(s))}};i.\u0275fac=function(r){return new(r||i)(Et(ga,16))},i.\u0275pipe=Sa({name:"evAddLipaParameter",type:i,pure:!0,standalone:!1});let t=i;return t})(),KX=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr]});let t=i;return t})(),x2=class{},Mi=function(t){return t.Context="context",t.Session="session",t}(Mi||{}),BCe=(()=>{let i=class i{constructor(){this.contextStore={}}loadStore(){return this.contextStore}saveStore(n){this.contextStore=n}getType(){return Mi.Context}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),A2=function(t){return t.ROOT="ev",t.CONTRAST_MODE="contrastEnabled",t}(A2||{}),w2=(()=>{let i=class i{constructor(n){this.logService=n,this.sessionStorage=window.sessionStorage}loadStore(n=A2.ROOT){let r={},o="content";try{let s=this.sessionStorage.getItem(n);try{if(typeof s=="string"){let c=JSON.parse(s);typeof c=="object"?r=c:r[o]=c}}catch(c){this.logService.error(c),this.sessionStorage.removeItem(n)}}catch(s){this.logService.error(s)}return r}saveStore(n){try{this.sessionStorage.setItem(A2.ROOT,JSON.stringify(n))}catch(r){this.logService.error(r)}}getType(){return Mi.Session}};i.\u0275fac=function(r){return new(r||i)(yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),Fi=function(t){return t.Customer="customer",t.Order="order",t.OrderCustomer="orderCustomer",t}(Fi||{}),Zi=function(t){return t.Boolean="boolean",t.Number="number",t.String="string",t.Object="object",t}(Zi||{}),pn=class pn{static getValues(){return new Array(...pn.VALUES)}constructor(i,e,n){this.storeScope=i,this.storeValueType=e,this.storeType=n,this.key=null}hasScope(i){return this.storeScope===i}getKey(){return this.key===null&&(this.key=Object.keys(pn).find(i=>pn[i]===this)),this.key}getValueType(){return this.storeValueType}getStoreType(){return this.storeType}hasValidType(i){return typeof i===this.storeValueType}};pn.USER_SUBMITTED_PAYMENT_METHOD=new pn(Fi.Customer,Zi.Number,Mi.Session),pn.USER_SUBMITTED_PAYMENT_DATA=new pn(Fi.Order,Zi.Object,Mi.Context),pn.USER_BILLPAY_PAYLATER_DATA=new pn(Fi.Customer,Zi.Object,Mi.Context),pn.ORDER_NUMBER=new pn(Fi.Order,Zi.Number,Mi.Session),pn.CUSTOMER_ID=new pn(Fi.Customer,Zi.Number,Mi.Session),pn.NEW_CUSTOMER_EMAIL=new pn(Fi.Customer,Zi.String,Mi.Context),pn.NEW_CUSTOMER_PASSWORD=new pn(Fi.Customer,Zi.String,Mi.Context),pn.NEW_CUSTOMER_USERNAME=new pn(Fi.Customer,Zi.String,Mi.Context),pn.GUEST_CUSTOMER_REGISTRATION=new pn(Fi.Customer,Zi.Boolean,Mi.Session),pn.CCCL_CUSTOMER=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.CCCL_SEARCH_DATA=new pn(Fi.Order,Zi.Object,Mi.Session),pn.ORDER_TICKET_INSURANCE_POPUP_SHOWN=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.ORDER_TICKET_INSURANCE_ENABLED=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.CUSTOMER_CHOSEN_DELIVERY_METHOD=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.CUSTOMER_CHECKED_INVOICE_REQUEST=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.CUSTOMER_CHECKED_DEVIATING_DELIVERY=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.CUSTOMER_PREVIOUS_SELECTED_GIFT_WRAPS=new pn(Fi.Order,Zi.Object,Mi.Session),pn.CUSTOMER_STATUS_TRACKED=new pn(Fi.Customer,Zi.Boolean,Mi.Session),pn.SHOW_GENERAL_NEWSLETTER=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.SHOW_PARTNER_NEWSLETTER=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.SEAT_LEVEL_METADATA_CHECKOXES=new pn(Fi.Order,Zi.Object,Mi.Session),pn.CUSTOMER_COMES_FROM_FACEBOOK=new pn(Fi.Customer,Zi.Boolean,Mi.Session),pn.PAGE_WAS_SKIPPED=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.QUICK_CHECKOUT_FOR_OPC=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.PROCESSING_ORDER_CHECKOUT=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Context),pn.DDM_TRACKED_ORDER_NUMBER=new pn(Fi.OrderCustomer,Zi.Number,Mi.Session),pn.SSO_RESPONSE_DATA=new pn(Fi.OrderCustomer,Zi.Object,Mi.Session),pn.SHOW_CVV_HINT=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.PAGE_WAS_RELOADED=new pn(Fi.OrderCustomer,Zi.Boolean,Mi.Session),pn.GCPS_TOKENS=new pn(Fi.OrderCustomer,Zi.Object,Mi.Session),pn.KLARNA_INIT_DATA=new pn(Fi.OrderCustomer,Zi.Object,Mi.Session),pn.DISABLED_PAYMENT_METHODS=new pn(Fi.OrderCustomer,Zi.Object,Mi.Session),pn.USER_CREDIT_CARD_DATA=new pn(Fi.Customer,Zi.Object,Mi.Context),pn.DYNAMIC_TRACKING_VARS=new pn(Fi.Order,Zi.Object,Mi.Session),pn.ORDER_TICKET_INSURANCE_SUM=new pn(Fi.Order,Zi.Number,Mi.Session),pn.ORDER_POSITION_MAP=new pn(Fi.Order,Zi.String,Mi.Session),pn.LAST_ADDED_EVENT=new pn(Fi.Customer,Zi.Object,Mi.Session),pn.KLARNA_AUTH_DATA=new pn(Fi.OrderCustomer,Zi.Object,Mi.Session),pn.EXTERNAL_RESERVATION=new pn(Fi.Order,Zi.Boolean,Mi.Session),pn.TRACKING_LOGIN_METHOD=new pn(Fi.Customer,Zi.String,Mi.Session),pn.AFTERSALES=new pn(Fi.Customer,Zi.Boolean,Mi.Session),pn.VALUES=Object.keys(pn).filter(i=>pn[i]instanceof pn).map(i=>pn[i]);var ut=pn,fn=(()=>{let i=class i{constructor(n,r){this.logService=r,this.storeMap=new Map,n.forEach(o=>{this.storeMap.has(o.getType())?this.logService.debug(new Error(`found more than one store of type "${o.getType()}"`)):this.storeMap.set(o.getType(),o)})}set(n,r){if(n.hasValidType(r)){let o=this.loadStore(n.getStoreType());o[n.getKey()]=r,this.saveStore(n.getStoreType(),o)}else this.logService.debug(new Error(`illegal type of value argument, expected "${n.getValueType()}", but was "${typeof r}"`))}clear(n){let r=this.loadStore(n.getStoreType());r[n.getKey()]=void 0,this.saveStore(n.getStoreType(),r)}clearAll(){Object.keys(Mi).map(n=>Mi[n]).forEach(n=>{this.saveStore(n,{})})}clearScope(n){Object.keys(Mi).map(r=>Mi[r]).forEach(r=>{let o=this.loadStore(r);ut.getValues().filter(s=>s.hasScope(n)&&s.getStoreType()===r).forEach(s=>o[s.getKey()]=void 0),this.saveStore(r,o)})}get(n,r=null){let o=this.loadStore(n.getStoreType()),s=r;return typeof o[n.getKey()]===n.getValueType()&&(s=o[n.getKey()]),s}loadStore(n){return this.getStore(n).loadStore()}saveStore(n,r){this.getStore(n).saveStore(r)}getStore(n){if(this.storeMap.has(n))return this.storeMap.get(n);throw Error(`store of type "${n}" was not provided.`)}};i.\u0275fac=function(r){return new(r||i)(yt(x2),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),jN=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[fn,{provide:x2,useClass:w2,multi:!0},{provide:x2,useClass:BCe,multi:!0}],imports:[Vr]});let t=i;return t})(),XX=(()=>{let i=class i{constructor(n,r){this.logService=r,this.document=n}readLocalStorage(n){let r={};return this.getLocalStorage().ifPresentOrElse(o=>{let s=null;try{s=o.getItem(n),s!==null&&(s=atob(s),r=JSON.parse(s))}catch(c){this.logService.trace(new Error(c))}},()=>{this.logService.trace(new Error("Missing support!"))}),r}writeLocalStorage(n,r){try{this.getLocalStorage().ifPresent(o=>{o.setItem(n,btoa(JSON.stringify(r)))})}catch(o){this.logService.trace(new Error(o))}}deleteData(n){localStorage.removeItem(n)}getLocalStorage(){return Pa.of(this.document.defaultView.localStorage)}};i.\u0275fac=function(r){return new(r||i)(yt(Ot),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var es=class es extends ut{constructor(){super(...arguments),this.subKey=null}static installMock(){es.VALUES_BACKUP=ut.VALUES,ut.VALUES=Object.keys(es).filter(i=>es[i]instanceof es).map(i=>es[i])}static uninstallMock(){ut.VALUES=es.VALUES_BACKUP}getKey(){return this.subKey===null&&(this.subKey=Object.keys(es).find(i=>es[i]===this)),this.subKey}};es.USER_BOOL=new es(Fi.Customer,Zi.Boolean,Mi.Context),es.USER_STRING=new es(Fi.Customer,Zi.String,Mi.Context),es.USER_NUMBER=new es(Fi.Customer,Zi.Number,Mi.Context),es.USER_OBJECT=new es(Fi.Customer,Zi.Object,Mi.Session),es.ORDER_STRING=new es(Fi.Order,Zi.String,Mi.Session),es.USER_SUBMITTED_PAYMENT_DATA=new es(Fi.Customer,Zi.Object,Mi.Context),es.VALUES_BACKUP=[];var qX=es,qN=new mn("Window",{factory:UCe});function UCe(){return window}var Pp=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[{provide:Sp,useFactory:I2.getConfiguration},RCe],imports:[jX,pv,jN,VN,y0,GX,Po,KX,jX,pv,jN,VN,y0,GX,Po,KX]});let t=i;return t})();var pr=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(pr||{}),kp="*";function S0(t,i){return{type:pr.Trigger,name:t,definitions:i,options:{}}}function yl(t,i=null){return{type:pr.Animate,styles:i,timings:t}}function zC(t,i=null){return{type:pr.Group,steps:t,options:i}}function ET(t,i=null){return{type:pr.Sequence,steps:t,options:i}}function Lo(t){return{type:pr.Style,styles:t,offset:null}}function Zc(t,i,e){return{type:pr.State,name:t,styles:i,options:e}}function wp(t,i,e=null){return{type:pr.Transition,expr:t,animation:i,options:e}}var Yf=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(i=0,e=0){this.totalTime=i+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},WC=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(i){this.players=i;let e=0,n=0,r=0,o=this.players.length;o==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++n==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,c)=>Math.max(s,c.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){let e=i*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let i=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return i!=null?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){let e=i=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},TT="!";function QX(t){return new Lt(3e3,!1)}function $Ce(){return new Lt(3100,!1)}function HCe(){return new Lt(3101,!1)}function VCe(t){return new Lt(3001,!1)}function jCe(t){return new Lt(3003,!1)}function GCe(t){return new Lt(3004,!1)}function eQ(t,i){return new Lt(3005,!1)}function tQ(){return new Lt(3006,!1)}function nQ(){return new Lt(3007,!1)}function iQ(t,i){return new Lt(3008,!1)}function rQ(t){return new Lt(3002,!1)}function oQ(t,i,e,n,r){return new Lt(3010,!1)}function aQ(){return new Lt(3011,!1)}function sQ(){return new Lt(3012,!1)}function lQ(){return new Lt(3200,!1)}function cQ(){return new Lt(3202,!1)}function dQ(){return new Lt(3013,!1)}function uQ(t){return new Lt(3014,!1)}function pQ(t){return new Lt(3015,!1)}function mQ(t){return new Lt(3016,!1)}function fQ(t,i){return new Lt(3404,!1)}function KCe(t){return new Lt(3502,!1)}function hQ(t){return new Lt(3503,!1)}function gQ(){return new Lt(3300,!1)}function vQ(t){return new Lt(3504,!1)}function _Q(t){return new Lt(3301,!1)}function CQ(t,i){return new Lt(3302,!1)}function yQ(t){return new Lt(3303,!1)}function EQ(t,i){return new Lt(3400,!1)}function TQ(t){return new Lt(3401,!1)}function bQ(t){return new Lt(3402,!1)}function IQ(t,i){return new Lt(3505,!1)}function x0(t){switch(t.length){case 0:return new Yf;case 1:return t[0];default:return new WC(t)}}function b8(t,i,e=new Map,n=new Map){let r=[],o=[],s=-1,c=null;if(i.forEach(v=>{let b=v.get("offset"),x=b==s,k=x&&c||new Map;v.forEach((O,w)=>{let M=w,F=O;if(w!=="offset")switch(M=t.normalizePropertyName(M,r),F){case TT:F=e.get(w);break;case kp:F=n.get(w);break;default:F=t.normalizeStyleValue(w,M,F,r);break}k.set(M,F)}),x||o.push(k),c=k,s=b}),r.length)throw KCe(r);return o}function WN(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&y8(e,"start",t)));break;case"done":t.onDone(()=>n(e&&y8(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&y8(e,"destroy",t)));break}}function y8(t,i,e){let n=e.totalTime,r=!!e.disabled,o=zN(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,n??t.totalTime,r),s=t._data;return s!=null&&(o._data=s),o}function zN(t,i,e,n,r="",o=0,s){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!s}}function Wd(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function I8(t){let i=t.indexOf(":"),e=t.substring(1,i),n=t.slice(i+1);return[e,n]}var qCe=typeof document>"u"?null:document.documentElement;function YN(t){let i=t.parentNode||t.host||null;return i===qCe?null:i}function WCe(t){return t.substring(1,6)=="ebkit"}var YC=null,ZX=!1;function SQ(t){YC||(YC=zCe()||{},ZX=YC.style?"WebkitAppearance"in YC.style:!1);let i=!0;return YC.style&&!WCe(t)&&(i=t in YC.style,!i&&ZX&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in YC.style)),i}function zCe(){return typeof document<"u"?document.body:null}function S8(t,i){for(;i;){if(i===t)return!0;i=YN(i)}return!1}function x8(t,i,e){if(e)return Array.from(t.querySelectorAll(i));let n=t.querySelector(i);return n?[n]:[]}var YCe=1e3,A8="{{",JCe="}}",P8="ng-enter",JN="ng-leave",D2="ng-trigger",O2=".ng-trigger",k8="ng-animating",XN=".ng-animating";function Jf(t){if(typeof t=="number")return t;let i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:E8(parseFloat(i[1]),i[2])}function E8(t,i){switch(i){case"s":return t*YCe;default:return t}}function N2(t,i,e){return t.hasOwnProperty("duration")?t:XCe(t,i,e)}function XCe(t,i,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,s="";if(typeof t=="string"){let c=t.match(n);if(c===null)return i.push(QX(t)),{duration:0,delay:0,easing:""};r=E8(parseFloat(c[1]),c[2]);let v=c[3];v!=null&&(o=E8(parseFloat(v),c[4]));let b=c[5];b&&(s=b)}else r=t;if(!e){let c=!1,v=i.length;r<0&&(i.push($Ce()),c=!0),o<0&&(i.push(HCe()),c=!0),c&&i.splice(v,0,QX(t))}return{duration:r,delay:o,easing:s}}function xQ(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}function Mm(t,i,e){i.forEach((n,r)=>{let o=QN(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n})}function gv(t,i){i.forEach((e,n)=>{let r=QN(n);t.style[r]=""})}function bT(t){return Array.isArray(t)?t.length==1?t[0]:ET(t):t}function AQ(t,i,e){let n=i.params||{},r=w8(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(VCe(o))})}var T8=new RegExp(`${A8}\\s*(.+?)\\s*${JCe}`,"g");function w8(t){let i=[];if(typeof t=="string"){let e;for(;e=T8.exec(t);)i.push(e[1]);T8.lastIndex=0}return i}function IT(t,i,e){let n=`${t}`,r=n.replace(T8,(o,s)=>{let c=i[s];return c==null&&(e.push(jCe(s)),c=""),c.toString()});return r==n?t:r}var QCe=/-+([a-z0-9])/g;function QN(t){return t.replace(QCe,(...i)=>i[1].toUpperCase())}function PQ(t,i){return t===0||i===0}function kQ(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,s)=>{n.has(s)||r.push(s),n.set(s,o)}),r.length)for(let o=1;o<i.length;o++){let s=i[o];r.forEach(c=>s.set(c,ZN(t,c)))}}return i}function zd(t,i,e){switch(i.type){case pr.Trigger:return t.visitTrigger(i,e);case pr.State:return t.visitState(i,e);case pr.Transition:return t.visitTransition(i,e);case pr.Sequence:return t.visitSequence(i,e);case pr.Group:return t.visitGroup(i,e);case pr.Animate:return t.visitAnimate(i,e);case pr.Keyframes:return t.visitKeyframes(i,e);case pr.Style:return t.visitStyle(i,e);case pr.Reference:return t.visitReference(i,e);case pr.AnimateChild:return t.visitAnimateChild(i,e);case pr.AnimateRef:return t.visitAnimateRef(i,e);case pr.Query:return t.visitQuery(i,e);case pr.Stagger:return t.visitStagger(i,e);default:throw GCe(i.type)}}function ZN(t,i){return window.getComputedStyle(t)[i]}var W8=(()=>{class t{validateStyleProperty(e){return SQ(e)}containsElement(e,n){return S8(e,n)}getParentElement(e){return YN(e)}query(e,n,r){return x8(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,s,c=[],v){return new Yf(r,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})(),XC=class{static NOOP=new W8},QC=class{};var ZCe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),rR=class extends QC{normalizePropertyName(i,e){return QN(i)}normalizeStyleValue(i,e,n,r){let o="",s=n.toString().trim();if(ZCe.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let c=n.match(/^[+-]?[\d\.]+([a-z]*)$/);c&&c[1].length==0&&r.push(eQ(i,n))}return s+o}};var oR="*";function e1e(t,i){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>t1e(n,e,i)):e.push(t),e}function t1e(t,i,e){if(t[0]==":"){let v=n1e(t,e);if(typeof v=="function"){i.push(v);return}t=v}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(pQ(t)),i;let r=n[1],o=n[2],s=n[3];i.push(wQ(r,s));let c=r==oR&&s==oR;o[0]=="<"&&!c&&i.push(wQ(s,r))}function n1e(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(mQ(t)),"* => *"}}var eR=new Set(["true","1"]),tR=new Set(["false","0"]);function wQ(t,i){let e=eR.has(t)||tR.has(t),n=eR.has(i)||tR.has(i);return(r,o)=>{let s=t==oR||t==r,c=i==oR||i==o;return!s&&e&&typeof r=="boolean"&&(s=r?eR.has(t):tR.has(t)),!c&&n&&typeof o=="boolean"&&(c=o?eR.has(i):tR.has(i)),s&&c}}var $Q=":self",i1e=new RegExp(`s*${$Q}s*,?`,"g");function HQ(t,i,e,n){return new F8(t).build(i,e,n)}var DQ="",F8=class{_driver;constructor(i){this._driver=i}build(i,e,n){let r=new L8(e);return this._resetContextStyleTimingState(r),zd(this,bT(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=DQ,i.collectedStyles=new Map,i.collectedStyles.set(DQ,new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0,o=[],s=[];return i.name.charAt(0)=="@"&&e.errors.push(tQ()),i.definitions.forEach(c=>{if(this._resetContextStyleTimingState(e),c.type==pr.State){let v=c,b=v.name;b.toString().split(/\s*,\s*/).forEach(x=>{v.name=x,o.push(this.visitState(v,e))}),v.name=b}else if(c.type==pr.Transition){let v=this.visitTransition(c,e);n+=v.queryCount,r+=v.depCount,s.push(v)}else e.errors.push(nQ())}),{type:pr.Trigger,name:i.name,states:o,transitions:s,queryCount:n,depCount:r,options:null}}visitState(i,e){let n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=r||{};n.styles.forEach(c=>{c instanceof Map&&c.forEach(v=>{w8(v).forEach(b=>{s.hasOwnProperty(b)||o.add(b)})})}),o.size&&e.errors.push(iQ(i.name,[...o.values()]))}return{type:pr.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let n=zd(this,bT(i.animation),e),r=e1e(i.expr,e.errors);return{type:pr.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:JC(i.options)}}visitSequence(i,e){return{type:pr.Sequence,steps:i.steps.map(n=>zd(this,n,e)),options:JC(i.options)}}visitGroup(i,e){let n=e.currentTime,r=0,o=i.steps.map(s=>{e.currentTime=n;let c=zd(this,s,e);return r=Math.max(r,e.currentTime),c});return e.currentTime=r,{type:pr.Group,steps:o,options:JC(i.options)}}visitAnimate(i,e){let n=s1e(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:Lo({});if(o.type==pr.Keyframes)r=this.visitKeyframes(o,e);else{let s=i.styles,c=!1;if(!s){c=!0;let b={};n.easing&&(b.easing=n.easing),s=Lo(b)}e.currentTime+=n.duration+n.delay;let v=this.visitStyle(s,e);v.isEmptyStep=c,r=v}return e.currentAnimateTimings=null,{type:pr.Animate,timings:n,style:r,options:null}}visitStyle(i,e){let n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){let n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let c of r)typeof c=="string"?c===kp?n.push(c):e.errors.push(rQ(c)):n.push(new Map(Object.entries(c)));let o=!1,s=null;return n.forEach(c=>{if(c instanceof Map&&(c.has("easing")&&(s=c.get("easing"),c.delete("easing")),!o)){for(let v of c.values())if(v.toString().indexOf(A8)>=0){o=!0;break}}}),{type:pr.Style,styles:n,easing:s,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(s=>{typeof s!="string"&&s.forEach((c,v)=>{let b=e.collectedStyles.get(e.currentQuerySelector),x=b.get(v),k=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(e.errors.push(oQ(v,x.startTime,x.endTime,o,r)),k=!1),o=x.startTime),k&&b.set(v,{startTime:o,endTime:r}),e.options&&AQ(c,e.options,e.errors)})})}visitKeyframes(i,e){let n={type:pr.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(aQ()),n;let r=1,o=0,s=[],c=!1,v=!1,b=0,x=i.steps.map(V=>{let B=this._makeStyleAst(V,e),q=B.offset!=null?B.offset:a1e(B.styles),W=0;return q!=null&&(o++,W=B.offset=q),v=v||W<0||W>1,c=c||W<b,b=W,s.push(W),B});v&&e.errors.push(sQ()),c&&e.errors.push(lQ());let k=i.steps.length,O=0;o>0&&o<k?e.errors.push(cQ()):o==0&&(O=r/(k-1));let w=k-1,M=e.currentTime,F=e.currentAnimateTimings,L=F.duration;return x.forEach((V,B)=>{let q=O>0?B==w?1:O*B:s[B],W=q*L;e.currentTime=M+F.delay+W,F.duration=W,this._validateStyleAst(V,e),V.offset=q,n.styles.push(V)}),n}visitReference(i,e){return{type:pr.Reference,animation:zd(this,bT(i.animation),e),options:JC(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:pr.AnimateChild,options:JC(i.options)}}visitAnimateRef(i,e){return{type:pr.AnimateRef,animation:this.visitReference(i.animation,e),options:JC(i.options)}}visitQuery(i,e){let n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,s]=r1e(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,Wd(e.collectedStyles,e.currentQuerySelector,new Map);let c=zd(this,bT(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:pr.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:c,originalSelector:i.selector,options:JC(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(dQ());let n=i.timings==="full"?{duration:0,delay:0,easing:"full"}:N2(i.timings,e.errors,!0);return{type:pr.Stagger,animation:zd(this,bT(i.animation),e),timings:n,options:null}}};function r1e(t){let i=!!t.split(/\s*,\s*/).find(e=>e==$Q);return i&&(t=t.replace(i1e,"")),t=t.replace(/@\*/g,O2).replace(/@\w+/g,e=>O2+"-"+e.slice(1)).replace(/:animating/g,XN),[t,i]}function o1e(t){return t?at({},t):null}var L8=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function a1e(t){if(typeof t=="string")return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function s1e(t,i){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=N2(t,i).duration;return D8(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=D8(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=N2(e,i);return D8(r.duration,r.delay,r.easing)}function JC(t){return t?(t=at({},t),t.params&&(t.params=o1e(t.params))):t={},t}function D8(t,i,e){return{duration:t,delay:i,easing:e}}function z8(t,i,e,n,r,o,s=null,c=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:c}}var M2=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},l1e=1,c1e=":enter",d1e=new RegExp(c1e,"g"),u1e=":leave",p1e=new RegExp(u1e,"g");function VQ(t,i,e,n,r,o=new Map,s=new Map,c,v,b=[]){return new B8().buildKeyframes(t,i,e,n,r,o,s,c,v,b)}var B8=class{buildKeyframes(i,e,n,r,o,s,c,v,b,x=[]){b=b||new M2;let k=new U8(i,e,b,r,o,x,[]);k.options=v;let O=v.delay?Jf(v.delay):0;k.currentTimeline.delayNextStep(O),k.currentTimeline.setStyles([s],null,k.errors,v),zd(this,n,k);let w=k.timelines.filter(M=>M.containsAnimation());if(w.length&&c.size){let M;for(let F=w.length-1;F>=0;F--){let L=w[F];if(L.element===e){M=L;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([c],null,k.errors,v)}return w.length?w.map(M=>M.buildKeyframes()):[z8(e,[],[],[],0,O,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=i}visitAnimateRef(i,e){let n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(let r of i){let o=r?.delay;if(o){let s=typeof o=="number"?o:Jf(IT(o,r?.params??{},e.errors));n.delayNextStep(s)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime,s=n.duration!=null?Jf(n.duration):null,c=n.delay!=null?Jf(n.delay):null;return s!==0&&i.forEach(v=>{let b=e.appendInstructionToTimeline(v,s,c);o=Math.max(o,b.duration+b.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),zd(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let n=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==pr.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=aR);let s=Jf(o.delay);r.delayNextStep(s)}i.steps.length&&(i.steps.forEach(s=>zd(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let n=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?Jf(i.options.delay):0;i.steps.forEach(s=>{let c=e.createSubContext(i.options);o&&c.delayNextStep(o),zd(this,s,c),r=Math.max(r,c.currentTimeline.currentTime),n.push(c.currentTimeline)}),n.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let n=i.strValue,r=e.params?IT(n,e.params,e.errors):n;return N2(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=i.style;o.type==pr.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,c=e.createSubContext().currentTimeline;c.easing=n.easing,i.styles.forEach(v=>{let b=v.offset||0;c.forwardTime(b*o),c.setStyles(v.styles,v.easing,e.errors,e.options),c.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(c),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?Jf(r.delay):0;o&&(e.previousNode.type===pr.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=aR);let s=n,c=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=c.length;let v=null;c.forEach((b,x)=>{e.currentQueryIndex=x;let k=e.createSubContext(i.options,b);o&&k.delayNextStep(o),b===e.element&&(v=k.currentTimeline),zd(this,i.animation,k),k.currentTimeline.applyStylesToKeyframe();let O=k.currentTimeline.currentTime;s=Math.max(s,O)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let n=e.parentContext,r=e.currentTimeline,o=i.timings,s=Math.abs(o.duration),c=s*(e.currentQueryTotal-1),v=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":v=c-v;break;case"full":v=n.currentStaggerTime;break}let x=e.currentTimeline;v&&x.delayNextStep(v);let k=x.currentTime;zd(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-k+(r.startTime-n.currentTimeline.startTime)}},aR={},U8=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=aR;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,n,r,o,s,c,v){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=c,this.currentTimeline=v||new sR(this._driver,e,0),c.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let n=i,r=this.options;n.duration!=null&&(r.duration=Jf(n.duration)),n.delay!=null&&(r.delay=Jf(n.delay));let o=n.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(c=>{(!e||!s.hasOwnProperty(c))&&(s[c]=IT(o[c],s,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=aR,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new $8(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,s){let c=[];if(r&&c.push(this.element),i.length>0){i=i.replace(d1e,"."+this._enterClassName),i=i.replace(p1e,"."+this._leaveClassName);let v=n!=1,b=this._driver.query(this.element,i,v);n!==0&&(b=n<0?b.slice(b.length+n,b.length):b.slice(0,n)),c.push(...b)}return!o&&c.length==0&&s.push(uQ(e)),c}},sR=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new t(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=l1e,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||kp),this._currentKeyframe.set(e,kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},s=m1e(i,this._globalTimelineStyles);for(let[c,v]of s){let b=IT(v,o,n);this._pendingStyles.set(c,b),this._localTimelineStyles.has(c)||this._backFill.set(c,this._globalTimelineStyles.get(c)??kp),this._updateStyle(c,b)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((c,v)=>{let b=new Map([...this._backFill,...c]);b.forEach((x,k)=>{x===TT?i.add(k):x===kp&&e.add(k)}),n||b.set("offset",v/this.duration),r.push(b)});let o=[...i.values()],s=[...e.values()];if(n){let c=r[0],v=new Map(c);c.set("offset",0),v.set("offset",1),r=[c,v]}return z8(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}},$8=class extends sR{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,n,r,o,s,c=!1){super(i,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=c,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],s=n+e,c=e/s,v=new Map(i[0]);v.set("offset",0),o.push(v);let b=new Map(i[0]);b.set("offset",OQ(c)),o.push(b);let x=i.length-1;for(let k=1;k<=x;k++){let O=new Map(i[k]),w=O.get("offset"),M=e+w*n;O.set("offset",OQ(M/s)),o.push(O)}n=s,e=0,r="",i=o}return z8(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function OQ(t,i=3){let e=Math.pow(10,i-1);return Math.round(t*e)/e}function m1e(t,i){let e=new Map,n;return t.forEach(r=>{if(r==="*"){n??=i.keys();for(let o of n)e.set(o,kp)}else for(let[o,s]of r)e.set(o,s)}),e}function NQ(t,i,e,n,r,o,s,c,v,b,x,k,O){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:s,timelines:c,queriedElements:v,preStyleProps:b,postStyleProps:x,totalTime:k,errors:O}}var O8={},lR=class{_triggerName;ast;_stateStyles;constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return f1e(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i?.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,s,c,v,b,x){let k=[],O=this.ast.options&&this.ast.options.params||O8,w=c&&c.params||O8,M=this.buildStyles(n,w,k),F=v&&v.params||O8,L=this.buildStyles(r,F,k),V=new Set,B=new Map,q=new Map,W=r==="void",ie={params:jQ(F,O),delay:this.ast.options?.delay},se=x?[]:VQ(i,e,this.ast.animation,o,s,M,L,ie,b,k),we=0;return se.forEach(Me=>{we=Math.max(Me.duration+Me.delay,we)}),k.length?NQ(e,this._triggerName,n,r,W,M,L,[],[],B,q,we,k):(se.forEach(Me=>{let _e=Me.element,ke=Wd(B,_e,new Set);Me.preStyleProps.forEach(Te=>ke.add(Te));let be=Wd(q,_e,new Set);Me.postStyleProps.forEach(Te=>be.add(Te)),_e!==e&&V.add(_e)}),NQ(e,this._triggerName,n,r,W,M,L,se,[...V.values()],B,q,we))}};function f1e(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}function jQ(t,i){let e=at({},i);return Object.entries(t).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var H8=class{styles;defaultParams;normalizer;constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){let n=new Map,r=jQ(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,c)=>{s&&(s=IT(s,r,e));let v=this.normalizer.normalizePropertyName(c,e);s=this.normalizer.normalizeStyleValue(c,v,s,e),n.set(c,s)})}),n}};function h1e(t,i,e){return new V8(t,i,e)}var V8=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new H8(r.style,o,n))}),RQ(this.states,"true","1"),RQ(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new lR(i,r,this.states))}),this.fallbackTransition=g1e(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(s=>s.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}};function g1e(t,i,e){let n=[(s,c)=>!0],r={type:pr.Sequence,steps:[],options:null},o={type:pr.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new lR(t,o,i)}function RQ(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}var v1e=new M2,j8=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n}register(i,e){let n=[],r=[],o=HQ(this._driver,e,n,r);if(n.length)throw hQ(n);this._animations.set(i,o)}_buildPlayer(i,e,n){let r=i.element,o=b8(this._normalizer,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){let r=[],o=this._animations.get(i),s,c=new Map;if(o?(s=VQ(this._driver,e,o,P8,JN,new Map,new Map,n,v1e,r),s.forEach(x=>{let k=Wd(c,x.element,new Map);x.postStyleProps.forEach(O=>k.set(O,null))})):(r.push(gQ()),s=[]),r.length)throw vQ(r);c.forEach((x,k)=>{x.forEach((O,w)=>{x.set(w,this._driver.computeStyle(k,w,kp))})});let v=s.map(x=>{let k=c.get(x.element);return this._buildPlayer(x,new Map,k)}),b=x0(v);return this._playersById.set(i,b),b.onDestroy(()=>this.destroy(i)),this.players.push(b),b}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw _Q(i);return e}listen(i,e,n,r){let o=zN(e,"","","");return WN(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if(n=="register"){this.register(i,r[0]);return}if(n=="create"){let s=r[0]||{};this.create(i,e,s);return}let o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},MQ="ng-animate-queued",_1e=".ng-animate-queued",N8="ng-animate-disabled",C1e=".ng-animate-disabled",y1e="ng-star-inserted",E1e=".ng-star-inserted",T1e=[],GQ={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},b1e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fm="__ng_removed",F2=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let n=i&&i.hasOwnProperty("value"),r=n?i.value:i;if(this.value=S1e(r),n){let o=i,{value:s}=o,c=QL(o,["value"]);this.options=c}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},R2="void",R8=new F2(R2),G8=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+i,Dp(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw CQ(n,e);if(n==null||n.length==0)throw yQ(e);if(!x1e(n))throw EQ(n,e);let o=Wd(this._elementListeners,i,[]),s={name:e,phase:n,callback:r};o.push(s);let c=Wd(this._engine.statesByElement,i,new Map);return c.has(e)||(Dp(i,D2),Dp(i,D2+"-"+e),c.set(e,R8)),()=>{this._engine.afterFlush(()=>{let v=o.indexOf(s);v>=0&&o.splice(v,1),this._triggers.has(e)||c.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw TQ(i);return e}trigger(i,e,n,r=!0){let o=this._getTrigger(e),s=new L2(this.id,e,i),c=this._engine.statesByElement.get(i);c||(Dp(i,D2),Dp(i,D2+"-"+e),this._engine.statesByElement.set(i,c=new Map));let v=c.get(e),b=new F2(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&v&&b.absorbOptions(v.options),c.set(e,b),v||(v=R8),!(b.value===R2)&&v.value===b.value){if(!k1e(v.params,b.params)){let F=[],L=o.matchStyles(v.value,v.params,F),V=o.matchStyles(b.value,b.params,F);F.length?this._engine.reportError(F):this._engine.afterFlush(()=>{gv(i,L),Mm(i,V)})}return}let O=Wd(this._engine.playersByElement,i,[]);O.forEach(F=>{F.namespaceId==this.id&&F.triggerName==e&&F.queued&&F.destroy()});let w=o.matchTransition(v.value,b.value,i,b.params),M=!1;if(!w){if(!r)return;w=o.fallbackTransition,M=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:w,fromState:v,toState:b,player:s,isFallbackTransition:M}),M||(Dp(i,MQ),s.onStart(()=>{ST(i,MQ)})),s.onDone(()=>{let F=this.players.indexOf(s);F>=0&&this.players.splice(F,1);let L=this._engine.playersByElement.get(i);if(L){let V=L.indexOf(s);V>=0&&L.splice(V,1)}}),this.players.push(s),O.push(s),s}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let n=this._engine.driver.query(i,O2,!0);n.forEach(r=>{if(r[Fm])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){let o=this._engine.statesByElement.get(i),s=new Map;if(o){let c=[];if(o.forEach((v,b)=>{if(s.set(b,v.value),this._triggers.has(b)){let x=this.trigger(i,b,R2,r);x&&c.push(x)}}),c.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,s),n&&x0(c).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){let r=new Set;e.forEach(o=>{let s=o.name;if(r.has(s))return;r.add(s);let v=this._triggers.get(s).fallbackTransition,b=n.get(s)||R8,x=new F2(R2),k=new L2(this.id,s,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:s,transition:v,fromState:b,toState:x,player:k,isFallbackTransition:!0})})}}removeNode(i,e){let n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let s=i;for(;s=s.parentNode;)if(n.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{let o=i[Fm];(!o||o===GQ)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){Dp(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(c=>{if(c.name==n.triggerName){let v=zN(o,n.triggerName,n.fromState.value,n.toState.value);v._data=i,WN(n.player,c.phase,v,c.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,s=r.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},K8=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){let n=new G8(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,c=this.driver.getParentElement(e);for(;c;){let v=r.get(c);if(v){let b=n.indexOf(v);n.splice(b+1,0,i),s=!0;break}c=this.driver.getParentElement(c)}s||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,n=this.statesByElement.get(i);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,n,r){if(nR(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!nR(e))return;let o=e[Fm];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(i){let s=this._fetchNamespace(i);s&&s.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Dp(i,N8)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),ST(i,N8))}removeNode(i,e,n){if(nR(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[Fm]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return nR(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,O2,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,XN,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return x0(this.players).onDone(()=>i());i()})}processLeaveNode(i){let e=i[Fm];if(e&&e.setForRemoval){if(i[Fm]=GQ,e.namespaceId){this.destroyInnerAnimations(i);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}i.classList?.contains(N8)&&this.markElementAsDisabled(i,!1),this.driver.query(i,C1e,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Dp(r,y1e)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?x0(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw bQ(i)}_flushAnimations(i,e){let n=new M2,r=[],o=new Map,s=[],c=new Map,v=new Map,b=new Map,x=new Set;this.disabledNodes.forEach(Ke=>{x.add(Ke);let rt=this.driver.query(Ke,_1e,!0);for(let Fe=0;Fe<rt.length;Fe++)x.add(rt[Fe])});let k=this.bodyNode,O=Array.from(this.statesByElement.keys()),w=BQ(O,this.collectedEnterElements),M=new Map,F=0;w.forEach((Ke,rt)=>{let Fe=P8+F++;M.set(rt,Fe),Ke.forEach($e=>Dp($e,Fe))});let L=[],V=new Set,B=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){let rt=this.collectedLeaveElements[Ke],Fe=rt[Fm];Fe&&Fe.setForRemoval&&(L.push(rt),V.add(rt),Fe.hasAnimation?this.driver.query(rt,E1e,!0).forEach($e=>V.add($e)):B.add(rt))}let q=new Map,W=BQ(O,Array.from(V));W.forEach((Ke,rt)=>{let Fe=JN+F++;q.set(rt,Fe),Ke.forEach($e=>Dp($e,Fe))}),i.push(()=>{w.forEach((Ke,rt)=>{let Fe=M.get(rt);Ke.forEach($e=>ST($e,Fe))}),W.forEach((Ke,rt)=>{let Fe=q.get(rt);Ke.forEach($e=>ST($e,Fe))}),L.forEach(Ke=>{this.processLeaveNode(Ke)})});let ie=[],se=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(e).forEach(Fe=>{let $e=Fe.player,ot=Fe.element;if(ie.push($e),this.collectedEnterElements.length){let Hn=ot[Fm];if(Hn&&Hn.setForMove){if(Hn.previousTriggersValues&&Hn.previousTriggersValues.has(Fe.triggerName)){let Lr=Hn.previousTriggersValues.get(Fe.triggerName),Co=this.statesByElement.get(Fe.element);if(Co&&Co.has(Fe.triggerName)){let js=Co.get(Fe.triggerName);js.value=Lr,Co.set(Fe.triggerName,js)}}$e.destroy();return}}let it=!k||!this.driver.containsElement(k,ot),mt=q.get(ot),ln=M.get(ot),Ge=this._buildInstruction(Fe,n,ln,mt,it);if(Ge.errors&&Ge.errors.length){se.push(Ge);return}if(it){$e.onStart(()=>gv(ot,Ge.fromStyles)),$e.onDestroy(()=>Mm(ot,Ge.toStyles)),r.push($e);return}if(Fe.isFallbackTransition){$e.onStart(()=>gv(ot,Ge.fromStyles)),$e.onDestroy(()=>Mm(ot,Ge.toStyles)),r.push($e);return}let It=[];Ge.timelines.forEach(Hn=>{Hn.stretchStartingKeyframe=!0,this.disabledNodes.has(Hn.element)||It.push(Hn)}),Ge.timelines=It,n.append(ot,Ge.timelines);let Nt={instruction:Ge,player:$e,element:ot};s.push(Nt),Ge.queriedElements.forEach(Hn=>Wd(c,Hn,[]).push($e)),Ge.preStyleProps.forEach((Hn,Lr)=>{if(Hn.size){let Co=v.get(Lr);Co||v.set(Lr,Co=new Set),Hn.forEach((js,ca)=>Co.add(ca))}}),Ge.postStyleProps.forEach((Hn,Lr)=>{let Co=b.get(Lr);Co||b.set(Lr,Co=new Set),Hn.forEach((js,ca)=>Co.add(ca))})});if(se.length){let Ke=[];se.forEach(rt=>{Ke.push(IQ(rt.triggerName,rt.errors))}),ie.forEach(rt=>rt.destroy()),this.reportError(Ke)}let we=new Map,Me=new Map;s.forEach(Ke=>{let rt=Ke.element;n.has(rt)&&(Me.set(rt,rt),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,we))}),r.forEach(Ke=>{let rt=Ke.element;this._getPreviousPlayers(rt,!1,Ke.namespaceId,Ke.triggerName,null).forEach($e=>{Wd(we,rt,[]).push($e),$e.destroy()})});let _e=L.filter(Ke=>UQ(Ke,v,b)),ke=new Map;LQ(ke,this.driver,B,b,kp).forEach(Ke=>{UQ(Ke,v,b)&&_e.push(Ke)});let Te=new Map;w.forEach((Ke,rt)=>{LQ(Te,this.driver,new Set(Ke),v,TT)}),_e.forEach(Ke=>{let rt=ke.get(Ke),Fe=Te.get(Ke);ke.set(Ke,new Map([...rt?.entries()??[],...Fe?.entries()??[]]))});let Ye=[],pt=[],$t={};s.forEach(Ke=>{let{element:rt,player:Fe,instruction:$e}=Ke;if(n.has(rt)){if(x.has(rt)){Fe.onDestroy(()=>Mm(rt,$e.toStyles)),Fe.disabled=!0,Fe.overrideTotalTime($e.totalTime),r.push(Fe);return}let ot=$t;if(Me.size>1){let mt=rt,ln=[];for(;mt=mt.parentNode;){let Ge=Me.get(mt);if(Ge){ot=Ge;break}ln.push(mt)}ln.forEach(Ge=>Me.set(Ge,ot))}let it=this._buildAnimation(Fe.namespaceId,$e,we,o,Te,ke);if(Fe.setRealPlayer(it),ot===$t)Ye.push(Fe);else{let mt=this.playersByElement.get(ot);mt&&mt.length&&(Fe.parentPlayer=x0(mt)),r.push(Fe)}}else gv(rt,$e.fromStyles),Fe.onDestroy(()=>Mm(rt,$e.toStyles)),pt.push(Fe),x.has(rt)&&r.push(Fe)}),pt.forEach(Ke=>{let rt=o.get(Ke.element);if(rt&&rt.length){let Fe=x0(rt);Ke.setRealPlayer(Fe)}}),r.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<L.length;Ke++){let rt=L[Ke],Fe=rt[Fm];if(ST(rt,JN),Fe&&Fe.hasAnimation)continue;let $e=[];if(c.size){let it=c.get(rt);it&&it.length&&$e.push(...it);let mt=this.driver.query(rt,XN,!0);for(let ln=0;ln<mt.length;ln++){let Ge=c.get(mt[ln]);Ge&&Ge.length&&$e.push(...Ge)}}let ot=$e.filter(it=>!it.destroyed);ot.length?A1e(this,rt,ot):this.processLeaveNode(rt)}return L.length=0,Ye.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();let rt=this.players.indexOf(Ke);this.players.splice(rt,1)}),Ke.play()}),Ye}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let s=[];if(e){let c=this.playersByQueriedElement.get(i);c&&(s=c)}else{let c=this.playersByElement.get(i);if(c){let v=!o||o==R2;c.forEach(b=>{b.queued||!v&&b.triggerName!=r||s.push(b)})}}return(n||r)&&(s=s.filter(c=>!(n&&n!=c.namespaceId||r&&r!=c.triggerName))),s}_beforeAnimationBuild(i,e,n){let r=e.triggerName,o=e.element,s=e.isRemovalTransition?void 0:i,c=e.isRemovalTransition?void 0:r;for(let v of e.timelines){let b=v.element,x=b!==o,k=Wd(n,b,[]);this._getPreviousPlayers(b,x,s,c,e.toState).forEach(w=>{let M=w.getRealPlayer();M.beforeDestroy&&M.beforeDestroy(),w.destroy(),k.push(w)})}gv(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,s){let c=e.triggerName,v=e.element,b=[],x=new Set,k=new Set,O=e.timelines.map(M=>{let F=M.element;x.add(F);let L=F[Fm];if(L&&L.removedBeforeQueried)return new Yf(M.duration,M.delay);let V=F!==v,B=P1e((n.get(F)||T1e).map(we=>we.getRealPlayer())).filter(we=>{let Me=we;return Me.element?Me.element===F:!1}),q=o.get(F),W=s.get(F),ie=b8(this._normalizer,M.keyframes,q,W),se=this._buildPlayer(M,ie,B);if(M.subTimeline&&r&&k.add(F),V){let we=new L2(i,c,F);we.setRealPlayer(se),b.push(we)}return se});b.forEach(M=>{Wd(this.playersByQueriedElement,M.element,[]).push(M),M.onDone(()=>I1e(this.playersByQueriedElement,M.element,M))}),x.forEach(M=>Dp(M,k8));let w=x0(O);return w.onDestroy(()=>{x.forEach(M=>ST(M,k8)),Mm(v,e.toStyles)}),k.forEach(M=>{Wd(r,M,[]).push(w)}),w}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Yf(i.duration,i.delay)}},L2=class{namespaceId;triggerName;element;_player=new Yf;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>WN(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){Wd(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function I1e(t,i,e){let n=t.get(i);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&t.delete(i)}return n}function S1e(t){return t??null}function nR(t){return t&&t.nodeType===1}function x1e(t){return t=="start"||t=="done"}function FQ(t,i){let e=t.style.display;return t.style.display=i??"none",e}function LQ(t,i,e,n,r){let o=[];e.forEach(v=>o.push(FQ(v)));let s=[];n.forEach((v,b)=>{let x=new Map;v.forEach(k=>{let O=i.computeStyle(b,k,r);x.set(k,O),(!O||O.length==0)&&(b[Fm]=b1e,s.push(b))}),t.set(b,x)});let c=0;return e.forEach(v=>FQ(v,o[c++])),s}function BQ(t,i){let e=new Map;if(t.forEach(c=>e.set(c,[])),i.length==0)return e;let n=1,r=new Set(i),o=new Map;function s(c){if(!c)return n;let v=o.get(c);if(v)return v;let b=c.parentNode;return e.has(b)?v=b:r.has(b)?v=n:v=s(b),o.set(c,v),v}return i.forEach(c=>{let v=s(c);v!==n&&e.get(v).push(c)}),e}function Dp(t,i){t.classList?.add(i)}function ST(t,i){t.classList?.remove(i)}function A1e(t,i,e){x0(e).onDone(()=>t.processLeaveNode(i))}function P1e(t){let i=[];return KQ(t,i),i}function KQ(t,i){for(let e=0;e<t.length;e++){let n=t[e];n instanceof WC?KQ(n.players,i):i.push(n)}}function k1e(t,i){let e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}function UQ(t,i,e){let n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}var xT=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new K8(i.body,e,n),this._timelineEngine=new j8(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){let s=i+"-"+r,c=this._triggerCache[s];if(!c){let v=[],b=[],x=HQ(this._driver,o,v,b);if(v.length)throw fQ(r,v);c=h1e(r,x,this._normalizer),this._triggerCache[s]=c}this._transitionEngine.registerTrigger(e,r,c)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if(n.charAt(0)=="@"){let[o,s]=I8(n),c=r;this._timelineEngine.command(o,e,s,c)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if(n.charAt(0)=="@"){let[s,c]=I8(n);return this._timelineEngine.listen(s,e,c,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function w1e(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=M8(i[0]),i.length>1&&(n=M8(i[i.length-1]))):i instanceof Map&&(e=M8(i)),e||n?new D1e(t,e,n):null}var D1e=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Mm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mm(this._element,this._initialStyles),this._endStyles&&(Mm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(gv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(gv(this._element,this._endStyles),this._endStyles=null),Mm(this._element,this._initialStyles),this._state=3)}}return t})();function M8(t){let i=null;return t.forEach((e,n)=>{O1e(n)&&(i=i||new Map,i.set(n,e))}),i}function O1e(t){return t==="display"||t==="position"}var cR=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&i.set(r,this._finished?n:ZN(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},dR=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return S8(i,e)}getParentElement(i){return YN(i)}query(i,e,n){return x8(i,e,n)}computeStyle(i,e,n){return ZN(i,e)}animate(i,e,n,r,o,s=[]){let c=r==0?"both":"forwards",v={duration:n,delay:r,fill:c};o&&(v.easing=o);let b=new Map,x=s.filter(w=>w instanceof cR);PQ(n,r)&&x.forEach(w=>{w.currentSnapshot.forEach((M,F)=>b.set(F,M))});let k=xQ(e).map(w=>new Map(w));k=kQ(i,k,b);let O=w1e(i,k);return new cR(i,k,v,O)}};var iR="@",qQ="@.disabled",uR=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(i){this.delegate.destroyNode?.(i)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){e.charAt(0)==iR&&e==qQ?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,r){return this.delegate.listen(i,e,n,r)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},q8=class extends uR{factory;constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){e.charAt(0)==iR?e.charAt(1)=="."&&e==qQ?(n=n===void 0?!0:!!n,this.disableAnimations(i,n)):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n,r){if(e.charAt(0)==iR){let o=N1e(i),s=e.slice(1),c="";return s.charAt(0)!=iR&&([s,c]=R1e(s)),this.engine.listen(this.namespaceId,o,s,c,v=>{let b=v._data||-1;this.factory.scheduleListenerCallback(b,n,v)})}return this.delegate.listen(i,e,n,r)}};function N1e(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function R1e(t){let i=t.indexOf("."),e=t.substring(0,i),n=t.slice(i+1);return[e,n]}var pR=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o?.removeChild(null,r)}}createRenderer(i,e){let n="",r=this.delegate.createRenderer(i,e);if(!i||!e?.data?.animation){let b=this._rendererCache,x=b.get(r);if(!x){let k=()=>b.delete(r);x=new uR(n,r,this.engine,k),b.set(r,x)}return x}let o=e.id,s=e.id+"-"+this._currentId;this._currentId++,this.engine.register(s,i);let c=b=>{Array.isArray(b)?b.forEach(c):this.engine.registerTrigger(o,s,i,b.name,b)};return e.data.animation.forEach(c),new q8(this,s,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[s,c]=o;s(c)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){this.engine.flush(),this.delegate.componentReplaced?.(i)}};var F1e=(()=>{class t extends xT{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||t)(yt(Ot),yt(XC),yt(QC))};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();function L1e(){return new rR}function B1e(t,i,e){return new pR(t,i,e)}var zQ=[{provide:QC,useFactory:L1e},{provide:xT,useClass:F1e},{provide:Uf,useFactory:B1e,deps:[Kx,xT,Si]}],U1e=[{provide:XC,useClass:W8},{provide:b5,useValue:"NoopAnimations"},...zQ],WQ=[{provide:XC,useFactory:()=>new dR},{provide:b5,useFactory:()=>"BrowserAnimations"},...zQ],vv=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?U1e:WQ}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:WQ,imports:[Wx]})}return t})();var tZ=(()=>{class t{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||t)(Et(Er),Et(ii))};static \u0275dir=kt({type:t})}return t})(),ER=(()=>{class t extends tZ{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,features:[dt]})}return t})(),Bm=new mn(""),$1e={provide:Bm,useExisting:Od(()=>ZC),multi:!0},ZC=(()=>{class t extends ER{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&Ee("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[Hl([$1e]),dt]})}return t})(),H1e={provide:Bm,useExisting:Od(()=>jr),multi:!0};function V1e(){let t=Iu()?Iu().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var j1e=new mn(""),jr=(()=>{class t extends tZ{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!V1e())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||t)(Et(Er),Et(ii),Et(j1e,8))};static \u0275dir=kt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&Ee("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[Hl([H1e]),dt]})}return t})();function eU(t){return t==null||tU(t)===0}function tU(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var nU=new mn(""),iU=new mn(""),G1e=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Xf=class{static min(i){return K1e(i)}static max(i){return q1e(i)}static required(i){return W1e(i)}static requiredTrue(i){return z1e(i)}static email(i){return Y1e(i)}static minLength(i){return J1e(i)}static maxLength(i){return X1e(i)}static pattern(i){return Q1e(i)}static nullValidator(i){return nZ()}static compose(i){return lZ(i)}static composeAsync(i){return dZ(i)}};function K1e(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e<t?{min:{min:t,actual:i.value}}:null}}function q1e(t){return i=>{if(i.value==null||t==null)return null;let e=parseFloat(i.value);return!isNaN(e)&&e>t?{max:{max:t,actual:i.value}}:null}}function W1e(t){return eU(t.value)?{required:!0}:null}function z1e(t){return t.value===!0?null:{required:!0}}function Y1e(t){return eU(t.value)||G1e.test(t.value)?null:{email:!0}}function J1e(t){return i=>{let e=i.value?.length??tU(i.value);return e===null||e===0?null:e<t?{minlength:{requiredLength:t,actualLength:e}}:null}}function X1e(t){return i=>{let e=i.value?.length??tU(i.value);return e!==null&&e>t?{maxlength:{requiredLength:t,actualLength:e}}:null}}function Q1e(t){if(!t)return nZ;let i,e;return typeof t=="string"?(e="",t.charAt(0)!=="^"&&(e+="^"),e+=t,t.charAt(t.length-1)!=="$"&&(e+="$"),i=new RegExp(e)):(e=t.toString(),i=t),n=>{if(eU(n.value))return null;let r=n.value;return i.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function nZ(t){return null}function iZ(t){return t!=null}function rZ(t){return nv(t)?Qo(t):t}function oZ(t){let i={};return t.forEach(e=>{i=e!=null?at(at({},i),e):i}),Object.keys(i).length===0?null:i}function aZ(t,i){return i.map(e=>e(t))}function Z1e(t){return!t.validate}function sZ(t){return t.map(i=>Z1e(i)?i:e=>i.validate(e))}function lZ(t){if(!t)return null;let i=t.filter(iZ);return i.length==0?null:function(e){return oZ(aZ(e,i))}}function cZ(t){return t!=null?lZ(sZ(t)):null}function dZ(t){if(!t)return null;let i=t.filter(iZ);return i.length==0?null:function(e){let n=aZ(e,i).map(rZ);return ZS(n).pipe(cn(oZ))}}function uZ(t){return t!=null?dZ(sZ(t)):null}function YQ(t,i){return t===null?[i]:Array.isArray(t)?[...t,i]:[t,i]}function pZ(t){return t._rawValidators}function mZ(t){return t._rawAsyncValidators}function Y8(t){return t?Array.isArray(t)?t:[t]:[]}function fR(t,i){return Array.isArray(t)?t.includes(i):t===i}function JQ(t,i){let e=Y8(i);return Y8(t).forEach(r=>{fR(e,r)||e.push(r)}),e}function XQ(t,i){return Y8(i).filter(e=>!fR(t,e))}var hR=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=cZ(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=uZ(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return this.control?this.control.hasError(i,e):!1}getError(i,e){return this.control?this.control.getError(i,e):null}},Lm=class extends hR{name;get formDirective(){return null}get path(){return null}},Op=class extends hR{_parent=null;name=null;valueAccessor=null},gR=class{_cd;constructor(i){this._cd=i}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},eye={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},aet=Mn(at({},eye),{"[class.ng-submitted]":"isSubmitted"}),Rr=(()=>{class t extends gR{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(Et(Op,2))};static \u0275dir=kt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Tr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[dt]})}return t})(),Pn=(()=>{class t extends gR{constructor(e){super(e)}static \u0275fac=function(n){return new(n||t)(Et(Lm,10))};static \u0275dir=kt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Tr("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[dt]})}return t})();var B2="VALID",mR="INVALID",AT="PENDING",U2="DISABLED",_v=class{},vR=class extends _v{value;source;constructor(i,e){super(),this.value=i,this.source=e}},$2=class extends _v{pristine;source;constructor(i,e){super(),this.pristine=i,this.source=e}},H2=class extends _v{touched;source;constructor(i,e){super(),this.touched=i,this.source=e}},PT=class extends _v{status;source;constructor(i,e){super(),this.status=i,this.source=e}},J8=class extends _v{source;constructor(i){super(),this.source=i}},X8=class extends _v{source;constructor(i){super(),this.source=i}};function fZ(t){return(TR(t)?t.validators:t)||null}function tye(t){return Array.isArray(t)?cZ(t):t||null}function hZ(t,i){return(TR(i)?i.asyncValidators:t)||null}function nye(t){return Array.isArray(t)?uZ(t):t||null}function TR(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function iye(t,i,e){let n=t.controls;if(!(i?Object.keys(n):n).length)throw new Lt(1e3,"");if(!n[e])throw new Lt(1001,"")}function rye(t,i,e){t._forEachChild((n,r)=>{if(e[r]===void 0)throw new Lt(1002,"")})}var V2=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(i,e){this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get status(){return Ld(this.statusReactive)}set status(i){Ld(()=>this.statusReactive.set(i))}_status=sn(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===B2}get invalid(){return this.status===mR}get pending(){return this.status==AT}get disabled(){return this.status===U2}get enabled(){return this.status!==U2}errors;get pristine(){return Ld(this.pristineReactive)}set pristine(i){Ld(()=>this.pristineReactive.set(i))}_pristine=sn(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return Ld(this.touchedReactive)}set touched(i){Ld(()=>this.touchedReactive.set(i))}_touched=sn(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new qn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(JQ(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(JQ(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(XQ(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(XQ(i,this._rawAsyncValidators))}hasValidator(i){return fR(this._rawValidators,i)}hasAsyncValidator(i){return fR(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){let e=this.touched===!1;this.touched=!0;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsTouched(Mn(at({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new H2(!0,n))}markAllAsTouched(i={}){this.markAsTouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(i))}markAsUntouched(i={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:i.emitEvent,sourceControl:n})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,n),e&&i.emitEvent!==!1&&this._events.next(new H2(!1,n))}markAsDirty(i={}){let e=this.pristine===!0;this.pristine=!1;let n=i.sourceControl??this;this._parent&&!i.onlySelf&&this._parent.markAsDirty(Mn(at({},i),{sourceControl:n})),e&&i.emitEvent!==!1&&this._events.next(new $2(!1,n))}markAsPristine(i={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=i.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:i.emitEvent})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i,n),e&&i.emitEvent!==!1&&this._events.next(new $2(!0,n))}markAsPending(i={}){this.status=AT;let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new PT(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.markAsPending(Mn(at({},i),{sourceControl:e}))}disable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=U2,this.errors=null,this._forEachChild(r=>{r.disable(Mn(at({},i),{onlySelf:!0}))}),this._updateValue();let n=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new vR(this.value,n)),this._events.next(new PT(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Mn(at({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(i={}){let e=this._parentMarkedDirty(i.onlySelf);this.status=B2,this._forEachChild(n=>{n.enable(Mn(at({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Mn(at({},i),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i,e){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===B2||this.status===AT)&&this._runAsyncValidator(n,i.emitEvent)}let e=i.sourceControl??this;i.emitEvent!==!1&&(this._events.next(new vR(this.value,e)),this._events.next(new PT(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(Mn(at({},i),{sourceControl:e}))}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?U2:B2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i,e){if(this.asyncValidator){this.status=AT,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=rZ(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:i})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let i=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,i}return!1}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(i){let e=i;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i,e,n){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),(i||n)&&this._events.next(new PT(this.status,e)),this._parent&&this._parent._updateControlsErrors(i,e,n)}_initObservables(){this.valueChanges=new Jt,this.statusChanges=new Jt}_calculateStatus(){return this._allControlsDisabled()?U2:this.errors?mR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(AT)?AT:this._anyControlsHaveStatus(mR)?mR:B2}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!i.onlySelf&&this._parent._updatePristine(i,e),r&&this._events.next(new $2(this.pristine,e))}_updateTouched(i={},e){this.touched=this._anyControlsTouched(),this._events.next(new H2(this.touched,e)),this._parent&&!i.onlySelf&&this._parent._updateTouched(i,e)}_onDisabledChange=[];_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){TR(i)&&i.updateOn!=null&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){let e=this._parent&&this._parent.dirty;return!i&&!!e&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=tye(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=nye(this._rawAsyncValidators)}},Q8=class extends V2{constructor(i,e,n){super(fZ(e),hZ(n,e)),this.controls=i,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(i,e){return this.controls[i]?this.controls[i]:(this.controls[i]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(i,e,n={}){this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(i,e={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(i,e,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],e&&this.registerControl(i,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,e={}){rye(this,!0,i),Object.keys(i).forEach(n=>{iye(this,!0,n),this.controls[n].setValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(i,e={}){i!=null&&(Object.keys(i).forEach(n=>{let r=this.controls[n];r&&r.patchValue(i[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(i={},e={}){this._forEachChild((n,r)=>{n.reset(i?i[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(i,e,n)=>(i[n]=e.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&i(n,e)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&i(n))return!0;return!1}_reduceValue(){let i={};return this._reduceChildren(i,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(i,e){let n=i;return this._forEachChild((r,o)=>{n=e(n,r,o)}),n}_allControlsDisabled(){for(let i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(i){return this.controls.hasOwnProperty(i)?this.controls[i]:null}};var bR=Q8;var IR=new mn("",{providedIn:"root",factory:()=>SR}),SR="always";function oye(t,i){return[...i.path,t]}function Z8(t,i,e=SR){rU(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||e==="always")&&i.valueAccessor.setDisabledState?.(t.disabled),sye(t,i),cye(t,i),lye(t,i),aye(t,i)}function _R(t,i,e=!0){let n=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(n),i.valueAccessor.registerOnTouched(n)),yR(t,i),t&&(i._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function CR(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function aye(t,i){if(i.valueAccessor.setDisabledState){let e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}function rU(t,i){let e=pZ(t);i.validator!==null?t.setValidators(YQ(e,i.validator)):typeof e=="function"&&t.setValidators([e]);let n=mZ(t);i.asyncValidator!==null?t.setAsyncValidators(YQ(n,i.asyncValidator)):typeof n=="function"&&t.setAsyncValidators([n]);let r=()=>t.updateValueAndValidity();CR(i._rawValidators,r),CR(i._rawAsyncValidators,r)}function yR(t,i){let e=!1;if(t!==null){if(i.validator!==null){let r=pZ(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==i.validator);o.length!==r.length&&(e=!0,t.setValidators(o))}}if(i.asyncValidator!==null){let r=mZ(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==i.asyncValidator);o.length!==r.length&&(e=!0,t.setAsyncValidators(o))}}}let n=()=>{};return CR(i._rawValidators,n),CR(i._rawAsyncValidators,n),e}function sye(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&gZ(t,i)})}function lye(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&gZ(t,i),t.updateOn!=="submit"&&t.markAsTouched()})}function gZ(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function cye(t,i){let e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}function dye(t,i){t==null,rU(t,i)}function uye(t,i){return yR(t,i)}function vZ(t,i){if(!t.hasOwnProperty("model"))return!1;let e=t.model;return e.isFirstChange()?!0:!Object.is(i,e.currentValue)}function pye(t){return Object.getPrototypeOf(t.constructor)===ER}function mye(t,i){t._syncPendingControls(),i.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function _Z(t,i){if(!i)return null;Array.isArray(i);let e,n,r;return i.forEach(o=>{o.constructor===jr?e=o:pye(o)?n=o:r=o}),r||n||e||null}function fye(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function QQ(t,i){let e=t.indexOf(i);e>-1&&t.splice(e,1)}function ZQ(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var xR=class extends V2{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(i=null,e,n){super(fZ(e),hZ(n,e)),this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),TR(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ZQ(i)?this.defaultValue=i.value:this.defaultValue=i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){QQ(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){QQ(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(i){ZQ(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},AR=xR,hye=t=>t instanceof xR;var xi=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();var oU=new mn(""),gye={provide:Op,useExisting:Od(()=>Um)},Um=(()=>{class t extends Op{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new Jt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=_Z(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let n=e.form.previousValue;n&&_R(n,this,!1),Z8(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}vZ(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_R(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(n){return new(n||t)(Et(nU,10),Et(iU,10),Et(Bm,10),Et(oU,8),Et(IR,8))};static \u0275dir=kt({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Hl([gye]),dt,Ha]})}return t})(),vye={provide:Lm,useExisting:Od(()=>wn)},wn=(()=>{class t extends Lm{callSetDisabledState;get submitted(){return Ld(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=sn(()=>this._submittedReactive());_submittedReactive=nn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Jt;constructor(e,n,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yR(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Z8(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){_R(e.control||null,e,!1),fye(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),mye(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new J8(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new X8(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,r=this.form.get(e.path);n!==r&&(_R(n||null,e),hye(r)&&(Z8(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);dye(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&uye(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rU(this.form,this),this._oldForm&&yR(this._oldForm,this)}static \u0275fac=function(n){return new(n||t)(Et(nU,10),Et(iU,10),Et(IR,8))};static \u0275dir=kt({type:t,selectors:[["","formGroup",""]],hostBindings:function(n,r){n&1&&Ee("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Hl([vye]),dt,Ha]})}return t})();var _ye={provide:Op,useExisting:Od(()=>_o)},_o=(()=>{class t extends Op{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new Jt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=_Z(this,o)}ngOnChanges(e){this._added||this._setUpControl(),vZ(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return oye(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||t)(Et(Lm,13),Et(nU,10),Et(iU,10),Et(Bm,10),Et(oU,8))};static \u0275dir=kt({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Hl([_ye]),dt,Ha]})}return t})();var Cye={provide:Bm,useExisting:Od(()=>PR),multi:!0};function CZ(t,i){return t==null?`${i}`:(i&&typeof i=="object"&&(i="Object"),`${t}: ${i}`.slice(0,50))}function yye(t){return t.split(":")[0]}var PR=(()=>{class t extends ER{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=CZ(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=yye(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&Ee("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hl([Cye]),dt]})}return t})(),yZ=(()=>{class t{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(CZ(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||t)(Et(ii),Et(Er),Et(PR,9))};static \u0275dir=kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),Eye={provide:Bm,useExisting:Od(()=>EZ),multi:!0};function eZ(t,i){return t==null?`${i}`:(typeof i=="string"&&(i=`'${i}'`),i&&typeof i=="object"&&(i="Object"),`${t}: ${i}`.slice(0,50))}function Tye(t){return t.split(":")[0]}var EZ=(()=>{class t extends ER{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));n=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else n=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],o=n.selectedOptions;if(o!==void 0){let s=o;for(let c=0;c<s.length;c++){let v=s[c],b=this._getOptionValue(v.value);r.push(b)}}else{let s=n.options;for(let c=0;c<s.length;c++){let v=s[c];if(v.selected){let b=this._getOptionValue(v.value);r.push(b)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Tye(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&Ee("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Hl([Eye]),dt]})}return t})(),TZ=(()=>{class t{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(eZ(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(eZ(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||t)(Et(ii),Et(Er),Et(EZ,9))};static \u0275dir=kt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();var bZ=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();var kR=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:IR,useValue:e.callSetDisabledState??SR}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({imports:[bZ]})}return t})(),Kl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:oU,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:IR,useValue:e.callSetDisabledState??SR}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({imports:[bZ]})}return t})();var aU=["*"],bye=(t,i,e,n)=>({"spinner-element":t,"spinner-global":i,elemental:e,"no-transparency":n});var Iye=["content"],IZ=t=>({"hide-in-print":t}),Sye=t=>({"card-content":t});function xye(t,i){t&1&&ci(0)}function Aye(t,i){if(t&1&&(h(0,"div",8)(1,"div",9),J(2,xye,1,0,"ng-container",10),g()()),t&2){let e=y(),n=Fn(9);C("ngClass",et(2,IZ,e.hideInPrint)),d(2),C("ngTemplateOutlet",n)}}function Pye(t,i){t&1&&ci(0)}function kye(t,i){if(t&1){let e=Je();h(0,"span",13)(1,"span",14),Ee("click",function(r){Ne(e);let o=y(2);return Re(o.useLink(r))})("keydown.space",function(r){Ne(e);let o=y(2);return Re(o.useLink(r))})("keydown.enter",function(r){Ne(e);let o=y(2);return Re(o.useLink(r))}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(2);d(2),ne(" ",j(3,1,e.actionLabel)," ")}}function wye(t,i){if(t&1&&(h(0,"header",11),J(1,Pye,1,0,"ng-container",10)(2,kye,4,3,"span",12),g()),t&2){let e=y(),n=Fn(9);d(),C("ngTemplateOutlet",n),d(),C("ngIf",e.actionLabel)}}function Dye(t,i){if(t&1){let e=Je();h(0,"div",15)(1,"span",16),Ee("click",function(r){Ne(e);let o=y();return Re(o.useLink(r))})("keydown.space",function(r){Ne(e);let o=y();return Re(o.useLink(r))})("keydown.enter",function(r){Ne(e);let o=y();return Re(o.useLink(r))}),R(2),H(3,"translate"),g()()}if(t&2){let e=y();d(2),ne(" ",j(3,1,e.actionLabel)," ")}}function Oye(t,i){if(t&1&&(h(0,"h1",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Nye(t,i){if(t&1&&(h(0,"h2",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Rye(t,i){if(t&1&&(h(0,"h3",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Mye(t,i){if(t&1&&(h(0,"h4",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Fye(t,i){if(t&1&&(h(0,"h5",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Lye(t,i){if(t&1&&(h(0,"h6",19),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.headline))}}function Bye(t,i){t&1&&J(0,Oye,3,3,"h1",17)(1,Nye,3,3,"h2",17)(2,Rye,3,3,"h3",17)(3,Mye,3,3,"h4",17)(4,Fye,3,3,"h5",17)(5,Lye,3,3,"h6",18),t&2&&(C("ngSwitchCase",1),d(),C("ngSwitchCase",2),d(),C("ngSwitchCase",3),d(),C("ngSwitchCase",4),d(),C("ngSwitchCase",5))}var Uye=(t,i,e)=>({"btn-block":t,disabled:i,fullwidth:e});function $ye(t,i){if(t&1&&D(0,"i",3),t&2){let e=y();xo("icon icon-",e.iconUrl?"sso":e.iconType,""),Io("background-image",e.iconUrl?"url("+e.iconUrl+")":null)}}function Hye(t,i){if(t&1&&(h(0,"span",4),R(1),g()),t&2){let e=y();d(),Ae(e.buttonText)}}function Vye(t,i){t&1&&(h(0,"span",4),Or(1),g())}var SZ=(()=>{let i=class i{constructor(){this.additionalClasses="alert-info"}set type(n){switch(n){case"danger":{this.additionalClasses="alert-danger";break}case"success":{this.additionalClasses="alert-success";break}case"warning":{this.additionalClasses="alert-warning";break}case"info":default:this.additionalClasses="alert-info"}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-information-box"]],inputs:{type:"type"},standalone:!1,ngContentSelectors:aU,decls:2,vars:3,consts:[["data-qa","information-box"]],template:function(r,o){r&1&&(lo(),h(0,"div",0),Or(1),g()),r&2&&xo("alert ",o.additionalClasses," alert-text theme-element-radius")},encapsulation:2});let t=i;return t})(),ed=function(t){return t.Visible="true",t.Hidden="false",t}(ed||{}),kT=(()=>{let i=class i{static fadeInOut(n=i.fadingTimeout,r="fadeInOut"){return S0(r,[Zc(ed.Visible,Lo({opacity:1,visibility:"visible"})),Zc(ed.Hidden,Lo({opacity:0,visibility:"hidden"})),wp(`${ed.Hidden} => ${ed.Visible}`,zC([yl("0ms",Lo({visibility:"visible"})),yl(`${n}ms ease-in-out`,Lo({opacity:1}))])),wp(`${ed.Visible} => ${ed.Hidden}`,zC([yl(`${n}ms ease-in-out`,Lo({opacity:0})),yl(`1ms ${n}ms`,Lo({visibility:"hidden"}))]))])}static toggleInOut(n=i.toggleTimeout,r="toggleInOut"){return S0(r,[Zc(ed.Hidden,Lo({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,"min-height":0,visibility:"hidden"})),Zc(ed.Visible,Lo({height:"*",overflow:"*","padding-top":"*","padding-bottom":"*","min-height":"*",visibility:"visible"})),wp(`${ed.Hidden} <=> ${ed.Visible}`,yl(`${n}ms ease-in`))])}static popInOut(n=i.popTimeout,r="popInOut"){return S0(r,[Zc(ed.Hidden,Lo({opacity:0,transform:"scale(0.8)",visibility:"hidden"})),Zc(ed.Visible,Lo({opacity:1,transform:"scale(1)",visibility:"visible"})),wp(`${ed.Hidden} <=> ${ed.Visible}`,yl(n))])}};i.fadingTimeout=300,i.toggleTimeout=200,i.popTimeout=120;let t=i;return t})(),Tc=(()=>{let i=class i{constructor(){this.visible=!1,this.hidePage=!1,this.small=!1,this.transparency=!0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-spinner"]],inputs:{visible:"visible",message:"message",hidePage:"hidePage",small:"small",transparency:"transparency"},standalone:!1,decls:5,vars:10,consts:[["data-qa","spinner",1,"spinner",3,"ngClass"],[1,"spinner-circle"],["data-qa","spinner.message",1,"spinner-message"]],template:function(r,o){r&1&&(h(0,"div",0),D(1,"div",1),h(2,"div",2),R(3),H(4,"translate"),g()()),r&2&&(C("ngClass",Hf(5,bye,!o.hidePage,o.hidePage,o.small,!o.transparency))("@fadeInOut",o.visible),d(3),Ae(j(4,3,o.message)))},dependencies:[At,Se],styles:[".spinner.no-transparency[_ngcontent-%COMP%]:before{background-color:#fff}"],data:{animation:[kT.fadeInOut()]},changeDetection:0});let t=i;return t})(),Gn=(()=>{let i=class i{constructor(n,r){this.router=n,this.document=r,this.showGlobalSpinner=!1,this.message="",this.preloader=this.document.getElementById("preLoader"),this.isPreloaderShown=this.preloader!==null&&this.preloader.getAttribute("class")!=="hidden"}show(){!this.isPreloaderShown&&!this.showGlobalSpinner&&(this.showGlobalSpinner=!0)}hide(){this.isPreloaderShown?this.hidePreLoader():this.showGlobalSpinner=!1}isVisible(){return this.showGlobalSpinner}getSpinnerMessage(){return this.message}setSpinnerMessage(n){this.message=n}showSpinnerOnNavigation(){this.router&&this.router.events.pipe(Yt(n=>n instanceof Jc||n instanceof va||n instanceof Gd||n instanceof Ep)).subscribe(n=>{n instanceof Jc?this.show():this.hide()})}hidePreLoader(){this.preloader.setAttribute("class","hidden"),this.isPreloaderShown=!1}};i.\u0275fac=function(r){return new(r||i)(yt(zt,8),yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),Cv=(()=>{let i=class i{constructor(n){this.spinnerService=n}showSpinner(){return this.spinnerService.isVisible()}getSpinnerMessage(){return this.spinnerService.getSpinnerMessage()}};i.\u0275fac=function(r){return new(r||i)(Et(Gn))},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-global-spinner"]],standalone:!1,decls:1,vars:3,consts:[["data-qa","global-spinner",3,"visible","message","hidePage"]],template:function(r,o){r&1&&D(0,"ev-pl-spinner",0),r&2&&C("visible",o.showSpinner())("message",o.getSpinnerMessage())("hidePage",!0)},dependencies:[Tc],encapsulation:2});let t=i;return t})();var xZ=(()=>{let i=class i{set componentConfiguration(n){this.renderComponent(n)}constructor(n){this.viewContainerRef=n,this.componentRef=null,this.containerSubscription=[]}ngOnDestroy(){this.clearSubscriptions()}renderTemplate(n,r){return this.clear(),this.viewContainerRef.createEmbeddedView(n,r)}getComponentRef(){return this.componentRef}renderComponent(n){this.clear(),this.componentRef=this.viewContainerRef.createComponent(n.component,{injector:n.injector}),this.componentRef.onDestroy(()=>{this.clearSubscriptions()});let r=this.componentRef.instance;return Array.isArray(n.inputs)&&n.inputs.forEach(o=>this.componentRef.setInput(o.inputName,o.value)),Array.isArray(n.outputs)&&this.handleOutputs(n,this.componentRef,r),r}clear(){this.clearSubscriptions(),this.viewContainerRef.clear(),this.componentRef=null}clearSubscriptions(){this.containerSubscription.forEach(n=>{n.unsubscribe()}),this.containerSubscription=[]}handleOutputs(n,r,o){n.outputs.forEach(s=>{if(o[s.outputName]&&o[s.outputName]instanceof Jt){let c=o[s.outputName];this.containerSubscription.push(c.subscribe(v=>{s.handler(v)}))}})}};i.\u0275fac=function(r){return new(r||i)(Et($l))},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-container"]],inputs:{object:"object",componentConfiguration:"componentConfiguration"},standalone:!1,decls:0,vars:0,template:function(r,o){},encapsulation:2});let t=i;return t})();var $n=(()=>{let i=class i{set noBottomSpace(n){this.noContentPadding=n}set noTopSpace(n){this.noContentPadding=n}constructor(n){this.headlineLevel=3,this.hideInPrint=!1,this.noContentPadding=!1,this.additionalClass="",this.actionClick=new Jt,this.headlineInside=n.defaultView.cardHeadlineInside||!1}ngAfterContentChecked(){let n=this.content.nativeElement.querySelectorAll("section:not(.card-section)");n.length>0&&(this.content.nativeElement.classList.remove("col-xs-12"),this.content.nativeElement.classList.remove("card-section"),n.forEach(r=>{r.classList.add("col-xs-12"),r.classList.add("card-section")}))}useLink(n){n&&typeof n.stopPropagation.bind(n)=="function"&&n.stopPropagation(),n&&typeof n.preventDefault.bind(n)=="function"&&n.preventDefault(),this.actionClick.emit()}};i.\u0275fac=function(r){return new(r||i)(Et(Ot))},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-card"]],viewQuery:function(r,o){if(r&1&&Qi(Iye,7,ii),r&2){let s;Ni(s=Ri())&&(o.content=s.first)}},inputs:{headline:"headline",headlineLevel:"headlineLevel",hideInPrint:"hideInPrint",noContentPadding:"noContentPadding",additionalClass:"additionalClass",actionLabel:"actionLabel",headlineInside:"headlineInside",noBottomSpace:"noBottomSpace",noTopSpace:"noTopSpace"},outputs:{actionClick:"actionClick"},standalone:!1,ngContentSelectors:aU,decls:10,vars:13,consts:[["content",""],["h",""],["class","row",3,"ngClass",4,"ngIf"],[3,"ngClass"],["class","col-xs-12 card-headline-section bottom-separator u-flex",4,"ngIf"],["data-qa","content",1,"col-xs-12","card-section"],["class","float-right margin-left-xs margin-bottom-xs",4,"ngIf"],[3,"ngSwitch"],[1,"row",3,"ngClass"],[1,"col-xs-12"],[4,"ngTemplateOutlet"],[1,"col-xs-12","card-headline-section","bottom-separator","u-flex"],["class","card-headline-action",4,"ngIf"],[1,"card-headline-action"],["tabindex","0","role","link","data-qa","headline-action",1,"link",3,"click","keydown.space","keydown.enter"],[1,"float-right","margin-left-xs","margin-bottom-xs"],["tabindex","0","role","link","data-qa","link",1,"link",3,"click","keydown.space","keydown.enter"],["class","card-headline theme-text-light-color","data-qa","headline",4,"ngSwitchCase"],["class","card-headline theme-text-light-color","data-qa","headline",4,"ngSwitchDefault"],["data-qa","headline",1,"card-headline","theme-text-light-color"]],template:function(r,o){r&1&&(lo(),J(0,Aye,3,4,"div",2),h(1,"div",3),J(2,wye,3,2,"header",4),h(3,"div",3)(4,"div",5,0),J(6,Dye,4,3,"div",6),Or(7),g()()(),J(8,Bye,6,5,"ng-template",7,1,vi)),r&2&&(C("ngIf",o.headline&&!o.headlineInside),d(),xo("row card standard-gray-shadow theme-content-bg theme-text-color ",o.additionalClass,""),C("ngClass",et(9,IZ,o.hideInPrint)),d(),C("ngIf",o.headline&&o.headlineInside),d(),C("ngClass",et(11,Sye,!o.noContentPadding)),d(3),C("ngIf",!o.headlineInside&&o.actionLabel),d(2),C("ngSwitch",o.headlineLevel))},dependencies:[At,ms,hr,v0,RC,v6,Se],encapsulation:2});let t=i;return t})(),Yd=(()=>{let i=class i{constructor(){this.buttonSize="lg",this.isBlock=!1,this.isDisabled=!1,this.hasFullWidth=!1,this.typeClass="primary",this.themingClasses="theme-interaction-btn-bg theme-btn-font-color theme-btn-font-color-hover "}set buttonType(n){switch(this.typeClass=n,n){case"secondary":this.themingClasses="theme-interaction-border theme-interaction-bg theme-interaction-color ";break;case"alternative":this.themingClasses="theme-alt-interaction-btn-bg theme-alt-interaction-btn-bg-hover theme-btn-font-color ";break;case"alternative-sec":this.themingClasses="theme-interaction-bg theme-alt-interaction-border theme-alt-interaction-border-hover theme-alt-interaction-color theme-alt-interaction-color-hover ";break;default:this.themingClasses="theme-interaction-btn-bg theme-btn-font-color theme-btn-font-color-hover "}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-pl-button"]],inputs:{buttonText:"buttonText",buttonTitle:"buttonTitle",buttonType:"buttonType",buttonSize:"buttonSize",buttonColor:"buttonColor",iconType:"iconType",iconUrl:"iconUrl",isBlock:"isBlock",dataQa:"dataQa",isDisabled:"isDisabled",hasFullWidth:"hasFullWidth"},standalone:!1,ngContentSelectors:aU,decls:4,vars:17,consts:[["type","button",3,"ngClass"],["data-qa","icon",3,"class","backgroundImage",4,"ngIf"],["class","btn-text","data-qa","button",4,"ngIf"],["data-qa","icon"],["data-qa","button",1,"btn-text"]],template:function(r,o){r&1&&(lo(),h(0,"button",0),J(1,$ye,1,5,"i",1)(2,Hye,2,1,"span",2)(3,Vye,2,0,"span",2),g()),r&2&&(oz("btn btn-",o.typeClass," btn-",o.buttonSize," ",o.themingClasses,"theme-button-radius"),Io("background-color",o.buttonColor),C("ngClass",Ms(13,Uye,o.isBlock,o.isDisabled,o.hasFullWidth)),Le("title",o.buttonTitle?o.buttonTitle:o.buttonText)("data-qa",o.dataQa),d(),C("ngIf",o.iconType||o.iconUrl),d(),C("ngIf",o.buttonText),d(),C("ngIf",!o.buttonText))},dependencies:[At,ms],encapsulation:2});let t=i;return t})();var AZ=(()=>{let i=class i{constructor(n,r){this._elementRef=n,this.spinnerService=r,this.spinnerActiveTime=1500}onClick(){this.isElementDisabled()||this.toggleSpinner()}toggleSpinner(){this.spinnerService.isVisible()||this.spinnerService.show(),setTimeout(()=>{this.spinnerService.isVisible()&&this.spinnerService.hide()},this.spinnerActiveTime)}isElementDisabled(){return this._elementRef.nativeElement.querySelector(".disabled")!==null||this._elementRef.nativeElement.classList.contains("disabled")||this._elementRef.nativeElement.disabled!==void 0&&this._elementRef.nativeElement.disabled!==!1}};i.\u0275fac=function(r){return new(r||i)(Et(ii),Et(Gn))},i.\u0275dir=kt({type:i,selectors:[["","evPlSpinnerAfterClicked",""]],hostBindings:function(r,o){r&1&&Ee("click",function(c){return o.onClick(c.target)})},inputs:{spinnerActiveTime:"spinnerActiveTime"},standalone:!1});let t=i;return t})(),ts=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr,kR,Kl.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),oi.forChild(),Tp]});let t=i;return t})();var sU={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6],0,0,0,0,0,0,0,[0,["4\\d{4}",[5]]]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["690\\d{6}|[356]\\d{5}",[6,9]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[0,["5[024-68]\\d{7}",[9]]]],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0",0,0,0,0,0,[0,["7\\d{8}"]]],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([457]\\d{6})$","268$1",0,"268",[0,["268(?:464|7(?:1[3-9]|[28]\\d|3[0246]|64|7[0-689]))\\d{4}"]]],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2457]\\d{6})$","264$1",0,"264",[0,["264(?:235|4(?:69|76)|5(?:3[6-9]|8[1-4])|7(?:29|72))\\d{4}"]]],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[78][2-9]|9\\d)\\d{6}",[9]]]],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:33|4[1349]|55|77|88|9[13-9])\\d{6}"]]],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]],0,0,0,0,0,0,[0,["9[1-59]\\d{7}"]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1",0,0,[0,["93888[013-9]\\d{5}|9(?:29(?:54|66)|3(?:777|865))[2-8]\\d{5}|93(?:7(?:1[15]|81)|8(?:21|4[16]|69|9[12]))[46]\\d{5}|9(?:2(?:2(?:2[59]|44|52)|3(?:26|44)|473|9(?:[07]2|2[26]|34|46))|3327)[45]\\d{5}|9(?:2(?:284|302|657|920)|3(?:4(?:8[27]|92)|541|755|878))[2-7]\\d{5}|9(?:2(?:(?:26|62)2|32[03]|477|9(?:42|83))|3(?:329|4(?:[47]6|62|89)|564))[2-6]\\d{5}|(?:675\\d|9(?:11[1-8]\\d|2(?:2(?:0[45]|1[2-6]|3[3-6])|3(?:[06]4|7[45])|494|6(?:04|1[2-8]|[36][45]|4[3-6])|80[45]|9(?:[17][4-6]|[48][45]|9[3-6]))|3(?:364|4(?:1[2-7]|[235][4-6]|84)|5(?:1[2-8]|[38][4-6])|6(?:2[45]|44)|7[069][45]|8(?:[03][45]|[17][2-6]|[58][3-6]))))\\d{6}|92(?:2(?:21|4[23]|6[145]|7[1-4]|8[356]|9[267])|3(?:16|3[13-8]|43|5[346-8]|9[3-5])|475|6(?:2[46]|4[78]|5[1568])|9(?:03|2[1457-9]|3[1356]|4[08]|[56][23]|82))4\\d{5}|9(?:2(?:2(?:57|81)|3(?:24|46|92)|9(?:01|23|64))|3(?:4(?:42|71)|5(?:25|37|4[347]|71)|7(?:18|5[17])))[3-6]\\d{5}|9(?:2(?:2(?:02|2[3467]|4[156]|5[45]|6[6-8]|91)|3(?:1[47]|25|[45][25]|96)|47[48]|625|932)|3(?:38[2578]|4(?:0[0-24-9]|3[78]|4[457]|58|6[03-9]|72|83|9[136-8])|5(?:2[124]|[368][23]|4[2689]|7[2-6])|7(?:16|2[15]|3[145]|4[13]|5[468]|7[2-5]|8[26])|8(?:2[5-7]|3[278]|4[3-5]|5[78]|6[1-378]|[78]7|94)))[4-6]\\d{5}"]]],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"1|([267]\\d{6})$","684$1",0,"684",[0,["684(?:2(?:48|5[2468]|72)|7(?:3[13]|70|82))\\d{4}"]]],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:5[0-3579]|6[013-9]|[7-9]\\d)\\d{4,10}",[7,8,9,10,11,12,13]]]],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"0|(183[12])",0,0,0,[0,["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]],0,0,0,0,0,0,[0,["(?:290|5[69]\\d|6(?:[03]0|22|4[0-2]|[69]\\d)|7(?:[34]\\d|7[07])|9(?:6[45]|9[4-8]))\\d{4}"]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",[0,["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]]],"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0",0,0,0,0,0,[0,["36554\\d{4}|(?:[16]0|4[04]|5[015]|7[07]|99)\\d{7}"]]],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0",0,0,0,0,0,[0,["6040\\d{5}|6(?:03|[1-356]|44|7\\d)\\d{6}"]]],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","246$1",0,"246",[0,["246(?:(?:2(?:[3568]\\d|4[0-57-9])|3(?:5[2-9]|6[0-6])|4(?:46|5\\d)|69[5-7]|8(?:[2-5]\\d|83))\\d|52(?:1[147]|20))\\d{3}"]]],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:28|4[14]|5)|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1[13-9]\\d|644)\\d{7}|(?:3[78]|44|66)[02-9]\\d{7}",[10]]]],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0",0,0,0,0,0,[0,["4[5-9]\\d{7}",[9]]]],BF:["226","00","[025-7]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[025-7]"]]],0,0,0,0,0,0,[0,["(?:0[125-7]|5[1-8]|[67]\\d)\\d{6}"]]],BG:["359","00","[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:43[07-9]|99[69]\\d)\\d{5}|(?:8[7-9]|98)\\d{7}",[8,9]]]],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[047]"]]],0,0,0,0,0,0,[0,["(?:3(?:[1-79]\\d|8[0-47-9])\\d|6(?:3(?:00|33|6[16])|6(?:3[03-9]|[69]\\d|7[0-6])))\\d{4}"]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]],0,0,0,0,0,0,[0,["(?:29|6[1257-9]|7[125-9])\\d{6}"]]],BJ:["229","00","(?:[25689]\\d|40)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]]],0,0,0,0,0,0,[0,["(?:40|5[1-8]|6\\d|9[013-9])\\d{6}"]]],BL:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","441$1",0,"441",[0,["441(?:[2378]\\d|5[0-39])\\d{5}"]]],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[0,["(?:22[89]|[78]\\d\\d)\\d{4}"]]],BO:["591","00(?:1\\d)?","(?:[2-467]\\d\\d|8001)\\d{5}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[23]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?",0,0,0,[0,["[67]\\d{7}",[8]]]],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]",[0,["(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[07]|8\\d|9[056])\\d)\\d{3}"]]],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\d\\d|5(?:[0-46-9]\\d|5[0-24679]))\\d{8}|[1-9]\\d{9}|[3589]\\d{8}|[34]\\d{7}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2",0,0,[0,["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])(?:7|9\\d)\\d{7}",[10,11]]]],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([3-8]\\d{6})$","242$1",0,"242",[0,["242(?:3(?:5[79]|7[56]|95)|4(?:[23][1-9]|4[1-35-9]|5[1-8]|6[2-8]|7\\d|81)|5(?:2[45]|3[35]|44|5[1-46-9]|65|77)|6[34]6|7(?:27|38)|8(?:0[1-9]|1[02-9]|2\\d|[89]9))\\d{4}"]]],BT:["975","00","[17]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|7"]]],0,0,0,0,0,0,[0,["(?:1[67]|77)\\d{6}",[8]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-79]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:321|7(?:[1-7]\\d|8[01]))\\d{5}",[8]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,[0,["(?:2(?:5[5-79]|9[1-9])|(?:33|44)\\d)\\d{6}",[9]]],"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]],0,0,0,0,0,0,[0,["6[0-35-7]\\d{5}",[7]]]],CA:["1","011","(?:[2-8]\\d|90)\\d{8}",[10],0,"1",0,0,0,0,0,[0,["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|6[578])|4(?:03|1[68]|3[178]|50|68|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|13|39|47|72)|7(?:0[59]|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\d{6}"]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[0,["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]]],"0011"],CD:["243","00","[189]\\d{8}|[1-68]\\d{6}",[7,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["88\\d{5}|(?:8[0-59]|9[017-9])\\d{7}"]]],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]],0,0,0,0,0,0,[0,["7[02457]\\d{6}"]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]],0,0,0,0,0,0,[0,["026(?:1[0-5]|6[6-9])\\d{4}|0(?:[14-6]\\d\\d|2(?:40|5[5-8]|6[07-9]))\\d{5}"]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0",0,0,0,0,0,[0,["7[35-9]\\d{7}"]]],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]],0,0,0,0,0,0,[0,["0704[0-7]\\d{5}|0(?:[15]\\d\\d|7(?:0[0-37-9]|[4-9][7-9]))\\d{6}"]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]],0,0,0,0,0,0,[0,["[578]\\d{4}"]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]],0,0,0,0,0,0,[0,["2(?:1982[0-6]|3314[05-9])\\d{3}|(?:2(?:1(?:160|962)|3(?:2\\d\\d|3(?:[034]\\d|1[0-35-9]|2[1-9]|5[0-2])|600)|6469)|80[1-9]\\d\\d|9(?:3(?:[0-57-9]\\d\\d|6(?:0[02-9]|[1-9]\\d))|6(?:[0-8]\\d\\d|9(?:[02-79]\\d|1[05-9]))|7[1-9]\\d\\d|9(?:[03-9]\\d\\d|1(?:[0235-9]\\d|4[0-24-9])|2(?:[0-79]\\d|8[0-46-9]))))\\d{4}|(?:22|3[2-5]|[47][1-35]|5[1-3578]|6[13-57]|8[1-9]|9[2458])\\d{7}",[9]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]],0,0,0,0,0,0,[0,["(?:24[23]|6[5-9]\\d)\\d{6}",[9]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","1[127]\\d{8,9}|2\\d{9}(?:\\d{2})?|[12]\\d{6,7}|86\\d{6}|(?:1[03-689]\\d|6)\\d{7,9}|(?:[3-579]\\d|8[0-57-9])\\d{6,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","(?:10|2[0-57-9])(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"0|(1(?:[12]\\d|79)\\d\\d)",0,0,0,[0,["1740[0-5]\\d{6}|1(?:[38]\\d|4[57]|5[0-35-9]|6[25-7]|7[0-35-8]|9[0135-9])\\d{8}",[11]]],"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:(?:1\\d|[36])\\d{3}|9101)\\d{6}|[124-8]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1 $2",["[146][2-9]|[2578]"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["6"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["[39]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?",0,0,0,[0,["3333(?:0(?:0\\d|1[0-5])|[4-9]\\d\\d)\\d{3}|(?:3(?:24[1-9]|3(?:00|3[0-24-9]))|9101)\\d{6}|3(?:0[0-5]|1\\d|2[0-3]|5[01]|70)\\d{7}",[10]]]],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))",0,0,0,[0,["(?:3005\\d|6500[01])\\d{3}|(?:5[07]|6[0-4]|7[0-3]|8[3-9])\\d{6}",[8]]]],CU:["53","119","[27]\\d{6,7}|[34]\\d{5,7}|(?:5|8\\d\\d)\\d{7}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["5"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0",0,0,0,0,0,[0,["5\\d{7}",[8]]]],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]],0,0,0,0,0,0,[0,["(?:36|5[1-389]|9\\d)\\d{5}"]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]",[0,["953[01]\\d{4}|9(?:5[12467]|6[5-9])\\d{5}"]]],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"0|([59]\\d{7})$","8$1",0,0,[0,["4(?:83[0-38]|93[0-6])\\d{5}|4(?:[0-3]\\d|4[047-9]|5[0-25-9]|6[06-9]|7[02-9]|8[0-24-9]|9[0-27-9])\\d{6}",[9]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]],0,0,0,0,0,0,[0,["9[4-79]\\d{6}"]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[0,["(?:60[1-8]|7(?:0[2-5]|[2379]\\d))\\d{6}"]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:1\\d|2[02-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[05]\\d|[23]1|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0",0,0,0,0,0,[0,["15[0-25-9]\\d{8}|1(?:6[023]|7\\d)\\d{7,8}",[10,11]]]],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]],0,0,0,0,0,0,[0,["77\\d{6}"]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:[2-7]\\d|8[126-9]|9[1-46-9])\\d{6}"]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","767$1",0,"767",[0,["767(?:2(?:[2-4689]5|7[5-7])|31[5-7]|61[1-8]|70[1-6])\\d{4}"]]],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9",[0,["8[024]9[2-9]\\d{6}"]]],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:5(?:4[0-29]|5\\d|6[0-2])|6(?:[569]\\d|7[0-6])|7[7-9]\\d)\\d{6}",[9]]]],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["964[0-2]\\d{5}|9(?:39|[57][89]|6[0-36-9]|[89]\\d)\\d{6}",[9]]]],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:5\\d{5}|8(?:1(?:0(?:000|[3-9]\\d\\d)|(?:1(?:0[236]|1\\d)|(?:23|[3-79]\\d)\\d)\\d)|2(?:0(?:000|(?:19|[2-7]\\d)\\d)|(?:(?:[124-6]\\d|3[5-9])\\d|7(?:[3679]\\d|8[13-9])|8(?:[2-6]\\d|7[01]))\\d)|[349]\\d{4}))\\d\\d|5(?:(?:[02]\\d|5[0-478])\\d|1(?:[0-8]\\d|95)|6(?:4[0-4]|5[1-589]))\\d{3}",[7,8]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[189]"],"0$1"]],"0",0,0,0,0,0,[0,["1[0-25]\\d{8}",[10]]]],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]",[0,["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|6[0-367]))\\d{6}"]]],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:17[1-3]|7\\d\\d)\\d{4}"]]],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]],0,0,0,0,0,0,[0,["(?:590[16]00\\d|9(?:6906(?:09|10)|7390\\d\\d))\\d\\d|(?:6\\d|7[1-48])\\d{7}"]]],ET:["251","00","(?:11|[2-59]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-59]"],"0$1"]],"0",0,0,0,0,0,[0,["9\\d{8}"]]],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d)(\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",[0,["4946\\d{2,6}|(?:4[0-8]|50)\\d{4,8}",[6,7,8,9,10]]],"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,[0,["(?:[279]\\d|45|5[01568]|8[034679])\\d{5}",[7]]],"00"],FK:["500","00","[2-7]\\d{4}",[5],0,0,0,0,0,0,0,[0,["[56]\\d{4}"]]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]],0,0,0,0,0,0,[0,["31(?:00[67]|208|309)\\d\\d|(?:3(?:[2357]0[1-9]|602|804|905)|(?:820|9[2-7]\\d)\\d)\\d{3}"]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))",0,0,0,[0,["(?:[27][1-9]|5\\d|91)\\d{4}"]]],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6(?:[0-24-8]\\d|3[0-8]|9[589])|7(?:00|[3-9]\\d))\\d{6}"]]],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1",0,0,[0,["(?:(?:0[2-7]|7[467])\\d|6(?:0[0-4]|10|[256]\\d))\\d{5}|[2-7]\\d{6}"]]],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","473$1",0,"473",[0,["473(?:4(?:0[2-79]|1[04-9]|2[0-5]|58)|5(?:2[01]|3[3-8])|901)\\d{4}"]]],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0",0,0,0,0,0,[0,["5(?:(?:0555|1177)[5-9]|757(?:7[7-9]|8[01]))\\d{3}|5(?:00(?:0\\d|50)|11(?:00|1\\d|2[0-4]|3[01])|5200|75(?:00|[57]5)|8(?:0(?:[01]\\d|2[0-4])|58[89]|8(?:55|88)))\\d{4}|5(?:0070|11(?:33|51)|[25]222|3333)[0-4]\\d{3}|(?:5(?:[14]4|5[0157-9]|68|7[0147-9]|9[1-35-9])|790)\\d{6}"]]],GF:["594","00","(?:[56]94|80\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["694(?:[0-249]\\d|3[0-48])\\d{4}"]]],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"0|([25-9]\\d{5})$","1481$1",0,0,[0,["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:2(?:[0346-8]\\d|5[67])|5(?:[0457]\\d|6[01]|9[1-9]))\\d{6}",[9]]]],GI:["350","00","(?:[25]\\d\\d|606)\\d{5}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]],0,0,0,0,0,0,[0,["(?:5[146-8]\\d|606)\\d{5}"]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]],0,0,0,0,0,0,[0,["[245]\\d{5}"]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:[23679]\\d|5[0-389])\\d{5}"]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]],0,0,0,0,0,0,[0,["6[0-356]\\d{7}",[9]]]],GP:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]],0,0,0,0,0,0,[0,["(?:222|55\\d)\\d{6}"]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["68[57-9]\\d{7}|(?:69|94)\\d{8}",[10]]]],GT:["502","00","(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,["[3-5]\\d{7}",[8]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"1|([3-9]\\d{6})$","671$1",0,"671",[0,["671(?:3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[0236-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:[0479]7|2[0167]|3[45]|8[7-9])|8(?:[2-57-9]8|6[48])|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))\\d{4}"]]],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]],0,0,0,0,0,0,[0,["9(?:5\\d|6[569]|77)\\d{6}",[9]]]],GY:["592","001","9008\\d{3}|(?:[2-467]\\d\\d|862)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-46-9]"]]],0,0,0,0,0,0,[0,["(?:6\\d\\d|70[015-7])\\d{4}"]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,[0,["(?:46(?:0[0-7]|1[0-6]|4[0-57-9]|6[0-4]|7[0-8])|573[0-6]|6(?:26[013-8]|66[0-3])|70(?:7[1-5]|8[0-4])|848[015-9]|929[013-9])\\d{4}|(?:4(?:40|6[2358])|5(?:[1-59][0-46-9]|6[0-4689]|7[0-24679])|6(?:0[1-9]|[13-59]\\d|[268][0-57-9]|7[0-79])|84[09]|9(?:0[1-9]|1[02-9]|[2358][0-8]|[467]\\d))\\d{5}",[8]]],"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]],0,0,0,0,0,0,[0,["[37-9]\\d{7}",[8]]]],HR:["385","00","(?:[24-69]\\d|3[0-79])\\d{7}|80\\d{5,7}|[1-79]\\d{7}|6\\d{5,6}",[6,7,8,9],[["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["98\\d{6,7}|975(?:1\\d|96)\\d{4}|9(?:0[1-9]|[1259]\\d|7[0679])\\d{6}",[8,9]]]],HT:["509","00","[2-489]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-489]"]]],0,0,0,0,0,0,[0,["[34]\\d{7}"]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06",0,0,0,0,0,[0,["(?:[257]0|3[01])\\d{7}",[9]]]],ID:["62","00[89]","(?:(?:00[1-9]|8\\d)\\d{4}|[1-36])\\d{6}|00\\d{10}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["8[1-35-9]\\d{7,10}",[9,10,11,12]]]],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["8(?:22|[35-9]\\d)\\d{6}",[9]]]],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0",0,0,0,0,0,[0,["5(?:(?:[02368]\\d|[19][2-9]|4[1-9])\\d|5(?:01|1[79]|2[2-9]|3[0-3]|4[34]|5[015689]|6[6-8]|7[0-267]|8[7-9]|9[1-9]))\\d{5}",[9]]]],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([25-8]\\d{5})$","1624$1",0,"74576|(?:16|7[56])24",[0,["76245[06]\\d{4}|7(?:4576|[59]24\\d|624[0-4689])\\d{5}"]]],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0",0,0,0,0,0,[0,["(?:61279|7(?:887[02-9]|9(?:313|79[07-9]))|8(?:079[04-9]|(?:84|91)7[02-8]))\\d{5}|(?:6(?:12|[2-47]1|5[17]|6[13]|80)[0189]|7(?:1(?:2[0189]|9[0-5])|2(?:[14][017-9]|8[0-59])|3(?:2[5-8]|[34][017-9]|9[016-9])|4(?:1[015-9]|[29][89]|39|8[389])|5(?:[15][017-9]|2[04-9]|9[7-9])|6(?:0[0-47]|1[0-257-9]|2[0-4]|3[19]|5[4589])|70[0289]|88[089]|97[02-8])|8(?:0(?:6[67]|7[02-8])|70[017-9]|84[01489]|91[0-289]))\\d{6}|(?:7(?:31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[0189]\\d|7[02-8])\\d{5}|(?:6(?:[09]\\d|1[04679]|2[03689]|3[05-9]|4[0489]|50|6[069]|7[07]|8[7-9])|7(?:0\\d|2[0235-79]|3[05-8]|40|5[0346-8]|6[6-9]|7[1-9]|8[0-79]|9[089])|8(?:0[01589]|1[0-57-9]|2[235-9]|3[03-57-9]|[45]\\d|6[02457-9]|7[1-69]|8[0-25-9]|9[02-9])|9\\d\\d)\\d{7}|(?:6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|8[124-6])\\d|7(?:[235689]\\d|4[0189]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-5])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]|881))[0189]\\d{5}",[10]]]],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]],0,0,0,0,0,0,[0,["38\\d{5}"]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7[3-9]\\d{8}",[10]]]],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0",0,0,0,0,0,[0,["9(?:(?:0(?:[0-35]\\d|4[4-6])|(?:[13]\\d|2[0-3])\\d)\\d|9(?:[0-46]\\d\\d|5[15]0|8(?:1\\d|88)|9(?:0[013]|[19]\\d|21|77|8[7-9])))\\d{5}",[10]]]],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[0,["(?:38[589]\\d\\d|6(?:1[1-8]|2[0-6]|3[026-9]|4[014679]|5[0159]|6[0-69]|70|8[06-8]|9\\d)|7(?:5[057]|[6-9]\\d)|8(?:2[0-59]|[3-69]\\d|8[238]))\\d{4}"]],"00"],IT:["39","00","0\\d{5,10}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|55\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[38]"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[0,["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"0|([0-24-8]\\d{5})$","1534$1",0,0,[0,["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97[7-9]))\\d{5}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876",[0,["(?:658295|876(?:2(?:0[2-9]|[14-9]\\d|2[013-9]|3[3-9])|[348]\\d\\d|5(?:0[1-9]|[1-9]\\d)|6(?:4[89]|6[67])|7(?:0[07]|7\\d|8[1-47-9]|9[0-36-9])|9(?:[01]9|9[0579])))\\d{4}"]]],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[78][0-25-9]|9\\d)\\d{6}",[9]]]],JP:["81","010","00[1-9]\\d{6,14}|[257-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51|63)|9(?:49|80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9]|636)|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9]|636[457-9])|9(?:496|802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[27-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(?:2|3[045]|4[0-369]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|49|51|6(?:[0-24]|36|5[0-3589]|72|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:49|55|83)[29]|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|7[015-9]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17|3[015-9]))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9(?:[019]|4[1-3]|6(?:[0-47-9]|5[01346-9])))|3(?:[29]|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[23]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|72|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|829(?:2|66)|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,0,0,0,0,[0,["[7-9]0[1-9]\\d{7}",[10]]]],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1(?:0[0-6]|1[0-5]|2[014])|7\\d\\d)\\d{6}",[9]]]],KG:["996","00","8\\d{9}|(?:[235-8]\\d|99)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["312(?:58\\d|973)\\d{3}|(?:2(?:0[0-35]|2\\d)|5[0-24-7]\\d|7(?:[07]\\d|55)|880|99[05-9])\\d{6}",[9]]]],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["(?:(?:1[28]|3[18]|9[67])\\d|6[016-9]|7(?:[07-9]|[16]\\d)|8(?:[013-79]|8\\d))\\d{6}|(?:1\\d|9[0-57-9])\\d{6}|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48\\d{5}",[8,9]]]],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0",0,0,0,0,0,[0,["(?:63\\d{3}|73(?:0[0-5]\\d|140))\\d{3}|[67]200[01]\\d{3}",[8]]]],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]],0,0,0,0,0,0,[0,["[34]\\d{6}"]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","869$1",0,"869",[0,["869(?:48[89]|55[6-8]|66\\d|76[02-7])\\d{4}"]]],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[0,["19[1-3]\\d{7}",[10]]]],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?",0,0,0,[0,["1(?:05(?:[0-8]\\d|9[0-6])|22[13]\\d)\\d{4,5}|1(?:0[1-46-9]|[16-9]\\d|2[013-9])\\d{6,7}",[9,10]]]],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]],0,0,0,0,0,0,[0,["(?:41\\d\\d|5(?:(?:[05]\\d|1[0-7]|6[56])\\d|2(?:22|5[25])|7(?:55|77)|88[58])|6(?:(?:0[034679]|5[015-9]|6\\d)\\d|111|222|333|444|7(?:0[013-9]|[67]\\d)|888|9(?:[069]\\d|3[039]))|9(?:(?:0[09]|22|[4679]\\d|8[057-9])\\d|1(?:1[01]|99)|3(?:00|33)|5(?:00|5\\d)))\\d{4}",[8]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","345$1",0,"345",[0,["345(?:32[1-9]|42[0-4]|5(?:1[67]|2[5-79]|4[6-9]|50|76)|649|82[56]|9(?:1[679]|2[2-9]|3[06-9]|90))\\d{4}"]]],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",[0,["7(?:0[0-25-8]|47|6[0-4]|7[15-8]|85)\\d{7}",[10]]],"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:20(?:[239]\\d|5[24-9]|7[6-8]|88)|302\\d)\\d{6}",[10]]]],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0",0,0,0,0,0,[0,["793(?:[01]\\d|2[0-4])\\d{3}|(?:(?:3|81)\\d|7(?:[01]\\d|6[013-9]|8[89]|9[12]))\\d{5}"]]],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"1|([2-8]\\d{6})$","758$1",0,"758",[0,["758(?:28[4-7]|384|4(?:6[01]|8[4-9])|5(?:1[89]|20|84)|7(?:1[2-9]|2\\d|3[0-3])|812)\\d{4}"]]],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"0|(1001)",0,0,0,[0,["(?:6(?:(?:4[5-9]|5[0-4])\\d|6(?:[0245]\\d|[17]0|3[7-9]))\\d|7(?:[37-9]\\d|42|56))\\d{4}"]]],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[0-25-8]\\d|4[0-4])\\d{6}"]]],LR:["231","00","(?:2|33|5\\d|77|88)\\d{7}|[4-6]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3578]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:(?:330|555|(?:77|88)\\d)\\d|4[67])\\d{5}|[56]\\d{6}",[7,9]]]],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]],0,0,0,0,0,0,[0,["[56]\\d{7}"]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]",0,0,0,[0,["6\\d{7}"]]],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)",0,0,0,[0,["6(?:[269][18]|5[1568]|7[189]|81)\\d{6}",[9]]]],LV:["371","00","(?:[268]\\d|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[269]|8[01]"]]],0,0,0,0,0,0,[0,["2\\d{7}"]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[0,["9[1-6]\\d{7}"]]],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{5})(\\d{4})","$1-$2",["5(?:29|38)","5(?:29|38)[89]","5(?:29|38)[89]0"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|892","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|892"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[017]\\d|6[0-367]))\\d{6}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0",0,0,0,0,0,[0,["4(?:[46]\\d|5[1-9])\\d{5}|(?:3|6\\d)\\d{7}"]]],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0",0,0,0,0,0,[0,["562\\d{5}|(?:6\\d|7[16-9])\\d{6}"]]],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[07-9]\\d|3[024]|6[0-25])\\d{5}",[8]]]],MF:["590","00","(?:590|(?:69|80)\\d|976)\\d{6}",[9],0,"0",0,0,0,0,0,[0,["69(?:0\\d\\d|1(?:2[2-9]|3[0-5]))\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"0|([24-9]\\d{6})$","20$1",0,0,[0,["3[2-489]\\d{7}"]]],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1",0,0,0,0,0,[0,["(?:(?:23|54)5|329|45[56])\\d{4}"]]],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:3555|4(?:60\\d|747)|94(?:[01]\\d|2[0-4]))\\d{3}|7(?:[0-25-8]\\d|3[1-4]|42|9[23])\\d{5}"]]],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]],0,0,0,0,0,0,[0,["2(?:0(?:01|79)|17\\d)\\d{4}|(?:5[01]|[679]\\d|8[239])\\d{6}"]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:17[01]|9(?:2(?:[0-4]|[56]\\d\\d)|(?:3(?:[0-36]|4\\d)|(?:6\\d|8[89]|9[4-8])\\d|7(?:3|40|[5-9]\\d))\\d|4(?:(?:[0245]\\d|[1379])\\d|88)|5[0-6])\\d)\\d{4}|9[69]1\\d{6}|9(?:[68]\\d|9[089])\\d{5}",[7,8,9,10]]]],MN:["976","001","[12]\\d{7,9}|[57-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[57-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:83[01]|920)\\d{5}|(?:5[05]|8[05689]|9[013-9])\\d{6}",[8]]]],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]],0,0,0,0,0,0,[0,["6800[0-79]\\d{3}|6(?:[235]\\d\\d|6(?:0[0-5]|[1-9]\\d)|8(?:0[1-9]|[14-8]\\d|2[5-9]|[39][0-4]))\\d{4}",[8]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","670$1",0,"670",[0,["670(?:2(?:3[3-7]|56|8[4-8])|32[1-38]|4(?:33|8[348])|5(?:32|55|88)|6(?:64|70|82)|78[3589]|8[3-9]8|989)\\d{4}"]]],MQ:["596","00","(?:69|80)\\d{7}|(?:59|97)6\\d{6}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["69(?:6(?:[0-46-9]\\d|5[0-6])|727)\\d{4}"]]],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]],0,0,0,0,0,0,[0,["[2-4][0-46-9]\\d{6}"]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"1|([34]\\d{6})$","664$1",0,"664",[0,["664(?:3(?:49|9[1-6])|49[2-6])\\d{4}"]]],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]],0,0,0,0,0,0,[0,["(?:7(?:210|[79]\\d\\d)|9(?:[29]\\d\\d|69[67]|8(?:1[1-3]|89|97)))\\d{4}"]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:5|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["5"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,[0,["5(?:4(?:2[1-389]|7[1-9])|87[15-8])\\d{4}|5(?:2[5-9]|4[3-689]|[57]\\d|8[0-689]|9[0-8])\\d{5}",[8]]],"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[3467]|9[13-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[0,["46[46]\\d{4}|(?:7\\d|9[13-9])\\d{5}",[7]]],"00"],MW:["265","00","(?:[129]\\d|31|77|88)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0",0,0,0,0,0,[0,["111\\d{6}|(?:31|77|88|9[89])\\d{7}",[9]]]],MX:["52","0[09]","1(?:(?:44|99)[1-9]|65[0-689])\\d{7}|(?:1(?:[017]\\d|[235][1-9]|4[0-35-9]|6[0-46-9]|8[1-79]|9[1-8])|[2-9]\\d)\\d{8}",[10,11],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,[0,["6571\\d{6}|(?:1(?:2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[24-7][1-9]|3[1-8]|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|[69][1-9]|7[12]|8[1-8]))|2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467])|3(?:1[1-79]|[2458][1-9]|3\\d|7[1-8]|9[1-5])|4(?:1[1-57-9]|[25-7][1-9]|3[1-8]|4\\d|8[1-35-9]|9[2-689])|5(?:[56]\\d|88|9[1-79])|6(?:1[2-68]|[2-4][1-9]|5[1-3689]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|7(?:[1-467][1-9]|5[13-9]|8[1-69]|9[17])|8(?:1\\d|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479])|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|6[1-9]|7[12]|8[1-8]|9\\d))\\d{7}"]],"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9])|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1[36-8]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0",0,0,0,0,0,[0,["1(?:1888[69]|4400|8(?:47|8[27])[0-4])\\d{4}|1(?:0(?:[23568]\\d|4[0-6]|7[016-9]|9[0-8])|1(?:[1-5]\\d\\d|6(?:0[5-9]|[1-9]\\d)|7(?:[0134]\\d|2[1-9]|5[0-6]))|(?:(?:[269]|59)\\d|[37][1-9]|4[235-9])\\d|8(?:1[23]|[236]\\d|4[06]|5[7-9]|7[016-9]|8[01]|9[0-8]))\\d{5}",[9,10]]]],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["8[2-79]\\d{7}",[9]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:60|8[1245])\\d{7}",[9]]]],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]],0,0,0,0,0,0,[0,["(?:5[0-4]|[79]\\d|8[0-79])\\d{4}"]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[04]"]]],0,0,0,0,0,0,[0,["(?:23|7[04]|[89]\\d)\\d{6}"]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1",0,0,[0,["(?:14|3[58])\\d{4}"]]],NG:["234","009","(?:[124-7]|9\\d{3})\\d{6}|[1-9]\\d{7}|[78]\\d{9,13}",[7,8,10,11,12,13,14],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:702[0-24-9]|8(?:01|19)[01])\\d{6}|(?:70[13-689]|8(?:0[2-9]|1[0-8])|9(?:0[1-9]|1[2356]))\\d{7}",[10]]]],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]],0,0,0,0,0,0,[0,["(?:5(?:5[0-7]|[78]\\d)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059])|(?:7[5-8]|8\\d)\\d)\\d{5}"]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0",0,0,0,0,0,[0,["(?:6[1-58]|970\\d)\\d{7}",[9,11]]]],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[489]|59"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-7]"]]],0,0,0,0,0,"[02-689]|7[0-8]",[0,["(?:4[015-8]|59|9\\d)\\d{6}",[8]]]],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-579]|6[2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0",0,0,0,0,0,[0,["9(?:6[0-3]|7[24-6]|8[0-24-68])\\d{7}",[10]]]],NR:["674","00","(?:444|(?:55|8\\d)\\d|666)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[4-68]"]]],0,0,0,0,0,0,[0,["(?:55[3-9]|666|8\\d\\d)\\d{4}"]]],NU:["683","00","(?:[47]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]],0,0,0,0,0,0,[0,["888[4-9]\\d{3}",[7]]]],NZ:["64","0(?:0|161)","[29]\\d{7,9}|50\\d{5}(?:\\d{2,3})?|6[0-35-9]\\d{6}|7\\d{7,8}|8\\d{4,9}|(?:11\\d|[34])\\d{7}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-579]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|[89]0","50(?:[0367]|88)|[89]0"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[59]|80"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7|86"],"0$1"]],"0",0,0,0,0,0,[0,["2[0-27-9]\\d{7,8}|21\\d{6}",[8,9,10]]],"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]],0,0,0,0,0,0,[0,["1505\\d{4}|(?:7(?:[1289]\\d|7[0-4])|9(?:0[1-9]|[1-9]\\d))\\d{5}",[8]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["(?:1[16]1|21[89]|6\\d{3}|8(?:1[01]|7[23]))\\d{4}",[7,8]]]],PE:["51","19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[0,["9\\d{8}",[9]]],0," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[0,["8[7-9]\\d{6}",[8]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,[0,["(?:7\\d|8[18])\\d{6}",[8]]],"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0",0,0,0,0,0,[0,["(?:8(?:1[37]|9[5-8])|9(?:0[5-9]|1[0-24-9]|[235-7]\\d|4[2-9]|8[135-9]|9[1-9]))\\d{7}",[10]]]],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0",0,0,0,0,0,[0,["3(?:[0-24]\\d|3[0-7]|55|64)\\d{7}",[10]]]],PL:["48","00","6\\d{5}(?:\\d{2})?|8\\d{9}|[1-9]\\d{6}(?:\\d{2})?",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]],0,0,0,0,0,0,[0,["21(?:1(?:[145]\\d|3[1-5])|2[0-4]\\d)\\d{4}|(?:45|5[0137]|6[069]|7[2389]|88)\\d{7}",[9]]]],PM:["508","00","(?:[45]|80\\d\\d)\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:4[02-4]|5[056])\\d{4}",[6]]]],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939",[0,["(?:787|939)[2-9]\\d{6}"]]],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["5[69]\\d{7}",[9]]]],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]],0,0,0,0,0,0,[0,["6[0356]92(?:30|9\\d)\\d{3}|(?:(?:16|6[0356])93|9(?:[1-36]\\d\\d|480))\\d{5}"]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]],0,0,0,0,0,0,[0,["(?:(?:46|83)[0-5]|6[2-4689]0)\\d{4}|(?:45|77|88)\\d{5}"]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,[0,["9(?:51|6[129]|[78][1-6]|9[1-5])\\d{6}",[9]]]],QA:["974","00","[2-7]\\d{7}|800\\d{4}(?:\\d{2})?|2\\d{6}",[7,8,9],[["(\\d{3})(\\d{4})","$1 $2",["2[126]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]"]]],0,0,0,0,0,0,[0,["(?:2[89]|[35-7]\\d)\\d{6}",[8]]]],RE:["262","00","9769\\d{5}|(?:26|[68]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,"26[23]|69|[89]",[0,["(?:69(?:2\\d\\d|3(?:0[0-46]|1[013]|2[0-2]|3[0-39]|4\\d|5[0-5]|6[0-6]|7[0-27]|8[0-8]|9[0-479]))|9769\\d)\\d{4}"]]],RO:["40","00","(?:[2378]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[237-9]"],"0$1"]],"0",0,0,0,0,0,[0,["7020\\d{5}|7(?:0[013-9]|1[0-3]|[2-7]\\d|8[03-8]|9[019])\\d{6}",[9]]],0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0",0,0,0,0,0,[0,["6(?:[0-689]|7\\d)\\d{6,7}",[8,9,10]]]],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-6]2|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-6]2|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",[0,["9\\d{9}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]]],"0",0,0,0,0,0,[0,["7[2389]\\d{7}",[9]]]],SA:["966","00","92\\d{7}|(?:[15]|8\\d)\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0",0,0,0,0,0,[0,["579[01]\\d{5}|5(?:[013-689]\\d|7[0-35-8])\\d{6}",[9]]]],SB:["677","0[01]","(?:[1-6]|[7-9]\\d\\d)\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]],0,0,0,0,0,0,[0,["48\\d{3}|(?:(?:7[1-9]|8[4-9])\\d|9(?:1[2-9]|2[013-9]|3[0-2]|[46]\\d|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]))\\d{4}"]]],SC:["248","010|0[0-2]","800\\d{4}|(?:[249]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,[0,["2[125-8]\\d{5}"]],"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1[0-2]|9[0-3569])\\d{7}"]]],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0",0,0,0,0,0,[0,["7[02369]\\d{7}",[9]]]],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-5]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,["8(?:051|95[0-2])\\d{4}|(?:8(?:0[1-4]|[1-8]\\d|9[0-4])|9[0-8]\\d)\\d{5}",[8]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]",[0,["[56]\\d{4}",[5]]]],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,[0,["65(?:1\\d|55|[67]0)\\d{4}|(?:[37][01]|4[0139]|51|6[489])\\d{6}",[8]]],"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|[57]9)\\d{6}",[5,8],0,0,0,0,0,0,"79",[0,["(?:4[015-8]|59|9\\d)\\d{6}",[8]]]],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0",0,0,0,0,0,[0,["909[1-9]\\d{5}|9(?:0[1-8]|1[0-24-9]|4[03-57-9]|5\\d)\\d{6}",[9]]]],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0",0,0,0,0,0,[0,["(?:25|3[0-5]|66|7[2-9]|8[08]|9[09])\\d{6}"]]],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1",0,0,[0,["6[16]\\d{6}",[8]]]],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]],0,0,0,0,0,0,[0,["75(?:01|[38]3)\\d{5}|7(?:[06-8]\\d|21|5[4-7]|90)\\d{6}"]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["24|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3478]|64|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6(?:0[5-7]|[1-35-9])|9[2-9]"]]],"0",0,0,0,0,0,[0,["(?:(?:15|(?:3[59]|4[89]|79|8[08])\\d|6(?:0[5-7]|[1-9]\\d)|9(?:0\\d|[2-9]))\\d|2(?:4\\d|8))\\d{5}|(?:6\\d|7[1-9])\\d{6}",[7,8,9]]]],SR:["597","00","(?:[2-5]|68|[78]\\d)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-8]"]]],0,0,0,0,0,0,[0,["(?:7[124-7]|8[124-9])\\d{5}",[7]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:12|9[1257-9])\\d{7}"]]],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]],0,0,0,0,0,0,[0,["900[5-9]\\d{3}|9(?:0[1-9]|[89]\\d)\\d{4}"]]],SV:["503","00","[267]\\d{7}|[89]00\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,[0,["66(?:[02-9]\\d\\d|1(?:[02-9]\\d|16))\\d{3}|(?:6[0-57-9]|7\\d)\\d{6}",[8]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|(5\\d{6})$","721$1",0,"721",[0,["7215(?:1[02]|2\\d|5[034679]|8[014-8])\\d{4}"]]],SY:["963","00","[1-39]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0",0,0,0,0,0,[0,["9[1-689]\\d{7}",[9]]]],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]],0,0,0,0,0,0,[0,["7[6-9]\\d{6}",[8]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"1|([2-479]\\d{6})$","649$1",0,"649",[0,["649(?:2(?:3[129]|4[1-79])|3\\d\\d|4[34][1-3])\\d{4}"]]],TD:["235","00|16","(?:22|[69]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,[0,["(?:6[023568]|77|9\\d)\\d{6}"]],"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]],0,0,0,0,0,0,[0,["(?:7[09]|9[0-36-9])\\d{6}"]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0",0,0,0,0,0,[0,["671[0-8]\\d{5}|(?:14|6[1-6]|[89]\\d)\\d{7}",[9]]]],TJ:["992","810","(?:00|[1-57-9]\\d)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[34]7|91[78]"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,[0,["41[18]\\d{6}|(?:[034]0|[17][017]|2[02]|5[05]|8[08]|9\\d)\\d{7}"]],"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7],0,0,0,0,0,0,0,[0,["7[2-4]\\d{2,5}"]]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["7[2-8]\\d{6}",[8]]]],TM:["993","810","[1-6]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,[0,["6\\d{7}"]],"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]],0,0,0,0,0,0,[0,["3(?:001|[12]40)\\d{4}|(?:(?:[259]\\d|4[0-7])\\d|3(?:1[1-35]|6[0-4]|91))\\d{5}"]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]],0,0,0,0,0,0,[0,["(?:55[4-6]|6(?:[09]\\d|3[02]|8[15-9])|(?:7\\d|8[46-9])\\d|999)\\d{4}",[7]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|616)","5(?:[0-59]|6161)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0",0,0,0,0,0,[0,["56161\\d{5}|5(?:0[15-7]|1[06]|24|[34]\\d|5[1-59]|9[46])\\d{7}",[10]]]],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-46-8]\\d{6})$","868$1",0,"868",[0,["868(?:(?:2[5-9]|3\\d)\\d|4(?:3[0-6]|[6-9]\\d)|6(?:20|78|8\\d)|7(?:0[1-9]|1[02-9]|[2-9]\\d))\\d{4}"]]],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["(?:7[01]\\d|90)\\d{4}",[6,7]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["(?:40001[0-2]|9[0-8]\\d{4})\\d{3}",[9]]],0,"#"],TZ:["255","00[056]","(?:[26-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0",0,0,0,0,0,[0,["77[2-9]\\d{6}|(?:6[1-9]|7[1-689])\\d{7}"]]],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["4[45][0-5]|5(?:0|6[37])|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]","4[45][0-5]|5(?:0|6(?:3[14-7]|7))|6(?:[12][018]|[36-8])|7|89|9[1-9]|(?:48|57)[0137-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["[3-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:50|6[36-8]|7[1-3]|9[1-9])\\d{7}",[9]]],"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0",0,0,0,0,0,[0,["726[01]\\d{5}|7(?:[01578]\\d|20|36|[46][0-4]|9[89])\\d{6}"]]],US:["1","011","[2-9]\\d{9}",[10],[["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[0,["5(?:05(?:[2-57-9]\\d\\d|6(?:[0-35-9]\\d|44))|82(?:2(?:0[0-3]|[268]2)|3(?:0[02]|22|33)|4(?:00|4[24]|65|82)|5(?:00|29|58|83)|6(?:00|66|82)|7(?:58|77)|8(?:00|42|88)|9(?:00|9[89])))\\d{4}|(?:2(?:0[1-35-9]|1[02-9]|2[03-589]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[01356]|3[0-24679]|4[167]|5[12]|6[014]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[19]|6[1-47]|7[0-5]|8[056])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[08]|3[0-289]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[0157-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\d{6}"]]],UY:["598","0(?:0|1[3-9]\\d)","4\\d{9}|[1249]\\d{7}|(?:[49]\\d|80)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["405|8|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["4"],"0$1"]],"0",0,0,0,0,0,[0,["9[1-9]\\d{6}",[8]]],"00"," int. "],UZ:["998","810","(?:33|55|[679]\\d|88)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[35-9]"],"8 $1"]],"8",0,0,0,0,0,[0,["(?:(?:33|88|9[0-57-9])\\d{3}|55(?:50[013]|90\\d)|6(?:1(?:2(?:2[01]|98)|35[0-4]|50\\d|61[23]|7(?:[01][017]|4\\d|55|9[5-9]))|2(?:(?:11|7\\d)\\d|2(?:[12]1|9[01379])|5(?:[126]\\d|3[0-4]))|5(?:19[01]|2(?:27|9[26])|(?:30|59|7\\d)\\d)|6(?:2(?:1[5-9]|2[0367]|38|41|52|60)|(?:3[79]|9[0-3])\\d|4(?:56|83)|7(?:[07]\\d|1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]))|7(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|7(?:0\\d|[39][07])|9(?:0\\d|7[079]))|9(?:2(?:1[1267]|3[01]|5\\d|7[0-4])|(?:5[67]|7\\d)\\d|6(?:2[0-26]|8\\d)))|7(?:[07]\\d{3}|1(?:13[01]|6(?:0[47]|1[67]|66)|71[3-69]|98\\d)|2(?:2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|57\\d|7(?:0\\d|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:2(?:1[0-6]|21|3[469]|7[159])|(?:33|9[4-6])\\d|5(?:0[0-4]|5[579]|9\\d)|7(?:[0-3579]\\d|4[0467]|6[67]|8[078]))|4(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8\\d|9[5-9])|7(?:0\\d|1[024589]|2[0-27]|3[0137]|[46][07]|5[01]|7[5-9]|9[079])|9(?:7[015-9]|[89]\\d))|5(?:112|2(?:0\\d|2[29]|[49]4)|3[1568]\\d|52[6-9]|7(?:0[01578]|1[017]|[23]7|4[047]|[5-7]\\d|8[78]|9[079]))|6(?:2(?:2[1245]|4[2-4])|39\\d|41[179]|5(?:[349]\\d|5[0-2])|7(?:0[017]|[13]\\d|22|44|55|67|88))|9(?:22[128]|3(?:2[0-4]|7\\d)|57[02569]|7(?:2[05-9]|3[37]|4\\d|60|7[2579]|87|9[07]))))\\d{4}"]],"8~10"],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698",[0,["3[1-9]\\d{8}|3[2-9]\\d{7}",[9,10]]]],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"1|([2-7]\\d{6})$","784$1",0,"784",[0,["784(?:4(?:3[0-5]|5[45]|89|9[0-8])|5(?:2[6-9]|3[0-4])|720)\\d{4}"]]],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0",0,0,0,0,0,[0,["4(?:1[24-8]|2[46])\\d{7}"]]],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"1|([2-578]\\d{6})$","284$1",0,"284",[0,["284496[6-9]\\d{3}|284(?:245|3(?:0[0-3]|4[0-7]|68|9[34])|4(?:4[0-6]|68|99)|5(?:4[0-7]|68|9[69]))\\d{4}"]]],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"1|([2-9]\\d{6})$","340$1",0,"340",[0,["340(?:2(?:0[0-38]|2[06-8]|4[49]|77)|3(?:32|44)|4(?:2[23]|44|7[34]|89)|5(?:1[34]|55)|6(?:2[56]|4[23]|77|9[023])|7(?:1[2-57-9]|2[57]|7\\d)|884|998)\\d{4}"]]],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[69]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[3578]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0",0,0,0,0,0,[0,["(?:5(?:2[238]|59)|89[689]|99[013-9])\\d{6}|(?:3\\d|5[689]|7[06-9]|8[1-8]|9[0-8])\\d{7}",[9]]]],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]],0,0,0,0,0,0,[0,["(?:[58]\\d|7[013-7])\\d{5}",[7]]]],WF:["681","00","(?:40|72)\\d{4}|8\\d{5}(?:\\d{3})?",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[478]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]],0,0,0,0,0,0,[0,["(?:72|8[23])\\d{4}",[6]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]],0,0,0,0,0,0,[0,["(?:7[1-35-7]|8(?:[3-7]|9\\d{3}))\\d{5}",[7,10]]]],XK:["383","00","[23]\\d{7,8}|(?:4\\d\\d|[89]00)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0",0,0,0,0,0,[0,["4[3-9]\\d{6}",[8]]]],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7[24-68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,[0,["7[0137]\\d{7}",[9]]]],YT:["262","00","80\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,"269|63",[0,["639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0",0,0,0,0,0,[0,["(?:1(?:3492[0-25]|4495[0235]|549(?:20|5[01]))|4[34]492[01])\\d{3}|8[1-4]\\d{3,7}|(?:2[27]|47|54)4950\\d{3}|(?:1(?:049[2-4]|9[12]\\d\\d)|(?:6\\d|7[0-46-9])\\d{3}|8(?:5\\d{3}|7(?:08[67]|158|28[5-9]|310)))\\d{4}|(?:1[6-8]|28|3[2-69]|4[025689]|5[36-8])4920\\d{3}|(?:12|[2-5]1)492\\d{4}",[5,6,7,8,9]]]],ZM:["260","00","800\\d{6}|(?:21|63|[79]\\d)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[79]"],"0$1"]],"0",0,0,0,0,0,[0,["(?:7[679]|9[5-8])\\d{7}"]]],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0",0,0,0,0,0,[0,["7(?:[178]\\d|3[1-9])\\d{6}",[9]]]]},nonGeographic:{800:["800",0,"(?:005|[1-9]\\d\\d)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:005|[1-9]\\d\\d)\\d{5}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[35-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"[0-36-9]\\d{8}",[9],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-36-9]"]]],0,0,0,0,0,0,[0,["[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|285\\d{9}|(?:[19]\\d|49)\\d{6}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["4"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[19]"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["34[57]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-3]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|3(?:2|47|7\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:(?:285\\d\\d|3(?:45|[69]\\d{3}))\\d|9[89])\\d{6}"]]],883:["883",0,"(?:210|370\\d\\d)\\d{7}|51\\d{7}(?:\\d{3})?",[9,10,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["2"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[35]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:210|(?:370[1-9]|51[013]0)\\d)\\d{7}|5100\\d{5}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};var PZ=sU;function wT(t,i){var e=Array.prototype.slice.call(i);return e.push(sU),t.apply(this,e)}function jye(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var Jd=function t(i){jye(this,t),this.name=this.constructor.name,this.message=i,this.stack=new Error(i).stack};Jd.prototype=Object.create(Error.prototype);Jd.prototype.constructor=Jd;var j2=2,kZ=17,wZ=3,ql="0-9\uFF10-\uFF19\u0660-\u0669\u06F0-\u06F9",Gye="-\u2010-\u2015\u2212\u30FC\uFF0D",Kye="\uFF0F/",qye="\uFF0E.",Wye=" \xA0\xAD\u200B\u2060\u3000",zye="()\uFF08\uFF09\uFF3B\uFF3D\\[\\]",Yye="~\u2053\u223C\uFF5E",td="".concat(Gye).concat(Kye).concat(qye).concat(Wye).concat(zye).concat(Yye),e1="+\uFF0B";function lU(t,i){t=t.split("-"),i=i.split("-");for(var e=t[0].split("."),n=i[0].split("."),r=0;r<3;r++){var o=Number(e[r]),s=Number(n[r]);if(o>s)return 1;if(s>o)return-1;if(!isNaN(o)&&isNaN(s))return 1;if(isNaN(o)&&!isNaN(s))return-1}return t[1]&&i[1]?t[1]>i[1]?1:t[1]<i[1]?-1:0:!t[1]&&i[1]?1:t[1]&&!i[1]?-1:0}function G2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?G2=function(e){return typeof e}:G2=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G2(t)}function wR(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function DZ(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function DR(t,i,e){return i&&DZ(t.prototype,i),e&&DZ(t,e),t}var Jye="1.2.0",Xye="1.7.35",OZ=" ext. ",Qye=/^\d+$/,sa=function(){function t(i){wR(this,t),nEe(i),this.metadata=i,MZ.call(this,i)}return DR(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return e!=="001"})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return this.getCountryMetadata(e)!==void 0}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var n=this.countryCallingCodes()[e];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,n){if(e&&Qye.test(e)&&(n=e,e=null),e&&e!=="001"){if(!this.hasCountry(e))throw new Error("Unknown country: ".concat(e));this.numberingPlan=new NZ(this.getCountryMetadata(e),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new NZ(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var n=this.countryCallingCodes()[e];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(e){var n=this.getCountryCodesForCallingCode(e);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(e){var n=this.getCountryCodeForCallingCode(e);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var r=this.nonGeographic()[e];if(r)return r}else{var o=this.countryCallingCodes()[e];if(o&&o.length===1&&o[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}]),t}();var NZ=function(){function t(i,e){wR(this,t),this.globalMetadataObject=e,this.metadata=i,MZ.call(this,e.metadata)}return DR(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(r){return new Zye(r,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&RZ(this.types(),e))return new tEe(RZ(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?OZ:this.metadata[13]||OZ}}]),t}(),Zye=function(){function t(i,e){wR(this,t),this._format=i,this.metadata=e}return DR(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!eEe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),t}(),eEe=/^\(?\$1\)?$/,tEe=function(){function t(i,e){wR(this,t),this.type=i,this.metadata=e}return DR(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),t}();function RZ(t,i){switch(i){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function nEe(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!cU(t)||!cU(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(cU(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+iEe(t)+": "+t,"."))}var cU=function(i){return G2(i)==="object"},iEe=function(i){return G2(i)};function Qf(t,i){if(i=new sa(i),i.hasCountry(t))return i.country(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function dU(t,i){return i.countries[t]!==void 0}function MZ(t){var i=t.version;typeof i=="number"?(this.v1=i===1,this.v2=i===2,this.v3=i===3,this.v4=i===4):i?lU(i,Jye)===-1?this.v2=!0:lU(i,Xye)===-1?this.v3=!0:this.v4=!0:this.v1=!0}var rEe=";ext=",DT=function(i){return"([".concat(ql,"]{1,").concat(i,"})")};function K2(t){var i="20",e="15",n="9",r="6",o="[ \xA0\\t,]*",s="[:\\.\uFF0E]?[ \xA0\\t,-]*",c="#?",v="(?:e?xt(?:ensi(?:o\u0301?|\xF3))?n?|\uFF45?\uFF58\uFF54\uFF4E?|\u0434\u043E\u0431|anexo)",b="(?:[x\uFF58#\uFF03~\uFF5E]|int|\uFF49\uFF4E\uFF54)",x="[- ]+",k="[ \xA0\\t]*",O="(?:,{2}|;)",w=rEe+DT(i),M=o+v+s+DT(i)+c,F=o+b+s+DT(n)+c,L=x+DT(r)+"#",V=k+O+s+DT(e)+c,B=k+"(?:,)+"+s+DT(n)+c;return w+"|"+M+"|"+F+"|"+L+"|"+V+"|"+B}var oEe="["+ql+"]{"+j2+"}",aEe="["+e1+"]{0,1}(?:["+td+"]*["+ql+"]){3,}["+td+ql+"]*",sEe=new RegExp("^["+e1+"]{0,1}(?:["+td+"]*["+ql+"]){1,2}$","i"),lEe=aEe+"(?:"+K2()+")?",cEe=new RegExp("^"+oEe+"$|^"+lEe+"$","i");function q2(t){return t.length>=j2&&cEe.test(t)}function FZ(t){return sEe.test(t)}var LZ=new RegExp("(?:"+K2()+")$","i");function uU(t){var i=t.search(LZ);if(i<0)return{};for(var e=t.slice(0,i),n=t.match(LZ),r=1;r<n.length;){if(n[r])return{number:e,ext:n[r]};r++}}var dEe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","\uFF10":"0","\uFF11":"1","\uFF12":"2","\uFF13":"3","\uFF14":"4","\uFF15":"5","\uFF16":"6","\uFF17":"7","\uFF18":"8","\uFF19":"9","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9"};function pU(t){return dEe[t]}function Np(t){for(var i="",r=t.split(""),e=Array.isArray(r),n=0,r=e?r:r[Symbol.iterator]();;){var o;if(e){if(n>=r.length)break;o=r[n++]}else{if(n=r.next(),n.done)break;o=n.value}var s=o,c=pU(s);c&&(i+=c)}return i}function yv(t){for(var i="",r=t.split(""),e=Array.isArray(r),n=0,r=e?r:r[Symbol.iterator]();;){var o;if(e){if(n>=r.length)break;o=r[n++]}else{if(n=r.next(),n.done)break;o=n.value}var s=o;i+=mU(s,i)||""}return i}function mU(t,i){return t==="+"?i?void 0:"+":pU(t)}function fU(t,i){for(var e=t.slice(),o=i,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var c=s;t.indexOf(c)<0&&e.push(c)}return e.sort(function(v,b){return v-b})}function A0(t,i){return BZ(t,void 0,i)}function BZ(t,i,e){var n=e.type(i),r=n&&n.possibleLengths()||e.possibleLengths();if(!r)return"IS_POSSIBLE";if(i==="FIXED_LINE_OR_MOBILE"){if(!e.type("FIXED_LINE"))return BZ(t,"MOBILE",e);var o=e.type("MOBILE");o&&(r=fU(r,o.possibleLengths()))}else if(i&&!n)return"INVALID_LENGTH";var s=t.length,c=r[0];return c===s?"IS_POSSIBLE":c>s?"TOO_SHORT":r[r.length-1]<s?"TOO_LONG":r.indexOf(s,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function hU(t,i,e){if(i===void 0&&(i={}),e=new sa(e),i.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");e.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!e.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));e.country(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");e.selectNumberingPlan(t.countryCallingCode)}}if(e.possibleLengths())return gU(t.phone||t.nationalNumber,e);if(t.countryCallingCode&&e.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function gU(t,i){switch(A0(t,i)){case"IS_POSSIBLE":return!0;default:return!1}}function uEe(t,i){return fEe(t)||mEe(t,i)||pEe()}function pEe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function mEe(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(e.push(c.value),!(i&&e.length===i));n=!0);}catch(v){r=!0,o=v}finally{try{!n&&s.return!=null&&s.return()}finally{if(r)throw o}}return e}function fEe(t){if(Array.isArray(t))return t}function vU(t){var i,e;t=t.replace(/^tel:/,"tel=");for(var o=t.split(";"),n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var c=s,v=c.split("="),b=uEe(v,2),x=b[0],k=b[1];switch(x){case"tel":i=k;break;case"ext":e=k;break;case"phone-context":k[0]==="+"&&(i=k+i);break}}if(!q2(i))return{};var O={number:i};return e&&(O.ext=e),O}function _U(t){var i=t.number,e=t.ext;if(!i)return"";if(i[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(i).concat(e?";ext="+e:"")}function bc(t,i){return t=t||"",new RegExp("^(?:"+i+")$").test(t)}var hEe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function t1(t,i,e){if(i=i||{},!!t.country){e=new sa(e),e.selectNumberingPlan(t.country,t.countryCallingCode);var n=i.v2?t.nationalNumber:t.phone;if(bc(n,e.nationalNumberPattern())){if(CU(n,"FIXED_LINE",e))return e.type("MOBILE")&&e.type("MOBILE").pattern()===""||!e.type("MOBILE")||CU(n,"MOBILE",e)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var r=0,o=hEe;r<o.length;r++){var s=o[r];if(CU(n,s,e))return s}}}}function CU(t,i,e){return i=e.type(i),!i||!i.pattern()||i.possibleLengths()&&i.possibleLengths().indexOf(t.length)<0?!1:bc(t,i.pattern())}function yU(t,i,e){if(i=i||{},e=new sa(e),!t.country)return!1;if(e.selectNumberingPlan(t.country,t.countryCallingCode),e.hasTypes())return t1(t,i,e.metadata)!==void 0;var n=i.v2?t.nationalNumber:t.phone;return bc(n,e.nationalNumberPattern())}function W2(t){return t.replace(new RegExp("[".concat(td,"]+"),"g")," ").trim()}var EU=/(\$\d)/;function z2(t,i,e){var n=e.useInternationalFormat,r=e.withNationalPrefix,o=e.carrierCode,s=e.metadata,c=t.replace(new RegExp(i.pattern()),n?i.internationalFormat():r&&i.nationalPrefixFormattingRule()?i.format().replace(EU,i.nationalPrefixFormattingRule()):i.format());return n?W2(c):c}var gEe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function TU(t,i,e){var n=new sa(e);if(n.selectNumberingPlan(t,i),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(gEe.test(n.IDDPrefix()))return n.IDDPrefix()}function vEe(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){_Ee(t,r,e[r])})}return t}function _Ee(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var UZ={formatExtension:function(i,e,n){return"".concat(i).concat(n.ext()).concat(e)}};function IU(t,i,e,n){if(e?e=vEe({},UZ,e):e=UZ,n=new sa(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.country(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var r=n.countryCallingCode(),o=e.v2?t.nationalNumber:t.phone,s;switch(i){case"NATIONAL":return o?(s=OR(o,t.carrierCode,"NATIONAL",n,e),bU(s,t.ext,n,e.formatExtension)):"";case"INTERNATIONAL":return o?(s=OR(o,null,"INTERNATIONAL",n,e),s="+".concat(r," ").concat(s),bU(s,t.ext,n,e.formatExtension)):"+".concat(r);case"E.164":return"+".concat(r).concat(o);case"RFC3966":return _U({number:"+".concat(r).concat(o),ext:t.ext});case"IDD":if(!e.fromCountry)return;var c=yEe(o,t.carrierCode,r,e.fromCountry,n);return bU(c,t.ext,n,e.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(i,'"'))}}function OR(t,i,e,n,r){var o=CEe(n.formats(),t);return o?z2(t,o,{useInternationalFormat:e==="INTERNATIONAL",withNationalPrefix:!(o.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&r&&r.nationalPrefix===!1),carrierCode:i,metadata:n}):t}function CEe(t,i){for(var r=t,e=Array.isArray(r),n=0,r=e?r:r[Symbol.iterator]();;){var o;if(e){if(n>=r.length)break;o=r[n++]}else{if(n=r.next(),n.done)break;o=n.value}var s=o;if(s.leadingDigitsPatterns().length>0){var c=s.leadingDigitsPatterns()[s.leadingDigitsPatterns().length-1];if(i.search(c)!==0)continue}if(bc(i,s.pattern()))return s}}function bU(t,i,e,n){return i?n(t,i,e):t}function yEe(t,i,e,n,r){var o=Qf(n,r.metadata);if(o===e){var s=OR(t,i,"NATIONAL",r);return e==="1"?e+" "+s:s}var c=TU(n,void 0,r.metadata);if(c)return"".concat(c," ").concat(e," ").concat(OR(t,null,"INTERNATIONAL",r))}function EEe(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){TEe(t,r,e[r])})}return t}function TEe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function bEe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function $Z(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function IEe(t,i,e){return i&&$Z(t.prototype,i),e&&$Z(t,e),t}var SEe=!1,NR=function(){function t(i,e,n){if(bEe(this,t),!i)throw new TypeError("`country` or `countryCallingCode` not passed");if(!e)throw new TypeError("`nationalNumber` not passed");if(!n)throw new TypeError("`metadata` not passed");var r=new sa(n);xEe(i)?(this.country=i,r.country(i),i=r.countryCallingCode()):SEe&&r.isNonGeographicCallingCode(i)&&(this.country="001"),this.countryCallingCode=i,this.nationalNumber=e,this.number="+"+this.countryCallingCode+this.nationalNumber,this.metadata=n}return IEe(t,[{key:"setExt",value:function(e){this.ext=e}},{key:"isPossible",value:function(){return hU(this,{v2:!0},this.metadata)}},{key:"isValid",value:function(){return yU(this,{v2:!0},this.metadata)}},{key:"isNonGeographic",value:function(){var e=new sa(this.metadata);return e.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return t1(this,{v2:!0},this.metadata)}},{key:"format",value:function(e,n){return IU(this,e,n?EEe({},n,{v2:!0}):{v2:!0},this.metadata)}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}]),t}();var xEe=function(i){return/^[A-Z]{2}$/.test(i)};var AEe=new RegExp("(["+ql+"])");function Y2(t,i,e,n){if(i){var r=new sa(n);r.selectNumberingPlan(i,e);var o=new RegExp(r.IDDPrefix());if(t.search(o)===0){t=t.slice(t.match(o)[0].length);var s=t.match(AEe);if(!(s&&s[1]!=null&&s[1].length>0&&s[1]==="0"))return t}}}function OT(t,i){if(t&&i.numberingPlan.nationalPrefixForParsing()){var e=new RegExp("^(?:"+i.numberingPlan.nationalPrefixForParsing()+")"),n=e.exec(t);if(n){var r,o,s=n.length-1,c=s>0&&n[s];if(i.nationalPrefixTransformRule()&&c)r=t.replace(e,i.nationalPrefixTransformRule()),s>1&&(o=n[1]);else{var v=n[0];r=t.slice(v.length),c&&(o=n[1])}var b;if(c){var x=t.indexOf(n[1]),k=t.slice(0,x);k===i.numberingPlan.nationalPrefix()&&(b=i.numberingPlan.nationalPrefix())}else b=n[0];return{nationalNumber:r,nationalPrefix:b,carrierCode:o}}}return{nationalNumber:t}}function NT(t,i){var e=OT(t,i),n=e.carrierCode,r=e.nationalNumber;if(r!==t){if(!PEe(t,r,i))return{nationalNumber:t};if(i.possibleLengths()&&!kEe(r,i))return{nationalNumber:t}}return{nationalNumber:r,carrierCode:n}}function PEe(t,i,e){return!(bc(t,e.nationalNumberPattern())&&!bc(i,e.nationalNumberPattern()))}function kEe(t,i){switch(A0(t,i)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function J2(t,i,e,n){var r=i?Qf(i,n):e;if(t.indexOf(r)===0){n=new sa(n),n.selectNumberingPlan(i,e);var o=t.slice(r.length),s=NT(o,n),c=s.nationalNumber,v=NT(t,n),b=v.nationalNumber;if(!bc(b,n.nationalNumberPattern())&&bc(c,n.nationalNumberPattern())||A0(b,n)==="TOO_LONG")return{countryCallingCode:r,number:o}}return{number:t}}function X2(t,i,e,n){if(!t)return{};if(t[0]!=="+"){var r=Y2(t,i,e,n);if(r&&r!==t)t="+"+r;else{if(i||e){var o=J2(t,i,e,n),s=o.countryCallingCode,c=o.number;if(s)return{countryCallingCode:s,number:c}}return{number:t}}}if(t[1]==="0")return{};n=new sa(n);for(var v=2;v-1<=wZ&&v<=t.length;){var b=t.slice(1,v);if(n.hasCallingCode(b))return n.selectNumberingPlan(b),{countryCallingCode:b,number:t.slice(v)};v++}return{}}var wEe=!1;function Q2(t,i,e){if(wEe&&e.isNonGeographicCallingCode(t))return"001";var n=e.getCountryCodesForCallingCode(t);if(n)return n.length===1?n[0]:DEe(n,i,e.metadata)}function DEe(t,i,e){e=new sa(e);for(var o=t,n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var c=s;if(e.country(c),e.leadingDigits()){if(i&&i.search(e.leadingDigits())===0)return c}else if(t1({phone:i,country:c},void 0,e.metadata))return c}}var OEe=250,NEe=new RegExp("["+e1+ql+"]"),REe=new RegExp("[^"+ql+"#]+$"),MEe=!1;function SU(t,i,e){if(i=i||{},e=new sa(e),i.defaultCountry&&!e.hasCountry(i.defaultCountry))throw i.v2?new Jd("INVALID_COUNTRY"):new Error("Unknown country: ".concat(i.defaultCountry));var n=LEe(t,i.v2,i.extract),r=n.number,o=n.ext,s=n.error;if(!r){if(i.v2)throw s==="TOO_SHORT"?new Jd("TOO_SHORT"):new Jd("NOT_A_NUMBER");return{}}var c=UEe(r,i.defaultCountry,i.defaultCallingCode,e),v=c.country,b=c.nationalNumber,x=c.countryCallingCode,k=c.carrierCode;if(!e.hasSelectedNumberingPlan()){if(i.v2)throw new Jd("INVALID_COUNTRY");return{}}if(!b||b.length<j2){if(i.v2)throw new Jd("TOO_SHORT");return{}}if(b.length>kZ){if(i.v2)throw new Jd("TOO_LONG");return{}}if(i.v2){var O=new NR(x,b,e.metadata);return v&&(O.country=v),k&&(O.carrierCode=k),o&&(O.ext=o),O}var w=(i.extended?e.hasSelectedNumberingPlan():v)?bc(b,e.nationalNumberPattern()):!1;return i.extended?{country:v,countryCallingCode:x,carrierCode:k,valid:w,possible:w?!0:!!(i.extended===!0&&e.possibleLengths()&&gU(b,e)),phone:b,ext:o}:w?BEe(v,b,o):{}}function FEe(t,i,e){if(t){if(t.length>OEe){if(e)throw new Jd("TOO_LONG");return}if(i===!1)return t;var n=t.search(NEe);if(!(n<0))return t.slice(n).replace(REe,"")}}function LEe(t,i,e){if(t&&t.indexOf("tel:")===0)return vU(t);var n=FEe(t,e,i);if(!n)return{};if(!q2(n))return FZ(n)?{error:"TOO_SHORT"}:{};var r=uU(n);return r.ext?r:{number:n}}function BEe(t,i,e){var n={country:t,phone:i};return e&&(n.ext=e),n}function UEe(t,i,e,n){var r=X2(yv(t),i,e,n.metadata),o=r.countryCallingCode,s=r.number,c;if(o)n.selectNumberingPlan(o);else if(s&&(i||e))n.selectNumberingPlan(i,e),i?c=i:MEe&&n.isNonGeographicCallingCode(e)&&(c="001"),o=e||Qf(i,n.metadata);else return{};if(!s)return{countryCallingCode:o};var v=NT(yv(s),n),b=v.nationalNumber,x=v.carrierCode,k=Q2(o,b,n);return k&&(c=k,k==="001"||n.country(c)),{country:c,countryCallingCode:o,nationalNumber:b,carrierCode:x}}function $Ee(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){HEe(t,r,e[r])})}return t}function HEe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function xU(t,i,e){return SU(t,$Ee({},i,{v2:!0}),e)}function RR(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?RR=function(e){return typeof e}:RR=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RR(t)}function VEe(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){jEe(t,r,e[r])})}return t}function jEe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function GEe(t,i){return WEe(t)||qEe(t,i)||KEe()}function KEe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function qEe(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(e.push(c.value),!(i&&e.length===i));n=!0);}catch(v){r=!0,o=v}finally{try{!n&&s.return!=null&&s.return()}finally{if(r)throw o}}return e}function WEe(t){if(Array.isArray(t))return t}function MR(t){var i=Array.prototype.slice.call(t),e=GEe(i,4),n=e[0],r=e[1],o=e[2],s=e[3],c,v,b;if(typeof n=="string")c=n;else throw new TypeError("A text for parsing must be a string.");if(!r||typeof r=="string")s?(v=o,b=s):(v=void 0,b=o),r&&(v=VEe({defaultCountry:r},v));else if(zEe(r))o?(v=r,b=o):b=r;else throw new Error("Invalid second argument: ".concat(r));return{text:c,options:v,metadata:b}}var zEe=function(i){return RR(i)==="object"};function YEe(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){JEe(t,r,e[r])})}return t}function JEe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function Z2(t,i,e){i&&i.defaultCountry&&!dU(i.defaultCountry,e)&&(i=YEe({},i,{defaultCountry:void 0}));try{return xU(t,i,e)}catch(n){if(!(n instanceof Jd))throw n}}function eA(){var t=MR(arguments),i=t.text,e=t.options,n=t.metadata;return Z2(i,e,n)}function XEe(t){for(var i=1;i<arguments.length;i++){var e=arguments[i]!=null?arguments[i]:{},n=Object.keys(e);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(e).filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.forEach(function(r){QEe(t,r,e[r])})}return t}function QEe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function FR(){var t=MR(arguments),i=t.text,e=t.options,n=t.metadata;e=XEe({},e,{extract:!1});var r=Z2(i,e,n);return r&&r.isPossible()||!1}function ZEe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function HZ(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eTe(t,i,e){return i&&HZ(t.prototype,i),e&&HZ(t,e),t}function tTe(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var VZ=function(){function t(i){var e=this,n=i.onCountryChange,r=i.onCallingCodeChange;ZEe(this,t),tTe(this,"update",function(o){for(var s=0,c=Object.keys(o);s<c.length;s++){var v=c[s];e[v]=o[v]}}),this.onCountryChange=n,this.onCallingCodeChange=r}return eTe(t,[{key:"reset",value:function(e,n){this.international=!1,this.IDDPrefix=void 0,this.missingPlus=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(e,n)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"initCountryAndCallingCode",value:function(e,n){this.setCountry(e),this.setCallingCode(n)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){return this.callingCode=e,this.onCallingCodeChange(this.country,e)}},{key:"startInternationalNumber",value:function(){this.international=!0,this.initCountryAndCallingCode()}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}]),t}();var nd="x",AU=new RegExp(nd);function tA(t,i){if(i<1)return"";for(var e="";i>1;)i&1&&(e+=t),i>>=1,t+=t;return e+t}function PU(t,i){return t[i]===")"&&i++,nTe(t.slice(0,i))}function nTe(t){for(var i=[],e=0;e<t.length;)t[e]==="("?i.push(e):t[e]===")"&&i.pop(),e++;var n=0,r="";i.push(t.length);for(var o=0,s=i;o<s.length;o++){var c=s[o];r+=t.slice(n,c),n=c+1}return r}function jZ(t,i,e){for(var o=e.split(""),n=Array.isArray(o),r=0,o=n?o:o[Symbol.iterator]();;){var s;if(n){if(r>=o.length)break;s=o[r++]}else{if(r=o.next(),r.done)break;s=r.value}var c=s;if(t.slice(i+1).search(AU)<0)return;i=t.search(AU),t=t.replace(AU,c)}return[t,i]}function kU(t,i,e){var n=e.metadata,r=e.shouldTryNationalPrefixFormattingRule,o=e.getSeparatorAfterNationalPrefix,s=new RegExp("^(?:".concat(i.pattern(),")$"));if(s.test(t.nationalSignificantNumber))return iTe(t,i,{metadata:n,shouldTryNationalPrefixFormattingRule:r,getSeparatorAfterNationalPrefix:o})}function KZ(t,i){return A0(t,i)==="IS_POSSIBLE"}function iTe(t,i,e){var n=e.metadata,r=e.shouldTryNationalPrefixFormattingRule,o=e.getSeparatorAfterNationalPrefix,s=t.nationalSignificantNumber,c=t.international,v=t.nationalPrefix,b=t.carrierCode;if(r(i)){var x=GZ(t,i,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:o,metadata:n});if(x)return x}return GZ(t,i,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:o,metadata:n})}function GZ(t,i,e){var n=e.metadata,r=e.useNationalPrefixFormattingRule,o=e.getSeparatorAfterNationalPrefix,s=z2(t.nationalSignificantNumber,i,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:r,metadata:n});if(r||(t.nationalPrefix?s=t.nationalPrefix+o(i)+s:t.complexPrefixBeforeNationalSignificantNumber&&(s=t.complexPrefixBeforeNationalSignificantNumber+" "+s)),rTe(s,t))return s}function rTe(t,i){return Np(t)===i.getNationalDigits()}function WZ(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function qZ(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zZ(t,i,e){return i&&qZ(t.prototype,i),e&&qZ(t,e),t}var YZ=function(){function t(i){WZ(this,t),this.matchTree=new sTe().parse(i)}return zZ(t,[{key:"match",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.allowOverflow;if(!e)throw new Error("String is required");var o=wU(e.split(""),this.matchTree,!0);if(o&&o.match&&delete o.matchedChars,!(o&&o.overflow&&!r))return o}}]),t}();function wU(t,i,e){if(typeof i=="string"){if(e&&t.length>i.length)return{overflow:!0};var n=t.join("");return i.indexOf(n)===0?t.length===i.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(i)===0?{match:!0,matchedChars:t.slice(0,i.length)}:void 0}if(Array.isArray(i)){for(var r=t.slice(),o=0;o<i.length;){var s=i[o],c=wU(r,s,e&&o===i.length-1);if(c){if(c.overflow)return c;if(c.match){if(r=r.slice(c.matchedChars.length),r.length===0)return o===i.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(c.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(c,null,2)))}}else return;o++}return e?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-r.length)}}switch(i.op){case"|":for(var v,k=i.args,b=Array.isArray(k),x=0,k=b?k:k[Symbol.iterator]();;){var O;if(b){if(x>=k.length)break;O=k[x++]}else{if(x=k.next(),x.done)break;O=x.value}var w=O,M=wU(t,w,e);if(M){if(M.overflow)return M;if(M.match)return{match:!0,matchedChars:M.matchedChars};if(M.partialMatch)v=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(M,null,2)))}}return v?{partialMatch:!0}:void 0;case"[]":for(var V=i.args,F=Array.isArray(V),L=0,V=F?V:V[Symbol.iterator]();;){var B;if(F){if(L>=V.length)break;B=V[L++]}else{if(L=V.next(),L.done)break;B=L.value}var q=B;if(t[0]===q)return t.length===1?{match:!0,matchedChars:t}:e?{overflow:!0}:{match:!0,matchedChars:[q]}}return;default:throw new Error("Unsupported instruction tree: ".concat(i))}}var oTe=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])"),aTe=/[\(\)\[\]\?\:\|]/,sTe=function(){function t(){WZ(this,t)}return zZ(t,[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],r=n.branches,o=n.instructions;if(r)return[{op:"|",args:r.concat([o])}];if(o.length===0)throw new Error("Pattern is required");return o}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw new Error("Pattern is required");var n=e.match(oTe);if(!n){if(aTe.test(e))throw new Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""));return}var r=n[1],o=e.slice(0,n.index),s=e.slice(n.index+r.length);switch(r){case"(?:":o&&this.parsePattern(o),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(o&&this.parsePattern(o),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var c=this.getContext(),v=c.branches;v.push(this.getContext().instructions),this.endContext(),this.getContext().instructions.push({op:"|",args:v});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(o&&this.parsePattern(o),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(this.getContext().instructions),this.getContext().instructions=[];break;case"[":o&&this.parsePattern(o),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:lTe(o)});break;default:throw new Error("Unknown operator: ".concat(r))}s&&this.parsePattern(s)}}]),t}();function lTe(t){for(var i=[],e=0;e<t.length;){if(t[e]==="-"){if(e===0||e===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[e-1].charCodeAt(0)+1,r=t[e+1].charCodeAt(0)-1,o=n;o<=r;)i.push(String.fromCharCode(o)),o++}else i.push(t[e]);e++}return i}function cTe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function JZ(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dTe(t,i,e){return i&&JZ(t.prototype,i),e&&JZ(t,e),t}function XZ(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}var DU="9",uTe=15,pTe=tA(DU,uTe),mTe=/[- ]/,LR=!0,fTe=LR&&function(){return/\[([^\[\]])*\]/g},hTe=LR&&function(){return/\d(?=[^,}][^,}])/g},gTe=new RegExp("["+td+"]*\\$1["+td+"]*(\\$\\d["+td+"]*)*$"),QZ=3,ZZ=function(){function t(i){var e=this,n=i.state,r=i.metadata;cTe(this,t),XZ(this,"getSeparatorAfterNationalPrefix",function(o){return e.isNANP||o&&o.nationalPrefixFormattingRule()&&mTe.test(o.nationalPrefixFormattingRule())?" ":""}),XZ(this,"shouldTryNationalPrefixFormattingRule",function(o,s){var c=s.international,v=s.nationalPrefix;if(o.nationalPrefixFormattingRule()){var b=o.usesNationalPrefix();if(b&&v||!b&&!c)return!0}}),this.metadata=r,this.resetFormat()}return dTe(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,n){this.resetFormat(),e?(this.isNANP=e.callingCode()==="1",this.matchingFormats=e.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,n){var r=this;if(KZ(n.nationalSignificantNumber,this.metadata))for(var c=this.matchingFormats,o=Array.isArray(c),s=0,c=o?c:c[Symbol.iterator]();;){var v;if(o){if(s>=c.length)break;v=c[s++]}else{if(s=c.next(),s.done)break;v=s.value}var b=v,x=kU(n,b,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(O){return r.shouldTryNationalPrefixFormattingRule(O,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:this.getSeparatorAfterNationalPrefix});if(x)return this.resetFormat(),this.chosenFormat=b,this.setNationalNumberTemplate(x.replace(/\d/g,nd),n),this.populatedNationalNumberTemplate=x,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(nd),x}return this.formatNationalNumberWithNextDigits(e,n)}},{key:"formatNationalNumberWithNextDigits",value:function(e,n){var r=this.chosenFormat,o=this.chooseFormat(n);if(o)return o===r?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var n=this,r=e.nationalSignificantNumber,o=e.nationalPrefix,s=e.international,c=r,v=c.length-QZ;v<0&&(v=0),this.matchingFormats=this.matchingFormats.filter(function(b){return n.formatSuits(b,s,o)&&n.formatMatches(b,c,v)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(e,n,r){return!(r&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!r&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,n,r){var o=e.leadingDigitsPatterns().length;if(o===0)return!0;r=Math.min(r,o-1);var s=e.leadingDigitsPatterns()[r];if(n.length<QZ)try{return new YZ(s).match(n,{allowOverflow:!0})!==void 0}catch(c){return console.error(c),!0}return new RegExp("^(".concat(s,")")).test(n)}},{key:"getFormatFormat",value:function(e,n){return n?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){var n=this,r=function(){if(o){if(s>=c.length)return"break";v=c[s++]}else{if(s=c.next(),s.done)return"break";v=s.value}var k=v;return n.chosenFormat===k?"break":gTe.test(n.getFormatFormat(k,e.international))?n.createTemplateForFormat(k,e)?(n.chosenFormat=k,"break"):(n.matchingFormats=n.matchingFormats.filter(function(O){return O!==k}),"continue"):"continue"};e:for(var c=this.matchingFormats.slice(),o=Array.isArray(c),s=0,c=o?c:c[Symbol.iterator]();;){var v,b=r();switch(b){case"break":break e;case"continue":continue}}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,n){if(!(LR&&e.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(e,n);if(r)return this.setNationalNumberTemplate(r,n),!0}}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,n){var r=e.IDDPrefix,o=e.missingPlus;return r?n&&n.spacing===!1?r:r+" ":o?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var n=-1,r=0,o=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";r<o.length+e.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(nd,n+1),r++;return PU(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(e,n){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,nd)+tA(nd,n.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,n){var r=n.nationalSignificantNumber,o=n.international,s=n.nationalPrefix,c=n.complexPrefixBeforeNationalSignificantNumber,v=e.pattern();LR&&(v=v.replace(fTe(),"\\d").replace(hTe(),"\\d"));var b=pTe.match(v)[0];if(!(r.length>b.length)){var x=new RegExp("^"+v+"$"),k=r.replace(/\d/g,DU);x.test(k)&&(b=k);var O=this.getFormatFormat(e,o),w;if(this.shouldTryNationalPrefixFormattingRule(e,{international:o,nationalPrefix:s})){var M=O.replace(EU,e.nationalPrefixFormattingRule());if(Np(e.nationalPrefixFormattingRule())===(s||"")+Np("$1")&&(O=M,w=!0,s))for(var F=s.length;F>0;)O=O.replace(/\d/,nd),F--}var L=b.replace(new RegExp(v),O).replace(new RegExp(DU,"g"),nd);return w||(c?L=tA(nd,c.length)+" "+L:s&&(L=tA(nd,s.length)+this.getSeparatorAfterNationalPrefix(e)+L)),o&&(L=W2(L)),L}}},{key:"formatNextNationalNumberDigits",value:function(e){var n=jZ(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],PU(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}}]),t}();function tee(t,i){return CTe(t)||_Te(t,i)||vTe()}function vTe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _Te(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(e.push(c.value),!(i&&e.length===i));n=!0);}catch(v){r=!0,o=v}finally{try{!n&&s.return!=null&&s.return()}finally{if(r)throw o}}return e}function CTe(t){if(Array.isArray(t))return t}function yTe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function eee(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ETe(t,i,e){return i&&eee(t.prototype,i),e&&eee(t,e),t}var TTe="["+td+ql+"]+",bTe=new RegExp("^"+TTe+"$","i"),ITe="(?:["+e1+"]["+td+ql+"]*|["+td+ql+"]+)",STe=new RegExp("[^"+td+ql+"]+.*$"),xTe=/[^\d\[\]]/,nee=function(){function t(i){var e=i.defaultCountry,n=i.defaultCallingCode,r=i.metadata,o=i.onNationalSignificantNumberChange;yTe(this,t),this.defaultCountry=e,this.defaultCallingCode=n,this.metadata=r,this.onNationalSignificantNumberChange=o}return ETe(t,[{key:"input",value:function(e,n){var r=kTe(e),o=tee(r,2),s=o[0],c=o[1],v=Np(s),b;return c&&(n.digits||(n.startInternationalNumber(),v||(b=!0))),v&&this.inputDigits(v,n),{digits:v,justLeadingPlus:b}}},{key:"inputDigits",value:function(e,n){var r=n.digits,o=r.length<3&&r.length+e.length>=3;if(n.appendDigits(e),o&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(e);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),n.update)}},{key:"isWaitingForCountryCallingCode",value:function(e){var n=e.international,r=e.callingCode;return n&&!r}},{key:"extractCountryCallingCode",value:function(e){var n=X2("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=n.countryCallingCode,o=n.number;if(r)return e.setCallingCode(r),e.update({nationalSignificantNumber:o}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var n=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&xTe.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,n){if(this.hasSelectedNumberingPlan){var r=OT(e,this.metadata),o=r.nationalPrefix,s=r.nationalNumber,c=r.carrierCode;if(s!==e)return this.onExtractedNationalNumber(o,c,s,e,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,n,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var o=OT(e,this.metadata),s=o.nationalPrefix,c=o.nationalNumber,v=o.carrierCode;if(c!==n)return this.onExtractedNationalNumber(s,v,c,e,r),!0}}},{key:"onExtractedNationalNumber",value:function(e,n,r,o,s){var c,v,b=o.lastIndexOf(r);if(b>=0&&b===o.length-r.length){v=!0;var x=o.slice(0,b);x!==e&&(c=x)}s({nationalPrefix:e,carrierCode:n,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:v,complexPrefixBeforeNationalSignificantNumber:c}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){if(this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,e.update))return!0;if(this.extractIddPrefix(e))return this.extractCallingCodeAndNationalSignificantNumber(e),!0;if(this.fixMissingPlus(e))return this.extractCallingCodeAndNationalSignificantNumber(e),!0}},{key:"extractIddPrefix",value:function(e){var n=e.international,r=e.IDDPrefix,o=e.digits,s=e.nationalSignificantNumber;if(!(n||r)){var c=Y2(o,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(c!==void 0&&c!==o)return e.update({IDDPrefix:o.slice(0,o.length-c.length)}),this.startInternationalNumber(e),!0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var n=J2(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=n.countryCallingCode,o=n.number;if(r)return e.update({missingPlus:!0}),this.startInternationalNumber(e),!0}}},{key:"startInternationalNumber",value:function(e){e.startInternationalNumber(),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),e.update)}}]),t}();function ATe(t){var i=t.search(ITe);if(!(i<0)){t=t.slice(i);var e;return t[0]==="+"&&(e=!0,t=t.slice(1)),t=t.replace(STe,""),e&&(t="+"+t),t}}function PTe(t){var i=ATe(t)||"";return i[0]==="+"?[i.slice(1),!0]:[i]}function kTe(t){var i=PTe(t),e=tee(i,2),n=e[0],r=e[1];return bTe.test(n)||(n=""),[n,r]}function BR(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?BR=function(e){return typeof e}:BR=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BR(t)}function wTe(t,i){return NTe(t)||OTe(t,i)||DTe()}function DTe(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function OTe(t,i){var e=[],n=!0,r=!1,o=void 0;try{for(var s=t[Symbol.iterator](),c;!(n=(c=s.next()).done)&&(e.push(c.value),!(i&&e.length===i));n=!0);}catch(v){r=!0,o=v}finally{try{!n&&s.return!=null&&s.return()}finally{if(r)throw o}}return e}function NTe(t){if(Array.isArray(t))return t}function RTe(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function iee(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function MTe(t,i,e){return i&&iee(t.prototype,i),e&&iee(t,e),t}var ree=!1,UR=function(){function t(i,e){RTe(this,t),this.metadata=new sa(e);var n=this.getCountryAndCallingCode(i),r=wTe(n,2),o=r[0],s=r[1];this.defaultCountry=o,this.defaultCallingCode=s,this.reset()}return MTe(t,[{key:"getCountryAndCallingCode",value:function(e){var n,r;return e&&(BR(e)==="object"?(n=e.defaultCountry,r=e.defaultCallingCode):n=e),n&&!this.metadata.hasCountry(n)&&(n=void 0),r&&ree&&this.metadata.isNonGeographicCallingCode(r)&&(n="001"),[n,r]}},{key:"input",value:function(e){var n=this.parser.input(e,this.state),r=n.digits,o=n.justLeadingPlus;if(o)this.formattedOutput="+";else if(r){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var s;if(this.metadata.hasSelectedNumberingPlan()&&(s=this.formatter.format(r,this.state)),s===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var c=this.state.getNationalDigits();c&&(s=this.formatter.format(c,this.state))}this.formattedOutput=s?this.getFullNumber(s):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new VZ({onCountryChange:function(r){e.country=r},onCallingCodeChange:function(r,o){e.metadata.selectNumberingPlan(r,o),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new ZZ({state:this.state,metadata:this.metadata}),this.parser=new nee({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset(this.defaultCountry,this.defaultCallingCode),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var e=this.state.digits;if(e)return this._getCountry()}},{key:"_getCountry",value:function(){var e=this.state.country;if(!(ree&&e==="001"))return e}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var n=this;if(this.isInternational()){var r=function(c){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!c})+c},o=this.state.callingCode;return r(o?e?"".concat(o," ").concat(e):o:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,n=e.nationalSignificantNumber,r=e.complexPrefixBeforeNationalSignificantNumber,o=e.nationalPrefix,s=n,c=r||o;return c&&(s=c+s),s}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,nd)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(e);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(Q2(this.isInternational()?this.state.callingCode:this.defaultCallingCode,this.state.nationalSignificantNumber,this.metadata))}},{key:"getNumberValue",value:function(){var e=this.state,n=e.digits,r=e.callingCode,o=e.country,s=e.nationalSignificantNumber;if(n){if(this.isInternational())return r?"+"+r+s:"+"+n;if(o||r){var c=o?this.metadata.countryCallingCode():r;return"+"+c+s}}}},{key:"getNumber",value:function(){var e=this.state,n=e.nationalSignificantNumber,r=e.carrierCode,o=e.callingCode,s=this._getCountry();if(n&&!(!s&&!o)){var c=new NR(s||o,n,this.metadata.metadata);return r&&(c.carrierCode=r),c}}},{key:"isPossible",value:function(){var e=this.getNumber();return e?e.isPossible():!1}},{key:"isValid",value:function(){var e=this.getNumber();return e?e.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}]),t}();function nA(){return wT(eA,arguments)}function OU(){return wT(FR,arguments)}function RT(t){return UR.call(this,t,PZ)}RT.prototype=Object.create(UR.prototype,{});RT.prototype.constructor=RT;function $R(){return wT(Qf,arguments)}function zn(t){t||(yx(zn),t=E(Oi));let i=new Ki(e=>t.onDestroy(e.next.bind(e)));return e=>e.pipe(e0(i))}function NU(t,i){let e=!i?.manualCleanup;e&&!i?.injector&&yx(NU);let n=e?i?.injector?.get(Oi)??E(Oi):null,r=FTe(i?.equal),o;i?.requireSync?o=nn({kind:0},{equal:r}):o=nn({kind:1,value:i?.initialValue},{equal:r});let s=t.subscribe({next:c=>o.set({kind:1,value:c}),error:c=>{if(i?.rejectErrors)throw c;o.set({kind:2,error:c})}});if(i?.requireSync&&o().kind===0)throw new Lt(601,!1);return n?.onDestroy(s.unsubscribe.bind(s)),sn(()=>{let c=o();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new Lt(601,!1)}},{equal:i?.equal})}function FTe(t=Object.is){return(i,e)=>i.kind===1&&e.kind===1&&t(i.value,e.value)}var LTe=[[["","field-label",""]],[["","field-image",""]],"*",[["","field-error",""]],[["","field-description",""]],[["","field-notification",""]]],BTe=["[field-label]","[field-image]","*","[field-error]","[field-description]","[field-notification]"];function UTe(t,i){if(t&1){let e=Je();h(0,"i",1),Ee("click",function(r){Ne(e);let o=y();return Re(o.showModal(r))})("keydown.space",function(r){Ne(e);let o=y();return Re(o.showModal(r))})("keydown.enter",function(r){Ne(e);let o=y();return Re(o.showModal(r))}),g()}if(t&2){let e=y();C("tabIndex",e.tabIndexToUse),Le("aria-label",e.getInfoLinkAriaLabel())}}var sA=["*"],$Te=t=>({"textarea-info-label":t});function HTe(t,i){if(t&1&&D(0,"ev-forms-info-link",3),t&2){let e=y();C("modalContent",e.infoLinkConfig().content)("modalTitle",e.infoLinkConfig().headline)("tabIndexToUse",e.tabIndexToUse())}}function VTe(t,i){if(t&1&&(h(0,"li",5),D(1,"span",6),H(2,"translate"),H(3,"evReplaceMessagePlaceholder"),g()),t&2){let e=y(2);Le("data-qa","error-"+e.field.name),d(),C("evCoreHtml",Qr(3,5,j(2,3,e.errors[0].message),e.errors[0].messageReplacementPattern)),Le("id",e.field.name+"_error")}}function jTe(t,i){if(t&1&&(h(0,"li",5),D(1,"span",6),H(2,"translate"),H(3,"evReplaceMessagePlaceholder"),g()),t&2){let e=i.$implicit,n=y(3);Le("data-qa","error-"+n.field.name),d(),C("evCoreHtml",Qr(3,5,j(2,3,e.message),e.messageReplacementPattern)),Le("id",n.field.name+"_error")}}function GTe(t,i){if(t&1&&J(0,jTe,4,8,"li",7),t&2){let e=y(2);C("ngForOf",e.errors)}}function KTe(t,i){if(t&1&&(h(0,"ul",3),J(1,VTe,4,8,"li",4)(2,GTe,1,1,"ng-template",null,0,vi),g()),t&2){let e=Fn(3),n=y();d(),C("ngIf",n.preventMultipleError)("ngIfElse",e)}}function qTe(t,i){if(t&1&&(h(0,"ev-pl-information-box",5),D(1,"span",6),H(2,"translate"),g()),t&2){let e=y().$implicit,n=y();C("type",e.type),d(),C("evCoreHtml",j(2,3,e.message)),Le("data-qa",n.field.name+"-"+e.name+"-notification")}}function WTe(t,i){if(t&1&&(h(0,"div",7)(1,"div",8),D(2,"span"),g(),h(3,"div",9),D(4,"span",6),H(5,"translate"),g()()),t&2){let e=y().$implicit,n=y();xo("alert alert-with-stripe alert-",e.type," alert-text theme-element-radius"),d(2),GD("icon icon-",e.icon," highlight-",e.type," font-size-xxxl padding-left-gutter"),d(2),C("evCoreHtml",j(5,9,e.message)),Le("data-qa",n.field.name+"-"+e.name+"-notification")}}function zTe(t,i){if(t&1&&(h(0,"div",1)(1,"div",2),J(2,qTe,3,5,"ev-pl-information-box",3)(3,WTe,6,11,"div",4),g()()),t&2){let e=i.$implicit;d(2),C("ngIf",!e.icon),d(),C("ngIf",e.icon)}}var YTe=(t,i)=>({link:t,"link-variant theme-text-variant-color":i});function JTe(t,i){if(t&1&&D(0,"span",7),t&2){let e=y().$implicit;C("evCoreHtml",e.getObject())}}function XTe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"evCustomCurrency"),H(3,"async"),g()),t&2){let e=y().$implicit;d(),Ae(j(3,3,j(2,1,e.getObject())))}}function QTe(t,i){if(t&1&&(D(0,"span",7),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e.getObject()))}}function ZTe(t,i){if(t&1&&(D(0,"span",7),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e.getObject()))}}function ebe(t,i){if(t&1&&(h(0,"a",8),R(1),g()),t&2){let e=y().$implicit;Xt("href",e.getObject().href,un),Xt("target",e.getObject().target),d(),Ae(e.getObject().name)}}function tbe(t,i){if(t&1&&D(0,"ev-forms-modal-link",9),t&2){let e=y().$implicit;C("modalLinkConfiguration",e.getObject())}}function nbe(t,i){if(t&1&&(Mo(0)(1,2),J(2,JTe,1,1,"span",3)(3,XTe,4,5,"span",4)(4,QTe,2,3,"span",3)(5,ZTe,2,3,"span",3)(6,ebe,2,3,"a",5)(7,tbe,1,1,"ev-forms-modal-link",6),Fo()()),t&2){let e=i.$implicit,n=y(2);d(),C("ngSwitch",e.getType()),d(),C("ngSwitchCase",n.FragmentType.TEXT),d(),C("ngSwitchCase",n.FragmentType.PRICE),d(),C("ngSwitchCase",n.FragmentType.MESSAGE),d(),C("ngSwitchCase",n.FragmentType.HTML),d(),C("ngSwitchCase",n.FragmentType.LINK),d(),C("ngSwitchCase",n.FragmentType.MODAL_LINK)}}function ibe(t,i){if(t&1&&(h(0,"span"),J(1,nbe,8,7,"ng-container",1),g()),t&2){let e=y();d(),C("ngForOf",e.content.getFragments())}}var rbe=(t,i,e)=>({"float-left":t,"display-inline-block":i,disabled:e});function obe(t,i){if(t&1&&(D(0,"span",4),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e.label))}}function abe(t,i){if(t&1&&D(0,"ev-forms-formatter",5),t&2){let e=y().$implicit;C("content",e.label)}}function sbe(t,i){if(t&1){let e=Je();h(0,"div",1)(1,"input",2),H(2,"translate"),H(3,"translate"),Ee("change",function(r){Ne(e);let o=y();return Re(o.onSelect(r))})("keydown",function(r){Ne(e);let o=y();return Re(o.preventArrowSelectionIfDisabled(r))}),g(),h(4,"label",3),J(5,obe,2,3,"span",4)(6,abe,1,1,"ev-forms-formatter",5),g()()}if(t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y();C("ngClass",Ms(19,rbe,n!==r-1,n===r-1,o.isDisabled())),d(),DC("name","",o.field.config.fieldName,"-",o.randomId,""),DC("id","",o.randomId,"-",n,""),C("value",o.isString(e.value)?o.trimValue(j(2,15,e.value)):e.value)("checked",o.isString(e.value)?o.isChecked(o.trimValue(j(3,17,e.value))):o.isChecked(e.value)),Le("data-qa","option-"+o.field.config.fieldName),d(3),DC("for","",o.randomId,"-",n,""),Le("data-qa","option-label-"+o.field.config.fieldName),d(),$(o.isString(e.label)?5:6)}}var lbe=["input"],cbe=(t,i,e,n)=>({invalid:t,valid:i,optional:e,disabled:n}),dbe=(t,i,e)=>({invalid:t,valid:i,disabled:e});function ube(t,i){if(t&1){let e=Je();Mo(0),h(1,"label",5),R(2),H(3,"translate"),g(),h(4,"input",6,0),H(6,"translate"),Ee("keydown",function(r){let o=Ne(e),s=o.$implicit,c=o.index,v=o.first,b=o.last,x=y();return Re(x.onInputKeyDown(c,s,r,b,v))})("keyup",function(){Ne(e);let r=y();return Re(r.onInputValueChange())})("blur",function(r){let o=Ne(e),s=o.$implicit,c=o.index,v=y();return Re(v.onInputBlur(c,s,r))})("focus",function(r){let o=Ne(e),s=o.$implicit,c=o.index,v=y();return Re(v.onInputFocus(c,s,r))}),g(),h(7,"span",7),R(8),g(),Fo()}if(t&2){let e=i.$implicit,n=i.index,r=i.last,o=y();d(),Le("for",o.field.id+n),d(),Vi(" ",o.field.config.label," ",j(3,13,o.labelMessageMap.get(e))," "),d(2),C("id",o.field.id+n)("placeholder",j(6,15,o.placeholderMessageMap.get(e)))("disabled",o.isDisabled())("ngClass",Ms(17,dbe,!o.isValid()&&o.field.control.touched,o.isValid()&&o.field.control.touched,o.disabled))("tabIndex",o.tabIndexToUse)("evFormsAccessibilityFormFieldTags",o.field),Le("data-qa","input-"+e)("autocomplete",o.getAutocompleteKey(e)),d(3),C("hidden",r),d(),ne(" ",o.configuration.getSeparator()," ")}}var ih=t=>({optional:t});function pbe(t,i){if(t&1&&(h(0,"option",6),R(1),H(2,"translate"),g()),t&2){let e=y();C("evFormsDisable",e.field.mandatory)("ngValue",null),d(),ne(" ",j(2,3,e.configuration.getFirstOptionText())," ")}}function mbe(t,i){if(t&1&&(Mo(0),D(1,"ev-forms-formatter",12),Fo()),t&2){let e=y().$implicit;d(),C("content",e.label)}}function fbe(t,i){if(t&1&&(D(0,"span",13),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e.label))}}function hbe(t,i){if(t&1&&(h(0,"option",10),J(1,mbe,2,1,"ng-container",11)(2,fbe,2,3,"ng-template",null,1,vi),g()),t&2){let e=i.$implicit,n=Fn(3),r=y(2).$implicit,o=y();C("ngValue",e.value)("evFormsFormSelect",o.isSelected(e.value,r.label)),Le("aria-hidden",!1),d(),C("ngIf",o.hasFormattedLabel(e.label))("ngIfElse",n)}}function gbe(t,i){if(t&1&&(h(0,"optgroup",8),J(1,hbe,4,5,"option",9),g()),t&2){let e=y().$implicit,n=y();Le("label",e.label)("aria-hidden",!0),d(),C("ngForOf",e.items)("ngForTrackBy",n.trackIdentity)}}function vbe(t,i){if(t&1&&(Mo(0),D(1,"ev-forms-formatter",12),Fo()),t&2){let e=y().$implicit;d(),C("content",e.label)}}function _be(t,i){if(t&1&&(D(0,"span",13),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e.label))}}function Cbe(t,i){if(t&1&&(h(0,"option",15),J(1,vbe,2,1,"ng-container",11)(2,_be,2,3,"ng-template",null,1,vi),g()),t&2){let e=i.$implicit,n=Fn(3),r=y(3);C("ngValue",e.value)("evFormsFormSelect",e.value===r.field.control.value),d(),C("ngIf",r.hasFormattedLabel(e.label))("ngIfElse",n)}}function ybe(t,i){if(t&1&&J(0,Cbe,4,4,"option",14),t&2){let e=y().$implicit,n=y();C("ngForOf",e.items)("ngForTrackBy",n.trackIdentity)}}function Ebe(t,i){if(t&1&&(Mo(0),J(1,gbe,2,4,"optgroup",7)(2,ybe,1,2,"ng-template",null,0,vi),Fo()),t&2){let e=i.$implicit,n=Fn(3);d(),C("ngIf",e.label)("ngIfElse",n)}}function Tbe(t,i){if(t&1&&(h(0,"ev-forms-field-label",1),R(1),H(2,"translate"),g()),t&2){let e=y().$implicit;C("isOptional",!e.mandatory)("id",e.id),d(),ne(" ",j(2,3,e.config.label)," ")}}function bbe(t,i){if(t&1&&D(0,"ev-forms-radioboxes",4),t&2){let e=y().$implicit;C("field",e)("formControlName",e.name)("radioboxValues",e.config.radioBoxes)}}function Ibe(t,i){if(t&1&&(Mo(0),D(1,"input",10),Fo()),t&2){let e=y().$implicit;d(),Xt("name",e.name),C("id",e.id)("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(7,ih,!e.mandatory)),Le("data-qa","input-"+e.name)("maxlength",e.config.maxlength)}}function Sbe(t,i){if(t&1&&D(0,"input",5),t&2){let e=y().$implicit;Xt("name",e.name),C("id",e.id)("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(6,ih,!e.mandatory)),Le("data-qa","input-"+e.name)}}function xbe(t,i){if(t&1&&D(0,"input",6),t&2){let e=y().$implicit;Xt("name",e.name),C("id",e.id)("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(6,ih,!e.mandatory)),Le("data-qa","input-"+e.name)}}function Abe(t,i){if(t&1&&D(0,"ev-forms-select-field",7),t&2){let e=y().$implicit;C("field",e)("groups",e.config.selectGroups)}}function Pbe(t,i){if(t&1&&D(0,"ev-forms-date-field",8),t&2){let e=y().$implicit,n=y();C("field",e)("dateFormat",n.dateFormat)("formControlName",e.name),Le("data-qa","input-"+e.name)}}function kbe(t,i){if(t&1&&(Mo(0),D(1,"ev-forms-field-notification",9),Fo()),t&2){let e=y().$implicit;d(),C("field",e)}}function wbe(t,i){if(t&1&&(h(0,"section")(1,"ev-forms-field"),J(2,Tbe,3,5,"ev-forms-field-label",1),h(3,"div",2)(4,"div",3),J(5,bbe,1,3,"ev-forms-radioboxes",4)(6,Ibe,2,9,"ng-container")(7,Sbe,1,8,"input",5)(8,xbe,1,8,"input",6)(9,Abe,1,2,"ev-forms-select-field",7)(10,Pbe,1,4,"ev-forms-date-field",8),g()(),h(11,"div",2)(12,"div",3),D(13,"ev-forms-field-error",9),g()(),J(14,kbe,2,1,"ng-container"),g()()),t&2){let e=i.$implicit,n=y();d(2),$(e.config.label?2:-1),d(3),$(e.config.type===n.FormFieldType.Radio?5:-1),d(),$(e.config.type===n.FormFieldType.Text||e.config.type===n.FormFieldType.PostalCode?6:-1),d(),$(e.config.type===n.FormFieldType.Email?7:-1),d(),$(e.config.type===n.FormFieldType.Tel?8:-1),d(),$(e.config.type===n.FormFieldType.Select?9:-1),d(),$(e.config.type===n.FormFieldType.Date&&n.hasDateConfig()?10:-1),d(3),C("field",e),d(),$(e.notice.hasNotices()?14:-1)}}function Dbe(t,i){if(t&1&&(h(0,"div",7),D(1,"span"),g()),t&2){let e=y().$implicit;d(),GD("icon icon-",e.icon," highlight-",e.type," font-size-xxxl padding-left-gutter")}}function Obe(t,i){if(t&1&&(h(0,"div",1)(1,"div",2)(2,"div",3),J(3,Dbe,2,4,"div",4),h(4,"div",5),D(5,"span",6),H(6,"translate"),g()()()()),t&2){let e=i.$implicit,n=y();d(2),xo("alert alert-with-stripe alert-",e.type," alert-text theme-element-radius"),d(),C("ngIf",e.icon),d(2),C("evCoreHtml",j(6,6,e.message)),Le("data-qa",n.field.name+"-"+e.name+"-notification")}}function Nbe(t,i){if(t&1&&(h(0,"label",12),R(1),H(2,"translate"),h(3,"span",13),R(4),H(5,"translate"),g()()),t&2){let e=y().$implicit,n=y();Le("for",e.id),d(),ne(" ",j(2,4,e.config.label)," "),d(2),C("hidden",e.mandatory),d(),ne(" (",j(5,6,n.Message.GLOBAL_OPTIONAL),")")}}function Rbe(t,i){if(t&1&&D(0,"ev-forms-radioboxes",14),t&2){let e=y().$implicit;C("field",e)("formControlName",e.name)("radioboxValues",e.config.radioBoxes)}}function Mbe(t,i){if(t&1&&(Mo(0),D(1,"input",15),Fo()),t&2){let e=y().$implicit;d(),Xt("name",e.name),C("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(7,ih,!e.mandatory)),Le("id",e.id)("data-qa","input-"+e.name)("maxlength",e.config.maxlength)}}function Fbe(t,i){if(t&1&&D(0,"input",16),t&2){let e=y().$implicit;Xt("name",e.name),C("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(6,ih,!e.mandatory)),Le("id",e.id)("data-qa","input-"+e.name)}}function Lbe(t,i){if(t&1&&D(0,"input",17),t&2){let e=y().$implicit;Xt("name",e.name),C("formControlName",e.name)("evFormsDisable",!e.active||e.locked)("ngClass",et(6,ih,!e.mandatory)),Le("id",e.id)("data-qa","input-"+e.name)}}function Bbe(t,i){if(t&1&&D(0,"ev-forms-select-field",18),t&2){let e=y().$implicit;C("field",e)("groups",e.config.selectGroups)}}function Ube(t,i){if(t&1&&D(0,"ev-forms-date-field",19),t&2){let e=y().$implicit,n=y();C("field",e)("dateFormat",n.dateFormat)("formControlName",e.name),Le("data-qa","input-"+e.name)}}function $be(t,i){if(t&1&&(h(0,"div",20),D(1,"ev-forms-notification",10),g()),t&2){let e=y().$implicit;d(),C("field",e)}}function Hbe(t,i){if(t&1&&(h(0,"section")(1,"ev-forms-field"),J(2,Nbe,6,8,"label",2)(3,Rbe,1,3,"ev-forms-radioboxes",3)(4,Mbe,2,9,"ng-container",4)(5,Fbe,1,8,"input",5)(6,Lbe,1,8,"input",6)(7,Bbe,1,2,"ev-forms-select-field",7)(8,Ube,1,4,"ev-forms-date-field",8),h(9,"div",9),D(10,"ev-forms-field-error",10),g(),J(11,$be,2,1,"div",11),g()()),t&2){let e=i.$implicit,n=y();d(2),C("ngIf",e.config.label),d(),C("ngIf",e.config.type===n.FormFieldType.Radio),d(),C("ngIf",e.config.type===n.FormFieldType.Text||e.config.type===n.FormFieldType.PostalCode),d(),C("ngIf",e.config.type===n.FormFieldType.Email),d(),C("ngIf",e.config.type===n.FormFieldType.Tel),d(),C("ngIf",e.config.type===n.FormFieldType.Select),d(),C("ngIf",n.dateFormat&&e.config.type===n.FormFieldType.Date),d(2),C("field",e),d(),C("ngIf",e.notice.hasNotices())}}var Vbe=t=>({"is-waiting":t}),jbe=t=>({hidden:t}),Gbe=t=>({active:t});function Kbe(t,i){if(t&1){let e=Je();h(0,"li",7),Ee("mousedown",function(r){Ne(e);let o=y();return Re(o.onMouseDown(r))}),R(1),H(2,"translate"),g()}if(t&2){let e=y();d(),ne(" ",j(2,1,e.Message.MY_CUSTOMER_DATA_NEWSLETTER_COCKPIT_TICKET_ALERT_NO_RESULTS)," ")}}function qbe(t,i){if(t&1){let e=Je();h(0,"li",8),Ee("mousedown",function(r){Ne(e);let o=y();return Re(o.onMouseDown(r))}),D(1,"div",9),g()}}function Wbe(t,i){if(t&1){let e=Je();h(0,"li",11),Ee("click",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.setSelectedElement(r))})("keyup.enter",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.setSelectedElement(r))})("mousedown",function(r){Ne(e);let o=y(2);return Re(o.onMouseDown(r))}),R(1),g()}if(t&2){let e=i.$implicit,n=i.index,r=y(2);C("ngClass",et(4,Gbe,n===r.currentlySelectedIndex))("id",e.id),Le("aria-selected",n===r.currentlySelectedIndex),d(),ne(" ",e.value," ")}}function zbe(t,i){if(t&1&&(Mo(0),J(1,Wbe,2,6,"li",10),Fo()),t&2){let e=y();d(),C("ngForOf",e.suggestions)}}var Ybe=t=>({"label-highlighted":t});function Jbe(t,i){if(t&1&&(D(0,"span",6),H(1,"translate")),t&2){let e=y();C("evCoreHtml",j(1,1,e.label))}}function Xbe(t,i){t&1&&Or(0)}function Qbe(t,i){if(t&1){let e=Je();h(0,"div",4)(1,"label",5),R(2),H(3,"translate"),g(),h(4,"ev-forms-select-field",6),Ee("onSelectionChange",function(r){Ne(e);let o=y(3);return Re(o.onSelectionChange(r))})("blur",function(){Ne(e);let r=y(3);return Re(r.onInputBlur())}),g()()}if(t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);Tr("no-padding-left",r===1),d(),Xt("for",o.controls.get(n).id),d(),ne(" ",j(3,10,o.Message.GLOBAL_SCREENREADER_LABEL_MOBILE_COUNTRYCODE)," "),d(2),Tr("invalid-only",!o.isValid()),C("field",o.controls.get(n))("groups",o.controls.get(n).config.selectGroups)("tabIndexToUse",o.tabIndexToUse()),Le("data-qa","select-country code")}}function Zbe(t,i){if(t&1){let e=Je();h(0,"div",7)(1,"label",8),R(2),H(3,"translate"),g(),h(4,"input",9),Ee("focusin",function(){Ne(e);let r=y(3);return Re(r.inFocus())})("blur",function(){Ne(e);let r=y(3);return Re(r.onInputBlur())}),g()()}if(t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);Tr("no-padding-left",r===1),d(2),ne(" ",j(3,19,o.Message.GLOBAL_SCREENREADER_LABEL_MOBILE_NUMBER)," "),d(2),Tr("invalid",!o.isValid()&&o.isTouched()&&o.field().mandatory)("invalid-only",!o.isValid())("valid",o.isValid()&&o.isTouched()&&o.field().mandatory)("optional",!o.field().mandatory)("disabled",o.disabled()),Xt("name",n),C("formControl",o.controls.get(n).control)("evFormsInputFormatter",o.phoneNumberFormatter)("tabIndex",o.tabIndexToUse())("evFormsAccessibilityFormFieldTags",o.field()),Le("autocomplete",o.Autocomplete.TEL_NATIONAL)}}function eIe(t,i){if(t&1&&J(0,Qbe,5,12,"div",2)(1,Zbe,5,21,"div",3),t&2){let e=i.$implicit,n=y(2);$(e===n.PhoneNumberFieldType.COUNTRYCODE&&n.controls.get(e)?0:e===n.PhoneNumberFieldType.LOCALNUMBER&&n.controls.get(e)?1:-1)}}function tIe(t,i){if(t&1&&(h(0,"div",1),ft(1,eIe,2,1,null,null,ri),g()),t&2){let e=y();Tr("invalid",!e.isValid()&&e.isTouched()&&e.field().mandatory)("valid",e.isValid()&&e.isTouched()&&e.field().mandatory)("optional",!e.field().mandatory)("disabled",e.disabled()),d(),ht(e.configuration())}}var nIe=t=>({"invalid-only":t}),iIe=(t,i)=>({positive:t,negative:i});function rIe(t,i){if(t&1&&(h(0,"span",4),R(1),h(2,"span"),R(3),H(4,"translate"),g()()),t&2){let e=y();C("ngClass",Un(5,iIe,e.fulfillsMaxCharConstraint(),!e.fulfillsMaxCharConstraint())),d(),ne(" ",e.remainingCharacters," "),d(2),Ae(j(4,3,e.Message.CHECKOUT_APP_COUNTER_TEXT_CHARACTERS))}}function oIe(t,i){if(t&1&&(h(0,"div",5),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.description)," ")}}var aIe=["modalContent"],sIe=["modalOverlay"],lIe=t=>({"allow-close":t}),cIe=(t,i,e)=>({"simple-modal-content-close-btn":t,"simple-modal-content-small":i,"simple-modal-content-medium":e}),dIe=t=>({disabled:t}),uIe=(t,i)=>({"modal-close":t,"modal-print-btn":i}),see=t=>({"col-sm-6":t}),pIe=t=>({"first-button":t});function mIe(t,i){if(t&1&&(h(0,"span",15),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.configuration.closeButtonTitle)," ")}}function fIe(t,i){if(t&1){let e=Je();h(0,"button",14),H(1,"translate"),Ee("click",function(){Ne(e);let r=y(2);return Re(r.dismissModal(!0))}),J(2,mIe,3,3,"span",15),D(3,"i",16),g()}if(t&2){let e=y(2);C("ngClass",et(5,dIe,e.closeButtonDisabled)),Le("aria-label",j(1,3,e.Message.GLOBAL_BUTTON_CLOSE)),d(2),$(e.configuration.hasCloseButtonTitle()&&!e.isSportsShop?2:-1)}}function hIe(t,i){if(t&1&&D(0,"ev-forms-formatter",18),t&2){let e=y(3);C("content",e.getFormattedTitle())}}function gIe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y(3);ne(" ",j(1,1,e.getPlainTitle())," ")}}function vIe(t,i){if(t&1&&(h(0,"h2",17),J(1,hIe,1,1,"ev-forms-formatter",18)(2,gIe,2,3),g(),D(3,"hr",19)),t&2){let e=y(2);d(),$(e.isFormattedTextHeadline()?1:2)}}function _Ie(t,i){if(t&1){let e=Je();h(0,"button",20),Ee("click",function(){Ne(e);let r=y(2);return Re(r.openPrintDialog())}),D(1,"i",21),h(2,"span",22),R(3),H(4,"translate"),g()()}if(t&2){let e=y(2);C("ngClass",Un(4,uIe,!e.isSportsShop,e.isSportsShop)),d(3),ne(" ",j(4,2,e.Message.CHECKOUT_APP_PRINT)," ")}}function CIe(t,i){if(t&1&&(h(0,"div",10),D(1,"ev-pl-spinner",23),g()),t&2){let e=y(2);d(),C("visible",!0)("message",e.Message.CHECKOUT_APP_SPINNER_LOAD_MESSAGE_MODAL_CONTENT)("transparency",!1)}}function yIe(t,i){if(t&1){let e=Je();h(0,"div",26)(1,"button",27),Ee("click",function(){Ne(e);let r=y(3);return Re(r.onClickSecondaryButton())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(3);C("ngClass",et(4,see,e.configuration.hasPrimaryButton())),d(2),ne(" ",j(3,2,e.configuration.secondaryButtonTitle)," ")}}function EIe(t,i){if(t&1){let e=Je();h(0,"div",26)(1,"button",28),Ee("click",function(){Ne(e);let r=y(3);return Re(r.onClickPrimaryButton())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(3);C("ngClass",et(5,see,e.configuration.hasSecondaryButton())),d(),C("ngClass",et(7,pIe,e.configuration.hasSecondaryButton())),d(),ne(" ",j(3,3,e.configuration.primaryButtonTitle)," ")}}function TIe(t,i){if(t&1&&(h(0,"div",13),D(1,"hr",24),h(2,"div",25),J(3,yIe,4,6,"div",26)(4,EIe,4,9,"div",26),g()()),t&2){let e=y(2);d(3),$(e.configuration.hasSecondaryButton()?3:-1),d(),$(e.configuration.hasPrimaryButton()?4:-1)}}function bIe(t,i){if(t&1){let e=Je();h(0,"div",3)(1,"div",4,0),Ee("click",function(){Ne(e);let r=y();return Re(r.dismissModal())}),g(),h(3,"div",5,1),J(5,fIe,4,7,"button",6),h(6,"div",7)(7,"div",8),J(8,vIe,4,1)(9,_Ie,5,7,"button",9)(10,CIe,2,3,"div",10),h(11,"div",11),Ee("click",function(r){Ne(e);let o=y();return Re(o.modalElementClickProxy(r))}),D(12,"ev-pl-container",12),J(13,TIe,5,2,"div",13),g()()()()()}if(t&2){let e=y();Io("padding-top",e.getTopPadding()),Le("id",e.id),d(),C("ngClass",et(11,lIe,e.configuration.closeButton)),d(2),C("ngClass",Ms(13,cIe,e.configuration.closeButton,e.configuration.width===e.ModalWidthEnum.SMALL,e.configuration.width===e.ModalWidthEnum.MEDIUM)),d(2),$(e.configuration.closeButton?5:-1),d(3),$(e.configuration.hasTitle()?8:-1),d(),$(e.configuration.printButton?9:-1),d(),$(e.showSpinner?10:-1),d(2),C("componentConfiguration",e.configuration.componentConfig),d(),$(e.configuration.hasPrimaryButton()||e.configuration.hasSecondaryButton()?13:-1)}}var IIe=t=>({"padding-right-s":t});function SIe(t,i){if(t&1){let e=Je();h(0,"a",1),Ee("click",function(){let r=Ne(e).$implicit;return Re(r.showFields())})("keydown.enter",function(){let r=Ne(e).$implicit;return Re(r.showFields())})("keydown.space",function(){let r=Ne(e).$implicit;return Re(r.showFields())}),R(1),H(2,"translate"),g()}if(t&2){let e=i.$implicit,n=i.last;C("hidden",!e.isVisible())("ngClass",et(5,IIe,!n)),d(),ne(" ",j(2,3,e.name),`
`)}}var xIe=()=>["customerCityOfBirth"],AIe=t=>[t];function PIe(t,i){if(t&1&&D(0,"div",8),t&2){let e=y().$implicit,n=y();C("evCoreHtml",n.parseMarkdown(e[0].config.description)),Le("data-qa",e[0].name+"_desc")}}function kIe(t,i){if(t&1&&(h(0,"div",10)(1,"ev-forms-field-label",25),D(2,"span",8),H(3,"evReplaceMessagePlaceholder"),g()()),t&2){let e=y().$implicit,n=y().$implicit,r=y();d(),C("isOptional",r.hasOnlyOptionalFields(n))("id",e.config.id),d(),C("evCoreHtml",Qr(3,3,r.getTranslatedLabelForField(e),r.getLabelReplacePattern(e)))}}function wIe(t,i){t&1&&(h(0,"div",11),R(1,"\xA0"),g())}function DIe(t,i){if(t&1&&(D(0,"img",26),H(1,"translate")),t&2){let e=y().$implicit;C("ngSrc",e.config.img)("width","auto")("height","auto"),Le("alt",j(1,4,e.config.label))}}function OIe(t,i){if(t&1&&D(0,"ev-forms-radioboxes",27),t&2){let e=y().$implicit;C("field",e)("formControlName",e.name)("radioboxValues",e.config.radioBoxes)}}function NIe(t,i){if(t&1&&D(0,"ev-forms-city-of-birth",29),t&2){let e=y(2).$implicit;C("formField",e)("evFormsAccessibilityFormFieldTags",e)}}function RIe(t,i){if(t&1&&D(0,"input",30),t&2){let e=y(2).$implicit,n=y(2);C("formControlName",e.name)("evFormsDisable",!e.active||e.locked||e.config.disabled)("ngClass",et(9,ih,!e.mandatory))("tabIndex",n.getTabIndex(e))("evFormsAccessibilityFormFieldTags",e),Le("name",e.name)("id",e.id)("data-qa",n.getFieldDataQa(e))("autocomplete",n.getAutocompleteKey(e))}}function MIe(t,i){if(t&1&&(Mo(0),J(1,NIe,1,2,"ev-forms-city-of-birth",28)(2,RIe,1,11,"ng-template",null,0,vi),Fo()),t&2){let e=Fn(3),n=y().$implicit,r=y(2);d(),C("ngIf",n.containsName(et(2,AIe,r.ShocuFieldName.CustomerCityOfBirth)))("ngIfElse",e)}}function FIe(t,i){if(t&1&&D(0,"input",31),t&2){let e=y().$implicit,n=y(2);C("formControlName",e.name)("evFormsDisable",!e.active||e.locked||e.config.disabled)("ngClass",et(9,ih,!e.mandatory))("tabIndex",n.getTabIndex(e))("evFormsAccessibilityFormFieldTags",e),Le("name",e.name)("id",e.id)("data-qa",n.getFieldDataQa(e))("autocomplete",n.getAutocompleteKey(e))}}function LIe(t,i){if(t&1&&D(0,"input",32),t&2){let e=y().$implicit,n=y(2);C("formControlName",e.name)("ngClass",et(8,ih,!e.mandatory))("tabIndex",n.getTabIndex(e))("evFormsAccessibilityFormFieldTags",e),Le("name",e.name)("id",e.id)("data-qa",n.getFieldDataQa(e))("autocomplete",n.getAutocompleteKey(e))}}function BIe(t,i){if(t&1&&D(0,"ev-forms-phone-number",33),t&2){let e=y().$implicit,n=y(2);C("field",e)("groups",e.config.selectGroups)("formControlName",e.name)("selectedCountry",n.selectedCountry()),Le("data-qa",n.getFieldDataQa(e))}}function UIe(t,i){if(t&1&&D(0,"ev-forms-select-field",34),t&2){let e=y().$implicit,n=y(2);C("field",e)("groups",e.config.selectGroups)("tabIndexToUse",n.getTabIndex(e)),Le("data-qa",n.getFieldDataQa(e))}}function $Ie(t,i){if(t&1&&D(0,"ev-forms-multi-select-field",35),t&2){let e=y().$implicit,n=y(2);C("field",e)("groups",e.config.selectGroups)("tabIndexToUse",n.getTabIndex(e))("dataQaTitle",n.getFieldDataQa(e))}}function HIe(t,i){if(t&1&&D(0,"ev-forms-date-field",36),t&2){let e=y().$implicit,n=y(2);C("field",e)("dateFormat",n.affiliateJson.dateFormat)("formControlName",e.name)("tabIndexToUse",n.getTabIndex(e)),Le("data-qa",n.getFieldDataQa(e))}}function VIe(t,i){if(t&1&&(h(0,"div",37),R(1),H(2,"translate"),g()),t&2){let e=y().$implicit;Le("data-qa",e.name+"_desc"),d(),ne(" ",j(2,2,e.config.description)," ")}}function jIe(t,i){if(t&1&&(h(0,"div")(1,"ev-forms-field",9),J(2,kIe,4,6,"div",10)(3,wIe,2,0,"div",11)(4,DIe,2,6,"img",12)(5,OIe,1,3,"ev-forms-radioboxes",13)(6,MIe,4,4,"ng-container",3)(7,FIe,1,11,"input",14)(8,LIe,1,10,"input",15)(9,BIe,1,5,"ev-forms-phone-number",16)(10,UIe,1,4,"ev-forms-select-field",17)(11,$Ie,1,4,"ev-forms-multi-select-field",18)(12,HIe,1,5,"ev-forms-date-field",19),h(13,"div",20),D(14,"ev-forms-field-error",21),g(),J(15,VIe,3,4,"div",22),h(16,"div",23),D(17,"ev-forms-notification",24),g()()()),t&2){let e=i.$implicit,n=i.first,r=y().$implicit,o=y();Tr("no-padding-left",!n),Le("class","col-xs-12 col-sm-"+e.config.width),d(),C("evFormsShocuOptionalPlaceholder",r)("addressFieldMode",o.addressFieldMode),d(),$(o.getTranslatedLabelForField(e)!==o.PLACEHOLDER_STRING_FOR_LABEL?2:3),d(2),C("ngIf",e.config.img),d(),C("ngIf",e.config.type===o.FormFieldType.Radio),d(),C("ngIf",e.config.type===o.FormFieldType.Text||e.config.type===o.FormFieldType.PostalCode),d(),C("ngIf",e.config.type===o.FormFieldType.Email),d(),C("ngIf",e.config.type===o.FormFieldType.Tel&&!o.isMobilePhoneField(e)),d(),C("ngIf",e.config.type===o.FormFieldType.Tel&&o.isMobilePhoneField(e)),d(),C("ngIf",e.config.type===o.FormFieldType.Select&&o.hasReferenceData()),d(),C("ngIf",e.config.type===o.FormFieldType.MultiSelect&&o.hasReferenceData()),d(),C("ngIf",e.config.type===o.FormFieldType.Date&&o.hasDateConfig()),d(2),C("field",e)("preventMultipleError",e.containsName(ol(19,xIe))),d(),C("ngIf",e.config.description&&!e.config.displayMode),d(2),C("field",e)}}function GIe(t,i){if(t&1&&(h(0,"section",4),J(1,PIe,1,2,"div",5),h(2,"div",6),J(3,jIe,18,20,"div",7),g()()),t&2){let e=i.$implicit,n=y();C("hidden",!n.showOptionalFields()&&n.hasOnlyOptionalFields(e)||e[0].config.hidden)("@fadeInOut",n.isFieldFoldout(e[0]))("@toggleInOut",n.isFieldFoldout(e[0])),d(),C("ngIf",e[0].config.description&&e[0].config.displayMode===n.FieldDisplayMode.MARKDOWN_DESCRIPTION_ABOVE),d(2),C("ngForOf",e)}}function KIe(t,i){if(t&1&&(h(0,"section"),D(1,"ev-forms-hidden-fields",38),g()),t&2){let e=y();Le("data-qa","foldout-links-"+e.form.name),d(),C("foldoutLinks",e.foldoutLinks)}}var di=function(t){return t.CHECKOUT_APP_CUSTOMER_EMAIL_EXISTS="checkoutApp.customer.email.exists",t.CHECKOUT_APP_CUSTOMER_USERNAME_EXISTS="checkoutApp.customer.username.exists",t.GLOBAL_CUSTOMER_SALUTATION_MR="global.customer.salutation.mr",t.GLOBAL_CUSTOMER_SALUTATION_MRS="global.customer.salutation.mrs",t.GLOBAL_CUSTOMER_SALUTATION_MX="global.customer.salutation.mx",t.GLOBAL_CUSTOMER_CUSTOMERTYPE_INDIVIDUAL="global.customer.customerType.individual",t.GLOBAL_CUSTOMER_CUSTOMERTYPE_BUSINESS="global.customer.customerType.business",t.GLOBAL_CUSTOMER_GENDER_MALE="global.customer.gender.male",t.GLOBAL_CUSTOMER_GENDER_FEMALE="global.customer.gender.female",t.GLOBAL_BUTTON_CLOSE="global.button.close",t.GLOBAL_OPTIONAL="global.optional",t.GLOBAL_PLEASE_CHOOSE="checkoutApp.pleaseChoose",t.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS="checkoutApp.customer.falsyInputs",t.CHECKOUT_APP_SPINNER_LOAD_MESSAGE_MODAL_CONTENT="checkoutApp.spinner.loadMessage.modalContent",t.CHECKOUT_APP_PRINT="checkoutApp.print",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_DAY="checkoutApp.birthday.placeholder.day",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_MONTH="checkoutApp.birthday.placeholder.month",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_YEAR="checkoutApp.birthday.placeholder.year",t.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_NOT_RECOGNIZED_WARNING="checkoutApp.customer.mobileNumber.notRecognizedWarning",t.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_DEVIATING_COUNTRY_WARNING="checkoutApp.customer.mobileNumber.deviatingCountryWarning",t.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_INVALID="checkoutApp.customer.mobileNumber.invalid",t.CHECKOUT_APP_BIRTHDAY_INVALID_FORMAT="checkoutApp.birthday.invalid.format",t.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_PAST="checkoutApp.birthday.invalid.inThePast",t.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_FUTURE="checkoutApp.birthday.invalid.inTheFuture",t.CHECKOUT_APP_BIRTHDAY_INVALID_NOT_EIGHTEEN="checkoutApp.birthday.invalid.notEighteen",t.CHECKOUT_APP_CUSTOMER_POSTCODE_INVALID="checkoutApp.customer.postcode.invalid",t.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_REQUIRED="checkoutApp.customer.authentication.mobileNumber.required",t.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_INVALID="checkoutApp.customer.authentication.mobileNumber.invalid",t.MY_CUSTOMER_DATA_NEWSLETTER_COCKPIT_TICKET_ALERT_NO_RESULTS="myCustomerData.newsletterCockpit.ticketAlert.noResults",t.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY="checkoutApp.customer.input.empty",t.CHECKOUT_APP_CUSTOMER_CPF_EXISTS="checkoutApp.customer.cpf.exists",t.CHECKOUT_APP_CUSTOMER_CPF_INVALID="checkoutApp.customer.cpf.invalid",t.CHECKOUT_APP_CUSTOMER_DELETE="checkoutApp.customer.delete",t.CHECKOUT_APP_CUSTOMER_ADD_ANOTHER="checkoutApp.customer.addAnother",t.CHECKOUT_APP_CUSTOMER_CITY_OF_BIRTH_SUGGEST_INVALID="checkoutApp.customer.cityOfBirth.suggest.invalid",t.GLOBAL_CUSTOMER_FISCALCODE_INVALID="global.customer.fiscalCode.invalid",t.GLOBAL_CUSTOMER_FISCAL_CODE_EXISTS="global.customer.fiscalCode.exists",t.CHECKOUT_APP_CUSTOMER_VAT_INVALID="checkoutApp.customer.VAT.invalid",t.CHECKOUT_APP_CUSTOMER_GENDER_INVALID_FOR_FISCAL_CODE_CHECK="checkoutApp.customer.gender.invalidForFiscalCodeCheck",t.GLOBAL_HINTS_DATA_PROTECTION="global.hints.dataProtection",t.GLOBAL_HINTS_DATA_PROTECTION_LINK_TEXT="global.hints.dataProtection.linkText",t.SC_FOOTER_LINKS_DATA_PROTECTION_CONTENT="sc.footer.links.dataProtection.content",t.CHECKOUT_APP_COUNTER_TEXT_CHARACTERS="checkoutApp.counterText.characters",t.CHECKOUT_APP_ADDITIONAL_INFO="checkoutApp.additionalInfo",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_TITLE="checkoutApp.payment.creditCardTitle",t.GLOBAL_MONTH="global.month",t.GLOBAL_YEAR="global.year",t.GLOBAL_DAY="global.day",t.GLOBAL_SUBMIT="global.submit",t.GLOBAL_CONFIRMATION_FIELD_NOT_EQUAL="global.confirmationField.notEqual",t.GLOBAL_CONFIRMATION_FIELD_LABEL="global.confirmationField.label",t.GLOBAL_SCREENREADER_LABEL_MOBILE_COUNTRYCODE="global.customer.label.mobile.countrycode",t.GLOBAL_SCREENREADER_LABEL_MOBILE_NUMBER="global.customer.label.mobile.number",t}(di||{}),l1=(()=>{let i=class i{set disable(n){n?this.renderer.setAttribute(this.element.nativeElement,"disabled","disabled"):this.renderer.removeAttribute(this.element.nativeElement,"disabled")}constructor(n,r){this.element=n,this.renderer=r}};i.\u0275fac=function(r){return new(r||i)(Et(ii),Et(Er))},i.\u0275dir=kt({type:i,selectors:[["","evFormsDisable",""]],inputs:{disable:[0,"evFormsDisable","disable"]},standalone:!1});let t=i;return t})();var Mt=function(t){return t.Select="select",t.MultiSelect="multiSelect",t.Radio="radio",t.Checkbox="checkbox",t.Text="text",t.PostalCode="postalcode",t.Email="email",t.Tel="tel",t.Date="date",t.Password="password",t.Textarea="textarea",t}(Mt||{}),Ai=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field"]],standalone:!1,ngContentSelectors:BTe,decls:8,vars:0,consts:[[1,"forms-field"],[1,"form-group"]],template:function(r,o){r&1&&(lo(LTe),h(0,"div",0),Or(1),Or(2,1),h(3,"div",1),Or(4,2),g(),Or(5,3),Or(6,4),Or(7,5),g())},encapsulation:2});let t=i;return t})(),po=class{constructor(...i){this.fragments=new Array,this.fragments.push(...i)}append(i){return this.fragments.push(i),this}getFragments(){return this.fragments}},Gi=(()=>{let i=class i{constructor(){this.showSpinner=new Jt,this.closeModal=new Jt,this.setTitle=new Jt}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=kt({type:i,outputs:{showSpinner:"showSpinner",closeModal:"closeModal",setTitle:"setTitle"}});let t=i;return t})(),oee=(()=>{let i=class i extends Gi{ngOnInit(){this.showSpinner.emit(!0),this.html instanceof Promise?this.html.then(n=>{this.setContentAndRemoveSpinner(n)}):this.html instanceof Ki&&this.html.subscribe(n=>{this.setContentAndRemoveSpinner(n)})}setContentAndRemoveSpinner(n){this.content=n,this.showSpinner.emit(!1)}};i.INPUT_HTML="html",i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275cmp=ae({type:i,selectors:[["ev-forms-async-html-content"]],inputs:{html:"html"},standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","content",3,"evCoreHtml"]],template:function(r,o){r&1&&D(0,"div",0),r&2&&C("evCoreHtml",o.content)},dependencies:[xt],encapsulation:2});let t=i;return t})(),aee=(()=>{let i=class i extends Gi{};i.INPUT_HTML="html",i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275cmp=ae({type:i,selectors:[["ev-forms-html-content"]],inputs:{html:"html"},standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","content",3,"evCoreHtml"]],template:function(r,o){r&1&&D(0,"div",0),r&2&&C("evCoreHtml",o.html)},dependencies:[xt],encapsulation:2});let t=i;return t})(),qIe=(()=>{let i=class i extends Gi{};i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275cmp=ae({type:i,selectors:[["ev-forms-text-message-content"]],inputs:{content:"content"},standalone:!1,features:[dt],decls:2,vars:3,consts:[["data-qa","content",3,"evCoreHtml"]],template:function(r,o){r&1&&(D(0,"p",0),H(1,"translate")),r&2&&C("evCoreHtml",j(1,1,o.content))},dependencies:[xt,Se],encapsulation:2});let t=i;return t})(),co=class{static buildAsyncHtml(i){return{component:oee,inputs:[{inputName:oee.INPUT_HTML,value:i}]}}static buildTextMessage(i){return{component:qIe,inputs:[{inputName:"content",value:i}]}}static buildHtml(i){return{component:aee,inputs:[{inputName:aee.INPUT_HTML,value:i}]}}constructor(){}},kn=(()=>{let i=class i{constructor(){this.showModalSubject=new qn,this.hideModalSubject=new qn,this.setCloseButtonSubject=new qn}showModal(n){this.showModalSubject.next(n)}hideModal(n=i.DEFAULT_ID){this.hideModalSubject.next(n)}setCloseButtonDisabled(n=i.DEFAULT_ID,r=!1){this.setCloseButtonSubject.next({id:n,status:r})}onHideModal(n=i.DEFAULT_ID){return this.hideModalSubject.asObservable().pipe(Yt(r=>n===r))}onShowModal(n=i.DEFAULT_ID){return this.showModalSubject.asObservable().pipe(Yt(r=>!ce.isEmpty(r)&&r.id===n||r===null&&n===i.DEFAULT_ID))}onSetCloseButtonDisabled(n=i.DEFAULT_ID){return this.setCloseButtonSubject.asObservable().pipe(Yt(r=>n===r.id))}};i.DEFAULT_ID="ev-modal-window",i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),er=function(t){return t[t.SMALL=0]="SMALL",t[t.MEDIUM=1]="MEDIUM",t[t.LARGE=2]="LARGE",t}(er||{}),Dn=class{get componentConfig(){return this._componentConfiguration}get id(){return this._id}get dismissable(){return this._dismissable}get title(){return this._title}get centeredModal(){return this._centeredContent}get closeButton(){return this._closeButton!==null}get printButton(){return this._printButton}get closeButtonTitle(){return this._closeButton.title}get closeButtonCallback(){return this._closeButton.callback}get backgroundOpacity(){return this._backgroundOpacity}get primaryButtonCallback(){return this._primaryButton.callback}shouldCloseModalAfterPrimaryButtonClick(){return this._primaryButton.shouldCloseModalAfterPrimaryButtonClick}get primaryButtonTrackingCallback(){return this._primaryButton.trackingCallback}get secondaryButtonCallback(){return this._secondaryButton.callback}shouldCloseModalAfterSecondaryButtonClick(){return this._secondaryButton.shouldCloseModalAfterSecondaryButtonClick}get secondaryButtonTrackingCallback(){return this._secondaryButton.trackingCallback}get primaryButtonTitle(){return this._primaryButton.title}get secondaryButtonTitle(){return this._secondaryButton.title}get viewTrackingCallback(){return this._viewTrackingCallback}get historyBack(){return this._historyBack}get scrollToTop(){return this._scrollToTop}get width(){return this._width}constructor(i){this.elementListenerClass="",this.elementListenerCallback=null,this._id=kn.DEFAULT_ID,this._historyBack=!0,this._title=null,this._dismissable=!1,this._closeButton=null,this._printButton=!1,this._centeredContent=!1,this._primaryButton=null,this._secondaryButton=null,this._scrollToTop=!1,this._backgroundOpacity=null,this._width=er.SMALL,this._componentConfiguration=i}hasTitle(){return this._title!==null}hasCloseButtonTitle(){return this.closeButton&&typeof this._closeButton.title=="string"}hasCloseButtonCallback(){return this.closeButton&&typeof this._closeButton.callback=="function"}hasPrimaryButton(){return this._primaryButton!==null}hasSecondaryButton(){return this._secondaryButton!==null}hasBackgroundOpacity(){return this._backgroundOpacity!==null}forModalWithId(i){return this._id=i,this}enableTitle(i){return this._title=i,this}enableDismissable(){return this._dismissable=!0,this}enablePrintButton(){return this._printButton=!0,this}enableCenteredContent(){return this._centeredContent=!0,this}enableCloseButton(i,e){return this._closeButton={},typeof e=="function"&&(this._closeButton.callback=e),typeof i=="string"&&(this._closeButton.title=i),this}setWidth(i){return this._width=i,this}enablePrimaryButton(i,e,n,r=!0){return this._primaryButton={title:i,callback:e,trackingCallback:n,shouldCloseModalAfterPrimaryButtonClick:r},this}enableSecondaryButton(i,e,n,r=!0){return this._secondaryButton={title:i,callback:e,trackingCallback:n,shouldCloseModalAfterSecondaryButtonClick:r},this}disableHistoryBackHandling(){return this._historyBack=!1,this._scrollToTop=!0,this}enableViewTracking(i){return this._viewTrackingCallback=i,this}setElementListener(i,e){return this.elementListenerClass=i,this.elementListenerCallback=e,this}enableForceScrollToTop(){return this._scrollToTop=!0,this}disableForceScrollToTop(){return this._scrollToTop=!1,this}setBackgroundOpacity(i){return this._backgroundOpacity=i,this}resetBackgroundOpacity(){return this._backgroundOpacity=null,this}},Ru=function(t){return t[t.TEXT=0]="TEXT",t[t.MESSAGE=1]="MESSAGE",t[t.PRICE=2]="PRICE",t[t.HTML=3]="HTML",t[t.LINK=4]="LINK",t[t.MODAL_LINK=5]="MODAL_LINK",t}(Ru||{}),jm=(()=>{var i,e;let n=class n{constructor(){Jr(this,i);Jr(this,e);this.modalTitle=We(),this.modalContent=We(),this.tabIndexToUse=We(0),this.disableHistoryBackHandling=We(!1),Xo(this,i,E(kn)),Xo(this,e,E(Sn))}hasRequiredData(){return(ee.isNotEmpty(this.modalTitle())||this.modalTitle()!==void 0&&this.modalTitle()!==null&&this.modalTitle()instanceof po)&&ee.isNotEmpty(this.modalContent())}showModal(o){if(!this.hasRequiredData())return;Ls.stopBubbling(o);let s=new Dn(co.buildAsyncHtml(an(this.modalContent()))).enableCloseButton(di.GLOBAL_BUTTON_CLOSE).enableDismissable();if(this.disableHistoryBackHandling()&&s.disableHistoryBackHandling(),this.isFormattedCreditCardHeadline(this.modalTitle())){let c=this.buildHeadline();c!==ee.EMPTY_STRING&&s.enableTitle(c)}else s.enableTitle(this.modalTitle());en(this,i).showModal(s)}getInfoLinkAriaLabel(){let o=en(this,e).instant(di.CHECKOUT_APP_ADDITIONAL_INFO);return typeof this.modalTitle()=="string"?this.isMessageKey(this.modalTitle())?o=o+ee.SPACE+en(this,e).instant(this.modalTitle()):o=o+ee.SPACE+this.modalTitle():this.modalTitle().getFragments().forEach(s=>{switch(s.getType()){case Ru.MESSAGE:o=o+ee.SPACE+en(this,e).instant(s.getObject());break;case Ru.TEXT:o=o+ee.SPACE+s.getObject();break;default:}}),o.trim()}isMessageKey(o){return/^(checkoutApp|global)\./.test(o)}isFormattedCreditCardHeadline(o){return o instanceof po&&o.getFragments().some(s=>s.getObject()===di.CHECKOUT_APP_PAYMENT_CREDIT_CARD_TITLE)}buildHeadline(){let o=ee.EMPTY_STRING;return this.modalTitle().getFragments().forEach(s=>{switch(s.getType()){case Ru.TEXT:o=o+s.getObject();break;case Ru.MESSAGE:o=o+en(this,e).instant(s.getObject());break;case Ru.PRICE:o=o+s.getObject();break;default:}}),o}};i=new WeakMap,e=new WeakMap,n.\u0275fac=function(s){return new(s||n)},n.\u0275cmp=ae({type:n,selectors:[["ev-forms-info-link"]],inputs:{modalTitle:[1,"modalTitle"],modalContent:[1,"modalContent"],tabIndexToUse:[1,"tabIndexToUse"],disableHistoryBackHandling:[1,"disableHistoryBackHandling"]},standalone:!1,decls:1,vars:1,consts:[["role","button","class","icon icon-info small-info","data-qa","info-icon",3,"tabIndex","click","keydown.space","keydown.enter",4,"ngIf"],["role","button","data-qa","info-icon",1,"icon","icon-info","small-info",3,"click","keydown.space","keydown.enter","tabIndex"]],template:function(s,c){s&1&&J(0,UTe,1,2,"i",0),s&2&&C("ngIf",c.hasRequiredData())},dependencies:[ms],encapsulation:2});let t=n;return t})(),id=(()=>{let i=class i{constructor(){this.Message=di,this.isOptional=We(!1),this.hideOptionalLabel=LW(!1),this.infoLinkConfig=We(null),this.isTextAreaLabel=We(!1),this.id=We(ee.EMPTY_STRING),this.tabIndexToUse=We(0)}hasInfoLinkConfiguration(){return this.infoLinkConfig()!==null}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field-label"]],inputs:{isOptional:[1,"isOptional"],hideOptionalLabel:[1,"hideOptionalLabel"],infoLinkConfig:[1,"infoLinkConfig"],isTextAreaLabel:[1,"isTextAreaLabel"],id:[1,"id"],tabIndexToUse:[1,"tabIndexToUse"]},outputs:{hideOptionalLabel:"hideOptionalLabelChange"},standalone:!1,ngContentSelectors:sA,decls:8,vars:9,consts:[[3,"ngClass"],["data-qa","label",1,"theme-text-variant-color","label",3,"htmlFor"],[3,"hidden"],[3,"modalContent","modalTitle","tabIndexToUse"]],template:function(r,o){r&1&&(lo(),h(0,"div",0)(1,"div")(2,"label",1),Or(3),h(4,"span",2),R(5),H(6,"translate"),g()(),J(7,HTe,1,3,"ev-forms-info-link",3),g()()),r&2&&(C("ngClass",et(7,$Te,o.isTextAreaLabel())),d(2),C("htmlFor",o.id()),d(2),C("hidden",o.hideOptionalLabel()||!o.isOptional()),d(),ne(" (",j(6,5,o.Message.GLOBAL_OPTIONAL),")"),d(2),$(o.hasInfoLinkConfiguration()?7:-1))},dependencies:[At,jm,Se],encapsulation:2,changeDetection:0});let t=i;return t})(),mr=(()=>{let i=class i{constructor(){this.preventMultipleError=!1,this.errors=[]}set field(n){this._field=n,n!==void 0&&(this._validationErrorListener=this.onValidationError())}get field(){return this._field}ngOnDestroy(){this._validationErrorListener.unsubscribe()}onValidationError(){return this.field.onError().subscribe(n=>{this.errors=Array.from(n.values()).sort((r,o)=>r.priority>o.priority?-1:r.priority<o.priority?1:0)})}showErrors(){return this.field!==void 0&&this.field.control.touched&&Dt.isNotEmpty(this.errors)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field-error"]],inputs:{preventMultipleError:"preventMultipleError",field:"field"},standalone:!1,decls:2,vars:1,consts:[["listOfErrors",""],["aria-live","assertive"],["class","no-padding-left","data-qa","form-error",4,"ngIf"],["data-qa","form-error",1,"no-padding-left"],["class","error",4,"ngIf","ngIfElse"],[1,"error"],["role","alert","data-qa","error",3,"evCoreHtml"],["class","error",4,"ngFor","ngForOf"]],template:function(r,o){r&1&&(h(0,"div",1),J(1,KTe,4,2,"ul",2),g()),r&2&&(d(),C("ngIf",o.showErrors()))},dependencies:[Ud,ms,xt,Se,hv],encapsulation:2});let t=i;return t})(),WIe=(()=>{let i=class i{constructor(){this.notifications=[]}ngOnInit(){this.field.notice.onUpdate().subscribe(n=>{this.notifications=n})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field-notification"]],inputs:{field:"field"},standalone:!1,decls:1,vars:1,consts:[["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-xs-12","col-sm-offset-4","col-sm-8","padding-top-gutter"],[3,"type",4,"ngIf"],["data-qa","information-box",3,"class",4,"ngIf"],[3,"type"],[3,"evCoreHtml"],["data-qa","information-box"],[1,"alert-stripe"],[1,"alert-text"]],template:function(r,o){r&1&&J(0,zTe,4,2,"div",0),r&2&&C("ngForOf",o.notifications)},dependencies:[Ud,ms,SZ,xt,Se],encapsulation:2});let t=i;return t})(),Mu=function(t){return t[t.PRIMARY=0]="PRIMARY",t[t.SECONDARY=1]="SECONDARY",t}(Mu||{}),lee=(()=>{let i=class i{constructor(n){this.ELEMENT_INACTIVE="inactive-tabbing",this.LAST_FOCUS="last-focus",this.tabbingIsInactive=!1,this.document=n}activateTabbingInComponent(n){let r=this.document.getElementById(n);this.getTabbableElements(r).forEach((o,s)=>{o.tabIndex=0,s===0&&o.focus()})}deactivateBackgroundTabbing(){this.getTabbableElements().forEach(n=>{n!==null&&(n.tabIndex===-1?n.classList.add(this.ELEMENT_INACTIVE):n.tabIndex=-1)}),this.tabbingIsInactive=!0}activateBackgroundTabbing(){this.getTabbableElements().forEach(n=>{n!==null&&(n.classList.contains(this.ELEMENT_INACTIVE)?n.classList.remove(this.ELEMENT_INACTIVE):n.tabIndex=0)}),this.tabbingIsInactive=!1}setFocus(){let n=this.document.querySelector(`.${this.LAST_FOCUS}`);n!==null&&(n.classList.remove(this.LAST_FOCUS),n.focus())}markLastFocusedElement(){this.document.activeElement.classList.add(this.LAST_FOCUS)}isTabbingInactive(){return this.tabbingIsInactive}getTabbableElements(n=this.document){let r=[];return n.querySelectorAll("input, button, select, textarea, a, i[tabindex], span[tabindex], li[tabindex]").forEach(o=>{!(o.parentElement instanceof HTMLButtonElement)&&!(o.parentElement instanceof HTMLAnchorElement)&&r.push(o)}),r}};i.\u0275fac=function(r){return new(r||i)(yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),zIe=(()=>{let i=class i{constructor(n,r){this.modalWindowService=n,this.accessibilityService=r,this.ModalLinkType=Mu}onClick(n){this.modalWindowService.showModal(this.modalLinkConfiguration.modalWindowConfiguration),Ls.stopBubbling(n)}getTabIndex(){return this.accessibilityService.isTabbingInactive()?-1:0}};i.\u0275fac=function(r){return new(r||i)(Et(kn),Et(lee))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-modal-link"]],inputs:{modalLinkConfiguration:"modalLinkConfiguration"},standalone:!1,decls:2,vars:7,consts:[["data-qa","modal-link",3,"mousedown","keydown.enter","keydown.space","title","ngClass","tabIndex"]],template:function(r,o){r&1&&(h(0,"a",0),Ee("mousedown",function(c){return o.onClick(c)})("keydown.enter",function(c){return o.onClick(c)})("keydown.space",function(c){return o.onClick(c)}),R(1),g()),r&2&&(Xt("title",o.modalLinkConfiguration.name),C("ngClass",Un(4,YTe,o.modalLinkConfiguration.modalLinkType===o.ModalLinkType.PRIMARY,o.modalLinkConfiguration.modalLinkType===o.ModalLinkType.SECONDARY))("tabIndex",o.getTabIndex()),d(),Ae(o.modalLinkConfiguration.name))},dependencies:[At],encapsulation:2});let t=i;return t})(),c1=(()=>{let i=class i{constructor(n){this.affiliateService=n}transform(n,r){return typeof n=="number"?this.affiliateService.observeAffiliate().pipe(cn(o=>this.formatPrice(n,o.priceFormat))):an(void 0)}formatPrice(n,r){let o=new gT;return r.currencySymbolFirst&&o.append(this.getCurrencyPrefix(r)),o.append(this.getFormattedPrice(n,r)),r.currencySymbolFirst||o.append(this.getCurrencyPostfix(r)),o.toString()}getCurrencyPrefix(n){return n.currencySymbol+this.getOptionalDelimiter(n)}getCurrencyPostfix(n){return this.getOptionalDelimiter(n)+n.currencySymbol}getOptionalDelimiter(n){return n.spaceInBetween?ee.SPACE:ee.EMPTY_STRING}getFormattedPrice(n,r){let s=(Math.round(n)/i.PRICE_RESCALE_FACTOR).toString().split(".");return this.getFormattedIntegerPart(s,r)+r.decimalSeparator+this.getFormattedDecimalPart(s)}getFormattedIntegerPart(n,r){return n[0].replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandSeparator)}getFormattedDecimalPart(n){let r=this.getUnformattedDecimalPart(n);if(r.length===i.NUMBER_OF_REQUIRED_DECIMALS)return r;if(r.length>i.NUMBER_OF_REQUIRED_DECIMALS)return r.substring(0,i.NUMBER_OF_REQUIRED_DECIMALS);{let o="0".repeat(i.NUMBER_OF_REQUIRED_DECIMALS-r.length);return r+o}}getUnformattedDecimalPart(n){return n.length>1?n[1]:ee.EMPTY_STRING}};i.PRICE_RESCALE_FACTOR=1e3,i.NUMBER_OF_REQUIRED_DECIMALS=2,i.\u0275fac=function(r){return new(r||i)(Et(Tn,16))},i.\u0275pipe=Sa({name:"evCustomCurrency",type:i,pure:!0,standalone:!1});let t=i;return t})(),Zr=(()=>{let i=class i{constructor(){this.FragmentType=Ru}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-formatter"]],inputs:{content:"content"},standalone:!1,decls:1,vars:1,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],[3,"evCoreHtml",4,"ngSwitchCase"],[4,"ngSwitchCase"],["class","link","data-qa","link",3,"href","target",4,"ngSwitchCase"],[3,"modalLinkConfiguration",4,"ngSwitchCase"],[3,"evCoreHtml"],["data-qa","link",1,"link",3,"href","target"],[3,"modalLinkConfiguration"]],template:function(r,o){r&1&&J(0,ibe,2,1,"span",0),r&2&&C("ngIf",o.content)},dependencies:[Ud,ms,v0,RC,xt,zIe,Su,Se,c1],encapsulation:2});let t=i;return t})(),lA=(()=>{let i=class i{constructor(){this.onSelectionChange=new Jt,this.randomId=ee.getRandomId()}onSelect(n){let r=n.target.value;this.onChange(r),this.onSelectionChange.emit(r)}isDisabled(){return!this.field.active||this.field.locked}isChecked(n){return n===this.value}isString(n){return ee.isNotEmpty(n)}trimValue(n){return ee.isNotEmpty(n)?String(n).trim():n}writeValue(n){this.isString(n)?this.value=this.trimValue(n):this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){}preventArrowSelectionIfDisabled(n){this.isDisabled()&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n.key)&&n.preventDefault()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-radioboxes"]],inputs:{radioboxValues:"radioboxValues",field:"field"},outputs:{onSelectionChange:"onSelectionChange"},standalone:!1,features:[Hl([{provide:Bm,useExisting:i,multi:!0}])],decls:4,vars:3,consts:[[1,"radio-group","radio-group--with-label","form-group"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border",3,"ngClass"],["type","radio",1,"radio-input",3,"change","keydown","name","value","checked","id"],[1,"theme-text-color","label",3,"for"],["data-qa","option-label",3,"evCoreHtml"],[3,"content"]],template:function(r,o){r&1&&(h(0,"div",0),H(1,"translate"),ft(2,sbe,7,23,"div",1,fr),g()),r&2&&(Le("aria-label",j(1,1,o.field.config.label)),d(2),ht(o.radioboxValues))},dependencies:[At,xt,Zr,Se],encapsulation:2});let t=i;return t})(),gr=function(t){return t.OFF="off",t.ON="on",t.EMAIL="email",t.USERNAME="username",t.NEW_PASSWORD="new-password",t.PASSWORD="current-password",t.NAME="name",t.FIRST_NAME="given-name",t.LAST_NAME="family-name",t.ORGANIZATION_TITLE="organization-title",t.ORGANIZATION="organization",t.STREET_ADDRESS="street-address",t.CITY="address-level2",t.ADDRESS_LINE_1="address-line1",t.ADDRESS_LINE_2="address-line2",t.ADDRESS_LINE_3="address-line3",t.COUNTRY="country",t.COUNTRY_NAME="country-name",t.POSTAL_CODE="postal-code",t.BIRTHDAY="bday",t.BIRTHDAY_DAY="bday-day",t.BIRTHDAY_MONTH="bday-month",t.BIRTHDAY_YEAR="bday-year",t.SEX="sex",t.TEL="tel",t.TEL_COUNTRY_CODE="tel-country-code",t.TEL_NATIONAL="tel-national",t.TEL_AREA_CODE="tel-area-code",t.TEL_LOCAL="tel-local",t.TEL_EXTENSION="tel-extension",t.CC_NAME="cc-name",t.CC_NUMBER="cc-number",t.CC_EXP_MONTH="cc-exp-month",t.CC_EXP_YEAR="cc-exp-year",t.CC_TYPE="cc-type",t}(gr||{}),Fr=function(t){return t.ESCAPE="Escape",t.ENTER="Enter",t.SPACE=" ",t.SPACEBAR="Spacebar",t.SHIFT="Shift",t.HOME="Home",t.END="End",t.BACKSPACE="Backspace",t.DELETE="Delete",t.TAB="Tab",t.NUMBER_0="0",t.NUMBER_1="1",t.NUMBER_2="2",t.NUMBER_3="3",t.NUMBER_4="4",t.NUMBER_5="5",t.NUMBER_6="6",t.NUMBER_7="7",t.NUMBER_8="8",t.NUMBER_9="9",t.ARROW_LEFT="ArrowLeft",t.ARROW_UP="ArrowUp",t.ARROW_RIGHT="ArrowRight",t.ARROW_DOWN="ArrowDown",t}(Fr||{}),r1=class r1{static isNumeric(i){return!Number.isNaN(Number.parseInt(i,10))}static isAltCtrlShift(i){return i.altKey||i.ctrlKey||i.shiftKey}static isControl(i){return r1.CONTROL_KEYS.has(i)||r1.isArrow(i)}static isArrow(i){return r1.ARROW_KEYS.has(i)}};r1.CONTROL_KEYS=new Set([Fr.BACKSPACE,Fr.ENTER,Fr.END,Fr.HOME,Fr.SHIFT,Fr.DELETE,Fr.TAB]),r1.ARROW_KEYS=new Set([Fr.ARROW_DOWN,Fr.ARROW_LEFT,Fr.ARROW_RIGHT,Fr.ARROW_UP]);var HR=r1,MU=class t{static fromDateFormatJson(i,e,n){ce.isNullable(i)&&(i={fields:[{type:Ho.DAY,amount:2},{type:Ho.MONTH,amount:2},{type:Ho.YEAR,amount:4}],seperator:"."});let r=i.fields.map(s=>s.type);n&&r.reverse();let o=new Map;return i.fields.forEach(s=>o.set(s.type,s.amount)),new t(r,o,i.seperator,e)}constructor(i,e,n,r){this.dateFields=i,this.requiredLengthMap=e,this.seperator=n,this.mandatory=r}getDateFields(){return this.dateFields}getRequiredLength(i){return this.requiredLengthMap.get(i)}getSeparator(){return this.seperator}isOptional(){return!this.mandatory}},eM=(()=>{let i=class i{constructor(n,r){this.el=n,this.renderer=r,this.subscriptions=[]}ngOnInit(){this.renderer.setAttribute(this.el.nativeElement,"aria-required",this.field.mandatory.toString()),this.renderer.setAttribute(this.el.nativeElement,"aria-invalid",this.field.control.valid?"false":"true"),this.renderer.setAttribute(this.el.nativeElement,"aria-disabled",this.field.config.disabled?"true":"false"),this.renderer.setAttribute(this.el.nativeElement,"aria-errormessage",`${this.field.name}_error`),this.subscriptions.push(this.field.control.valueChanges.subscribe(()=>{this.renderer.setAttribute(this.el.nativeElement,"aria-invalid",this.field.control.valid?"false":"true")}))}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}};i.\u0275fac=function(r){return new(r||i)(Et(ii),Et(Er))},i.\u0275dir=kt({type:i,selectors:[["","evFormsAccessibilityFormFieldTags",""]],inputs:{field:[0,"evFormsAccessibilityFormFieldTags","field"]},standalone:!1});let t=i;return t})(),d1=(()=>{let i=class i{set dateFormat(n){this._dateFormat=n,this.configuration=MU.fromDateFormatJson(this._dateFormat,this.field.mandatory,this.webshopCookieService.isRTLLanguageEnabled())}constructor(n,r,o){this.logService=r,this.webshopCookieService=o,this.Autocomplete=gr,this.placeholderMessageMap=new Map().set(Ho.DAY,di.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_DAY).set(Ho.MONTH,di.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_MONTH).set(Ho.YEAR,di.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_YEAR),this.labelMessageMap=new Map().set(Ho.DAY,di.GLOBAL_DAY).set(Ho.MONTH,di.GLOBAL_MONTH).set(Ho.YEAR,di.GLOBAL_YEAR),this.tabIndexToUse=0,this.disabled=!1,this.message=di,this.focussed=!1,this.value=null,n!==null&&(n.valueAccessor=this)}ngAfterViewInit(){ee.isNotEmpty(this.field.control.value)&&(this.value=this.field.control.value),this.value!==null&&this.initValue(this.value)}isValid(){return this.field.control.valid}getAutocompleteKey(n){switch(n){case Ho.DAY:return gr.BIRTHDAY_DAY;case Ho.MONTH:return gr.BIRTHDAY_MONTH;case Ho.YEAR:return gr.BIRTHDAY_YEAR;default:return gr.OFF}}getInputElementByType(n){return this.inputElements.map(r=>r.nativeElement).find(r=>r.id===`${this.field.id}${this.configuration.getDateFields().indexOf(n)}`)}getInputElementByIndex(n){let r=null;return n<this.inputElements.length&&(r=this.inputElements.toArray()[n].nativeElement),r}initValue(n){if(typeof n=="string"){let r=n.split("-");if(this.inputElements!==void 0&&r.length===3){let[s,c,v]=r;this.getInputElementByType(Ho.YEAR).value=s,this.getInputElementByType(Ho.MONTH).value=c,this.getInputElementByType(Ho.DAY).value=v}}else this.logService.debug(new Error(`invalid value type "${typeof n}"`))}writeValue(n){this.value=n,this.initValue(n)}registerOnChange(n){}registerOnTouched(n){}setDisabledState(n){this.disabled=n}onInputValueChange(){let n=this.getInputElementByType(Ho.YEAR).value,r=this.getInputElementByType(Ho.MONTH).value,o=this.getInputElementByType(Ho.DAY).value;n.length>0||r.length>0||o.length>0?this.field.control.setValue(`${n}-${r}-${o}`):this.field.control.setValue("")}onInputKeyDown(n,r,o,s,c){let v=o.target;HR.isNumeric(o.key)?this.handleNumberInput(n,r,o,s):o.key===Fr.BACKSPACE&&!c&&v.value.length===0?this.getInputElementByIndex(n-1).focus():HR.isControl(o.key)||Ls.stopBubbling(o)}handleNumberInput(n,r,o,s){let c=o.target,v=this.configuration.getRequiredLength(r),b=this.calculateIncomingValue(o),x=b.length;x<v&&this.shouldPrefixDateField(r,b)&&(c.value="0",x++),x>v?Ls.stopBubbling(o):!s&&x===v&&setTimeout(()=>{this.getInputElementByIndex(n+1).focus()},i.ASYNC_TIMEOUT)}calculateIncomingValue(n){let r=n.target;return ee.replaceAt(r.value,r.selectionStart,r.selectionEnd-1,n.key)}shouldPrefixDateField(n,r){let o=!1;switch(n){case Ho.DAY:o=Number(r.concat("0"))>Kd.DAYS;break;case Ho.MONTH:o=Number(r.concat("0"))>Kd.MONTHS;break;default:}return o}isDateFieldComplete(n,r){return r.length===this.configuration.getRequiredLength(n)}onInputBlur(n,r,o){let s=o.target;r!==Ho.YEAR&&Number(s.value)>0&&!this.isDateFieldComplete(r,s.value)&&(s.value=`0${s.value}`,this.onInputValueChange()),this.focussed=!1,setTimeout(()=>{this.focussed||this.field.control.markAsTouched()},i.ASYNC_TIMEOUT)}onInputFocus(n,r,o){this.focussed=!0;let s=this.configuration.getRequiredLength(r),c=o.target;c.value.length>=s&&(c.selectionStart=0,c.selectionEnd=c.value.length)}isDisabled(){return this.disabled||this.field.locked}};i.ASYNC_TIMEOUT=50,i.\u0275fac=function(r){return new(r||i)(Et(Op,10),Et(Ir),Et(_i))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-date-field"]],viewQuery:function(r,o){if(r&1&&Qi(lbe,5),r&2){let s;Ni(s=Ri())&&(o.inputElements=s)}},inputs:{field:"field",dateFormat:"dateFormat",tabIndexToUse:"tabIndexToUse"},standalone:!1,decls:4,vars:7,consts:[["input",""],[1,"row"],[1,"col-xs-12"],[1,"combined-date-input",3,"ngClass"],[4,"ngFor","ngForOf"],[1,"sr-only"],["type","tel","dir","ltr","autocorrect","off","autocapitalize","off","spellcheck","false",1,"form-control","theme-text-color","standard-gray-border","date-input","no-sign","text-left",3,"keydown","keyup","blur","focus","id","placeholder","disabled","ngClass","tabIndex","evFormsAccessibilityFormFieldTags"],[1,"input-seperator","theme-text-light-color",3,"hidden"]],template:function(r,o){r&1&&(h(0,"div",1)(1,"div",2)(2,"div",3),J(3,ube,9,21,"ng-container",4),g()()()),r&2&&(d(2),C("ngClass",Hf(2,cbe,!o.isValid()&&o.field.control.touched,o.isValid()&&o.field.control.touched,!o.field.mandatory,o.disabled)),d(),C("ngForOf",o.configuration.getDateFields()))},dependencies:[At,Ud,eM,Se],encapsulation:2});let t=i;return t})(),FU=class{constructor(i,e=di.GLOBAL_PLEASE_CHOOSE,n=!1){this.groups=i,this.firstOptionText=e,this.disabledForSingleEntry=n}getGroups(){return Dt.isNotEmpty(this.groups)?this.groups:[]}getFirstOptionText(){return this.firstOptionText}hasSingleEntry(){return this.groups!==void 0&&this.groups!==null?this.groups.length===1&&this.groups[0].items.length===1:!0}getFirstValue(){let i=null;return this.groups!==void 0&&this.groups!==null&&this.groups.length>=1&&this.groups[0].items.length>=1&&(i=this.groups[0].items[0].value),i}isDisabledForSingleEntry(){return this.hasSingleEntry()&&this.disabledForSingleEntry}},Ue=function(t){return t.CustomerEmail="customerEmail",t.CustomerPhone="customerPhone",t.CustomerMobile="customerMobile",t.CustomerDateOfBirth="customerDateOfBirth",t.CustomerSalutation="customerSalutation",t.CustomerFirstName="customerFirstName",t.CustomerLastName="customerLastName",t.CustomerCompany="customerCompany",t.CustomerStreetAndNo="customerStreetAndNo",t.CustomerPostalCode="customerPostalCode",t.CustomerCity="customerCity",t.CustomerCountry="customerCountry",t.CustomerAddressLine1="customerAddressLine1",t.CustomerAddressLine2="customerAddressLine2",t.CustomerAddressLine3="customerAddressLine3",t.CustomerDeliveryArea="customerDeliveryArea",t.CustomerVat="customerVAT",t.CustomerType="customerCustomerType",t.CustomerFiscalCode="customerFiscalCode",t.CustomerProvince="customerProvince",t.CustomerPassportNumber="customerPassportNumber",t.CustomerCityOfBirth="customerCityOfBirth",t.CustomerCountryOfBirth="customerCountryOfBirth",t.CustomerGender="customerGender",t.CustomerUsername="customerUsername",t.DeliveryEmail="deliveryEmail",t.DeliveryPhone="deliveryPhone",t.DeliveryMobile="deliveryMobile",t.DeliveryDateOfBirth="deliveryDateOfBirth",t.DeliverySalutation="deliverySalutation",t.DeliveryFirstName="deliveryFirstName",t.DeliveryLastName="deliveryLastName",t.DeliveryCompany="deliveryCompany",t.DeliveryStreetAndNo="deliveryStreetAndNo",t.DeliveryPostalCode="deliveryPostalCode",t.DeliveryCity="deliveryCity",t.DeliveryCountry="deliveryCountry",t.DeliveryAddressLine1="deliveryAddressLine1",t.DeliveryAddressLine2="deliveryAddressLine2",t.DeliveryAddressLine3="deliveryAddressLine3",t.DeliveryDeliveryArea="deliveryDeliveryArea",t.DeliveryProvince="deliveryProvince",t.LoyaltyProgramNo="loyaltyProgramNo",t}(Ue||{}),YIe=(()=>{let i=class i{constructor(n){this.elementRef=n}onSelect(){this.selected&&this.elementRef.nativeElement.setAttribute("selected")}};i.\u0275fac=function(r){return new(r||i)(Et(ii))},i.\u0275dir=kt({type:i,selectors:[["","evFormsFormSelect",""]],hostBindings:function(r,o){r&1&&Ee("select",function(){return o.onSelect()})},inputs:{selected:[0,"evFormsFormSelect","selected"]},standalone:!1});let t=i;return t})(),w0=(()=>{let i=class i{constructor(){this.firstOptionText=di.GLOBAL_PLEASE_CHOOSE,this.selectSingleEntry=!0,this.tabIndexToUse=0,this.onSelectionChange=new Jt}set field(n){this._field=n,this.preSelectPlaceholder()}get field(){return this._field}set groups(n){this.configuration=new FU(n,this.firstOptionText,this.selectSingleEntry),this.preSelectPlaceholder()}ngOnChanges(n){if(this.selectSingleEntry&&this.configuration!==void 0&&this.configuration.hasSingleEntry()){let r=this.configuration.getFirstValue();this.field.control.setValue(r),this.onSelect()}}trackIdentity(n,r){return r.value}onSelect(){this.field.setProperty("item",this.determineItem(this.field.control.value)),this.currentItemLabel=this.field.control.value,this.onSelectionChange.emit(this.currentItemLabel);for(let n of this.configuration.getGroups())if(n.items.some(r=>r.value===this.currentItemLabel)){this.currentGroupLabel=n.label;break}}determineItem(n){let r=null;return this.configuration.getGroups().forEach(o=>{o.items.filter(s=>s.value===n).forEach(s=>r=s)}),r}hasFormattedLabel(n){return n instanceof po}isDisabled(){return!this.field.active||this.field.locked||this.configuration.isDisabledForSingleEntry()?!0:void 0}getAutocompleteValue(){if(!this.field)return"";switch(this.field.name){case Ue.CustomerCountry:return gr.COUNTRY_NAME;case"country code":return gr.COUNTRY;default:return gr.OFF}}isSelected(n,r){return r===this.currentGroupLabel&&n===this.currentItemLabel}preSelectPlaceholder(){ce.isObject(this._field)&&!this._field.control.value&&this.configuration!==void 0&&!this.configuration.isDisabledForSingleEntry()&&this._field.control.setValue(null)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-select-field"]],inputs:{field:"field",firstOptionText:"firstOptionText",selectSingleEntry:"selectSingleEntry",groups:"groups",tabIndexToUse:"tabIndexToUse"},outputs:{onSelectionChange:"onSelectionChange"},standalone:!1,features:[Ha],decls:4,vars:15,consts:[["noGroup",""],["unformatted",""],[1,"styled-select"],[1,"form-control","padding-bottom-m","theme-text-color","theme-content-bg",3,"change","name","ngClass","formControl","tabIndex","id","evFormsAccessibilityFormFieldTags"],["class","theme-content-bg theme-text-color",3,"evFormsDisable","ngValue",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"theme-content-bg","theme-text-color",3,"evFormsDisable","ngValue"],["class","theme-content-bg theme-text-color",4,"ngIf","ngIfElse"],[1,"theme-content-bg","theme-text-color"],["class","theme-text-color theme-content-bg",3,"ngValue","evFormsFormSelect",4,"ngFor","ngForOf","ngForTrackBy"],[1,"theme-text-color","theme-content-bg",3,"ngValue","evFormsFormSelect"],[4,"ngIf","ngIfElse"],[3,"content"],[3,"evCoreHtml"],["class","theme-text-color theme-content-bg","data-qa","option-item",3,"ngValue","evFormsFormSelect",4,"ngFor","ngForOf","ngForTrackBy"],["data-qa","option-item",1,"theme-text-color","theme-content-bg",3,"ngValue","evFormsFormSelect"]],template:function(r,o){r&1&&(h(0,"div",2)(1,"select",3),Ee("change",function(){return o.onSelect()}),J(2,pbe,3,5,"option",4)(3,Ebe,4,2,"ng-container",5),g()()),r&2&&(d(),Io("color",o.isDisabled()?"":"inherit"),Xt("name",o.field.id),C("ngClass",et(13,ih,!o.field.mandatory))("formControl",o.field.control)("tabIndex",o.tabIndexToUse)("id",o.field.id)("evFormsAccessibilityFormFieldTags",o.field),Le("disabled",o.isDisabled())("autocomplete",o.getAutocompleteValue())("data-qa","select-"+o.field.config.fieldName),d(),C("ngIf",!o.configuration.isDisabledForSingleEntry()),d(),C("ngForOf",o.configuration.getGroups()))},dependencies:[At,Ud,ms,yZ,TZ,PR,Rr,Um,xt,l1,YIe,Zr,eM,Se],encapsulation:2});let t=i;return t})(),cee=(()=>{let i=class i{constructor(){this.FormFieldType=Mt}hasDateConfig(){return this.dateFormat!==void 0}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-regular-form"]],inputs:{form:"form",dateFormat:"dateFormat"},standalone:!1,decls:3,vars:2,consts:[[1,"validation",3,"formGroup"],[3,"isOptional","id"],[1,"row"],[1,"col-xs-12"],[3,"field","formControlName","radioboxValues"],["type","email",1,"form-control","theme-text-color","standard-gray-border",3,"name","id","formControlName","evFormsDisable","ngClass"],["type","tel","dir","ltr",1,"form-control","theme-text-color","standard-gray-border","text-left",3,"name","id","formControlName","evFormsDisable","ngClass"],[3,"field","groups"],[3,"field","dateFormat","formControlName"],[3,"field"],["type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","id","formControlName","evFormsDisable","ngClass"]],template:function(r,o){r&1&&(h(0,"form",0),ft(1,wbe,15,9,"section",null,fr),g()),r&2&&(C("formGroup",o.form.control),Le("data-qa","regular-form-"+o.form.name),d(),ht(o.form.fields))},dependencies:[At,xi,jr,Rr,Pn,wn,_o,Ai,id,mr,WIe,lA,d1,w0,l1,Se],encapsulation:2});let t=i;return t})(),Ic=(()=>{let i=class i{constructor(){this.onSubmit=new Jt}onClick(){this.form!==void 0&&(this.form.setSubmitted(),this.form.markAsTouched()),this.onSubmit.emit()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=kt({type:i,selectors:[["","evFormsSubmit",""]],hostBindings:function(r,o){r&1&&Ee("click",function(){return o.onClick()})},inputs:{form:[0,"evFormsSubmit","form"]},outputs:{onSubmit:"onSubmit"},standalone:!1});let t=i;return t})(),Ev=class{constructor(i){this.object=i}getObject(){return this.object}},Rp=class extends Ev{getType(){return Ru.MODAL_LINK}},Mp=class{constructor(i,e,n=Mu.PRIMARY){this.name=i,this.modalWindowConfiguration=e,this.modalLinkType=n}},FT=class FT extends Ev{getType(){return Ru.TEXT}};FT.SPACE=new FT(" "),FT.PLUS=new FT("+");var wa=FT;var bn=function(t){return t.ContactData="contactData",t.MyDataData="myDataData",t.DeliveryData="deliveryData",t.InvoiceData="invoiceData",t.LoyaltyData="loyaltyData",t.InvoiceRequestData="invoiceRequestData",t.TicketReturnContactData="ticketReturnContactData",t.UpsFavoritesData="upsFavoritesData",t}(bn||{}),xs=class t{static markAsTouched(i){i instanceof AR?i.markAsTouched():i instanceof bR&&(i.markAsTouched(),Object.keys(i.controls).forEach(e=>{t.markAsTouched(i.controls[e])}))}static getCustomerInfo(i,e,n=bn.InvoiceData){if(ce.isObject(i)&&Dt.isNotEmpty(i[n])){let o=i[n].find(s=>s.fieldName===e);if(ce.isObject(o))return o.value}return null}static getCustomerShippingInfo(i,e){let n=this.getCustomerInfo(i,e,bn.DeliveryData);return ee.isEmpty(n)&&(n=this.getCustomerInfo(i,this.shocuFieldMap().get(e))),n}static getAutocompleteKey(i,e){let n=new Map([[Ue.CustomerFirstName,gr.FIRST_NAME],[Ue.CustomerLastName,gr.LAST_NAME],[Ue.CustomerEmail,gr.EMAIL],[Ue.CustomerPhone,gr.TEL],[Ue.CustomerCompany,gr.ORGANIZATION],[Ue.CustomerStreetAndNo,gr.STREET_ADDRESS],[Ue.CustomerCity,gr.CITY],[Ue.CustomerPostalCode,gr.POSTAL_CODE],[Ue.CustomerCountry,gr.COUNTRY],[Ue.CustomerAddressLine1,gr.ADDRESS_LINE_1],[Ue.CustomerAddressLine2,gr.ADDRESS_LINE_2],[Ue.CustomerAddressLine3,gr.ADDRESS_LINE_3]]);return n.has(i)&&e?n.get(i):gr.OFF}static shocuFieldMap(){return new Map([[Ue.DeliveryEmail,Ue.CustomerEmail],[Ue.DeliveryPhone,Ue.CustomerPhone],[Ue.DeliveryMobile,Ue.CustomerMobile],[Ue.DeliveryDateOfBirth,Ue.CustomerDateOfBirth],[Ue.DeliverySalutation,Ue.CustomerSalutation],[Ue.DeliveryFirstName,Ue.CustomerFirstName],[Ue.DeliveryLastName,Ue.CustomerLastName],[Ue.DeliveryCompany,Ue.CustomerCompany],[Ue.DeliveryStreetAndNo,Ue.CustomerStreetAndNo],[Ue.DeliveryPostalCode,Ue.CustomerPostalCode],[Ue.DeliveryCity,Ue.CustomerCity],[Ue.DeliveryCountry,Ue.CustomerCountry],[Ue.DeliveryAddressLine1,Ue.CustomerAddressLine1],[Ue.DeliveryAddressLine2,Ue.CustomerAddressLine2],[Ue.DeliveryAddressLine3,Ue.CustomerAddressLine3],[Ue.DeliveryDeliveryArea,Ue.CustomerDeliveryArea],[Ue.DeliveryProvince,Ue.CustomerProvince],[Ue.DeliveryCountry,Ue.CustomerCountry],[Ue.DeliveryCountry,Ue.CustomerCountry]])}constructor(){}},Fp=(()=>{let i=class i{constructor(n,r,o){this.onInputSubmit=new Jt,n!==null?this.controlDirective=n:r!==null?this.controlDirective=r:o.debug(new Error("Injector did not provide an control object"))}onKeyDownEnter(n){n.key===Fr.ENTER&&this.controlDirective!==void 0&&(xs.markAsTouched(this.controlDirective.control),this.onInputSubmit.emit(n),Ls.stopBubbling(n))}};i.\u0275fac=function(r){return new(r||i)(Et(Lm,10),Et(Op,10),Et(Ir))},i.\u0275dir=kt({type:i,selectors:[["","evFormsInputOnEnter",""]],hostBindings:function(r,o){r&1&&Ee("keydown",function(c){return o.onKeyDownEnter(c)})},outputs:{onInputSubmit:"evOnEnter"},standalone:!1});let t=i;return t})(),cA=(()=>{let i=class i{handleKeydownEnter(n){let r=n.target;r instanceof HTMLInputElement&&r.type==="checkbox"&&(n.preventDefault(),r.click(),this.evFormsCheckboxOnEnter&&typeof this.evFormsCheckboxOnEnter=="function"&&this.evFormsCheckboxOnEnter(r.checked))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=kt({type:i,selectors:[["","evFormsCheckboxOnEnter",""]],hostBindings:function(r,o){r&1&&Ee("keydown.enter",function(c){return o.handleKeydownEnter(c)})},inputs:{evFormsCheckboxOnEnter:"evFormsCheckboxOnEnter"},standalone:!1});let t=i;return t})(),JIe=(()=>{let i=class i{constructor(){this.elements=[],this.cssClassName="js-consent-settings"}static onClick(n){n.preventDefault(),typeof window.__cmp=="function"&&window.__cmp("showScreenAdvanced")}ngAfterViewChecked(){this.elements.length===0&&(this.elements=Array.from(document.getElementsByClassName(this.cssClassName)),this.elements.forEach(n=>{n.addEventListener("click",i.onClick)}))}ngOnDestroy(){this.elements.forEach(n=>{n.removeEventListener("click",i.onClick)})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=kt({type:i,selectors:[["","evFormsOpenConsentSettings",""]],standalone:!1});let t=i;return t})(),dee=(()=>{let i=class i{constructor(){this.notifications=[]}set field(n){this._field=n,this.subscription?.unsubscribe(),this.subscription=this._field?.notice.onUpdate().subscribe(r=>{this.notifications=r})}get field(){return this._field}ngOnDestroy(){this.subscription?.unsubscribe()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-notification"]],inputs:{field:"field"},standalone:!1,decls:1,vars:1,consts:[["class","row padding-top-gutter",4,"ngFor","ngForOf"],[1,"row","padding-top-gutter"],[1,"col-xs-12"],["data-qa","information-box"],["class","alert-stripe",4,"ngIf"],[1,"alert-text"],[3,"evCoreHtml"],[1,"alert-stripe"]],template:function(r,o){r&1&&J(0,Obe,7,8,"div",0),r&2&&C("ngForOf",o.notifications)},dependencies:[Ud,ms,xt,Se],encapsulation:2});let t=i;return t})(),uee=(()=>{let i=class i{constructor(){this.Message=di,this.FormFieldType=Mt}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-provider"]],inputs:{form:"form",dateFormat:"dateFormat"},standalone:!1,decls:2,vars:3,consts:[[1,"validation",3,"formGroup"],[4,"ngFor","ngForOf"],["field-label","",4,"ngIf"],[3,"field","formControlName","radioboxValues",4,"ngIf"],[4,"ngIf"],["type","email","class","form-control theme-text-color standard-gray-border",3,"name","formControlName","evFormsDisable","ngClass",4,"ngIf"],["type","tel","class","form-control theme-text-color standard-gray-border text-left","dir","ltr",3,"name","formControlName","evFormsDisable","ngClass",4,"ngIf"],[3,"field","groups",4,"ngIf"],[3,"field","dateFormat","formControlName",4,"ngIf"],["field-error",""],[3,"field"],["field-notification","",4,"ngIf"],["field-label",""],[3,"hidden"],[3,"field","formControlName","radioboxValues"],["type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName","evFormsDisable","ngClass"],["type","email",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName","evFormsDisable","ngClass"],["type","tel","dir","ltr",1,"form-control","theme-text-color","standard-gray-border","text-left",3,"name","formControlName","evFormsDisable","ngClass"],[3,"field","groups"],[3,"field","dateFormat","formControlName"],["field-notification",""]],template:function(r,o){r&1&&(h(0,"form",0),J(1,Hbe,12,9,"section",1),g()),r&2&&(C("formGroup",o.form.control),Le("data-qa",o.form.name),d(),C("ngForOf",o.form.fields))},dependencies:[At,Ud,ms,xi,jr,Rr,Pn,wn,_o,Ai,mr,dee,lA,d1,w0,l1,Se],encapsulation:2});let t=i;return t})(),pee=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field-description"]],standalone:!1,ngContentSelectors:sA,decls:2,vars:0,consts:[["data-qa","description",1,"card-hint","theme-text-light-color"]],template:function(r,o){r&1&&(lo(),h(0,"div",0),Or(1),g())},encapsulation:2,changeDetection:0});let t=i;return t})();var tM=(()=>{let i=class i{constructor(){this.Message=di,this.tabIndexToUse=0,this.buttonAddonAction=new Jt}onButtonAddonClick(n){n!==void 0&&n.key===" "&&n.preventDefault(),this.isProcessing||this.buttonAddonAction.emit()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-field-button"]],inputs:{isProcessing:"isProcessing",tabIndexToUse:"tabIndexToUse"},outputs:{buttonAddonAction:"buttonAddonAction"},standalone:!1,ngContentSelectors:sA,decls:5,vars:7,consts:[[1,"input-group","input-group-inline-submit"],["role","button","data-qa","form-submit-button",1,"input-group-addon","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","theme-interaction-border",3,"click","keydown.space","keydown.enter","tabIndex"],[1,"icon","addon-icon","icon-arrow-right",3,"ngClass"]],template:function(r,o){r&1&&(lo(),h(0,"div",0),Or(1),h(2,"span",1),H(3,"translate"),Ee("click",function(){return o.onButtonAddonClick()})("keydown.space",function(c){return o.onButtonAddonClick(c)})("keydown.enter",function(){return o.onButtonAddonClick()}),D(4,"i",2),g()()),r&2&&(d(2),C("tabIndex",o.tabIndexToUse),Le("aria-label",j(3,3,o.Message.GLOBAL_SUBMIT)),d(2),C("ngClass",et(5,Vbe,o.isProcessing)))},dependencies:[At,Se],encapsulation:2});let t=i;return t})();var XIe=(()=>{let i=class i{set fieldName(n){this._fieldName=n,this.uniqueId=ee.getRandomId(n)}get fieldName(){return this._fieldName}constructor(n){this.parentFormControl=n,this.labelHighlighted=!1,this.onSelectionChange=new Jt}onSelect(n){this.onSelectionChange.emit(n)}getUniqueId(){return this.chosenId?this.chosenId:this.uniqueId}};i.\u0275fac=function(r){return new(r||i)(Et(Lm))},i.\u0275dir=kt({type:i,inputs:{fieldName:"fieldName",label:"label",value:"value",tabIndexToUse:"tabIndexToUse",labelHighlighted:"labelHighlighted",chosenId:"chosenId"},outputs:{onSelectionChange:"onSelectionChange"}});let t=i;return t})();var Zf=function(t){return t.Processing="processing",t.NoResults="no-results",t.MinLengthRequired="min-length-required",t.HasResults="has-results",t.UserSelected="user-selected",t}(Zf||{}),wt=function(t){return t.Email="email",t.EmailAssigned="email-assigned",t.Pattern="pattern",t.Size="size",t.Required="required",t.Rejected="rejected",t.Min="min",t.Max="max",t.Date="date",t.DateBefore="date-before",t.DateAfter="date-after",t.DateEighteen="date-eighteen",t.SuggestionSelected="suggestion-selected",t.Failed="failed",t.CityOfBirth="city-of-birth",t.NoZeroValue="no-zero-value",t.NoUrl="no-url",t.Password="password",t.ImpossiblePhoneNumber="impossible-phone-number",t}(wt||{}),VR=function(t){return t[t.Id=0]="Id",t[t.Text=1]="Text",t}(VR||{}),QIe=(()=>{let i=class i{constructor(){this.minLength=2,this.displayMode=VR.Id,this.onSelection=new Jt,this.status=Zf.NoResults,this.AutosuggestStatus=Zf,this.Message=di,this.showDropdown=!1,this.currentlySelectedIndex=-1,this.listId=ee.getRandomId(),this.hashMap=new Map([[Fr.ARROW_UP,this.handleArrowUp.bind(this)],[Fr.ARROW_DOWN,this.handleArrowDown.bind(this)],[Fr.ENTER,this.handleEnter.bind(this)]]),this.preventOnInputChange=!1,this.subscriptions=[],this.blurInputCallback=n=>{n.target!==document.getElementById(this.formField.config.id)&&(this.showDropdown=!1)}}ngOnInit(){this.subscriptions.push(this.formField.control.valueChanges.pipe(Ro(),Pd(()=>yu(i.DEBOUNCE_INTERVAL))).subscribe(this.onInputChange.bind(this))),document.body.addEventListener("click",this.blurInputCallback)}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()}),document.body.removeEventListener("click",this.blurInputCallback)}onInputChange(n){if(!this.preventOnInputChange){if(this.selectedElement=null,n.length<=this.minLength){this.setAutosuggestStatus(Zf.MinLengthRequired);return}this.showDropdown=!0,this.setAutosuggestStatus(Zf.Processing),this.autoSuggestSupplier(n).subscribe({next:this.handleResponseAndDisplaySuggestions.bind(this),error:this.handleErrorResponse.bind(this)})}this.preventOnInputChange=!1}onFocus(){this.formField.control.value.length>this.minLength&&(this.showDropdown=!0)}onMouseDown(n){Ls.stopBubbling(n)}showResults(){return this.status===Zf.HasResults||this.status===Zf.UserSelected&&this.suggestions.length===1}onKeyUp(n){this.showResults()&&this.hashMap.has(n.key)&&(Ls.stopBubbling(n),this.hashMap.get(n.key)())}getSelectedSuggestionId(){let n=ee.EMPTY_STRING;return this.suggestions!==void 0&&this.currentlySelectedIndex>=0&&(n=this.suggestions[this.currentlySelectedIndex].id),n}onKeyDown(n){switch(n.key){case Fr.ARROW_DOWN:case Fr.ARROW_UP:n.preventDefault();break;case Fr.TAB:case Fr.ESCAPE:this.showDropdown=!1;break;default:return}}handleArrowUp(){this.currentlySelectedIndex===-1||this.currentlySelectedIndex===0?this.currentlySelectedIndex=this.suggestions.length-1:this.currentlySelectedIndex--}handleArrowDown(){this.currentlySelectedIndex===this.suggestions.length-1?this.currentlySelectedIndex=0:this.currentlySelectedIndex++}handleEnter(){this.currentlySelectedIndex>-1?this.setSelectedElement(this.suggestions[this.currentlySelectedIndex]):this.setSelectedElement(this.suggestions[0])}handleResponseAndDisplaySuggestions(n){n.length>0?(this.suggestions=n.slice(0,5),this.status=Zf.HasResults,this.setAutosuggestStatus(this.status),n.length===1&&this.formField.control.value===n[0].id&&this.setSelectedElement(n[0],!0)):this.handleErrorResponse()}handleErrorResponse(){this.suggestions=[],this.setAutosuggestStatus(Zf.NoResults)}setInputValue(n){this.formField.control.setValue(n)}setAutosuggestStatus(n){this.status=n,this.formField.validation.update(wt.SuggestionSelected,{autosuggestStatus:this.status})}setSelectedElement(n,r=!1){this.preventOnInputChange=!0,this.setAutosuggestStatus(Zf.UserSelected),this.selectedElement=n,this.displayMode===VR.Id?this.setInputValue(this.selectedElement.id):this.setInputValue(this.selectedElement.value),this.showDropdown=r,this.onSelection.emit(this.selectedElement)}};i.DEBOUNCE_INTERVAL=500,i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-autosuggest"]],inputs:{minLength:"minLength",formField:"formField",autoSuggestSupplier:"autoSuggestSupplier",displayMode:"displayMode",tabIndexToUse:"tabIndexToUse"},outputs:{onSelection:"onSelection"},standalone:!1,decls:7,vars:15,consts:[["data-qa","form-auto-suggestion",1,"input-group","input-group-autosuggest"],["role","combobox","aria-haspopup","listbox"],["type","text","aria-autocomplete","list","data-qa","input",1,"form-control","standard-gray-border","theme-text-color",3,"focus","keyup","keydown","tabIndex","id","formControl","evFormsDisable"],["role","listbox","data-qa","suggestions",1,"input-group-addon-absolute","input-group-addon","theme-text-color","theme-content-bg",3,"id","ngClass"],["class","dropdown-message ng-hide theme-link-color theme-link-color-hover theme-interaction-bg theme-switch-border","data-qa","status-no-result",3,"mousedown",4,"ngIf"],["class","dropdown-message ng-hide theme-link-color theme-link-color-hover theme-interaction-bg theme-switch-border","data-qa","status-processing",3,"mousedown",4,"ngIf"],[4,"ngIf"],["data-qa","status-no-result",1,"dropdown-message","ng-hide","theme-link-color","theme-link-color-hover","theme-interaction-bg","theme-switch-border",3,"mousedown"],["data-qa","status-processing",1,"dropdown-message","ng-hide","theme-link-color","theme-link-color-hover","theme-interaction-bg","theme-switch-border",3,"mousedown"],[1,"element-spinner-circle","small"],["role","option","class","dropdown-element theme-link-color theme-link-color-hover theme-interaction-bg theme-switch-border","data-qa","suggestion",3,"ngClass","id","click","keyup.enter","mousedown",4,"ngFor","ngForOf"],["role","option","data-qa","suggestion",1,"dropdown-element","theme-link-color","theme-link-color-hover","theme-interaction-bg","theme-switch-border",3,"click","keyup.enter","mousedown","ngClass","id"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1)(2,"input",2),Ee("focus",function(){return o.onFocus()})("keyup",function(c){return o.onKeyUp(c)})("keydown",function(c){return o.onKeyDown(c)}),g()(),h(3,"ul",3),J(4,Kbe,3,3,"li",4)(5,qbe,2,0,"li",5)(6,zbe,2,1,"ng-container",6),g()()),r&2&&(d(),Le("aria-expanded",o.showDropdown)("aria-owns",o.listId),d(),C("tabIndex",o.tabIndexToUse)("id",o.formField.id)("formControl",o.formField.control)("evFormsDisable",!o.formField.active||o.formField.locked),Le("aria-activedescendant",o.getSelectedSuggestionId())("aria-controls",o.listId),d(),C("id",o.listId)("ngClass",et(13,jbe,!o.showDropdown)),d(),C("ngIf",!o.showResults()&&o.status===o.AutosuggestStatus.NoResults),d(),C("ngIf",!o.showResults()&&o.status===o.AutosuggestStatus.Processing),d(),C("ngIf",o.showResults()))},dependencies:[At,Ud,ms,jr,Rr,Um,l1,Se],encapsulation:2});let t=i;return t})();var ko=(()=>{let i=class i extends XIe{constructor(n){super(n),this.parentFormControl=n,this.isExpandableCheckbox=We(!1)}};i.\u0275fac=function(r){return new(r||i)(Et(Lm))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-checkbox"]],inputs:{isExpandableCheckbox:[1,"isExpandableCheckbox"]},standalone:!1,features:[dt],ngContentSelectors:sA,decls:8,vars:14,consts:[["checkbox",""],["transclusion",""],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border",3,"formGroup"],["type","checkbox","data-qa","option",1,"checkbox-input",3,"change","evFormsCheckboxOnEnter","formControlName","value","tabIndex"],["data-qa","label",1,"theme-text-color","label",3,"ngClass"],[3,"evCoreHtml",4,"ngIf","ngIfElse"],[3,"evCoreHtml"]],template:function(r,o){if(r&1){let s=Je();lo(),h(0,"div",2)(1,"input",3,0),Ee("change",function(){return Ne(s),Re(o.onSelect(o.value))}),g(),h(3,"label",4)(4,"span"),J(5,Jbe,2,3,"span",5)(6,Xbe,1,0,"ng-template",null,1,vi),g()()()}if(r&2){let s=Fn(2),c=Fn(7);C("formGroup",o.parentFormControl.control),Le("data-qa","checkbox-"+o.fieldName),d(),C("evFormsCheckboxOnEnter",o.onSelect)("formControlName",o.fieldName)("value",o.value)("tabIndex",o.tabIndexToUse),Le("id",o.getUniqueId())("aria-expanded",o.isExpandableCheckbox()?s.checked:null),d(2),C("ngClass",et(12,Ybe,o.labelHighlighted)),Le("for",o.getUniqueId()),d(2),C("ngIf",o.label)("ngIfElse",c)}},dependencies:[At,ms,ZC,Rr,Pn,wn,_o,xt,cA,Se],encapsulation:2});let t=i;return t})();var ZIe=(()=>{let i=class i extends cr{autoSuggestCityFiscalCode(n){let r=new Nr().append("numberOfSuggestions","5").append("term",n);return this.webshopApi.get("/search/autoSuggestCityFiscalCode",r)}};i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),eSe=(()=>{let i=class i{constructor(n){this.searchResource=n,this.DisplayMode=VR}ngOnInit(){if(this.formField.control.value==="0")this.formField.control.setValue("");else{let n=this.formField.config.cityName;ee.isNotEmpty(n)&&(this.formField.setProperty("cityId",this.formField.control.value),this.formField.control.setValue(n))}}determineAutoSuggestData(n){return this.searchResource.autoSuggestCityFiscalCode(n).pipe(cn(r=>this.mapCities(r)))}getSupplierMethod(){return this.determineAutoSuggestData.bind(this)}mapCities(n){return n.map(r=>({id:r.cityFiscalCodeId.toString(),value:r.cityFiscalCodeName}))}handleCity(n){this.formField.setProperty("cityId",n.id),this.formField.control.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}};i.\u0275fac=function(r){return new(r||i)(Et(ZIe))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-city-of-birth"]],inputs:{formField:"formField"},standalone:!1,decls:1,vars:3,consts:[[3,"onSelection","formField","autoSuggestSupplier","displayMode"]],template:function(r,o){r&1&&(h(0,"ev-forms-autosuggest",0),Ee("onSelection",function(c){return o.handleCity(c)}),g()),r&2&&C("formField",o.formField)("autoSuggestSupplier",o.getSupplierMethod())("displayMode",o.DisplayMode.Text)},dependencies:[QIe],encapsulation:2});let t=i;return t})();var eh=class t{static getCountriesGroup(i){return this.getDefault(i)}static getCountriesOfBirthGroup(i){return Dt.isNotEmpty(i)?i.map(e=>({label:e.label,items:e.items.map(n=>({label:n.name,value:n.id,isoCode:n.isoCode}))})):null}static getCountryPhoneCodes(i){return Dt.isNotEmpty(i)?i.map(e=>({items:e.items.filter(n=>n.phoneCode!==void 0).map(n=>({label:`${n.id} (${n.phoneCode})`,value:n.id}))})):null}static getDeliveryAreaGroups(i){return i!==void 0?i.map(e=>({label:e.label,items:e.items.map(n=>({label:n.name,value:n.id}))})):[]}static getProvinceGroups(i){if(i!==void 0&&Dt.isNotEmpty(i))return[{items:i.map(e=>({label:e.province,value:e.provinceCode}))}]}static getMemberCardGroups(i){if(i!==void 0)return[{items:i.map(e=>({label:e.name,value:e.memberCardId}))}]}static sortList(i){let e=[];return i.forEach(n=>{e.push({label:n.label,items:[...n.items].sort((r,o)=>{let s=String(r.label).toLowerCase(),c=String(o.label).toLowerCase();return s<c?-1:s>c?1:0})})}),e}static getDefault(i){return i!==void 0?i.map(e=>({label:e.label,items:e.items.map(t.convertToLabelValuePair)})):null}static convertToLabelValuePair(i){return{label:i.label??i.name,value:i.value??i.id}}};var jR=class{set name(i){this._name=i}get name(){return this._name}get active(){return ce.isObject(this.control)?this.control.enabled:!0}get locked(){return this._locked}get parent(){return this._parent}constructor(i){this._name=i,this._activationStateStream=new qn,this._locked=!1,this._parent=null}enable(){this.control.enable({onlySelf:!1,emitEvent:!1}),this._activationStateStream.next(!0)}disable(){this.control.disable({onlySelf:!1,emitEvent:!1}),this._activationStateStream.next(!1)}onActivationStateChange(){return this._activationStateStream.asObservable()}unlock(){this._locked=!1,this.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}lock(){this._locked=!0,this.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}setParent(i){this._parent=i,this.onParentSet()}equalsName(i){return ee.isNotEmpty(this.name)&&ee.isNotEmpty(i)?this.name===i:!1}containsName(i){return ee.isNotEmpty(this.name)&&Dt.isNotEmpty(i)?i.some(e=>this.name.indexOf(e)>-1):!1}},LU=class{set deliveryMethodType(i){this._deliveryMethodType=i,this.checkIfAllRequirementsAreMet()}constructor(i){this._field=i,this._requirements=new Map,this._fieldDependencies=new Map,this.checkDependencies()}destroy(){Array.from(this._fieldDependencies.values()).forEach(i=>i.unsubscribe())}checkDependencies(){this.hasDeliveryMethodDependencies()&&this.checkIfAllRequirementsAreMet(),this.hasFieldDependencies()&&Object.keys(this._field.config.dependencies).map(i=>this.getFieldInFormTree(i)).filter(i=>ce.isObject(i)).forEach(i=>this.checkDependentField(i))}checkIfAllRequirementsAreMet(){if(!this.hasDeliveryMethodDependencies()&&!this.hasFieldDependencies())return;let i=!0,e=!0;this.hasDeliveryMethodDependencies()&&(i=this._field.config.deliveryMethodDependencies.some(n=>n===this._deliveryMethodType)),this.hasFieldDependencies()&&(e=Array.from(this._requirements.values()).every(n=>n)),this._field.mandatory=e&&i}hasDeliveryMethodDependencies(){return Dt.isNotEmpty(this._field.config.deliveryMethodDependencies)}hasFieldDependencies(){return ce.isObject(this._field.config.dependencies)}checkDependentField(i){let e=this._field.config.dependencies[i.name];this._fieldDependencies.has(i.name)||this._fieldDependencies.set(i.name,i.control.valueChanges.subscribe(n=>{this._requirements.set(i.name,this.isRequirementFulfilled(e,n)),this.checkIfAllRequirementsAreMet()})),this._requirements.set(i.name,this.isRequirementFulfilled(e,i.control.value)),this.checkIfAllRequirementsAreMet()}getRootForm(){let i=this._field.parent;for(;ce.isObject(i.parent);)i=i.parent;return i}getFieldInFormTree(i){return this.getRootForm().findFormField(i)}isRequirementFulfilled(i,e){return e==="0"&&(e=""),ee.isNotEmpty(e)&&(i.indexOf(e)>-1||i.length===0)}},th=class{get name(){return this._name}constructor(i,e,n,r=null){this._name=i,this.type=e,this.message=n,this.icon=r}},BU=class{constructor(){this._notices=new Map,this._noticesStream=new ni([])}set(i,e,n){return ee.isNotEmpty(i)&&(i=new th(i,e,n)),i instanceof th&&(this._notices.set(i.name,i),this.triggerUpdateStream()),this}has(i){return this._notices.has(i)}get(i){return this._notices.get(i)}remove(i){this._notices.has(i)&&(this._notices.delete(i),this.triggerUpdateStream())}clear(){this._notices.clear()}hasNotices(){return Array.from(this._notices.values()).length>0}onUpdate(){return this._noticesStream.asObservable()}triggerUpdateStream(){this._noticesStream.next(Array.from(this._notices.values()))}},ZU=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.HIGH=1]="HIGH",t}(ZU||{}),As=class{get active(){return this._enabled}set formField(i){this.field=i,this.onlyMandatory&&this._subscriptions.push(this.onMandatoryChange())}constructor(i,e){this.errorMessage=i,this.messageReplacementPattern=e,this.priority=ZU.DEFAULT,this.onlyMandatory=!1,this.validatorConfig={},this.validatorFn=null,this.asyncValidatorFn=null,this._enabled=!0,this._subscriptions=[]}apply(i,e,n){this._parentErrorStream=n,this._subscriptions.push(i(e.fieldName,this.type).subscribe(r=>{this.validatorConfig=r.validatorConfig,this.onPayloadUpdate(r)}))}validate(i){let e=null;return ce.isObject(this.field)&&this.field.locked?null:(this.active&&this.validatorFn!==null&&(e=this.validatorFn(i)),this._parentErrorStream.next({type:this.type,message:e!==null?this.errorMessage:null,messageReplacementPattern:e!==null?this.messageReplacementPattern:null,priority:this.priority}),e)}asyncValidate(i){return ce.isObject(this.field)&&this.field.locked?an(null):this.active&&this.asyncValidatorFn!==null?this.asyncValidatorFn(i).pipe(cn(e=>(this._parentErrorStream.next({type:this.type,message:e!==null?this.errorMessage:null,messageReplacementPattern:e!==null?this.messageReplacementPattern:null,priority:this.priority}),e))):an(null)}disable(){this._enabled=!1}enable(){this._enabled=!0}destroy(){this._subscriptions.forEach(i=>{i.unsubscribe()})}setErrorMessage(i){this.errorMessage=i}getErrorMessage(){return this.errorMessage}onMandatoryChange(){return this.field.onMandatoryStateChange().subscribe(i=>{i?this.enable():this.disable()})}},ir=class extends As{constructor(i=di.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY){super(i),this.errorMessage=i,this.type=wt.Required,this.priority=ZU.HIGH,this.onlyMandatory=!0,this.validatorConfig={},this.validatorFn=e=>e.value===!1||ee.isEmpty(String(e.value).trim())?{required:!0}:Xf.required(e)}onPayloadUpdate(i){}},UU=class{constructor(i,e,n){this._fieldName=i,this._validatorType=e,this._validatorConfig=n}get fieldName(){return this._fieldName}get validatorType(){return this._validatorType}get validatorConfig(){return this._validatorConfig}},$U=class{constructor(i,e,n,r){this._field=n,this._fieldErrorStream=r,this._validators=new Map,this._validatorConfigStream=new ni(null),this.enhanceValidators(i).forEach(o=>this.applyValidators(o)),e.forEach(o=>this.applyValidators(o,!0))}has(i){return this._validators.has(i)}get(i){if(this.has(i))return this._validators.get(i)[0]}update(i,e){return this._validatorConfigStream.next(new UU(this._field.config.fieldName,i,e)),this.checkValidityAgain(),this}add(i,e=!1){return this.has(i.type)||(i.apply(this.onValidatorUpdate.bind(this),this._field.config,this._fieldErrorStream),this._validators.set(i.type,[i,e]),this.updateFormControl(),this.checkValidityAgain()),this}remove(i){return this._validators.delete(i)&&(this.updateFormControl(),this.checkValidityAgain()),this}destroy(){this._validators.forEach(([i,e])=>{i.destroy()})}reset(){return this._field.control.reset(this._field.control.value),this}onValidatorUpdate(i,e){return this._validatorConfigStream.asObservable().pipe(Yt(n=>n!==null&&n.fieldName===i&&n.validatorType===e))}updateFormControl(){let i=[];this._validators.forEach(([e,n])=>{n?i.push(e.asyncValidate.bind(e)):i.push(e.validate.bind(e))}),this._field.control.setValidators(i)}checkValidityAgain(){this._field.control!==void 0&&this._field.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}enhanceValidators(i){return i.some(n=>n.type===wt.Required)||i.push(new ir),i}applyValidators(i,e=!1){i.formField=this._field,this._validators.set(i.type,[i,e]),i.apply(this.onValidatorUpdate.bind(this),this._field.config,this._fieldErrorStream)}},Gt=class extends jR{get validation(){return this._validation}get notice(){return this._notice}get dependency(){return this._dependency}get config(){return this._config}set mandatory(i){this.updateMandatoryState(i)}get mandatory(){return this.config.mandatory===void 0&&(this.mandatory=!0),this.config.mandatory}get id(){return this._config.id}set isConfirmationField(i){this._isConfirmationField=i}get isConfirmationField(){return this._isConfirmationField}constructor(i,e=[],n=[]){super(i.fieldName),this._config=i,this.control=null,this._validation=null,this._notice=null,this._mandatoryStateStream=new qn,this._subscriptions=[],this._errorStream=new ni(new Map),this._properties=new Map,this._errors=new Map,this._dependency=null,this._isConfirmationField=!1,this._validatorErrorStream=new ni(null),this._subscriptions.push(this.onValidatorError()),this._validation=new $U(e,n,this,this._validatorErrorStream),this._notice=new BU,ee.isEmpty(this._config.id)&&(this._config.id=ee.getRandomId(this._config.fieldName)),this.createFormControl(e,n,this.config),this.updateMandatoryState(this.config.mandatory)}onError(){return this._errorStream.asObservable()}onMandatoryStateChange(){return this._mandatoryStateStream.asObservable()}destroy(){this._validation.destroy(),this.dependency.destroy(),this._subscriptions.forEach(i=>{i.unsubscribe()})}onParentSet(){this._dependency=new LU(this)}createFormControl(i,e,n){let r=i.map(s=>s.validate.bind(s)),o=e.map(s=>s.asyncValidate.bind(s));this.control=new AR(n.value,r,o)}onValidatorError(){return this._validatorErrorStream.asObservable().pipe(Yt(i=>i!==null)).subscribe(i=>{i.message!==null?this._errors.set(i.type,i):this._errors.delete(i.type),this._errorStream.next(this._errors)})}updateMandatoryState(i){this.config.mandatory=i,this._mandatoryStateStream.next(i),this.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}hasProperty(i){return this._properties.has(i)}setProperty(i,e){this._properties.set(i,e)}getProperty(i,e){let n=this._properties.get(i);return n??e}},HU=class{delete(i,e,n,r){return[e,r]}parse(i,e){return[i,e]}format(i){return i}isAndroid(){let i;return ee.isNotEmpty(navigator.userAgent)?i=navigator.userAgent:i=navigator.vendor,/android/i.test(i)}},VU=class extends HU{constructor(i){super(),this.phoneNumberService=i}delete(i,e,n,r){if(ee.isEmpty(e)||this.isAndroid())return[e,r];if(this.previousValue===e)return[e,r];if(ee.isNotEmpty(this.previousTemplate)&&n[r]===this.previousTemplate[r]){let o=this.phoneNumberService.parseIncompletePhoneNumber(n),s=!1;do[e,r,s]=this.deleteCharacter(i,e,r);while(!s&&ee.isNotEmpty(e)&&this.phoneNumberService.parseIncompletePhoneNumber(e)===o)}return[e,r]}parse(i,e){if(ee.isEmpty(i)||this.isAndroid())return this.previousValue=null,this.previousTemplate=null,[i,e];if(this.previousValue===i)return[i,e];let[n,r]=this.phoneNumberService.formatIncompletePhoneNumber(i);return ce.isNullable(e)||(e=this.calculateNewPosition(i,this.previousTemplate,n,r,e)),this.previousValue=n,this.previousTemplate=r,[n,e]}format(i){return this.previousValue??i}deleteCharacter(i,e,n){if(i===Fr.DELETE&&n<e.length)e=e.slice(0,n)+e.slice(n+1);else if(i===Fr.BACKSPACE&&n>0)e=e.slice(0,n-1)+e.slice(n),n--;else return[e,n,!0];return[e,n,!1]}calculateNewPosition(i,e,n,r,o){if(ee.isNotEmpty(n)){let s=this.countFormattingCharacters(i,e,o);if(o+=this.countFormattingCharacters(n,r,o,s),o<n.length){for(;n[o]===r[o]&&o<n.length;)o++;return o}return n.length}return 0}countFormattingCharacters(i,e,n,r=0){let o=0-r;if(ee.isNotEmpty(e)&&ee.isNotEmpty(i)){let s=0;for(;s<n+o&&s<e.length&&s<i.length;)i[s]===e[s]&&o++,s++}return o}},GR=class extends As{constructor(i,e,n=null){super(e),this.phoneNumberService=i,this.errorMessage=e,this.type=wt.ImpossiblePhoneNumber,this.validatorConfig={regExp:null},this.validatorFn=null,n!==null&&this.updateRegExp(n),this.validatorFn=r=>{if(ee.isNotEmpty(r.value)){if(!this.phoneNumberService.isPossiblePhoneNumber(r.value)){let o={};return o[wt.ImpossiblePhoneNumber]=!0,o}if(!this.phoneNumberService.isPossiblePhoneNumber(r.value)||!ce.isNullable(this.validatorConfig.regExp)&&!r.value.trim().match(this.validatorConfig.regExp)){let o={};return o[wt.ImpossiblePhoneNumber]=!0,o}}return null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,this.updateRegExp(this.validatorConfig.regExp)}updateRegExp(i){typeof i=="string"&&(i.startsWith("/")&&i.endsWith("/")&&(i=i.slice(1,-1)),i=new RegExp(i)),this.validatorConfig.regExp=i}},LT=(()=>{let i=class i{get country(){return this._country}set country(n){this._country=n||void 0}parsePhoneNumber(n){return n&&(nA(n,this._country)||nA(n))||null}doesCountryCallingCodeMatch(n){try{return ee.isNotEmpty(n)&&$R(this._country)===n}catch{return!1}}isPossiblePhoneNumber(n){return OU(n,this._country)}isFormattingPossible(n){return!!this._country&&(!!n?.country||!!n?.countryCallingCode)}formatIncompletePhoneNumber(n){try{let r=new RT(this._country);return[r.input(n),r.getTemplate()]}catch{return[n,null]}}parseIncompletePhoneNumber(n){return yv(n)}isMobileNumber(n){return n?.isValid()&&["MOBILE","FIXED_LINE_OR_MOBILE"].indexOf(n.getType())>=0}containsCallingCodeForCountry(n,r){return Np(n)===$R(r)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),tSe=(()=>{let i=class i{constructor(n){this.onTouched=null,this.onModelChange=null,this.previousValue="",this.inputElement=n.nativeElement}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onModelChange=n}onKeyDown(n){this.currentKey=n.key,this.previousValue=this.inputElement.value}onControlInput(){let n=this.inputElement.value,r=this.inputElement.selectionStart,o=!1,s=!1;this.previousValue.length>n.length&&(o=!0,(this.currentKey===Fr.BACKSPACE||this.currentKey===Fr.DELETE)&&([n,r]=this.evFormsInputFormatter.delete(this.currentKey,n,this.previousValue,r))),n.length>this.previousValue.length&&r!==n.length&&(s=!0),[this.inputElement.value,r]=this.evFormsInputFormatter.parse(n,r),this.onModelChange!==void 0&&this.onModelChange(this.evFormsInputFormatter.format(n)),(o||s)&&this.inputElement.setSelectionRange(r,r)}onControlBlur(){this.onTouched!==void 0&&this.onTouched()}writeValue(n){typeof n=="string"&&([this.inputElement.value]=this.evFormsInputFormatter.parse(n))}};i.\u0275fac=function(r){return new(r||i)(Et(ii))},i.\u0275dir=kt({type:i,selectors:[["input","evFormsInputFormatter",""]],hostBindings:function(r,o){r&1&&Ee("keydown",function(c){return o.onKeyDown(c)})("input",function(){return o.onControlInput()})("blur",function(){return o.onControlBlur()})},inputs:{evFormsInputFormatter:"evFormsInputFormatter"},standalone:!1,features:[Hl([{provide:Bm,useExisting:Od(()=>i),multi:!0}])]});let t=i;return t})(),e$="showCountryWarning",nSe=(()=>{var i,e,n,r,o,s,c,v,b;let x=class x{constructor(){Jr(this,i);Jr(this,e);Jr(this,n);Jr(this,r);Jr(this,o);Jr(this,s);Jr(this,c);Jr(this,v);Jr(this,b);this.PhoneNumberFieldType=Ec,this.Autocomplete=gr,this.Message=di,this.field=We.required(),this.groups=We.required(),this.selectedCountry=We.required(),this.tabIndexToUse=We(0),Xo(this,i,E(Op,{optional:!0,self:!0})),Xo(this,e,E(LT)),Xo(this,n,E(_i)),Xo(this,r,E(Oi)),this.disabled=nn(!1),this.configuration=nn(en(this,n).isRTLLanguageEnabled()?[Ec.LOCALNUMBER,Ec.COUNTRYCODE]:[Ec.COUNTRYCODE,Ec.LOCALNUMBER]),this.controls=new Map,this.phoneNumberFormatter=new VU(en(this,e)),Xo(this,o,new th("InvalidMobileNumberWarning","warning",di.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_NOT_RECOGNIZED_WARNING,"alert")),Xo(this,s,new th("DeviatingCountryWarning","warning",di.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_DEVIATING_COUNTRY_WARNING,"alert")),Xo(this,c,!1),Xo(this,v,!1),en(this,i)!==null&&(en(this,i).valueAccessor=this),al(()=>{this.selectedCountry(),Ld(()=>this.updateDeviatingCountryWarning())})}ngOnInit(){en(this,e).country=this.getAllowedCountryOrFallback(this.selectedCountry())||this.groups()[0]?.items[0]?.value;let O=this.field().control.value;O&&(this.updatePhoneNumber(O),en(this,e).isFormattingPossible(en(this,b))?O=en(this,b).formatNational():O=en(this,e).formatIncompletePhoneNumber(O)[0]),this.controls.set(Ec.COUNTRYCODE,new Gt({fieldName:Ec.COUNTRYCODE,type:Mt.Select,mandatory:!0,value:en(this,e).country,selectGroups:this.groups()})).set(Ec.LOCALNUMBER,new Gt({fieldName:Ec.LOCALNUMBER,type:Mt.Tel,mandatory:this.field().mandatory,value:O}));let w=this.field().config?.validation?.pattern;w?(this.field().validation.get(wt.Pattern)?.disable(),en(this,r).onDestroy(()=>this.field().validation.get(wt.Pattern)?.enable()),this.field().validation.add(new GR(en(this,e),w.message,w.value))):this.field().validation.add(new GR(en(this,e),di.CHECKOUT_APP_CUSTOMER_MOBILE_NUMBER_INVALID)),this.controls.get(Ec.LOCALNUMBER).control.valueChanges.pipe(zn(en(this,r))).subscribe(this.onInputValueChange.bind(this))}isValid(){return this.field().control.valid}isTouched(){return en(this,v)!==this.field().control.touched&&(Xo(this,v,this.field().control.touched),this.updateTouchedState(en(this,v))),en(this,v)}isDisabled(){return this.disabled()||this.field()?.locked}onSelectionChange(O){en(this,e).country=O,en(this,e).doesCountryCallingCodeMatch(en(this,b)?.countryCallingCode)||(this.controls.get(Ec.LOCALNUMBER).control.setValue(ee.EMPTY_STRING),Xo(this,b,null))}inFocus(){Xo(this,c,!0)}onInputBlur(){Xo(this,c,!1),setTimeout(()=>{en(this,c)||(this.field().control.markAsTouched(),Array.from(this.controls.values()).forEach(O=>O.control.markAsTouched()),this.formatAsNationalNumber(),this.updateInvalidNumberWarning(),this.updateDeviatingCountryWarning())})}writeValue(O){}registerOnChange(O){}registerOnTouched(O){}setDisabledState(O){this.disabled.set(O)}updateCountry(O){!O?.country&&!O?.countryCallingCode||(en(this,e).country=O.country?this.getAllowedCountryOrFallback(O.country):this.getAllowedCountryForCallingCode(O.countryCallingCode))}getAllowedCountryOrFallback(O){let w;if(ee.isNotEmpty(O))for(let M of this.groups())for(let F of M.items){if(F.value===O)return O;ee.isEmpty(w)&&en(this,e).containsCallingCodeForCountry(F.label,O)&&(w=F.value)}return w}getAllowedCountryForCallingCode(O){if(ee.isNotEmpty(O)){for(let w of this.groups())for(let M of w.items)if(M.label.indexOf(`(+${O})`)>=0)return M.value}}onInputValueChange(O){this.updatePhoneNumber(O),this.handleCountryCodeChange(),this.updateInvalidNumberWarning(),this.updateDeviatingCountryWarning()}updatePhoneNumber(O){Xo(this,b,en(this,e).parsePhoneNumber(O)),this.updateCountry(en(this,b)),en(this,e).isFormattingPossible(en(this,b))?this.field().control.setValue(en(this,b).formatInternational()):this.field().control.setValue("")}updateInvalidNumberWarning(){this.isTouched()&&this.isValid()&&en(this,b)&&!en(this,e).isMobileNumber(en(this,b))?this.field().notice.set(en(this,o)):this.field().notice.remove(en(this,o).name)}updateDeviatingCountryWarning(){this.field().getProperty(e$,!1)&&this.selectedCountry()&&this.isValid()&&en(this,e).isMobileNumber(en(this,b))&&en(this,b).country!==this.selectedCountry()?this.field().notice.set(en(this,s)):this.field().notice.remove(en(this,s).name)}handleCountryCodeChange(){en(this,e).country!==this.controls.get(Ec.COUNTRYCODE).control.value&&this.controls.get(Ec.COUNTRYCODE).control.setValue(en(this,e).country,{onlySelf:!0})}updateTouchedState(O){O?this.controls.forEach(w=>w.control.markAsTouched()):this.controls.forEach(w=>w.control.markAsUntouched())}formatAsNationalNumber(){en(this,e).isFormattingPossible(en(this,b))&&this.controls.get(Ec.LOCALNUMBER).control.setValue(en(this,b).formatNational(),{onlySelf:!0,emitEvent:!1})}};i=new WeakMap,e=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,c=new WeakMap,v=new WeakMap,b=new WeakMap,x.\u0275fac=function(w){return new(w||x)},x.\u0275cmp=ae({type:x,selectors:[["ev-forms-phone-number"]],inputs:{field:[1,"field"],groups:[1,"groups"],selectedCountry:[1,"selectedCountry"],tabIndexToUse:[1,"tabIndexToUse"]},standalone:!1,features:[Hl([LT])],decls:1,vars:1,consts:[[1,"row",3,"invalid","valid","optional","disabled"],[1,"row"],[1,"col-xs-4",3,"no-padding-left"],[1,"col-xs-8",3,"no-padding-left"],[1,"col-xs-4"],[1,"sr-only",3,"for"],[3,"onSelectionChange","blur","field","groups","tabIndexToUse"],[1,"col-xs-8"],["for","mobileNumber",1,"sr-only"],["id","mobileNumber","type","text","dir","ltr",1,"form-control","theme-text-color","standard-gray-border","no-sign","text-left","phone-number-input-width",3,"focusin","blur","name","formControl","evFormsInputFormatter","tabIndex","evFormsAccessibilityFormFieldTags"]],template:function(w,M){w&1&&J(0,tIe,3,8,"div",0),w&2&&$(M.controls.size>0?0:-1)},dependencies:[jr,Rr,Um,w0,tSe,eM,Se],encapsulation:2});let t=x;return t})();var iSe=(()=>{let i=class i{constructor(){this.Message=di,this.tabIndexToUse=0,this._subscriptions=[]}set field(n){this._field=n,this._fields=this._field.config.multiSelectFieldNames?.map(r=>this._field.parent.getField(r)),Dt.isNotEmpty(this._fields)&&(this.firstFormField=this.field.config.fieldName===this._fields[0].config.fieldName,this.lastFormField=this.field.config.fieldName===this._fields[this._fields.length-1].config.fieldName),this._subscriptions.forEach(r=>r.unsubscribe()),this._fields.filter(r=>r!==this._field).forEach(r=>{this._subscriptions.push(r.control.valueChanges.pipe(Ro()).subscribe(this.buildFilteredGroups.bind(this)))})}get field(){return this._field}set groups(n){this._groups=n,this.buildFilteredGroups()}ngOnDestroy(){this._subscriptions.forEach(n=>n.unsubscribe())}buildFilteredGroups(){let n=this._fields.map(r=>r.control.value).filter(r=>r!==this._field.control.value&&ee.isNotEmpty(r)).sort();(!this.filteredGroups||this.didValuesChange(this._selectedValuesInOtherFields,n))&&(this._selectedValuesInOtherFields=n,this.filteredGroups=[...this._groups.map((r,o)=>({items:r.items.filter(s=>!n.includes(s.value)),label:r.label}))].filter(r=>r.items.length>0))}didValuesChange(n,r){return n?.length!==r.length||n.some((o,s)=>o!==r[s])}isLastVisibleElement(){return!this.field.config.hidden&&this._fields.filter(n=>!n.config.hidden).find(n=>n.config.fieldName>this.field.config.fieldName)===void 0}addFormField(){this.lastFormField||(this._fields.find(n=>n.config.fieldName>this.field.config.fieldName).config.hidden=!1)}deleteFormField(){this.firstFormField||(this.field.control.setValue(null),this.field.config.hidden=!0)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-multi-select-field"]],inputs:{field:"field",dataQaTitle:"dataQaTitle",tabIndexToUse:"tabIndexToUse",groups:"groups"},standalone:!1,decls:11,vars:13,consts:[[3,"field","selectSingleEntry","groups","tabIndexToUse"],[1,"multi-select-action",3,"hidden"],["tabindex","0","role","button","data-qa","delete-button",3,"click","keydown.enter","keydown.space"],[1,"icon","icon-trashcan"],[1,"link"],[1,"multi-select-action","margin-top-xxl",3,"hidden"],["tabindex","0","role","button","data-qa","add-button",1,"link",3,"click","keydown.enter","keydown.space"]],template:function(r,o){r&1&&(D(0,"ev-forms-select-field",0),h(1,"div",1)(2,"span",2),Ee("click",function(){return o.deleteFormField()})("keydown.enter",function(){return o.deleteFormField()})("keydown.space",function(){return o.deleteFormField()}),D(3,"span",3),h(4,"span",4),R(5),H(6,"translate"),g()()(),h(7,"div",5)(8,"span",6),Ee("click",function(){return o.addFormField()})("keydown.enter",function(){return o.addFormField()})("keydown.space",function(){return o.addFormField()}),R(9),H(10,"translate"),g()()),r&2&&(C("field",o.field)("selectSingleEntry",!1)("groups",o.filteredGroups)("tabIndexToUse",o.tabIndexToUse),Le("data-qa",o.dataQaTitle),d(),C("hidden",o.firstFormField||!o.isLastVisibleElement()),d(4),Ae(j(6,9,o.Message.CHECKOUT_APP_CUSTOMER_DELETE)),d(2),C("hidden",o.lastFormField||!o.isLastVisibleElement()&&!o.lastFormField),d(2),ne(" ",j(10,11,o.Message.CHECKOUT_APP_CUSTOMER_ADD_ANOTHER)," "))},dependencies:[w0,Se],encapsulation:2});let t=i;return t})();var nM=(()=>{let i=class i{constructor(n){this.parentFormControl=n,this.Message=di,this.description="",this.showCounter=!1}ngOnInit(){this.maxCharacters!==void 0&&this.showCounter&&(this.remainingCharacters=this.maxCharacters,this.maxVisibleCharacters===void 0&&(this.maxVisibleCharacters=this.maxCharacters))}hasDescription(){return ee.isNotEmpty(this.description)}onTextAreaChange(n){if(this.showCounter){let r=n.target.value;this.remainingCharacters=this.maxCharacters-r.length}}fulfillsMaxCharConstraint(){return this.remainingCharacters>=0}getMaximumTextAreaLength(){return this.showCounter?Math.max(this.maxCharacters,this.maxVisibleCharacters):this.maxCharacters}};i.\u0275fac=function(r){return new(r||i)(Et(Lm))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-textarea"]],inputs:{field:"field",description:"description",maxCharacters:"maxCharacters",maxVisibleCharacters:"maxVisibleCharacters",showCounter:"showCounter",id:"id"},standalone:!1,decls:5,vars:11,consts:[[3,"formGroup"],[1,"form-control","theme-text-color",3,"input","maxLength","ngClass","name","formControlName","id"],["class","counter","data-qa","counter",3,"ngClass",4,"ngIf"],["class","card-hint theme-text-light-color","data-qa","description",4,"ngIf"],["data-qa","counter",1,"counter",3,"ngClass"],["data-qa","description",1,"card-hint","theme-text-light-color"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"textarea",1),Ee("input",function(c){return o.onTextAreaChange(c)}),R(2,"    "),g(),J(3,rIe,5,8,"span",2)(4,oIe,3,3,"div",3),g()),r&2&&(C("formGroup",o.parentFormControl.control),d(),C("maxLength",o.getMaximumTextAreaLength())("ngClass",et(9,nIe,!o.field.mandatory))("name",o.field.name)("formControlName",o.field.name)("id",o.id),Le("data-qa","textarea-"+o.field.name),d(2),C("ngIf",o.showCounter),d(),C("ngIf",o.hasDescription()))},dependencies:[At,ms,jr,Rr,Pn,wn,_o,Se],encapsulation:2});let t=i;return t})(),iA=class extends Ev{getType(){return Ru.PRICE}},o1=class extends Ev{getType(){return Ru.MESSAGE}},Hm=class extends Ev{getType(){return Ru.HTML}},t$=function(t){return t.SELF="_self",t.PARENT="_parent",t.TOP="_top",t.BLANK="_blank",t}(t$||{}),KR=class extends Ev{getType(){return Ru.LINK}},qR=class{constructor(i,e,n){this.href=i,this.target=e,this.name=n}};var bv=(()=>{let i=class i{constructor(){this.location=E(Vf),this.changeDetectorRef=E(nr),this.renderer=E(Er),this.document=E(Ot),this.modalWindowService=E(kn),this.accessibilityService=E(lee),this.router=E(zt),this.activatedRoute=E(Va,{optional:!0}),this.Message=di,this.id=kn.DEFAULT_ID,this.isSportsShop=!1,this.visible=!1,this.closeButtonDisabled=!1,this.subscriptions=[],this.ModalWidthEnum=er}ngOnInit(){this.closeButtonDisabled=!1,this.subscriptions.push(this.modalWindowService.onHideModal(this.id).subscribe(this.onHideModalWindow.bind(this))),this.subscriptions.push(this.modalWindowService.onShowModal(this.id).subscribe(this.onShowModalWindow.bind(this))),this.subscriptions.push(this.modalWindowService.onSetCloseButtonDisabled(this.id).subscribe(this.setCloseButtonDisabled.bind(this))),this.activatedRoute&&this.subscriptions.push(this.observeUrlQueryParameters())}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}determineCurrentScrollPosition(){let n;return window.scrollY!==void 0&&!Number.isNaN(window.scrollY)?n=window.scrollY:n=this.document.documentElement.scrollTop,n}dismissModal(n=!1){if(n||this.configuration.dismissable){let r=!0;this.configuration.hasCloseButtonCallback()&&(r=this.configuration.closeButtonCallback()),r&&(this.configuration.historyBack&&this.activatedRoute?this.document.defaultView.featureIsEnabledInApp!==void 0?this.hideModalWindow():En.historyBack():this.hideModalWindow())}}hideModalWindow(){this.modalWindowService.hideModal()}onHideModalWindow(){this.visible=!1,this.configuration.historyBack&&this.activatedRoute&&this.removeQueryParamFromUrl(),this.accessibilityService.activateBackgroundTabbing(),this.removeCustomWidthListener(),this.changeDetectorRef.detectChanges(),this.renderer.removeClass(this.document.defaultView.document.body,"stop-scrolling"),window.setTimeout(()=>{window.scrollTo(0,this.currentYScrollPosition),this.accessibilityService.setFocus()})}removeCustomWidthListener(){ce.isObject(this.widthSubscription)&&this.widthSubscription.unsubscribe(),ce.isObject(this.modalContent)&&this.renderer.removeStyle(this.modalContent.nativeElement,"max-width")}onClickPrimaryButton(){let n=this.configuration.primaryButtonCallback,r=this.configuration.primaryButtonTrackingCallback;typeof n=="function"&&n(),typeof r=="function"&&r(),this.configuration.shouldCloseModalAfterPrimaryButtonClick()&&this.hideModalWindow()}onClickSecondaryButton(){let n=this.configuration.secondaryButtonCallback,r=this.configuration.secondaryButtonTrackingCallback;typeof n=="function"&&n(),typeof r=="function"&&r(),this.configuration.shouldCloseModalAfterSecondaryButtonClick()&&this.hideModalWindow()}openPrintDialog(){window.print()}isFormattedTextHeadline(){return this.configuration.title instanceof po}observeUrlQueryParameters(){return this.activatedRoute.queryParams.pipe(Yt(()=>this.configuration instanceof Dn&&this.configuration.historyBack)).subscribe(n=>{n&&n.modal==="show"?this.visible||this.removeQueryParamFromUrl():this.visible&&this.hideModalWindow()})}onShowModalWindow(n){if(this.modalWindowService.setCloseButtonDisabled(n.id,!1),this.accessibilityService.markLastFocusedElement(),this.visible=!0,this.configuration=n,this.attachAdditionalOutputs(n),this.configuration.historyBack&&this.activatedRoute){let[r]=this.router.url.split("?"),[o]=r.split("#");this.router.navigate([o],{relativeTo:this.activatedRoute,queryParams:{modal:"show"}})}typeof n?.viewTrackingCallback=="function"&&n?.viewTrackingCallback(),this.changeDetectorRef.detectChanges(),this.onCustomOverlayOpacity(),this.renderer.addClass(this.document.defaultView.document.body,"stop-scrolling"),this.currentYScrollPosition=this.determineCurrentScrollPosition(),this.accessibilityService.deactivateBackgroundTabbing(),this.accessibilityService.activateTabbingInComponent(n.id),n.scrollToTop&&window.scrollTo({top:0})}onCustomOverlayOpacity(){this.configuration.hasBackgroundOpacity()&&ce.isObject(this.modalOverlay)&&this.renderer.setStyle(this.modalOverlay.nativeElement,"opacity",this.configuration.backgroundOpacity)}attachAdditionalOutputs(n){let r=n.componentConfig;Array.isArray(r.outputs)?r.outputs.push(...this.createModalSpecificOutputs()):r.outputs=this.createModalSpecificOutputs()}createModalSpecificOutputs(){return[{outputName:"showSpinner",handler:n=>{this.showSpinner=n,this.changeDetectorRef.detectChanges()}},{outputName:"closeModal",handler:this.hideModalWindow.bind(this)},{outputName:"setTitle",handler:n=>{this.configuration.enableTitle(n)}}]}removeQueryParamFromUrl(){let n=this.router.url.split("?");this.location.replaceState(n[0])}setCloseButtonDisabled(n){this.closeButtonDisabled=n.status,this.changeDetectorRef.detectChanges()}getFormattedTitle(){return this.configuration.title}getPlainTitle(){return this.configuration.title}getTopPadding(){return ro.isInsideIFrame()?`${window.screen.height/i.ONE_HUNDRED*i.FIVE}px`:""}modalElementClickProxy(n){n.target.classList.contains(this.configuration.elementListenerClass)&&typeof this.configuration.elementListenerCallback=="function"&&(n.preventDefault(),this.configuration.elementListenerCallback())}};i.ONE_HUNDRED=100,i.FIVE=5,i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-modal-window"]],viewQuery:function(r,o){if(r&1&&(Qi(aIe,5,ii),Qi(sIe,5,ii)),r&2){let s;Ni(s=Ri())&&(o.modalContent=s.first),Ni(s=Ri())&&(o.modalOverlay=s.first)}},inputs:{id:"id",isSportsShop:"isSportsShop"},standalone:!1,decls:1,vars:1,consts:[["modalOverlay",""],["modalContent",""],["data-qa","modal","aria-modal","true","role","dialog",1,"simple-modal","visible",3,"padding-top"],["data-qa","modal","aria-modal","true","role","dialog",1,"simple-modal","visible"],["data-qa","overlay",1,"simple-modal-overlay",3,"click","ngClass"],["data-qa","modal-content","evFormsOpenConsentSettings","",1,"theme-text-variant-color","simple-modal-content",3,"ngClass"],["data-qa","modal-close",1,"simple-basic-btn","simple-modal-close",3,"ngClass"],[1,"simple-card"],["data-qa","modal-inner","aria-labelledby","simple-modal-title","aria-describedby","modal-description",1,"simple-modal-inner"],["data-qa","print-button",1,"btn","btn-secondary","btn-sm","btn-close",3,"ngClass"],[1,"modal-spinner-content-loader"],["data-qa","modal-description","id","modal-description",1,"modal-description",3,"click"],[3,"componentConfiguration"],[1,"simple-modal-action-btn"],["data-qa","modal-close",1,"simple-basic-btn","simple-modal-close",3,"click","ngClass"],["data-qa","button-title",1,"btn-text"],["aria-hidden","true",1,"icon","icon-cross"],["id","simple-modal-title","data-qa","modal-headline",1,"modal-title"],[3,"content"],["aria-hidden","true",1,"modal-horizontal-dividing"],["data-qa","print-button",1,"btn","btn-secondary","btn-sm","btn-close",3,"click","ngClass"],[1,"icon","icon-ticketdirect"],[1,"btn-text"],[3,"visible","message","transparency"],["aria-hidden","true",1,"modal-horizontal-dividing","margin-bottom-l"],[1,"row"],[1,"col-xs-12",3,"ngClass"],["data-qa","secondary-button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","second-button",3,"click"],["data-qa","primary-button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg",3,"click","ngClass"]],template:function(r,o){r&1&&J(0,bIe,14,17,"div",2),r&2&&$(o.visible?0:-1)},dependencies:[At,Tc,xZ,Zr,JIe,Se],encapsulation:2,changeDetection:0});let t=i;return t})();var WR=function(t){return t.OFF="OFF",t.DUPLICATE_VALIDATION="DUPLICATE_VALIDATION",t}(WR||{}),jU=class{constructor(i,e){this._rules=i,this._form=e,this._rules.forEach(n=>n.apply(this._form))}has(i){return this._rules.find(e=>e.name===i)!==void 0}get(i){return this._rules.find(e=>e.name===i)}add(...i){return i.forEach(e=>{e&&!this.has(e.name)&&(e.apply(this._form),this._rules.push(e))}),this}remove(i){let e=this._rules.findIndex(n=>n.name===i);return e>-1&&this._rules.splice(e,1),this}destroy(){this._rules.forEach(i=>{i.destroy()})}},vn=class t extends jR{constructor(i,e=[],n=[],r=null){super(i),this._forms=new Map,this.submitted$=new qn,this._fieldDependencies=new Map,this._fields=new Map,this._rules=null,this.control=new bR({},r),this.createFormsMap(e),this.createFieldsMap(e),this.addFormElementsToSelf(e),this._rules=new jU(n,this)}get submitted(){return this._isSubmitted}get submitStateChanges(){return this.submitted$.asObservable()}get subForms(){return Array.from(this._forms.values())}get fields(){return Array.from(this._fields.values())}get rules(){return this._rules}setSubmitted(){this._isSubmitted=!0,this.submitted$.next(!0)}resetSubmitted(){this._isSubmitted=!1,this.submitted$.next(!1)}markAsTouched(){this.control!==void 0&&this.markControlAsTouched(this.control)}has(...i){let e=!1,n=this;return i.forEach((r,o)=>{o===i.length-1&&(n.hasForm(r)||n.hasField(r))&&(e=!0),n.hasForm(r)&&(n=n.getForm(r))}),e}hasForm(i){return this._forms.has(i)}hasField(i){return this._fields.has(i)}getForm(i){return this._forms.has(i)?this._forms.get(i):null}getFormAsOptional(i){return Pa.of(this._forms.get(i))}getField(i){return this._fields.has(i)?this._fields.get(i):null}findFormField(i){let e=this.getField(i);return ce.isNullable(e)&&this._forms.forEach(n=>{let r=n.findFormField(i);ce.isObject(r)&&(e=r)}),e}set(i){return i.setParent(this),i instanceof t&&!this._forms.has(i.name)&&this._forms.set(i.name,i),i instanceof Gt&&!this._fields.has(i.name)&&(this._fields.set(i.name,i),this.parent!==null&&this.getRootForm().checkCrossFormDependencies()),this.control.addControl(i.name,i.control),this}remove(i){return this._forms.has(i)&&this._forms.delete(i),this._fields.has(i)&&this._fields.delete(i),this.control.removeControl(i),this}destroy(){this._forms.forEach(i=>{i.destroy()}),this._fields.forEach(i=>{i.destroy()}),this._rules.destroy(),Array.from(this._fieldDependencies.values()).forEach(i=>{i.forEach(e=>e.unsubscribe())})}toJson(){let i={};return this.fields.filter(e=>e.active&&!e.isConfirmationField).forEach(e=>{i[e.name]=e.control.value}),this.subForms.filter(e=>e.active).forEach(e=>{i[e.name]=e.toJson()}),i}setDeliveryMethodType(i){this._forms.forEach(e=>{e.setDeliveryMethodType(i)}),this.fields.forEach(e=>{e.dependency.deliveryMethodType=i})}getRootForm(){let i=this;for(;ce.isObject(i.parent);)i=i.parent;return i}onParentSet(){this.getRootForm().checkCrossFormDependencies()}createFormsMap(i){i.filter(e=>e instanceof t).forEach(e=>{this._forms.set(e.name,e)}),this._forms.forEach(e=>{e.setParent(this)})}createFieldsMap(i){i.filter(e=>e instanceof Gt).forEach(e=>{this._fields.set(e.name,e)}),this._fields.forEach(e=>{e.setParent(this)}),this.checkCrossFormDependencies()}addFormElementsToSelf(i){i.forEach(e=>{this.control.addControl(e.name,e.control)})}markControlAsTouched(i){i instanceof AR?i.markAsTouched():i instanceof bR&&(i.markAsTouched(),Object.keys(i.controls).forEach(e=>{this.markControlAsTouched(i.controls[e])}))}checkCrossFormDependencies(){this._forms.forEach(i=>i.checkCrossFormDependencies()),this.fields.forEach(i=>i.dependency.checkDependencies())}},Vm=class{get active(){return this._enabled}constructor(){this._enabled=!0,this._subscriptions=[],this._debounceTimer=0}disable(){this._enabled=!1}enable(){this._enabled=!0}apply(i){this.form=i,Dt.isNotEmpty(this.watchFields)&&this.watchFields.forEach(e=>{this.registerChangeListener(e)}),this.onApply()}destroy(){this._subscriptions.forEach(i=>{i.unsubscribe()})}setDebounceInterval(i){this._debounceTimer=i}onApply(){}registerChangeListener(i){if(this.form.hasField(i)){let e=!0,n=this.form.getField(i).control.value;this._subscriptions.push(this.form.getField(i).control.valueChanges.pipe(Ro(),Pd(()=>yu(this._debounceTimer))).subscribe(r=>{this.active&&(this.onFieldValueChange(i,new Xg(n,r,e)),e=!1,n=r)}))}}};var hs=class extends As{constructor(i,e){super(i,e),this.errorMessage=i,this.messageReplacementPattern=e,this.type=wt.Rejected,this.validatorConfig={},this.validatorFn=null}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,ee.isNotEmpty(this.validatorConfig.message)&&(this.errorMessage=this.validatorConfig.message),Dt.isNotEmpty(this.validatorConfig.messageReplacementPattern)?this.messageReplacementPattern=this.validatorConfig.messageReplacementPattern:this.messageReplacementPattern=null,this.validatorFn=e=>this.validatorConfig&&e.value===this.validatorConfig.rejectedValue?{rejected:!0}:null}},P0=class extends Vm{constructor(i,e,n=!0,r=null,o=di.CHECKOUT_APP_CUSTOMER_EMAIL_EXISTS,s=null,c=!1){super(),this.emailResource=i,this.emailFieldName=e,this.assignedIsValid=n,this.passwordPolicy=r,this.errorMessage=o,this.initialValue=s,this.checkInitialValueAssigned=c,this.name="emailAssigned",this.watchFields=[],this.debounceInterval=500,this.field=null,this.initialValueRejected=!1,this.setDebounceInterval(this.debounceInterval),this.watchFields.push(this.emailFieldName)}onApply(){this.form.hasField(this.emailFieldName)&&(this.field=this.form.getField(this.emailFieldName),this.field.validation.add(new hs(this.errorMessage)),this.checkInitialValueAssigned&&ee.isNotEmpty(this.initialValue)&&this.onFieldValueChange(this.emailFieldName,new Xg(this.initialValue,this.initialValue,!1)))}onFieldValueChange(i,e){this.crossCheckPassword(),this.field!==null&&ee.isNotEmpty(this.field.control.value)&&this.isEmailPatternValid()?this.initialValueRejected&&this.field.control.value.trim().toLowerCase()===this.initialValue?.toLowerCase()?this.rejectValue():!this.checkInitialValueAssigned&&this.field.control.value.trim().toLowerCase()!==this.initialValue?.toLowerCase()||this.checkInitialValueAssigned?this.emailResource.isEmailValid(this.field.control.value).subscribe(n=>{this.assignedIsValid&&!n.emailAssigned||!this.assignedIsValid&&n.emailAssigned?(this.rejectValue(),this.handleInitialFieldValue()):this.field.validation.update(wt.Rejected,{})}):this.disableValidators():this.disableValidators()}isEmailPatternValid(){return this.field.control.valid||!ce.isObject(this.field.control.errors.pattern)}crossCheckPassword(){this.passwordPolicy!==null&&this.passwordPolicy===Rm.COMPLEX_NEW&&this.form.hasField("password")&&this.form.getField("password").control.updateValueAndValidity()}disableValidators(){this.field.validation.get(wt.Rejected).disable(),this.field.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}rejectValue(){this.field.validation.get(wt.Rejected).enable(),this.field.validation.update(wt.Rejected,{rejectedValue:this.field.control.value})}handleInitialFieldValue(){this.field.control.value===this.initialValue&&(this.initialValueRejected=!0,this.field.control.markAsDirty(),this.field.control.markAsTouched())}},rA=class extends Vm{constructor(i,e,n=null,r=di.CHECKOUT_APP_CUSTOMER_USERNAME_EXISTS,o=null){super(),this.usernameResource=i,this.fieldName=e,this.passwordPolicy=n,this.errorMessage=r,this.initialValue=o,this.name="usernameAssigned",this.watchFields=[],this.debounceInterval=500,this.field=null,this.setDebounceInterval(this.debounceInterval),this.watchFields.push(this.fieldName)}onApply(){this.form.hasField(this.fieldName)&&(this.field=this.form.getField(this.fieldName),this.field.validation.add(new hs(this.errorMessage)))}onFieldValueChange(i,e){this.passwordPolicy!==null&&this.passwordPolicy===Rm.COMPLEX_NEW&&this.form.hasField("password")&&this.form.getField("password").control.updateValueAndValidity(),this.field!==null&&this.hasValidPattern()&&this.field.control.value!==this.initialValue?this.usernameResource.isAssigned(this.field.control.value).subscribe(n=>{n.usernameAssigned?(this.field.validation.get(wt.Rejected).enable(),this.field.validation.update(wt.Rejected,{rejectedValue:this.field.control.value,message:this.errorMessage})):this.field.validation.update(wt.Rejected,{})}):this.disableValidators()}disableValidators(){this.field.validation.get(wt.Rejected).disable(),this.field.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}hasValidPattern(){return this.field.control.errors===null||!this.field.control.errors.pattern&&!this.field.control.errors.required}},Iv=(()=>{let i=class i extends cr{isEmailValid(n){let r=new Nr().set("email",n).set("apiVersion","2");return this.webshopApi.get("/email/validate",r)}};i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),iM=(()=>{let i=class i extends cr{isAssigned(n){let r=new Nr().set("username",n).set("apiVersion","2");return this.webshopApi.get("/username/validate",r)}};i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var GU=class t{static getDefaultFlattened(i){return i?.flatMap(e=>e.items?.map(t.convertToLabelValuePair))}static convertToLabelValuePair(i){return{label:i.label??i.name,value:i.value??i.id}}},a1=class extends As{constructor(i,e=new Date("1900-01-01")){super(i),this.errorMessage=i,this.type=wt.DateAfter,this.validatorConfig={afterDate:null},this.validatorFn=null,e!==null&&(this.validatorConfig.afterDate=e),this.validatorFn=n=>{let r={},o=n.value;return this.validatorConfig.afterDate!==void 0&&this.validatorConfig.afterDate!==null&&ee.isNotEmpty(o)&&new Date(o)<=this.validatorConfig.afterDate?(r[wt.DateAfter]=!0,r):null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}},s1=class extends As{constructor(i,e=new Date){super(i),this.errorMessage=i,this.type=wt.DateBefore,this.validatorConfig={beforeDate:null},this.validatorFn=null,e!==null&&(this.validatorConfig.beforeDate=e),this.validatorFn=n=>{let r={},o=n.value;return this.validatorConfig.beforeDate!==void 0&&this.validatorConfig.beforeDate!==null&&ee.isNotEmpty(o)&&new Date(o)>=this.validatorConfig.beforeDate?(r[wt.DateBefore]=!0,r):null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}},dA=(()=>{let i=class i extends As{constructor(n){super(n),this.errorMessage=n,this.DATE_VALUE_QUANTITY=3,this.type=wt.Date,this.validatorConfig={},this.validatorFn=null,this.validatorFn=r=>{let o={};o[wt.Date]=!0;let s=r.value;if(ee.isNotEmpty(s)){let c=s.split("-");if(c.length===this.DATE_VALUE_QUANTITY){let[v,b,x]=c,k=new Date(s),O=new Date(k.getTime()+i.A_DAY);if(this.dateIsInvalid(k,v,b,x)&&this.dateIsInvalid(O,v,b,x))return o}else return o}return null}}dateIsInvalid(n,r,o,s){return Number.isNaN(n.getTime())||n.getFullYear()!==Number.parseInt(r)||n.getMonth()+1!==Number.parseInt(o)||n.getDate()!==Number.parseInt(s)}onPayloadUpdate(n){this.validatorConfig=n.validatorConfig}};i.A_DAY=864e5;let t=i;return t})(),KU=class extends As{constructor(i,e=null){super(i),this.errorMessage=i,this.type=wt.NoUrl,this.validatorConfig={regExp:null},this.validatorFn=null,e!==null&&this.updateRegExp(e)}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,this.validatorConfig.regExp!==void 0?this.updateRegExp(this.validatorConfig.regExp):this.validatorFn=()=>null}updateRegExp(i){typeof i=="string"&&(i.startsWith("/")&&i.endsWith("/")&&(i=i.slice(1,-1)),i=new RegExp(i,"gmi")),this.validatorConfig.regExp=i,this.validatorFn=e=>{let n={},r=e.value;return this.validatorConfig.regExp!==void 0&&this.validatorConfig.regExp!==null&&ee.isNotEmpty(r)&&r.trim().match(this.validatorConfig.regExp)?(n[wt.NoUrl]=!0,n):null}}},qU=class extends As{constructor(i=di.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY){super(i),this.type=wt.NoZeroValue,this.onlyMandatory=!0,this.validatorConfig={},this.validatorFn=null,this.validatorFn=e=>{if(String(e.value).match(/^0$/g)){let n={};return n[this.type]=!0,n}return null}}onPayloadUpdate(i){}},nh=class extends As{constructor(i,e=null){super(i),this.errorMessage=i,this.type=wt.Pattern,this.validatorConfig={regExp:null},this.validatorFn=null,e!==null&&this.updateRegExp(e)}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,this.validatorConfig.regExp!==void 0?this.updateRegExp(this.validatorConfig.regExp):this.validatorFn=()=>null}updateRegExp(i){typeof i=="string"&&(i.startsWith("/")&&i.endsWith("/")&&(i=i.slice(1,-1)),i=new RegExp(i)),this.validatorConfig.regExp=i,this.validatorFn=Xf.pattern(this.validatorConfig.regExp)}},oA=class extends As{constructor(i,e,n){super(i),this.errorMessage=i,this.type=wt.Size,this.validatorConfig={minLength:null,maxLength:null},this.validatorFn=null,Number.isInteger(e)&&(this.validatorConfig.minLength=e),Number.isInteger(n)&&(this.validatorConfig.maxLength=n),this.updateValidatorFn()}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,this.updateValidatorFn()}updateValidatorFn(){Number.isInteger(this.validatorConfig.minLength)||Number.isInteger(this.validatorConfig.maxLength)?this.validatorFn=Xf.compose([Xf.minLength(this.validatorConfig.minLength),Xf.maxLength(this.validatorConfig.maxLength)]):this.validatorFn=()=>null}},ea=class t{static getValidators(i,e){let n=t.getValidatorsByRule(i);return t.getValidatorsByType(e.type).forEach(r=>n.push(r)),n}static getValidatorsByRule(i){let e=[];return ce.isObject(i)&&Object.keys(i).forEach(n=>{switch(n){case"required":e.push(new ir(i.required.message));break;case"rejected":e.push(new hs(i.rejected.message));break;case"pattern":e.push(new nh(i.pattern.message,i.pattern.value));break;case"size":e.push(new oA(i.size.message,i.size.min,i.size.max));break;case"noUrl":e.push(new KU(i.noUrl.message,i.noUrl.value));break;default:}}),e}static getValidatorsByType(i){let e=[];switch(i){case Mt.Date:e.push(new dA(di.CHECKOUT_APP_BIRTHDAY_INVALID_FORMAT)),e.push(new a1(di.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_PAST)),e.push(new s1(di.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_FUTURE));break;case Mt.Radio:case Mt.Select:e.push(new qU);break;default:}return e}},n$=function(t){return t.VALID="VALID",t.INVALID="INVALID",t.PENDING="PENDING",t.DISABLED="DISABLED",t}(n$||{}),BT=class extends As{constructor(i=di.CHECKOUT_APP_BIRTHDAY_INVALID_NOT_EIGHTEEN){super(i),this.errorMessage=i,this.type=wt.DateEighteen,this.validatorFn=e=>{let n=new Date,r=18,o=null,s=new Date(e.value),c=new Date(new Date().setFullYear(n.getFullYear()-r));return s>=c&&s<=n&&(o={},o[wt.DateEighteen]=!0),o}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}},WU=class extends As{constructor(i,e){super(i),this.errorMessage=i,this.type=wt.CityOfBirth,this.validatorConfig={},this.validatorFn=null,this.validatorFn=n=>{let r={};r[wt.CityOfBirth]=!0;let o=e.getProperty("cityId");return e.active&&!e.locked&&o==null?r:null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}},zR=class extends As{constructor(i){super(i),this.errorMessage=i,this.additionalPatternValidator=Xf.pattern(/\.(.){2,}$/),this.type=wt.Email,this.validatorConfig={},this.validatorFn=null,this.validatorFn=e=>{let n={},r=Xf.email(e)!==null||this.additionalPatternValidator(e)!==null,o=e.value;return ee.isNotEmpty(o)&&r?(n[wt.Email]=!0,n):null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}},YR=class extends As{constructor(i,e,n){super(i),this.errorMessage=i,this.passwordPolicy=e,this.form=n,this.type=wt.Password,this.validatorConfig={},this.validatorFn=null,this.validatorFn=r=>{let o={},s=r.value;return ee.isNotEmpty(s)&&this.invalidForComplexPwdRules(s)?(o[wt.Password]=!0,o):null}}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig}invalidForComplexPwdRules(i){if(this.passwordPolicy===Rm.COMPLEX_NEW){let e=this.form.getField("email").control.value.split("@")[0];if(i.includes(e)&&ee.isNotEmpty(e.trim()))return!0}return!1}},aA=class extends As{constructor(i){super(i),this.errorMessage=i,this.type=wt.Failed,this.validatorConfig={},this.validatorFn=e=>({failed:!0})}onPayloadUpdate(i){}};var _a=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[Iv,iM],imports:[Vr,Kl.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),oi.forChild(),ts,Po,k2]});let t=i;return t})();var k0=function(t){return t[t.DisplayAllWithOptionalLabel=0]="DisplayAllWithOptionalLabel",t[t.DisplayAllWithOptionalPlaceholder=1]="DisplayAllWithOptionalPlaceholder",t[t.DisplayOnlyMandatory=2]="DisplayOnlyMandatory",t}(k0||{}),Gm=function(t){return t.None="NONE",t.Break="LINE_BREAK",t}(Gm||{});var mee=function(t){return t[t.DESCRIPTION_BELOW=0]="DESCRIPTION_BELOW",t[t.MARKDOWN_DESCRIPTION_ABOVE=1]="MARKDOWN_DESCRIPTION_ABOVE",t}(mee||{});var fs=function(t){return t.Birthday="birthday",t.Country="country",t.Nationality="nationality",t.Salutation="salutation",t.Gender="gender",t.Title="title",t.Lastname="lastName",t.Firstname="firstName",t.Street="street",t.ZipCode="zipCode",t.City="city",t.PhoneNumber="phoneNumber",t.IdNumber="idNumber",t.PoBoxZipCode="poBoxZipCode",t.PoBoxCity="poBoxCity",t.Email="email",t.MobilePhoneNumber="mobilePhoneNumber",t.FaxNumber="faxNumber",t.Province="province",t.FiscalCode="fiscalCode",t}(fs||{});var zU=class{constructor(i,e,n,r=k0.DisplayAllWithOptionalLabel){this._fields=e,this.document=n,this._addressFieldMode=r,this._shownFields=new Set,this._hiddenFields=new Set,this._subscriptions=new Map,this.name=i,this.organizeFieldsForDisplay()}isVisible(){return this._hiddenFields.size>0}showFields(){Array.from(this._hiddenFields.values()).forEach(i=>{this.showField(i)})}hasField(i){return this._hiddenFields.has(i)||this._shownFields.has(i)}isFieldShown(i){return this.hasField(i)&&this._shownFields.has(i)}updateAddressFieldMode(i){this._addressFieldMode=i,this.organizeFieldsForDisplay()}destroy(){Array.from(this._subscriptions.values()).forEach(i=>i.unsubscribe())}organizeFieldsForDisplay(){this._fields.forEach(i=>{this.checkAddressFieldMode(i)||this.shouldBeShownIfFilled(i)||this.isFieldNecessary(i)?this.showField(i):(this.hideField(i),this.checkAgainIfFieldHasErrors(i))})}showField(i){let e=!1,n=this.document.getElementById(i.id);this._hiddenFields.has(i)&&(this._hiddenFields.delete(i),this._subscriptions.has(i.name)&&this._subscriptions.get(i.name).unsubscribe(),e=!0),this._shownFields.add(i),i.id&&e&&n&&setTimeout(()=>{n.focus()},500)}hideField(i){this._shownFields.has(i)||(this._hiddenFields.add(i),this._subscriptions.set(i.name,i.onMandatoryStateChange().pipe(Yt(e=>e)).subscribe(()=>{this.isFieldNecessary(i)&&this.showField(i)})))}checkAgainIfFieldHasErrors(i){ee.isEmpty(i.control.value)||(i.control.updateValueAndValidity(),setTimeout(()=>{i.control.valid||this.showField(i)}))}shouldBeShownIfFilled(i){return i.config.showIfFilled&&ee.isNotEmpty(i.control.value)}isFieldNecessary(i){return ee.isEmpty(i.control.value)&&i.mandatory}checkAddressFieldMode(i){return this._addressFieldMode===k0.DisplayOnlyMandatory&&!i.mandatory}},fee=(()=>{let i=class i{constructor(n){this.partnerCookieService=n}injectPartnerCustomer(n,r){r.customerId<=0&&this.partnerCookieService.getPartnerCookie().ifPresent(o=>{this.setPartnerCustomerValue(n,Ue.CustomerFirstName,o.firstName),this.setPartnerCustomerValue(n,Ue.CustomerLastName,o.lastName),this.setPartnerCustomerValue(n,Ue.CustomerStreetAndNo,o.street),this.setPartnerCustomerValue(n,Ue.CustomerPostalCode,o.postalCode),this.setPartnerCustomerValue(n,Ue.CustomerCity,o.city),this.setPartnerCustomerValue(n,Ue.CustomerPhone,o.phoneNumber)})}setPartnerCustomerValue(n,r,o){n.hasField(r)&&n.getField(r).control.setValue(o)}};i.\u0275fac=function(r){return new(r||i)(yt(qC))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),YU=class extends Vm{constructor(i){super(),this.fieldNames=i,this.name="equals",this.watchFields=[],this.errorMessage=di.GLOBAL_CONFIRMATION_FIELD_NOT_EQUAL,this.fieldNames.forEach(e=>{this.watchFields.push(e),this.watchFields.push(`${e}_`)})}onApply(){this.fieldNames.filter(i=>this.form.hasField(`${i}_`)&&!this.form.getField(`${i}_`).validation.has(wt.Rejected)).forEach(i=>{this.form.getField(`${i}_`).validation.add(new hs(ee.EMPTY_STRING))})}onFieldValueChange(i,e){let n,r;if(this.form.hasField(i)){let o=this.form.getField(i);o.isConfirmationField?(r=o,n=this.form.getField(String(i).split("_")[0])):(n=o,r=this.form.getField(`${i}_`)),ee.isEmpty(r.control.value)||ee.isEmpty(n.control.value)||r.control.value===n.control.value?(r.validation.update(wt.Rejected,{rejectedValue:ee.EMPTY_STRING}),r.validation.get(wt.Rejected).disable()):(r.validation.get(wt.Rejected).enable(),r.validation.update(wt.Rejected,{rejectedValue:r.control.value,message:this.errorMessage,messageReplacementPattern:[{placeholder:"{0}",replacementValue:n.config.label}]}))}}},JR=function(t){return t.BRAZIL="BR",t.SPAIN="ES",t}(JR||{}),XR=class extends Vm{constructor(i,e){super(),this.fiscalCodeValidationResource=i,this.options=e,this.watchFields=[],this.debounceInterval=500,this.fiscalAlreadyValidated=!1,this.formField=null,this.errorMessage=di.GLOBAL_CUSTOMER_FISCALCODE_INVALID,this.setDebounceInterval(this.debounceInterval),this.watchFields.push(Ue.CustomerFiscalCode),this.watchFields.push(Ue.CustomerCountry)}onApply(){if(this.formField=this.form.getField(Ue.CustomerFiscalCode),this.formField!==null){if(ee.isNotEmpty(this.formField.control.value)&&!this.options.fiscalCodeChangeable){this.formField.lock(),this.fiscalAlreadyValidated=!0;return}this.formField.validation.add(new hs(this.errorMessage)),this.isCountry(this.options.countryCode)&&this.formField.validation.add(new aA(ee.EMPTY_STRING))}}onFieldValueChange(i,e){if(this.formField===null||this.fiscalAlreadyValidated)return;let n=i===Ue.CustomerFiscalCode?e.currentValue:this.formField.control.value;this.formField.validation.get(wt.Failed).active||(this.formField.validation.get(wt.Failed).enable(),this.formField.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})),ee.isNotEmpty(n)&&this.isCountry(this.options.countryCode)?this.fiscalCodeValidationResource.validateCode(n).subscribe(r=>{r?(this.formField.validation.get(wt.Failed).disable(),this.formField.control.setValue(r.cpfNumber,{emitEvent:!1})):(this.formField.validation.get(wt.Failed).disable(),this.formField.control.setValue(n.toUpperCase(),{emitEvent:!1}))},r=>{this.handleError(r)}):this.disableValidators()}disableValidators(){this.formField.validation.get(wt.Rejected).disable(),this.formField.validation.get(wt.Failed).disable(),this.formField.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}handleError(i){switch(i.errorCode){case br.CODE_FISCAL_CODE_ALREADY_EXISTS:this.errorMessage=di.CHECKOUT_APP_CUSTOMER_CPF_EXISTS;break;case br.CODE_CPF_FISCAL_INVALID:this.options.countryCode===JR.BRAZIL&&(this.errorMessage=di.CHECKOUT_APP_CUSTOMER_CPF_INVALID);break;case br.CODE_FISCAL_INVALID:this.errorMessage=di.GLOBAL_CUSTOMER_FISCALCODE_INVALID;break;default:}this.formField.validation.get(wt.Rejected).enable(),this.formField.validation.get(wt.Rejected).setErrorMessage(this.errorMessage),this.formField.validation.update(wt.Rejected,{rejectedValue:this.formField.control.value})}isCountry(i){let e=this.form.getField(Ue.CustomerCountry);return(e===null?"":e.control.value)===i}},JU=class extends XR{constructor(i,e){super(i,e),this.name="Brazilian fiscal code validation"}},RU=(()=>{let i=class i extends Vm{constructor(n,r,o){super(),this.fiscalCodeConfig=n,this.individualFiscalCodeHandler=r,this.businessFiscalCodeHandler=o,this.debounceInterval=500,this.name="ItalianFiscalCodeRuleset",this.watchFields=[],this.setDebounceInterval(this.debounceInterval),this.watchFields.push(Ue.CustomerType,Ue.CustomerCountry,Ue.CustomerGender,Ue.CustomerLastName,Ue.CustomerFirstName,Ue.CustomerDateOfBirth,Ue.CustomerCountryOfBirth,Ue.CustomerCityOfBirth,Ue.CustomerFiscalCode,Ue.CustomerCompany,Ue.CustomerVat)}onApply(){this.initializeFiscalCode(),this.initializeTaxNumber(),this.initializeCityOfBirth(),this.handleCityOfBirth(),this.fiscalCodeConfig.fiscalCodeValidated&&this.watchFields.forEach(n=>{let r=this.form.getField(n);ce.isObject(r)&&r.lock()})}onFieldValueChange(n,r){if(this.fiscalCodeConfig.validationMode===1&&!this.fiscalCodeConfig.fiscalCodeValidated){let o=this.form.getField(Ue.CustomerFiscalCode);ce.isObject(o)&&o.validation.get(wt.Failed).setErrorMessage(""),this.handleCityOfBirth(),this.determineHandler().ifPresent(s=>s.handleFiscalCode(this.form))}}initializeFiscalCode(){let n=this.form.getField(Ue.CustomerFiscalCode);ce.isObject(n)&&(n.validation.add(new aA("")),n.validation.get(wt.Failed).disable(),n.validation.add(new hs(di.GLOBAL_CUSTOMER_FISCALCODE_INVALID)),n.validation.get(wt.Rejected).disable())}initializeTaxNumber(){let n=this.form.getField(Ue.CustomerVat);ce.isObject(n)&&(n.validation.add(new aA(di.CHECKOUT_APP_CUSTOMER_VAT_INVALID)),n.validation.get(wt.Failed).disable())}initializeCityOfBirth(){let n=this.form.getField(Ue.CustomerCityOfBirth);ce.isObject(n)&&n.validation.add(new WU(di.CHECKOUT_APP_CUSTOMER_CITY_OF_BIRTH_SUGGEST_INVALID,n))}handleCityOfBirth(){let n=this.form.getField(Ue.CustomerCountryOfBirth),r=this.form.getField(Ue.CustomerCityOfBirth);ce.isObject(n)&&ce.isObject(r)&&(this.countryOfBirthIsItaly(n)?r.unlock():r.lock())}countryOfBirthIsItaly(n){let r=n.getProperty("item");return ce.isObject(r)&&r.isoCode===i.ITALIAN_COUNTRY_CODE}determineHandler(){let n=this.form.getField(Ue.CustomerType);if(!n)return Pa.of(this.individualFiscalCodeHandler);let r=n.control.value;return r==="1"?Pa.of(this.individualFiscalCodeHandler):r==="2"?Pa.of(this.businessFiscalCodeHandler):Pa.empty()}};i.ITALIAN_COUNTRY_CODE="IT";let t=i;return t})(),XU=class extends XR{constructor(i,e){super(i,e),this.name="Italian fiscal code validation"}},MT=class extends Vm{constructor(i,e,n,r,o){super(),this.countries=i,this.name="PostalCodeAddressLookup",this.watchFields=[],this.debounceInterval=500,this.setDebounceInterval(this.debounceInterval),this.watchFields.push(n),this.countryFieldName=e,this.postalCodeAddressLookupService=r,this.fieldsMap=o}onApply(){}onFieldValueChange(i,e){let n=e.currentValue,r=this.form.getField(this.countryFieldName),o=this.countries.get(r.control.value);o?.zipCodeLookupMode===1&&ee.isNotEmpty(n)&&this.postalCodeAddressLookupService.getAddressByZipCodeFromResource(o.id,n).subscribe(s=>{s!==null&&this.fillAddressFields(s)})}fillAddressFields(i){for(let e of Array.from(this.fieldsMap.keys()))this.form.hasField(e)&&this.form.getField(e).control.setValue(i[this.fieldsMap.get(e)])}},n1=class extends Vm{constructor(i,e,n){super(),this.countries=i,this.name="PostalCode",this.watchFields=[],this.watchFields.push(e),this.postalCodeFieldName=n,this.countryFieldName=e}onFieldValueChange(i,e){let n=e.currentValue,r=this.countries.get(n),o=this.form.getField(this.postalCodeFieldName);o!==null&&(r!==void 0&&ee.isNotEmpty(r.zipCodePattern)?o.validation.update(wt.Pattern,{regExp:r.zipCodePattern}):o.validation.update(wt.Pattern,{}))}onApply(){let i=this.form.getField(this.countryFieldName),e=this.form.getField(this.postalCodeFieldName);e!==null&&i!==null&&(e.validation.has(wt.Pattern)||e.validation.add(new nh(di.CHECKOUT_APP_CUSTOMER_POSTCODE_INVALID)),this.onFieldValueChange(this.countryFieldName,new Xg(null,i.control.value,!0)))}},i1=class extends Vm{constructor(i,e,n){super(),this.provinces=i,this.name="ProvinceField",this.watchFields=[],this.watchFields.push(e),this.provinceFieldName=n,this.countryFieldName=e}onFieldValueChange(i,e){let n=e.currentValue,r=this.form.getField(this.provinceFieldName);r!==null&&(ee.isNotEmpty(n)&&this.hasProvinces(n)?(r.config.selectGroups=this.getProvinces(n),r.config.hidden=this.form.getField(this.countryFieldName).config.hidden):(r.config.selectGroups=null,r.config.hidden=!0))}onApply(){let i=this.form.getField(this.countryFieldName);this.form.getField(this.provinceFieldName)!==null&&i!==null&&this.onFieldValueChange(this.countryFieldName,new Xg(null,i.control.value,!0))}hasProvinces(i){return this.provinces!==null&&this.provinces.has(i)}getProvinces(i){return eh.getProvinceGroups(this.provinces.get(i))}},$m=class{static getPostalCodeRuleset(i,e){let n=new Map([[bn.InvoiceData,new n1(e,Ue.CustomerCountry,Ue.CustomerPostalCode)],[bn.ContactData,new n1(e,Ue.CustomerCountry,Ue.CustomerPostalCode)],[bn.MyDataData,new n1(e,Ue.CustomerCountry,Ue.CustomerPostalCode)],[bn.TicketReturnContactData,new n1(e,Ue.CustomerCountry,Ue.CustomerPostalCode)],[bn.DeliveryData,new n1(e,Ue.DeliveryCountry,Ue.DeliveryPostalCode)]]);return n.has(i)?n.get(i):null}static getBrazilianFiscalCodeValidationRuleset(i,e,n,r){if(!e||e.validationMode!==1){let o={countryCode:JR.BRAZIL,fiscalCodeChangeable:r.cpfChangeable};if(i===bn.InvoiceData||i===bn.ContactData||i===bn.MyDataData)return new JU(n,o)}return null}static getSpanishFiscalCodeValidationRuleset(i,e,n){if(!e||e.validationMode!==1){let r={countryCode:JR.SPAIN,fiscalCodeChangeable:!0};if(i===bn.InvoiceData||i===bn.ContactData||i===bn.MyDataData)return new XU(n,r)}return null}static getPostalCodeAddressLookupRuleset(i,e,n){let r=new Map([[Ue.CustomerCity,"city"],[Ue.CustomerStreetAndNo,"fullStreet"],[Ue.CustomerAddressLine3,"district"],[Ue.CustomerProvince,"state"]]),o=new Map([[Ue.DeliveryCity,"city"],[Ue.DeliveryStreetAndNo,"fullStreet"],[Ue.DeliveryAddressLine3,"district"],[Ue.DeliveryProvince,"state"]]),s=new Map([[bn.InvoiceData,new MT(e,Ue.CustomerCountry,Ue.CustomerPostalCode,n,r)],[bn.ContactData,new MT(e,Ue.CustomerCountry,Ue.CustomerPostalCode,n,r)],[bn.MyDataData,new MT(e,Ue.CustomerCountry,Ue.CustomerPostalCode,n,r)],[bn.DeliveryData,new MT(e,Ue.DeliveryCountry,Ue.DeliveryPostalCode,n,o)]]);return s.has(i)?s.get(i):null}static getProvinceFieldRuleset(i,e){let n=new Map([[bn.InvoiceData,new i1(e,Ue.CustomerCountry,Ue.CustomerProvince)],[bn.ContactData,new i1(e,Ue.CustomerCountry,Ue.CustomerProvince)],[bn.MyDataData,new i1(e,Ue.CustomerCountry,Ue.CustomerProvince)],[bn.TicketReturnContactData,new i1(e,Ue.CustomerCountry,Ue.CustomerProvince)],[bn.DeliveryData,new i1(e,Ue.DeliveryCountry,Ue.DeliveryProvince)]]);return n.has(i)?n.get(i):null}static getItalianFiscalCodeRuleset(i,e,n,r){if(ce.isObject(e)){let o=new Map([[bn.InvoiceData,new RU(e,n,r)],[bn.ContactData,new RU(e,n,r)],[bn.MyDataData,new RU(e,n,r)]]);return o.has(i)?o.get(i):null}}static getEqualsRuleset(i){let e=i.filter(n=>n.config.additionalValidationMode===WR.DUPLICATE_VALIDATION);return Dt.isNotEmpty(e)?new YU(e.map(n=>n.name)):null}static getEmailAssignedRulesetList(i,e,n){let r=i.filter(o=>o.config.type===Mt.Email);return Dt.isNotEmpty(r)?r.map(o=>new P0(e,o.name,!1,null,di.CHECKOUT_APP_CUSTOMER_EMAIL_EXISTS,o.control.value,n)):[]}static getUsernameAssignedRuleset(i,e){if(i.hasField(Ue.CustomerUsername))return new rA(e,Ue.CustomerUsername,null,di.CHECKOUT_APP_CUSTOMER_USERNAME_EXISTS,i.getField(Ue.CustomerUsername).control.value)}},Tv=class t{static getAutocompleteKey(i,e){let n=new Map([[Ue.CustomerFirstName,gr.FIRST_NAME],[Ue.CustomerLastName,gr.LAST_NAME],[Ue.CustomerEmail,gr.EMAIL],[Ue.CustomerPhone,gr.TEL],[Ue.CustomerCompany,gr.ORGANIZATION],[Ue.CustomerStreetAndNo,gr.STREET_ADDRESS],[Ue.CustomerCity,gr.CITY],[Ue.CustomerPostalCode,gr.POSTAL_CODE],[Ue.CustomerCountry,gr.COUNTRY],[Ue.CustomerAddressLine1,gr.ADDRESS_LINE_1],[Ue.CustomerAddressLine2,gr.ADDRESS_LINE_2],[Ue.CustomerAddressLine3,gr.ADDRESS_LINE_3]]);return n.has(i)&&e?n.get(i):gr.OFF}static getFieldAsOptional(i,e){let n=Object.values(bn).find(r=>i.has(r,e));return n!==void 0?Pa.of(i.getForm(n).getField(e)):Pa.empty()}static buildShocuForm(i,e){let n=new Map,r=new Map;return t.buildSubForms(i).forEach(o=>{n.set(o.name,o.fields.map(s=>s.config)),r.set(o.name,!0),e.set(o)}),[e,n,r]}static buildSubForms(i,e=n=>n){let n=[];return Object.keys(i).filter(r=>t.isGroupName(i,r)).forEach(r=>{let o=new Map,s=i[r].map(c=>this.updateMultiSelectProperties(o,c)).map((c,v,b)=>(this.setMultiSelectFieldNames(c,b),e(new Gt(c,t.getValidators(c)))));n.push(new vn(r,t.enhanceListForAdditionalValidation(s)))}),n}static updateCustomerFormJson(i,e){Object.keys(i).filter(n=>t.isGroupName(i,n)).forEach(n=>{let r=e.getForm(n);r&&i[n].forEach(o=>{let s=r.getField(o.fieldName);s&&(o.value=t.determineValue(o.fieldName,s.control.value,e,n))})})}static buildFormDataJson(i){let e=i.toJson(),n={};return Object.keys(e).forEach(r=>{if([bn.InvoiceData,bn.InvoiceRequestData,bn.DeliveryData,bn.ContactData,bn.MyDataData,bn.LoyaltyData].indexOf(r)>=0){let s=r,c=e[s];n[s]=Object.keys(c).map(v=>({fieldName:this.resetMultiSelectFieldName(i,v,s),value:t.determineValue(v,c[v],i,s)}))}else n[r]=e[r]}),n}static determineValue(i,e,n,r){return i===Ue.CustomerCityOfBirth?ee.isEmpty(e)?e="0":e=n.getForm(r).getField(i).getProperty("cityId","0"):i===Ue.CustomerFiscalCode&&ee.isEmpty(e)&&(e="void"),e}static isGroupName(i,e){return e.endsWith("Data")&&Array.isArray(i[e])&&i[e].length>0}static getValidators(i){let e=[];return e=e.concat(ea.getValidatorsByRule(i.validation),ea.getValidatorsByType(i.type)),e}static enhanceListForAdditionalValidation(i){return i.forEach((e,n)=>{if(e.config.additionalValidationMode===WR.DUPLICATE_VALIDATION){let r=JSON.parse(JSON.stringify(e.config));r.fieldName=`${e.name}_`,r.description=ee.EMPTY_STRING,r.additionalValidationMode=WR.OFF;let o=new Gt(r);o.isConfirmationField=!0,i.splice(n+1,0,o)}}),i}static updateMultiSelectProperties(i,e){return!this.isMultiSelectType(e)||e.multiSelectModified||(i.has(e.fieldName)?(i.set(e.fieldName,i.get(e.fieldName)+1),e.hidden=e.hidden??ee.isEmpty(e.value),e.description=null):(i.set(e.fieldName,1),e.hidden=!1),e.fieldName=`${e.fieldName}-${i.get(e.fieldName)}`,e.multiSelectModified=!0),e}static setMultiSelectFieldNames(i,e){this.isMultiSelectType(i)&&(i.multiSelectFieldNames=e.filter(n=>n.fieldName.startsWith(i.fieldName.split("-")[0])).map(n=>n.fieldName))}static resetMultiSelectFieldName(i,e,n){return this.isMultiSelectType(i.getForm(n).getField(e).config)?e.split("-")[0]:e}static isMultiSelectType(i){return i.type===Mt.MultiSelect}},hee=(()=>{let i=class i extends cr{constructor(n){super(n)}validateFiscalCode(n){return this.webshopApi.post("/customers/validateFiscalCode",n).toPromise()}};i.\u0275fac=function(r){return new(r||i)(yt(Vo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),gee=(()=>{let i=class i{constructor(n,r){this.italianFiscalCodeResource=n,this.logService=r}handleFiscalCode(n){this.form=n,this.resetTaxNumberValidation(),this.checkFiscalFields(),this.validateFiscalCode()}resetTaxNumberValidation(){let n=this.form.getField(Ue.CustomerVat);ce.isObject(n)&&(n.validation.get(wt.Failed).disable(),n.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1}))}checkFiscalFields(){let n=this.form.getField(Ue.CustomerCountry),r=this.form.getField(Ue.CustomerFiscalCode),o=this.form.getField(Ue.CustomerGender);r.unlock(),r.validation.get(wt.Failed).disable(),n?.control?.value&&n?.control?.value!==i.ITALIAN_COUNTRY_CODE?this.checkFiscalFieldForNonItalian(r):(this.checkFiscalFieldForItalian(r),this.checkGenderFieldForItalian(r,o)),r.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}checkGenderFieldForItalian(n,r){r?.control.valid&&!this.isGenderMaleOrFemale(r)&&(n.validation.get(wt.Failed).setErrorMessage(di.CHECKOUT_APP_CUSTOMER_GENDER_INVALID_FOR_FISCAL_CODE_CHECK),n.validation.get(wt.Failed).enable())}checkFiscalFieldForItalian(n){n.control.dirty||n.control.touched?n.control.value.replace(/\s/g,"").length!==i.FISCAL_CODE_LENGTH&&n.validation.get(wt.Failed).enable():n.control.setValue("")}checkFiscalFieldForNonItalian(n){n.control.dirty||n.control.touched?n.control.value!==i.DEFAULT_FISCAL_CODE&&n.validation.get(wt.Failed).enable():n.control.setValue(i.DEFAULT_FISCAL_CODE)}validateFiscalCode(){let n=this.form.getField(Ue.CustomerCountryOfBirth),r=this.form.getField(Ue.CustomerCityOfBirth),o=this.form.getField(Ue.CustomerDateOfBirth),s=this.form.getField(Ue.CustomerFirstName),c=this.form.getField(Ue.CustomerLastName),v=this.form.getField(Ue.CustomerGender),b=this.form.getField(Ue.CustomerFiscalCode);if(this.isReadyForValidation(n,r,o,s,c,v,b)){b.validation.get(wt.Failed).enable(),b.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1});let x={customerCityOfBirthId:parseInt(r.getProperty("cityId","0"),10),customerCountryOfBirthId:parseInt(n.control.value,10),customerDateOfBirth:o.control.value,customerFirstName:s.control.value,customerLastName:c.control.value,customerFiscalCode:b.control.value.replace(/\s/g,""),customerGender:parseInt(v.control.value,10)};this.italianFiscalCodeResource.validateFiscalCode(x).then(()=>{b.validation.get(wt.Rejected).disable(),b.validation.get(wt.Failed).disable(),b.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}).catch(()=>this.handleFiscalCodeError())}}handleFiscalCodeError(){this.logService.debug(new Error("fiscal-code rejected."));let n=this.form.getField(Ue.CustomerFiscalCode);n.validation.get(wt.Rejected).enable(),n.validation.get(wt.Failed).disable(),n.validation.update(wt.Rejected,{rejectedValue:n.control.value})}isReadyForValidation(n,r,o,s,c,v,b){return this.isBirthLocationValid(n,r)&&this.isDateOfBirthValid(o)&&this.isNameValid(s,c)&&this.isGenderMaleOrFemale(v)&&this.isFiscalCodeValid(b)}isBirthLocationValid(n,r){return ce.isObject(n)&&(!this.countryOfBirthIsItaly(n)||this.countryOfBirthIsItaly(n)&&ce.isObject(r)&&r.control.value!=="0"&&r.getProperty("cityId"))}countryOfBirthIsItaly(n){let r=n.getProperty("item");return ce.isObject(r)&&r.isoCode==="IT"}isNameValid(n,r){return ce.isObject(n)&&ce.isObject(r)&&ee.isNotEmpty(n.control.value)&&ee.isNotEmpty(r.control.value)}isGenderMaleOrFemale(n){return ce.isObject(n)&&parseInt(n.control.value,10)>0&&parseInt(n.control.value,10)<=2}isDateOfBirthValid(n){return ce.isObject(n)&&ee.isNotEmpty(n.control.value)&&new RegExp("^\\d{4}-\\d{2}-\\d{2}$").test(n.control.value)}isFiscalCodeValid(n){return ce.isObject(n)&&n.control.value.replace(/\s/g,"").length===i.FISCAL_CODE_LENGTH}};i.FISCAL_CODE_LENGTH=16,i.ITALIAN_COUNTRY_CODE="IT",i.DEFAULT_FISCAL_CODE="EE1",i.\u0275fac=function(r){return new(r||i)(yt(hee),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),rSe=/^[a-zA-Z]{6}\d{2}[a-zA-Z]\d{2}[a-zA-Z]\d{3}[a-zA-Z]$/,oSe=/^\d{11}$/,Nu=class Nu{handleFiscalCode(i){let e=i.getField(Ue.CustomerCountry),n=i.getField(Ue.CustomerVat),r=i.getField(Ue.CustomerFiscalCode);e.control.value==="IT"?this.handleItalianCustomer(r,n):this.handleNonItalianCustomers(r,n),r.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1}),n.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}handleNonItalianCustomers(i,e){i.lock(),i.validation.get(wt.Failed).disable(),i.control.setValue(""),i.control.markAsUntouched(),e.control.value.length>=Nu.TAX_NUMBER_MIN_LENGTH?e.validation.get(wt.Failed).disable():e.validation.get(wt.Failed).enable()}handleItalianCustomer(i,e){i.unlock(),this.isFilled(e)?this.handleFiscalCodeAndTaxNumber(e,i):this.handleFiscalCodeWithoutTaxNumber(e,i)}handleFiscalCodeAndTaxNumber(i,e){this.matchesShortPattern(i)?i.validation.get(wt.Failed).disable():i.validation.get(wt.Failed).enable(),(e.control.dirty||e.control.touched)&&(this.matchesLongPattern(e)||this.matchesShortPattern(e)?e.validation.get(wt.Failed).disable():e.validation.get(wt.Failed).enable())}handleFiscalCodeWithoutTaxNumber(i,e){i.validation.get(wt.Failed).disable(),(e.control.dirty||e.control.touched)&&(this.matchesShortPattern(e)?e.validation.get(wt.Failed).disable():e.validation.get(wt.Failed).enable())}isFilled(i){return ce.isObject(i)&&ee.isNotEmpty(i.control.value)}matchesShortPattern(i){return this.isFilled(i)&&i.control.value.replace(/\s/g,"").match(Nu.ONLY_DIGITS_PATTERN)}matchesLongPattern(i){return this.isFilled(i)&&i.control.value.replace(/\s/g,"").match(Nu.DIGITS_AND_CHARACTERS_PATTERN)}};Nu.ONLY_DIGITS_PATTERN=new RegExp(oSe,"g"),Nu.DIGITS_AND_CHARACTERS_PATTERN=new RegExp(rSe,"g"),Nu.TAX_NUMBER_MIN_LENGTH=5,Nu.\u0275fac=function(e){return new(e||Nu)},Nu.\u0275prov=Ce({token:Nu,factory:Nu.\u0275fac});var QR=Nu;var vee=(()=>{let i=class i{constructor(n){this.webshopApi=n}getAddressByZipCodeFromResource(n,r){return this.webshopApi.get(`/delivery/country/${n}/zipCode/${r}`)}};i.\u0275fac=function(r){return new(r||i)(yt(Vo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var ZR=class extends Vm{constructor(i){super(),this.brazilFiscalCodeResource=i,this.name="CpfTicketPersonalization",this.BRAZIL="BR",this.watchFields=[],this.debounceInterval=500,this.cpfField=null,this.setDebounceInterval(this.debounceInterval),this.watchFields.push(fs.FiscalCode),this.watchFields.push(fs.Country)}onApply(){this.cpfField=this.form.getField(fs.FiscalCode),this.cpfField!==null&&this.form.hasField(fs.Country)&&this.cpfField.validation.add(new hs(di.CHECKOUT_APP_CUSTOMER_CPF_INVALID))}onFieldValueChange(i,e){if(this.cpfField===null||!this.form.hasField(fs.Country))return;let n=this.form.getField(fs.Country),r=n==null?"":n.control.value,o=i===fs.FiscalCode?e.currentValue:this.cpfField.control.value;ee.isNotEmpty(o)&&r===this.BRAZIL?this.brazilFiscalCodeResource.validateCpf(o,r).subscribe(s=>{this.cpfField.control.setValue(s.cpfNumber,{emitEvent:!1})},s=>{this.cpfField.validation.get(wt.Rejected).enable(),this.cpfField.validation.update(wt.Rejected,{rejectedValue:this.cpfField.control.value})}):this.disableValidators()}disableValidators(){this.cpfField.validation.get(wt.Rejected).disable(),this.cpfField.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1})}},rM=(()=>{let i=class i extends cr{constructor(n){super(n)}validateCode(n){let r=new Nr().set("cpfNumber",n);return this.webshopApi.get("/cpf/validate",r)}validateCpf(n,r){let o=new Nr().set("cpfNumber",n).set("country",r);return this.webshopApi.get("/ticketPersonalisation/validate",o)}};i.\u0275fac=function(r){return new(r||i)(yt(Vo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var _ee=(()=>{let i=class i extends cr{constructor(n){super(n)}validateCode(n){return this.webshopApi.get(`/customers/validateSpainFiscalCode/${n.toUpperCase()}`)}};i.\u0275fac=function(r){return new(r||i)(yt(Vo))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})();var aSe=(()=>{var i,e,n,r,o,s;let c=class c{constructor(b,x,k,O,w,M,F){Jr(this,i);Jr(this,e);Jr(this,n);Jr(this,r);Jr(this,o);Jr(this,s);this.individualItalianFiscalCodeHandler=b,this.businessItalianFiscalCodeHandler=x,this.postalCodeAddressLookupService=k,this.spainFiscalCodeResource=O,this.brazilFiscalCodeResource=w,this.emailResource=M,this.usernameResource=F,this.Message=di,this.FormFieldType=Mt,this.ShocuFieldName=Ue,this.FieldDisplayMode=mee,this.onFieldsVisibilityChange=new Jt,this.fieldGroups=[],this.foldoutLinks=[],this.selectedCountry=nn(""),Xo(this,i,new Map),Xo(this,e,new Map),Xo(this,n,E(fee)),Xo(this,r,E(Ou)),Xo(this,o,E(Oi)),Xo(this,s,E(Ot)),this._addressFieldMode=k0.DisplayAllWithOptionalLabel}set deliveryMethodType(b){this.form.setDeliveryMethodType(b),this.checkFieldsVisibility()}get addressFieldMode(){return this._addressFieldMode}set addressFieldMode(b){this._addressFieldMode=b,this.foldoutLinks.forEach(x=>{x.updateAddressFieldMode(this._addressFieldMode)}),this.checkFieldsVisibility()}ngOnInit(){this.buildFoldoutLinks(),this.registerSelectedCountryChanges(),this.buildCountryMaps(),this.enhanceSelectFieldsConfigurations(),this.enhanceRadioboxFieldsConfigurations(),this.form.rules.add($m.getPostalCodeRuleset(this.form.name,en(this,i))).add($m.getPostalCodeAddressLookupRuleset(this.form.name,en(this,i),this.postalCodeAddressLookupService)).add($m.getProvinceFieldRuleset(this.form.name,en(this,e))).add($m.getItalianFiscalCodeRuleset(this.form.name,this.fiscalCodeConfig,this.individualItalianFiscalCodeHandler,this.businessItalianFiscalCodeHandler)).add($m.getBrazilianFiscalCodeValidationRuleset(this.form.name,this.fiscalCodeConfig,this.brazilFiscalCodeResource,this.affiliateJson)).add($m.getSpanishFiscalCodeValidationRuleset(this.form.name,this.fiscalCodeConfig,this.spainFiscalCodeResource)).add($m.getEqualsRuleset(this.form.fields)).add(...$m.getEmailAssignedRulesetList(this.form.fields,this.emailResource,this.isNewCustomer())).add($m.getUsernameAssignedRuleset(this.form,this.usernameResource)),this.groupFields(),en(this,n).injectPartnerCustomer(this.form,this.customerForm)}ngOnDestroy(){this.foldoutLinks.forEach(b=>b.destroy())}isMobilePhoneField(b){return b.containsName([Ue.CustomerMobile])}hasDateConfig(){return this.affiliateJson.dateFormat!==void 0}hasReferenceData(){return this.referenceData!==void 0&&Object.keys(this.referenceData).length>0}hasFoldoutLinks(){return this.foldoutLinks.length>0&&this.foldoutLinks.some(b=>b.isVisible())}isFieldFoldout(b){if(this.hasFoldoutLinks()){let x=this.foldoutLinks.filter(k=>k.hasField(b))[0];if(x!==void 0)return x.isFieldShown(b)}return!0}hasNotifications(b){return b.some(x=>x.notice.hasNotices())}hasOnlyOptionalFields(b){return b.every(x=>!x.mandatory)}showOptionalFields(){return this._addressFieldMode!==k0.DisplayOnlyMandatory}getAutocompleteKey(b){return Tv.getAutocompleteKey(b.name,this.isFieldFoldout(b))}getTabIndex(b){return this.isFieldFoldout(b)?0:-1}getFieldDataQa(b){return`input-${b.name}`}getLabelReplacePattern(b){return[{placeholder:"{0}",replacementValue:b.config.label}]}parseMarkdown(b){return ee.isNotEmpty(b)?en(this,r).translateMarkdown(b,Aa.DEFAULT,3):""}registerSelectedCountryChanges(){let b=this.form.getRootForm(),x=b.findFormField(Ue.CustomerCountry)??b.findFormField(Ue.DeliveryCountry);x?(x.control.valueChanges.pipe(zn(en(this,o))).subscribe(k=>{this.selectedCountry.set(k)}),this.selectedCountry.set(x.control.value||this.customerForm.country)):this.selectedCountry.set(this.customerForm.country)}buildCountryMaps(){this.hasReferenceData()&&this.referenceData.countries&&this.referenceData.countries.forEach(b=>{b.items.forEach(x=>{en(this,i).set(x.id,x),x.provinces!==void 0&&en(this,e).set(x.id,x.provinces)})})}buildFoldoutLinks(){this.customerForm.foldoutLinks!==void 0&&Object.prototype.hasOwnProperty.call(this.customerForm.foldoutLinks,this.form.name)&&Object.keys(this.customerForm.foldoutLinks[this.form.name]).forEach(b=>{this.foldoutLinks.push(new zU(b,this.customerForm.foldoutLinks[this.form.name][b].filter(x=>this.form.getField(x)!==null).map(x=>this.form.getField(x)),en(this,s),this._addressFieldMode))})}enhanceSelectFieldsConfigurations(){this.hasReferenceData()&&this.shocuFields.filter(b=>b.type===Mt.Select||b.fieldName===Ue.CustomerMobile||b.fieldName===Ue.DeliveryMobile||b.type===Mt.MultiSelect).forEach(b=>{b.selectGroups=this.appendSelectFieldGroups(b.referenceData,this.referenceData)})}appendSelectFieldGroups(b,x){let k=new Map([["deliveryAreas",eh.getDeliveryAreaGroups(x.deliveryAreas)],["countriesOfBirth",eh.getCountriesOfBirthGroup(x.countriesOfBirth)],["mobile",eh.getCountryPhoneCodes(x.mobile)]]);return k.has(b)?k.get(b):ee.isNotEmpty(b)&&b in x?eh.getDefault(x[b]):null}enhanceRadioboxFieldsConfigurations(){this.shocuFields.filter(b=>b.type===Mt.Radio).forEach(b=>{b.radioBoxes=this.appendRadioboxValues(b)})}appendRadioboxValues(b){if(this.hasReferenceData()&&b.referenceData)return GU.getDefaultFlattened(this.referenceData[b.referenceData]);let x=[{label:di.GLOBAL_CUSTOMER_SALUTATION_MRS,value:di.GLOBAL_CUSTOMER_SALUTATION_MRS},{label:di.GLOBAL_CUSTOMER_SALUTATION_MR,value:di.GLOBAL_CUSTOMER_SALUTATION_MR}];this.affiliateJson.showThirdSalutation&&x.push({label:di.GLOBAL_CUSTOMER_SALUTATION_MX,value:di.GLOBAL_CUSTOMER_SALUTATION_MX});let k=new Map([[Ue.CustomerSalutation,x],[Ue.DeliverySalutation,x],[Ue.CustomerType,[{label:di.GLOBAL_CUSTOMER_CUSTOMERTYPE_INDIVIDUAL,value:"1"},{label:di.GLOBAL_CUSTOMER_CUSTOMERTYPE_BUSINESS,value:"2"}]],[Ue.CustomerGender,[{label:di.GLOBAL_CUSTOMER_GENDER_FEMALE,value:"2"},{label:di.GLOBAL_CUSTOMER_GENDER_MALE,value:"1"}]]]);return k.has(b.fieldName)?k.get(b.fieldName):null}groupFields(){let x=[];this.shocuFields.forEach(k=>{this.getGroupWidth(x)>=12&&(this.fieldGroups.push(x),x=[]),this.form.hasField(k.fieldName)&&x.push(this.form.getField(k.fieldName)),k.separator===Gm.Break&&(this.fieldGroups.push(x),x=[])}),x.length>0&&this.fieldGroups.push(x)}getGroupWidth(b){let x=0;return b.forEach(k=>{let O=k.config;x+=O.width}),x}checkFieldsVisibility(){if(!this.showOptionalFields()){let b=this.form.fields.some(x=>x.mandatory);this.onFieldsVisibilityChange.emit([this.form,b])}}isNewCustomer(){return this.customerForm.customerId<=0}};i=new WeakMap,e=new WeakMap,n=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,c.\u0275fac=function(x){return new(x||c)(Et(gee),Et(QR),Et(vee),Et(_ee),Et(rM),Et(Iv),Et(iM))},c.\u0275dir=kt({type:c,inputs:{form:"form",shocuFields:"shocuFields",referenceData:"referenceData",customerForm:"customerForm",affiliateJson:"affiliateJson",fiscalCodeConfig:"fiscalCodeConfig",deliveryMethodType:"deliveryMethodType",addressFieldMode:"addressFieldMode"},outputs:{onFieldsVisibilityChange:"onFieldsVisibilityChange"}});let t=c;return t})(),sSe=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-hidden-fields"]],inputs:{foldoutLinks:"foldoutLinks"},standalone:!1,decls:1,vars:1,consts:[["class","link animate-repeat","data-qa","foldout-link","tabindex","0","role","button",3,"hidden","ngClass","click","keydown.enter","keydown.space",4,"ngFor","ngForOf"],["data-qa","foldout-link","tabindex","0","role","button",1,"link","animate-repeat",3,"click","keydown.enter","keydown.space","hidden","ngClass"]],template:function(r,o){r&1&&J(0,SIe,3,7,"a",0),r&2&&C("ngForOf",o.foldoutLinks)},dependencies:[At,Ud,Se],encapsulation:2});let t=i;return t})(),lSe=(()=>{let i=class i{set group(n){this._group=n}set addressFieldMode(n){this._addressFieldMode=n,Dt.isNotEmpty(this._group)&&this.updateLabelAndPlaceholderForGroup()}constructor(n,r,o){this.element=n,this.renderer=r,this.translateService=o,this._addressFieldMode=k0.DisplayAllWithOptionalLabel,this.subscriptions=[]}ngAfterContentInit(){this._group.forEach(n=>{this.subscriptions.push(n.onMandatoryStateChange().subscribe(()=>{this.updateLabelAndPlaceholderForGroup()}))}),this.updateLabelAndPlaceholderForGroup()}ngOnDestroy(){this.subscriptions.forEach(n=>{n.unsubscribe()})}updateLabelAndPlaceholderForGroup(){this._addressFieldMode>k0.DisplayAllWithOptionalLabel&&this._group.filter(n=>n.config.type===Mt.Text||n.config.type===Mt.Tel||n.config.type===Mt.PostalCode).forEach(n=>{if(this.fieldLabelComponent!==void 0){this.fieldLabelComponent.hideOptionalLabel.set(!0);let r=this.element.nativeElement.querySelector(`[name=${n.config.fieldName}]`);ce.isObject(r)&&(n.mandatory?this.renderer.removeAttribute(r,"placeholder"):this.renderer.setAttribute(r,"placeholder",this.translateService.instantTranslate(di.GLOBAL_OPTIONAL)))}})}};i.\u0275fac=function(r){return new(r||i)(Et(ii),Et(Er),Et(ti))},i.\u0275dir=kt({type:i,selectors:[["","evFormsShocuOptionalPlaceholder",""]],contentQueries:function(r,o,s){if(r&1&&p0(s,id,5),r&2){let c;Ni(c=Ri())&&(o.fieldLabelComponent=c.first)}},inputs:{group:[0,"evFormsShocuOptionalPlaceholder","group"],addressFieldMode:"addressFieldMode"},standalone:!1});let t=i;return t})(),oM=(()=>{var i;let e=class e extends aSe{constructor(){super(...arguments);Jr(this,i);Xo(this,i,E(Sn)),this.PLACEHOLDER_STRING_FOR_LABEL="&nbsp;"}getTranslatedLabelForField(o){let s=en(this,i).instant(o.config.label??" "),c=this.PLACEHOLDER_STRING_FOR_LABEL;return ee.isNotEmpty(s.trim())&&(c=s),o.isConfirmationField&&(c=en(this,i).instant(di.GLOBAL_CONFIRMATION_FIELD_LABEL)),c}};i=new WeakMap,e.\u0275fac=(()=>{let o;return function(c){return(o||(o=Ve(e)))(c||e)}})(),e.\u0275cmp=ae({type:e,selectors:[["ev-forms-shocu"]],standalone:!1,features:[Hl([Ou]),dt],decls:3,vars:4,consts:[["text",""],[1,"validation","z-index-flyout",3,"formGroup"],["data-qa","fields-group",3,"hidden",4,"ngFor","ngForOf"],[4,"ngIf"],["data-qa","fields-group",3,"hidden"],[3,"evCoreHtml",4,"ngIf"],[1,"row","form-field-row"],[3,"no-padding-left",4,"ngFor","ngForOf"],[3,"evCoreHtml"],[3,"evFormsShocuOptionalPlaceholder","addressFieldMode"],["field-label",""],["field-label","",1,"margin-bottom-xs"],["field-image","","class","not-responsive",3,"ngSrc","width","height",4,"ngIf"],[3,"field","formControlName","radioboxValues",4,"ngIf"],["type","email","class","form-control theme-text-color standard-gray-border",3,"formControlName","evFormsDisable","ngClass","tabIndex","evFormsAccessibilityFormFieldTags",4,"ngIf"],["type","tel","class","form-control theme-text-color standard-gray-border text-left","dir","ltr",3,"formControlName","ngClass","tabIndex","evFormsAccessibilityFormFieldTags",4,"ngIf"],[3,"field","groups","formControlName","selectedCountry",4,"ngIf"],[3,"field","groups","tabIndexToUse",4,"ngIf"],[3,"field","groups","tabIndexToUse","dataQaTitle",4,"ngIf"],[3,"field","dateFormat","formControlName","tabIndexToUse",4,"ngIf"],["field-error",""],[3,"field","preventMultipleError"],["field-description","","class","margin-top-xs",4,"ngIf"],["field-notification",""],[3,"field"],[3,"isOptional","id"],["field-image","",1,"not-responsive",3,"ngSrc","width","height"],[3,"field","formControlName","radioboxValues"],[3,"formField","evFormsAccessibilityFormFieldTags",4,"ngIf","ngIfElse"],[3,"formField","evFormsAccessibilityFormFieldTags"],["type","text",1,"form-control","theme-text-color","standard-gray-border",3,"formControlName","evFormsDisable","ngClass","tabIndex","evFormsAccessibilityFormFieldTags"],["type","email",1,"form-control","theme-text-color","standard-gray-border",3,"formControlName","evFormsDisable","ngClass","tabIndex","evFormsAccessibilityFormFieldTags"],["type","tel","dir","ltr",1,"form-control","theme-text-color","standard-gray-border","text-left",3,"formControlName","ngClass","tabIndex","evFormsAccessibilityFormFieldTags"],[3,"field","groups","formControlName","selectedCountry"],[3,"field","groups","tabIndexToUse"],[3,"field","groups","tabIndexToUse","dataQaTitle"],[3,"field","dateFormat","formControlName","tabIndexToUse"],["field-description","",1,"margin-top-xs"],[3,"foldoutLinks"]],template:function(s,c){s&1&&(h(0,"div",1),J(1,GIe,4,5,"section",2)(2,KIe,2,2,"section",3),g()),s&2&&(C("formGroup",c.form.control),Le("data-qa","dynamic-form-"+c.form.name),d(),C("ngForOf",c.fieldGroups),d(),C("ngIf",c.hasFoldoutLinks()))},dependencies:[At,Ud,ms,jr,Rr,Pn,wn,_o,Ai,id,mr,dee,lA,d1,w0,iSe,eSe,l1,nSe,eM,sSe,xt,zz,lSe,Se,hv],encapsulation:2,data:{animation:[kT.fadeInOut(),kT.toggleInOut()]}});let t=e;return t})();var Cee=(()=>{let i=class i{buildSubForms(n,r){return Tv.buildSubForms(n,o=>(r&&o.containsName([Ue.CustomerMobile])&&(o.validation.get(wt.Required).setErrorMessage(di.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_REQUIRED),o.validation.get(wt.Pattern).setErrorMessage(di.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_INVALID)),o))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),cSe=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr,oi.forChild()]});let t=i;return t})(),aM=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[gee,QR,fee,vee,_ee,rM,hee],imports:[Vr,ts,Kl.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),oi.forChild(),_a,cSe,k2,Po]});let t=i;return t})();var u1=(()=>{let i=class i{constructor(n){this.document=n,this.document=n}setPageInfo(n){this.pageInfo=n}scrollToTop(){this.scroll(0,this.getTopPosition())}scrollTo(n,r){this.scroll(n,r)}scrollToElement(n,r=0){let o=document.querySelectorAll(n).item(r);setTimeout(()=>{o!==null&&o.scrollIntoView({behavior:"smooth"})},100)}scroll(n,r){this.hasIframeResizer()&&ce.isObject(this.pageInfo)?this.document.defaultView.parentIFrame.scrollTo(n,r):this.supportsSmoothScrolling()?this.document.defaultView.scrollTo({top:r,left:n,behavior:"smooth"}):this.document.defaultView.scrollTo(n,r)}getTopPosition(){let n=0;return this.hasIframeResizer()&&ce.isObject(this.pageInfo)&&(n=this.pageInfo.offsetTop),n}hasIframeResizer(){return ro.isInsideIFrame()&&ce.isObject(this.document.defaultView.parentIFrame)}supportsSmoothScrolling(){return!ce.isNullable(this.document.documentElement.style.scrollBehavior)}};i.\u0275fac=function(r){return new(r||i)(yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),sM=(()=>{let i=class i{set page(n){this.page!==void 0&&this.page!==null&&this.scrollHistory.set(this.page,!1),this._page=n}get page(){return this._page}constructor(n){this.scrollService=n,this.WAIT_TIME=300,this.scrollHistory=new Map}ngAfterContentChecked(){this.alreadyScrolled()||(this.scrollHistory.set(this.page,!0),setTimeout(()=>{this.scrollService.scrollToTop()},this.WAIT_TIME))}alreadyScrolled(){return this.scrollHistory.has(this.page)&&this.scrollHistory.get(this.page)}};i.\u0275fac=function(r){return new(r||i)(Et(u1))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-page-scroll-top"]],inputs:{page:"page"},standalone:!1,ngContentSelectors:sA,decls:1,vars:0,template:function(r,o){r&1&&(lo(),Or(0))},encapsulation:2});let t=i;return t})(),QU=function(t){return t.GROW="grow",t.BODY_OFFSET="bodyOffset",t}(QU||{}),yee=(()=>{let i=class i{constructor(n){this.document=n,this.document=n}onShowModal(){ce.isObject(this.document.defaultView.parentIFrame)&&(this.document.defaultView.parentIFrame.setHeightCalculationMethod(QU.GROW),this.document.defaultView.parentIFrame.scrollToOffset(0,0))}onHideModal(){ce.isObject(this.document.defaultView.parentIFrame)&&this.document.defaultView.parentIFrame.setHeightCalculationMethod(QU.BODY_OFFSET)}};i.\u0275fac=function(r){return new(r||i)(yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),Eee=(()=>{let i=class i{constructor(n){this.document=n,this.document=n}changeRootCssClass(){let n=this.document.getElementsByTagName("html")[0],r=n.getAttribute("class");n.setAttribute("class",r.replace("no-iframe","iframe"))}};i.\u0275fac=function(r){return new(r||i)(yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),Tee=(()=>{let i=class i{constructor(n){this.document=n,this.subject=new ni(null),this.document=n,setTimeout(()=>{ce.isObject(this.document.defaultView.parentIFrame)&&this.document.defaultView.parentIFrame.getPageInfo(this.updateFramePageInfo.bind(this))},i.IFRAME_TIMEOUT)}observeIframePageInfo(){return this.subject.asObservable().pipe(Yt(n=>ce.isObject(n)),Ro())}updateFramePageInfo(n){this.subject.next(n)}};i.IFRAME_TIMEOUT=250,i.\u0275fac=function(r){return new(r||i)(yt(Ot))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),bee=(()=>{let i=class i{constructor(n,r,o,s,c){this.modalWindowService=n,this.iframeModalWindowService=r,this.iframeCssClassService=o,this.iframePageInfoService=s,this.scrollService=c,this.subscriptions=[]}ngOnInit(){ro.isInsideIFrame()&&(this.changeIframeCssClass(),this.subscriptions.push(this.onPageInfoUpdate()),this.subscriptions.push(this.observerShowModal()),this.subscriptions.push(this.observerHideModal()))}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}onPageInfoUpdate(){return this.iframePageInfoService.observeIframePageInfo().subscribe(n=>this.scrollService.setPageInfo(n))}changeIframeCssClass(){this.iframeCssClassService.changeRootCssClass()}observerShowModal(){return this.modalWindowService.onShowModal().subscribe(()=>this.iframeModalWindowService.onShowModal())}observerHideModal(){return this.modalWindowService.onHideModal().subscribe(()=>this.iframeModalWindowService.onHideModal())}};i.\u0275fac=function(r){return new(r||i)(Et(kn),Et(yee),Et(Eee),Et(Tee),Et(u1))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-iframe-handler"]],standalone:!1,decls:0,vars:0,template:function(r,o){},encapsulation:2});let t=i;return t})(),Sv=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({providers:[Eee,yee,u1,Tee]});let t=i;return t})();var dSe=(()=>{let i=class i extends cr{getValidationRules(){return this.webshopApi.get("/validationRules")}};i.\u0275fac=(()=>{let n;return function(o){return(n||(n=Ve(i)))(o||i)}})(),i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var rd=(()=>{let i=class i{constructor(n,r){this.validationRulesResource=n,this.logService=r,this.validationRulesSubject=new ni(null)}loadValidationRules(){return this.validationRulesResource.getValidationRules().pipe(An(n=>{this.validationRulesSubject.next(n)})).toPromise()}observeValidationRulesJson(){return this.validationRulesSubject.asObservable()}getValidationRule(n){let r=n.split(".");return this.getRuleFromFieldInTree(r[1],r[0])}getTicketPersonalisationRule(n){return this.getRuleFromFieldInTree(n,"TicketPersonalisationRules")}getMemberCardRule(n){return this.getRuleFromFieldInTree(n,"TicketPersonalisationMemberCardJson")}getRuleFromFieldInTree(n,r){let o=this.validationRulesSubject.getValue()[r];if(!ce.isEmpty(o)&&Object.prototype.hasOwnProperty.call(o,n)){let s=o[n];if(this.isValidationRuleJson(s))return s}return this.logService.debug(new Error(`ValidationRuleType ${r}.${n} is undefined or string`)),null}getValidationRuleForPasswordPolicy(n){let o=this.validationRulesSubject.getValue().passwordPolicies[n],s=new RegExp("");try{s=new RegExp(o,"u")}catch(c){this.logService.error(c)}return s}isValidationRuleJson(n){return ce.isObject(n)&&typeof n!="string"}};i.\u0275fac=function(r){return new(r||i)(yt(dSe),yt(Ir))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),rh=(()=>{let i=class i{constructor(n){this.validationRulesService=n}resolve(n,r){return this.validationRulesService.loadValidationRules()}};i.\u0275fac=function(r){return new(r||i)(yt(rd))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),Km=function(t){return t.CreditcardPaymentMethodJson_accountHolder="CreditcardPaymentMethodJson.accountHolder",t.CreditcardPaymentMethodJson_ccNumber="CreditcardPaymentMethodJson.creditcardNumber",t.CreditcardPaymentMethodJson_expirationMonth="CreditcardPaymentMethodJson.expirationMonth",t.CreditcardPaymentMethodJson_expirationYear="CreditcardPaymentMethodJson.expirationYear",t.CreditcardPaymentMethodJson_verificationCode="CreditcardPaymentMethodJson.verificationCode",t.GiftInformationJson_buyerName="GiftInformationJson.buyerName",t.GiftInformationJson_recipientName="GiftInformationJson.recipientName",t.GiftInformationJson_recipientEmail="GiftInformationJson.recipientEmail",t.GiftInformationJson_personalNote="GiftInformationJson.personalNote",t.IbanJson_accountHolder="IbanJson.accountHolder",t.IbanJson_bic="IbanJson.bic",t.IbanJson_iban="IbanJson.iban",t.AccountJson_accountHolder="AccountJson.accountHolder",t.AccountJson_accountNumber="AccountJson.accountNumber",t.AccountJson_bankSortCode="AccountJson.bankSortCode",t.PreAuthPaymentMethodJson_termsAndConditionsChecked="PreAuthPaymentMethodJson.termsAndConditionsChecked",t}(Km||{});var uSe=["invisibleWrapper"],pSe=["checkboxWrapper"],mSe=(t,i)=>({invisible:t,visible:i});function fSe(t,i){t&1&&(h(0,"div",15),D(1,"div",16),g())}var Iee=function(t){return t.COMPONENT_CAPTCHA_HEADLINE="component.captcha.headline",t.COMPONENT_CAPTCHA_DESCRIPTION="component.captcha.description",t}(Iee||{}),xv=(()=>{let i=class i{constructor(){this.enterpriseReCaptcha=nn(!1),this.localGrecaptcha=sn(()=>this.enterpriseReCaptcha()?grecaptcha.enterprise:grecaptcha),this.captchaTriggered$=new qn,this.captchaProtectedEndpoints=[]}addProtectedEndpoints(n){this.captchaProtectedEndpoints.push(...n)}getProtectedEndpoints(){return this.captchaProtectedEndpoints}registerHandler(n){n&&(this.captchaHandler=n,ee.isNotEmpty(this.captchaSiteKey)&&this.captchaHandler.preload())}removeHandler(n){n===this.captchaHandler&&(this.captchaHandler=null)}initializeCaptcha(n,r,o){ee.isNotEmpty(n)&&(this.captchaSiteKey=n,this.invisibleRecaptcha=r,this.enterpriseReCaptcha.set(o),this.captchaHandler&&this.captchaHandler.preload())}observeCaptchaTriggered(){return this.captchaTriggered$.asObservable()}handleFailedCaptchaValidationResponse(n,r){return this.captchaSiteKey=n.captchaSiteKey,this.invisibleRecaptcha=n.invisibleRecaptcha,this.enterpriseReCaptcha.set(n.enterpriseReCaptcha),this.handleCaptcha(r)}handleCaptcha(n){return this.hasNewerToken(n)?an(this.currentToken):!this.captchaHandler||ee.isEmpty(this.captchaSiteKey)?an(null):(this.captchaTriggered$.next(this.invisibleRecaptcha),this.captchaHandler.handle(this.captchaSiteKey,this.invisibleRecaptcha).pipe(An(r=>{this.currentToken=r})))}hasNewerToken(n){return ee.isNotEmpty(this.currentToken)&&this.currentToken!==n}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),hSe=(()=>{let i=class i{constructor(n,r){this.injectorService=n,this.webshopCookieService=r,this.captchaService=E(xv),this.captchaApiPath="https://www.google.com/recaptcha/api.js?render=explicit&hl=",this.enterpriseCaptchaApiPath="https://www.google.com/recaptcha/enterprise.js?render=explicit&hl=",this.loading$=null}load(){return this.loading$===null&&(this.loading$=new Promise((n,r)=>{let o=this.webshopCookieService.get(qi.Language);ee.isEmpty(o)&&(o="en");let s=this.captchaService.enterpriseReCaptcha()?this.enterpriseCaptchaApiPath:this.captchaApiPath;this.injectorService.append(`<script src="${s+o}"><\/script>`,{done:()=>this.waitForScriptToBeLoaded(n),error:r.bind(this)})})),this.loading$}waitForScriptToBeLoaded(n){let r=setInterval(()=>{this.isReCaptchaLoaded()&&(clearInterval(r),n())},i.CHECK_INTERVAL)}isReCaptchaLoaded(){let n=this.captchaService.localGrecaptcha();return typeof n<"u"&&typeof n.render=="function"&&typeof n.reset=="function"&&typeof n.execute=="function"}};i.CHECK_INTERVAL=150,i.\u0275fac=function(r){return new(r||i)(yt(I0),yt(_i))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),See=(()=>{let i=class i{constructor(n,r,o,s,c){this.captchaService=n,this.grecaptchaLoadingService=r,this.renderer=o,this.spinnerService=s,this.logService=c,this.Message=Iee,this.showModal=!1,this.spinnerInterrupted=!1}ngAfterViewInit(){this.captchaService.registerHandler(this),this.wrapper=new Map().set("invisible",this.invisibleWrapper.nativeElement).set("normal",this.checkboxWrapper.nativeElement)}ngOnDestroy(){this.captchaService.removeHandler(this)}preload(){this.grecaptchaLoadingService.load().then()}handle(n,r){return ee.isNotEmpty(n)?this.getCaptchaProcessObservable(n,r):an(null)}getCaptchaProcessObservable(n,r){return new Ki(o=>{this.grecaptchaLoadingService.load().then(()=>{if(this.spinnerInterrupted=this.spinnerService.isVisible(),this.spinnerService.hide(),this.showModal=!0,!r&&!this.captchaService.enterpriseReCaptcha())this.renderReCaptcha("normal",n,o);else{let s=this.renderReCaptcha("invisible",n,o);this.captchaService.localGrecaptcha().execute(s)}}).catch(s=>o.error(s))}).pipe(zg(),An(()=>{this.showModal=!1,this.spinnerInterrupted&&this.spinnerService.show()}),No(o=>(this.logService.error(o),an(null))))}renderReCaptcha(n,r,o){this.wrapper.forEach(c=>c.innerHTML="");let s=this.renderer.createElement("div");return this.renderer.appendChild(this.wrapper.get(n),s),this.captchaService.localGrecaptcha().render(s,{callback:c=>{o.next(c),o.complete()},sitekey:r,size:n},!1)}};i.\u0275fac=function(r){return new(r||i)(Et(xv),Et(hSe),Et(Er),Et(Gn),Et(Ir))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-grecaptcha-modal"]],viewQuery:function(r,o){if(r&1&&(Qi(uSe,7),Qi(pSe,7)),r&2){let s;Ni(s=Ri())&&(o.invisibleWrapper=s.first),Ni(s=Ri())&&(o.checkboxWrapper=s.first)}},standalone:!1,decls:19,vars:11,consts:[["invisibleWrapper",""],["checkboxWrapper",""],["aria-live","polite"],[1,"simple-modal",3,"ngClass"],[1,"simple-modal-overlay"],["role","dialog","aria-modal","true","aria-labelledby","modal-title","aria-describedby","modal-desc","data-qa","grecaptcha-modal",1,"theme-text-variant-color","simple-modal-content","simple-modal-content-small"],[1,"simple-card"],[1,"simple-modal-inner"],["id","modal-title",1,"modal-title",3,"evCoreHtml"],["aria-hidden","true",1,"modal-horizontal-dividing"],[1,"cc-layer-reload-content-wrapper","js-cc-layer-reload-content-wrapper"],["id","modal-desc",1,"modal-description"],[3,"evCoreHtml"],[1,"cc-captcha-wrapper"],["class","col-xs-12","style","padding:40px 0;",4,"ngIf"],[1,"col-xs-12",2,"padding","40px 0"],[1,"spinner-circle","theme-spinner-alone"]],template:function(r,o){if(r&1&&(h(0,"div",2)(1,"div",3)(2,"div",4),D(3,"div",null,0),g(),h(5,"div",5)(6,"div",6)(7,"div",7),D(8,"div",8),H(9,"translate"),D(10,"hr",9),h(11,"div",10)(12,"div",11),D(13,"p",12),H(14,"translate"),g(),h(15,"div",13),D(16,"div",null,1),J(18,fSe,2,0,"div",14),g()()()()()()()),r&2){let s=Fn(17);d(),C("ngClass",Un(8,mSe,!o.showModal,o.showModal)),d(7),C("evCoreHtml",j(9,4,o.Message.COMPONENT_CAPTCHA_HEADLINE)),d(5),C("evCoreHtml",j(14,6,o.Message.COMPONENT_CAPTCHA_DESCRIPTION)),d(5),C("ngIf",s.innerHTML==="")}},dependencies:[At,ms,xt,Se],encapsulation:2});let t=i;return t})(),gSe=(()=>{let i=class i{constructor(n){this.captchaService=n}intercept(n,r){return this.isProtectedEndpoint(n.url)?this.captchaService.handleCaptcha().pipe(Ia(o=>{let s=this.appendReCaptchaResponseToken(n,o);return this.interceptCaptchaValidationRequest(s,r)})):r.handle(n)}isProtectedEndpoint(n){return this.captchaService.getProtectedEndpoints().some(r=>n.startsWith(`/api${r}`))}interceptCaptchaValidationRequest(n,r){return r.handle(n).pipe(Ia(o=>{if(this.isResponseWithContent(o)&&this.isCaptchaValidationResponse(o)){let s=n.params.get(i.CAPTCHA_TOKEN_PARAM);return this.captchaService.handleFailedCaptchaValidationResponse(o.body,s).pipe(Ia(c=>this.interceptCaptchaValidationRequest(this.appendReCaptchaResponseToken(n,c),r)))}return an(o)}))}appendReCaptchaResponseToken(n,r){return ee.isNotEmpty(r)?n.clone({params:n.params.set(i.CAPTCHA_TOKEN_PARAM,r)}):n}isResponseWithContent(n){return n.type===$d.Response&&n.status!==i.HTTP_STATUS_NO_CONTENT}isCaptchaValidationResponse(n){return ce.hasProperty(n,"body.captchaSiteKey")&&ce.hasProperty(n,"body.invisibleRecaptcha")&&ce.hasProperty(n,"body.validationResult")&&ce.hasProperty(n,"body.enterpriseReCaptcha")}};i.CAPTCHA_TOKEN_PARAM="gRecaptchaResponse",i.HTTP_STATUS_NO_CONTENT=204,i.\u0275fac=function(r){return new(r||i)(yt(xv))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac});let t=i;return t})(),xee=(()=>{let i=class i{static forRoot(){return{ngModule:i,providers:[{provide:wm,useClass:gSe,multi:!0}]}}};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr,Po,pv,ts,oi.forChild()]});let t=i;return t})(),UT=(()=>{var i,e;let n=class n{constructor(){Jr(this,i,E(Vo));Jr(this,e,E(xv))}get(o,s=new Nr,c=new Cc){return en(this,e).handleCaptcha().pipe(this.handleCaptchaResponseToken(v=>this.doGetRequest(o,v,c),s))}delete(o,s=new Nr,c=new Cc){return en(this,e).handleCaptcha().pipe(this.handleCaptchaResponseToken(v=>this.doDeleteRequest(o,v,c),s))}post(o,s=null,c=new Nr,v=new Cc){return en(this,e).handleCaptcha().pipe(this.handleCaptchaResponseToken(b=>this.doPostRequest(o,s,b,v),c))}put(o,s=null,c=new Nr,v=new Cc){return en(this,e).handleCaptcha().pipe(this.handleCaptchaResponseToken(b=>this.doPutRequest(o,s,b,v),c))}doGetRequest(o,s,c){return en(this,i).get(o,s,!1,c).pipe(this.handleFailedCaptchaResponse(v=>this.doGetRequest(o,v,c),s))}doDeleteRequest(o,s,c){return en(this,i).delete(this.mergeUrlAndParams(o,s),!1,c).pipe(this.handleFailedCaptchaResponse(v=>this.doDeleteRequest(o,v,c),s))}doPostRequest(o,s,c,v){return en(this,i).post(this.mergeUrlAndParams(o,c),s,!1,!1,v).pipe(this.handleFailedCaptchaResponse(b=>this.doPostRequest(o,s,b,v),c))}doPutRequest(o,s,c,v){return en(this,i).put(this.mergeUrlAndParams(o,c),s,!1,!1,v).pipe(this.handleFailedCaptchaResponse(b=>this.doPutRequest(o,s,b,v),c))}handleCaptchaResponseToken(o,s){return Ia(c=>ee.isNotEmpty(c)?o(s.set(n.CAPTCHA_TOKEN_PARAM,c)):o(s))}handleFailedCaptchaResponse(o,s){return Ia(c=>{if(this.isCaptchaValidationResponse(c)){let v=s.get(n.CAPTCHA_TOKEN_PARAM);return en(this,e).handleFailedCaptchaValidationResponse(c,v).pipe(this.handleCaptchaResponseToken(o,s))}else return an(c)})}isCaptchaValidationResponse(o){return ce.hasProperty(o,"captchaSiteKey")&&ce.hasProperty(o,"invisibleRecaptcha")&&ce.hasProperty(o,"validationResult")&&ce.hasProperty(o,"enterpriseReCaptcha")}mergeUrlAndParams(o,s){return s.keys().length===0?o:o.indexOf("?")<0?`${o}?${s.toString()}`:`${o}&${s.toString()}`}};i=new WeakMap,e=new WeakMap,n.CAPTCHA_TOKEN_PARAM="gRecaptchaResponse",n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Ce({token:n,factory:n.\u0275fac,providedIn:"root"});let t=n;return t})();var i$={buildDate:"9.9.2025 - 12:49:31",messageHash:"24486b6a8c65e4ee6bc2c059a65bab6a",server:"",userName:"unknown",proxy:!0,provider:"https://localdev.eventim.de:4200",name:"checkout"};var El={production:!0,server:i$.server,animationsDisabled:!1,buildInfo:i$,name:"checkout"};var Qe=function(t){return t.ShoppingCart="shopping-cart",t.Login="login",t.Facebook="facebook",t.Delivery="delivery",t.TicketPersonalisation="ticket-personalisation",t.Payment="payment",t.D3Secure="d3-secure",t.Summary="summary",t.WaitingFor="waiting-for",t.Pending="pending",t.Receipt="receipt",t.Error="error",t.FatalError="fatal-error",t.Sso="sso",t.Generic="generic",t.TicketReturn="ticket-return",t.PayByLink="pay-by-link",t.CustomerSearch="customer-search",t.AdyenDropIn="adyen-drop-in",t.ReservationTimeup="reservation-timeup",t.WebReservation="web-reservation",t}(Qe||{});var tr=new mn("Window",{factory:r$});function r$(){return window}var Aee=(()=>{class t{window=E(tr);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-fatal-error-page"]],decls:6,vars:2,consts:[["data-qa","fatal-error-page",1,"wrapper","wrapper-container","fatal-error-bg","theme-head-bg"],[1,"wrapper","max-container-width"],[1,"main-content","container"],[1,"row"],[1,"col-md-8","col-md-offset-2"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"router-outlet"),g()()()()()),n&2&&Tr("u-no-shadow",r.window.useBackgroundTheming)},dependencies:[ku],encapsulation:2})}return t})();var Pee=(()=>{class t{#e=E(qd);resolve(){return new Promise(e=>{this.#e.resolve().then(e).catch(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var K=function(t){return t.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_TITLE="checkoutApp.existingCustomer.loginTitle",t.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_DESCRIPTION="checkoutApp.existingCustomer.loginDescription",t.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_TITLE="checkoutApp.newCustomer.loginTitle",t.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_DESCRIPTION="checkoutApp.newCustomer.loginDescription",t.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_TITLE="checkoutApp.guestCustomer.loginTitle",t.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_DESCRIPTION="checkoutApp.guestCustomer.loginDescription",t.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_TITLE="login.page.blocked.login.modal.title",t.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_DESCRIPTION="login.page.blocked.login.modal.description",t.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_SUBMIT_BUTTON="login.page.blocked.login.modal.submit.button",t.CHECKOUT_APP_PROGRESS_STEP_DELIVERY="checkoutApp.progressStep.delivery",t.CHECKOUT_APP_PROGRESS_STEP_TICKET_PERSONALISATION="checkoutApp.progressStep.ticketPersonalisation",t.CHECKOUT_APP_PROGRESS_STEP_PAYMENT="checkoutApp.progressStep.payment",t.CHECKOUT_APP_PROGRESS_STEP_SUMMARY="checkoutApp.progressStep.summary",t.CHECKOUT_APP_LOGIN_HEADLINE="checkoutApp.login.headline",t.CHECKOUT_APP_LOGIN_DESCRIPTION="checkoutApp.login.description",t.CHECKOUT_APP_LOGIN_SSO_ONLY_HINT="checkoutApp.login.ssoOnly.hint",t.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION="checkoutApp.existingCustomer.loginMarginalDescription",t.CHECKOUT_APP_SOFT_LOGIN_GREETING="checkoutApp.softLogin.greeting",t.CHECKOUT_APP_SOFT_LOGIN_NOT_ME_LINK="checkoutApp.softLogin.notMeLink",t.CHECKOUT_APP_LOGIN="checkoutApp.login",t.LOGIN_NO_LOGIN_HINT="login.noLogin.hint",t.GLOBAL_CUSTOMER_EMAIL_CUSTOMER="global.customer.emailCustomer",t.GLOBAL_CUSTOMER_PASSWORD="global.customer.password",t.GLOBAL_FORGOT_PASSWORD_HINT="global.forgotPassword.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_REQUIRED="checkoutApp.customer.password.required",t.CHECKOUT_APP_FORGOT_PASSWORD="checkoutApp.forgotPassword",t.CHECKOUT_APP_CONTINUE_AS_GUEST="checkoutApp.continueAsGuest",t.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION="checkoutApp.guestCustomer.loginMarginalDescription",t.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION="checkoutApp.newCustomer.loginMarginalDescription",t.CHECKOUT_APP_CUSTOMER_EMAIL_WHICH_ONE="checkoutApp.customer.email.whichOne",t.CHECKOUT_APP_NEW_PASSWORD_LABEL="checkoutApp.newPassword.label",t.CHECKOUT_APP_CUSTOMER_PASSWORD_WHICH_ONE="checkoutApp.customer.password.whichOne",t.CHECKOUT_APP_CUSTOMER_EMAIL_EXISTS="checkoutApp.customer.email.exists",t.CHECKOUT_APP_CUSTOMER_USERNAME_EXISTS="checkoutApp.customer.username.exists",t.CHECKOUT_APP_CUSTOMER_PASSWORD_0_HINT="checkoutApp.customer.password.0.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_1_HINT="checkoutApp.customer.password.1.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_2_HINT="checkoutApp.customer.password.2.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_3_HINT="checkoutApp.customer.password.3.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_4_HINT="checkoutApp.customer.password.4.hint",t.CHECKOUT_APP_CUSTOMER_PASSWORD_ERROR="checkoutApp.customer.password.error",t.CHECKOUT_APP_CUSTOMER_PASSWORD_CONTAINS_USERDATA="checkoutApp.customer.password.containsUserData",t.CHECKOUT_APP_CUSTOMER_SEARCH_CUSTOMERNUMBER="checkoutApp.customerSearch.customernumber",t.CHECKOUT_APP_CUSTOMER_SEARCH_FIRSTNAME="global.customer.firstName",t.CHECKOUT_APP_CUSTOMER_SEARCH_LASTNAME="global.customer.lastName",t.CHECKOUT_APP_CUSTOMER_SEARCH_STREET_AND_NUMBER="global.customer.streetAndHouseNo",t.CHECKOUT_APP_CUSTOMER_SEARCH_ZIP_CODE="global.customer.postalCode",t.CHECKOUT_APP_CUSTOMER_SEARCH_CITY="global.customer.city",t.CHECKOUT_APP_CUSTOMER_SEARCH_COUNTRY="global.customer.country",t.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_SEARCHCRITERIA_BUTTONLABEL="checkoutApp.customerSearch.searchCriteria.button",t.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_SEARCH_BUTTONLABEL="checkoutApp.customerSearch.search.button",t.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_CLEAR_FORM_LINKTEXT="checkoutApp.customerSearch.clearForm.link",t.CHECKOUT_APP_CUSTOMER_SEARCH_NO_RESULTS="checkoutApp.customerSearch.noResults",t.CHECKOUT_APP_CUSTOMER_SEARCH_CHOOSE_CUSTOMER="checkoutApp.customerSearch.chooseCustomer.button",t.CHECKOUT_APP_CUSTOMER_SEARCH_CREATE_CUSTOMER="checkoutApp.customerSearch.createCustomer",t.CHECKOUT_APP_DELIVERY_CALL_CENTER_CLIENT_NEWSLETTER_HINT="checkoutApp.delivery.callCenterClient.newsletter.hint",t.CHECKOUT_APP_DELIVERY_CALL_CENTER_CLIENT_DATA_PROTECTION_HINT="checkoutApp.delivery.callCenterClient.dataProtection.hint",t.CHECKOUT_APP_CUSTOMER_SEARCH_EMAIL_INVALID="checkoutApp.customerSearch.email.invalid",t.CALL_CENTER_RECEIPT_BUTTON_NEW_ORDER="callcenter.receipt.button.newOrder",t.CHECKOUT_APP_RECEIPT_CALL_CENTER_RESET_SESSION_NOTIFICATION_SUCCESS="checkoutApp.receipt.callCenter.resetSession.notification.success",t.CHECKOUT_APP_RECEIPT_CALL_CENTER_RESET_SESSION_HEADLINE="checkoutApp.receipt.callCenter.resetSession.headline",t.CHECKOUT_APP_MINUTES="checkoutApp.minutes",t.CHECKOUT_APP_LOGOUT="checkoutApp.logout",t.COMPONENT_FOOTER_COPYRIGHT="component.footer.copyright",t.COMPONENT_FOOTER_ORDERHOTLINE="component.footer.orderhotline",t.COMPONENT_FOOTER_ORDERHOTLINE_NUMBER="component.footer.orderhotline.number",t.COMPONENT_FOOTER_ORDERHOTLINE_COSTS="component.footer.orderhotline.costs",t.COMPONENT_FOOTER_ORDERHOTLINE_AVAILIBILITY="component.footer.orderhotline.avaiability",t.COMPONENT_FOOTER_TO_TOP="component.footer.toTop",t.GLOBAL_SEO_TITLE="global.seo.title",t.CHECKOUT_APP_SAVE_ORDER="checkoutApp.saveOrder",t.CHECKOUT_APP_YOUR_SHOPPING_CART="checkoutApp.yourShoppingCart",t.CHECKOUT_APP_SHOPPING_CART_LOGOUT_MESSAGE="checkoutApp.shoppingCart.logoutMessage",t.CHECKOUT_APP_SHOPPING_CART_LOGOUT_FAILURE_MESSAGE="checkoutApp.shoppingCart.logoutFailureMessage",t.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_TITLE="checkoutApp.shoppingCart.priceUpdateLayer.title",t.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_HEADLINE="checkoutApp.shoppingCart.priceUpdateLayer.headline",t.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_DESCRIPTION="checkoutApp.shoppingCart.priceUpdateLayer.description",t.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_BUTTON_ACCEPT="checkoutApp.shoppingCart.priceUpdateLayer.button.accept",t.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_BUTTON_DECLINE="checkoutApp.shoppingCart.priceUpdateLayer.button.decline",t.CHECKOUT_APP_NO_TICKETS="checkoutApp.noTickets",t.CHECKOUT_APP_LINK_BACK_TO_WEBSHOP="checkoutApp.link.backToWebshop",t.CHECKOUT_APP_ADDITIONAL_INFO="checkoutApp.additionalInfo",t.GLOBAL_ROW="global.row",t.GLOBAL_SEAT="global.seat",t.GLOBAL_TABLE="global.table",t.GLOBAL_SUBMIT="global.submit",t.GLOBAL_TICKET="global.ticket",t.CHECKOUT_APP_SUB_TOTAL="checkoutApp.subtotal",t.CHECKOUT_APP_DELETE_ARTICLE="checkoutApp.deleteArticle",t.CHECKOUT_APP_DELETE_EXTRAS="checkoutApp.deleteExtras",t.CHECKOUT_APP_DELETE_ITEMS="checkoutApp.deleteItems",t.CHECKOUT_APP_DELETE_RESERVATIONS="checkoutApp.deleteReservations",t.CHECKOUT_APP_DELETE_TICKETS="checkoutApp.deleteTickets",t.CHECKOUT_APP_PROMOTER="checkoutApp.promoter",t.CHECKOUT_APP_TO_LOGIN="checkoutApp.toLogin",t.CHECKOUT_APP_TO_SHIPPING="checkoutApp.toShipping",t.CHECKOUT_APP_DELIVERY="checkoutApp.delivery",t.CHECKOUT_APP_PAYMENT="checkoutApp.payment",t.CHECKOUT_APP_PAYMENT_SUBHEADLINE="checkoutApp.payment.subheadline",t.CHECKOUT_APP_DELIVERY_TO="checkoutApp.deliveryTo",t.CHECKOUT_APP_TICKET_PERSONALISATION="checkoutApp.ticketPersonalisation",t.CHECKOUT_APP_RECEIPT="checkoutApp.receipt",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_CHANGE_PAYMENT_METHOD="checkoutApp.paymentCapacityControl.changePaymentMethod",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_REMAINING_RESERVATION_TIME="checkoutApp.paymentCapacityControl.remainingReservationTime",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_RETRY_TIME_OVER_HEADLINE="checkoutApp.paymentCapacityControl.retryTimeOver.headline",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_RETRY_TIME_OVER_TOP_TEXT="checkoutApp.paymentCapacityControl.retryTimeOver.topText",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_BOTTOM_TEXT="checkoutApp.paymentCapacityControl.summary.bottomText",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_HEADLINE="checkoutApp.paymentCapacityControl.summary.headline",t.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_TOP_TEXT="checkoutApp.paymentCapacityControl.summary.topText",t.CHECKOUT_APP_INFO_BOLETO_SUBHEAD="checkoutApp.info.boleto.subHead",t.CHECKOUT_APP_INFO_BOLETO_SUBHEAD2="checkoutApp.info.boleto.subHead2",t.CHECKOUT_APP_SUMMARY_BOLETO_EXTERNAL_LINK_TEXT="checkoutApp.summary.boleto.externalLinkText",t.CHECKOUT_APP_INFO_BOLETO_DISPATCH_GENERAL="checkoutApp.info.boleto.dispatch.general",t.CHECKOUT_APP_INFO_BOLETO_DISPATCH_TICKETDIRECT="checkoutApp.info.boleto.dispatch.ticketdirect",t.CHECKOUT_APP_INFO_BOLETO_DISPATCH_WILLCALL="checkoutApp.info.boleto.dispatch.willCall",t.CHECKOUT_APP_LINK_BACK_TO_SHOPPING_CART="checkoutApp.link.backToShoppingCart",t.CHECKOUT_APP_LINK_BACK_TO_CUSTOMER_SEARCH="checkoutApp.link.backToCustomerSearch",t.CHECKOUT_APP_LINK_BACK_TO_DELIVERY="checkoutApp.link.backToDelivery",t.CHECKOUT_APP_LINK_BACK_TO_TICKET_PERSONALISATION="checkoutApp.link.backToTicketPersonalisation",t.CHECKOUT_APP_LINK_BACK_TO_PAYMENT="checkoutApp.link.backToPayment",t.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD="checkoutApp.delivery.deliveryMethod",t.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_NOT_SELECTED="checkoutApp.delivery.deliveryMethod.notSelected",t.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_MEMORY_TICKETS="checkoutApp.delivery.deliveryMethodMemoryTickets",t.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_MEMORY_TICKETS_SUB_HEADLINE="checkoutApp.delivery.deliveryMethodMemoryTickets.subHeadline",t.CHECKOUT_APP_MANDATORY_HINT="checkoutApp.mandatoryHint",t.CHECKOUT_APP_SHOW_ALL_DELIVERY="checkoutApp.showAll.delivery",t.CHECKOUT_APP_SHOW_ALL_PAYMENT="checkoutApp.showAll.payment",t.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD="checkoutApp.payment.paymentMethod",t.CHECKOUT_APP_PAYMENT_PREPAYMENT_INFORMATION="checkoutApp.payment.prepayment.information",t.CHECKOUT_APP_PAYMENT_EPAY_INFORMATION="checkoutApp.payment.epay.information",t.CHECKOUT_APP_SUMMARY_CASH_BY_COURIER_INFORMATION="checkoutApp.summary.cashByCourier.information",t.CHECKOUT_APP_SUMMARY_RESALE_CONDITIONS_LINK_HEADLINE="checkoutApp.summary.resaleConditionsLink.headline",t.CHECKOUT_APP_SUMMARY_RESALE_CONDITIONS_LINK_LINKTEXT="checkoutApp.summary.resaleConditionsLink.linktext",t.CHECKOUT_APP_DELIVERY_WILLCALL_TYPE_HINT="checkoutApp.delivery.willcallType.hint",t.CHECKOUT_APP_DELIVERY_WILLCALL_TYPE_NEXT_STEP="checkoutApp.delivery.willcallType.nextStep",t.CHECKOUT_APP_DELIVERY_ETICKET_HEADLINE="checkoutApp.delivery.eTicket.headline",t.CHECKOUT_APP_DELIVERY_ETICKET_INFORMATION="checkoutApp.delivery.eTicket.information",t.CHECKOUT_APP_DELIVERY_EVENTIM_PASS_HEADLINE="checkoutApp.delivery.eventimPass.headline",t.CHECKOUT_APP_DELIVERY_EVENTIM_PASS_INFORMATION="checkoutApp.delivery.eventimPass.information",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_HEADLINE="checkoutApp.delivery.memoryTicket.headline",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_INFORMATION="checkoutApp.delivery.memoryTicket.information",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_HEADLINE="checkoutApp.ticketdirect.download.headline",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK="checkoutApp.ticketdirect.download.link",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_ARTICLE="checkoutApp.ticketdirect.download.link.article",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_EXTRA="checkoutApp.ticketdirect.download.link.extra",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_ITEM="checkoutApp.ticketdirect.download.link.item",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_RESERVATION="checkoutApp.ticketdirect.download.link.reservation",t.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_VOUCHER="checkoutApp.ticketdirect.download.link.voucher",t.CHECKOUT_APP_TICKET_DIRECT_RECEIPT_HINT="checkoutApp.ticketdirect.receipt.hint",t.CHECKOUT_APP_TICKET_DIRECT_RECEIPT_WALLET_HEADLINE="checkoutApp.ticketdirect.receipt.walletHeadline",t.CHECKOUT_APP_COUNTER_TEXT_CHARACTERS="checkoutApp.counterText.characters",t.GLOBAL_CUSTOMER_SALUTATION_MR="global.customer.salutation.mr",t.GLOBAL_CUSTOMER_SALUTATION_MRS="global.customer.salutation.mrs",t.GLOBAL_CUSTOMER_CUSTOMERTYPE_INDIVIDUAL="global.customer.customerType.individual",t.GLOBAL_CUSTOMER_CUSTOMERTYPE_BUSINESS="global.customer.customerType.business",t.GLOBAL_CUSTOMER_GENDER_MALE="global.customer.gender.male",t.GLOBAL_CUSTOMER_GENDER_FEMALE="global.customer.gender.female",t.GLOBAL_CUSTOMER_DATE_OF_BIRTH="global.customer.dateOfBirth",t.GLOBAL_BUTTON_CLOSE="global.button.close",t.CHECKOUT_APP_INVOICE_REQUEST_DATA_CHECKBOX_LABEL="checkoutApp.invoiceRequestDataCheckboxLabel",t.CHECKOUT_APP_SPECIFY_DEVIATING_DELIVERY_ADDRESS="checkoutApp.specifyDeviatingDeliveryAddress",t.CHECKOUT_APP_NOTE="checkoutApp.note",t.CHECKOUT_APP_DELIVERY_HINT="checkoutApp.deliveryHint",t.CHECKOUT_APP_DELIVERY_DATA="checkoutApp.deliveryData",t.CHECKOUT_APP_DEVIATING_DELIVERY_DATA="checkoutApp.deviatingDeliveryData",t.CHECKOUT_APP_SUBHEADLINE_LOYALTY_DATA="checkoutApp.subheadline.loyaltyData",t.CHECKOUT_APP_TO_PAYMENT="checkoutApp.toPayment",t.CHECKOUT_APP_TO_SUMMARY="checkoutApp.toSummary",t.CHECKOUT_APP_TO_TICKET_PERSONALISATION="checkoutApp.toTicketPersonalisation",t.GLOBAL_OPTIONAL="global.optional",t.CHECKOUT_APP_FROM="checkoutApp.from",t.CHECKOUT_APP_A="checkoutApp.a",t.GLOBAL_MONTH="global.month",t.GLOBAL_YEAR="global.year",t.GLOBAL_DAY="global.day",t.GLOBAL_PLEASE_CHOOSE="checkoutApp.pleaseChoose",t.GLOBAL_HINTS_DATA_PROTECTION="global.hints.dataProtection",t.SC_FOOTER_LINKS_DATA_PROTECTION_CONTENT="sc.footer.links.dataProtection.content",t.GLOBAL_HINTS_GDPR_VOUCHER="global.hints.gdpr.voucher",t.GLOBAL_HINTS_GDPR_PASSWORD="global.hints.gdpr.password",t.GLOBAL_HINTS_GDPR_GUEST_ACCOUNT="global.hints.gdpr.guestAccount",t.GLOBAL_HINTS_GDPR_NEW_CUSTOMER="global.hints.gdpr.newCustomer",t.GLOBAL_HINTS_GDPR_CUSTOMER_DATA="global.hints.gdpr.customerData",t.GLOBAL_HINTS_GDPR_CHECKOUT_GENERAL_NEWSLETTER="global.hints.gdpr.checkout.generalNewsletter",t.GLOBAL_HINTS_GDPR_INFO_MAILING="global.hints.gdpr.infoMailing",t.GLOBAL_HINTS_GDPR_PARTNER_NEWSLETTER="global.hints.gdpr.partnerNewsletter",t.GLOBAL_HINTS_GDPR_TICKET_PERSONALISATION="global.hints.gdpr.ticketPersonalisation",t.GLOBAL_HINTS_GDPR_PAYMENT_DATA="global.hints.gdpr.paymentData",t.GLOBAL_HINTS_DATA_PROTECTION_LINK_TEXT="global.hints.dataProtection.linkText",t.CHECKOUT_APP_BILLPAY_ERROR_AGB="checkoutApp.billpay.error.agb",t.CHECKOUT_APP_BILLPAY_ERROR_FAILURE="checkoutApp.billpay.error.failure",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_PRE="checkoutApp.payment.billpayTerms.part1.pre",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK="checkoutApp.payment.billpayTerms.part1.link",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK_TEXT="checkoutApp.payment.billpayTerms.part1.linkText",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_POST="checkoutApp.payment.billpayTerms.part1.post",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_PRE="checkoutApp.payment.billpayTerms.part2.pre",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK="checkoutApp.payment.billpayTerms.part2.link",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK_TEXT="checkoutApp.payment.billpayTerms.part2.linkText",t.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_POST="checkoutApp.payment.billpayTerms.part2.post",t.CHECKOUT_APP_GLOBAL_ERROR_PAGE_TITLE="checkoutApp.globalError.pageTitle",t.CHECKOUT_APP_GLOBAL_ERROR_NEXT_STEPS="checkoutApp.globalError.nextSteps",t.CHECKOUT_APP_GLOBAL_ERROR_TO_SHOPPING_CART="checkoutApp.globalError.toSoppingCart",t.CHECKOUT_APP_GLOBAL_ERROR_EMPTY_CART_LINK="checkoutApp.globalError.emptyCartLink",t.CHECKOUT_APP_GLOBAL_ERROR_BACK_TO_MY_EVENTIM="checkoutApp.globalError.backToMyEventim",t.CHECKOUT_APP_GLOBAL_ERROR_GLOBAL_ERROR_MESSAGE="checkoutApp.globalError.globalErrorMessage",t.CHECKOUT_APP_GLOBAL_ERROR_REQUEST_TIMEOUT_MESSAGE="checkoutApp.globalError.requestTimeout.message",t.CHECKOUT_APP_RECEIPT_ETICKET_PREPAYMENT_INFORMATION="checkoutApp.receipt.eticket.prePayment.information",t.CHECKOUT_APP_RECEIPT_ETICKET_HINT="checkoutApp.receipt.eticket.hint",t.CHECKOUT_APP_RECEIPT_PRINTOUT_HINT="checkoutApp.receipt.printoutHint",t.CHECKOUT_APP_RECEIPT_ETICKET_INFO_TEXT="checkoutApp.receipt.eticket.infoText",t.CHECKOUT_APP_RECEIPT_ETICKET_INFO_HEADLINE="checkoutApp.receipt.eticket.infoHeadline",t.CHECKOUT_APP_RECEIPT_ORDER_SUCCESSFULL="checkoutApp.receipt.orderSuccessfull",t.CHECKOUT_APP_RECEIPT_RECEIVED_ORDER="checkoutApp.receipt.receivedOrder",t.CHECKOUT_APP_RECEIPT_ORDER_CONFIRMATION_TEXT="checkoutApp.receipt.orderConfirmation.text",t.CHECKOUT_APP_RECEIPT_ORDER_NUMMER_TEXT="checkoutApp.receipt.orderNumber.text",t.CHECKOUT_APP_RECEIPT_CHECK_ORDER_DETAILS_LINK="checkoutApp.receipt.checkOrderDetails.link",t.CHECKOUT_APP_RECEIPT_NEXT_STEP="checkoutApp.receipt.nextSteps",t.CHECKOUT_APP_SUMMARY_CONDITIONS="checkoutApp.summary.conditions",t.CHECKOUT_APP_PRINT_PAGE="checkoutApp.printPage",t.CHECKOUT_APP_DELIVERY_DELIVERY_TYPES_CHANGED="checkoutApp.delivery.deliveryTypesChanged",t.CHECKOUT_APP_DELIVERY_CHANGED_CHOSEN_DELIVERY_METHOD="checkoutApp.delivery.changedChosenDeliveryMethod",t.CHECKOUT_APP_DELIVERY_NO_DELIVERY_TYPES_ERROR="checkoutApp.delivery.noDeliveryTypesError",t.CHECKOUT_APP_DELIVERY_FAN_TICKET_HINT="checkoutApp.delivery.fanTicket.hint",t.CHECKOUT_APP_DELIVERY_NO_GIFT_WRAP_ALLOWED="checkoutApp.delivery.noGiftWrapAllowed",t.CHECKOUT_APP_ESR_POST_RECEIPT_HINT="checkoutApp.esr.post.receiptHint",t.CHECKOUT_APP_ESR_EMAIL_RECEIPT_HINT="checkoutApp.esr.email.receiptHint",t.CHECKOUT_APP_PREPAYMENT_RECEIPT_HINT="checkoutApp.prepayment.receiptHint",t.CHECKOUT_APP_PREPAYMENT_ACCOUNT_HOLDER="checkoutApp.prepayment.accountHolder",t.CHECKOUT_APP_PREPAYMENT_INSTITUTE="checkoutApp.prepayment.institute",t.CHECKOUT_APP_PREPAYMENT_PAYMENT_PERIOD="checkoutApp.prepayment.paymentPeriod",t.CHECKOUT_APP_PREPAYMENT_PAYMENT_PERIOD_HINT="checkoutApp.prepayment.paymentPeriodHint",t.CHECKOUT_APP_PREPAYMENT_REASON_FOR_PAYMENT="checkoutApp.prepayment.reasonForPayment",t.CHECKOUT_APP_EPAY_RECEIPT_HINT="checkoutApp.epay.receipt.hint",t.CHECKOUT_APP_PAY_BY_LINK_RECEIPT_HINT="checkoutApp.paybylink.receipt.hint",t.CHECKOUT_APP_PAYMENT_ACCOUNT_NUMBER="checkoutApp.payment.accountNumber",t.CHECKOUT_APP_PAYMENT_AMOUNT="checkoutApp.payment.amount",t.CHECKOUT_APP_PAYMENT_BANK_SORT_CODE="checkoutApp.payment.bankSortCode",t.CHECKOUT_APP_PAYMENT_IBAN="checkoutApp.payment.iban",t.CHECKOUT_APP_PAYMENT_SWIFT_UPPERCASE="checkoutApp.payment.swiftUppercase",t.CHECKOUT_APP_DELIVERY_NO_DEVIATING_DELIVERY_ADDRESS_ALLOWED="checkoutApp.delivery.noDeviatingDeliveryAddressAllowed",t.CHECKOUT_APP_DELIVERY_DISABLE_DEVIATING_DELIVERY_ADDRESS_ERROR="checkoutApp.delivery.disableDeviatingDeliveryAddress.error",t.CHECKOUT_APP_SUMMARY="checkoutApp.summary",t.CHECKOUT_APP_ORDER_FEE="checkoutApp.orderFee",t.CHECKOUT_APP_SERVICE_FEE="checkoutApp.serviceFee",t.CHECKOUT_APP_REPERSONALISATION_FEE="checkoutApp.repersonalization",t.CHECKOUT_APP_DELIVERY_FEE_TEMPORARILY="checkoutApp.deliveryFee.temporarily",t.CHECKOUT_APP_VOUCHER="checkoutApp.voucher",t.CHECKOUT_APP_VOUCHERS="checkoutApp.vouchers",t.CHECKOUT_APP_DELIVERY_COST="checkoutApp.deliveryCosts",t.CHECKOUT_APP_DELIVERY_COST_MEMORY_TICKETS="checkoutApp.deliveryCostsMemoryTickets",t.CHECKOUT_APP_FREE_OF_CHARGE="checkoutApp.freeOfCharge",t.CHECKOUT_APP_PAYMENT_COSTS="checkoutApp.paymentCosts",t.CHECKOUT_APP_INTEREST_FEE_COST="checkoutApp.interestFeeCosts",t.CHECKOUT_APP_TOTAL="checkoutApp.total",t.CHECKOUT_APP_TO_RECEIPT="checkoutApp.toReceipt",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_HEADLINE="checkoutApp.summary.detailedOverview.headline",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_DELIVERY="checkoutApp.summary.detailedOverview.subheadline.delivery",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_DELIVERY_MEMORY_TICKETS="checkoutApp.summary.detailedOverview.subheadline.deliveryMemoryTickets",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_PERSONALISATION_DETAILS="checkoutApp.summary.detailedOverview.subheadline.personalisationDetails",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_ADDRESS="checkoutApp.summary.detailedOverview.subheadline.address",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_CONTACT_DETAILS="checkoutApp.summary.detailedOverview.subheadline.contactDetails",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_CHANGE_DELIVERY="checkoutApp.summary.detailedOverview.changeDelivery",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_DEVIATING_ADDRESS="checkoutApp.summary.detailedOverview.subheadline.deviatingAddress",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_CHANGE_ADDRESS="checkoutApp.summary.detailedOverview.changeAddress",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_CHANGE_CONTACT_DETAILS="checkoutApp.summary.detailedOverview.changeContactDetails",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_CHANGE_PAYMENT="checkoutApp.summary.detailedOverview.changePayment",t.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_PAYMENT="checkoutApp.summary.detailedOverview.subheadline.payment",t.CHECKOUT_APP_SUMMARY_PERSONALIZED_FOR="checkoutApp.summary.personalizedFor",t.CHECKOUT_APP_SUMMARY_INSURANCE_TITLE="checkoutApp.ticketInsurance.summaryPage.title",t.CHECKOUT_APP_SUMMARY_INSURANCE_TEXT="checkoutApp.ticketInsurance.summaryPage.text",t.CHECKOUT_APP_MOBILE_PHONE_NUMBER="checkoutApp.mobilePhoneNumber",t.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD="checkoutApp.ticketPersonalisation.memberCard",t.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD_NUMBER="checkoutApp.ticketPersonalisation.memberCardNumber",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_TRAVEL_INFORMATION="checkoutApp.summary.additionalTravelInformation",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_TRAVEL_INFORMATION_LINK_TEXT="checkoutApp.summary.additionalTravelInformation.linkText",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_OWNER="checkoutApp.payment.ccOwner",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_NUMBER="checkoutApp.payment.ccNumber",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_EXPIRATION="checkoutApp.payment.ccExpiresMonth",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_CVV="checkoutApp.payment.ccCvv",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_SAVE_PAYMENT_DATA="checkoutApp.payment.savePayment.checkbox",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_ERROR_EXPIRATION_IN_PAST="checkoutApp.payment.ccExpirationDateInPast",t.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS="checkoutApp.customer.falsyInputs",t.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD_NOT_CHOSEN="checkoutApp.payment.paymentMethod.notChosen",t.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD_NOT_NECESSARY="checkoutApp.payment.paymentMethod.notNecessary",t.CHECKOUT_APP_PAYMENT_PAGE_BANNER_TEXT="checkoutApp.payment.pageBanner.text",t.CHECKOUT_APP_SUMMARY_DELIVERY="checkoutApp.summary.delivery",t.CHECKOUT_APP_SUMMARY_DELIVERY_MEMORY_TICKETS="checkoutApp.summary.deliveryMemoryTickets",t.CHECKOUT_APP_SUMMARY_PAYMENT="checkoutApp.summary.payment",t.CHECKOUT_APP_SUMMARY_BILLPAY_PAYLATER_INFORMATION="checkoutApp.summary.billpay.paylater.information",t.CHECKOUT_APP_SPINNER_LOAD_MESSAGE="checkoutApp.spinner.loadMessage",t.CHECKOUT_APP_SPINNER_LOAD_CONFIRM_MESSAGE="checkoutApp.spinner.loadConfirmMessage",t.CHECKOUT_APP_SPINNER_LOAD_MESSAGE_MODAL_CONTENT="checkoutApp.spinner.loadMessage.modalContent",t.CHECKOUT_APP_RESERVATION_TIME_UP_HEADLINE="checkoutApp.reservationTimeUp.headline",t.CHECKOUT_APP_RESERVATION_TIME_UP_DESCRIPTION="checkoutApp.reservationTimeUp.description",t.CHECKOUT_APP_RESERVATION_TIME_UP_BUTTON="checkoutApp.reservationTimeUp.button",t.CHECKOUT_APP_CUSTOMER_USERNAME_WHICH_ONE="checkoutApp.customer.username.whichOne",t.CHECKOUT_APP_CUSTOMER_EMAIL_REGISTERED="checkoutApp.customer.email.registered",t.CHECKOUT_APP_CUSTOMER_FORGOT_PW_EMAIL_EMPTY="customerDataApp.customer.forgotPwEmail.empty",t.CHECKOUT_APP_CUSTOMER_FORGOT_PW_EMAIL_INVALID="checkoutApp.customer.forgotPwEmail.invalid",t.CHECKOUT_APP_CUSTOMER_EMAIL_INVALID="checkoutApp.customer.email.invalid",t.CHECKOUT_APP_PRINT="checkoutApp.print",t.CHECKOUT_APP_CUSTOMER_ZIP_ERROR="checkoutApp.customer.zipError",t.CHECKOUT_APP_RECEIPT_APPLE_WALLET_FAILURE="checkoutApp.receipt.appleWallet.failure",t.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE="checkoutApp.receipt.deliveryHeadline",t.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE_ARTICLE="checkoutApp.receipt.deliveryHeadline.article",t.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE_VOUCHER="checkoutApp.receipt.deliveryHeadline.voucher",t.CHECKOUT_APP_RECEIPT_PREPAYMENT_MAIL_DELIVERY="checkoutApp.receipt.prepayment.mailDelivery",t.CHECKOUT_APP_RECEIPT_PREPAYMENT_WILL_CALL="checkoutApp.receipt.prepayment.willCall",t.CHECKOUT_APP_RECEIPT_REASON_FOR_PAYMENT_INFORMATION="checkoutApp.receipt.reasonForPayment.information",t.CHECKOUT_APP_RECEIPT_WILL_CALL_TYPE_NEXT_STEP_HEADLINE="checkoutApp.receipt.willcallType.nextStepHeadline",t.CHECKOUT_APP_RECEIPT_WILL_CALL_TYPE_CODE_TEXT="checkoutApp.receipt.willcallType.codeText",t.CHECKOUT_APP_RECEIPT_WILL_CALL_BARCODE_TEXT="checkoutApp.receipt.willcallBarcode.text",t.CHECKOUT_APP_RECEIPT_WILL_CALL_BARCODE_BUTTON="checkoutApp.receipt.willcallBarcode.button",t.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODE_HEADLINE="checkoutApp.receipt.downloadCode.headline",t.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODE_SUBHEADLINE="checkoutApp.receipt.downloadCode.subheadline",t.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODES_SUBHEADLINE="checkoutApp.receipt.downloadCodes.subheadline",t.CHECKOUT_APP_INFORMATION_RECEIPT_HINT="checkoutApp.information.receipt.hint",t.CHECKOUT_APP_INFORMATION_RECEIPT_PICK_UP_HINT="checkoutApp.information.receipt.pickUpHint",t.CHECKOUT_APP_RECEIPT_PREPAYMENT_RECEIVING_PAYMENT="checkoutApp.receipt.prepayment.receivingPayment",t.CHECKOUT_APP_RECEIPT_PREPAYMENT_TICKET_DIRECT="checkoutApp.receipt.prepayment.ticketDirect",t.CHECKOUT_APP_RECEIPT_TICKET_DIRECT_FAILURE="checkoutApp.receipt.ticketDirect.failure",t.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_HEADLINE="checkoutApp.receipt.wallet.modalLayer.headline",t.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_HOW="checkoutApp.receipt.wallet.modalLayer.textHow",t.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_WITH="checkoutApp.receipt.wallet.modalLayer.textWith",t.CHECKOUT_APP_ORDER_SUMMARY="checkoutApp.orderSummary",t.CHECKOUT_APP_DELIVERY_TYPE_INCL_APPLE_WALLET="checkoutApp.deliveryType.inclAppleWallet",t.CHECKOUT_APP_TICKET="checkoutApp.ticket",t.CHECKOUT_APP_TICKETS="checkoutApp.tickets",t.CHECKOUT_APP_ARTICLE="checkoutApp.article",t.CHECKOUT_APP_ARTICLES="checkoutApp.articles",t.CHECKOUT_APP_PLURAL_RULES_TICKET="checkoutApp.pluralRules.ticket",t.CHECKOUT_APP_PLURAL_RULES_ARTICLE="checkoutApp.pluralRules.article",t.CHECKOUT_APP_SUBTOTAL_TICKETS="checkoutApp.subtotal.tickets",t.CHECKOUT_APP_TO_DOWNLOAD_CODE_PROMOTION="checkoutApp.toDownloadCodePromotion",t.CHECKOUT_APP_TICKET_INSURANCE_TITLE="checkoutApp.ticketInsurance.title",t.CHECKOUT_APP_TICKET_INSURANCE_SUBTEXT="checkoutApp.ticketInsurance.subtext",t.CHECKOUT_APP_TICKET_INSURANCE_SUBTEXT_WITHOUT_POPUP="checkoutApp.ticketInsurance.subtext.without.popup",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TITLE="checkoutApp.ticketInsurance.reminder.title",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_SUBMIT="checkoutApp.ticketInsurance.reminder.submit",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_CANCEL="checkoutApp.ticketInsurance.reminder.cancel",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TEXT_PART1="checkoutApp.ticketInsurance.reminder.text.part1",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TEXT_PART2="checkoutApp.ticketInsurance.reminder.text.part2",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_ADD_BUTTON="checkoutApp.ticketInsurance.reminder.add.button",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_ADVERTISING_TEXT="checkoutApp.ticketInsurance.reminder.advertising.text",t.CHECKOUT_APP_TICKET_INSURANCE_NO_TICKET_INSURANCE_SUPPORTED="checkoutApp.ticketInsurance.noTicketInsuranceSupported",t.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_SHOPPING_CART_SUM_TEXT="checkoutApp.ticketInsurance.reminder.shopping.cart.sum.text",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_TITLE="checkoutApp.ticketInsurance.info.removed.insurance.title",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_TEXT="checkoutApp.ticketInsurance.info.removed.insurance.text",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_BUTTON_TEXT="checkoutApp.ticketInsurance.info.removed.insurance.button.text",t.CHECKOUT_APP_SHOPPING_CART_GIFT_WRAPPING="checkoutApp.shoppingCart.giftWrapping",t.CHECKOUT_APP_GIFTWRAP="checkoutApp.giftwrap",t.CHECKOUT_APP_PLEASE_CHOOSE_DELIVERY_METHOD="checkoutApp.pleaseChooseDeliveryMethod",t.CHECKOUT_APP_TOTAL_WITHOUT_VAT="checkoutApp.total.withoutVAT",t.CHECKOUT_APP_VAT="checkoutApp.VAT",t.CHECKOUT_APP_TAX="checkoutApp.TAX",t.CHECKOUT_APP_VAT_PLUS_DELIVERY_COST="checkoutApp.VAT.plusDeliveryCost",t.COMPONENT_BENEFIT_GUARANTEE_BOX_HEADLINE="component.benefit.guaranteeBox.headline",t.COMPONENT_BENEFIT_GUARANTEE_BOX_SAFETY="component.benefit.guaranteeBox.safety",t.COMPONENT_BENEFIT_GUARANTEE_BOX_CERTIFIED_CHECK="component.benefit.guaranteeBox.certifiedCheck",t.COMPONENT_BENEFIT_GUARANTEE_BOX_DELIVERY="component.benefit.guaranteeBox.delivery",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_DAY="checkoutApp.birthday.placeholder.day",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_MONTH="checkoutApp.birthday.placeholder.month",t.CHECKOUT_APP_BIRTHDAY_PLACEHOLDER_YEAR="checkoutApp.birthday.placeholder.year",t.CHECKOUT_APP_CUSTOMER_DATE_OF_BIRTH="checkoutApp.customer.dateOfBirth.empty",t.CHECKOUT_APP_BIRTHDAY_REQUIRED="checkoutApp.birthday.required",t.CHECKOUT_APP_BIRTHDAY_INVALID_TOO_LATE="checkoutApp.birthday.invalid.tooLate",t.CHECKOUT_APP_BIRTHDAY_INVALID_FORMAT="checkoutApp.birthday.invalid.format",t.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_PAST="checkoutApp.birthday.invalid.inThePast",t.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_FUTURE="checkoutApp.birthday.invalid.inTheFuture",t.CHECKOUT_APP_BIRTHDAY_INVALID_NOT_EIGHTEEN="checkoutApp.birthday.invalid.notEighteen",t.CHECKOUT_APP_TICKET_PERSONALISATION_SUBHEADLINE="checkoutApp.ticketPersonalisation.subheadline",t.CHECKOUT_APP_TICKET_PERSONALISATION_SUBHEADLINE_MEMBERCARDS="checkoutApp.ticketPersonalisation.subheadline.memberCards",t.CHECKOUT_APP_TICKET_PERSONALISATION_CARD_HEADLINE="checkoutApp.ticketPersonalisation.cardHeadline",t.CHECKOUT_APP_TICKET_PERSONALISATION_EVENT="checkoutApp.ticketPersonalisation.event",t.CHECKOUT_APP_TICKET_PERSONALISATION_GENERAL_INPUT_ERROR="checkoutApp.ticketPersonalisation.generalInputError",t.CHECKOUT_APP_TICKET_PERSONALISATION_NEW_CUSTOMER_HINT="checkoutApp.ticketPersonalisation.newCustomer.hint",t.CHECKOUT_APP_CONDITIONS_OPT_IN_TICKET_DIRECT_DELIVERY_TRIP="checkoutApp.conditionsOptIn.ticketdirectDelivery.trip",t.CHECKOUT_APP_CONDITIONS_OPT_IN_MOBILE_TICKET_DELIVERY_TRIP="checkoutApp.conditionsOptIn.mobileTicketDelivery.trip",t.CHECKOUT_APP_CONDITIONS_OPT_IN_TRIP="checkoutApp.conditionsOptIn.trip",t.CHECKOUT_APP_CONDITIONS_OPT_IN_TICKET_DIRECT_DELIVERY="checkoutApp.conditionsOptIn.ticketdirectDelivery",t.CHECKOUT_APP_CONDITIONS_OPT_IN_MOBILE_TICKET_DELIVERY="checkoutApp.conditionsOptIn.mobileTicketDelivery",t.CHECKOUT_APP_CONDITIONS_OPT_IN_DEFAULT="checkoutApp.conditionsOptIn.default",t.CHECKOUT_APP_ADDITIONAL_PROMOTER_INFO_PART2="checkoutApp.additionalPromoterInfo.part2",t.CHECKOUT_APP_ADDITIONAL_PROMOTER_INFO_PART1="checkoutApp.additionalPromoterInfo.part1",t.CHECKOUT_APP_VOUCHER_REDEEM_VOUCHER="checkoutApp.voucher.redeemVoucher",t.CHECKOUT_APP_VOUCHER_REACHED_TOTAL_ORDER_AMOUNT="checkoutApp.voucher.reachedTotalOrderAmount",t.CHECKOUT_APP_VOUCHER_PROVIDER="checkoutApp.voucher.provider",t.CHECKOUT_APP_VOUCHER_CODE="checkoutApp.voucher.code",t.CHECKOUT_APP_VOUCHER_SCRAP_CODE="checkoutApp.voucher.scrap.code",t.CHECKOUT_APP_VOUCHER_REDEEM_EXTERNAL_BUTTON="checkoutApp.voucher.redeem.external.button.label",t.CHECKOUT_APP_VOUCHER_EMPTY="checkoutApp.voucher.empty",t.CHECKOUT_APP_VOUCHER_SCRAP_EMPTY="checkoutApp.voucher.scrap.empty",t.CHECKOUT_APP_VOUCHER_REDEEMED_VOUCHER_HEADLINE_SINGULAR="checkoutApp.voucher.redeemedVoucherHeadlineSingular",t.CHECKOUT_APP_VOUCHER_REDEEMED_VOUCHER_HEADLINE="checkoutApp.voucher.redeemedVoucherHeadline",t.CHECKOUT_APP_VOUCHER_RESIDUAL="checkoutApp.voucher.residual",t.CHECKOUT_APP_VOUCHER_REDEEMED="checkoutApp.voucher.redeemed",t.CHECKOUT_APP_DELETE_VOUCHER="checkoutApp.deleteVoucher",t.CHECKOUT_APP_VOUCHER_TOTAL="checkoutApp.voucher.total",t.CHECKOUT_APP_VOUCHER_ALREADY_ENTERED="checkoutApp.voucher.alreadyEntered",t.CHECKOUT_APP_VOUCHER_DOWNLOAD_HEADLINE="checkoutApp.voucher.download.headline",t.CHECKOUT_APP_VOUCHER_DOWNLOAD_LINK="checkoutApp.voucher.download.link",t.CHECKOUT_APP_VOUCHER_DOWNLOAD_LINK_AFTER="checkoutApp.voucher.download.link.after",t.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_INVALID="checkoutApp.error.customer.setvoucher.externalVoucherInvalidData",t.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_NUMBER_INVALID="checkoutApp.error.customer.setvoucher.externalVoucherInvalidNumber",t.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_CODE_INVALID="checkoutApp.error.customer.setvoucher.externalVoucherInvalidPin",t.CHECKOUT_APP_TICKET_PERSONALISATION_IDENTIFICATION_NUMBER_INVALID="checkoutApp.ticketPersonalisation.identificationNumber.invalid",t.CHECKOUT_APP_TICKET_PERSONALISATION_ORDER_COMMENT_REQUIRED="checkoutApp.ticketPersonalisation.orderComment.required",t.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HEADLINE="checkoutApp.ticketPersonalisation.popup.headline",t.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_WHAT_QUESTION="checkoutApp.ticketPersonalisation.popup.what.question",t.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_WHAT_ANSWER="checkoutApp.ticketPersonalisation.popup.what.answer",t.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HOW_QUESTION="checkoutApp.ticketPersonalisation.popup.how.question",t.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HOW_ANSWER="checkoutApp.ticketPersonalisation.popup.how.answer",t.CHECKOUT_APP_INVALID_ENTRY="checkoutApp.invalidEntry",t.CHECKOUT_APP_ERROR_LINKS_NOT_ALLOWED="checkoutApp.error.linksNotAllowed",t.CHECKOUT_APP_CONNECTION_RETRY_TITLE="checkoutApp.connection.retry.title",t.CHECKOUT_APP_CONNECTION_RETRY_SPINNER="checkoutApp.connection.retry.spinner",t.CHECKOUT_APP_CONNECTION_RETRY_CONTENT="checkoutApp.connection.retry.content",t.CHECKOUT_APP_CONNECTION_LOST_TITLE="checkoutApp.connection.lost.title",t.CHECKOUT_APP_CONNECTION_LOST_CONTENT="checkoutApp.connection.lost.content",t.CHECKOUT_APP_CONNECTION_LOST_BUTTON_BACK="checkoutApp.connection.lost.button.back",t.CHECKOUT_APP_CONNECTION_LOST_BUTTON_RELOAD="checkoutApp.connection.lost.button.reload",t.CHECKOUT_APP_CONNECTION_RECOVERED_TITLE="checkoutApp.connection.recovered.title",t.CHECKOUT_APP_CONNECTION_RECOVERED_CONTENT="checkoutApp.connection.recovered.content",t.GLOBAL_CHANGE="global.change",t.GLOBAL_EDIT="global.edit",t.CHECKOUT_APP_LINK_CANCEL="checkoutApp.link.cancel",t.CHECKOUT_APP_SHOW_ALL_GIFT_WRAP="checkoutApp.showAll.giftWrap",t.CHECKOUT_APP_SHOW_SEAT_INFORMATION="checkoutApp.showSeatInformation",t.CHECKOUT_APP_SHOW_SEATMAP="checkoutApp.showSeatmap",t.COMPONENT_SEATMAP_ERROR_SEATMAP_NOT_AVAILABLE_HEADLINE="component.seatmap.error.seatmapNotAvailableHeadline",t.MY_ORDERS_DETAILS_BACKTOOVERVIEW="myOrders.details.backToOverview",t.MY_ORDERS_OVERVIEW_HEADLINE="myOrders.overview.headline",t.MY_ORDERS_OVERVIEW_CURRENTORDERSCARD_HEADLINE="myOrders.overview.currentOrdersCard.headline",t.MY_ORDERS_OVERVIEW_RECENTORDERSCARD_HEADLINE="myOrders.overview.recentOrdersCard.headline",t.MY_ORDERS_OVERVIEW_NOORDERS_HINTTEXT="myOrders.overview.noOrders.hintText",t.COMPONENT_DASHBOARD_LATESTORDER_ORDER="component.dashboard.latestOrder.order",t.MY_ORDERS_FROM="myOrders.from",t.MY_ORDERS_TOTAL="myOrders.total",t.MY_ORDERS_OVERVIEW_ORDERDETAILS_LINK="myOrders.overview.orderDetails.link",t.COMPONENT_DASHBOARD_NOLASTORDER="component.dashboard.noLastOrder",t.CHECKOUT_APP_DELIVERY_BOX_HEADLINE="checkoutApp.deliveryBox.headline",t.CHECKOUT_APP_DELIVERY_BOX_ITEM1="checkoutApp.deliveryBox.item1",t.CHECKOUT_APP_DELIVERY_BOX_ITEM2="checkoutApp.deliveryBox.item2",t.CHECKOUT_APP_DELIVERY_BOX_ITEM3="checkoutApp.deliveryBox.item3",t.CHECKOUT_APP_DELIVERY_BOX_ITEM4="checkoutApp.deliveryBox.item4",t.CHECKOUT_APP_DELIVERY_BOX_ITEM5="checkoutApp.deliveryBox.item5",t.CHECKOUT_APP_DELIVERY_BOX_ITEM6="checkoutApp.deliveryBox.item6",t.CHECKOUT_APP_PAYMENT_BOX_HEADLINE="checkoutApp.paymentBox.headline",t.CHECKOUT_APP_PAYMENT_BOX_ITEM1="checkoutApp.paymentBox.item1",t.CHECKOUT_APP_PAYMENT_BOX_ITEM2="checkoutApp.paymentBox.item2",t.CHECKOUT_APP_PAYMENT_BOX_ITEM3="checkoutApp.paymentBox.item3",t.CHECKOUT_APP_PAYMENT_BOX_ITEM4="checkoutApp.paymentBox.item4",t.CHECKOUT_APP_PAYMENT_BOX_ITEM5="checkoutApp.paymentBox.item5",t.CHECKOUT_APP_PAYMENT_BOX_ITEM6="checkoutApp.paymentBox.item6",t.CHECKOUT_APP_3DSECURE_TITLE="checkoutApp.3dsecure.title",t.CHECKOUT_APP_3DSECURE_COPY="checkoutApp.3dsecure.copy",t.CHECKOUT_APP_3DSECURE_HINT="checkoutApp.3dsecure.hint",t.CHECKOUT_APP_TO3DSECURE="checkoutApp.to3dSecure",t.CHECKOUT_APP_3DSECURE_HINT_TOGGLE_NAME="checkoutApp.3dsecure.hintToggleName",t.CHECKOUT_APP_3DSECURE_HINT_TOGGLE_TEXT="checkoutApp.3dsecure.hintToggleText",t.CHECKOUT_APP_MORE_INFORMATION="checkoutApp.moreInformation",t.CHECKOUT_APP_3DSECURE_WHAT_IS_3DSECURE="checkoutApp.3dsecure.whatIs3dSecure",t.CHECKOUT_APP_3DSECURE_ERROR_MESSAGE="checkoutApp.3dsecure.errorMessage",t.CHECKOUT_APP_ADD_X_SALE_TO_CART="checkoutApp.addXSaleToCart",t.CHECKOUT_APP_CONTINUE_TO_BOOKING="checkoutApp.continueToBooking",t.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_CARD_HEADLINE="checkoutApp.shoppingCart.xSaleEvents.card.headline",t.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_HEADLINE="checkoutApp.shoppingCart.xSaleEvents.headline",t.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_SUB_HEADLINE="checkoutApp.shoppingCart.xSaleEvents.sub.headline",t.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_DESCRIPTION="checkoutApp.shoppingCart.xSaleEvents.description",t.GLOBAL_APP_INCREASE_STEPPER="global.stepper.increaseAmount",t.GLOBAL_APP_DECREASE_STEPPER="global.stepper.decreaseAmount",t.CHECKOUT_APP_NEWSLETTER_CHECKBOX_ADDITIONAL_TEXT="checkoutApp.newsletterCheckbox.additionalText",t.CHECKOUT_APP_CHECK_BOX_PARTNER_NEWSLETTER="checkoutApp.checkBoxPartnerNewsletter",t.CHECKOUT_APP_CHECK_BOX_NEWSLETTER_YES="checkoutApp.checkBoxNewsletter.yes",t.CHECKOUT_APP_CHECK_BOX_NEWSLETTER_NO="checkoutApp.checkBoxNewsletter.no",t.CHECKOUT_APP_NEWSLETTER_DATA_PROTECTION="checkoutApp.newsletter.dataProtection",t.CHECKOUT_APP_NEWSLETTER_HEADLINE="checkoutApp.newsletter.headline",t.CHECKOUT_APP_GIFT_INFORMATION_SELF_PRINTING="checkoutApp.giftInformation.selfPrinting",t.CHECKOUT_APP_GIFT_INFORMATION_VIA_EMAIL="checkoutApp.giftInformation.viaEmail",t.CHECKOUT_APP_GIFT_INFORMATION_CHOOSE_DELIVERY_OPTION="checkoutApp.giftInformation.chooseDeliveryOption",t.CHECKOUT_APP_GIFT_INFORMATION_BUYER_NAME_LABEL="checkoutApp.giftInformation.buyerName.label",t.CHECKOUT_APP_GIFT_INFORMATION_BUYER_NAME_PLACEHOLDER="checkoutApp.giftInformation.buyerName.placeholder",t.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_NAME_LABEL="checkoutApp.giftInformation.recipientName.label",t.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_NAME_PLACEHOLDER="checkoutApp.giftInformation.recipientName.placeholder",t.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_EMAIL_LABEL="checkoutApp.giftInformation.recipientEmail.label",t.CHECKOUT_APP_GIFT_INFORMATION_PERSONAL_NOTE_LABEL="checkoutApp.giftInformation.personalNote.label",t.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION="checkoutApp.giftInformation.deliveryOption",t.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION_EMAIL="checkoutApp.giftInformation.deliveryOption.email",t.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION_PRINT="checkoutApp.giftInformation.deliveryOption.print",t.CHECKOUT_APP_SEAT_LEVEL_META_DATA_CHECKBOX_LABEL="checkoutApp.seatLevelMetaData.checkbox.label",t.CHECKOUT_APP_SEAT_LEVEL_META_DATA_CHECKBOX_ERROR="checkoutApp.seatLevelMetaData.checkbox.error",t.CHECKOUT_APP_DELIVERY_USED_FACEBOOK_DATA_HINT="checkoutApp.delivery.usedFacebookData.hint",t.CHECKOUT_APP_PAYMENT_DEBIT="checkoutApp.payment.debit",t.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_HOLDER="checkoutApp.payment.debitAccountHolder",t.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_NUMBER="checkoutApp.payment.debitAccountNumber",t.CHECKOUT_APP_PAYMENT_DEBIT_BANK_SORT_CODE="checkoutApp.payment.debitBankSortCode",t.CHECKOUT_APP_PAYMENT_DEBIT_IBAN="checkoutApp.payment.debitIban",t.CHECKOUT_APP_PAYMENT_DEBIT_BIC="checkoutApp.payment.debitBic",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_CANCEL="checkoutApp.payment.ibanConverter.cancel",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_CONVERT="checkoutApp.payment.ibanConverter.convert",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_DEFAULT="checkoutApp.payment.ibanConverter.error.default",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_EMPTY="checkoutApp.payment.ibanConverter.error.empty",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_INVALID="checkoutApp.payment.ibanConverter.error.invalid",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_INFO="checkoutApp.payment.ibanConverter.info",t.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_SHOW_CONVERTER="checkoutApp.payment.ibanConverter.showConverter",t.CHECKOUT_APP_PAYMENT_SEPA_HINT_PART1="checkoutApp.payment.sepaHint.part1",t.CHECKOUT_APP_PAYMENT_SEPA_HINT_PART2="checkoutApp.payment.sepaHint.part2",t.CHECKOUT_APP_PAYMENT_EXTERNAL_INFORMATION="checkoutApp.payment.external.information",t.CHECKOUT_APP_PAYMENT_CREDIT_CARD_WALLET_INFORMATION="checkoutApp.payment.creditCardWallet.information",t.CHECKOUT_APP_PAYMENT_SBERBANK_INFORMATION="checkoutApp.payment.sberbank.information",t.CHECKOUT_APP_PAYMENT_PAYPAL_INFORMATION="checkoutApp.payment.paypal.information",t.CHECKOUT_APP_PAYMENT_IDEAL_INFORMATION="checkoutApp.payment.ideal.information",t.CHECKOUT_APP_PAYMENT_ESR_INFORMATION="checkoutApp.payment.esr.information",t.CHECKOUT_APP_PAYMENT_MASTERPASS_INFORMATION="checkoutApp.payment.masterpass.information",t.CHECKOUT_APP_PAYMENT_INSTANT_TRANSFER_INFORMATION="checkoutApp.payment.instantTransfer.information",t.CHECKOUT_APP_PAYMENT_IBERIA_PLUS="checkoutApp.payment.iberiaPlus.information",t.CHECKOUT_APP_PAYMENT_ITALIAN_CULTURAL_VOUCHERS="checkoutApp.payment.italianCulturalVouchers.information",t.CHECKOUT_APP_PAYMENT_AME_INFORMATION="checkoutApp.payment.AME.information",t.CHECKOUT_APP_OPT_IN_LABEL_ACCEPT="checkoutApp.optIn.label.accept",t.CHECKOUT_APP_OPT_IN_LABEL_DECLINE="checkoutApp.optIn.label.decline",t.CHECKOUT_APP_OPT_INS_REQUIRED="checkoutApp.optIns.required",t.CHECKOUT_APP_OR="checkoutApp.or",t.CHECKOUT_APP_PAGE_TITLE_BASKET="checkoutApp.pageTitle.basket",t.CHECKOUT_APP_PAGE_TITLE_LOGIN="checkoutApp.pageTitle.login",t.CHECKOUT_APP_PAGE_TITLE_FACEBOOK="checkoutApp.pageTitle.facebook",t.CHECKOUT_APP_PAGE_TITLE_DELIVERY="checkoutApp.pageTitle.delivery",t.CHECKOUT_APP_PAGE_TITLE_TICKET_PERSONALISATION="checkoutApp.pageTitle.ticketPersonalisation",t.CHECKOUT_APP_PAGE_TITLE_PAYMENT="checkoutApp.pageTitle.payment",t.CHECKOUT_APP_PAGE_TITLE_3DSECURE="checkoutApp.pageTitle.3dsecure",t.CHECKOUT_APP_PAGE_TITLE_MASTERPASS="checkoutApp.pageTitle.masterpass",t.CHECKOUT_APP_PAGE_TITLE_SUMMARY="checkoutApp.pageTitle.summary",t.CHECKOUT_APP_PAGE_TITLE_PENDING_PAGE="checkoutApp.pageTitle.pendingPage",t.CHECKOUT_APP_PAGE_TITLE_AWAITING_INITIALIZATION="checkoutApp.pageTitle.awatingInitialization",t.CHECKOUT_APP_PAGE_TITLE_RECEIPT="checkoutApp.pageTitle.receipt",t.CHECKOUT_APP_PAGE_TITLE_ERROR="checkoutApp.pageTitle.error",t.CHECKOUT_APP_PAGE_TITLE_CHECKOUT="checkoutApp.pageTitle.checkout",t.CHECKOUT_APP_PAGE_TITLE_CUSTOMER_SEARCH="checkoutApp.pageTitle.customerSearch",t.CHECKOUT_APP_PAGE_SUBHEADLINE_CUSTOMER_SEARCH="checkoutApp.pageSubHeadline.customerSearch",t.CHECKOUT_APP_PAGE_SUBHEADLINE_CUSTOMER_SEARCH_RESULT="checkoutApp.pageSubheadline.customerSearchResult",t.CHECKOUT_APP_CUSTOMER_SEARCH_PAGEINFO="checkoutApp.customerSearch.pageInfo",t.CHECKOUT_APP_PRIVACY_PREFERENCES_HEADLINE="checkoutApp.privacyPreferences.headline",t.CHECKOUT_APP_PRIVACY_PREFERENCES_INFORMATION="checkoutApp.privacyPreferences.information",t.CHECKOUT_APP_PRIVACY_PREFERENCES_INFORMATION_MARKETING_OPT_INS="checkoutApp.privacyPreferences.information.marketingOptIns",t.CHECKOUT_APP_PRIVACY_PREFERENCES_INFORMATION_PROFILE_OPT_INS="checkoutApp.privacyPreferences.information.profileOptIns",t.GLOBAL_ETICKET_DOWNLOAD_YOUR_ETICKET="global.eTicket.downloadYourEtickets",t.GLOBAL_ETICKET_SHOW_TICKET="global.eTicket.showTicket",t.GLOBAL_ETICKET_NOT_AVAILABLE_ENTIRELY="global.eTicket.notAvailableEntirely",t.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_NOT_ACCEPTED="checkoutApp.summary.termsAndConditions.notAccepted",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_GREETING="checkoutApp.summary.additionalInfo.greeting",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_SUBHEADLINE="checkoutApp.summary.additionalInfo.subheadline",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_TEXT="checkoutApp.summary.additionalInfo.delete.ba.text",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_LINK="checkoutApp.summary.additionalInfo.delete.ba.link",t.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_ERROR="checkoutApp.summary.additionalInfo.delete.ba.error",t.CHECKOUT_APP_VOUCHER_INFOPOPUP_TITLE="checkoutApp.voucher.infopopup.title",t.CHECKOUT_APP_VOUCHER_INFOPOPUP_TEXT="checkoutApp.voucher.infopopup.text",t.CHECKOUT_APP_VOUCHER_INFOPOPUP_TEXT2="checkoutApp.voucher.infopopup.text2",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TITLE="checkoutApp.ticketInsurance.infopopup.title",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP="checkoutApp.ticketInsurance.infopopup",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_HOW_IT_WORKS="checkoutApp.ticketInsurance.infopopup.howItWorks",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_PRODUCT_INFORMATION="checkoutApp.ticketInsurance.infopopup.productInformations",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_PRODUCT_INFORMATION_HREF="checkoutApp.ticketInsurance.infopopup.productInformations.href",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TERMS="checkoutApp.ticketInsurance.infopopup.termsInsurance",t.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TERMS_HREF="checkoutApp.ticketInsurance.infopopup.termsInsurance.href",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_TITLE="checkoutApp.ticketInsurance.info.icon.title",t.CHECKOUT_APP_TICKET_INSURANCE_CONDITIONS_SUMMARY="checkoutApp.ticketInsurance.conditions.summary",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_DESCRIPTION="checkoutApp.ticketInsurance.info.icon.description",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_PRICE="checkoutApp.ticketInsurance.info.icon.price",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_EVENT_NAME="checkoutApp.ticketInsurance.info.icon.eventname",t.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_ERROR_UNAVAILABLE="checkoutApp.ticketInsurance.info.icon.error.unavailable",t.CHECKOUT_APP_SUMMARY_DEBIT_BIC="checkoutApp.summary.debitBic",t.CHECKOUT_APP_SUMMARY_PAGE_WAS_SKIPPED_HINT="checkoutApp.summary.pageWasSkipped.hint",t.CHECKOUT_APP_SUMMARY_PREFILLED_SETTINGS_HINT="checkoutApp.summary.prefilledSettings.hint",t.CHECKOUT_APP_SHOPPING_CART_TO_NEXT_PAGE="checkoutApp.shoppingCart.toNextPage",t.CHECKOUT_APP_SUMMARY_CREDIT_CARD_BUTTON_SUBMIT="checkoutApp.summary.creditCard.button.submit",t.CHECKOUT_APP_EXTERNAL_PAYMENT_PENDING_HEADLINE="checkoutApp.externalPayment.pendingHeadline",t.CHECKOUT_APP_EXTERNAL_PAYMENT_PENDING_MESSAGE="checkoutApp.externalPayment.pendingMessage",t.CHECKOUT_APP_EXTERNAL_PAYMENT_ERROR_MESSAGE="checkoutApp.externalPayment.errorMessage",t.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_REDIRECT_MESSAGE="checkoutApp.externalPayment.creditCard.redirectMessage",t.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_HEADLINE="checkoutApp.externalPayment.creditCard.headline",t.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_INFORMATION_TRANSMITTED="checkoutApp.externalPayment.creditCard.information.transmitted",t.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_BIN_INVALID="checkoutApp.externalPayment.creditCard.bin.invalid",t.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_LUHN_INVALID="checkoutApp.externalPayment.creditCard.luhn.invalid",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_CHOSE_INSTALLMENT="checkoutApp.payment.billpay.paylater.chooseInstallment",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_MONTHS="checkoutApp.payment.billpay.paylater.months",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_DURATION="checkoutApp.payment.billpay.paylater.duration",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_MONTHLY_INSTALLMENT="checkoutApp.payment.billpay.paylater.monthlyInstallment",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_SINGLE_FEE="checkoutApp.payment.billpay.paylater.singleFee",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_DELIVERY_FEE="checkoutApp.payment.billpay.paylater.deliveryFee",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_TOTAL_AMOUNT="checkoutApp.payment.billpay.paylater.totalAmount",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_FEES_DETAILS_HEADLINE="checkoutApp.payment.billpay.paylater.feesDetailsHeadline",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_IMMEDIATE_FEES="checkoutApp.payment.billpay.paylater.immediateFees",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_FEES_DETAILS="checkoutApp.payment.billpay.paylater.feesDetails",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_TERMS="checkoutApp.payment.billpay.paylater.terms",t.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_ERROR_API_CALL="checkoutApp.billpay.paylater.error.apiCallError",t.CHECKOUT_APP_CUSTOMER_POSTCODE_INVALID="checkoutApp.customer.postcode.invalid",t.GLOBAL_ADVICE_TICKET_DIRECT="global.adviceTicketdirect",t.GLOBAL_EVENTIM="global.eventim",t.MY_CUSTOMER_DATA_NEWSLETTER_COCKPIT_TICKET_ALERT_NO_RESULTS="myCustomerData.newsletterCockpit.ticketAlert.noResults",t.SEARCH_MIN_LENGTH="search.minLength",t.CHECKOUT_APP_PAYMENT_NO_PAYMENT_TYPES_ERROR="checkoutApp.payment.noPaymentTypesError",t.CHECKOUT_APP_PAYMENT_NO_PAYMENT_TYPES_NEW_CUSTOMER="checkoutApp.payment.noPaymentTypes.newCustomer",t.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY="checkoutApp.customer.input.empty",t.CHECKOUT_APP_SHOPPING_CART_MAXIMUM_AMOUNT_OF_TICKETS_EXCEEDED="checkoutApp.shoppingCart.maximumAmountOfTicketsExceeded",t.CHECKOUT_APP_CUSTOMER_CPF_EXISTS="checkoutApp.customer.cpf.exists",t.CHECKOUT_APP_CUSTOMER_CPF_INVALID="checkoutApp.customer.cpf.invalid",t.CHECKOUT_APP_CUSTOMER_CITY_OF_BIRTH_SUGGEST_INVALID="checkoutApp.customer.cityOfBirth.suggest.invalid",t.GLOBAL_CUSTOMER_FISCALCODE_INVALID="global.customer.fiscalCode.invalid",t.GLOBAL_CUSTOMER_FISCAL_CODE_EXISTS="global.customer.fiscalCode.exists",t.CHECKOUT_APP_CUSTOMER_VAT_INVALID="checkoutApp.customer.VAT.invalid",t.CHECKOUT_APP_SSO_CONNECT_ACCOUNTS_HEADLINE="checkoutApp.sso.connectAccounts.headline",t.CHECKOUT_APP_SSO_LOGIN_HINT="checkoutApp.sso.loginHint",t.CHECKOUT_APP_SSO_EVENTIM_ACCOUNT_HINT_HEADLINE="checkoutApp.sso.eventimAccountHint.headline",t.CHECKOUT_APP_SSO_EVENTIM_ACCOUNT_HINT="checkoutApp.sso.eventimAccountHint",t.CHECKOUT_APP_SSO_LOGIN="checkoutApp.sso.login",t.CHECKOUT_APP_HELLO="checkoutApp.hello",t.CHECKOUT_APP_SSO_EVENTIM_PASSWORD="checkoutApp.sso.eventimPassword",t.GLOBAL_CUSTOMER_EVENTIM_PASSWORD="global.customer.eventimPassword",t.CHECKOUT_APP_LINK_BACK_TO_LOGIN="checkoutApp.link.backToLogin",t.CHECKOUT_APP_SSO_GENERIC_LOGIN_HINT="checkoutApp.sso.generic.loginHint",t.CHECKOUT_APP_SSO_GENERIC_EVENTIM_ACCOUNT_HINT="checkoutApp.sso.generic.eventimAccountHint",t.CHECKOUT_APP_SPECIAL_NOTIFICATION="checkoutApp.shoppingCart.specialNotification",t.CHECKOUT_APP_ORDER_INSURANCE_NOTIFICATION="checkoutApp.shoppingCart.orderInsurance.notification",t.CHECKOUT_APP_TICKET_INSURANCE_NOTIFICATION="checkoutApp.shoppingCart.ticketInsurance.notification",t.CHECKOUT_APP_RESALE_TICKET_PLURALIZATION_OBJECT="checkoutApp.ticketResale.ticket.pluralization.object",t.GLOBAL_PRICE_ONLY="global.price.only",t.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE="checkoutApp.ticketInsurance.advertising.headline",t.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_TEXT="checkoutApp.ticketInsurance.advertising.text",t.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_INFO_LINK="checkoutApp.ticketInsurance.advertising.infoLink",t.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_LABEL="checkoutApp.ticketInsurance.optin.label",t.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_SUBTEXT_EXPANDED="checkoutApp.ticketInsurance.optin.subtext.expanded",t.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_ERROR="checkoutApp.ticketInsurance.optin.error",t.CHECKOUT_APP_TICKET_REPERSONALIZATION_HINT="checkoutApp.ticketRepersonalizationHint",t.CHECKOUT_APP_INSTALLMENTS_HEADLINE="checkoutApp.installments.headline",t.CHECKOUT_APP_INSTALLMENTS_ITEM="checkoutApp.installments.item",t.CHECKOUT_APP_INSTALLMENTS_ITEMS="checkoutApp.installments.items",t.GLOBAL_CONFIRM="global.confirm",t.CHECKOUT_APP_INSTALLMENTS_ONE_INSTALLMENT_WARNING="checkoutApp.installments.oneInstallment.warning",t.CHECKOUT_APP_INSTALLMENTS_UNMET_INSTALLMENT_WARNING="checkoutApp.installments.unmetInstallment.warning",t.CHECKOUT_APP_INSTALLMENTS="checkoutApp.installments",t.CHECKOUT_APP_INSTALLMENTS_INTEREST_FEE="checkoutApp.installments.interestFee",t.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_INVALID="checkoutApp.customer.authentication.mobileNumber.invalid",t.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_MOBILENUMBER_REQUIRED="checkoutApp.customer.authentication.mobileNumber.required",t.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_TAN_INVALID="checkoutApp.customer.authentication.tan.invalid",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_HEADLINE="checkoutApp.authentication.layer.authenticate.headline",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_HEADLINE="checkoutApp.authentication.layer.authenticate.error.headline",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_INFO="checkoutApp.authentication.layer.authenticate.info",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_FAILED_INFO="checkoutApp.authentication.layer.authenticate.failed.info",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_TOO_MANY_USES="checkoutApp.authentication.layer.authenticate.error.tooManyUses",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_DEFAULT="checkoutApp.authentication.layer.authenticate.error.default",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_BUTTON_SENDCODE="checkoutApp.authentication.layer.authenticate.button.sendCode",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_BUTTON_ABORT="checkoutApp.authentication.layer.authenticate.button.abort",t.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_FAILED_BUTTON="checkoutApp.authentication.layer.authenticate.failed.button",t.CHECKOUT_APP_AUTHENTICATION_LAYER_SKIPPED_TEXT="checkoutApp.authentication.layer.skipped.text",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_TIMER_TEXT="checkoutApp.authentication.layer.enterCode.timer.text",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_INFO="checkoutApp.authentication.layer.enterCode.info",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_BUTTON_SENDCODE="checkoutApp.authentication.layer.enterCode.button.sendcode",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_BUTTON_CANCEL="checkoutApp.authentication.layer.enterCode.button.cancel",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_FIELD_PLACEHOLDER="checkoutApp.authentication.layer.enterCode.field.placeholder",t.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_LINK_RESEND_TAN="checkoutApp.authentication.layer.enterCode.link.resend.tan",t.CHECKOUT_APP_AUTHENTICATION_LAYER_VERIFYING_TAN_HEADLINE="checkoutApp.otp.wait.layer.headline",t.CHECKOUT_APP_AUTHENTICATION_LAYER_VERIFYING_TAN_INFO="checkoutApp.otp.wait.layer.info",t.CHECKOUT_APP_AUTHENTICATION_LAYER_SUCCESSFUL_VERIFIED_TAN_HEADLINE="checkoutApp.otp.successfulVerification.layer.headline",t.CHECKOUT_APP_AUTHENTICATION_LAYER_SUCCESSFUL_VERIFIED_TAN_INFO="checkoutApp.otp.successfulVerification.layer.info",t.CHECKOUT_APP_AUTHENTICATION_LAYER_SUCCESSFUL_VERIFIED_TAN_REDIRECT_LINK="checkoutApp.otp.successfulVerification.layer.redirection.link",t.CUSTOMER_AUTHENTICATION_START_DIALOG_HEADLINE="customerAuthentication.startDialog.headline",t.CUSTOMER_AUTHENTICATION_START_DIALOG_INFO_TEXT_EMAIL="customerAuthentication.startDialog.infoText.email",t.CUSTOMER_AUTHENTICATION_START_DIALOG_CANCEL_BUTTON="customerAuthentication.startDialog.cancelButton",t.CUSTOMER_AUTHENTICATION_START_DIALOG_SEND_CODE_BUTTON="customerAuthentication.startDialog.sendCodeButton",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_HEADLINE="customerAuthentication.enterCodeDialog.headline",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_INFO_TEXT_EMAIL="customerAuthentication.enterCodeDialog.infoText.email",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_CODE_INPUT_PLACEHOLDER="customerAuthentication.enterCodeDialog.codeInputPlaceholder",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_INVALID_CODE_ERROR="customerAuthentication.enterCodeDialog.invalidCodeError",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_SEND_BUTTON="customerAuthentication.enterCodeDialog.sendButton",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_WAIT_FOR_RESEND_TEXT="customerAuthentication.enterCodeDialog.waitForResendText",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_RESEND_LINK="customerAuthentication.enterCodeDialog.resendLink",t.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_CANCEL_BUTTON="customerAuthentication.enterCodeDialog.cancelButton",t.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_HEADLINE="customerAuthentication.successDialog.headline",t.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_INFO_TEXT="customerAuthentication.successDialog.infoText",t.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_REDIRECT_TEXT="customerAuthentication.successDialog.redirectText",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_HEADLINE="customerAuthentication.errorDialog.headline",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_TO_MANY_USES_ERROR="customerAuthentication.errorDialog.tooManyUsesError",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_VALIDATION_ERROR="customerAuthentication.errorDialog.validationError",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_DEFAULT_ERROR="customerAuthentication.errorDialog.defaultError",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_SEND_NEW_CODE_BUTTON="customerAuthentication.errorDialog.sendNewCodeButton",t.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_CANCEL_BUTTON="customerAuthentication.errorDialog.cancelButton",t.CUSTOMER_AUTHENTICATION_SKIPPED_DIALOG_HEADLINE="customerAuthentication.skippedDialog.headline",t.CUSTOMER_AUTHENTICATION_SKIPPED_DIALOG_INFO_TEXT="customerAuthentication.skippedDialog.infoText",t.GLOBAL_HERE="global.here",t.CHECKOUT_APP_KLARNA_PAYMENT_METHOD_NOT_AVAILABLE="checkoutApp.klarna.paymentMethodNotAvailable",t.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYLATER="checkoutApp.klarna.paymentInfo.payLater",t.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYOVERTIME="checkoutApp.klarna.paymentInfo.payOverTime",t.CHECKOUT_APP_KLARNA_PAYMENT_INFO_DEBIT="checkoutApp.klarna.paymentInfo.debit",t.CHECKOUT_APP_KLARNA_PAYMENT_INFO_BANKTRANSFER="checkoutApp.klarna.paymentInfo.bankTransfer",t.CHECKOUT_APP_HEADER_POPUP_HEADLINE="checkoutApp.header.popup.headline",t.CHECKOUT_APP_HEADER_POPUP_BACK_TO_SHOP="checkoutApp.header.popup.backToShop",t.CHECKOUT_APP_HEADER_POPUP_CONTINUE="checkoutApp.header.popup.continue",t.CHECKOUT_APP_EVENTIM_CHECKIN_HEADLINE="checkoutApp.eventimCheckin.headline",t.CHECKOUT_APP_EVENTIM_CHECKIN_DESCRIPTION="checkoutApp.eventimCheckin.description",t.CHECKOUT_APP_EVENTIM_CHECKIN_BUTTON="checkoutApp.eventimCheckin.button",t.TICKET_RETURN_SELF_SERVICE_PAGE_TITLE="ticketReturn.selfService.pageTitle",t.TICKET_RETURN_SELF_SERVICE_PAGE_HEADLINE="ticketReturn.selfService.pageHeadline",t.TICKET_RETURN_SELF_SERVICE_PAGE_DESCRIPTION="ticketReturn.selfService.pageDescription",t.TICKET_RETURN_SELF_SERVICE_PAGE_DESCRIPTION_SHORT="ticketReturn.selfService.pageDescription.short",t.TICKET_RETURN_SELF_SERVICE_LOGIN_HINT="ticketReturn.selfService.loginHint",t.TICKET_RETURN_SELF_SERVICE_BARCODES_HEADLINE="ticketReturn.selfService.barcodes.headline",t.TICKET_RETURN_SELF_SERVICE_BARCODES_TICKET_BARCODE="ticketReturn.selfService.barcodes.ticketBarcode",t.TICKET_RETURN_SELF_SERVICE_BARCODES_ADDITIONAL_TICKET_BARCODE="ticketReturn.selfService.barcodes.additionalTicketBarcode",t.TICKET_RETURN_SELF_SERVICE_CUSTOMER_DATA_HEADLINE="ticketReturn.selfService.customerData.headline",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_ADD_BARCODE_HINT="ticketReturn.selfService.refundMethod.addBarcodeHint",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_GENERAL_WARNING="ticketReturn.selfService.refundMethod.generalWarning",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_VOUCHER="ticketReturn.selfService.refundMethod.voucher",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_HEADLINE="ticketReturn.selfService.refundMethod.headline",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_SHOW_ALL_REFUND_METHODS="ticketReturn.selfService.refundMethod.showAllRefundMethods",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_USE_INITIAL="ticketReturn.selfService.refundMethod.useInitial",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_USE_INITIAL_DESCRIPTION="ticketReturn.selfService.refundMethod.useInitial.description",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_BANK_DATA="ticketReturn.selfService.refundMethod.deviatingBankData",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_BANK_DATA_DESCRIPTION="ticketReturn.selfService.refundMethod.deviatingBankData.description",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD="ticketReturn.selfService.refundMethod.deviatingCreditCard",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD_DESCRIPTION="ticketReturn.selfService.refundMethod.deviatingCreditCard.description",t.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD_MODAL_HEADLINE="ticketReturn.selfService.refundMethod.deviatingCreditCard.modalHeadline",t.TICKET_RETURN_SELF_SERVICE_BUTTON_SUBMIT="ticketReturn.selfService.button.submit",t.TICKET_RETURN_SELF_SERVICE_REMOVE_BARCODE="ticketReturn.selfService.button.removeBarcode",t.TICKET_RETURN_SELF_SERVICE_ADD_BARCODE="ticketReturn.selfService.button.addBarcode",t.COMPONENT_CAPTCHA_HEADLINE="component.captcha.headline",t.COMPONENT_CAPTCHA_DESCRIPTION="component.captcha.description",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_PAGE_HEADLINE="ticketReturn.selfService.confirmation.pageHeadline",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_FORM_CREATED="ticketReturn.selfService.confirmation.formCreated",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_REQUEST_RECEIVED="ticketReturn.selfService.confirmation.requestReceived",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_CARD_HEADLINE="ticketReturn.selfService.confirmation.headline",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_WAIT_FOR_REFUND="ticketReturn.selfService.confirmation.waitForRefund",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_1="ticketReturn.selfService.confirmation.headline.one",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_DOWNLOAD_PDF="ticketReturn.selfService.confirmation.downloadPdf",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_2="ticketReturn.selfService.confirmation.headline.two",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_SEND_TICKETS="ticketReturn.selfService.confirmation.sendTickets",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_3="ticketReturn.selfService.confirmation.headline.three",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_GET_REFUND="ticketReturn.selfService.confirmation.getRefund",t.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_CARD_DOWNLOAD_BUTTON_LABEL="ticketReturn.selfService.confirmation.downloadButtonLabel",t.CHECKOUT_APP_STAY22_WIDGET_HEADLINE="checkoutApp.stay22.widgetHeadline",t.CHECKOUT_APP_STAY22_WIDGET_WARNING="component.stay22.warning.text",t.CHECKOUT_APP_STAY22_WIDGET_LINKTEXT="component.stay22.warning.linktext",t.CASHBACK_HEADLINE="checkoutApp.cashback.headline",t.GLOBAL_EVENTIM_PASS_INFOBOX_HEADLINE="global.eventimPass.infobox.headline",t.GLOBAL_EVENTIM_PASS_INFOBOX_SUBHEADLINE="global.eventimPass.infobox.subheadline",t.GLOBAL_EVENTIM_PASS_INFOBOX_DESCRIPTION="global.eventimPass.infobox.description",t.GLOBAL_EVENTIM_PASS_INFOBOX_BUTTON="global.eventimPass.infobox.button",t.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_SUBHEADLINE="global.eventimPass.infobox.appview.subheadline",t.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_DESCRIPTION="global.eventimPass.infobox.appview.description",t.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_BUTTON="global.eventimPass.infobox.appview.button",t.GLOBAL_ADDRESS="global.address",t.GLOBAL_SAVE_ADDRESS="global.saveAddress",t.GLOBAL_SAVE_PAYMENT="global.savePayment",t.GLOBAL_SAVE_PERSONALISATION="global.savePersonalisation",t.CHECKOUT_APP_SOCIAL_POSTING_CARD_HEADLINE="checkoutApp.socialPosting.cardHeadline",t.CHECKOUT_APP_SOCIAL_POSTING_HEADLINE="checkoutApp.socialPosting.headline",t.CHECKOUT_APP_SOCIAL_POSTING_BUTTON_TEXT="checkoutApp.socialPosting.facebook.buttonText",t.CHECKOUT_APP_SOCIAL_POSTING_DESCRIPTION="checkoutApp.socialPosting.description",t.CHECKOUT_APP_SET_PASSWORD_HEADLINE="checkoutApp.setPassword.headline",t.CHECKOUT_APP_SET_PASSWORD_NO_CUSTOMER_ERROR="checkoutApp.setPassword.noCustomerError",t.CHECKOUT_APP_SET_PASSWORD_SUCCESS_HINT="checkoutApp.setPassword.successHint",t.CHECKOUT_APP_RECEIPT_EXTERNAL_DELIVERY_METHOD_NEXT_STEPS="checkoutApp.receipt.externalDeliveryMethod.nextSteps",t.CHECKOUT_APP_CLUB_MEMBERSHIP_REQUIRED="checkoutApp.membership.required",t.GLOBAL_BACK_TO="global.backTo",t.CHECKOUT_APP_SAVE_CUSTOMER_DATA_HINT="checkoutApp.saveCustomerData.hint",t.CHECKOUT_APP_SAVE_PAYMENT_INFORMATION_HINT="checkoutApp.savePaymentInformation.hint",t.CHECKOUT_APP_SAVE_PERSONALIZATION_DATA_HINT="checkoutApp.savePersonalizationData.hint",t.CHECKOUT_APP_TOLL_COLLECT_USER_ID="checkoutApp.tollCollect.userId",t.CHECKOUT_APP_TOLL_COLLECT_USER_ID_ERROR="checkoutApp.tollCollect.userId.error",t.CHECKOUT_APP_TOLL_COLLECT_NEXT_STEPS="checkoutApp.tollCollect.nextSteps",t.GLOBAL_CONFIRMATION_FIELD_NOT_EQUAL="global.confirmationField.notEqual",t.GLOBAL_CONFIRMATION_FIELD_LABEL="global.confirmationField.label",t.GLOBAL_CUSTOMER_USERNAME="global.customer.username",t.CHECKOUT_APP_RESERVATION_TIMER_AFFIRMATIVE_TEXT="checkoutApp.reservationTimer.affirmativeText",t.CHECKOUT_APP_RESERVATION_TIMER_REMAINING_TIME="checkoutApp.reservationTimer.remainingTime",t.PAY_BY_LINK_LANDING_PAGE_TITLE="payByLink.landingPage.title",t.CHECKOUT_APP_HIDE_DETAILS="checkoutApp.hideDetails",t.CHECKOUT_APP_SHOW_DETAILS="checkoutApp.showDetails",t.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_TO_OFFERS_BUTTON="checkoutApp.shoppingCart.specialOffers.toOffers.button",t.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_TO_OFFERS_HINT="checkoutApp.shoppingCart.specialOffers.toOffers.hint",t.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_HEADLINE="checkoutApp.shoppingCart.specialOffers.headline",t.CHECKOUT_APP_SHOPPING_CART_MEMORY_TICKET_PRICE_PER_TICKET="checkoutApp.shoppingCart.memoryTicket.pricePerTicket",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_NAME="checkoutApp.shoppingCart.addQuickMemoryTickets.name",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_DESCRIPTION="checkoutApp.shoppingCart.addQuickMemoryTickets.description",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_ADD_TO_BASKET="checkoutApp.shoppingCart.addQuickMemoryTickets.addToBasket",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_SUCCESSFULLY_ADDED="checkoutApp.shoppingCart.addQuickMemoryTickets.successfullyAdded",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_MIN_PRICE_PER_TICKET="checkoutApp.shoppingCart.addQuickMemoryTickets.minPricePerTicket",t.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_DELIVERY_COSTS="checkoutApp.shoppingCart.addQuickMemoryTickets.deliveryCosts",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_CONTENT="checkoutApp.delivery.memoryTicket.delete.hint.content",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_TITLE="checkoutApp.delivery.memoryTicket.delete.hint.title",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_BUTTON_CHANGE="checkoutApp.delivery.memoryTicket.delete.hint.buttonChange",t.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_BUTTON_CANCEL="checkoutApp.delivery.memoryTicket.delete.hint.buttonCancel",t.CHECKOUT_APP_SHOPPING_CART_DONATION="checkoutApp.shoppingCart.donation",t.CHECKOUT_APP_SHOPPING_CART_DONATION_LABEL="checkoutApp.shoppingCart.donation.label",t.CHECKOUT_APP_DONATION="checkoutApp.donation",t.CHECKOUT_APP_STATIC_SEATMAP_HEADLINE="checkoutApp.static.seatmap.headline",t.CHECKOUT_APP_SPORTS_FOOTER_MESSAGE="checkoutApp.sports.footer.message",t.CHECKOUT_APP_SPORTS_TICKET_PACK_HEADLINE="checkoutApp.sports.ticketPack.headline",t.CHECKOUT_APP_SPORTS_TICKET_NON_PACK_HEADLINE="checkoutApp.sports.ticketNonPack.headline",t.CHECKOUT_APP_SPORTS_TICKET_PACK_DELETE_BUTTONLABEL="checkoutApp.sports.ticketPack.delete",t.CHECKOUT_APP_SPORTS_PACKBUCKET_INVALID_AMOUNT_ERROR="checkoutApp.sports.packbucket.invalid.amount.error",t.CHECKOUT_APP_SPORTS_PERSONALISATION_INFO_HEADLINE="checkoutApp.sports.personalisation.info.headline",t.CHECKOUT_APP_SPORTS_PERSONALISATION_INFO_DESCRIPTION="checkoutApp.sports.personalisation.info.description",t.CHECKOUT_APP_SPORTS_PERSONALISATION_COLLAPSIBLE_HEADLINE="checkoutApp.sports.personalisation.collapsible.headline",t.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_HEADLINE="checkoutApp.sports.skip.personalisation.modal.headline",t.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_TEXT="checkoutApp.sports.skip.personalisation.modal.text",t.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_CLOSE="checkoutApp.sports.skip.personalisation.modal.close",t.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_ACCEPT="checkoutApp.sports.skip.personalisation.modal.accept",t.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_HEADLINE="checkoutApp.backToShop.modal.headline",t.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_TEXT="checkoutApp.backToShop.modal.text",t.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_CLOSE="checkoutApp.backToShop.modal.close",t.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_ACCEPT="checkoutApp.backToShop.modal.accept",t.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_HEADLINE="checkoutApp.reservationExpired.eventAdvertisement.headline",t.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_TEXT="checkoutApp.reservationExpired.eventAdvertisement.text",t.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_BUTTON_TITLE="checkoutApp.reservationExpired.eventAdvertisement.buttonTitle",t.CHECKOUT_APP_PAYPAL_CC_NOT_AVAIL_IN_MOA="checkoutApp.paypalCC.notAvailableInMoa",t.CHECKOUT_APP_GIFT_WRAP_SHOW_ALL="checkoutApp.giftWrap.showAll",t.CHECKOUT_APP_GIFT_WRAP_NUMBER_OF_OPTIONS="checkoutApp.giftWrap.numberOfOptions",t.CHECKOUT_APP_GIFT_WRAP_TITLE="checkoutApp.giftWrap.title",t.CHECKOUT_APP_GIFT_WRAP_LOADING_ERROR="checkoutApp.giftWrap.loadingError",t.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_HEADLINE="checkoutApp.delivery.deliveryMethod.headline",t.CHECKOUT_APP_DELIVERY_CHOOSE_MEMORY_TICKET_HEADLINE="checkoutApp.delivery.chooseMemoryTicket.headline",t.CHECKOUT_APP_DELIVERY_DATA_HEADLINE="checkoutApp.delivery.deliveryData.headline",t.CHECKOUT_APP_TICKET_PERSONALISATION_HEADLINE="checkoutApp.ticketPersonalisation.headline",t.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD_HEADLINE="checkoutApp.payment.paymentMethod.headline",t.CHECKOUT_APP_SUMMARY_CUSTOMER_DATA_HEADLINE="checkoutApp.summary.customerData.headline",t.CHECKOUT_APP_SUMMARY_BILLING_ADDRESS_HEADLINE="checkoutApp.summary.billingAddress.headline",t.CHECKOUT_APP_SUMMARY_SHIPPING_ADDRESS_HEADLINE="checkoutApp.summary.shippingAddress.headline",t.CHECKOUT_APP_SUMMARY_DELIVERY_METHOD_HEADLINE="checkoutApp.summary.deliveryMethod.headline",t.CHECKOUT_APP_SUMMARY_TICKET_PERSONALISATION_HEADLINE="checkoutApp.summary.ticketPersonalisation.headline",t.CHECKOUT_APP_SUMMARY_PAYMENT_METHOD_HEADLINE="checkoutApp.summary.paymentMethod.headline",t.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_HEADLINE="checkoutApp.summary.termsAndConditions.headline",t.CHECKOUT_APP_VIEW_SHOPPING_CART_TOGGLE_SHOW_SUMMARY="checkoutApp.viewShoppingCart.toggle.showSummary",t.CHECKOUT_APP_VIEW_SHOPPING_CART_TOGGLE_HIDE_SUMMARY="checkoutApp.viewShoppingCart.toggle.hideSummary",t.CHECKOUT_APP_VIEW_SHOPPING_CART_TICKET_NUMBER="checkoutApp.viewShoppingCart.ticket.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_ITEM_NUMBER="checkoutApp.viewShoppingCart.item.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_VOUCHER_NUMBER="checkoutApp.viewShoppingCart.voucher.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_EXTRA_NUMBER="checkoutApp.viewShoppingCart.extra.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_RESERVATION_NUMBER="checkoutApp.viewShoppingCart.reservation.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_ARTICLE_NUMBER="checkoutApp.viewShoppingCart.article.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_MEMORY_TICKET_NUMBER="checkoutApp.viewShoppingCart.memoryTicket.number",t.CHECKOUT_APP_VIEW_SHOPPING_CART_HEADLINE="checkoutApp.viewShoppingCart.headline",t.WEB_RESERVATION_PAGE_TITLE="webReservation.pageTitle",t.WEB_RESERVATION_HEADLINE="webReservation.headline",t.WEB_RESERVATION_SUBHEADLINE="webReservation.subheadline",t.WEB_RESERVATION_INPUT_PLACEHOLDER="webReservation.input.placeholder",t.WEB_RESERVATION_BUTTON_TEXT="webReservation.button.text",t.WEB_RESERVATION_CONTACT_SUPPORT="webReservation.contactSupport",t.WEB_RESERVATION_GO_TO_SHOP_BUTTON="webReservation.goToShop.button",t.WEB_RESERVATION_CODE_INVALID_TEXT="webReservation.codeInvalid.text",t.CHECKOUT_APP_AFTERSALES_EVENT_TITLE_SOUVENIR_TICKET="checkoutApp.aftersales.eventTitle.souvenirTicket",t.CHECKOUT_APP_SHOPPING_CART_EXPRESS_CHECKOUT_HEADLINE="checkoutApp.shoppingCart.expressCheckout.headline",t}(K||{});var kee=(()=>{class t{#e=E(no);#t=E(Sn);errorMsg=K.CHECKOUT_APP_GLOBAL_ERROR_GLOBAL_ERROR_MESSAGE;ngOnInit(){this.#e.setTitle(this.#t.instant(K.CHECKOUT_APP_PAGE_TITLE_ERROR))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-fatal-error"]],decls:5,vars:3,consts:[[1,"row"],[1,"col-xs-12"],[1,"fatal-error-message"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"h1",2),R(3),H(4,"translate"),g()()()),n&2&&(d(3),ne(" ",j(4,1,r.errorMsg)," "))},dependencies:[oi,Se],styles:[".fatal-error-message[_ngcontent-%COMP%]{font-weight:700;text-align:center;line-height:4vh;margin-top:40vh;font-size:2.125rem;color:var(--theme-head-text-color)}"]})}return t})();var wee=(()=>{class t{#e=E(Sn);#t=E(no);window=E(tr);Message=K;ngOnInit(){this.#t.setTitle(this.#e.instant(K.PAY_BY_LINK_LANDING_PAGE_TITLE))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-pay-by-link-app"]],decls:7,vars:2,consts:[["data-qa","pay-by-link-page",1,"wrapper","wrapper-container","theme-page-bg"],[1,"wrapper","max-container-width"],[1,"main-content","container"],[1,"row"],[1,"col-md-8","col-md-offset-2"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"ev-pl-global-spinner"),h(3,"div",2)(4,"div",3)(5,"div",4),D(6,"router-outlet"),g()()()()()),n&2&&Tr("u-no-shadow",r.window.useBackgroundTheming)},dependencies:[ts,Cv,ku],encapsulation:2})}return t})();var bt=(()=>{class t{logService=E(Ir);order;handleError(e){this.logService.error(e,"",this.enhanceLog())}trace(e,n="Trace"){try{this.logService.trace(e,n,this.enhanceLog())}catch(r){this.handleError(r)}}debug(e,n="Debug"){try{this.logService.debug(e,n,this.enhanceLog())}catch(r){this.handleError(r)}}error(e,n="Error"){try{this.logService.error(e,n,this.enhanceLog())}catch(r){this.handleError(r)}}setOrder(e){this.order=e}enhanceLog(){let e=[];return ce.isEmpty(this.order)||(this.order.orderNumber!==void 0&&e.push({orderNumber:this.order.orderNumber}),this.order.customerId!==void 0&&e.push({customerId:this.order.customerId}),this.order.sessionId!==void 0&&e.push({sessionId:this.order.sessionId})),e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var lM=class{_token;get token(){return`${this._token}`}constructor(i=null){this._token=i}};var o$=(()=>{class t{#e=E(bt);#t=E(zt);resolve(e){if(!ce.isEmpty(e.params)&&e.params.token!==void 0)return Promise.resolve(new lM(e.params.token));this.#e.debug(new Error("Token is invalid"),"Redirect to PaymentPage Resolver"),this.#t.navigate([Qe.Error])}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dee=(()=>{class t{#e=E(Vo);login(e){return this.#e.post("/checkout/paybylink/orders",{token:e})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Oee=(()=>{class t{#e=E(Dee);#t=E(zt);loginCustomer(e){ce.isObject(e)&&this.#e.login(e.token).subscribe({next:()=>{this.#t.navigate([Qe.Payment])},error:n=>{this.#t.navigate([`${Qe.Error}/${n.errorCode}`])}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var a$=(()=>{class t{#e=E(Gn);#t=E(Va);#n=E(Oee);ngOnInit(){this.#e.show(),this.#e.setSpinnerMessage(K.CHECKOUT_APP_SPINNER_LOAD_MESSAGE),this.#t.data.subscribe(e=>{ce.isObject(e)&&ce.isObject(e.customerPayByLinkData)&&this.#n.loginCustomer(e.customerPayByLinkData)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-redirect-to-payment-page"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var Nee=[{path:Qe.FatalError,component:Aee,children:[{path:"",component:kee,resolve:{translationsOrNothing:Pee}}]},{path:Qe.PayByLink,component:wee,children:[{path:"",component:a$,resolve:{affiliate:Ap,translations:qd,customerPayByLinkData:o$}},{path:":token",component:a$,resolve:{affiliate:Ap,translations:qd,customerPayByLinkData:o$}}]}];function _Se(t,i){if(t&1&&(h(0,"div",6)(1,"h2",7),R(2),H(3,"translate"),g()()),t&2){let e=y(3);d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_PRIVACY_PREFERENCES_HEADLINE)," ")}}function CSe(t,i){t&1&&ci(0)}function ySe(t,i){if(t&1&&(Mo(0),h(1,"ev-pl-card",3),H(2,"translate"),J(3,_Se,4,3,"div",4)(4,CSe,1,0,"ng-container",5),g(),Fo()),t&2){y();let e=Fn(3),n=y();d(),C("headline",n.showHeadlineInsideCard?null:j(2,5,n.Message.CHECKOUT_APP_PRIVACY_PREFERENCES_HEADLINE))("hidden",n.hide),Le("data-qa","privacy-preferences-card"),d(2),C("ngIf",n.showHeadlineInsideCard),d(),C("ngTemplateOutlet",e)}}function ESe(t,i){if(t&1&&(h(0,"section",12)(1,"h2",13),R(2),H(3,"translate"),g()()),t&2){let e=y(3);d(2),Ae(j(3,1,e.Message.CHECKOUT_APP_PRIVACY_PREFERENCES_HEADLINE))}}function TSe(t,i){if(t&1&&(h(0,"section",14)(1,"ul")(2,"li",15)(3,"span",16),R(4),H(5,"translate"),g()()()()),t&2){let e=y(3);d(4),Ae(j(5,1,e.Message.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY))}}function bSe(t,i){t&1&&(h(0,"div",17),D(1,"hr",18),g())}function ISe(t,i){if(t&1){let e=Je();J(0,ESe,4,3,"section",8),h(1,"section",9),Ee("onReady",function(r){Ne(e);let o=y(2);return Re(o.showPrivacyPreferences(r))})("onError",function(r){Ne(e);let o=y(2);return Re(o.hasError=r)}),g(),J(2,TSe,6,3,"section",10)(3,bSe,2,0,"div",11)}if(t&2){let e=y(2);C("ngIf",!e.hide&&e.showHeadlineInsideCard),d(),C("hidden",e.hide)("evFormsGcps",e.privacyPreferencesOptions),d(),C("ngIf",e.hasError),d(),C("ngIf",!e.hide&&e.showHeadlineInsideCard)}}function SSe(t,i){if(t&1&&(Mo(0),J(1,ySe,5,7,"ng-container",2)(2,ISe,4,5,"ng-template",null,0,vi),Fo()),t&2){let e=Fn(3),n=y();d(),C("ngIf",n.showAsCard)("ngIfElse",e)}}var oh=(()=>{let i=class i{constructor(){this.gcpsSave$=new qn,this.loadingInProgress=!1,this.scriptIsLoaded=!1,this.successCallbacks=[],this.errorCallbacks=[],this.validators=[],this.document=E(Ot),this.htmlInjectorService=E(I0),this.storageService=E(fn)}loadGcps(n,r,o){return this.successCallbacks.push(r),this.errorCallbacks.push(o),!this.loadingInProgress&&!this.scriptIsLoaded?this.loadScript(n):this.scriptIsLoaded&&this.handleCallbacks(this.successCallbacks,!0),this.gcpsSave$.asObservable()}triggerGcpsSave(){this.gcpsSave$.next()}saveIfLoaded(n=300){return new Promise(r=>{this.scriptIsLoaded||r();let o=n+200,s=this.document.defaultView.setTimeout(()=>{r()},o);this.gcpsSave$.next({success:()=>{this.document.defaultView.clearTimeout(s),r()},timeout:n})})}validate(){let n=!0;for(let r of this.validators)r()||(n=!1);return n}storeToken(n,r){let o=this.storageService.get(ut.GCPS_TOKENS,{});ee.isNotEmpty(n)&&(o[r.token]=n),this.storageService.set(ut.GCPS_TOKENS,o)}getStoredTokens(){let n=this.storageService.get(ut.GCPS_TOKENS,{});return Object.values(n)}addValidator(n){this.validators.push(n)}removeValidator(n){this.validators=this.validators.filter(r=>r!==n)}loadScript(n){this.loadingInProgress=!0;let r=`<script id="gcps-script" src="${n}"><\/script>`;this.htmlInjectorService.append(r,{done:()=>this.handleCallbacks.bind(this)(this.successCallbacks,!0),error:()=>this.handleCallbacks.bind(this)(this.errorCallbacks,!1)})}cleanUp(){this.successCallbacks=[],this.errorCallbacks=[],this.loadingInProgress=!1}handleCallbacks(n,r){for(let o of n)o();this.cleanUp(),this.scriptIsLoaded=r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),Ree=(()=>{let i=class i{constructor(n,r,o,s){this.gcpsService=n,this.htmlInjectorService=r,this.log=o,this.document=s,this.document=s}ngOnInit(){ee.isNotEmpty(this.eviJsAssetUrl)&&this.htmlInjectorService.append(this.getScript(this.eviJsAssetUrl),{done:this.handleTokens.bind(this),error:this.logError.bind(this)})}handleTokens(){this.document.defaultView.EviWidget&&this.gcpsService.getStoredTokens().forEach(n=>this.document.defaultView.EviWidget.save(n))}getScript(n){return`<script src="${n}"><\/script>`}logError(n){this.log.error(n)}};i.\u0275fac=function(r){return new(r||i)(Et(oh),Et(I0),Et(Ir),Et(Ot))},i.\u0275dir=kt({type:i,selectors:[["","evFormsGcpsSelectionConfirmation",""]],inputs:{eviJsAssetUrl:[0,"evFormsGcpsSelectionConfirmation","eviJsAssetUrl"]},standalone:!1});let t=i;return t})(),s$=function(t){return t.READY="evi-widget:ready",t.SUBSCRIBE_SUCCESS="evi-widget:subscribe-success",t}(s$||{}),D0=(()=>{var i,e,n,r;let o=class o{constructor(){Jr(this,i);Jr(this,e);Jr(this,n);Jr(this,r);Xo(this,i,E(oh)),Xo(this,e,E(Ir)),Xo(this,n,E(Ot)),Xo(this,r,E(ii)),this.onError=vo(),this.onReady=vo(),this.onLoadError=vo(),this.onSubscribeSuccess=vo(),this.subscriptions=[]}ngOnInit(){this.gcpsOptions&&this.subscriptions.push(this.registerOnScriptLoad())}ngOnDestroy(){this.subscriptions.forEach(c=>{c.unsubscribe()}),this.validator&&en(this,i).removeValidator(this.validator)}registerOnScriptLoad(){return en(this,i).loadGcps(this.gcpsOptions.jsPath,this.gcpsStart.bind(this),this.gcpsError.bind(this)).subscribe(c=>{try{let v=en(this,n).defaultView.jQuery(en(this,r).nativeElement).data("EviWidget");this.gcpsOptions.delayedSubmission?typeof v.capture=="function"?en(this,i).storeToken(v.capture(),this.gcpsOptions):en(this,e).error(new Error("Capture Token failed!")):v.save(c||void 0)}catch(v){en(this,e).error(v)}})}setValidator(){this.gcpsOptions.isMandatory&&(this.validator=this.validate.bind(this),en(this,i).addValidator(this.validator))}validate(){let c=[];try{c=en(this,n).defaultView.jQuery(en(this,r).nativeElement).data("EviWidget").validate()}catch(b){en(this,e).error(b)}let v=Dt.isNotEmpty(c);return this.onError.emit(v),!v}gcpsStart(){let c={baseURL:this.gcpsOptions.baseUrl,token:this.gcpsOptions.token,mailInputSelector:'input[name="customerEmail"]',error:this.gcpsError.bind(this)},v=en(this,n).defaultView.jQuery(en(this,r).nativeElement);ce.isObject(v)&&(v.createEviWidget(c),v.on(s$.READY,(b,x)=>{this.onReady.emit(x.ruleCount&&x.ruleCount>0),this.setValidator()}),v.on(s$.SUBSCRIBE_SUCCESS,()=>{this.onSubscribeSuccess.emit()}))}gcpsError(){this.onLoadError.emit(),en(this,e).error(new Error("GCPS Script could not be loaded."))}};i=new WeakMap,e=new WeakMap,n=new WeakMap,r=new WeakMap,o.\u0275fac=function(v){return new(v||o)},o.\u0275dir=kt({type:o,selectors:[["","evFormsGcps",""]],inputs:{gcpsOptions:[0,"evFormsGcps","gcpsOptions"]},outputs:{onError:"onError",onReady:"onReady",onLoadError:"onLoadError",onSubscribeSuccess:"onSubscribeSuccess"}});let t=o;return t})(),Mee=(()=>{let i=class i{constructor(n,r){this.templateRef=n,this.viewContainer=r}ngOnInit(){this.isGcpsActive()?this.viewContainer.createEmbeddedView(this.templateRef):this.elseTemplateRef?this.viewContainer.createEmbeddedView(this.elseTemplateRef):this.viewContainer.clear()}isGcpsActive(){return this.customerFormJson&&ee.isNotEmpty(this.customerFormJson.eviBaseUrl)&&ee.isNotEmpty(this.customerFormJson.eviJsAssetUrl)}};i.\u0275fac=function(r){return new(r||i)(Et(Dd),Et($l))},i.\u0275dir=kt({type:i,selectors:[["","evFormsIsGcpsActive",""]],inputs:{customerFormJson:[0,"evFormsIsGcpsActive","customerFormJson"],elseTemplateRef:[0,"evFormsIsGcpsActiveElse","elseTemplateRef"]},standalone:!1});let t=i;return t})(),Fee=function(t){return t.CHECKOUT_APP_NEWSLETTER_CHECKBOX_ADDITIONAL_TEXT="checkoutApp.newsletterCheckbox.additionalText",t.CHECKOUT_APP_PRIVACY_PREFERENCES_HEADLINE="checkoutApp.privacyPreferences.headline",t.CHECKOUT_APP_CUSTOMER_INPUT_EMPTY="checkoutApp.customer.input.empty",t}(Fee||{});var Lee=(()=>{let i=class i{constructor(n){this.changeDetector=n,this.Message=Fee,this.hasError=!1,this.hide=!0,this.showAsCard=!0,this.showHeadlineInsideCard=!1,this.showComponent=new Jt}ngOnInit(){this.privacyPreferencesOptions=this.arePrivacyPreferencesEnabled()?this.buildGcpsOptions():null}arePrivacyPreferencesEnabled(){return ee.isNotEmpty(this.customerForm.eviBaseUrl)&&ee.isNotEmpty(this.customerForm.eviJsAssetUrl)&&ee.isNotEmpty(this.customerForm.eviTokenForPrivacyPreferences)}showPrivacyPreferences(n){this.hide=!n,this.changeDetector.detectChanges(),this.showComponent.emit(n)}buildGcpsOptions(){return{baseUrl:this.customerForm.eviBaseUrl,jsPath:this.customerForm.eviJsAssetUrl,token:this.customerForm.eviTokenForPrivacyPreferences,isMandatory:!0}}};i.\u0275fac=function(r){return new(r||i)(Et(nr))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-gcps-privacy-preferences"]],inputs:{customerForm:"customerForm",showAsCard:"showAsCard",showHeadlineInsideCard:"showHeadlineInsideCard"},outputs:{showComponent:"showComponent"},standalone:!1,decls:1,vars:1,consts:[["content",""],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"headline","hidden"],["class","col-xs-12",4,"ngIf"],[4,"ngTemplateOutlet"],[1,"col-xs-12"],[1,"card-headline","theme-headline-color","u-font-weight-bold"],["class","card-headline-section",4,"ngIf"],["data-qa","privacy-preferences",3,"onReady","onError","hidden","evFormsGcps"],["data-qa","privacy-preferences-error",4,"ngIf"],["class","col-xs-12 card-separator-spacer",4,"ngIf"],[1,"card-headline-section"],[1,"inner-card-headline"],["data-qa","privacy-preferences-error"],[1,"error"],["data-qa","error"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"]],template:function(r,o){r&1&&J(0,SSe,4,2,"ng-container",1),r&2&&C("ngIf",o.privacyPreferencesOptions)},dependencies:[ms,hr,$n,D0,Se],encapsulation:2});let t=i;return t})(),Bee=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275dir=kt({type:i,selectors:[["","evFormsGcpsSelectionConfirmation",""]],inputs:{eviJsAssetUrl:[0,"evFormsGcpsSelectionConfirmation","eviJsAssetUrl"]},standalone:!1});let t=i;return t})(),cM=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr,Po,_a,oi.forChild(),ts]});let t=i;return t})();var xSe=["tanInput"],ASe=t=>({optional:t});function PSe(t,i){if(t&1&&(h(0,"form",5)(1,"ev-forms-field")(2,"div",1)(3,"div",2),D(4,"input",13,0),H(6,"translate"),g()(),h(7,"div",1)(8,"div",2),D(9,"ev-forms-field-error",14),g()()()()),t&2){let e=y();C("formGroup",e.form.control),d(),Le("data-qa",e.fieldName),d(3),C("name",e.fieldName)("placeholder",j(6,7,e.messages.enterCodeDialog.codeInputPlaceholder))("formControlName",e.fieldName)("ngClass",et(9,ASe,e.isTanFieldEmpty())),d(5),C("field",e.form.getField(e.fieldName))}}function kSe(t,i){if(t&1){let e=Je();h(0,"div",6)(1,"button",7),Ee("click",function(){Ne(e);let r=y();return Re(r.onPrimaryButtonClick())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y();d(2),ne(" ",j(3,1,e.messages.errorDialog.sendNewCodeButton)," ")}}function wSe(t,i){if(t&1){let e=Je();h(0,"ev-forms-otp-start-dialog",6),Ee("nextLayer",function(r){Ne(e);let o=y();return Re(o.setNextLayer(r))})("errorOccured",function(r){Ne(e);let o=y();return Re(o.handleError(r))}),g()}if(t&2){let e=y();C("messages",e.messages)}}function DSe(t,i){if(t&1){let e=Je();h(0,"ev-forms-otp-enter-tan-code-dialog",7),Ee("nextLayer",function(r){Ne(e);let o=y();return Re(o.setNextLayer(r))})("validationResponse",function(r){Ne(e);let o=y();return Re(o.handleResponse(r))})("errorOccured",function(r){Ne(e);let o=y();return Re(o.handleError(r))}),g()}if(t&2){let e=y();C("messages",e.messages)("continueTimer",e.continueTimer)}}function OSe(t,i){if(t&1){let e=Je();h(0,"ev-forms-otp-success-dialog",8),Ee("nextLayer",function(r){Ne(e);let o=y();return Re(o.setNextLayer(r))}),g()}if(t&2){let e=y();C("messages",e.messages)("validationResponse",e.getValidateCodeResponse())}}function NSe(t,i){if(t&1&&D(0,"ev-forms-otp-verification-skipped-dialog",9),t&2){let e=y();C("messages",e.messages)}}function RSe(t,i){if(t&1){let e=Je();h(0,"ev-forms-otp-tan-code-error-dialog",10),Ee("nextLayer",function(r){Ne(e);let o=y();return Re(o.setNextLayer(r))}),g()}if(t&2){let e=y();C("messages",e.messages)("errorCode",e.getError())}}var dM=function(t){return t.INVALID="404-TAN-004",t.MOBILE_PHONE_USED_TOO_MUCH="429-TAN-005",t.INTERNAL_VALIDATION_ERROR="internalValidationError",t}(dM||{}),gs=function(t){return t[t.ENTER_TAN_CODE_DIALOG=0]="ENTER_TAN_CODE_DIALOG",t[t.START_VERIFICATION_PROCESS=1]="START_VERIFICATION_PROCESS",t[t.TAN_CODE_ERROR=2]="TAN_CODE_ERROR",t[t.SUCCESS=3]="SUCCESS",t[t.SKIP_VERIFICATION=4]="SKIP_VERIFICATION",t[t.CLOSE_LAYER=5]="CLOSE_LAYER",t}(gs||{}),MSe=(()=>{var i,e,n,r;let o=class o{constructor(){Jr(this,i,E(Ss));Jr(this,e,E(Vo));Jr(this,n,E(UT));Jr(this,r,E(Sp))}getToken(c){if(en(this,r).accessToken){let v=_T.setAuthorizationHeader(en(this,r).accessToken);return en(this,n).post("/tan/initializeWithToken",c,new Nr,v)}else return en(this,n).post("/tan/initialize",c)}getActive(c){return en(this,e).get(`/tan/check/${c}`)}getTanId(c){let v=`${_T.getPathWithAppendix(c.pathToTanService)}public`;return en(this,i).post(v,c.tanRequestToken,Nm.set(Wf.JSON))}validateTanCode(c){let v=`${_T.getPathWithAppendix(c.apiPath)}public/${c.tanId}/${c.tan}`;return en(this,i).get(v,Nm.set(Wf.JSON))}};i=new WeakMap,e=new WeakMap,n=new WeakMap,r=new WeakMap,o.\u0275fac=function(v){return new(v||o)},o.\u0275prov=Ce({token:o,factory:o.\u0275fac,providedIn:"root"});let t=o;return t})(),Lp=(()=>{let i=class i{constructor(n,r){this.logService=n,this.tanResource=r,this.tanRenewalAllowed=!1,this.delayForNewTanRequest=30}getTanServiceContext(n){return this.setContext(n),this.context?this.tanResource.getToken(this.context).toPromise():(this.logService.error(new Error(`Invalid context: ${this.context}`)),Promise.resolve({verificationRequired:!1}))}isTanServiceActive(){return this.context?this.tanResource.getActive(this.context.transmission).toPromise():Promise.reject()}sendTanToCustomer(){return this.tanResource.getTanId(this.tokenInformation)}saveOtpRequestInformation(n){this.otpRequestInformation=n,ce.isObject(this.otpRequestInformation)?this.secondsUntilRenewal=this.otpRequestInformation.secondsUntilRenewal+this.delayForNewTanRequest:this.secondsUntilRenewal=0}getSecondsUntilRenewal(){return this.secondsUntilRenewal}getValue(){return this.context?this.context.value:""}setContext(n){this.isValidContext(n)&&(this.context!==void 0&&n.value!==this.context.value&&this.resetTanVerificationState(),this.context=n)}getTanId(){return ce.isObject(this.otpRequestInformation)?this.otpRequestInformation.tanId:null}getTanServiceUrl(){return ce.isObject(this.tokenInformation)?this.tokenInformation.pathToTanService:null}checkTan(n){return this.tanResource.validateTanCode(n).pipe(An(this.resetTanVerificationState.bind(this)))}submitTan(n){this.handleToken(n)}startProcess(n,r){n.verificationRequired?(this.setTokenInformation(n),r!==void 0&&(this.handleToken=r)):(this.resetTanVerificationState(),r!==void 0&&setTimeout(()=>{r()},0))}resetTanVerificationState(){this.tokenInformation=null,this.tanRenewalAllowed=!1,this.saveOtpRequestInformation(null)}isValidContext(n){return n&&ee.isNotEmpty(n.value)&&ee.isNotEmpty(n.process)&&ee.isNotEmpty(n.transmission)}setTokenInformation(n){this.tokenInformation=n}};i.\u0275fac=function(r){return new(r||i)(yt(Ir),yt(MSe))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),FSe=(()=>{let i=class i{constructor(n,r){this.otpTanService=n,this.ngZone=r,this.countdownStartSubscription=null,this.isTimeUpSubject=new ni(!1),this.countdownObservable=Wc(0,i.oneSecond).pipe(An(()=>{this.remainingTime=this.remainingTime-1,this.remainingTime<0&&this.ngZone.run(()=>{this.stopTimer()})}),cn(()=>this.remainingTime),x4())}startTimer(){this.remainingTime=this.otpTanService.getSecondsUntilRenewal(),this.remainingTime>0?this.ngZone.runOutsideAngular(()=>{this.countdownStartSubscription=this.countdownObservable.connect(),this.isTimeUpSubject.next(!1)}):this.isTimeUpSubject.next(!0)}stopTimer(){this.countdownStartSubscription!==null&&(this.isTimeUpSubject.next(!0),this.unsubscribeCountdown())}observeCountdown(){return this.countdownObservable}observeTimeUp(){return this.isTimeUpSubject.asObservable()}unsubscribeCountdown(){this.countdownStartSubscription.unsubscribe(),this.countdownStartSubscription=null}};i.oneSecond=1e3,i.\u0275fac=function(r){return new(r||i)(yt(Lp),yt(Si))},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})(),LSe=(()=>{let i=class i{set restartTimer(n){n&&this.tanTimerService.startTimer()}constructor(n,r,o,s){this.tanTimerService=n,this.otpTanService=r,this.changeDetectorRef=o,this.ngZone=s,this.waitForAnimationToFinish=350,this.continueTimer=!1,this.onTimeIsUp=new Jt,this.resendTan=new Jt,this.subscriptions=[],this.changeDetectorRef.detach()}ngOnInit(){this.timerVisibility=!1,this.linkVisibility=this.otpTanService.tanRenewalAllowed,this.continueTimer||this.tanTimerService.startTimer(),this.ngZone.runOutsideAngular(()=>{this.subscriptions.push(this.subscribeOnCounterObservable()),this.subscriptions.push(this.subscribeOnIsTimeUpObservable())})}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.unsubscribeAll()}replaceWithCounter(){return[{placeholder:"{otp.timer}",replacementValue:this.remainingTime},{placeholder:"{time}",replacementValue:this.remainingTime}]}startResendingTan(){this.resendTan.emit()}subscribeOnCounterObservable(){return this.tanTimerService.observeCountdown().subscribe(n=>{!this.timerVisibility&&this.remainingTime>0&&(this.timerVisibility=!0),this.linkVisibility&&this.remainingTime>0&&this.changeLinkAnimationState(!1),this.remainingTime=n,this.changeDetectorRef.detectChanges()})}subscribeOnIsTimeUpObservable(){return this.tanTimerService.observeTimeUp().subscribe(n=>{n&&(this.timerVisibility=!1,this.changeLinkAnimationState(!0),this.onTimeIsUp.emit(!0)),this.changeDetectorRef.detectChanges()})}changeLinkAnimationState(n){setTimeout(()=>{this.linkVisibility=n,this.changeDetectorRef.detectChanges()},this.waitForAnimationToFinish)}unsubscribeAll(){this.subscriptions.forEach(n=>{n.unsubscribe()})}};i.\u0275fac=function(r){return new(r||i)(Et(FSe),Et(Lp),Et(nr),Et(Si))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-tan-service-counter"]],inputs:{messages:"messages",restartTimer:"restartTimer",continueTimer:"continueTimer"},outputs:{onTimeIsUp:"onTimeIsUp",resendTan:"resendTan"},standalone:!1,decls:9,vars:11,consts:[[1,"tan-service-counter-height"],["data-qa","tan-timer",1,"timer","theme-text-light-color"],["data-qa","otp-time",3,"evCoreHtml"],[1,"link",3,"click"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1),D(2,"span",2),H(3,"translate"),H(4,"evReplaceMessagePlaceholder"),g(),h(5,"div")(6,"a",3),Ee("click",function(){return o.startResendingTan()}),R(7),H(8,"translate"),g()()()),r&2&&(d(),C("@fadeInOut",o.timerVisibility),d(),C("evCoreHtml",Qr(4,6,j(3,4,o.messages.enterCodeDialog.waitForResendText),o.replaceWithCounter())),d(3),C("@fadeInOut",o.linkVisibility),d(2),Ae(j(8,9,o.messages.enterCodeDialog.resendLink)))},dependencies:[xt,Se,hv],styles:[".tan-service-counter-height[_ngcontent-%COMP%]{min-height:20px}"],data:{animation:[kT.fadeInOut()]}});let t=i;return t})(),BSe=(()=>{let i=class i extends Gi{constructor(n,r){super(),this.otpTanService=n,this.changeDetector=r,this.continueTimer=!1,this.nextLayer=new Jt,this.errorOccured=new Jt,this.validationResponse=new Jt,this.form=new vn("OtpTokenForm"),this.fieldName="OtpToken",this.restartTimer=!1,this.showButtonSpinner=!1}ngOnInit(){this.messageReplacement=[{placeholder:"{value}",replacementValue:this.otpTanService.getValue()},{placeholder:"{customer.mobileNumber}",replacementValue:this.otpTanService.getValue()}],this.field=new Gt({fieldName:this.fieldName,type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING},[new hs(this.messages.enterCodeDialog.invalidCodeError)]),this.form.set(this.field)}ngAfterViewInit(){this.inputElement.nativeElement.focus()}submitTan(){if(this.form.control.valid&&!this.isTanFieldEmpty()){let n={apiPath:this.otpTanService.getTanServiceUrl(),tanId:this.otpTanService.getTanId(),tan:this.field.control.value};this.showButtonSpinner=!0,this.otpTanService.checkTan(n).toPromise().then(r=>{this.validationResponse.emit(r),this.nextLayer.emit(gs.SUCCESS)}).catch(r=>{let o=r.error;o.errorCode===dM.INVALID&&o.triesLeft>0?(this.field.validation.update(wt.Rejected,{rejectedValue:this.field.control.value}),this.changeDetector.detectChanges()):(this.denyTanRenewal(),this.errorOccured.emit(r))}).finally(()=>this.showButtonSpinner=!1)}}allowTanRenewal(){this.otpTanService.tanRenewalAllowed=!0}denyTanRenewal(){this.restartTimer=!1,this.otpTanService.tanRenewalAllowed=!1}resendTan(){this.otpTanService.tanRenewalAllowed&&(this.otpTanService.isTanServiceActive().then(()=>{this.otpTanService.sendTanToCustomer().subscribe(n=>{this.otpTanService.saveOtpRequestInformation(n),this.restartTimer=!0,this.nextLayer.emit(gs.ENTER_TAN_CODE_DIALOG)},n=>{this.errorOccured.emit(n)})}).catch(()=>this.nextLayer.emit(gs.SKIP_VERIFICATION)),this.denyTanRenewal())}onSecondaryButtonClick(){this.nextLayer.emit(gs.CLOSE_LAYER)}isTanFieldEmpty(){return ee.isEmpty(this.field.control.value)}};i.\u0275fac=function(r){return new(r||i)(Et(Lp),Et(nr))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-enter-tan-code-dialog"]],viewQuery:function(r,o){if(r&1&&Qi(xSe,5),r&2){let s;Ni(s=Ri())&&(o.inputElement=s.first)}},inputs:{messages:"messages",continueTimer:"continueTimer"},outputs:{nextLayer:"nextLayer",errorOccured:"errorOccured",validationResponse:"validationResponse"},standalone:!1,features:[dt],decls:19,vars:19,consts:[["tanInput",""],[1,"row"],[1,"col-xs-12"],[1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],[1,"col-sm-8","col-xs-12"],["data-qa","OtpTokenForm",1,"validation",3,"formGroup"],["data-qa","primary-button",1,"col-sm-4","col-xs-12"],[3,"visible","small"],["type","button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click","disabled"],[3,"onTimeIsUp","resendTan","messages","continueTimer","restartTimer"],[1,"modal-horizontal-dividing","margin-bottom-l"],["data-qa","secondary-button",1,"col-xs-12","col-sm-6"],["type","button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","second-button","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius",3,"click"],["type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","placeholder","formControlName","ngClass"],[3,"field"]],template:function(r,o){r&1&&(h(0,"div",1)(1,"div",2),D(2,"p",3),H(3,"translate"),H(4,"evReplaceMessagePlaceholder"),g(),h(5,"div",4),J(6,PSe,10,11,"form",5),g(),h(7,"div",6),D(8,"ev-pl-spinner",7),h(9,"button",8),Ee("click",function(){return o.submitTan()}),R(10),H(11,"translate"),g()(),h(12,"div",2)(13,"ev-forms-tan-service-counter",9),Ee("onTimeIsUp",function(){return o.allowTanRenewal()})("resendTan",function(){return o.resendTan()}),g()(),D(14,"hr",10),h(15,"div",11)(16,"button",12),Ee("click",function(){return o.onSecondaryButtonClick()}),R(17),H(18,"translate"),g()()()),r&2&&(d(2),C("evCoreHtml",Qr(4,12,j(3,10,o.messages.enterCodeDialog.infoText),o.messageReplacement)),d(4),$(o.form?6:-1),d(2),C("visible",o.showButtonSpinner)("small",!0),d(),C("disabled",o.isTanFieldEmpty()),d(),ne(" ",j(11,15,o.messages.enterCodeDialog.sendButton)," "),d(3),C("messages",o.messages)("continueTimer",o.continueTimer)("restartTimer",o.restartTimer),d(4),ne(" ",j(18,17,o.messages.enterCodeDialog.cancelButton)," "))},dependencies:[At,xi,jr,Rr,Pn,wn,_o,xt,Ai,mr,Tc,LSe,Se,hv],encapsulation:2});let t=i;return t})(),USe=(()=>{let i=class i extends Gi{constructor(n){super(),this.otpTanService=n,this.nextLayer=new Jt,this.errorOccured=new Jt,this.showButtonSpinner=!1}ngOnInit(){this.messageReplacement=[{placeholder:"{value}",replacementValue:this.otpTanService.getValue()},{placeholder:"{customer.mobileNumber}",replacementValue:this.otpTanService.getValue()}]}onPrimaryButtonClick(){this.showButtonSpinner=!0,this.otpTanService.sendTanToCustomer().toPromise().then(n=>{this.otpTanService.saveOtpRequestInformation(n),this.nextLayer.emit(gs.ENTER_TAN_CODE_DIALOG)}).catch(n=>{this.errorOccured.emit(n)}).finally(()=>this.showButtonSpinner=!1)}onSecondaryButtonClick(){this.nextLayer.emit(gs.CLOSE_LAYER)}};i.\u0275fac=function(r){return new(r||i)(Et(Lp))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-start-dialog"]],inputs:{messages:"messages"},outputs:{nextLayer:"nextLayer",errorOccured:"errorOccured"},standalone:!1,features:[dt],decls:14,vars:14,consts:[[1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],[1,"modal-horizontal-dividing","margin-bottom-l"],[1,"row"],["data-qa","secondary-button",1,"col-xs-12","col-sm-6"],["type","button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","second-button","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius",3,"click"],["data-qa","primary-button",1,"col-xs-12","col-sm-6"],[3,"visible","small"],["type","button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click"]],template:function(r,o){r&1&&(D(0,"p",0),H(1,"translate"),H(2,"evReplaceMessagePlaceholder"),D(3,"hr",1),h(4,"div",2)(5,"div",3)(6,"button",4),Ee("click",function(){return o.onSecondaryButtonClick()}),R(7),H(8,"translate"),g()(),h(9,"div",5),D(10,"ev-pl-spinner",6),h(11,"button",7),Ee("click",function(){return o.onPrimaryButtonClick()}),R(12),H(13,"translate"),g()()()),r&2&&(C("evCoreHtml",Qr(2,7,j(1,5,o.messages.startDialog.infoText),o.messageReplacement)),d(7),ne(" ",j(8,10,o.messages.startDialog.cancelButton)," "),d(3),C("visible",o.showButtonSpinner)("small",!0),d(2),ne(" ",j(13,12,o.messages.startDialog.sendCodeButton)," "))},dependencies:[xt,Tc,Se,hv],encapsulation:2});let t=i;return t})(),Uee=function(t){return t.GLOBAL_HERE="global.here",t}(Uee||{}),$Se=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-confirmation-checkmark"]],standalone:!1,decls:9,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","version","1.1","data-qa","success-icon","width","80px","height","80px","viewBox","0 0 80 80","preserveAspectRatio","xMidYMid meet",1,"card-header-success-icon"],["cx","40","cy","40","r","40","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2.85714px","opacity","0"],["cx","40","cy","40","r","28.57142857142857","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2px"],["cx","40","cy","40","r","28.57142857142857","fill","#3bc83c"],["id","successStroke","data-qa","success-stroke","d","M23,40L34.285714285714285,51.285714285714285,58.695098807413736,28.309965963892967","fill","none","stroke","#ffffff","transform","matrix(0.95,0,0,0.95,2.0424,1.9899)",1,"card-header-success-stroke",2,"stroke-width","5px","stroke-dasharray","49.4821px, 49.4821px","stroke-linecap","round","stroke-linejoin","round","opacity","1"]],template:function(r,o){r&1&&(qE(),h(0,"svg",0)(1,"desc"),R(2,"Created with Snap"),g(),D(3,"defs"),h(4,"g"),D(5,"circle",1)(6,"circle",2)(7,"circle",3)(8,"path",4),g()())},encapsulation:2});let t=i;return t})(),HSe=(()=>{let i=class i extends Gi{constructor(n,r,o){super(),this.translateLoaderService=n,this.elementRef=r,this.otpTanService=o,this.nextLayer=new Jt,this.layerWaitTime=2e3}ngOnInit(){setTimeout(()=>{this.otpTanService.submitTan(this.validationResponse.validationInfo)},this.layerWaitTime)}ngAfterViewChecked(){let n=this.elementRef.nativeElement.querySelector("#otpRedirectLink");n&&n.addEventListener("click",()=>{this.otpTanService.submitTan(this.validationResponse.validationInfo)})}getReplacedLink(){return[{placeholder:"{global.here}",replacementValue:`<span id="otpRedirectLink" class="link">${this.translateLoaderService.instantTranslate(Uee.GLOBAL_HERE)}</span>`}]}};i.\u0275fac=function(r){return new(r||i)(Et(ti),Et(ii),Et(Lp))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-success-dialog"]],inputs:{messages:"messages",validationResponse:"validationResponse"},outputs:{nextLayer:"nextLayer"},standalone:!1,features:[dt],decls:10,vars:9,consts:[[1,"row"],[1,"center-content","col-xs-12"],[1,"center-content","col-xs-12",3,"evCoreHtml"]],template:function(r,o){r&1&&(h(0,"div",0)(1,"div",1),D(2,"ev-forms-confirmation-checkmark"),g()(),h(3,"div",0)(4,"div",1),R(5),H(6,"translate"),g(),D(7,"div",2),H(8,"translate"),H(9,"evReplaceMessagePlaceholder"),g()),r&2&&(d(5),ne(" ",j(6,2,o.messages.successDialog.infoText)," "),d(2),C("evCoreHtml",Qr(9,6,j(8,4,o.messages.successDialog.redirectText),o.getReplacedLink())))},dependencies:[xt,$Se,Se,hv],styles:[".center-content[_ngcontent-%COMP%]{text-align:center}"]});let t=i;return t})(),VSe=(()=>{let i=class i extends Gi{constructor(n){super(),this.otpTanService=n,this.nextLayer=new Jt}ngOnInit(){switch(this.errorCode){case dM.MOBILE_PHONE_USED_TOO_MUCH:this.errorMessage=this.messages.errorDialog.tooManyUsesError,this.showRetryButton=!1;break;case dM.INTERNAL_VALIDATION_ERROR:this.errorMessage=this.messages.errorDialog.internalValidationError,this.showRetryButton=!0;break;default:this.errorMessage=this.messages.errorDialog.defaultError,this.showRetryButton=!0}}onPrimaryButtonClick(){this.otpTanService.getTanServiceContext().then(n=>{n.verificationRequired?(this.otpTanService.startProcess(n),this.nextLayer.emit(gs.START_VERIFICATION_PROCESS)):this.nextLayer.emit(gs.SKIP_VERIFICATION)}).catch(()=>this.nextLayer.emit(gs.SKIP_VERIFICATION))}onSecondaryButtonClick(){this.nextLayer.emit(gs.CLOSE_LAYER)}};i.\u0275fac=function(r){return new(r||i)(Et(Lp))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-tan-code-error-dialog"]],inputs:{messages:"messages",errorCode:"errorCode"},outputs:{nextLayer:"nextLayer"},standalone:!1,features:[dt],decls:10,vars:7,consts:[[1,"default-paragraph","theme-text-light-color"],[1,"modal-horizontal-dividing","margin-bottom-l"],[1,"row"],["data-qa","secondary-button",1,"col-xs-12","col-sm-6"],["type","button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","second-button","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius",3,"click"],["class","col-xs-12 col-sm-6","data-qa","primary-button",4,"ngIf"],["data-qa","primary-button",1,"col-xs-12","col-sm-6"],["type","button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click"]],template:function(r,o){r&1&&(h(0,"p",0),R(1),H(2,"translate"),g(),D(3,"hr",1),h(4,"div",2)(5,"div",3)(6,"button",4),Ee("click",function(){return o.onSecondaryButtonClick()}),R(7),H(8,"translate"),g()(),J(9,kSe,4,3,"div",5),g()),r&2&&(d(),ne(" ",j(2,3,o.errorMessage),`
`),d(6),ne(" ",j(8,5,o.messages.errorDialog.cancelButton)," "),d(2),C("ngIf",o.showRetryButton))},dependencies:[ms,Se],encapsulation:2});let t=i;return t})(),jSe=(()=>{let i=class i extends Gi{constructor(n){super(),this.otpTanService=n}onPrimaryButtonClick(){this.otpTanService.resetTanVerificationState(),this.otpTanService.submitTan()}};i.\u0275fac=function(r){return new(r||i)(Et(Lp))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-verification-skipped-dialog"]],inputs:{messages:"messages"},standalone:!1,features:[dt],decls:8,vars:6,consts:[[1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],[1,"modal-horizontal-dividing","margin-bottom-l"],[1,"row"],["data-qa","primary-button",1,"col-xs-12","col-sm-offset-6","col-sm-6"],["type","button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click"]],template:function(r,o){r&1&&(D(0,"p",0),H(1,"translate"),D(2,"hr",1),h(3,"div",2)(4,"div",3)(5,"button",4),Ee("click",function(){return o.onPrimaryButtonClick()}),R(6),H(7,"translate"),g()()()),r&2&&(C("evCoreHtml",j(1,2,o.messages.skippedDialog.infoText)),d(6),ne(" ",j(7,4,o.messages.skippedDialog.continueButton)," "))},dependencies:[xt,Se],encapsulation:2});let t=i;return t})(),GSe="messages",KSe=(()=>{let i=class i extends Gi{constructor(n,r){super(),this.otpTanService=n,this.changeRef=r,this.layer=gs,this.continueTimer=!1,this.nextLayer=gs.START_VERIFICATION_PROCESS}ngOnInit(){ee.isNotEmpty(this.otpTanService.getTanId())?(this.continueTimer=!0,this.setNextLayer(gs.ENTER_TAN_CODE_DIALOG)):this.otpTanService.tanRenewalAllowed=!1}layerToShow(){return this.nextLayer}setNextLayer(n){n===gs.CLOSE_LAYER?this.closeModal.emit():(this.nextLayer=n,this.setLayerTitle())}handleError(n){this.error=n.error,this.otpTanService.resetTanVerificationState(),this.otpTanService.isTanServiceActive().then(()=>this.setNextLayer(gs.TAN_CODE_ERROR)).catch(()=>this.setNextLayer(gs.SKIP_VERIFICATION)).finally(()=>this.changeRef.detectChanges())}getError(){return this.error?this.error.errorCode:null}handleResponse(n){this.validateCodeResponse=n}getValidateCodeResponse(){return this.validateCodeResponse}setLayerTitle(){switch(this.nextLayer){case gs.ENTER_TAN_CODE_DIALOG:this.setTitle.emit(this.messages.enterCodeDialog.headline);break;case gs.SUCCESS:this.setTitle.emit(this.messages.successDialog.headline);break;case gs.TAN_CODE_ERROR:this.setTitle.emit(this.messages.errorDialog.headline);break;case gs.SKIP_VERIFICATION:this.setTitle.emit(this.messages.skippedDialog.headline);break;case gs.START_VERIFICATION_PROCESS:default:this.setTitle.emit(this.messages.startDialog.headline)}}};i.\u0275fac=function(r){return new(r||i)(Et(Lp),Et(nr))},i.\u0275cmp=ae({type:i,selectors:[["ev-forms-otp-layer"]],inputs:{messages:"messages"},standalone:!1,features:[dt],decls:6,vars:6,consts:[[3,"ngSwitch"],[3,"messages","nextLayer","errorOccured",4,"ngSwitchCase"],[3,"messages","continueTimer","nextLayer","validationResponse","errorOccured",4,"ngSwitchCase"],[3,"messages","validationResponse","nextLayer",4,"ngSwitchCase"],[3,"messages",4,"ngSwitchCase"],[3,"messages","errorCode","nextLayer",4,"ngSwitchCase"],[3,"nextLayer","errorOccured","messages"],[3,"nextLayer","validationResponse","errorOccured","messages","continueTimer"],[3,"nextLayer","messages","validationResponse"],[3,"messages"],[3,"nextLayer","messages","errorCode"]],template:function(r,o){r&1&&(Mo(0,0),J(1,wSe,1,1,"ev-forms-otp-start-dialog",1)(2,DSe,1,2,"ev-forms-otp-enter-tan-code-dialog",2)(3,OSe,1,2,"ev-forms-otp-success-dialog",3)(4,NSe,1,1,"ev-forms-otp-verification-skipped-dialog",4)(5,RSe,1,2,"ev-forms-otp-tan-code-error-dialog",5),Fo()),r&2&&(C("ngSwitch",o.layerToShow()),d(),C("ngSwitchCase",o.layer.START_VERIFICATION_PROCESS),d(),C("ngSwitchCase",o.layer.ENTER_TAN_CODE_DIALOG),d(),C("ngSwitchCase",o.layer.SUCCESS),d(),C("ngSwitchCase",o.layer.SKIP_VERIFICATION),d(),C("ngSwitchCase",o.layer.TAN_CODE_ERROR))},dependencies:[v0,RC,USe,BSe,HSe,VSe,jSe],encapsulation:2});let t=i;return t})();var uM=(()=>{let i=class i{constructor(n,r,o,s){this.logService=n,this.modalWindowService=r,this.modalWindowFactory=o,this.tanService=s,this.result={token:Pa.empty(),value:null},this.tanToken=Pa.empty(),this.valueInTanToken=null}reset(){this.tanToken=Pa.empty(),this.valueInTanToken=null}handle(){if(this.isActive()){let n=this.getValueIfTanIsExpected();if(this.isTanTokenPresent(n))return Promise.resolve();if(ee.isNotEmpty(n))return this.valueInTanToken=null,this.tanToken=Pa.empty(),this.startProcess(n).then(r=>(this.valueInTanToken=n,this.tanToken=Pa.of(r),Promise.resolve()))}return this.valueInTanToken=null,this.tanToken=Pa.empty(),Promise.resolve()}ifTanTokenPresent(n){this.tanToken.ifPresent(n)}isTanTokenPresent(n){return ee.isNotEmpty(n)&&this.tanToken.isPresent()&&this.valueInTanToken===n}startProcess(n){return this.tanService.getTanServiceContext({transmission:this.getTransmissionType(),process:this.getProcessType(),value:n}).then(r=>r.verificationRequired?new Promise(o=>{this.tanService.startProcess(r,s=>{this.modalWindowService.onHideModal().pipe(Ul(),nx(i.SHORT_DELAY)).subscribe(()=>{setTimeout(()=>o(s))}),this.modalWindowService.hideModal()}),this.modalWindowService.showModal(this.modalWindowFactory.create(this.getLayerMessages()))}):null).catch(r=>{if(this.logService.trace(new Error("No TAN necessary.")),r.errorCode===br.CODE_TAN_SERVICE_IS_NOT_ACTIVATED)return null;throw r})}};i.SHORT_DELAY=100;let t=i;return t})();var pM=(()=>{let i=class i{create(n){let r=new Dn({component:KSe,inputs:[{inputName:GSe,value:n}]});return r.setWidth(er.MEDIUM),r.disableHistoryBackHandling(),r.enableTitle(n.startDialog.headline),r}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=Ce({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var $ee=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=Qn({type:i}),i.\u0275inj=Xn({imports:[Vr,Kl.withConfig({callSetDisabledState:"whenDisabledForLegacyCode"}),Po,_a,oi.forChild(),k2.forRoot(),ts]});let t=i;return t})();var mM=class{get name(){return this._name}get elementRef(){return this._elementRef}_name;_elementRef;constructor(i,e){this._name=i,this._elementRef=e}scrollIntoView(){this.elementRef!==void 0&&this.elementRef.nativeElement.scrollIntoView()}};var ah=(()=>{class t{activatedRoute=E(Va);anchorMap=new Map;observeRouteFragments(){return this.activatedRoute.fragment.pipe(Yt(e=>this.anchorMap.has(e)),cn(e=>this.anchorMap.get(e)))}register(e){return this.anchorMap.has(e.name)||this.anchorMap.set(e.name,e),new Ua(()=>{this.unregister(e.name)})}unregister(e){this.anchorMap.delete(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sh=(()=>{class t{set anchorName(e){this.unregister(),this.register(e)}subscription=null;elementRef=E(ii);anchorService=E(ah);ngOnDestroy(){this.unregister()}register(e){this.subscription=this.anchorService.register(new mM(e,this.elementRef))}unregister(){this.subscription!==null&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evAnchor",""]],inputs:{anchorName:[0,"evAnchor","anchorName"]},standalone:!1})}return t})();var fM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();var Vee=(()=>{class t{buildInfo=El.buildInfo;ngOnInit(){hz()&&console.info("%cDEV BUILD INFO:","background-color: blue;color:white;font-size:1.2rem;",this.buildInfo)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evBuildInfo",""]]})}return t})();var Xd=(()=>{class t{element=E(ii);#e=E(Er);constructor(){this.#e.addClass(this.element.nativeElement,"hidden-md"),this.#e.addClass(this.element.nativeElement,"hidden-lg")}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evHideOnDesktop",""]]})}return t})();var ta=(()=>{class t{#e=E(Er);#t=E(ii);constructor(){this.#e.addClass(this.#t.nativeElement,"hidden-xs"),this.#e.addClass(this.#t.nativeElement,"hidden-sm")}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evHideOnMobile",""]]})}return t})();var hM=(()=>{class t{#e=E(u1);targetId=We.required({alias:"evScrollTo"});scrollToClick=vo();#t=0;#n;onClick(){this.scrollToClick.emit({navigation_subcategory:"scroll-to",navigation_element_selected:this.targetId()}),this.#n=document.getElementById(this.targetId()),this.getTargetPosition(),setTimeout(()=>this.#e.scrollTo(0,this.#t))}getTargetPosition(){this.#n!==null&&(this.#t=this.#n.offsetTop,this.addTopSpaceOfParent(this.#n.offsetParent))}addTopSpaceOfParent(e){this.#t+=e.offsetTop;let n=e.offsetParent;n!==null&&n.offsetTop>0&&this.addTopSpaceOfParent(n)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evScrollTo",""]],hostBindings:function(n,r){n&1&&Ee("click",function(){return r.onClick()})},inputs:{targetId:[1,"evScrollTo","targetId"]},outputs:{scrollToClick:"scrollToClick"}})}return t})();var ai=(()=>{class t{isSportsShop(e){return ce.hasProperty(e,"themingSettings.sportsPlatformStyles")&&e.themingSettings.sportsPlatformStyles===Qc.MICO}translateService=E(Sn);sportsPacks=new Map;static NON_PACK_NUMBERS=[0];createSportsPack(e){this.sportsPacks.clear(),e.events.filter(n=>n.pack>0).forEach(n=>{if(!this.sportsPacks.has(n.pack))this.sportsPacks.set(n.pack,[n]);else{let r=this.sportsPacks.get(n.pack);r.push(n),this.sportsPacks.set(n.pack,r.sort((o,s)=>o.bucket-s.bucket))}})}getSportsPackEvents(e){return this.sportsPacks.get(e)}hasSportsPackEvents(){return this.sportsPacks.size>0}getSportsPackNumbers(){return this.sportsPacks.size>0?Array.from(this.sportsPacks.keys()).sort((e,n)=>e-n):t.NON_PACK_NUMBERS}buildSportsPackHeadline(e,n){let r;return e.pack>0?(r=this.translateService.instant(K.CHECKOUT_APP_SPORTS_TICKET_PACK_HEADLINE),n>1&&(r+=` ${e.pack}`),r):(r=this.translateService.instant(K.CHECKOUT_APP_SPORTS_TICKET_NON_PACK_HEADLINE),r=r.replace("{mainCategory}",e.mainCategory),r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WSe(t,i){if(t&1&&ci(0,3),t&2){let e=y(),n=Fn(2),r=Fn(4);C("ngTemplateOutlet",e.wrapInSection()?n:r)}}function zSe(t,i){if(t&1&&(h(0,"section",4),ci(1,3),g()),t&2){let e=y(),n=Fn(6);xa(e.cssClasses()),d(),C("ngTemplateOutlet",n)}}function YSe(t,i){if(t&1&&(h(0,"div",5)(1,"div",6),ci(2,3),g()()),t&2){let e=y(),n=Fn(6);d(),xa(e.cssClasses()),d(),C("ngTemplateOutlet",n)}}function JSe(t,i){if(t&1&&(D(0,"p",8),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e))}}function XSe(t,i){if(t&1&&(h(0,"div"),J(1,JSe,2,3,"p",8),g()),t&2){let e=i.$implicit,n=y(3);d(),$(n.hasTranslation(e)?1:-1)}}function QSe(t,i){if(t&1&&ft(0,XSe,2,1,"div",null,fr),t&2){let e=y(2);ht(e.additionalHints())}}function ZSe(t,i){if(t&1&&(h(0,"p",7),D(1,"ev-forms-formatter",9),g()),t&2){let e=y(2);d(),C("content",e.generalHintFormatted)}}function exe(t,i){if(t&1&&J(0,QSe,2,0)(1,ZSe,2,1,"p",7),t&2){let e=y();$(e.showAdditionalHints?0:-1),d(),$(e.showGeneralHint()?1:-1)}}var ja=(()=>{class t{document=E(Ot);#e=E(Tn);#t=E(Sn);#n=E(ai);#i=E(Oi);Message=K;cssClasses=We();additionalHints=We([]);showGeneralHint=We(!0);wrapInSection=We(!1);showGeneralDataProtectionHints;showAdditionalHints=!0;generalHintFormatted;ngOnInit(){this.initPageDataSubscription(),this.checkAdditionalHints()}hasTranslation(e){let n=this.#t.instant(e);return n!=e&&ee.isNotEmpty(n)}createGeneralHint(){let e=new po,n=this.#t.instant(K.GLOBAL_HINTS_DATA_PROTECTION),r=this.#t.instant(K.GLOBAL_HINTS_DATA_PROTECTION_LINK_TEXT),o=this.#t.instant(K.SC_FOOTER_LINKS_DATA_PROTECTION_CONTENT),s=n.split("{0}"),c=!this.#n.isSportsShop(this.#e.getAffiliate()),v=new Dn(co.buildHtml(o)).enableCloseButton(c?K.GLOBAL_BUTTON_CLOSE:null).enablePrintButton().setWidth(er.MEDIUM).enableDismissable();s.length>1&&(s[0]!==void 0&&ee.isNotEmpty(s[0].trim())&&e.append(new wa(s[0])),ee.isNotEmpty(r.trim())&&e.append(new Rp(new Mp(r,v,Mu.SECONDARY))),s[1]!==void 0&&ee.isNotEmpty(s[1].trim())&&e.append(new wa(s[1]))),this.generalHintFormatted=e}initPageDataSubscription(){this.#e.observeAffiliate().pipe(zn(this.#i)).subscribe(e=>{this.showGeneralDataProtectionHints=e.showGeneralDataProtectionHints,this.showGeneralDataProtectionHints&&this.createGeneralHint()})}checkAdditionalHints(){this.showAdditionalHints=Dt.isNotEmpty(this.additionalHints())&&this.additionalHints().some(e=>{let n=this.#t.instant(e);return ee.isNotEmpty(n.trim())&&n!==e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gdpr-hint"]],inputs:{cssClasses:[1,"cssClasses"],additionalHints:[1,"additionalHints"],showGeneralHint:[1,"showGeneralHint"],wrapInSection:[1,"wrapInSection"]},decls:7,vars:1,consts:[["section",""],["row",""],["content",""],[3,"ngTemplateOutlet"],["data-qa","gdpr"],[1,"row"],["data-qa","gdpr",1,"col-xs-12"],["data-qa","general-hint",1,"data-protection-paragraph","font-size-xs","theme-text-light-color","line-height-3xs"],["data-qa","additional-hint",1,"data-protection-paragraph","font-size-xs","theme-text-light-color","line-height-3xs",3,"evCoreHtml"],[3,"content"]],template:function(n,r){n&1&&J(0,WSe,1,1,"ng-container",3)(1,zSe,2,3,"ng-template",null,0,vi)(3,YSe,3,3,"ng-template",null,1,vi)(5,exe,2,2,"ng-template",null,2,vi),n&2&&$(r.showGeneralDataProtectionHints&&(r.showGeneralHint()||r.showAdditionalHints)?0:-1)},dependencies:[hr,oi,Se,Po,xt,_a,Zr],encapsulation:2})}return t})();var od=function(t){return t[t.UNDEFINED=0]="UNDEFINED",t[t.BEST_SEAT=1]="BEST_SEAT",t[t.SEAT_MAP=2]="SEAT_MAP",t[t.RESALE=3]="RESALE",t[t.REPERSONALIZATION=4]="REPERSONALIZATION",t[t.EXTERNAL_RESERVATION=5]="EXTERNAL_RESERVATION",t[t.AFTERSALES=6]="AFTERSALES",t}(od||{});var Wl=(()=>{class t extends cr{deleteOrderPosition(e,n,r){return this.webshopApi.delete(`/checkout/orders/${e}/event/${n}/position/${r}`)}clearShoppingCart(){return this.webshopApi.delete("/checkout/orders")}getReceipt(e){return this.webshopApi.get(`/checkout/orders/${e}/receipt`)}submitSummary(e,n){return this.webshopApi.post(`/checkout/orders/${e}/payment`,n)}setTicketGiftInformation(e,n){return this.webshopApi.put(`/checkout/orders/${e}/giftInfo`,n)}createPayPalCustomer(e,n){return this.webshopApi.post(`/checkout/orders/${e}/paypalcustomers`,n)}deletePayPalBillingAgreement(e){return this.webshopApi.delete(`/checkout/orders/${e}/paypalcustomers`)}getPayPalInstallments(e,n){return this.webshopApi.post(`/checkout/orders/${e}/installments`,n)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pA=(()=>{class t extends cr{resetPassword(e){return this.webshopApi.post(`/customers/${e}/password`)}validateFiscalCode(e){return this.webshopApi.post("/customers/validateFiscalCode",e)}getCustomer(){return this.webshopApi.get("/customers")}searchCustomer(e){return this.webshopApi.get("/callcenter/searchCustomers",new Nr({fromObject:at({},e)}))}getCustomerSearchPage(){return this.webshopApi.get("/callcenter/customerSearchPage")}loginFoundCustomer(e){return this.webshopApi.post(`/callcenter/login/${e}`)}logoutCustomer(){return this.webshopApi.post("/callcenter/logout")}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var p1=(()=>{class t{#e=E(UT);#t=E(Vo);login(e){return this.#e.post("/session/login",e)}logout(){return this.#t.post("/session/logout",null,!0)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var l$=(()=>{class t extends cr{submitDelivery(e,n){return this.webshopApi.put(`/customers/${e}`,n)}submitNewCustomer(e){return this.webshopApi.post("/customers",e)}getDeliveryPage(e,n=!1){let r={};return ee.isNotEmpty(e)&&(r.email=e),n&&(r.newcustomer=`${n}`),this.webshopApi.get("/delivery/order",new Nr({fromObject:r}))}changeDeliveryMethod(e,n){return this.webshopApi.put(`/delivery/order/${e}/deliveryMethod/${n}`)}changeDeliveryMethodMemoryTickets(e,n){return this.webshopApi.put(`/delivery/order/${e}/deliveryMethodMemoryTickets/${n}`)}getAddressByZipCode(e,n){return this.webshopApi.get(`/delivery/country/${e}/zipCode/${n}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var c$=(()=>{class t extends cr{getContent(e){return this.webshopApi.get(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ui=function(t){return t[t.UNDEFINED=0]="UNDEFINED",t[t.POST_STANDARD=1]="POST_STANDARD",t[t.TICKETDIRECT=2]="TICKETDIRECT",t[t.OUTLETPRINT=3]="OUTLETPRINT",t[t.INLAND_EXPRESS=4]="INLAND_EXPRESS",t[t.SPECIAL=5]="SPECIAL",t[t.WILL_CALL=6]="WILL_CALL",t[t.WILL_CALL_RESERVATION=7]="WILL_CALL_RESERVATION",t[t.MOBILE=8]="MOBILE",t[t.NOT_REQUIRED=9]="NOT_REQUIRED",t[t.MEMBER_CARD=10]="MEMBER_CARD",t[t.EVENTIM_PASS=11]="EVENTIM_PASS",t[t.EXTERNAL_DELIVERY=12]="EXTERNAL_DELIVERY",t}(ui||{});var Gee=(()=>{class t extends cr{addMembershipToBasket(e,n){let r={eventId:n.eventId,ticketTypeId:n.ticketTypeId,priceCategoryid:n.priceCategoryId,ticketPriceIds:new Map().set(n.ticketTypeId,n.tdlPreisRabattLinkId)};return this.webshopApi.put(`/clubmembership/order/${e}`,r)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Kee=(()=>{class t extends cr{updateDonation(e,n){let r="/donation";return e?this.webshopApi.post(`${r}/${n}`):this.webshopApi.delete(r)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qee=(()=>{class t extends cr{static URL="/memoryTicket/order";updateMemoryTicket(e,n){return e?this.webshopApi.post(`${t.URL}/${n}`):this.webshopApi.delete(`${t.URL}/${n}`)}updateMemoryTicketByOrderPosition(e,n,r){return e?this.webshopApi.post(`${t.URL}/${n}/position/${r}`):this.webshopApi.delete(`${t.URL}/${n}/position/${r}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wee=(()=>{class t extends cr{updateInsuranceForOrder(e,n,r){let o=`/ticketInsurance/order/${e.orderNumber}`;return n?(r!==void 0&&(o=`${o}?optin=${r}`),this.webshopApi.post(o)):e.ticketInsuranceFeeInt>0?this.webshopApi.delete(o):el}updateInsuranceForOrderPosition(e,n,r,o){let s=`/ticketInsurance/order/${e.orderNumber}/position/${n}`;if(r)return o!==void 0&&(s=`${s}?optin=${o}`),this.webshopApi.post(s);{let c=e.events.find(v=>v.priceCategory.orderPositionId===n);return c!==void 0&&c.priceCategory.ticketInsuranceFeeInt>0?this.webshopApi.delete(s):el}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mo=(()=>{class t{subject=new ni(null);updateSubjectAndOrder(e){return e.pipe(An(n=>this.setPageJson(n))).toPromise()}setPageJson(e){this.subject.next(e)}observePageJson(e){return this.subject.asObservable().pipe(Yt(n=>n!==null),Yt(n=>this.filterPageTypes(n,e)))}getLastEntry(){return this.subject.getValue()}clearCache(){this.subject.next(null)}filterPageTypes(e,n){return ce.isNullable(n)||n.includes(e.page)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yi=class t{static PAGE_TYPES=[Cn.ShoppingCart,Cn.Login,Cn.Delivery,Cn.TicketPersonalisation,Cn.Payment,Cn.Summary,Cn.Receipt,Cn.Sso];orderSubject=new ni(null);checkoutResource=E(Wl);ticketInsuranceResource=E(Wee);storageService=E(fn);sportsService=E(ai);pageHolder=E(mo);membershipResource=E(Gee);donationResource=E(Kee);memoryTicketResource=E(qee);constructor(){this.registerPageJsonObserver()}clearShoppingCart(){return this.checkoutResource.clearShoppingCart().pipe(An(i=>this.updateOrder(i))).toPromise()}updateTicketInsurance(i,e,n,r){let o;return n===void 0?Object.prototype.hasOwnProperty.call(e,"additionalInsuranceCheckbox")&&r!==void 0?o=this.ticketInsuranceResource.updateInsuranceForOrder(e,i,r):o=this.ticketInsuranceResource.updateInsuranceForOrder(e,i):Object.prototype.hasOwnProperty.call(e,"additionalInsuranceCheckbox")&&r!==void 0?o=this.ticketInsuranceResource.updateInsuranceForOrderPosition(e,n.priceCategory.orderPositionId,i,r):o=this.ticketInsuranceResource.updateInsuranceForOrderPosition(e,n.priceCategory.orderPositionId,i),o.pipe(An(s=>{this.updateOrder(s)})).toPromise()}observeOrder(){return this.orderSubject.asObservable()}updateOrder(i){this.updateStorage(i),this.orderSubject.next(i)}getOrder(){return this.orderSubject.getValue()}getEvents(i){return this.sportsService.hasSportsPackEvents()&&i>0?this.sportsService.getSportsPackEvents(i):this.getOrder().events}isCartEmpty(i){return ce.isObject(i)?i.numberOfTickets<=0:!0}isMembershipInCart(){return this.orderSubject.getValue()?.events?.filter(i=>i.clubMembershipPosition).length>0}getMembershipPosition(){return(this.orderSubject.getValue()?.events?.filter(e=>e.clubMembershipPosition))[0]??null}skipPayment(i){return i.deliveryMethodType===ui.WILL_CALL_RESERVATION||i.orderPayAmountInt===0}updateMembership(i,e){let n,r=this.orderSubject.getValue().orderNumber;if(i)n=this.membershipResource.addMembershipToBasket(r,e);else{let o=this.getMembershipPosition();o&&(n=this.checkoutResource.deleteOrderPosition(r,o.eventId,o.priceCategory.orderPositionId).pipe(cn(s=>s.order)))}return $a(n.pipe(An(o=>{this.updateOrder(o)})))}updateDonation(i,e){return this.donationResource.updateDonation(i,e).pipe(An(r=>{this.updateOrder(r)})).toPromise()}updateMemoryTicket(i,e,n){return(n?this.memoryTicketResource.updateMemoryTicketByOrderPosition(i,e,n):this.memoryTicketResource.updateMemoryTicket(i,e)).pipe(An(o=>{this.updateOrder(o)})).toPromise()}createOrderPositionsMap(i){let e=new Map;return i.events.forEach(n=>{e.set(`${n.eventId}_${n.priceCategory.pkId}`,n.priceCategory.numberOfTickets)}),e}differsFromPreviousOrderPositionsMap(i,e){return i.size!==0&&!HN.compare(i,e)}registerPageJsonObserver(){this.pageHolder.observePageJson(t.PAGE_TYPES).pipe(Yt(i=>ce.isObject(i.order))).subscribe(i=>this.updateOrder(i.order))}updateStorage(i){this.storageService.get(ut.ORDER_NUMBER,0)!==i.orderNumber&&(this.storageService.clearScope(Fi.Order),this.storageService.clearScope(Fi.OrderCustomer),this.storageService.set(ut.ORDER_NUMBER,i.orderNumber))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})};var m1=(()=>{class t{webshopApi=E(Vo);#e=E(yi);getOrder(){return this.webshopApi.get("/shoppingCart",new Nr({fromObject:{ignoreDataLayer:!1}}))}determineNextPage(){return this.webshopApi.post("/shoppingCart")}addChildEventToCart(e){return this.webshopApi.put(`/shoppingCart/xsale?evid=${e.eventId}`,e)}getOrderInsurancePriceTableInformation(){let e=this.#e.getOrder();return this.webshopApi.get(`/ticketInsurance/order/${e.orderNumber}/price`)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var d$=(()=>{class t extends cr{getSummaryPage(){return this.webshopApi.get("/summary/order")}unlockOrder(e,n){return this.webshopApi.put(`/orders/${e}/unlock`,n)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var u$=(()=>{class t extends cr{webshopApi=E(Vo);get(){return this.webshopApi.get("/ticketPersonalisation/order")}submitOrderPersonalisation(e,n){return this.webshopApi.post(`/ticketPersonalisation/order/${e}`,n)}validateCpf(e,n){let r=new Nr().set("cpfNumber",e).set("country",n);return this.webshopApi.get("/ticketPersonalisation/validate",r)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Up=function(t){return t[t.Failure=0]="Failure",t[t.Success=1]="Success",t}(Up||{});var fo=(()=>{class t{#e=E(pA);#t=E(fn);#n=E(Gn);#i=E(bt);#r=new ni(null);#o=new ni(null);observeCustomer(){return this.#r.asObservable()}observeLogoutRequestStatus(){return this.#o.asObservable()}getCurrentCustomer(){return Pa.of(this.#r.getValue())}getCustomerJson(){return this.#e.getCustomer().toPromise()}updateCustomerData(e){this.updateStorage(e),this.#r.next(e)}updateLogoutRequestStatus(e){this.#o.next(e)}updateStorage(e){let n=this.#t.get(ut.CUSTOMER_ID,0),r=ee.isNotEmpty(this.#t.get(ut.NEW_CUSTOMER_EMAIL,null)),o=this.#t.get(ut.CCCL_CUSTOMER,!1),s=0;e!==null&&(s=e.customerId),n!==s&&(n===0&&(r||o)?this.#t.set(ut.CUSTOMER_ID,s):(this.#t.clearScope(Fi.Customer),this.#t.clearScope(Fi.OrderCustomer),this.#t.set(ut.CUSTOMER_ID,s),this.#t.set(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)))}resetPassword(e){return this.#n.show(),this.#e.resetPassword(e).pipe(gp(()=>{this.#n.hide()})).toPromise()}validateFiscalCode(e){return this.#e.validateFiscalCode(e).toPromise()}getSearchedCustomer(e){return this.#e.searchCustomer(e).toPromise()}loginFoundCustomer(e){return this.#e.loginFoundCustomer(e).toPromise()}logoutCallcenterCustomer(){return this.#e.logoutCustomer().pipe(An(()=>this.handleCallcenterLogoutSuccess()),No(e=>this.handleCallcenterLogoutError(e))).toPromise()}handleCallcenterLogoutSuccess(){this.updateCustomerData(null),this.updateLogoutRequestStatus(Up.Success)}handleCallcenterLogoutError(e){return this.#i.error(new Error(e.message),"Customer Service"),this.updateLogoutRequestStatus(Up.Failure),el}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rn=function(t){return t.Success="success",t.Info="info",t.Warning="warning",t.Danger="danger",t}(rn||{});var txe=["*"],On=(()=>{class t{visible=We(!0);type=We(rn.Info);showStripe=We(!1);extraStyleForContainer=We("");notificationClasses=sn(()=>{let e=["alert theme-element-radius",`alert-${this.type()}`];return this.showStripe()&&e.push("alert-with-stripe alert-with-stripe-info"),e.join(" ")});static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-notification"]],inputs:{visible:[1,"visible"],type:[1,"type"],showStripe:[1,"showStripe"],extraStyleForContainer:[1,"extraStyleForContainer"]},ngContentSelectors:txe,decls:4,vars:5,consts:[[1,"row","margin-top-s",3,"hidden"],[1,"col-xs-12"],["data-qa","notification"]],template:function(n,r){n&1&&(lo(),h(0,"div",0)(1,"div",1)(2,"div",2),Or(3),g()()()),n&2&&(xa(r.extraStyleForContainer()),C("hidden",!r.visible()),d(2),xa(r.notificationClasses()))},encapsulation:2,changeDetection:0})}return t})();function nxe(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",1),g()),t&2){let e=y();C("visible",e.isMultipleOrderHintVisible())("type",e.NotificationType.Warning),d(),C("evCoreHtml",e.order().multipleOrderHint)}}var VT=(()=>{class t{#e=E(fo);NotificationType=rn;order=We();isPaytollPlatform=We(!1);currentCustomer;subscriptions=[];ngOnInit(){this.subscriptions.push(this.#e.observeCustomer().subscribe(e=>this.currentCustomer=e))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}isMultipleOrderHintVisible(){return ce.isObject(this.currentCustomer)&&ee.isNotEmpty(this.order().multipleOrderHint)&&!this.isRepersonalization()}isRepersonalization(){return this.order().events.some(e=>e.priceCategory.bookingType===od.REPERSONALIZATION)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-multiple-order"]],inputs:{order:[1,"order"],isPaytollPlatform:[1,"isPaytollPlatform"]},decls:1,vars:1,consts:[["data-qa","multiple-order-notification",3,"visible","type"],[3,"evCoreHtml"]],template:function(n,r){n&1&&J(0,nxe,2,3,"ev-notification",0),n&2&&$(r.isPaytollPlatform()?-1:0)},dependencies:[On,Po,xt],encapsulation:2})}return t})();var ns=(()=>{class t{domSanitizer;constructor(e){this.domSanitizer=e}transform(e,n){let r=e;return ee.isNotEmpty(r)&&n.forEach(o=>{r=r.replaceAll(o.placeholder,`${o.replacementValue}`)}),this.domSanitizer.bypassSecurityTrustHtml(r)}static \u0275fac=function(n){return new(n||t)(Et(ga,16))};static \u0275pipe=Sa({name:"evReplaceMessagePlaceholder",type:t,pure:!0})}return t})();var Tl=function(t){return t.Visible="true",t.Hidden="false",t}(Tl||{});var Av=(()=>{class t{static popInOutDefaultDuration=120;static fadeInOut(e=300,n="fadeInOut"){return S0(n,[Zc(Tl.Visible,Lo({opacity:1,visibility:"visible"})),Zc(Tl.Hidden,Lo({opacity:0,visibility:"hidden"})),wp(`${Tl.Hidden} => ${Tl.Visible}`,zC([yl("0ms",Lo({visibility:"visible"})),yl(`${e}ms ease-in-out`,Lo({opacity:1}))])),wp(`${Tl.Visible} => ${Tl.Hidden}`,zC([yl(`${e}ms ease-in-out`,Lo({opacity:0})),yl(`1ms ${e}ms`,Lo({visibility:"hidden"}))]))])}static toggleInOut(e=200,n="toggleInOut"){return S0(n,[Zc(Tl.Hidden,Lo({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,"min-height":0,display:"none"})),Zc(Tl.Visible,Lo({height:"*",overflow:"*","padding-top":"*","padding-bottom":"*","min-height":"*",display:"*"})),wp(`${Tl.Hidden} => ${Tl.Visible}`,ET([yl("0ms",Lo({display:"*"})),yl(`${e}ms ease-in`,Lo({height:"*",overflow:"*","padding-top":"*","padding-bottom":"*","min-height":"*"}))])),wp(`${Tl.Visible} => ${Tl.Hidden}`,ET([yl(`${e}ms ease-in`,Lo({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,"min-height":0})),yl(`1ms ${e}ms`,Lo({display:"none"}))]))])}static popInOut(e=this.popInOutDefaultDuration,n="popInOut"){return S0(n,[Zc(Tl.Hidden,Lo({opacity:0,transform:"scale(0.8)"})),Zc(Tl.Visible,Lo({opacity:1,transform:"scale(1)"})),wp(`${Tl.Hidden} <=> ${Tl.Visible}`,yl(e))])}}return t})();var gM=(()=>{class t{onToggle=vo();state=nn(!1);toggle(e){e&&e.preventDefault(),this.state.set(!this.state()),this.onToggle.emit(this.state())}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,outputs:{onToggle:"onToggle"}})}return t})();var ixe=["*"];function rxe(t,i){if(t&1&&R(0),t&2){let e=y();ne(" ",e.expanderMarginalPrefix()," ")}}var vM=(()=>{class t extends gM{expanderDescription=We("");expanderMarginal=We("");expanderMarginalPrefix=We("");infoModalTitle=We("");infoModalContent=We("");isLast=We(!1);isInitiallyExpanded=We(!1);ngOnInit(){this.state.set(this.isInitiallyExpanded())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-card-expander"]],inputs:{expanderDescription:[1,"expanderDescription"],expanderMarginal:[1,"expanderMarginal"],expanderMarginalPrefix:[1,"expanderMarginalPrefix"],infoModalTitle:[1,"infoModalTitle"],infoModalContent:[1,"infoModalContent"],isLast:[1,"isLast"],isInitiallyExpanded:[1,"isInitiallyExpanded"]},features:[dt],ngContentSelectors:ixe,decls:17,vars:12,consts:[["data-qa","card-expander"],[1,"col-xs-12","card-expander",3,"click"],[1,"row"],[1,"col-xs-12"],[1,"card-expander-icon"],[1,"btn","btn-link","theme-alt-interaction-color","theme-alt-interaction-color-hover",3,"submit"],[1,"icon","toggle-icon","theme-alt-interaction-color","theme-alt-interaction-color-hover"],[1,"card-expander-description"],["data-qa","description",1,"card-expander-item-name","theme-headline-color"],[3,"modalTitle","modalContent"],[1,"card-expander-marginal"],["data-qa","marginal",1,"float-right","theme-interaction-color"],[1,"col-xs-12","card-expander-content"]],template:function(n,r){n&1&&(lo(),h(0,"div",0)(1,"section",1),Ee("click",function(){return r.toggle()}),h(2,"div",2)(3,"div",3)(4,"div",4)(5,"button",5),Ee("submit",function(){return r.toggle()}),D(6,"span",6),g()(),h(7,"div",7)(8,"span",8),R(9),g(),D(10,"ev-forms-info-link",9),g(),h(11,"div",10)(12,"span",11),J(13,rxe,1,1),R(14),g()()()()(),h(15,"section",12),Or(16),g()()),n&2&&(d(5),Le("aria-expanded",r.state())("aria-label",r.expanderDescription()),d(),xa(r.state()?"icon-expand-less":"icon-expand-more"),d(3),Ae(r.expanderDescription()),d(),C("modalTitle",r.infoModalTitle())("modalContent",r.infoModalContent()),d(3),$(r.expanderMarginal()&&r.expanderMarginalPrefix()?13:-1),d(),ne(" ",r.expanderMarginal()," "),d(),Tr("bottom-separator",!r.isLast()),C("@toggleInOut",r.state()))},dependencies:[_a,jm],encapsulation:2,data:{animation:[Av.toggleInOut(80)]}})}return t})();var Pv=(()=>{class t{storeKey="personalisation";affiliate;configCustomerId;logService=E(bt);affiliateService=E(Tn);localStorageService=E(XX);constructor(){this.affiliate=this.affiliateService.getAffiliate(),this.configCustomerId=this.affiliate.configCustomerId}getData(){return this.localStorageService.readLocalStorage(this.storeKey)}getDataBasedOnConfigCustomer(){return this.getData()[this.configCustomerId]}setData(e,n,r){let o=ce.isObject(this.getData())?this.getData():{};ee.isNotEmpty(e)&&ee.isNotEmpty(n)&&ee.isNotEmpty(r)?(o[this.configCustomerId]={firstName:e,lastName:n,email:r},this.localStorageService.writeLocalStorage(this.storeKey,o)):this.logService.debug(new Error("One or more values are not available to store them in local Storage ... please check!"),"Soft Login")}isAllowed(){return this.affiliate.settings!==void 0&&this.affiliate.settings.softLogin||!1}isDataAvailable(){let e=this.getData();return!ce.isEmpty(e)&&!ce.isEmpty(e[this.configCustomerId])}showUserData(){return this.isAllowed()&&this.isDataAvailable()}deleteData(){this.localStorageService.deleteData(this.storeKey)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yee=(()=>{class t{#e=E(zt);#t=E(Pv);#n=E(fo);#i=E(bt);customerIsAlreadySoftLoggedIn;isNewCustomer=!1;ngOnInit(){this.#t.isAllowed()&&this.#e.events.pipe(Yt(e=>e instanceof va&&e?.url.indexOf("modal=show")===-1)).subscribe(()=>{this.customerIsAlreadySoftLoggedIn=this.#t.isDataAvailable(),!this.customerIsAlreadySoftLoggedIn&&!this.isNewCustomer&&this.#e.url!==`/${Cn.Login}`&&this.#n.getCustomerJson().then(e=>{e.customerId>0?this.#t.setData(e.firstName,e.lastName,e.emailAddress):this.isNewCustomer=!0}).catch(()=>{this.#i.trace(new Error("Customer currently unknown."),"Soft Login Writer"),this.#e.url===`/${Cn.Delivery}`&&(this.isNewCustomer=!0)})})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-soft-login-writer"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var Jee=(()=>{class t{#e=E(Sn);Message=K;min=We.required();max=We.required();step=We(1);value=nn(0);stepperUpdated=vo();id=ee.getRandomId("xSaleStepperAmount_");increaseTitle=nn(this.#e.instant(K.GLOBAL_APP_INCREASE_STEPPER));decreaseTitle=nn(this.#e.instant(K.GLOBAL_APP_DECREASE_STEPPER));canIncrease=sn(()=>this.value()+this.step()<=this.max());canDecrease=sn(()=>this.value()-this.step()>=this.min());constructor(){al(()=>{this.stepperUpdated.emit(this.value())})}increase(){this.canIncrease()&&this.value.set(this.value()+this.step())}decrease(){this.canDecrease()&&this.value.set(this.value()-this.step())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-stepper-button"]],inputs:{min:[1,"min"],max:[1,"max"],step:[1,"step"]},outputs:{stepperUpdated:"stepperUpdated"},decls:7,vars:12,consts:[["data-qa","stepper-button",1,"btn-group","btn-stepper"],["data-qa","decrease",1,"btn","btn-primary","cross-sale-card-stepper","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","btn-sm","theme-button-radius","btn-stepper-left",3,"click","title"],["aria-hidden","true",1,"icon","icon-minus"],["aria-live","polite","aria-atomic","true","data-qa","value",1,"btn-stepper-amount","theme-text-color",3,"id"],["data-qa","increase",1,"btn","btn-primary","cross-sale-card-stepper","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","btn-sm","theme-button-radius","btn-stepper-right",3,"click","title"],["aria-hidden","true",1,"icon","icon-plus"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"button",1),Ee("click",function(){return r.decrease()}),D(2,"span",2),g(),h(3,"span",3),R(4),g(),h(5,"button",4),Ee("click",function(){return r.increase()}),D(6,"span",5),g()()),n&2&&(d(),Tr("disabled",!r.canDecrease()),C("title",r.decreaseTitle()),Le("aria-disabled",!r.canDecrease())("aria-controls",r.id),d(2),C("id",r.id),d(),Ae(r.value()),d(),Tr("disabled",!r.canIncrease()),C("title",r.increaseTitle()),Le("aria-disabled",!r.canIncrease())("aria-controls",r.id))},encapsulation:2})}return t})();var kv=function(t){return t.AV="av",t}(kv||{});var Bs=(()=>{class t{#e=E(Ot);#t={};#n=ee.EMPTY_STRING;#i=!1;setTrackingData(e){this.#t=e}setCustomTrackingData(e){this.#t=at(at({},this.getTrackingData()),e)}getTrackingData(){return this.#t}setLoginMethod(e){this.#n=e,this.#e.defaultView.sessionStorage.setItem("trackingLoginMethod",e)}getLoginMethod(){let e=this.#e.defaultView.sessionStorage.getItem("trackingLoginMethod");return this.#n===ee.EMPTY_STRING&&e!==void 0&&(this.#n=e),this.#n}setShouldLoginBeTracked(e){this.#i=e}shouldLoginBeTracked(){return this.#i}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var qr=class t{#e=E(Ot);#t=E(bt);#n=E(fn);#i=E(zt);#r=E(Bs);#o=E(jo);#a={};static PAGE_STEPS_MAP=new Map([[Cn.ShoppingCart,"1"],[Cn.Login,"2"],[Cn.Delivery,"3"],[Cn.TicketPersonalisation,"0"],[Cn.Payment,"4"],[Cn.Summary,"5"],[Cn.Receipt,"6"]]);static PAGE_NAME_MAP=new Map([[Qe.ShoppingCart,"shopping_cart"],[Qe.Login,"login"],[Qe.TicketPersonalisation,"ticket_personalisation"],[Qe.Payment,"payment_method"],[Qe.D3Secure,"payment_3d_secure"],[Qe.Summary,"customer_data_summary"],[Qe.Receipt,"order_confirmation"]]);static getValuesForEEC(i,e){let n;if(ce.hasProperty(i,"order_products")&&Dt.isNotEmpty(i.order_products)?n=t.getProductsForEEC(i.order_products):n=[],e===Cn.Receipt)return{ecommerce:{currencyCode:i.env_currency,purchase:{actionField:{id:i.order_id,affiliation:i.env_affiliate_abbrv,revenue:i.order_amount_ati_with_sf,shipping:i.order_ship_ati,coupon:i.order_voucher_code},products:n}}};{let r={ecommerce:{currencyCode:i.env_currency,checkout:{products:n}}};return ee.isNotEmpty(e)&&(r.ecommerce.checkout.actionField={step:t.PAGE_STEPS_MAP.get(e)}),r}}static getEcommerceValues(i,e,n){n.length===0&&(ce.hasProperty(i,"order_products")&&Dt.isNotEmpty(i.order_products)?n=t.getItemsForEcommerceObject(i.order_products):n=[]);let r={value:parseFloat(i.order_amount_ati_with_sf),currency:i.env_currency,shipping_tier:i.order_shipping_method_selected,payment_type:i.order_payment_method_selected,user_logged:i.user_logged,items:n};return e===Cn.Receipt?at({transaction_id:i.order_id,affiliation:i.env_affiliate_abbrv,shipping:parseFloat(i.order_ship_ati),page_sitecategory:"receipt"},r):at({page_sitecategory:"checkout"},r)}static getProductsForEEC(i){let e=[];for(let n of i)for(let r of n.unitprice_ati)e.push({name:ee.unescapeSlashes(n.event_series_name),id:n.event_serie_id,price:r.price,brand:n.artist_name,category:n.event_series_sub_genre?n.event_series_sub_genre.join(", "):void 0,variant:n.booking_type,quantity:r.quantity,dimension63:n.booking_type,dimension66:ee.unescapeSlashes(n.event_name),dimension67:n.event_id,dimension68:n.event_venue_name,dimension69:n.event_venue_id,dimension70:n.event_city_name,dimension71:n.event_city_id,dimension72:n.event_organizer_id,dimension73:ce.hasProperty(n,"artist_rating")?n.artist_rating:"",dimension103:n.event_price_category,dimension104:n.insurance_price,dimension105:ce.hasProperty(n,"evocs_layout_id")?n.evocs_layout_id:"",dimension107:n.gift_wrap_selected,dimension113:r.rs_id,dimension116:n.product_type,dimension119:n.promotion_name,dimension122:n.event_price_category_name,metric3:n.gift_wrap_price});return e}static getItemsForEcommerceObject(i){let e=[],n=JSON.parse(document.defaultView.sessionStorage.getItem("ecommerceSelectedItemData")),r={item_id:ee.EMPTY_STRING,event_id:ee.EMPTY_STRING,item_list_name:null,teaser_type:null,item_category5:"0"};for(let[o,s]of i.entries()){if(!ce.isEmpty(n)){let c=n.filter(v=>v.event_id===s.event_id)[0];c&&(r=c)}for(let c of s.unitprice_ati)e.push({item_name:ee.unescapeSlashes(s.event_series_name),item_id:s.event_serie_id,item_event_name:ee.unescapeSlashes(s.event_name),item_category:s.memory_tickets_selected==="1"?"memoryticket":"ticket",price:parseFloat(c.price),event_organizer_id:s.event_organizer_id,event_id:s.event_id,event_city_id:s.event_city_id,event_city_name:s.event_city_name,event_series_genre:s.event_series_genre?s.event_series_genre.join(", "):ee.EMPTY_STRING,event_series_sub_genre:s.event_series_sub_genre?s.event_series_sub_genre.join(", "):ee.EMPTY_STRING,event_price_category:s.event_price_category,event_price_category_name:s.event_price_category_name,venue_id:s.event_venue_id,venue_name:s.event_venue_name,artist_id:s.artist_id,artist_name:s.artist_name,artist_rating:ce.hasProperty(s,"artist_rating")?s.artist_rating:ee.EMPTY_STRING,product_type:s.product_type,promotion_name:s.promotion_name,event_cluster_id:ee.EMPTY_STRING,item_list_id:r.item_id,item_list_name:r.item_list_name,item_category5:r.item_category5,teaser_type:r.teaser_type,index:o,quantity:c.quantity,gift_wrap_price:s.gift_wrap_price,insurance_price:s.insurance_price,evocs_layout_id:ce.hasProperty(s,"evocs_layout_id")?s.evocs_layout_id:"",booking_type:s.booking_type,event_date:s.event_date})}return e}performGoogleEventTracking(i,e={}){if(this.isGTMTrackingActive()&&this.hasDataLayer())try{i.event===void 0&&i.event_name===void 0?this.#e.defaultView.dataLayer.push({event:"gaEvent",eventCategory:ee.isNotEmpty(i.category)?i.category:"checkout",eventAction:ee.isNotEmpty(i.action)?i.action:ee.EMPTY_STRING,eventLabel:ee.isNotEmpty(i.label)?i.label:ee.EMPTY_STRING,eventValue:ee.isNotEmpty(i.value)?i.value:ee.EMPTY_STRING,nonInteractionEvent:i.nonInteractionEvent!==void 0?i.nonInteractionEvent:!1}):(this.trackDataForMoa(i.event_name,e),this.#e.defaultView.dataLayer.push(at({event:i.event,event_name:i.event_name},e)))}catch(n){this.#t.error(n,"Google Tracking Event Tracking")}}trackLogin(i){try{this.#e.defaultView.dataLayer.push({event:"pageMeta",[i]:!0})}catch(e){this.#t.debug(new Error(e),"Google Tracking")}}trackVirtualPageView(i,e=!1){if(this.isGTMTrackingActive()&&this.hasDataLayer())try{e&&(i=`${this.getPageName()}${i}`),this.#e.defaultView.dataLayer.push({event:"gaVirtualPage",virtual_page_name:i})}catch(n){this.#t.debug(new Error(n),"Google Tracking")}}performGooglePageTracking(i,e,n){if(this.isGTMTrackingActive()&&this.hasDataLayer()){this.#e.defaultView?.trackPageMeta&&this.trackPageMeta(e,n);let r=Mn(at({},e),{env_template:n,env_doc:n,env_page_reload:Number(this.#n.get(ut.PAGE_WAS_RELOADED,!1)),envPartnershopType:this.determinePartnershopType()});if(ce.hasProperty(r,"order_products")&&r.order_products.forEach(o=>{ce.hasProperty(o,"event_series_name")&&(o.event_series_name=ee.unescapeSlashes(o.event_series_name)),ce.hasProperty(o,"event_name")&&(o.event_name=ee.unescapeSlashes(o.event_name))}),i===Cn.Receipt){let o=this.getIndexOfPurchaseEvent();o>-1&&this.#e.defaultView.dataLayer.splice(o,1),this.#e.defaultView.dataLayer.push(at(at({event:"EECpurchase"},r),t.getValuesForEEC(e,i)))}else this.#e.defaultView.dataLayer.push(at(at({event:"EECcheckout"},r),t.getValuesForEEC(e,i)));this.#r.shouldLoginBeTracked()&&this.#r.getLoginMethod()!==ee.EMPTY_STRING&&(this.#r.setShouldLoginBeTracked(!1),this.trackLoginMethod(e)),this.performGoogleTrackingWithEcommerceValues(e,i)}}performGoogleTrackingWithEcommerceValues(i,e=ee.EMPTY_STRING,n=ee.EMPTY_STRING,r=[]){if(this.isGTMTrackingActive()&&this.hasDataLayer()&&(ee.isEmpty(n)&&!ee.isEmpty(e)?n=this.getEventNameForPage(i,e):ee.isEmpty(n)&&ee.isEmpty(e)&&this.#t.trace(new Error("Google Tracking Service - Tracking attempt without event_name AND pageName")),n!=ee.EMPTY_STRING)){let o=t.getEcommerceValues(i,e,r);this.trackDataForMoa(n,o),this.#e.defaultView.dataLayer.push({event:`ecommerce_${n}`,event_name:n,page_path:this.#e.defaultView.location.href,env_checkout_type:i.env_quick_checkout==="1"?"quick_checkout":"default_checkout",user_customer_number_hashed:i.user_customer_number??ee.EMPTY_STRING,user_email_hashed:i.user_email??ee.EMPTY_STRING,ecommerce:at({},o)})}}addOptionToGooglePageTracking(i,e){let n=t.PAGE_STEPS_MAP.get(i);this.isGTMTrackingActive()&&n!==void 0&&this.hasDataLayer()&&this.#e.defaultView.dataLayer.push({event:"EECcheckoutOption",ecommerce:{checkout_option:{actionField:{step:n,option:e}}}})}isGTMTrackingActive(){return this.#e.defaultView.dataLayer!==void 0&&this.#e.defaultView.isGTMActive}trackDeleteTickets(i,e){let n=t.getProductsForEEC(e);this.#e.defaultView.dataLayer.push({event:"EECremoveFromCart",ecommerce:{currencyCode:i.env_currency,remove:{products:n}}});let r=t.getItemsForEcommerceObject(e);this.performGoogleTrackingWithEcommerceValues(i,ee.EMPTY_STRING,"remove_from_cart",r)}trackPageMeta(i,e){let n={event:"pageMeta",page_name:i.env_pagename,page_path:this.#e.defaultView.location.href,page_type:e,env_language:i.env_language,env_country:i.env_country,env_partner_id:i.env_partner_id,env_platform_id:i.env_platform_id,env_configuration_id:i.env_configuration_id,env_affiliate_id:i.env_affiliate_id,env_affiliate_abbrv:i.env_affiliate_abbrv,user_email_hashed:i.user_email,user_fanbonus:i.user_fanbonus,user_id:i.user_session_id,user_logged:i.user_logged,user_session_id:i.user_session_id,customer_status:this.#r.getLoginMethod(),app_version:En.getQueryParam(this.#e.defaultView.location.toString(),kv.AV)??ee.EMPTY_STRING,order_amount_ati_with_sf:i.order_amount_ati_with_sf,order_amount_ati_without_sf:i.order_amount_ati_without_sf,order_campaign_info:i.order_campaign_info,order_customer_additional_delivery_adress:i.order_customer_additional_delivery_adress,order_customer_additional_delivery_country:i.order_customer_additional_delivery_country,order_id:i.order_id,order_id_tdl:i.order_id_tdl,order_netordervalue:i.order_netordervalue,order_partnering:i.order_partnering,order_payment_method_preselected:i.order_payment_method_preselected,order_payment_method_selected:i.order_payment_method_selected,order_products:JSON.parse(JSON.stringify(i.order_products||"")),order_products_number:i.order_products_number,order_ship_ati:i.order_ship_ati,order_shipping_method_memory_tickets_selected:i.order_shipping_method_memory_tickets_selected,order_shipping_method_preselected:i.order_shipping_method_preselected,order_shipping_method_selected:i.order_shipping_method_selected,order_status:i.order_status,order_tmpzanoxid:i.order_tmpzanoxid,order_voucher_code:i.order_voucher_code,order_voucher_type:i.order_voucher_type,order_voucher_value:i.order_voucher_value,initial_referrer:this.#e.referrer,promo_value:i.order_discount_ati,shop_type:i.env_affiliate_shop_type};if(ce.hasProperty(n,"order_products"))for(let r=0;r<n.order_products.length;r++){let o=n.order_products[r];ce.hasProperty(o,"event_name")&&(n.order_products[r].ev_name=o.event_name,delete n.order_products[r].event_name)}this.#a={page_type:e,env_platform_id:i.env_platform_id,env_configuration_id:i.env_configuration_id,env_affiliate_shop_type:i.env_affiliate_shop_type,env_affiliate_abbrv:i.env_affiliate_abbrv,env_checkout_type:i.env_affiliate_shop_type},this.#e.defaultView.dataLayer.push(n),this.#e.defaultView.trackPageMeta=!1}hasDataLayer(){return ce.isObject(this.#e.defaultView)&&Array.isArray(this.#e.defaultView.dataLayer)}determinePartnershopType(){if(ro.isInsideIFrame())return"iframe";if(ro.hasForeignReferrer())return"redirect"}getIndexOfPurchaseEvent(){return this.isGTMTrackingActive()&&this.hasDataLayer()?this.#e.defaultView.dataLayer.findIndex(i=>i.event==="EECpurchase"):(this.#t.debug(new Error("The DataLayer does not exist."),"Google Tracking"),-1)}getPageName(){let i=this.#i.url.split("/")[1]??"",e=t.PAGE_NAME_MAP.get(i);return e?`${e}_`:""}getEventNameForPage(i,e){switch(e){case"shoppingcart":return Object.prototype.hasOwnProperty.call(i,"order_products")?"view_cart":"view_empty_cart";case"login":return"view_login";case"delivery":return"view_shipping";case"payment":return"view_payment";case"ticketpersonalisation":return"view_personalisation";case"summary":return"view_summary";case"receipt":return"purchase";default:return""}}trackLoginMethod(i){if(this.isGTMTrackingActive()&&this.hasDataLayer()){let e=t.getEcommerceValues(i,ee.EMPTY_STRING,[]);this.trackDataForMoa("login",e),this.#e.defaultView.dataLayer.push({event:"login",method:this.#r.getLoginMethod(),page_path:this.#e.defaultView.location.href,env_checkout_type:i.env_quick_checkout==="1"?"quick_checkout":"default_checkout",user_customer_number_hashed:i.user_customer_number??ee.EMPTY_STRING,user_email_hashed:i.user_email??ee.EMPTY_STRING,ecommerce:at({},e)})}}trackDataForMoa(i,e){this.#o.isRunningInMoa()&&this.#o.hasFeature(Gl.APP_TRACKING)&&this.#o.emitEvent(ka.TRACKING,{detail:{command:"logEvent",name:i,params:at(at({},this.#a),e)}})}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})};var rr=(()=>{class t{#e=E(qr);#t=null;trackClick(e){this.#e.isGTMTrackingActive()&&ce.isObject(e)&&!ce.isEqual(this.#t,e)&&(ce.isEmpty(e.ga3ClickTrackingData)||this.#e.performGoogleEventTracking(e.ga3ClickTrackingData,{}),ce.isEmpty(e.clickTrackingData)||this.#e.performGoogleEventTracking(at({event:"click_event"},e.clickTrackingData),e.customClickTrackingData),this.#t=e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var ho=(()=>{class t{#e=E(rr);clickTrackingObject;onClick(){ce.isObject(this.clickTrackingObject)&&this.#e.trackClick({clickTrackingData:this.clickTrackingObject.clickTrackingData,customClickTrackingData:this.clickTrackingObject.customClickTrackingData,ga3ClickTrackingData:this.clickTrackingObject.ga3ClickTrackingData})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evClickTracking",""]],hostBindings:function(n,r){n&1&&Ee("click",function(){return r.onClick()})},inputs:{clickTrackingObject:[0,"evClickTracking","clickTrackingObject"]},standalone:!1})}return t})();var jT=(()=>{class t{document=E(Ot);addVendorListScript(){let e="cmp_vendorlist_script",n="cmpvendorlist",r=this.document.defaultView.cmp_cdid,o=this.document.defaultView.cmp_id;this.document.getElementById(n)&&(this.document.getElementById(e)&&this.document.getElementById(e).remove(),ee.isNotEmpty(r)&&r!=="0"?this.createVendorListTag(e,`cdid=${r}`):o!==void 0&&this.createVendorListTag(e,`id=${o}`))}createVendorListTag(e,n){let r=this.document.createElement("script");r.id=e,r.src=`https://delivery.consentmanager.net/delivery/vendorlist.php?${n}`,this.document.getElementsByTagName("head")[0].appendChild(r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var _M=(()=>{class t{storageService=E(fn);determineVirtualPagename(e){return e.customerId>0?"delivery_existing_customer":this.storageService.get(ut.NEW_CUSTOMER_PASSWORD)!==null?"delivery_new_customer":"delivery_guest_customer"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var p$=function(t){return t.GIVEN_CONSENT="ot_consent_1",t.DENIED_CONSENT="ot_consent_0",t}(p$||{});var lh=(()=>{class t{document=E(Ot);moaService=E(jo);cookieService=E(P2);currentConsentCategories=new ni(null);cmpEvents=["consent","consentcustom","consentapproved","consentrejected"];initialized=!1;initConsentChangeListener(){this.isConsentManagerActive()&&!this.initialized&&!this.moaService.isRunningInMoa()&&(this.initialized=!0,this.cmpEvents.forEach(e=>{this.document.defaultView.__cmp("addEventListener",[e,this.spreadGivenConsent.bind(this),!1])}))}isConsentManagerActive(){return this.moaService.isRunningInMoa()?!0:typeof this.document.defaultView.__cmp=="function"&&this.document.defaultView.cmp_id>0||ee.isNotEmpty(this.document.defaultView.cmp_cdid)}shouldElementBeShown(e){let n=!1;return this.isConsentManagerActive()&&(n=this.isConsentGiven(e)),e==="0"||n}getCurrentConsentCategories(){return this.currentConsentCategories.getValue()}onConsentCategoriesChanged(){return this.currentConsentCategories.asObservable()}spreadGivenConsent(){this.isConsentManagerActive()&&(this.currentConsentCategories.next(this.retrieveConsent()),this.initConsentChangeListener())}isConsentGiven(e){return this.isConsentManagerActive()?this.retrieveConsent().split(",").some(n=>this.addLeadingC(e)===this.addLeadingC(n)):!1}addLeadingC(e){return ee.isNotEmpty(e)&&!e.startsWith("c")?`c${e}`:e}retrieveConsent(){if(this.isConsentManagerActive()){if(this.moaService.isRunningInMoa())return this.cookieService.getCookieValue(p$.GIVEN_CONSENT).orElse("");{let e={};if(typeof this.document.defaultView.__cmp=="function"&&ce.isObject(this.document.defaultView.__cmp("getCMPData"))&&(e=this.document.defaultView.__cmp("getCMPData")),"purposeConsents"in e)return Object.keys(e.purposeConsents).join(",")}}return""}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ga=(()=>{class t{#e=E(Ir,{optional:!0});#t=E(Ot);#n="optimizely-script";getConsentCategory(){return this.#t.defaultView?.optimizelyConsentCategory||null}isActive(){return this.#t.getElementById(this.#n)!==null&&ce.isObject(this.#t.defaultView.optimizely)}sendTracking(){this.isActive()&&this.#t.defaultView.optimizely.push({type:"sendEvents"})}holdTracking(){this.isActive()&&this.#t.defaultView.optimizely.push({type:"holdEvents"})}triggerPageEvent(e){this.#t.defaultView?.optimizely?.push({type:"page",pageName:e})}trackReceiptData(e){let n=this.sumUpPurchasedVoucherPrice(e);Vl.isPositive(e.order.totalAmountInt)&&this.trackData("Ticketorder",{revenue:this.convertAmountToTrackableData(e.order.totalAmountInt)}),Vl.isPositive(e.order.ticketInsuranceFeeInt)&&this.trackData("Ticketversicherung",{revenue:this.convertAmountToTrackableData(e.order.ticketInsuranceFeeInt)}),Vl.isPositive(e.order.giftWrapFeeInt)&&this.trackData("Geschenkverpackung",{revenue:this.convertAmountToTrackableData(e.order.giftWrapFeeInt)}),Vl.isPositive(n)&&this.trackData("Geschenkgutschein",{revenue:this.convertAmountToTrackableData(n)}),Vl.isPositive(e.order.totalCrossSaleAmountInt)&&this.trackData("cross_sell",{revenue:this.convertAmountToTrackableData(e.order.totalCrossSaleAmountInt)}),this.trackData(`ticketorder_mod_${e.deliveryInfo.type}`)}trackData(e,n={}){if(this.isActive()){let r={type:"event",eventName:e,tags:n};this.#t.defaultView.optimizely.push(r)||this.#e?.error(new Error("Optimizely Service")," - trackingData push did not work -> Tracking compromised")}}convertAmountToTrackableData(e){if(e===0)return 0;{let n=e.toString();return parseInt(n.substring(0,n.length-1))}}sumUpPurchasedVoucherPrice(e){let n=0;return ce.hasProperty(e,"order.events")&&e.order.events.filter(r=>r.priceCategory.purchaseVoucherOrderPosition).forEach(r=>{n+=r.totalEventPriceInt}),n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xee=(()=>{class t{consentService=E(lh);optimizelyService=E(Ga);logService=E(bt);subscriptions=[];ngOnInit(){this.subscriptions.push(this.consentService.onConsentCategoriesChanged().pipe(cn(e=>ee.isNotEmpty(e)?e.split(","):[])).subscribe(e=>{if(this.optimizelyService.isActive()){let n=this.optimizelyService.getConsentCategory();e.some(r=>r.indexOf(this.removeLeadingC(n))>-1)?(this.optimizelyService.sendTracking(),this.logService?.trace(new Error("Consent given"),"OptimizelyConsentHandler")):(this.optimizelyService.holdTracking(),this.logService?.trace(new Error("Consent declined"),"OptimizelyConsentHandler"))}else this.logService?.trace(new Error("Optimizely is not active"),"OptimizelyConsentHandler")})),this.consentService.spreadGivenConsent()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}removeLeadingC(e){return ee.isNotEmpty(e)&&e.startsWith("c")?`${e.slice(1)}`:e}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evOptimizelyConsentHandler",""]],standalone:!1})}return t})();var Gr=function(t){return t.SHOPPING_CART="checkout_page_shopping_cart",t.EMPTY_SHOPPING_CART="checkout_page_empty_shopping_cart",t.DELIVERY="checkout_page_delivery",t.PERSONALISATION="checkout_page_personalisation",t.PAYMENT="checkout_page_payment",t.SUMMARY="checkout_page_summary",t.RECEIPT="checkout_page_receipt",t.ERROR="checkout_page_error",t.SEATMAP="checkout_seatmap",t.TICKET_INSURANCE="checkout_ticket_insurance",t.RESERVATION_TIME_UP="checkout_reservation_time_up",t.CREDIT_CARD_MODAL="checkout_credit_card_modal",t.BRAINTREE_INSTALLMENTS_MODAL="checkout_braintree_installments_modal",t.BRAINTREE_CREDIT_CARD_MODAL="checkout_braintree_credit_card_modal",t.FOOTER_LINK_MODAL="checkout_footer_link_modal",t.TERMS_AND_CONDITIONS_MODAL="checkout_terms_and_conditions_modal",t}(Gr||{});var Us=(()=>{class t{pageEventName;triggerOnInit=!0;optimizely=E(Ga);ngOnInit(){this.triggerOnInit&&this.triggerPageEvent()}triggerPageEvent(e=this.pageEventName){this.optimizely.triggerPageEvent(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evOptimizelyPageTrigger",""]],inputs:{pageEventName:[0,"evOptimizelyPageTrigger","pageEventName"],triggerOnInit:"triggerOnInit"},standalone:!1})}return t})();var bl=class t{deliveryPageNameService=E(_M);googleTrackingService=E(qr);storageService=E(fn);static PAGE_NAME_MAPPING=new Map([[Cn.ShoppingCart,"shoppingCart"],[Cn.Delivery,"customer"],[Cn.TicketPersonalisation,"personalisation"]]);trackingPageName=ee.EMPTY_STRING;trackPageChange(i,e,n){this.trackingPageName=this.determineTrackingPageName(e).orElse(e),this.handleGoogleVirtualPageTracking(e,n),this.handleGoogleTagManagerTracking(i,e)}addOptionsToDatalayerBasedOnRoute(i){if(this.googleTrackingService.isGTMTrackingActive()){let e=i.substring(1,i.length).replace("-",""),n=this.storageService.get(ut.DYNAMIC_TRACKING_VARS),r=ee.EMPTY_STRING;if(n!==null)switch(e){case"delivery":r=n.delivery;break;case"payment":r=n.payment;break;case"summary":r=`${n.payment},${n.delivery}`;break;default:break}this.googleTrackingService.addOptionToGooglePageTracking(e,r)}}setDynamicTrackingVarInSessionStorage(i,e){if(this.googleTrackingService.isGTMTrackingActive()){let n=this.storageService.get(ut.DYNAMIC_TRACKING_VARS);n===null&&(n={}),n[i]=e,this.storageService.set(ut.DYNAMIC_TRACKING_VARS,n)}}handleGoogleVirtualPageTracking(i,e){ee.isNotEmpty(i)?i===Cn.Delivery&&this.googleTrackingService.trackVirtualPageView(this.deliveryPageNameService.determineVirtualPagename(e)):this.googleTrackingService.trackVirtualPageView("payment_3d_secure")}handleGoogleTagManagerTracking(i,e){this.googleTrackingService.isGTMTrackingActive()&&ce.isObject(i)&&this.googleTrackingService.performGooglePageTracking(e,i,this.trackingPageName)}determineTrackingPageName(i){return Pa.of(t.PAGE_NAME_MAPPING.get(i))}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})};var Qee=(()=>{class t{document=E(Ot);subscriptions=[];appVersion;pageHolder=E(mo);pageTrackingService=E(bl);ngOnInit(){this.subscriptions.push(this.onPageJsonUpdate()),this.appVersion=sessionStorage.getItem(kv.AV),this.appVersion===null&&En.getQueryParam(this.getCurrentLocation(),kv.AV)&&(this.appVersion=En.getQueryParam(this.getCurrentLocation(),kv.AV),sessionStorage.setItem(kv.AV,this.appVersion))}trackPage(e){this.pageTrackingService.trackPageChange(this.getDataLayer(e),e.page,e.customer)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}getCurrentLocation(){return this.document.defaultView.location.toString()}getDataLayer(e){return this.appVersion!==null&&ee.isNotEmpty(this.appVersion)?Mn(at({},e.dataLayer),{env_app_version:this.appVersion}):e.dataLayer}onPageJsonUpdate(){return this.pageHolder.observePageJson().pipe(Yt(e=>ce.isObject(e)),Ro()).subscribe(this.trackPage.bind(this))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-page-tracking"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var ete=Kk(Zee());var $s=(()=>{class t extends I0{#e=E(Ot);#t=E(Si);append(e,n=null,r=this.#e.body){this.#t.runOutsideAngular(()=>{(0,ete.default)(r,e,n)})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dxe=["trackingContainer"],tte=(()=>{class t{renderer=E(Er);injectorService=E($s);pageJson;element;ngAfterViewInit(){this.renderer.setAttribute(this.element.nativeElement,"style","overflow: hidden;width:0;height:0;"),this.pageJson!==void 0&&ee.isNotEmpty(this.pageJson.tracking)&&this.injectorService.append(this.pageJson.tracking,null,this.element.nativeElement)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-receipt-tracking"]],viewQuery:function(n,r){if(n&1&&Qi(dxe,7,ii),n&2){let o;Ni(o=Ri())&&(r.element=o.first)}},inputs:{pageJson:"pageJson"},standalone:!1,decls:2,vars:0,consts:[["trackingContainer",""]],template:function(n,r){n&1&&D(0,"div",null,0)},encapsulation:2,changeDetection:0})}return t})();var ch=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[rr,bl,_M,qr,jT,Bs],imports:[Vr,pv]})}return t})();var CM=(()=>{class t{#e=E($l);#t=E(bt);object=We();componentConfiguration=We();componentRef=null;containerSubscription=[];constructor(){al(()=>{this.renderComponent(this.componentConfiguration())})}ngOnDestroy(){this.clearSubscriptions()}renderTemplate(e,n){return this.clear(),this.#e.createEmbeddedView(e,n)}renderComponent(e){if(e){this.clear(),this.componentRef=this.#e.createComponent(e.component,{injector:e.injector}),this.componentRef?.onDestroy(()=>{this.clearSubscriptions()});let n=this.componentRef.instance;Array.isArray(e.inputs)&&this.handleInputs(e,n),Array.isArray(e.outputs)&&this.handleOutputs(e,n)}}clear(){this.clearSubscriptions(),this.#e.clear(),this.componentRef=null}clearSubscriptions(){this.containerSubscription.forEach(e=>{e.unsubscribe()}),this.containerSubscription=[]}handleInputs(e,n){e.inputs.forEach(r=>{Object.prototype.hasOwnProperty.call(n,r.inputName)?n[r.inputName]=r.value:this.#t.debug(new Error(`component "${e.component}" does not have input property "${r.inputName}"`),"Container Component")})}handleOutputs(e,n){e.outputs.forEach(r=>{Object.prototype.hasOwnProperty.call(n,r.outputName)?this.containerSubscription.push(n[r.outputName].subscribe(o=>{r.handler(o)})):this.#t.debug(new Error(`component "${e.component}" does not have output eventemitter "${r.outputName}"`),"Container Component")})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-container"]],inputs:{object:[1,"object"],componentConfiguration:[1,"componentConfiguration"]},decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var pxe=["*"];function mxe(t,i){t&1&&Or(0)}var yM=(()=>{class t{#e=E(bt);name=We();templateRef;ngOnInit(){(typeof this.name()!="string"||this.name().length===0)&&this.#e.debug(new Error("template components without a name cannot be related."),"Template Component")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-template"]],viewQuery:function(n,r){if(n&1&&Qi(Dd,7),n&2){let o;Ni(o=Ri())&&(r.templateRef=o.first)}},inputs:{name:[1,"name"]},ngContentSelectors:pxe,decls:1,vars:0,template:function(n,r){n&1&&(lo(),J(0,mxe,1,0,"ng-template"))},encapsulation:2})}return t})();var nte=(()=>{class t{templateQueryList;containerQueryList;getTemplate(e){return this.templateQueryList.toArray().find(n=>n.name()===e)}getContainerForObject(e){return this.containerQueryList.toArray().find(n=>n.object()===e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,contentQueries:function(n,r,o){if(n&1&&p0(o,yM,4),n&2){let s;Ni(s=Ri())&&(r.templateQueryList=s)}},viewQuery:function(n,r){if(n&1&&Qi(CM,5),n&2){let o;Ni(o=Ri())&&(r.containerQueryList=o)}}})}return t})();var ite=(t,i)=>i.id;function hxe(t,i){if(t&1&&(h(0,"div",10),R(1),H(2,"translate"),g()),t&2){let e=y().$implicit;d(),ne(" ",j(2,1,e.description)," ")}}function gxe(t,i){if(t&1){let e=Je();h(0,"li",7),Ee("mouseup",function(){let r=Ne(e).$implicit,o=y();return Re(o.onItemClick(r))})("keydown.enter",function(){let r=Ne(e).$implicit,o=y();return Re(o.onItemClick(r))})("keydown.space",function(){let r=Ne(e).$implicit,o=y();return Re(o.onItemClick(r))}),h(1,"div",8)(2,"h2",9),R(3),H(4,"translate"),g(),J(5,hxe,3,3,"div",10),g()()}if(t&2){let e=i.$implicit,n=y();Tr("active",n.isActive(e)),C("evClickTracking",e.clickTrackingObject),d(3),ne(" ",j(4,5,e.headline)," "),d(2),$(e.hasDescription()?5:-1)}}function vxe(t,i){if(t&1){let e=Je();h(0,"div",11)(1,"div",12)(2,"div",13),Ee("click",function(){let r=Ne(e).$implicit,o=y();return Re(o.onItemClick(r))}),h(3,"div",14)(4,"div",15),D(5,"input",16),H(6,"translate"),D(7,"label",17),g()(),h(8,"div",18)(9,"div",19)(10,"div",20)(11,"h2",21),R(12),H(13,"translate"),g()(),h(14,"div",22),R(15),H(16,"translate"),g()()()()()(),h(17,"div",23)(18,"div",24),D(19,"ev-container",25),g()()}if(t&2){let e=i.$implicit,n=i.$index,r=y();Tr("top-separator",n!==0)("theme-box-shadow",n!==0),d(5),C("checked",r.isActive(e)),Le("aria-label",j(6,10,e.headline)),d(7),ne(" ",j(13,12,e.headline)," "),d(3),ne(" ",j(16,14,e.description)," "),d(2),C("hidden",!r.isActive(e)),d(2),C("object",e)}}var EM=(()=>{class t extends nte{#e=E(bt);#t=E(nr);tabCordionItems=We();state=We({activeItem:null});ngAfterViewInit(){this.state().activeItem!==null&&this.state().activeItem.hasTemplateName()&&(this.renderTemplate(this.state().activeItem),this.#t.detectChanges())}isActive(e){return this.state().activeItem===e}onItemClick(e){this.state().activeItem=e,e.hasTemplateName()&&this.renderTemplate(e)}renderTemplate(e){let n=this.getTemplate(e.templateName);n===void 0?this.#e.debug(new Error(`no template with name '${e.templateName}' was found.`),"Tab-Cordion"):this.getContainerForObject(e).renderTemplate(n.templateRef)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-tab-cordion"]],inputs:{tabCordionItems:[1,"tabCordionItems"],state:[1,"state"]},features:[dt],decls:10,vars:2,consts:[["data-qa","tab-cordion",1,"row"],[1,"col-xs-12","hidden-xs"],[1,"nav-container","fullwidth","no-margin","standard-gray-shadow"],[1,"nav","nav-tabs","nav-justified"],["data-qa","tab-item","tabindex","0","role","option",1,"nav-item","theme-switch-bg","theme-content-bg","theme-text-color",3,"evClickTracking","active"],[1,"col-xs-12"],[3,"additionalClass","noContentPadding"],["data-qa","tab-item","tabindex","0","role","option",1,"nav-item","theme-switch-bg","theme-content-bg","theme-text-color",3,"mouseup","keydown.enter","keydown.space","evClickTracking"],[1,"tab"],["data-qa","headline",1,"no-margin-top","no-margin-bottom","nav-item-title","theme-headline-color"],["data-qa","description",1,"nav-item-description","theme-text-color"],[1,"theme-element-border","hidden-sm","hidden-md","hidden-lg"],["data-qa","accordion-item",1,"accordion-item"],[1,"accordion-title",3,"click"],["data-qa","radio-box",1,"accordion-radio"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","radio",1,"radio-input",3,"checked"],[1,"label","theme-text-color"],[1,"row","accordion-description-box"],[1,"col-xs-12","col-sm-12","accordion-description-text"],[1,"accordion-description-headline"],["data-qa","headline",1,"accordion-description-headline-text"],["data-qa","description",1,"u-color-highlight","theme-text-highlight-color","accordion-description-hint"],[1,"accordion-item","accordion-item-tab-accordion",3,"hidden"],["data-qa","content",1,"accordion-content","accordion-content-tab-accordion","expanded"],[3,"object"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"ul",3),ft(4,gxe,6,7,"li",4,ite),g()()(),h(6,"div",5)(7,"ev-pl-card",6),ft(8,vxe,20,16,null,null,ite),g()()()),n&2&&(d(4),ht(r.tabCordionItems()),d(3),C("additionalClass","card-tab-accordion accordion nav-content nav-content-tab-accordion")("noContentPadding",!0),d(),ht(r.tabCordionItems().slice().reverse()))},dependencies:[oi,Se,ts,$n,CM,ch,ho],encapsulation:2,changeDetection:0})}return t})();var Cxe=["*"];function yxe(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"button",4),Ee("keydown.space",function(){Ne(e);let r=y();return Re(r.toggle())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.toggle())})("click",function(){Ne(e);let r=y();return Re(r.toggle())}),h(2,"span"),R(3),H(4,"translate"),g(),D(5,"span",5),g()()}if(t&2){let e=y();d(),Le("aria-expanded",e.state()),d(2),Ae(j(4,6,e.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_COLLAPSIBLE_HEADLINE)),d(2),Tr("icon-expand-less",e.state())("icon-expand-more",!e.state())}}function Exe(t,i){if(t&1&&D(0,"i",12),t&2){let e=y(2);xa(e.getIconPrefix()),Tr("alternative-icon-style",e.alternativeIconStyle())}}function Txe(t,i){if(t&1&&D(0,"i",13),t&2){let e=y(2);xa(e.getIconSuffix()),Tr("alternative-icon-style",e.alternativeIconStyle())}}function bxe(t,i){if(t&1){let e=Je();h(0,"div",6)(1,"div",3)(2,"p",7)(3,"button",8),Ee("keydown.space",function(r){Ne(e);let o=y();return Re(o.toggle(r))})("keydown.enter",function(r){Ne(e);let o=y();return Re(o.toggle(r))})("click",function(){Ne(e);let r=y();return Re(r.toggle())}),J(4,Exe,1,4,"i",9),h(5,"span",10),R(6),H(7,"translate"),g(),J(8,Txe,1,4,"i",11),g()()()()}if(t&2){let e=y();Tr("main-ticket-card-grid",e.isRelevantShoppingCart()),d(),Io("text-align",e.alignTitle()),Tr("hide-show-button",e.isRelevantShoppingCart())("text-left",e.isRelevantShoppingCart())("normalspace",e.isRelevantShoppingCart()),d(2),Tr("font-size-xs",e.smallTitle()),Le("aria-expanded",e.state()),d(),$(e.iconPrefix()?4:-1),d(2),ne(" ",j(7,16,e.getToggleTitle())," "),d(2),$(e.iconSuffix()?8:-1)}}var go=(()=>{class t extends gM{set expanded(e){this.state.set(e)}showDetailsTitle=We(K.CHECKOUT_APP_SHOW_DETAILS);hideDetailsTitle=We(K.CHECKOUT_APP_HIDE_DETAILS);smallTitle=We(!1);isRelevantShoppingCart=We(!1);iconPrefix=We("icon-expand-more");iconPrefixToggled=We("icon-expand-less");iconSuffix=We(null);iconSuffixToggled=We(null);alignTitle=We("left");customStyle=We(!1);alternativeIconStyle=We(!1);Message=K;getToggleTitle(){return this.state()&&ee.isNotEmpty(this.hideDetailsTitle())?this.hideDetailsTitle():this.showDetailsTitle()}getIconPrefix(){return this.state()&&this.iconPrefixToggled()!==null?this.iconPrefixToggled():this.iconPrefix()}getIconSuffix(){return this.state()&&this.iconSuffixToggled()!==null?this.iconSuffixToggled():this.iconSuffix()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-toggle"]],inputs:{expanded:"expanded",showDetailsTitle:[1,"showDetailsTitle"],hideDetailsTitle:[1,"hideDetailsTitle"],smallTitle:[1,"smallTitle"],isRelevantShoppingCart:[1,"isRelevantShoppingCart"],iconPrefix:[1,"iconPrefix"],iconPrefixToggled:[1,"iconPrefixToggled"],iconSuffix:[1,"iconSuffix"],iconSuffixToggled:[1,"iconSuffixToggled"],alignTitle:[1,"alignTitle"],customStyle:[1,"customStyle"],alternativeIconStyle:[1,"alternativeIconStyle"]},features:[dt],ngContentSelectors:Cxe,decls:5,vars:6,consts:[[1,"col-xs-12","card-section"],["data-qa","toggle",1,"toggle","row",3,"main-ticket-card-grid"],["data-qa","toggle-content",1,"row"],[1,"col-xs-12"],["type","button",1,"btn","p-btn-wide",3,"keydown.space","keydown.enter","click"],[1,"icon","p-icon-arrow"],["data-qa","toggle",1,"toggle","row"],[1,"default-paragraph"],["tabindex","0","data-qa","toggle-link","type","button",1,"btn-link",3,"keydown.space","keydown.enter","click"],[1,"icon","toggle-icon","form-link-icon","before-text","theme-alt-interaction-color","theme-alt-interaction-color-hover","margin-right-xs",3,"class","alternative-icon-style"],["data-qa","link"],[1,"icon","toggle-icon","form-link-icon","after-text","theme-alt-interaction-color","theme-alt-interaction-color-hover","margin-left-xs",3,"class","alternative-icon-style"],[1,"icon","toggle-icon","form-link-icon","before-text","theme-alt-interaction-color","theme-alt-interaction-color-hover","margin-right-xs"],[1,"icon","toggle-icon","form-link-icon","after-text","theme-alt-interaction-color","theme-alt-interaction-color-hover","margin-left-xs"]],template:function(n,r){n&1&&(lo(),J(0,yxe,6,8,"div",0)(1,bxe,9,18,"div",1),h(2,"div",2)(3,"div",3),Or(4),g()()),n&2&&($(r.customStyle()?0:1),d(2),C("@toggleInOut",r.state()),d(),Tr("margin-top-s",r.isRelevantShoppingCart())("margin-bottom-l",r.isRelevantShoppingCart()))},dependencies:[oi,Se,_a],encapsulation:2,data:{animation:[Av.toggleInOut()]}})}return t})();var rte=(()=>{class t extends Gi{static getModalWindowConfiguration(e){let n={component:t};return new Dn(n).enableTitle(K.CHECKOUT_APP_CONNECTION_LOST_TITLE).enablePrimaryButton(K.CHECKOUT_APP_CONNECTION_LOST_BUTTON_RELOAD,e).enableCloseButton(void 0,()=>(e(),!1)).disableHistoryBackHandling().enableDismissable()}Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-connection-lost"]],standalone:!1,features:[dt],decls:3,vars:3,consts:[["data-qa","connection-management-modal-lost",1,"row"],[1,"col-xs-12",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"div",1),H(2,"translate"),g()),n&2&&(d(),C("evCoreHtml",j(2,1,r.Message.CHECKOUT_APP_CONNECTION_LOST_CONTENT)))},dependencies:[xt,Se],encapsulation:2})}return t})();var Fu=function(t){return t.LATENCY_EXCEEDED="latency exceeded",t.CONNECTION_LOST="connection lost",t.RESPONSE_RECEIVED="response received",t.CONNECTION_RETRIES_EXCEEDED="connection retries exceeded",t}(Fu||{});var GT=new mn("CONNECTION_MANAGEMENT_CONFIGURATION");var fA=(()=>{class t{globalRequestIdCounter=0;latencySubscriptionMap=new Map;retryMap=new Map;connectionEventSubject=new qn;configuration=E(GT);logService=E(bt);onConnectionEvent(){return this.connectionEventSubject.asObservable()}intercept(e,n){let r=this.globalRequestIdCounter++;return n.handle(e).pipe(An(o=>{this.onHttpEvent(r,o)}),ix(o=>o.pipe(Wg(s=>this.delayIfNecessary(r,s)))),An({error:o=>{this.onHttpError(r,o)}}))}onHttpError(e,n){this.latencySubscriptionMap.get(e).unsubscribe(),this.latencySubscriptionMap.delete(e),this.connectionEventSubject.next({type:Fu.RESPONSE_RECEIVED,requestId:e})}onHttpEvent(e,n){switch(n.type){case $d.Sent:{let r=yu(this.configuration.latencyLimit).pipe(Za(1)).subscribe(()=>{this.connectionEventSubject.next({type:Fu.LATENCY_EXCEEDED,requestId:e})});this.latencySubscriptionMap.set(e,r);break}case $d.Response:this.latencySubscriptionMap.get(e).unsubscribe(),this.latencySubscriptionMap.delete(e),this.connectionEventSubject.next({type:Fu.RESPONSE_RECEIVED,requestId:e});break;default:this.logService.debug(new Error(`unexpected http event: '${n}`),"Connection Management Interceptor")}}delayIfNecessary(e,n){let r=this.determineNumberOfRetries(e),o,s;return this.isOffline()?r<this.configuration.maxNumberOfRepeats?(this.retryMap.set(e,r+1),o=Fu.CONNECTION_LOST,s=Wc(this.configuration.repeatDelay)):(this.retryMap.set(e,r+1),o=Fu.CONNECTION_RETRIES_EXCEEDED,s=ma(()=>n)):(this.retryMap.delete(e),o=Fu.RESPONSE_RECEIVED,s=ma(()=>n)),this.connectionEventSubject.next({type:o,requestId:e}),s}isOffline(){return navigator.onLine!==void 0?!navigator.onLine:!1}determineNumberOfRetries(e){let n=0;return this.retryMap.has(e)&&(n=this.retryMap.get(e)),n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})}return t})();var ote=(()=>{class t extends Gi{static getModalWindowConfiguration(e){let n={component:t};return new Dn(n).enableTitle(K.CHECKOUT_APP_CONNECTION_RECOVERED_TITLE).enableCloseButton(void 0,()=>(e(),!1)).disableHistoryBackHandling().enableDismissable()}Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-connection-recovered"]],standalone:!1,features:[dt],decls:6,vars:3,consts:[["data-qa","connection-management-modal-recovered",1,"row"],[1,"col-xs-12",3,"evCoreHtml"],[1,"row"],[1,"col-xs-12","align-center"],[1,"icon","icon-checkmark","icon-xxl","highlight-success"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"div",1),H(2,"translate"),g(),h(3,"div",2)(4,"div",3),D(5,"i",4),g()()),n&2&&(d(),C("evCoreHtml",j(2,1,r.Message.CHECKOUT_APP_CONNECTION_RECOVERED_CONTENT)))},dependencies:[xt,Se],encapsulation:2})}return t})();var ate=(()=>{class t extends Gi{static getModalWindowConfiguration(e){let n={component:t,outputs:[{outputName:"onCancel",handler:e}]};return new Dn(n).enableTitle(K.CHECKOUT_APP_CONNECTION_RETRY_TITLE).enableCloseButton(void 0,()=>(e(),!1)).disableHistoryBackHandling().enableDismissable()}onCancel=new Jt;Message=K;onClickCancel(){this.onCancel.emit()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-connection-retry"]],outputs:{onCancel:"onCancel"},standalone:!1,features:[dt],decls:14,vars:8,consts:[["data-qa","connection-management-modal-retry",1,"row"],[1,"col-xs-12",3,"evCoreHtml"],[1,"row"],[1,"col-xs-12"],[2,"height","110px"],[3,"visible","message"],[1,"back-link"],["tabindex","0","role","link",1,"link","float-left",3,"keydown.space","keydown.enter","click"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"div",1),H(2,"translate"),g(),h(3,"div",2)(4,"div",3)(5,"div",4),D(6,"ev-pl-spinner",5),g()()(),h(7,"div",2)(8,"div",3)(9,"div",6)(10,"span",7),Ee("keydown.space",function(){return r.onClickCancel()})("keydown.enter",function(){return r.onClickCancel()})("click",function(){return r.onClickCancel()}),h(11,"span"),R(12),H(13,"translate"),g()()()()()),n&2&&(d(),C("evCoreHtml",j(2,4,r.Message.CHECKOUT_APP_CONNECTION_RETRY_CONTENT)),d(5),C("visible",!0)("message",r.Message.CHECKOUT_APP_CONNECTION_RETRY_SPINNER),d(6),ne(" ",j(13,6,r.Message.CHECKOUT_APP_LINK_CANCEL)," "))},dependencies:[xt,Tc,Se],encapsulation:2})}return t})();var ste=(()=>{class t{id="connection-manager-window";modalActive=new Jt;configuration=E(GT);connectionManagementInterceptor=E(fA);modalWindowService=E(kn);logService=E(bt);window=E(tr);handlerMap=new Map;requestMap=new Map;modalVisible=!1;subscriptions=[];constructor(){this.handlerMap.set(Fu.LATENCY_EXCEEDED,this.onLatencyExceeded.bind(this)),this.handlerMap.set(Fu.CONNECTION_LOST,this.onConnectionLoss.bind(this)),this.handlerMap.set(Fu.RESPONSE_RECEIVED,this.onResponseReceived.bind(this)),this.handlerMap.set(Fu.CONNECTION_RETRIES_EXCEEDED,this.onConnectionRetriesExceeded.bind(this))}ngOnInit(){this.subscriptions.push(this.subscribeConnectionEvents()),this.observeModal()}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}subscribeConnectionEvents(){return this.connectionManagementInterceptor.onConnectionEvent().subscribe(e=>{let n=this.handlerMap.get(e.type);n!==void 0?n(e):this.logService.debug(new Error(`unhandled problem type "${e.type}" for request id "${e.requestId}"`),"Connection-Management Modal")})}onLatencyExceeded(e){this.requestMap.set(e.requestId,e.type),this.showRetryModal()}onConnectionLoss(e){this.requestMap.set(e.requestId,e.type),this.showRetryModal()}onResponseReceived(e){if(this.requestMap.delete(e.requestId)&&this.requestMap.size===0){let n=Wc(this.configuration.dialogCloseDelay).subscribe(()=>{this.hideModal()}),r=()=>{n.unsubscribe(),this.hideModal()},o=ote.getModalWindowConfiguration(r);o.forModalWithId(this.id),this.modalWindowService.showModal(o),this.modalVisible=!0}}onConnectionRetriesExceeded(e){this.requestMap.delete(e.requestId);let n=()=>{this.window.location.reload()},r=rte.getModalWindowConfiguration(n);r.forModalWithId(this.id),this.modalWindowService.showModal(r),this.modalVisible=!0}hideModal(){this.modalWindowService.hideModal(this.id),this.modalVisible=!1}showRetryModal(){if(!this.modalVisible){let e=()=>{this.window.location.reload()},n=ate.getModalWindowConfiguration(e);n.forModalWithId(this.id),this.modalWindowService.showModal(n),this.modalVisible=!0}}observeModal(){this.subscriptions.push(this.modalWindowService.onShowModal(this.id).subscribe(()=>this.modalActive.emit(!0))),this.subscriptions.push(this.modalWindowService.onHideModal(this.id).subscribe(()=>this.modalActive.emit(!1)))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-connection-management-modal"]],inputs:{id:"id"},outputs:{modalActive:"modalActive"},standalone:!1,features:[Hl([kn])],decls:1,vars:1,consts:[[3,"id"]],template:function(n,r){n&1&&D(0,"ev-forms-modal-window",0),n&2&&C("id",r.id)},dependencies:[bv],encapsulation:2})}return t})();var Sxe={latencyLimit:1e4,repeatDelay:5e3,maxNumberOfRepeats:12,dialogCloseDelay:4e3},lte={provide:GT,useValue:Sxe};var cte=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[lte,fA,{provide:wm,useExisting:fA,multi:!0},Hd(Vd())],imports:[Pp,_a,ts,oi.forChild({loader:{provide:cl,useExisting:ti},compiler:{provide:Xc,useExisting:CT},useDefaultLang:!0}),Po.forRoot({htmlInjector:$s})]})}return t})();var dte=(()=>{class t{parse(e){return e}format(e){return e}isAndroid(){let e;return ee.isNotEmpty(navigator.userAgent)?e=navigator.userAgent:e=navigator.vendor,/android/i.test(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})();var f1=class extends dte{spacer;steps;constructor(i=" ",e=4){super(),this.spacer=i,this.steps=e}parse(i){let e=`(.{${this.steps}})`,n=new RegExp(e,"g");return this.isAndroid()?i:i.replace(/\s+/g,ee.EMPTY_STRING).replace(n,`$1${this.spacer}`).trim().toUpperCase()}format(i){return i.replace(/\s+/g,ee.EMPTY_STRING).toUpperCase()}};var TM=(()=>{class t{evFormInputFormatter;inputElement=E(ii).nativeElement;onTouched=null;onModelChange=null;previousValue="";registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onModelChange=e}onControlInput(){let e=this.inputElement.value,n=this.inputElement.selectionStart,r=!1,o=!1;this.previousValue.length>e.length&&(r=!0),e.length>this.previousValue.length&&n!==e.length&&(o=!0),this.inputElement.value=this.evFormInputFormatter.parse(e),this.onModelChange!==void 0&&this.onModelChange(this.evFormInputFormatter.format(e)),this.previousValue=this.inputElement.value,(r||o)&&this.inputElement.setSelectionRange(n,n)}onControlBlur(){this.onTouched!==void 0&&this.onTouched()}writeValue(e){typeof e=="string"&&(this.inputElement.value=this.evFormInputFormatter.parse(e))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["input","evFormInputFormatter",""]],hostBindings:function(n,r){n&1&&Ee("input",function(){return r.onControlInput()})("blur",function(){return r.onControlBlur()})},inputs:{evFormInputFormatter:"evFormInputFormatter"},standalone:!1,features:[Hl([{provide:Bm,useExisting:Od(()=>t),multi:!0}])]})}return t})();var hA=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({})}return t})();var xxe=t=>[t];function Axe(t,i){if(t&1&&D(0,"ev-gdpr-hint",11),t&2){let e=y();C("additionalHints",et(2,xxe,e.Message.GLOBAL_HINTS_GDPR_PASSWORD))("cssClasses","margin-top-l")}}var h1=(()=>{class t{#e=E(fo);#t=E(bt);#n=E(Iv);#i=E(rd);#r=E(rr);fieldName="passwordForgotten";Autocomplete=gr;Message=K;form=new vn("passForgotten");forgotPasswordExpanded=!1;alignRight=!0;prefillWithField;showGdpr=!0;onSuccess=new Jt;onError=new Jt;ngOnInit(){this.form.set(new Gt({fieldName:this.fieldName,type:Mt.Email,mandatory:!0,value:""},[new ir(K.CHECKOUT_APP_CUSTOMER_FORGOT_PW_EMAIL_EMPTY),new zR(K.CHECKOUT_APP_CUSTOMER_EMAIL_INVALID),...ea.getValidatorsByRule(this.#i.getValidationRule("CustomerJson.emailAddress"))])).rules.add(new P0(this.#n,this.fieldName,!0,null,K.CHECKOUT_APP_CUSTOMER_FORGOT_PW_EMAIL_INVALID))}onToggleForgotPassword(e){let n=e?"expanded":"collapsed";this.#r.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"login",navigation_element_selected:`forgot_password_toggle_${n}`}}),e?(this.resetParentNotifications(),ce.isObject(this.prefillWithField)&&this.prefillCustomerEmail(),this.forgotPasswordExpanded=!0):this.forgotPasswordExpanded=!1}forgotPassword(){if(this.#r.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"login",navigation_element_selected:"forgot_password"}}),this.form.control.valid){let e=this.form.getField(this.fieldName).control.value;this.#e.resetPassword(e).then(n=>{this.forgotPasswordExpanded=!1,this.onSuccess.emit(n.message)}).catch(n=>{this.#t.trace(new Error("Reset password failed"),"Password Forgotten"),this.onError.emit(n.message)})}}getTabindex(){return this.forgotPasswordExpanded?0:-1}prefillCustomerEmail(){this.form.getField(this.fieldName).control.value===""&&this.prefillWithField.control.valid&&this.form.getField(this.fieldName).control.setValue(this.prefillWithField.control.value)}resetParentNotifications(){this.onError.emit(""),this.onSuccess.emit("")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-password-forgotten"]],inputs:{alignRight:"alignRight",prefillWithField:"prefillWithField",showGdpr:"showGdpr"},outputs:{onSuccess:"onSuccess",onError:"onError"},standalone:!1,decls:16,vars:24,consts:[["data-qa","password-forgotten-form"],[3,"onToggle","showDetailsTitle","hideDetailsTitle","alignTitle","smallTitle","expanded"],["data-qa","hint",1,"card-paragraph","theme-text-light-color"],[1,"form","validation",3,"formGroup"],["data-qa","form-wrapper-email"],["field-label",""],[3,"buttonAddonAction","tabIndexToUse"],["type","email","data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border",3,"evOnEnter","name","formControlName","tabIndex"],["field-error",""],[3,"field","preventMultipleError"],["field-description",""],[3,"additionalHints","cssClasses"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"ev-toggle",1),Ee("onToggle",function(s){return r.onToggleForgotPassword(s)}),h(2,"p",2),R(3),H(4,"translate"),g(),h(5,"form",3)(6,"ev-forms-field",4)(7,"label",5),R(8),H(9,"translate"),g(),h(10,"ev-forms-field-button",6),Ee("buttonAddonAction",function(){return r.forgotPassword()}),h(11,"input",7),Ee("evOnEnter",function(){return r.forgotPassword()}),g()(),h(12,"div",8),D(13,"ev-forms-field-error",9),g(),h(14,"div",10),J(15,Axe,1,4,"ev-gdpr-hint",11),g()()()()()),n&2&&(d(),C("showDetailsTitle",r.Message.CHECKOUT_APP_FORGOT_PASSWORD)("hideDetailsTitle",r.Message.CHECKOUT_APP_FORGOT_PASSWORD)("alignTitle",r.alignRight?"right":"left")("smallTitle",!0)("expanded",r.forgotPasswordExpanded),Le("data-qa","password-forgotten-toggle"),d(2),Ae(j(4,20,r.Message.GLOBAL_FORGOT_PASSWORD_HINT)),d(2),C("formGroup",r.form.control),d(2),Le("for",r.form.getField(r.fieldName).id),d(),ne(" ",j(9,22,r.Message.GLOBAL_CUSTOMER_EMAIL_CUSTOMER)," "),d(2),C("tabIndexToUse",r.getTabindex()),d(),Xt("name",r.fieldName),Xt("formControlName",r.fieldName),C("tabIndex",r.getTabindex()),Le("autocomplete",r.Autocomplete.EMAIL)("x-autocompletetype",r.Autocomplete.EMAIL)("id",r.form.getField(r.fieldName).id),d(2),C("field",r.form.getField(r.fieldName))("preventMultipleError",!0),d(2),$(r.showGdpr?15:-1))},dependencies:[xi,jr,Rr,Pn,wn,_o,Ai,mr,tM,Fp,go,ja,Se],encapsulation:2})}return t})();var bM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({imports:[Vr,Pp,oi.forRoot({loader:{provide:cl,useExisting:ti},compiler:{provide:Xc,useExisting:CT},useDefaultLang:!0}),Po.forRoot({htmlInjector:$s}),Kl,_a,go,ja]})}return t})();var g1=class t{pageHolder=E(mo);storageService=E(fn);static PAGE_TYPES=[Cn.Delivery,Cn.TicketPersonalisation,Cn.Payment,Cn.Summary];constructor(){this.initPageHolderSubscription()}initPageHolderSubscription(){this.pageHolder.observePageJson(t.PAGE_TYPES).subscribe(i=>{i.pageWasSkipped&&this.storageService.set(ut.PAGE_WAS_SKIPPED,!0)})}wasPageSkipped(){return this.storageService.get(ut.PAGE_WAS_SKIPPED,!1)}resetPageWasSkipped(){this.storageService.set(ut.PAGE_WAS_SKIPPED,!1)}static \u0275fac=function(e){return new(e||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac})};function Pxe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y(2);ne(" ",j(1,1,e.Message.CHECKOUT_APP_SUMMARY_PREFILLED_SETTINGS_HINT)," ")}}function kxe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1),D(2,"i",2),g(),h(3,"div",3),J(4,Pxe,2,3),R(5),H(6,"translate"),g()()),t&2){let e=y();d(4),$(e.showAdditionalHint()?4:-1),d(),ne(" ",j(6,2,e.Message.CHECKOUT_APP_SUMMARY_PAGE_WAS_SKIPPED_HINT)," ")}}var pte=(()=>{class t{Message=K;quickCheckoutModeActive=We.required();#e=E(g1);#t=E(fn);showHint=sn(()=>this.#e.wasPageSkipped());showAdditionalHint=sn(()=>this.quickCheckoutModeActive()&&!this.#t.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1));static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-page-was-skipped-hint"]],inputs:{quickCheckoutModeActive:[1,"quickCheckoutModeActive"]},standalone:!1,decls:1,vars:1,consts:[["data-qa","page-skipped",1,"alert","alert-with-stripe","alert-with-stripe-info","theme-element-radius"],[1,"alert-stripe"],[1,"icon","icon-info"],["data-qa","hint",1,"alert-text"]],template:function(n,r){n&1&&J(0,kxe,7,4,"div",0),n&2&&$(r.showHint()?0:-1)},dependencies:[Se],encapsulation:2})}return t})();var mte=(()=>{class t{pageWasSkippedService=E(g1);static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[g1],imports:[oi,Vr]})}return t})();var IM=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[Hd(Vd())],imports:[Vr]})}return t})();var fte=(()=>{class t extends Sp{appName;defaultErrorMessage;defaultErrorHeadline;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,features:[dt]})}return t})();var hte=(()=>{class t{element=E(ii);renderer=E(Er);set modalOpen(e){this.setStyles(e)}wrapperClasses=["hide-in-print"];accessibilityBarSelector="#a11yBar";accessibilityBarStyles=[{attribute:"width",value:"100%"},{attribute:"z-index",value:1},{attribute:"position",value:"fixed"},{attribute:"top",value:0}];setStyles(e){let n=document.querySelector(this.accessibilityBarSelector);this.wrapperClasses.forEach(r=>{e?this.renderer.addClass(this.element.nativeElement,r):this.element.nativeElement.classList.contains(r)&&this.renderer.removeClass(this.element.nativeElement,r)}),n!==null&&(this.accessibilityBarStyles.forEach(r=>{e?this.renderer.setStyle(n,r.attribute,r.value):this.renderer.removeStyle(n,r.attribute)}),e?this.renderer.setStyle(this.element.nativeElement,"margin-top",`${n.clientHeight}px`):this.renderer.removeStyle(this.element.nativeElement,"margin-top"))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evCheckoutPositionFixed",""]],inputs:{modalOpen:[0,"evCheckoutPositionFixed","modalOpen"]},standalone:!1})}return t})();var is=function(t){return t.DeliveryMethod="deliveryMethod",t.DeliveryMethodMemoryTickets="deliveryMethodMemoryTickets",t.DeliveryAddress="deliveryAddress",t.Contact="contact",t.Loyalty="loyalty",t}(is||{});var dh=(()=>{class t{#e="FIRST_PAYMENT_VIEW_OR_PAYMENT_CHANGE_";#t=E(yi);#n=E(tr);setPaymentFirstViewOrChanged(e){let n=this.#t.getOrder();n&&n.orderNumber&&this.#n.sessionStorage.setItem(this.#e+n.orderNumber,e)}isPaymentFirstViewOrChanged(){let e=this.#t.getOrder(),n="";return e&&e.orderNumber&&(n=this.#n.sessionStorage.getItem(this.#e+e.orderNumber)),!n||n==="true"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Wt=function(t){return t[t.Debit=2]="Debit",t[t.External=3]="External",t[t.Prepayment=4]="Prepayment",t[t.Voucher=5]="Voucher",t[t.PrepaymentReservation=10]="PrepaymentReservation",t[t.ESR=12]="ESR",t[t.CashByCourier=13]="CashByCourier",t[t.Klarna=14]="Klarna",t[t.PaymentModule=15]="PaymentModule",t}(Wt||{});var v1=function(t){return t[t.Residual=1]="Residual",t[t.Percental=2]="Percental",t[t.ValuePerTicket=3]="ValuePerTicket",t[t.PercentalPerTicket=4]="PercentalPerTicket",t[t.DeliveryCharges=5]="DeliveryCharges",t}(v1||{});var SM=class{order;affiliate;tempPaymentFee;hideDeliveryCosts;storageService;paymentDisplayService;get ticketInsuranceFee(){return this.order.insuranceFee}get ticketInsuranceFeeInt(){return this.order.ticketInsuranceFeeInt}get giftWrapFeeInt(){return this.order.giftWrapFeeInt}get deliveryFee(){return this.hasDeliveryFee()?this.order.deliveryFee:K.CHECKOUT_APP_FREE_OF_CHARGE}get deliveryFeeMemoryTickets(){return this.hasDeliveryFeeMemoryTickets()?this.order.deliveryFeeMemoryTickets:K.CHECKOUT_APP_FREE_OF_CHARGE}get orderFee(){return this.order.orderFee}get serviceFee(){return this.order.serviceFee}get serviceFeeInt(){return this.order.serviceFeeInt}get paymentFeeInt(){return this.tempPaymentFee!==null?this.tempPaymentFee:this.order.paymentFeeInt}get paymentFeeFormat(){return this.paymentFeeInt>0?new po().append(new iA(this.paymentFeeInt)):null}get memoryTicketFee(){return this.order.memoryTicketFee.fee}get memoryTicketCount(){return this.order.memoryTicketFee.count}get memoryTicketName(){return this.order.memoryTicketFee.name}get interestFee(){return this.order.interestFeeAmount}get donationAmount(){return this.order.donationAmount}get voucherAmount(){return this.isDeliveryFeeVisible()?`-${this.order.voucherAmount}`:this.hideAmountForSingleDeliveryVoucher()?K.CHECKOUT_APP_VOUCHER_REDEEMED:`-${this.order.voucherAmountWithoutDeliveryFee}`}get voucherAmountLabel(){return Array.isArray(this.order.voucher)&&this.order.voucher.length===1?K.CHECKOUT_APP_VOUCHER:K.CHECKOUT_APP_VOUCHERS}get vouchers(){return this.hasVouchers()?this.order.voucher:null}get voucherErrors(){return this.hasVoucherErrors()?this.order.voucherErrors:null}get premiumFeeMessages(){return this.order.premiumFeeMessages}get totalSumFormat(){return new po().append(new iA(this.totalAmountInt))}get totalSumLabel(){return this.isDeliveryFeeVisible()?K.CHECKOUT_APP_TOTAL_WITHOUT_VAT:K.CHECKOUT_APP_SUB_TOTAL}get totalAmountInt(){let i;return this.isPaymentFeeVisible()?this.isDeliveryFeeVisible()?this.tempPaymentFee!==null?i=this.order.orderPayAmountWithoutPaymentFeeInt+this.tempPaymentFee:i=this.order.orderPayAmountInt:i=this.order.orderPayAmountWithoutDeliveryFeeInt:this.isDeliveryFeeVisible()?i=this.order.orderPayAmountWithoutPaymentFeeInt:i=this.order.orderPayAmountWithoutDeliveryPaymentFeeInt,i}get taxesHintFormat(){return this.isDeliveryFeeVisible()?K.CHECKOUT_APP_VAT:K.CHECKOUT_APP_VAT_PLUS_DELIVERY_COST}constructor(i,e,n=null,r=!1,o,s){this.order=i,this.affiliate=e,this.tempPaymentFee=n,this.hideDeliveryCosts=r,this.storageService=o,this.paymentDisplayService=s}hasFeeBesidesDeliveryOrOrderFee(){return this.hasMemoryTicketFee()||this.hasServiceFee()||this.hasPaymentFee()||this.hasInterestFee()||this.orderBasedTicketInsuranceActive()||this.hasDonation()}hasMemoryTicketFee(){return this.order.memoryTicketFee?.count>0}hasEventMemoryTicketFee(){return this.order.events.some(i=>i.priceCategory?.memoryTicketFee)}hasOrderFee(){return this.order.orderFee!==void 0}hasServiceFee(){return this.order.serviceFee!==void 0}getServiceFeeLabel(){return this.hasRepersonalizationPosition()?K.CHECKOUT_APP_REPERSONALISATION_FEE:K.CHECKOUT_APP_SERVICE_FEE}hasRepersonalizationPosition(){return this.order.events.some(i=>i.priceCategory.bookingType===od.REPERSONALIZATION)}hasPremiumFeeMessages(){return this.order.premiumFeeMessages!==void 0&&Array.isArray(this.order.premiumFeeMessages)}hasDeliveryFee(){return this.order.deliveryFeeInt>0&&ee.isNotEmpty(this.order.deliveryFee)}hasDeliveryFeeMemoryTickets(){return this.isDeliveryFeeVisible()&&this.order.deliveryFeeIntMemoryTickets>0&&ee.isNotEmpty(this.order.deliveryFeeMemoryTickets)}isDeliveryFeeVisible(){return this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)||!this.hideDeliveryCosts}isPaymentFeeVisible(){return this.hasPaymentFee()&&(!this.paymentDisplayService.isPaymentFirstViewOrChanged()||this.order.paymentMethodType===Wt.Voucher)}isTemporaryDeliveryCostsHintVisible(){return!this.hideDeliveryCosts&&!this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)}hasPaymentFee(){return this.tempPaymentFee!==null?this.tempPaymentFee>0:this.order.paymentFeeInt>0}hasInterestFee(){return ee.isNotEmpty(this.order.interestFeeAmount)}hasDonation(){return ee.isNotEmpty(this.order.donationAmount)}hasOrderBasedTicketInsurance(){return ee.isNotEmpty(this.order.insuranceFee)}orderBasedTicketInsuranceActive(){return this.hasOrderBasedTicketInsurance()&&this.ticketInsuranceFeeInt>0}hasVouchers(){return Dt.isNotEmpty(this.order.voucher)}hasVoucherErrors(){return Dt.isNotEmpty(this.order.voucherErrors)}getVoucherErrorsFor(i){return this.hasVoucherErrors()&&Dt.isNotEmpty(i)?this.order.voucherErrors.filter(e=>i.includes(e.errorCode)):null}hasVoucherAmount(){return this.order.voucherAmount!==void 0&&this.order.voucherAmountInt>0}hideAmountForSingleDeliveryVoucher(){if(this.order!==void 0)return Array.isArray(this.order.voucher)&&this.order.voucher.length===1&&this.isDeliveryChargesVoucher(this.order.voucher[0])&&!this.isDeliveryFeeVisible()}isDeliveryChargesVoucher(i){return i.voucherMode===v1.DeliveryCharges}hasReachedTotalAmount(){return this.isDeliveryFeeVisible()?this.order.orderPayAmountInt<=0:this.order.orderPayAmountWithoutDeliveryPaymentFeeInt<=0}isVoucherAmountVisible(){return this.hasVouchers()?this.vouchers.length>1:!1}getVoucherValue(i){return this.isDeliveryFeeVisible()?`-${i.value}`:i.voucherMode===v1.DeliveryCharges?K.CHECKOUT_APP_VOUCHER_REDEEMED:`-${i.valueWithoutDeliveryFee}`}getRemainingValue(i){return this.isDeliveryFeeVisible()?i.remainingValue:i.voucherMode===v1.DeliveryCharges?ee.EMPTY_STRING:i.remainingValueWithoutDeliveryFee}isVoucherAlreadyRedeemed(i){return this.hasVouchers()?this.vouchers.some(e=>e.voucherNumber===i):!1}multipleVoucherRedemptionAllowed(){return this.affiliate.multipleVoucherRedemption===1}};var uh=(()=>{class t{#e=E(fn);#t=E(dh);#n=new ni(null);#i;#r;#o=!1;get getCurrent(){return this.#n.value}onPriceUpdate(){return this.#n.asObservable()}toggleDeliveryCostsDisplay(e){this.#o=e}update(e,n,r=null){this.#i=e,this.#r=n,this.#n.next(new SM(e,n,r,this.#o,this.#e,this.#t))}updatePaymentFee(e){this.update(this.#i,this.#r,e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Il=function(t){return t[t.FINISHED=0]="FINISHED",t[t.SENT_TO_BACKGROUND=1]="SENT_TO_BACKGROUND",t[t.NO_RESERVATION_TIME=2]="NO_RESERVATION_TIME",t[t.RUNNING=3]="RUNNING",t}(Il||{});function xM(t){return t.state===Il.FINISHED||t.state===Il.NO_RESERVATION_TIME}var Ka=(()=>{class t{#e=E(_i);#t=E(bt);#n=E(Si);#i=1e3;#r=new qn;#o=nn(0);#a=nn(Il.RUNNING);#s=I4(Wc(0,this.#i).pipe(An(()=>{this.#o.set(this.getRemainingTime())}),cn(()=>({remaining:this.#o(),state:this.#a()})),e0(this.#r.pipe(Yt(e=>e===Il.FINISHED||e===Il.NO_RESERVATION_TIME),tx(this.#i)))));constructor(){al(()=>{this.#o(),this.#o()<=500&&this.#a.update(n=>n===Il.RUNNING?Il.FINISHED:n)}),al(()=>{this.#a(),this.#r.next(this.#a())})}startTimer(){this.getRemainingTime()>0?(this.#t.trace(new Error("start timer"),"Reservation Timer"),this.#o.set(this.getRemainingTime()),this.#a.set(Il.RUNNING),this.#n.runOutsideAngular(()=>{this.#s.connect()})):this.#a.set(Il.NO_RESERVATION_TIME)}onCountdown(){return this.#s}sendToBackground(){this.#t.trace(new Error("timer was canceled"),"Reservation Timer"),this.#a.set(Il.SENT_TO_BACKGROUND)}stopTimer(){this.#t.trace(new Error("stop timer"),"Reservation Timer"),this.#a.set(Il.FINISHED)}disposeTimer(){this.#t.trace(new Error("timer disposed"),"Reservation Timer"),this.#a.set(Il.NO_RESERVATION_TIME)}getRemainingTime(){return this.getReservationExpirationTime()-Date.now()}getReservationExpirationTime(){let e=Number(this.#e.get(qi.ReservationExpirationTime));return isNaN(e)&&(e=Date.now()),e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Oxe=(t,i)=>({"header-image-link":t,"u-cursor-pointer":i}),Nxe=t=>({"header-image-element":t});function Rxe(t,i){if(t&1){let e=Je();h(0,"a",1),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickHeader())})("keydown.space",function(){Ne(e);let r=y();return Re(r.onClickHeader())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.onClickHeader())}),D(1,"img",2),H(2,"translate"),g()}if(t&2){let e=y();C("tabIndex",e.tabIndexToUse)("ngClass",Un(10,Oxe,e.isPartnerImage,e.linkUrl)),d(),Xt("alt",j(2,8,e.Message.GLOBAL_SEO_TITLE)),C("src",e.imageUrl,un)("ngClass",et(13,Nxe,e.isPartnerImage)),Le("height",e.imageDimensions.height)("width",e.imageDimensions.width)("data-qa",e.imageDataQa)}}var AM=(()=>{class t{Message=K;imageDimensions={height:"auto",width:"auto"};imageUrl;isPartnerImage=!1;imageDataQa="image";linkTarget=T0.SELF;linkUrl;tabIndexToUse=0;ngOnInit(){ee.isEmpty(this.linkUrl)&&(this.tabIndexToUse=-1)}onClickHeader(){if(!ee.isEmpty(this.linkUrl))switch(this.linkTarget){case T0.BLANK:En.openPopup(this.linkUrl);break;case T0.PARENT:case T0.TOP:case T0.SELF:default:En.redirectFromSelfTo(this.linkUrl)}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-header-image"]],inputs:{imageDimensions:"imageDimensions",imageUrl:"imageUrl",isPartnerImage:"isPartnerImage",imageDataQa:"imageDataQa",linkTarget:"linkTarget",linkUrl:"linkUrl"},decls:1,vars:1,consts:[["data-qa","link",3,"tabIndex","ngClass"],["data-qa","link",3,"click","keydown.space","keydown.enter","tabIndex","ngClass"],[3,"src","ngClass","alt"]],template:function(n,r){n&1&&J(0,Rxe,3,15,"a",0),n&2&&$(r.imageUrl?0:-1)},dependencies:[At,oi,Se],encapsulation:2})}return t})();var Mxe=(t,i)=>({"u-no-margin-bottom-on-tablet":t,"margin-bottom-xxl":i}),Fxe=(t,i,e)=>({"col-xs-6":t,"col-xs-12":i,"header-logo":e});function Lxe(t,i){if(t&1&&(h(0,"div",3)(1,"div",7),D(2,"ev-header-image",8),g()()),t&2){let e=y();d(2),C("imageDimensions",e.headerImageSize)("imageUrl",e.logoImageUrl)("linkUrl",e.hasLogoLinks?e.logoLinkUrl:void 0)}}function Bxe(t,i){if(t&1&&D(0,"ev-header-image",5),t&2){let e=y();C("imageDimensions",e.headerImageSize)("imageUrl",e.partnerLogoImageUrl)("linkUrl",e.hasLogoLinks?e.partnerLogoLinkUrl:void 0)("linkTarget",e.partnerLogoLinkTarget)("imageDataQa","partnerLogoImage")}}function Uxe(t,i){if(t&1&&(h(0,"div",6),D(1,"i",9),h(2,"span",10),R(3),H(4,"translate"),g()()),t&2){let e=y();d(3),ne(" ",j(4,1,e.Message.CHECKOUT_APP_SAVE_ORDER)," ")}}var Hp=(()=>{class t{Message=K;headerImageSize={height:"50",width:"auto"};partnerLogoLinkTarget=T0.BLANK;hasLogoLinks=!1;isShoppingCartPage=!1;logoLinkUrl;logoImageUrl;partnerLogoLinkUrl;partnerLogoImageUrl;#e=E(Tn);#t=E(_i);#n=E(ai);#i=[];ngOnInit(){this.#i.push(this.observeAffiliate())}ngOnDestroy(){this.#i.forEach(e=>{e.unsubscribe()})}observeAffiliate(){return this.#e.observeAffiliate().pipe(Yt(e=>e!==null),Ro()).subscribe(e=>{this.#n.isSportsShop(e)?this.logoLinkUrl=this.getHomePage(e.code):this.logoLinkUrl=this.getPageReferer(e.ticketsPath,e.code),this.logoImageUrl=e.headerLogoPath,this.partnerLogoImageUrl=e.partnerLogoPath,this.partnerLogoLinkUrl=e.partnerLogoLink})}getHomePage(e){return`/home?affiliate=${e}`}getPageReferer(e,n){let r=this.#t.get(qi.ReferrerCheckout);return r===void 0&&(r=`${location.protocol}://${location.host}${e}?affiliate=${n}`),r}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-simple-header"]],inputs:{hasLogoLinks:"hasLogoLinks",isShoppingCartPage:"isShoppingCartPage"},decls:7,vars:12,consts:[["data-qa","header",1,"header","notPrinted",3,"ngClass"],[1,"container"],[1,"row"],[1,"col-xs-6"],[3,"ngClass"],[1,"float-right",3,"imageDimensions","imageUrl","linkUrl","linkTarget","imageDataQa"],[1,"header-ssl"],["data-qa","logo",1,"header-logo"],[3,"imageDimensions","imageUrl","linkUrl"],["data-qa","security-hint-logo",1,"icon","icon-lock","header-ssl-icon","theme-head-icon-color"],["data-qa","security-hint",1,"header-ssl-text","theme-head-text-color"]],template:function(n,r){n&1&&(h(0,"header",0)(1,"div",1)(2,"div",2),J(3,Lxe,3,3,"div",3),h(4,"div",4),J(5,Bxe,1,5,"ev-header-image",5)(6,Uxe,5,3,"div",6),g()()()()),n&2&&(C("ngClass",Un(5,Mxe,r.isShoppingCartPage,!r.isShoppingCartPage)),d(3),$(r.logoImageUrl?3:-1),d(),C("ngClass",Ms(8,Fxe,r.logoImageUrl,!r.logoImageUrl,r.partnerLogoImageUrl)),d(),$(r.partnerLogoImageUrl?5:-1),d(),$(r.partnerLogoImageUrl?-1:6))},dependencies:[At,oi,Se,AM],encapsulation:2})}return t})();var gte=(()=>{class t{#e=E(fo);#t=E(bt);#n=E(mo);#i=E(p1);#r=!1;logout(){this.#r||(this.#r=!0,$a(this.#i.logout()).then(this.handleLogoutSuccess.bind(this)).catch(this.handleLogoutError.bind(this)).finally(()=>this.#r=!1))}handleLogoutSuccess(e){this.#e.updateCustomerData(null),this.#e.updateLogoutRequestStatus(Up.Success),this.#n.setPageJson(e??null)}handleLogoutError(e){this.#t.error(new Error(e.message||"Logout request failed"),"Logout"),this.#e.updateLogoutRequestStatus(Up.Failure)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vte=(()=>{class t{scrollService=E(u1);onScrollPositionChanged=new Jt;onClick(e){(e===void 0||e.key===Fr.SPACE||e.key===Fr.ENTER)&&setTimeout(()=>this.scrollService.scrollToTop())}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evScrollTop",""]],hostBindings:function(n,r){n&1&&Ee("click",function(){return r.onClick()})("keyup",function(s){return r.onClick(s)})},outputs:{onScrollPositionChanged:"onScrollPositionChanged"}})}return t})();var _te=(()=>{class t{Message=K;document=E(Ot);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-back-to-top"]],decls:7,vars:3,consts:[[1,"back-to-top","checkout-card-container"],[1,"container","back-to-top-content","margin-top-xxl"],["evScrollTop","","tabindex","0","role","button","data-qa","to-top-link",1,"link"],[1,"icon","icon-arrow-up","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"span",2),D(3,"i",3),h(4,"span"),R(5),H(6,"translate"),g()()()()),n&2&&(d(5),Ae(j(6,1,r.Message.COMPONENT_FOOTER_TO_TOP)))},dependencies:[oi,Se,vte],encapsulation:2})}return t})();var Cte=(()=>{class t{shopCustomizationResource=E(c$);getShopCustomizationFooterLinkContent(e){return this.shopCustomizationResource.getContent(e).pipe(cn(n=>n.text))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var yte=(()=>{class t{#e=E(kn);#t=E(Cte);#n=E(bt);#i=E(jT);#r=E(Ga);#o=E(ai);affiliate=We.required();footerLink=We.required();onClick(e){e&&e.preventDefault();let n=this.footerLink().data.length>0&&this.footerLink().data.startsWith("/");switch(this.footerLink().subtype){case KC.InternalPopup:case KC.ModalWindow:this.openModalWindow(),this.#r.triggerPageEvent(Gr.FOOTER_LINK_MODAL);break;case KC.ExternalBlank:En.openPopup(this.footerLink().data);break;case KC.InternalBlank:En.openPopup(this.getLinkUrl(),n);break;case KC.InternalSelf:if(this.footerLink().data.length===0){let r=En.buildAbsolutePath(this.getLinkUrl());En.redirectTo(n,r)}else En.redirectFromSelfTo(this.getLinkUrl(),n);break;default:this.#n.debug(new Error(`Unknown type ${this.footerLink().subtype}`),"Footer Link")}}openModalWindow(){let e=!this.#o.isSportsShop(this.affiliate()),n=new Dn(co.buildAsyncHtml(this.#t.getShopCustomizationFooterLinkContent(this.footerLink().link).pipe(gp(()=>{setTimeout(this.#i.addVendorListScript.bind(this.#i))})))).enableCloseButton(e?K.GLOBAL_BUTTON_CLOSE:null).enablePrintButton().setWidth(er.MEDIUM).enableDismissable();this.#e.showModal(n)}getLinkUrl(){let e=`?affiliate=${this.affiliate()?.code??""}`;if(this.footerLink().data.length>0){if(this.footerLink().data.startsWith("/"))return`${En.buildAbsolutePath(this.footerLink().data)}${e}`;if(e+=`&${this.footerLink().data}`,this.doQueryParamsLeadOutsideCO(this.footerLink()))return En.buildAbsolutePath(e)}return e}doQueryParamsLeadOutsideCO(e){let n=/doc=(?!cart).*\/.*/;return e.data.includes("doc=")&&n.exec(e.data)!==null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-footer-link"]],inputs:{affiliate:[1,"affiliate"],footerLink:[1,"footerLink"]},decls:2,vars:2,consts:[["tabindex","0","data-qa","footer-link",1,"theme-link-color","theme-link-color-hover",3,"click","keydown.space","keydown.enter","title"]],template:function(n,r){n&1&&(h(0,"a",0),Ee("click",function(){return r.onClick()})("keydown.space",function(){return r.onClick()})("keydown.enter",function(s){return r.onClick(s)}),R(1),g()),n&2&&(Xt("title",r.footerLink().name),d(),ne(" ",r.footerLink().name,`
`))},encapsulation:2})}return t})();var $xe=t=>({"hidden-xs hidden-sm":t});function Hxe(t,i){if(t&1){let e=Je();h(0,"div",3)(1,"div",6)(2,"span",7),R(3),g(),h(4,"button",8),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickLogoutUser())}),R(5),H(6,"translate"),g()()()}if(t&2){let e=y();d(3),Ae(e.username()),d(2),ne(" ",j(6,2,e.Message.CHECKOUT_APP_LOGOUT)," ")}}function Vxe(t,i){if(t&1&&(h(0,"div",3)(1,"div",14),R(2),H(3,"translate"),g(),h(4,"a",15),H(5,"translate"),R(6),H(7,"translate"),g(),h(8,"p",16),D(9,"span",17),H(10,"translate"),D(11,"br")(12,"span",17),H(13,"translate"),g()()),t&2){let e=y(2);d(2),ne(" ",j(3,6,e.Message.COMPONENT_FOOTER_ORDERHOTLINE)," "),d(2),Fd("href","tel://",j(5,8,e.Message.COMPONENT_FOOTER_ORDERHOTLINE_NUMBER),"",un),d(2),ne(" ",j(7,10,e.Message.COMPONENT_FOOTER_ORDERHOTLINE_NUMBER)," "),d(3),C("evCoreHtml",j(10,12,e.Message.COMPONENT_FOOTER_ORDERHOTLINE_COSTS)),d(3),C("evCoreHtml",j(13,14,e.Message.COMPONENT_FOOTER_ORDERHOTLINE_AVAILIBILITY))}}function jxe(t,i){if(t&1&&(h(0,"li"),D(1,"ev-footer-link",18),g()),t&2){let e=i.$implicit,n=y(2);d(),C("footerLink",e)("affiliate",n.affiliate())}}function Gxe(t,i){if(t&1&&(h(0,"div",13)(1,"div",2),D(2,"img",19),g()()),t&2){let e=y(2);d(2),C("src",e.logoImageUrl(),un)}}function Kxe(t,i){if(t&1&&(h(0,"footer",5)(1,"div",9)(2,"div",2)(3,"div",10),R(4),H(5,"translate"),g(),h(6,"div",3)(7,"div",11),J(8,Vxe,14,16,"div",3),g(),h(9,"div",12)(10,"nav")(11,"ul"),ft(12,jxe,2,2,"li",null,ri),g()()()()()(),J(14,Gxe,3,1,"div",13),g()),t&2){let e=y();d(4),ne(" ",j(5,4,e.Message.COMPONENT_FOOTER_COPYRIGHT)," "),d(3),C("ngClass",et(6,$xe,!e.isHotlineVisible())),d(),$(e.isHotlineVisible()?8:-1),d(4),ht(e.footerLinks()),d(2),$(e.logoImageUrl()?14:-1)}}var Vp=(()=>{class t{#e=E(Tn);#t=E(gte);#n=E(fo);#i=nn(null);Message=K;showLogoutLink=We.required();affiliate=nn(null);showFooter=sn(()=>{let e=this.affiliate()?.settings?.footer;return ro.isInsideIFrame()&&e?this.affiliate().showFooterInIframe:e});logoImageUrl=sn(()=>this.affiliate()?.footerLogoPath);isHotlineVisible=sn(()=>this.affiliate()?.settings?.eventstageAndFooterHotline);isCustomerLoggedIn=sn(()=>this.#i()!==null);username=sn(()=>this.#i()?.firstName&&this.#i()?.lastName?`${this.#i().firstName} ${this.#i().lastName}`:"");footerLinks=sn(()=>this.affiliate()?.settings?.footer&&this.affiliate().footerLinks?Array.from(this.affiliate().footerLinks):[]);constructor(){this.observeAffiliate(),this.observeCustomer()}onClickLogoutUser(){this.#t.logout()}observeAffiliate(){this.#e.observeAffiliate().pipe(Yt(e=>e!==null),zn()).subscribe(e=>{this.affiliate.set(e)})}observeCustomer(){this.#n.observeCustomer().pipe(zn()).subscribe(e=>{this.#i.set(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-simple-footer"]],inputs:{showLogoutLink:[1,"showLogoutLink"]},decls:8,vars:2,consts:[["data-qa","footer",1,"footerContainer","notPrinted"],[1,"back-to-top"],[1,"container"],[1,"row"],[1,"col-xs-12"],[1,"footer-copyright-newline","margin-top-xxl"],[1,"col-xs-12","back-to-top-user","theme-text-variant-color","margin-top-xxl"],["data-qa","username"],["data-qa","logout-button",1,"btn","btn-link","link",3,"click"],[1,"footer-legal-and-contact","theme-page-bg","theme-element-border"],["data-qa","copyright",1,"footer-copyright","theme-text-marginal-color"],[1,"col-xs-12","col-md-6","col-md-push-6","footer-hotline",3,"ngClass"],[1,"col-xs-12","col-md-6","col-md-pull-6","footer-imprint"],[1,"footer-logo-newline"],["data-qa","hotline-title",1,"col-md-3","footer-hotline-title","theme-text-variant-color"],["data-qa","hotline-number",1,"col-md-3","link","footer-hotline-number","theme-link-color","theme-link-color-hover","theme-interaction-color",3,"href"],["data-qa","hotline-description",1,"col-md-6","footer-hotline-description","theme-text-variant-color"],[3,"evCoreHtml"],[3,"footerLink","affiliate"],["alt","",1,"footer-logo-image",3,"src"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"ev-back-to-top"),g()(),J(6,Hxe,7,4,"div",3),g()(),J(7,Kxe,15,8,"footer",5),g()),n&2&&(d(6),$(r.showLogoutLink()&&r.isCustomerLoggedIn()?6:-1),d(),$(r.showFooter()?7:-1))},dependencies:[oi,Se,At,Po,xt,_te,yte],encapsulation:2})}return t})();var gA=function(t){return t.SMALL="small",t.MEDIUM="medium",t.LARGE="large",t}(gA||{});var qm=function(t){return t.ExtraSmall="xs",t.Small="s",t.Medium="m",t.Large="l",t.ExtraLarge="xl",t}(qm||{});var KT=(()=>{class t{static resizeIntervalTime=100;document=E(Ot);breakpointSubject=new ni(ro.getCurrentBreakpoint());constructor(){ex(this.document.defaultView,"resize").pipe(w4(()=>yu(t.resizeIntervalTime))).subscribe(()=>{let n=ro.getCurrentBreakpoint();n!==this.breakpointSubject.getValue()&&this.breakpointSubject.next(n)})}observeBreakpointChanges(){return this.breakpointSubject.asObservable()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qxe(t,i){if(t&1&&(h(0,"div",1)(1,"div",3)(2,"div",4),D(3,"ev-header-image",2),g()()()),t&2){let e=y(2);d(3),C("imageUrl",e.imageUrl)("imageDimensions",e.imageDimensions)("linkUrl",e.getHeaderLink())("linkTarget",e.partnerHeader==null?null:e.partnerHeader.target)("isPartnerImage",!0)}}function Wxe(t,i){if(t&1&&D(0,"ev-header-image",2),t&2){let e=y(2);C("imageUrl",e.imageUrl)("imageDimensions",e.imageDimensions)("linkUrl",e.getHeaderLink())("linkTarget",e.partnerHeader==null?null:e.partnerHeader.target)("isPartnerImage",!0)}}function zxe(t,i){if(t&1&&(h(0,"header",0),J(1,qxe,4,5,"div",1)(2,Wxe,1,5,"ev-header-image",2),g()),t&2){let e=y();d(),$(e.partnerHeader.boxed?1:2)}}var jp=(()=>{class t{affiliateService=E(Tn);breakpointService=E(KT);cookieService=E(_i);partnerHeader;imageUrl;imageDimensions={height:"100%",width:"auto"};subscriptions=[];ngOnInit(){this.subscriptions.push(this.registerChangeListener())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}getHeaderLink(){return this.partnerHeader!==void 0&&ee.isNotEmpty(this.partnerHeader.url)?this.partnerHeader.url:void 0}registerChangeListener(){return tl([this.affiliateService.observeAffiliate(),this.breakpointService.observeBreakpointChanges()]).subscribe(([e,n])=>{this.imageUrl=this.buildImageUrl(e,this.getImageSizeFor(n))})}buildImageUrl(e,n){let r=new gT,o=this.cookieService.get(qi.Language),s=ee.isNotEmpty(o)?o:"en";if(!(!ce.isObject(e)||n===void 0||e.partnerPath===void 0))return r.append(`${e.partnerPath}header/`).append(`${e.code.toLowerCase()}/`).append(`${s}/`).append(`header_${n}.jpg`).toString()}getImageSizeFor(e){switch(e){case qm.ExtraSmall:case qm.Small:return gA.SMALL;case qm.Medium:return gA.MEDIUM;case qm.Large:case qm.ExtraLarge:return gA.LARGE;default:console.warn(`Breakpoint "${e}"'s header image size is not implemented.`);return}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-partner-header"]],inputs:{partnerHeader:"partnerHeader"},decls:1,vars:1,consts:[["data-qa","partner-header",1,"header-image","notPrinted"],["data-qa","boxed-header",1,"container"],[3,"imageUrl","imageDimensions","linkUrl","linkTarget","isPartnerImage"],[1,"row"],[1,"col-xs-12"]],template:function(n,r){n&1&&J(0,zxe,3,1,"header",0),n&2&&$(r.partnerHeader?0:-1)},dependencies:[AM],encapsulation:2})}return t})();var Ete=(()=>{class t{#e=E(Ka);#t=E(kn);#n=E(zt);#i=E(Ga);#r=E(qr);#o=E(Tn);#a=E(ai);#s=E(rr);#l=E(Oi);#c=E(Si);subscriptions=[];backToShopLink;ngOnInit(){this.#c.runOutsideAngular(()=>{this.subscribeOnTimerCountdown()}),this.subscriptions.push(this.onBackToShopLinkShown())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}onBackToShopLinkShown(){return this.#o.observeWebshopElement(jl.BACK_TO_SHOP_LINK,!0).pipe(zn(this.#l)).subscribe(e=>{this.backToShopLink=e})}openModalWindow(){this.#t.showModal(new Dn(co.buildTextMessage(K.CHECKOUT_APP_RESERVATION_TIME_UP_DESCRIPTION)).enableTitle(K.CHECKOUT_APP_RESERVATION_TIME_UP_HEADLINE).enableViewTracking(()=>{this.#r.trackVirtualPageView("reservation_expired_layer",!0),this.#r.performGoogleEventTracking({action:"",event:"view_layer",event_name:"view_reservation_expired_layer"}),this.#i.triggerPageEvent(Gr.RESERVATION_TIME_UP)}).enablePrimaryButton(K.CHECKOUT_APP_RESERVATION_TIME_UP_BUTTON,()=>this.onClickAccept(),()=>this.#s.trackClick({clickTrackingData:{action:"",event_name:"reservation_expired_layer_accepted"}}))),this.#i.triggerPageEvent(Gr.RESERVATION_TIME_UP)}subscribeOnTimerCountdown(){return this.#e.onCountdown().pipe(Yt(e=>e.state===Il.FINISHED)).subscribe(()=>this.openModalWindow())}onClickAccept(){this.backToShopLink&&!this.#a.isSportsShop(this.#o.getAffiliate())?this.#n.navigate([Qe.ReservationTimeup]):this.#n.navigate([Qe.ShoppingCart])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-reservation-time-expired-modal"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var Tte=(()=>{class t{affiliateService=E(Tn);Message=K;logoImageUrl=ee.EMPTY_STRING;subscriptions=[];ngOnInit(){this.subscriptions.push(this.observeAffiliate())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}observeAffiliate(){return this.affiliateService.observeAffiliate().subscribe(e=>{ce.hasProperty(e,"headerLogoPath")&&(this.logoImageUrl=e.headerLogoPath)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sports-footer"]],standalone:!1,decls:6,vars:4,consts:[["data-qa","footer",1,"p-simple-footer","container","notPrinted"],[1,"u-flex","u-flex-v-center"],["alt","",1,"p-simple-footer-img",3,"src"],[1,"p-font-checkout","p-simple-footer-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"img",2),h(3,"div",3),R(4),H(5,"translate"),g()()()),n&2&&(d(2),C("src",r.logoImageUrl,un),d(2),Ae(j(5,2,r.Message.CHECKOUT_APP_SPORTS_FOOTER_MESSAGE)))},dependencies:[Se],encapsulation:2})}return t})();var qT=(()=>{class t{transform(e){let n=parseInt(e,10);if(e&&!Number.isNaN(n)){let o=new Date(n),s=o.getUTCSeconds(),c=o.getUTCMinutes()+o.getUTCHours()*60;return`${this.addZeroIfOneDigit(c)}:${this.addZeroIfOneDigit(s)}`}else return e}addZeroIfOneDigit(e){let r=e.toString();return e<10&&(r=`0${e}`),r}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Sa({name:"evTimeConverter",type:t,pure:!0,standalone:!1})}return t})();var Xxe=t=>({row:t}),Qxe=(t,i)=>({"timer-box-warning-color":t,"col-xs-12":i}),Zxe=(t,i,e)=>({"timer-box theme-element-radius":t,"timer-box-on-mobile text-center":i,"timer-box-warning":e});function e2e(t,i){if(t&1&&(h(0,"div",2),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_RESERVATION_TIMER_AFFIRMATIVE_TEXT)," ")}}var Sl=(()=>{class t{#e=E(Ka);#t=E(nr);#n=E(Oi);#i=E(Si);static FIVE_MINUTES=3e5;#r="--:--";Message=K;remaining;timerVisibility=!0;counterIsCloseToEnd=!1;isMobileViewForShoppingCartPage=!1;ngOnInit(){this.setInitialTime(),this.#i.runOutsideAngular(()=>{this.subscribeOnTimerCountdown()})}setInitialTime(){let e=this.#e.getRemainingTime();this.remaining=`${e>0?e:this.#r}`,this.counterIsCloseToEnd=this.isCloseToEnd(e),this.timerVisibility=e>=0}subscribeOnTimerCountdown(){return this.#e.onCountdown().pipe(zn(this.#n)).subscribe(e=>{this.timerVisibility=e.remaining>0&&e.state===Il.RUNNING,this.counterIsCloseToEnd=this.isCloseToEnd(e.remaining),this.remaining=`${e.remaining}`,this.#t.detectChanges()})}isCloseToEnd(e){return e<=t.FIVE_MINUTES}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-reservation-time-counter"]],inputs:{isMobileViewForShoppingCartPage:"isMobileViewForShoppingCartPage"},standalone:!1,decls:11,vars:25,consts:[["data-qa","reservation-timer",3,"ngClass","hidden"],[1,"timer-box-color",3,"ngClass"],[1,"padding-bottom-gutter"],[1,"animate-show"],[3,"ngClass"],[1,"icon","icon-ticketalarm-small"],["data-qa","time",1,"timer-box-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),J(2,e2e,3,3,"div",2),h(3,"div",3)(4,"div",4),D(5,"i",5),h(6,"span",6),R(7),H(8,"translate"),H(9,"evTimeConverter"),H(10,"translate"),g()()()()()),n&2&&(C("ngClass",et(16,Xxe,!r.isMobileViewForShoppingCartPage))("hidden",!r.timerVisibility),d(),Io("transition","all 300ms"),C("ngClass",Un(18,Qxe,r.counterIsCloseToEnd,!r.isMobileViewForShoppingCartPage)),d(),$(r.remaining!=="--:--"&&!r.isMobileViewForShoppingCartPage?2:-1),d(2),C("ngClass",Ms(21,Zxe,!r.isMobileViewForShoppingCartPage,r.isMobileViewForShoppingCartPage,r.counterIsCloseToEnd)),d(3),Am(" ",j(8,10,r.Message.CHECKOUT_APP_RESERVATION_TIMER_REMAINING_TIME),"\xA0",j(9,12,r.remaining)," ",j(10,14,r.Message.CHECKOUT_APP_MINUTES)," "))},dependencies:[At,Se,qT],encapsulation:2})}return t})();var Qd=(()=>{class t{adId;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ad-serving"]],inputs:{adId:"adId"},standalone:!1,decls:3,vars:1,consts:[[1,"row","notPrinted"],[1,"col-xs-12",2,"min-height","0px"],[3,"id"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"div",2),g()()),n&2&&(d(2),Xt("id",r.adId))},encapsulation:2})}return t})();var bte=(()=>{class t{orderService=E(yi);pageHolder=E(mo);moaService=E(jo);subscriptions=[];ngOnInit(){this.subscriptions.push(this.orderService.observeOrder().pipe(Yt(e=>this.orderService.isCartEmpty(e))).subscribe(()=>this.moaService.emitEvent(ka.EMPTY_CART))),this.subscriptions.push(this.pageHolder.observePageJson().subscribe(e=>this.moaService.emitEvent(ka.ROOT_CHANGE,{detail:{screen:e.page}})))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-moa-events-provider"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var n2e=t=>({"u-no-shadow":t});function i2e(t,i){if(t&1&&D(0,"ev-partner-header",5),t&2){let e=y();C("partnerHeader",e.partnerHeader)}}function r2e(t,i){if(t&1&&D(0,"ev-simple-header",6),t&2){let e=y();C("hasLogoLinks",e.headerHasLogoLinks)("isShoppingCartPage",e.isShoppingCartPage())}}function o2e(t,i){if(t&1&&D(0,"ev-reservation-time-counter",7),t&2){let e=y();C("isMobileViewForShoppingCartPage",e.isShoppingCartPage())}}function a2e(t,i){t&1&&D(0,"ev-reservation-time-counter",9)}function s2e(t,i){if(t&1&&D(0,"ev-simple-footer",13),t&2){let e=y();C("showLogoutLink",e.footerHasLogoutLink)}}function l2e(t,i){t&1&&D(0,"ev-sports-footer",14)}var Ite=(()=>{class t{#e=E(zt);#t=E(Tn);#n=E(yi);#i=E(Ka);#r=E(fn);#o=E(kn);#a=E(uh);#s=E(bt);#l=E(xv);#c=E(qr);#d=E(ai);#u=E(Oi);document=E(Ot);window=E(tr);headerHasLogoLinks=!1;footerHasLogoutLink=!1;showSimpleHeader=!0;showHeaderInIframe=!0;partnerHeader;modalOpen=!1;currentPage;connectionModalStatus=!1;isSportsShop=!1;subscriptions=[];#p;constructor(){this.subscriptions.push(this.registerNavigationEndListener()),this.subscriptions.push(this.registerNavigationErrorListener()),this.subscriptions.push(this.observeAffiliate()),this.subscriptions.push(this.updatePriceInfo())}ngOnInit(){this.resetStorage(),this.observeModalWindow(),this.subscribeOnTimerCountdown(),this.subscriptions.push(this.observeCaptchaLoad()),this.performPaymentIframeBehavior(),this.addTabListener(),this.addClickListener()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}setEnvPageReloadFlag(){this.#r.set(ut.PAGE_WAS_RELOADED,!0)}observeModalWindow(){this.subscriptions.push(this.#o.onShowModal().subscribe(()=>this.modalOpen=!0)),this.subscriptions.push(this.#o.onHideModal().subscribe(()=>this.modalOpen=!1))}handleConnectionModalStatus(e){this.connectionModalStatus=e}performPaymentIframeBehavior(){if(ce.isObject(window.opener)&&window.opener!==window&&window.name==="PaymentProviderWindow"){let e=this.#e.url.match("^(/waiting-for)")!==null,n=this.#e.url.match("^(/shopping-cart)")!==null;if(!e&&ro.isWindowInsideIFrame(window.opener)){if(n){window.opener=null;return}window.opener.location.replace(window.location.href),window.close()}}}hasSimpleHeader(){let e=this.showSimpleHeader;return ro.isInsideIFrame()&&e?this.showHeaderInIframe:e}hasPartnerHeader(){return this.partnerHeader!==void 0}updatePriceInfo(){let e={paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"},n=!1;return tl([this.#n.observeOrder(),this.#e.events.pipe(An(r=>{r instanceof Jc&&(n=r.url!==void 0?r.url.includes(is.DeliveryMethod):!1)}),Yt(r=>r instanceof va))]).subscribe(([r])=>{if(this.#s.setOrder(r),this.#p!==void 0){let o=(this.#e.isActive(Qe.ShoppingCart,e)||this.#e.isActive(Qe.Login,e)||n||!this.#p.preselectDeliveryMethod&&this.#e.isActive(Qe.Delivery,e))&&this.#p.deliveryFeeDisplayMode===C8.HideTillMethodSelection;this.#a.toggleDeliveryCostsDisplay(o),this.#a.update(r,this.#p)}})}observeCaptchaLoad(){return this.#l.observeCaptchaTriggered().subscribe(()=>{let e={action:"captcha_impression",nonInteractionEvent:!0,category:"checkout"};this.#c.performGoogleEventTracking(e)})}isShoppingCartPage(){return this.currentPage&&this.currentPage===T2.ShoppingCart}observeAffiliate(){return this.#t.observeAffiliate().pipe(Yt(e=>e!==null)).subscribe(e=>{this.#p=e,this.partnerHeader=e.partnerHeader,this.showSimpleHeader=e.settings?.header??!1,this.showHeaderInIframe=e.showHeaderInIframe,this.isSportsShop=this.#d.isSportsShop(e)})}registerNavigationEndListener(){return tl([this.#e.events.pipe(Yt(e=>e instanceof va)),this.#t.observeWebshopElement(jl.LOGOUT_LINK)]).subscribe(([e,n])=>{this.handleReservationTimer(),this.#r.set(ut.PROCESSING_ORDER_CHECKOUT,!1),this.headerHasLogoLinks=this.#e.isActive(Qe.Receipt,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"}),this.footerHasLogoutLink=this.#e.isActive(Qe.ShoppingCart,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})&&n,this.setPage(this.#e.routerState)})}registerNavigationErrorListener(){return this.#e.events.pipe(Yt(e=>e instanceof Ep)).subscribe(e=>{if(typeof e.error=="object"&&typeof e.error.errorCode=="number"){let n=e.error;this.handleError(n)}else this.#e.navigate([Qe.Error])})}handleError(e){switch(e.errorCode){case br.USER_NOT_LOGGED_IN:this.#e.navigate([Qe.Login]);break;case br.SHOPPING_CART_EMPTY:this.#e.navigate([Qe.Login],{replaceUrl:!0});break;default:this.#e.navigate([`${Qe.Error}/${e.errorCode}`])}}handleReservationTimer(){if(!this.#e.isActive(Qe.Receipt,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})){if(this.#e.isActive(Qe.FatalError,{paths:"subset",queryParams:"subset",fragment:"ignored",matrixParams:"ignored"})){this.#i.sendToBackground();return}this.#n.isCartEmpty(this.#n.getOrder())?(this.#s.trace(new Error("No Order. Stop timer."),"Checkout Handle Reservation Timer"),this.#i.stopTimer()):this.#i.startTimer()}}subscribeOnTimerCountdown(){return this.#i.onCountdown().pipe(Yt(xM),zn(this.#u)).subscribe(()=>{if(this.#r.get(ut.PROCESSING_ORDER_CHECKOUT,!1)){this.#s.trace(new Error("Finish order despite expired reservation time."),"Checkout Handle Reservation Timer");return}this.#n.isCartEmpty(this.#n.getOrder())||(this.#s.trace(new Error("Time is up!"),"Checkout Handle Reservation Timer"),this.#n.clearShoppingCart())})}setPage(e){let n=e.snapshot.root.firstChild.firstChild.routeConfig.path;this.currentPage=n}resetStorage(){let e=this.#r.get(ut.CUSTOMER_ID),n=this.#n.getOrder(),r=0;n!==null&&(r=n.customerId),(r===0||e!==r)&&this.#r.set(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)}addTabListener(){this.document.addEventListener("keydown",this.addOutlinesCallback.bind(this))}addClickListener(){this.document.addEventListener("mousedown",this.removeOutlinesCallback.bind(this),{once:!0})}addOutlinesCallback(e){e.key===Fr.TAB&&(this.document.body.classList.contains("is-tabbing")||(this.document.body.classList.add("is-tabbing"),this.addClickListener()))}removeOutlinesCallback(){this.document.body.classList.contains("is-tabbing")&&this.document.body.classList.remove("is-tabbing")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-checkout"]],hostBindings:function(n,r){n&1&&Ee("beforeunload",function(){return r.setEnvPageReloadFlag()},!1,Ix)},standalone:!1,decls:22,vars:12,consts:[["evBuildInfo","",1,"checkout-wrapper-container",3,"evCheckoutPositionFixed"],[1,"wrapper","wrapper-container",3,"ngClass"],[1,"wrapper","max-container-width"],[1,"container"],[3,"adId"],[3,"partnerHeader"],[3,"hasLogoLinks","isShoppingCartPage"],["evHideOnDesktop","",3,"isMobileViewForShoppingCartPage"],[1,"main-content","container"],["evHideOnDesktop",""],[1,"row"],[1,"col-xs-12"],[3,"page"],[3,"showLogoutLink"],[1,"p-footer-main","margin-top-l","small-padding"],[3,"isSportsShop"],[3,"modalActive"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),D(4,"ev-ad-serving",4),g(),J(5,i2e,1,1,"ev-partner-header",5)(6,r2e,1,2,"ev-simple-header",6)(7,o2e,1,1,"ev-reservation-time-counter",7),h(8,"div",8),J(9,a2e,1,0,"ev-reservation-time-counter",9),h(10,"div",10)(11,"div",11)(12,"ev-forms-page-scroll-top",12),D(13,"router-outlet"),g()()()(),J(14,s2e,1,1,"ev-simple-footer",13)(15,l2e,1,0,"ev-sports-footer",14),D(16,"ev-pl-global-spinner")(17,"ev-soft-login-writer")(18,"ev-moa-events-provider"),g()()(),D(19,"ev-forms-modal-window",15),h(20,"ev-connection-management-modal",16),Ee("modalActive",function(s){return r.handleConnectionModalStatus(s)}),g(),D(21,"ev-reservation-time-expired-modal")),n&2&&(C("evCheckoutPositionFixed",r.modalOpen||r.connectionModalStatus),d(),C("ngClass",et(10,n2e,r.window.useBackgroundTheming)),d(3),C("adId","place-ad-top"),d(),$(r.hasPartnerHeader()?5:-1),d(),$(r.hasSimpleHeader()?6:-1),d(),$(r.isShoppingCartPage()?7:-1),d(2),$(r.isShoppingCartPage()?-1:9),d(3),C("page",r.currentPage),d(2),$(r.isSportsShop?15:14),d(5),C("isSportsShop",r.isSportsShop))},dependencies:[At,ku,ste,bv,sM,Cv,Hp,Vp,jp,Vee,Xd,Yee,Ete,Tte,Sl,Qd,hte,bte],styles:[".checkout-wrapper-container[_ngcontent-%COMP%]{width:100%;height:100%}"]})}return t})();var PM=class t{static PAGE_MAPPING=new Map([[Cn.ShoppingCart,Qe.ShoppingCart],[Cn.Login,Qe.Login],[Cn.Delivery,Qe.Delivery],[Cn.Payment,Qe.Payment],[Cn.TicketPersonalisation,Qe.TicketPersonalisation],[Cn.Summary,Qe.Summary],[Cn.Receipt,Qe.Receipt],[Cn.customerSearch,Qe.CustomerSearch]]);get(i){return t.PAGE_MAPPING.get(i)}};var ph=class t{static PAGE_MAPPING=new PM;orderService=E(yi);pageHolder=E(mo);router=E(zt);customerService=E(fo);logService=E(bt);trackingDataService=E(Bs);updateSubjectAndOrder(i){return i.pipe(An(this.setPageJson.bind(this))).toPromise()}setPageJson(i){Object.prototype.hasOwnProperty.call(i,"customer")&&i.customer!==null&&i.customer.customerId>0&&this.customerService.updateCustomerData(i.customer),this.pageHolder.setPageJson(i),this.logService.trace(new Error(`next page to visit: ${i.page}`),"Page Service");let e=i;ce.hasProperty(e,"dataLayer")?this.trackingDataService.setTrackingData(e.dataLayer):this.logService.trace(new Error("Tracking Page Data could not be set: Tracking data missing!"),"Page Service")}determineNextPageAndProceed(i,e,n,r){r!==void 0&&r!==ee.EMPTY_STRING?En.redirectTo(!0,r):(this.setPageJson(i),Object.prototype.hasOwnProperty.call(i,"page")&&this.navigateToPage(i.page,e,n))}navigateToPage(i,e,n){let r=this.determineUrlSuffix(e),o=t.PAGE_MAPPING.get(i);this.router.navigate([`${o}${r}`],n)}isCheckoutPageJson(i){return ce.hasProperty(i,"page")&&ce.hasProperty(i,"order")}determineUrlSuffix(i){return ce.isObject(i)&&Dt.isNotEmpty(i.additionalUrlParameters)?`/${i.additionalUrlParameters.join("/")}`:""}};var xl=class extends ph{loadedFromCache=!1;getPageJson(...i){let e=this.pageHolder.getLastEntry();return e===null||Object.prototype.hasOwnProperty.call(e,"bankUrl")||e.page!==this.getPageType()?(this.loadedFromCache=!1,this.updateSubjectAndOrder(this.getPageJsonFromResource(i))):(this.loadedFromCache=!0,Promise.resolve(e))}wasLoadedFromCache(){return this.loadedFromCache}};var kM=(()=>{class t extends xl{customerResource=E(pA);getPageJsonFromResource(){return this.customerResource.getCustomerSearchPage()}getPageType(){return Cn.customerSearch}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lu=function(t){return t.NONE="none",t.ASC="asc",t.DSC="dsc",t}(Lu||{});var c2e=(t,i,e)=>({"icon-minus":t,"icon-expand-less":i,"icon-expand-more":e}),d2e=(t,i)=>i.customernumber;function u2e(t,i){if(t&1&&(h(0,"section"),D(1,"hr",11),g(),D(2,"ev-forms-regular-form",10)),t&2){let e=y();d(2),C("form",e.extendedCustomerSearchForm)}}function p2e(t,i){if(t&1&&(h(0,"p",17),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_CUSTOMER_SEARCH_NO_RESULTS),"")}}function m2e(t,i){if(t&1){let e=Je();h(0,"th",24),Ee("click",function(){let r=Ne(e).$implicit,o=y(3);return Re(o.sortCustomerList(r))}),R(1),H(2,"translate"),D(3,"i",25),g()}if(t&2){let e=i.$implicit,n=y(3);Le("data-qa","column-name-"+e.tableColumnSortCriteria),d(),ne("",j(2,3,e.tableColumnName)," "),d(2),C("ngClass",Ms(5,c2e,e.sortDir===n.SortDirection.NONE,e.sortDir===n.SortDirection.ASC,e.sortDir===n.SortDirection.DSC))}}function f2e(t,i){if(t&1){let e=Je();h(0,"tr",23)(1,"td"),R(2),g(),h(3,"td"),R(4),g(),h(5,"td"),R(6),g(),h(7,"td"),R(8),g(),h(9,"td"),R(10),g(),h(11,"td"),R(12),g(),h(13,"td",26)(14,"ev-pl-button",27),H(15,"translate"),H(16,"translate"),Ee("click",function(){let r=Ne(e).$implicit,o=y(3);return Re(o.loginFoundCustomer(r.customernumber))}),g()()()}if(t&2){let e=i.$implicit,n=y(3);d(2),Ae(e.lastName),d(2),Ae(e.firstName),d(2),Ae(e.street),d(2),Ae(e.postcode),d(2),Ae(e.city),d(2),Ae(e.email),d(2),C("buttonType","primary")("buttonText",j(15,10,n.Message.CHECKOUT_APP_CUSTOMER_SEARCH_CHOOSE_CUSTOMER))("buttonTitle",j(16,12,n.Message.CHECKOUT_APP_CUSTOMER_SEARCH_CHOOSE_CUSTOMER))("dataQa","login-customer")}}function h2e(t,i){if(t&1&&(h(0,"table",18)(1,"tr",21),ft(2,m2e,4,9,"th",null,fr),D(4,"th",22),g(),ft(5,f2e,17,14,"tr",23,d2e),g()),t&2){let e=y(2);d(2),ht(e.tableHeaderItems),d(3),ht(e.pageJson.foundCustomers)}}function g2e(t,i){if(t&1){let e=Je();h(0,"ev-pl-card",16),J(1,p2e,3,3,"p",17)(2,h2e,7,0,"table",18),h(3,"div",2)(4,"div",19)(5,"ev-pl-button",20),H(6,"translate"),H(7,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.createNewCustomer())}),g()()()()}if(t&2){let e=y();C("headline",e.Message.CHECKOUT_APP_PAGE_SUBHEADLINE_CUSTOMER_SEARCH_RESULT)("headlineLevel",2),d(),$(e.pageJson.foundCustomers?-1:1),d(),$(e.pageJson.foundCustomers?2:-1),d(3),C("buttonType","secondary")("buttonText",j(6,9,e.Message.CHECKOUT_APP_CUSTOMER_SEARCH_CREATE_CUSTOMER))("isBlock",!0)("buttonTitle",j(7,11,e.Message.CHECKOUT_APP_CUSTOMER_SEARCH_CREATE_CUSTOMER))("dataQa","create-new-customer")}}var Ste=(()=>{class t{#e=E(fo);#t=E(kM);#n=E(mo);#i=E(bt);#r=E(zt);#o=E(fn);#a=E(Gn);#s=E(no);#l=E(Sn);Message=K;showExtendedForm=!1;pageJson;customerSearchForm;extendedCustomerSearchForm;userPerformedSearch=!1;SortDirection=Lu;tableHeaderItems=[{tableColumnName:K.CHECKOUT_APP_CUSTOMER_SEARCH_LASTNAME,tableColumnSortCriteria:"lastName",sortDir:Lu.ASC},{tableColumnName:K.CHECKOUT_APP_CUSTOMER_SEARCH_FIRSTNAME,tableColumnSortCriteria:"firstName",sortDir:Lu.NONE},{tableColumnName:K.CHECKOUT_APP_CUSTOMER_SEARCH_STREET_AND_NUMBER,tableColumnSortCriteria:"street",sortDir:Lu.NONE},{tableColumnName:K.CHECKOUT_APP_CUSTOMER_SEARCH_ZIP_CODE,tableColumnSortCriteria:"postcode",sortDir:Lu.NONE},{tableColumnName:K.CHECKOUT_APP_CUSTOMER_SEARCH_CITY,tableColumnSortCriteria:"city",sortDir:Lu.NONE},{tableColumnName:K.GLOBAL_CUSTOMER_EMAIL_CUSTOMER,tableColumnSortCriteria:"email",sortDir:Lu.NONE}];subscriptions=[];handleKeyDown(e){e.target instanceof HTMLInputElement&&e.target.type!=="checkbox"&&e.target.type!=="radio"&&this.searchCustomer()}ngOnInit(){this.#s.setTitle(this.#l.instant(K.CHECKOUT_APP_PAGE_TITLE_CUSTOMER_SEARCH)),this.subscriptions.push(this.registerCustomerSearchPageJsonSubscription())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}toggleExtendedForm(){this.showExtendedForm=!this.showExtendedForm,this.customerSearchForm.control.reset(),this.customerSearchForm.control.markAsPristine(),this.showExtendedForm?this.customerSearchForm.control.disable():this.customerSearchForm.control.enable()}searchCustomer(){let e=this.showExtendedForm?this.extendedCustomerSearchForm:this.customerSearchForm;if(e.control.valid){let n=e.toJson();Object.keys(n).forEach(r=>{(n[r]===ee.EMPTY_STRING||n[r]===null)&&delete n[r]}),this.#e.getSearchedCustomer(n).then(r=>{this.pageJson=r,this.userPerformedSearch=!0}).catch(r=>{this.#i.debug(new Error(r.message),"Customer Search Page")})}else e.control.markAllAsTouched()}createNewCustomer(){this.#o.set(ut.CCCL_CUSTOMER,!0),this.storeSearchData(),this.#r.navigate([Qe.Delivery])}resetAllForms(){this.customerSearchForm.control.reset(),this.extendedCustomerSearchForm.control.reset(),this.userPerformedSearch=!1}loginFoundCustomer(e){this.#a.show(),this.#e.loginFoundCustomer(e).then(n=>{this.#o.set(ut.CCCL_CUSTOMER,!0),this.storeSearchData(),this.#t.determineNextPageAndProceed(n)}).catch(n=>{ce.isObject(n)&&typeof n.errorCode=="number"?this.#r.navigate([`${Qe.Error}/${n.errorCode}`]):this.#r.navigate([Qe.Error])})}sortCustomerList(e){for(let n of this.tableHeaderItems)e.tableColumnSortCriteria!==n.tableColumnSortCriteria&&(n.sortDir=Lu.NONE);switch(e.sortDir){case Lu.DSC:this.pageJson.foundCustomers=this.pageJson.foundCustomers.sort((n,r)=>this.compareCustomerDataByCriteria(r,n,e.tableColumnSortCriteria)),e.sortDir=Lu.ASC;break;default:this.pageJson.foundCustomers=this.pageJson.foundCustomers.sort((n,r)=>this.compareCustomerDataByCriteria(n,r,e.tableColumnSortCriteria)),e.sortDir=Lu.DSC}}compareCustomerDataByCriteria(e,n,r){return(e[r]?e[r]:ee.EMPTY_STRING).localeCompare(n[r]?n[r]:ee.EMPTY_STRING)}registerCustomerSearchPageJsonSubscription(){return this.#n.observePageJson([Cn.customerSearch]).subscribe(e=>{this.pageJson=e,this.buildForms(),this.prefillForms(),this.extendedCustomerSearchForm.fields.some(n=>ee.isNotEmpty(n.control.value))&&this.toggleExtendedForm(),Dt.isNotEmpty(this.pageJson.foundCustomers)&&(this.userPerformedSearch=!0)})}translateFormatOfCountryList(e){let n=[];return e.groups.forEach(r=>{let o=[];r.items.forEach(s=>{o.push({label:s.name,value:s.id})}),n.push({label:r.label,items:o})}),n}buildForms(){this.customerSearchForm=new vn("customerSearchForm",[new Gt({fieldName:"email",type:Mt.Email,mandatory:!0,value:ee.EMPTY_STRING,label:K.GLOBAL_CUSTOMER_EMAIL_CUSTOMER},[new oA(K.CHECKOUT_APP_CUSTOMER_SEARCH_EMAIL_INVALID,5,1e3)]),new Gt({fieldName:"customerId",type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_CUSTOMERNUMBER})]),this.extendedCustomerSearchForm=new vn("extendedCustomerSearchForm",[new Gt({fieldName:"firstname",type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_FIRSTNAME}),new Gt({fieldName:"lastname",type:Mt.Text,mandatory:!0,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_LASTNAME}),new Gt({fieldName:"street",type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_STREET_AND_NUMBER}),new Gt({fieldName:"code",type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_ZIP_CODE}),new Gt({fieldName:"city",type:Mt.Text,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_CITY}),new Gt({fieldName:"country",type:Mt.Select,mandatory:!1,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_CUSTOMER_SEARCH_COUNTRY,selectGroups:this.translateFormatOfCountryList(this.pageJson.countries)})])}prefillForms(){let e=this.#o.get(ut.CCCL_SEARCH_DATA,null);ce.isObject(e)&&(this.prefillValue(e,"firstname"),this.prefillValue(e,"lastname"),this.prefillValue(e,"city"),this.prefillValue(e,"code"),this.prefillValue(e,"street"),this.prefillValue(e,"country"),this.prefillValue(e,"email"))}prefillValue(e,n){this.extendedCustomerSearchForm.hasField(n)&&ee.isNotEmpty(e[n])&&this.extendedCustomerSearchForm.getField(n).control.setValue(e[n]),this.customerSearchForm.hasField(n)&&ee.isNotEmpty(e[n])&&this.customerSearchForm.getField(n).control.setValue(e[n])}storeSearchData(){let e={};ce.isObject(this.extendedCustomerSearchForm)&&(this.storeValue(e,"firstname"),this.storeValue(e,"lastname"),this.storeValue(e,"city"),this.storeValue(e,"code"),this.storeValue(e,"street"),this.storeValue(e,"country")),ce.isObject(this.customerSearchForm)&&this.storeValue(e,"email"),this.#o.set(ut.CCCL_SEARCH_DATA,e)}storeValue(e,n){this.extendedCustomerSearchForm.hasField(n)&&ee.isNotEmpty(this.extendedCustomerSearchForm.getField(n).control.value)&&(e[n]=this.extendedCustomerSearchForm.getField(n).control.value),this.customerSearchForm.hasField(n)&&ee.isNotEmpty(this.customerSearchForm.getField(n).control.value)&&(e[n]=this.customerSearchForm.getField(n).control.value)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-customer-search-page"]],hostBindings:function(n,r){n&1&&Ee("keydown.enter",function(s){return r.handleKeyDown(s)})},standalone:!1,decls:31,vars:21,consts:[["data-qa","customer-search-page",1,"row"],[1,"col-xs-12"],[1,"row"],[1,"col-xs-12","col-md-7","unit-separator"],[1,"row","heading"],["data-qa","page-headline",1,"col-xs-12","headline-title","page-headline-first-order"],["data-qa","card-hint",1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],["data-qa","marginal","evHideOnMobile","",1,"col-md-5","page-headline-marginal"],[3,"headline","headlineLevel","noContentPadding"],[1,"col-xs-12","padding-top-m"],[3,"form"],["aria-hidden","true",1,"card-separator"],[1,"col-sm-6"],["data-qa","other-search-criteria-button",1,"btn","btn-secondary","btn-lg","btn-block","theme-btn","margin-bottom-m",3,"click"],["data-qa","search-customer-button",1,"btn","btn-primary","btn-lg","btn-block","theme-btn",3,"click"],[1,"btn-lg","btn-block","link-variant","theme-text-variant-color","align-center",3,"click"],[3,"headline","headlineLevel"],["data-qa","no-results-message",1,"margin-top-xxl"],["cellspacing","0","cellpadding","10",1,"customer-search-result-table"],[1,"col-xs-12","col-md-6","margin-top-m"],[3,"click","buttonType","buttonText","isBlock","buttonTitle","dataQa"],[1,"align-left","header"],[1,"noclick"],[1,"align-left","result-bg"],[3,"click"],[1,"icon",3,"ngClass"],[1,"align-right"],[3,"click","buttonType","buttonText","buttonTitle","dataQa"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h1",5),R(6),H(7,"translate"),g()(),D(8,"p",6),H(9,"translate"),g(),h(10,"div",7),D(11,"ev-reservation-time-counter"),g()(),h(12,"ev-pl-card",8)(13,"div",9)(14,"div",2),D(15,"ev-forms-regular-form",10),J(16,u2e,3,1),g()(),h(17,"section"),D(18,"hr",11),g(),h(19,"section",12)(20,"button",13),Ee("click",function(){return r.toggleExtendedForm()}),R(21),H(22,"translate"),g()(),h(23,"section",12)(24,"button",14),Ee("click",function(){return r.searchCustomer()}),R(25),H(26,"translate"),g(),h(27,"a",15),Ee("click",function(){return r.resetAllForms()}),R(28),H(29,"translate"),g()()(),J(30,g2e,8,13,"ev-pl-card",16),g()()),n&2&&(d(6),ne(" ",j(7,11,r.Message.CHECKOUT_APP_PAGE_TITLE_CUSTOMER_SEARCH),""),d(2),C("evCoreHtml",j(9,13,r.Message.CHECKOUT_APP_CUSTOMER_SEARCH_PAGEINFO)),d(4),C("headline",r.Message.CHECKOUT_APP_PAGE_SUBHEADLINE_CUSTOMER_SEARCH)("headlineLevel",2)("noContentPadding",!0),d(3),C("form",r.customerSearchForm),d(),$(r.showExtendedForm?16:-1),d(5),ne(" ",j(22,15,r.Message.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_SEARCHCRITERIA_BUTTONLABEL),""),d(4),ne(" ",j(26,17,r.Message.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_SEARCH_BUTTONLABEL),""),d(3),Ae(j(29,19,r.Message.CHECKOUT_APP_CUSTOMER_SEARCH_OTHER_CLEAR_FORM_LINKTEXT)),d(2),$(r.userPerformedSearch?30:-1))},dependencies:[At,cee,xt,$n,Yd,ta,Sl,Se],encapsulation:2})}return t})();var si=function(t){return t[t.Prepayment=0]="Prepayment",t[t.Ogone=1]="Ogone",t[t.NetGiro=2]="NetGiro",t[t.CreditCard=3]="CreditCard",t[t.Debit=4]="Debit",t[t.Dotpay=5]="Dotpay",t[t.Finnair=6]="Finnair",t[t.Lindorff=8]="Lindorff",t[t.Sberbank=9]="Sberbank",t[t.PayPal=10]="PayPal",t[t.Netaxept=11]="Netaxept",t[t.IDeal=12]="IDeal",t[t.Billpay=13]="Billpay",t[t.MasterPass=15]="MasterPass",t[t.SofortBanking=16]="SofortBanking",t[t.IberiaPlus=18]="IberiaPlus",t[t.BillpayPayLater=19]="BillpayPayLater",t[t.ItalianCulturalVoucher=20]="ItalianCulturalVoucher",t[t.AlfaBank=21]="AlfaBank",t[t.ItalianTeacherBonus=22]="ItalianTeacherBonus",t[t.PayDirect=24]="PayDirect",t[t.GenericWallet=26]="GenericWallet",t[t.PayPalBraintree=27]="PayPalBraintree",t[t.PayPalInstallmentsBraintree=28]="PayPalInstallmentsBraintree",t[t.AMEDigital=30]="AMEDigital",t[t.AdyenDropIn=31]="AdyenDropIn",t[t.BraintreeCreditCard=32]="BraintreeCreditCard",t}(si||{});var wM=(()=>{class t extends cr{getPaymentPage(){return this.webshopApi.get("/payment/order")}submitPaymentMethod(e,n,r){return this.webshopApi.put(`/checkout/orders/${e}/paymentMethods/${n}`,r)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var xte=function(t){return t[t.GENERAL_ERROR=-1]="GENERAL_ERROR",t[t.SHOPPING_CART_EMPTY=-2002]="SHOPPING_CART_EMPTY",t[t.PAGE_FORBIDDEN=-2067]="PAGE_FORBIDDEN",t[t.VOUCHER_NO_LONGER_NECESSARY=-2351]="VOUCHER_NO_LONGER_NECESSARY",t[t.USER_NOT_LOGGED_IN=-3004]="USER_NOT_LOGGED_IN",t[t.ORDER_NOT_FOUND=-4e3]="ORDER_NOT_FOUND",t[t.ORDER_IS_ALREADY_BOOKED=-4015]="ORDER_IS_ALREADY_BOOKED",t[t.PAYMENT_AVS_ERROR_TRY_AGAIN=-4233]="PAYMENT_AVS_ERROR_TRY_AGAIN",t[t.PAYMENT_ERROR=-4234]="PAYMENT_ERROR",t[t.DEBIT_PAYMENT_DATA_INVALID=-4249]="DEBIT_PAYMENT_DATA_INVALID",t[t.DEBIT_IBAN_INVALID=-4257]="DEBIT_IBAN_INVALID",t[t.DEBIT_BIC_INVALID=-4258]="DEBIT_BIC_INVALID",t[t.CREDITWORTHINESS_CHECK_FAILED=-4261]="CREDITWORTHINESS_CHECK_FAILED",t[t.CODE_PAY_SERVER_LOAD_LIMIT_REACHED=-4262]="CODE_PAY_SERVER_LOAD_LIMIT_REACHED",t[t.D3_SECURE_CHECK_REQUIRED=-4263]="D3_SECURE_CHECK_REQUIRED",t[t.MAXIMUM_TICKETS_FOR_CUSTOMER_EXCEEDED=-4505]="MAXIMUM_TICKETS_FOR_CUSTOMER_EXCEEDED",t[t.TDL_LIMIT_REACHED=-8145]="TDL_LIMIT_REACHED",t[t.TICKET_PERSONALIZATION_SET_FAILED=-8150]="TICKET_PERSONALIZATION_SET_FAILED",t[t.DUPLICATE_FISCAL_CODE=-3205]="DUPLICATE_FISCAL_CODE",t[t.DUPLICATE_VAT=-3210]="DUPLICATE_VAT",t[t.PAYMENT_METHOD_NOT_POSSIBLE=-3030]="PAYMENT_METHOD_NOT_POSSIBLE",t[t.VOUCHER_INVALID_CODE_NUMBER=-2340]="VOUCHER_INVALID_CODE_NUMBER",t[t.VOUCHER_INVALID_CODE=-2341]="VOUCHER_INVALID_CODE",t[t.CODE_PACKBUCKET_INVALID_AMOUNT=-2071]="CODE_PACKBUCKET_INVALID_AMOUNT",t[t.CODE_CUSTOMER_EMAIL_ALREADY_IN_USE=-3202]="CODE_CUSTOMER_EMAIL_ALREADY_IN_USE",t}(xte||{}),na=at(at({},br),xte);var Zd=function(t){return t.REQUESTS_EXCEEDED="requests exceeded",t.LIMIT_REACHED="limit reached",t.PASS_THROUGH="pass",t.RESERVATION_TIME_UP="reservation time up",t}(Zd||{});var wv=(()=>{class t{reservationTimerService=E(Ka);capConEventSubject=new ni({type:Zd.PASS_THROUGH});REQUEST_DELAY=3e4;unsubscribeSubject=new qn;attempts=0;maxAttempts=0;constructor(){this.reservationTimerService.onCountdown().pipe(Yt(xM)).subscribe(()=>this.stopRetryAttempts(Zd.RESERVATION_TIME_UP))}onCapConEvent(){return this.capConEventSubject.asObservable()}onStopRetryAttempts(){return this.unsubscribeSubject}stopRetryAttempts(e=Zd.PASS_THROUGH){this.unsubscribeSubject.next(),this.capConEventSubject.next({type:e}),this.attempts=0}retry(e=0){return this.maxAttempts=e,ix(n=>n.pipe(Wg(r=>this.checkResponse(r)),e0(this.onStopRetryAttempts())))}checkResponse(e){return e.errorCode===na.CODE_PAY_SERVER_LOAD_LIMIT_REACHED?this.responseContainsCapConError():this.rethrowError(e)}responseContainsCapConError(){let e=this.reservationTimerService.getRemainingTime()<=this.REQUEST_DELAY;return this.maxAttempts>0&&this.attempts>=this.maxAttempts||e?this.stopRetryAttempts(e?Zd.RESERVATION_TIME_UP:Zd.REQUESTS_EXCEEDED):(this.attempts++,this.capConEventSubject.next({type:Zd.LIMIT_REACHED})),Wc(this.REQUEST_DELAY)}rethrowError(e){return this.capConEventSubject.next({type:Zd.PASS_THROUGH}),ma(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Dv=(()=>{class t extends xl{#e=E(wM);#t=E(fn);#n=E(Gn);#i=E(wv);#r=E(jo);#o=E(qr);trackingDataService=E(Bs);#a=null;#s=4;#l=new Map([[Wt.Klarna,{subtypes:[],features:[Gl.KLARNA_WHITELIST,Gl.KLARNA_SDK]}],[Wt.External,{subtypes:[si.PayPalBraintree,si.PayPalInstallmentsBraintree],features:[Gl.PAYPAL_BRAINTREE]}]]);getPageJsonFromResource(){return this.#e.getPaymentPage()}getPageType(){return Cn.Payment}submitPaymentMethod(e,n,r,o=null){return this.#n.show(),e.pipe(Ia(()=>this.#e.submitPaymentMethod(n,r,o).pipe(An(()=>this.#t.set(ut.USER_SUBMITTED_PAYMENT_METHOD,r)),An(this.handlePaymentResult.bind(this)),this.#i.retry(this.#s),No(s=>ma(s)))),No(s=>(this.logService.debug(new Error("pre-auth failed!"),"Submit Payment Method"),this.#n.hide(),ma(s))))}handlePaymentResult(e){this.#o.performGoogleTrackingWithEcommerceValues(this.trackingDataService.getTrackingData(),ee.EMPTY_STRING,"add_payment_info"),ce.hasProperty(e,"bankUrl")?(this.router.navigate([Qe.D3Secure]),this.#a=e,this.setPageJson(this.#a)):this.determineNextPageAndProceed(e)}getUserSubmittedPaymentMethod(){return this.#t.get(ut.USER_SUBMITTED_PAYMENT_METHOD,0)}get3dSecurePageData(){return this.#a}has3dSecurePageData(){return this.#a!==null}filterPaymentMethods(e){return e.paymentMethods=e.paymentMethods.filter(n=>{if(this.#l.has(n.type)){let r=this.#l.get(n.type);if(Dt.isEmpty(r.subtypes)||r.subtypes.indexOf(n.subType)>-1)return r.features.some(o=>this.isAvailable(o))}return!0}),e}isAvailable(e){return this.#r.isRunningInMoa()?this.#r.hasFeature(e):!0}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _2e=(t,i)=>({"sidebar-title":t,"font-size-l":i}),C2e=t=>({"col-md-6 col-md-offset-3":t});function y2e(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2),R(3),H(4,"translate"),g(),h(5,"div",3)(6,"div",4)(7,"div",5),D(8,"i",6),h(9,"p",7),R(10),H(11,"translate"),g()(),h(12,"div",5),D(13,"i",8),h(14,"p",7),R(15),H(16,"translate"),g()(),h(17,"div",5),D(18,"i",9),h(19,"p",7),R(20),H(21,"translate"),g()()()()()()),t&2){let e=y();d(2),C("ngClass",Un(14,_2e,e.displayedInSidebar,!e.displayedInSidebar)),d(),ne(" ",j(4,6,e.Message.COMPONENT_BENEFIT_GUARANTEE_BOX_HEADLINE)," "),d(2),C("ngClass",et(17,C2e,!e.displayedInSidebar)),d(5),ne(" ",j(11,8,e.Message.COMPONENT_BENEFIT_GUARANTEE_BOX_SAFETY)," "),d(5),ne(" ",j(16,10,e.Message.COMPONENT_BENEFIT_GUARANTEE_BOX_CERTIFIED_CHECK)," "),d(5),ne(" ",j(21,12,e.Message.COMPONENT_BENEFIT_GUARANTEE_BOX_DELIVERY)," ")}}var C1=(()=>{class t{affiliateService=E(Tn);changeDetectorRef=E(nr);Message=K;display;displayedInSidebar=!0;subscriptions=[];constructor(){this.changeDetectorRef.detach()}ngOnInit(){this.subscriptions.push(this.registerBenefitCommunicationWebshopElementObserver())}registerBenefitCommunicationWebshopElementObserver(){return this.affiliateService.observeWebshopElement(jl.BENEFIT_COMMUNICATION).subscribe(e=>{this.display=e,this.changeDetectorRef.detectChanges()})}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-guarantee-box"]],inputs:{displayedInSidebar:"displayedInSidebar"},standalone:!1,decls:1,vars:1,consts:[["data-qa","guarantee-box",1,"row","benefits-box"],[1,"benefits","benefits-advantages","col-xs-12","theme-element-border"],[1,"theme-text-light-color","theme-element-border",3,"ngClass"],[1,"col-xs-12",3,"ngClass"],[1,"row"],[1,"benefits-item","col-xs-4"],[1,"icon","icon-lock","theme-benefit-bg"],[1,"benefits-description","theme-element-border","theme-text-light-color"],[1,"icon","icon-certified-check","theme-benefit-bg"],[1,"icon","icon-delivery-truck","theme-benefit-bg"]],template:function(n,r){n&1&&J(0,y2e,22,19,"div",0),n&2&&$(r.display?0:-1)},dependencies:[At,Se],encapsulation:2})}return t})();function E2e(t,i){if(t&1&&(h(0,"a",21),R(1),H(2,"translate"),g()),t&2){let e=y(2);C("href",e.detailInformationUrl,un),d(),ne(" ",j(2,2,e.Message.CHECKOUT_APP_3DSECURE_WHAT_IS_3DSECURE)," ")}}function T2e(t,i){if(t&1&&(h(0,"div",14)(1,"span",20),R(2),H(3,"translate"),g(),J(4,E2e,3,4,"a",21),g()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_MORE_INFORMATION)," "),d(2),$(e.detailInformationUrl&&e.showHelpLink()?4:-1)}}var Pte=(()=>{class t{#e=E(Tn);#t=E(Dv);#n=E(ti);#i=E(_i);#r=E(zt);#o=E(no);#a=E(Sn);static POPUP_NAME="PaymentProviderWindow";Message=K;NotificationType=rn;detailInformationUrl=null;form={};subscriptions=[];affiliateCode="";ngOnInit(){this.#o.setTitle(this.#a.instant(K.CHECKOUT_APP_PAGE_TITLE_3DSECURE)),this.subscriptions.push(this.subscribeAffiliate()),this.initFormData(this.#t.get3dSecurePageData())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}subscribeAffiliate(){return this.#e.observeAffiliate().subscribe(e=>{this.affiliateCode=e.code;let n;ce.hasProperty(e,"helpLink.help3dSecureLink")&&(n=e.helpLink.help3dSecureLink),ee.isNotEmpty(n)?this.detailInformationUrl=`${n}&lipa=popup`:this.detailInformationUrl=null})}initFormData(e){let n=this.#i.get(qi.Language),r=`/checkout.html?affiliate=${this.affiliateCode}&doc=cart&language=${n}`,o=encodeURIComponent(`${r}#/summary`),s=encodeURIComponent(`${r}#/payment`);ro.isInsideIFrame()?this.form.target=t.POPUP_NAME:this.form.target="_self",this.form.action=e.bankUrl,this.form.termUrl=`${location.origin}/${e.endPointUrl}`,this.form.paReq=e.paReq,this.form.md=`token=${e.xsrfToken}&affiliate=${this.affiliateCode}&prid=${e.payRequestId}&successPath=${o}&errorPath=${s}&iframeEnabled=false`}showHelpLink(){return this.#n.hasTranslation(K.CHECKOUT_APP_3DSECURE_WHAT_IS_3DSECURE)}showMoreInformation(){return this.showHelpLink()&&this.#n.hasTranslation(K.CHECKOUT_APP_MORE_INFORMATION)}onClickBackButton(){this.#r.navigate([Qe.Payment])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-d3-secure-page"]],standalone:!1,decls:42,vars:26,consts:[["data-qa","3d-secure-page"],[1,"row"],[1,"col-xs-12","col-md-7"],[1,"row","heading"],["data-qa","page-headline",1,"col-xs-12","headline-title","page-headline-first-order","p-font-checkout"],["evHideOnMobile","",1,"col-md-5"],[3,"noContentPadding"],["name","secure3dForm","ngNoForm","","method","POST",3,"action","target"],["type","hidden","name","TermUrl",3,"value"],["type","hidden","name","MD",3,"value"],["type","hidden","name","PaReq",3,"value"],["type","submit","data-qa","3d-secure-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius"],[3,"showDetailsTitle"],["data-qa","hint-text",1,"col-xs-12"],[1,"col-xs-12"],[1,"hidden-xs","hidden-sm","col-md-4","col-md-offset-1"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow"],[1,"col-xs-12","back-link"],["tabindex","0","role","link","data-qa","back-to-shop-link",1,"link",3,"keydown.space","keydown.enter","click"],[1,"icon","icon-arrow-left","before-text"],["data-qa","info-text"],["data-link","popup","data-qa","help-link","target","_blank",1,"link",3,"href"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),R(5),H(6,"translate"),g()()(),h(7,"div",5),D(8,"ev-reservation-time-counter"),g()(),h(9,"div",1)(10,"div",2)(11,"ev-pl-card",6)(12,"section"),R(13),H(14,"translate"),H(15,"translate"),g(),h(16,"section")(17,"form",7),D(18,"input",8)(19,"input",9)(20,"input",10),h(21,"button",11),R(22),H(23,"translate"),g()()(),h(24,"section")(25,"ev-toggle",12)(26,"div",1)(27,"div",13),R(28),H(29,"translate"),g(),J(30,T2e,5,4,"div",14),g()()()()(),h(31,"div",15),D(32,"ev-guarantee-box"),g()(),h(33,"div",1)(34,"div",2)(35,"div",16)(36,"div",17)(37,"span",18),Ee("keydown.space",function(){return r.onClickBackButton()})("keydown.enter",function(){return r.onClickBackButton()})("click",function(){return r.onClickBackButton()}),D(38,"i",19),h(39,"span"),R(40),H(41,"translate"),g()()()()()()()),n&2&&(d(5),ne(" ",j(6,14,r.Message.CHECKOUT_APP_3DSECURE_TITLE)," "),d(6),C("noContentPadding",!0),d(2),Vi(" ",j(14,16,r.Message.CHECKOUT_APP_3DSECURE_COPY)," ",j(15,18,r.Message.CHECKOUT_APP_3DSECURE_HINT)," "),d(4),Xt("action",r.form.action,un),Xt("target",r.form.target),d(),Xt("value",r.form.termUrl),d(),Xt("value",r.form.md),d(),Xt("value",r.form.paReq),d(2),ne(" ",j(23,20,r.Message.CHECKOUT_APP_TO3DSECURE)," "),d(3),C("showDetailsTitle",r.Message.CHECKOUT_APP_3DSECURE_HINT_TOGGLE_NAME),d(3),ne(" ",j(29,22,r.Message.CHECKOUT_APP_3DSECURE_HINT_TOGGLE_TEXT)," "),d(2),$(r.showMoreInformation()?30:-1),d(10),Ae(j(41,24,r.Message.CHECKOUT_APP_LINK_BACK_TO_PAYMENT)))},dependencies:[$n,ta,go,Sl,C1,Se],encapsulation:2})}return t})();var mh=function(t){return t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t}(mh||{});var DM=class{preAuth=an(null);headline;description;marginal;returnValue;formGroup;submitData;additionalData;isInitiallyExpanded;isInitiallyCollapsed;infoText;isExpanded=!1;showImageInsteadOfHeadline=!1;altText;showItem=nn(!0);_id;_images;_activatedByUserAction;_disabled;_submitStream=new qn;_clickStream=new qn;_spinnerStream=new qn;_formErrorStream=new ni(null);_eventType=mh.Mouse;constructor(i){this._id=i.id,this.headline=i.headline,this.description=i.description,this.marginal=i.marginal,this.returnValue=i.returnValue,this.formGroup=i.formGroup,this.submitData=i.submitData,this._images=i.images,this.altText=i.altText,this.isInitiallyExpanded=i.isExpanded,this.isInitiallyCollapsed=i.isCollapsed,this.infoText=i.infoText,this._activatedByUserAction=i.activatedByUserAction,this._disabled=i.disabled,this.showImageInsteadOfHeadline=i.showOnlyImage}get id(){return this._id}get images(){return Array.isArray(this._images)||(this._images=new Array(this._images)),this._images}get disabled(){return this._disabled}get hasUserActed(){return this._activatedByUserAction}get eventType(){return this._eventType}set activatedByUserAction(i){this._activatedByUserAction=i}isValid(){return this.hasFormGroup()?ce.isObject(this.formGroup)&&this.formGroup.valid:!0}clearError(){this._formErrorStream.next(null)}notifyClickListener(i){this._clickStream.next(i)}onClick(){return this._clickStream.asObservable()}onSpinner(){return this._spinnerStream.asObservable()}throwError(i){this._formErrorStream.next(i)}setSubmitted(){this.markFormAsTouched(),this._submitStream.next(null)}onError(){return this._formErrorStream.asObservable()}onSubmit(){return this._submitStream.asObservable()}hasFormGroup(){return this.formGroup!==void 0}markFormAsTouched(){this.hasFormGroup()&&(this.clearError(),xs.markAsTouched(this.formGroup))}showSpinner(){this._spinnerStream.next(!0)}hideSpinner(){this._spinnerStream.next(!1)}setAccordionEventType(i){this._eventType=i}};var Gp=class{headline;id;description;marginal;images=[];altText;returnValue;formGroup;submitData;isExpanded=!1;isCollapsed=!1;infoText="";activatedByUserAction=!1;disabled=!1;showOnlyImage=!1;constructor(i){this.headline=i}setId(i){return this.id=ee.getRandomId(`${i}_`),this}setDescription(i){return this.description=i,this}setMarginal(i){return this.marginal=i,this}setImages(i,e){return Array.isArray(i)?this.images=i:this.images=new Array(i),this.altText=e||ee.EMPTY_STRING,this}setReturnValue(i){return this.returnValue=i,this}setFormGroup(i){return this.formGroup=i,this}setSubmitData(i){return this.submitData=i,this}setSelected(i,e=!1){return this.isExpanded=i,this.activatedByUserAction=e,this}setCollapsed(i){return this.isCollapsed=i,this}setInfoText(i){return this.infoText=i,this}setDisabled(i=!0){return this.disabled=i,this}build(){return new DM(this)}setOnlyImageAsHeadline(i){return this.showOnlyImage=i,this}};var Yl=class t{static getDeliveryMethodIcons(){return new Map([["icon-world","delivery-world"],["icon-ticketdirect","delivery-printathome"],["icon-shipping-normal","delivery-standard"],["icon-pickup","store"],["icon-mobile","delivery-mobile"],["icon-express","delivery-express"],["icon-eventimpass","delivery-mobile"],["icon-delivery_truck","delivery-express"],["icon-collector-ticket","collector-ticket"],[null,"delivery-standard"]])}static determineDisplayText(i){let e=new po(new wa(i.name));return i.appleWalletPossible&&(e.append(wa.SPACE),e.append(new o1(K.CHECKOUT_APP_DELIVERY_TYPE_INCL_APPLE_WALLET))),e}static createAccordionItems(i,e,n,r){let o=i.map(s=>{let c=!1,v=!1;e!==void 0&&(c=ce.isObject(e)&&e.id===s.id,v=s.featureAbTest,s.featureAbTest&&c&&(v=!1));let b=new Gp(t.determineDisplayText(s)).setId(s.id).setDescription(s.deliveryHint).setMarginal(s.deliveryFee).setReturnValue(s).setSelected(c).setDisabled(v);return r!==void 0&&(b.activatedByUserAction=r),!c&&n&&b.setCollapsed(n),ee.isNotEmpty(s.infoText)&&b.setInfoText(s.infoText),b.build()});return t.checkPreselectionOfFirstItem(o),o}static checkPreselectionOfFirstItem(i){if(Dt.isNotEmpty(i)&&i.find(n=>n.isInitiallyExpanded&&!n.disabled)===void 0){let n=i.find(r=>!r.disabled);n.isInitiallyExpanded=!0,n.isInitiallyCollapsed=!1}}};var Wm=(()=>{class t{#e=new ni(null);#t=!1;#n=E(fn);#i=E(Tn);broadcastSelectedDeliveryMethod(e){this.#e.next(e)}observeSelectedDeliveryMethod(){return this.#e.asObservable().pipe(Yt(e=>e!==null))}isDeliveryMethodPreselectedForFirstView(){return this.#t}preselectDeliveryMethodForFirstView(e,n){this.#t=n||e}filterDeliveryMethodsBasedOnCountry(e,n){return ee.isNotEmpty(n)?e.filter(r=>r.availableCountries.length===0||r.availableCountries.indexOf(n)>-1):e}getInitialDeliveryCountry(e,n){let r;if(this.#n.get(ut.CUSTOMER_CHECKED_DEVIATING_DELIVERY,!1))r=e.countries.flatMap(s=>s.items).find(s=>s.id===n.country);else{let s=n.invoiceData.find(c=>c.fieldName===Ue.CustomerCountry)?.value;r=e.countries.flatMap(c=>c.items).find(c=>c.id===s)}return r||(r=this.getDefaultCountryJson()),r}getDefaultCountryJson(){return{id:this.#i.getAffiliate()?.platformCountryCode,name:"",phoneCode:"",zipCodePattern:"",zipCodeLookupMode:0}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function b2e(t,i){if(t&1&&(h(0,"h3",3),R(1),H(2,"translate"),g(),h(3,"p",4),R(4),H(5,"translate"),g()),t&2){let e=y();d(),Ae(j(2,2,e.Message.CHECKOUT_APP_DELIVERY_ETICKET_HEADLINE)),d(3),Ae(j(5,4,e.Message.CHECKOUT_APP_DELIVERY_ETICKET_INFORMATION))}}var _A=(()=>{class t{Message=K;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-mobile-delivery-method"]],standalone:!1,decls:4,vars:1,consts:[["content",""],[1,"col-xs-12","margin-top-xs"],[3,"ngTemplateOutlet"],[1,"card-inline-headline"],[1,"card-paragraph","theme-text-variant-color"]],template:function(n,r){if(n&1&&(h(0,"div",1),ci(1,2),g(),J(2,b2e,6,6,"ng-template",null,0,vi)),n&2){let o=Fn(3);d(),C("ngTemplateOutlet",o)}},dependencies:[hr,Se],encapsulation:2})}return t})();var fh=(()=>{class t{_notifications=new Map;setRemoteNotification(e){if(this._notifications.has(e.page)){let n=this._notifications.get(e.page);n.push(e),this._notifications.set(e.page,n)}else this._notifications.set(e.page,[e])}getRemoteNotifications(e){let n=null;return this._notifications.has(e)&&(n=this._notifications.get(e),this._notifications.delete(e)),n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kte=(()=>{class t{remoteNotificationService=E(fh);orderService=E(yi);router=E(zt);handleError(e){let n=e.errorCode;switch(n){case na.TDL_LIMIT_REACHED:this.handleCrossClientTicketLimitation();break;default:this.router.navigate([`error/${n}`])}}handleCrossClientTicketLimitation(){let e=K.CHECKOUT_APP_SHOPPING_CART_MAXIMUM_AMOUNT_OF_TICKETS_EXCEEDED;this.remoteNotificationService.setRemoteNotification({message:e,type:rn.Danger,page:Qe.ShoppingCart}),this.orderService.clearShoppingCart().finally(()=>{this.router.navigate([Qe.ShoppingCart])})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var OM=(()=>{class t extends uM{customer;form;buttonTitle;constructor(e,n,r,o){super(e,n,r,o)}setup(e,n,r){this.customer=e?.customer,this.form=n,this.buttonTitle=r}handle(e,n,r){return this.setup(e,n,r),super.handle()}getValueIfTanIsExpected(){let e=this.customer?.contactData?.find(r=>r.fieldName===Ue.CustomerEmail)?.value;return this.form?.getForm(bn.ContactData)?.getField(Ue.CustomerEmail)?.control?.value?.toLowerCase()!==e?.toLowerCase()?e:null}isActive(){return ce.isObject(this.customer)&&this.customer.emailChangeAuthenticationRequired}getTransmissionType(){return"email"}getProcessType(){return"authentication"}getLayerMessages(){return{startDialog:{headline:K.CUSTOMER_AUTHENTICATION_START_DIALOG_HEADLINE,infoText:K.CUSTOMER_AUTHENTICATION_START_DIALOG_INFO_TEXT_EMAIL,cancelButton:K.CUSTOMER_AUTHENTICATION_START_DIALOG_CANCEL_BUTTON,sendCodeButton:K.CUSTOMER_AUTHENTICATION_START_DIALOG_SEND_CODE_BUTTON},enterCodeDialog:{headline:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_HEADLINE,infoText:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_INFO_TEXT_EMAIL,codeInputPlaceholder:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_CODE_INPUT_PLACEHOLDER,invalidCodeError:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_INVALID_CODE_ERROR,sendButton:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_SEND_BUTTON,waitForResendText:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_WAIT_FOR_RESEND_TEXT,resendLink:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_RESEND_LINK,cancelButton:K.CUSTOMER_AUTHENTICATION_ENTER_CODE_DIALOG_CANCEL_BUTTON},successDialog:{headline:K.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_HEADLINE,infoText:K.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_INFO_TEXT,redirectText:K.CUSTOMER_AUTHENTICATION_SUCCESS_DIALOG_REDIRECT_TEXT},errorDialog:{headline:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_HEADLINE,tooManyUsesError:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_TO_MANY_USES_ERROR,internalValidationError:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_VALIDATION_ERROR,defaultError:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_DEFAULT_ERROR,sendNewCodeButton:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_SEND_NEW_CODE_BUTTON,cancelButton:K.CUSTOMER_AUTHENTICATION_ERROR_DIALOG_CANCEL_BUTTON},skippedDialog:{headline:K.CUSTOMER_AUTHENTICATION_SKIPPED_DIALOG_HEADLINE,infoText:K.CUSTOMER_AUTHENTICATION_SKIPPED_DIALOG_INFO_TEXT,continueButton:this.buttonTitle}}}static \u0275fac=function(n){return new(n||t)(yt(Ir),yt(kn),yt(pM),yt(Lp))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var WT=(()=>{class t extends uM{page;form;buttonTitle;constructor(e,n,r,o){super(e,n,r,o)}setup(e,n,r){this.page=e,this.form=n,this.buttonTitle=r}getValueIfTanIsExpected(){return this.getMobileField()?.control?.value}initDeviatingCountryWarning(){this.getMobileField()?.setProperty(e$,this.isActive())}isActive(){return this.page?.authenticationNeeded}getTransmissionType(){return"sms"}getProcessType(){return"verification"}getLayerMessages(){return{startDialog:{headline:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_HEADLINE,infoText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_INFO,cancelButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_BUTTON_ABORT,sendCodeButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_BUTTON_SENDCODE},enterCodeDialog:{headline:K.CHECKOUT_APP_AUTHENTICATION_LAYER_VERIFYING_TAN_HEADLINE,infoText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_INFO,codeInputPlaceholder:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_FIELD_PLACEHOLDER,invalidCodeError:K.CHECKOUT_APP_CUSTOMER_AUTHENTICATION_TAN_INVALID,sendButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_BUTTON_SENDCODE,waitForResendText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_TIMER_TEXT,resendLink:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_LINK_RESEND_TAN,cancelButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_BUTTON_CANCEL},successDialog:{headline:K.CHECKOUT_APP_AUTHENTICATION_LAYER_VERIFYING_TAN_HEADLINE,infoText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_SUCCESSFUL_VERIFIED_TAN_INFO,redirectText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_SUCCESSFUL_VERIFIED_TAN_REDIRECT_LINK},errorDialog:{headline:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_HEADLINE,tooManyUsesError:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_TOO_MANY_USES,internalValidationError:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_FAILED_INFO,defaultError:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_DEFAULT,sendNewCodeButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_FAILED_BUTTON,cancelButton:K.CHECKOUT_APP_AUTHENTICATION_LAYER_ENTER_CODE_BUTTON_CANCEL},skippedDialog:{headline:K.CHECKOUT_APP_AUTHENTICATION_LAYER_AUTHENTICATE_ERROR_HEADLINE,infoText:K.CHECKOUT_APP_AUTHENTICATION_LAYER_SKIPPED_TEXT,continueButton:this.buttonTitle}}}getMobileField(){return this.form?.getForm(bn.ContactData)?.getField(Ue.CustomerMobile)}static \u0275fac=function(n){return new(n||t)(yt(Ir),yt(kn),yt(pM),yt(Lp))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var C$=(()=>{class t{ticketLimitationErrorHandlerService=E(kte);router=E(zt);logService=E(bt);emailChangeAuthenticationService=E(OM);mobilePhoneVerificationService=E(WT);handleError(e,n){switch(this.logService.debug(new Error(`Error ${e.errorCode} after submitting form`),"Delivery Submit"),e.errorCode){case br.DUPLICATE_FISCAL_CODE:this.handleDuplicateFiscalCode(n);break;case br.DUPLICATE_VAT:this.handleDuplicateVat(n);break;case br.TDL_LIMIT_REACHED:this.ticketLimitationErrorHandlerService.handleError(e);break;default:this.emailChangeAuthenticationService.reset(),this.mobilePhoneVerificationService.reset(),this.router.navigate([`${Qe.Error}/${e.errorCode}`]).finally()}}handleDuplicateFiscalCode(e){let n=e.getForm(bn.InvoiceData);if(n!==null){let r=n.getField(Ue.CustomerFiscalCode);if(r!==null){r.validation.get(wt.Failed).setErrorMessage(K.GLOBAL_CUSTOMER_FISCAL_CODE_EXISTS),r.validation.get(wt.Failed).enable(),r.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1});let o=document.getElementsByName(Ue.CustomerFiscalCode).item(0);o!==null&&o.scrollIntoView()}}}handleDuplicateVat(e){let n=e.getForm(bn.InvoiceData);if(n!==null){let r=n.getField(Ue.CustomerVat);if(r!==null){r.validation.get(wt.Failed).enable(),r.control.updateValueAndValidity({onlySelf:!1,emitEvent:!1});let o=document.getElementsByName(Ue.CustomerVat).item(0);o!==null&&o.scrollIntoView()}}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hh=(()=>{class t{NotificationType=rn;set selectedAccordionItem(e){ce.isObject(this._selectedAccordionItem)&&(this.previousSelectedDeliveryMethod=this._selectedAccordionItem.returnValue),this._selectedAccordionItem=e}get selectedAccordionItem(){return this._selectedAccordionItem}set order(e){this._order!==void 0&&(this.previousOrder=this._order),this._order=e}get order(){return this._order}set accordionItems(e){this._accordionItems!==void 0&&(this.previousAccordionItems=this._accordionItems),this._accordionItems=e}get accordionItems(){return this._accordionItems}message;previousSelectedDeliveryMethod;previousAccordionItems;previousOrder;_selectedAccordionItem;_accordionItems;_order;static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{selectedAccordionItem:"selectedAccordionItem",order:"order",accordionItems:"accordionItems"}})}return t})();var gh=class{static getActiveField(i){let e=bn.InvoiceData,n=Ue.CustomerCountry;return i!=null&&(i.hasForm(bn.DeliveryData)&&i.getForm(bn.DeliveryData).active&&(e=bn.DeliveryData,n=Ue.DeliveryCountry),i.has(e,n))?i.getForm(e).getField(n):null}static getInactiveField(i){let e=bn.InvoiceData,n=Ue.CustomerCountry;return i!=null&&(i.hasForm(bn.DeliveryData)&&!i.getForm(bn.DeliveryData).active&&(e=bn.DeliveryData,n=Ue.DeliveryCountry),i.has(e,n))?i.getForm(e).getField(n):null}};var CA=(()=>{class t extends hh{translationService=E(ti);static NEW_DELIVERY_METHODS="new-delivery-methods";static SELECTED_METHOD_CHANGED="changed-delivery-method";parentForm;dataQa;isNotificationVisible=!1;notice=new th("DeliveryMethodChangesHint",rn.Warning,this.message);isVisible(){let e=this.hasUserSelectedMethod();if(ce.isObject(this.previousSelectedDeliveryMethod)&&!e&&ce.isObject(this.selectedAccordionItem)&&Number(this.selectedAccordionItem.id.split("_")[0])!==this.previousSelectedDeliveryMethod.id)return this.dataQa=t.SELECTED_METHOD_CHANGED,this.updateMessage(this.getSelectedMethodChangedMessage(this.selectedAccordionItem.returnValue,this.previousSelectedDeliveryMethod)),this.showOnCountryField(),this.isNotificationVisible=!0,this.isNotificationVisible;if(this.isNotificationVisible&&e)return this.previousAccordionItems=void 0,this.removeFromCountryField(),this.isNotificationVisible=!1,this.isNotificationVisible;if(this.previousAccordionItems===void 0)return this.removeFromCountryField(),this.isNotificationVisible=!1,this.isNotificationVisible;this.dataQa=t.NEW_DELIVERY_METHODS,this.updateMessage(K.CHECKOUT_APP_DELIVERY_DELIVERY_TYPES_CHANGED);let n=this.hasChanged();return n?this.showOnCountryField():this.removeFromCountryField(),this.isNotificationVisible=n,this.isNotificationVisible}hasUserSelectedMethod(){return ce.isObject(this.selectedAccordionItem)&&this.selectedAccordionItem.hasUserActed}hasChanged(){return this.accordionItems.length>0&&!this.compareMethods(this.accordionItems,this.previousAccordionItems)}compareMethods(e,n){if(Dt.isNotEmpty(e)&&Dt.isNotEmpty(n)){if(e.length!==n.length)return!1;let r=e.map(s=>Number(s.id.split("_")[0])).sort(),o=n.map(s=>Number(s.id.split("_")[0])).sort();return Dt.compare(r,o)}return!1}getSelectedMethodChangedMessage(e,n){if(e!==void 0&&n!==void 0){let r=new Map([[mv.ChangedChosenDeliveryMethodPrev,n.name],[mv.ChangedChosenDeliveryMethodNew,e.name]]);return Ip.replaceTranslationParams(this.translationService.instantTranslate(K.CHECKOUT_APP_DELIVERY_CHANGED_CHOSEN_DELIVERY_METHOD),r)}return null}updateMessage(e){this.message=e,this.notice.message=this.message}showOnCountryField(){let e=gh.getActiveField(this.parentForm);e!==null&&(e.notice.set(this.notice),this.clearInactiveCountryField())}removeFromCountryField(){let e=gh.getActiveField(this.parentForm);e!==null&&(e.notice.remove(this.notice.name),this.clearInactiveCountryField())}clearInactiveCountryField(){let e=gh.getInactiveField(this.parentForm);e!==null&&e.notice.clear()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-changes-hint"]],inputs:{parentForm:"parentForm"},standalone:!1,features:[dt],decls:3,vars:6,consts:[[3,"type","visible"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"translate"),g()),n&2&&(C("type",r.NotificationType.Warning)("visible",r.isVisible()),Le("data-qa",r.dataQa),d(),C("evCoreHtml",j(2,4,r.message)))},dependencies:[xt,On,Se],encapsulation:2,changeDetection:0})}return t})();var yA=(()=>{class t extends hh{message=K.CHECKOUT_APP_DELIVERY_NO_DELIVERY_TYPES_ERROR;parentForm;notice=new th("NoDeliveryMethodsHint",rn.Danger,this.message);isVisible(){return Dt.isEmpty(this.accordionItems)?(this.showOnCountryField(),!0):(this.removeFromCountryField(),!1)}showOnCountryField(){let e=gh.getActiveField(this.parentForm);e!==null&&(e.notice.set(this.notice),this.clearInactiveCountryField())}removeFromCountryField(){let e=gh.getActiveField(this.parentForm);e!==null&&(e.notice.remove(this.notice.name),this.clearInactiveCountryField())}clearInactiveCountryField(){let e=gh.getInactiveField(this.parentForm);e!==null&&e.notice.clear()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-no-delivery-methods-hint"]],inputs:{parentForm:"parentForm"},standalone:!1,features:[dt],decls:3,vars:5,consts:[["data-qa","no-delivery-methods",3,"type","visible"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"translate"),g()),n&2&&(C("type",r.NotificationType.Danger)("visible",r.isVisible()),d(),C("evCoreHtml",j(2,3,r.message)))},dependencies:[xt,On,Se],encapsulation:2,changeDetection:0})}return t})();var EA=(()=>{class t{createAccordionItems(e,n,r){let o=e.map(s=>{let c=n!==void 0&&n.id===s.id,v=s.featureAbTest;s.featureAbTest&&c&&(v=!1);let b=new Gp(Yl.determineDisplayText(s)).setId(s.id).setDescription(s.deliveryHint).setMarginal(s.deliveryFee).setReturnValue(s).setSelected(c).setDisabled(v);return!c&&r&&b.setCollapsed(r),ee.isNotEmpty(s.infoText)&&b.setInfoText(s.infoText),b.build()});if(Dt.isNotEmpty(o)&&o.find(c=>c.isInitiallyExpanded&&!c.disabled)===void 0){let c=o.find(v=>!v.disabled);c.isInitiallyExpanded=!0,c.isInitiallyCollapsed=!1}return o}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function NM(){return t=>t.pipe(Yt(i=>i!=null))}var Ov=(()=>{class t{showContainer=nn(!1);customerForm=We();isValidInput(){return ce.isObject(this.customerForm())&&ee.isNotEmpty(this.customerForm().eviBaseUrl)&&ee.isNotEmpty(this.customerForm().eviJsAssetUrl)}buildGcpsOptions(e,n=!1){return{baseUrl:this.customerForm().eviBaseUrl,jsPath:this.customerForm().eviJsAssetUrl,token:e,delayedSubmission:n}}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{customerForm:[1,"customerForm"]}})}return t})();var A2e=["container"];function P2e(t,i){if(t&1){let e=Je();h(0,"div",2,0),Ee("onReady",function(r){Ne(e);let o=y();return Re(o.isReady(r))}),g()}if(t&2){let e=y();C("hidden",!e.showContainer())("evFormsGcps",e.buildGcpsOptions(e.customerForm().eviToken,!0))}}var y1=(()=>{class t extends Ov{container=u0("container");#e=E(Er);showInfoMailing=sn(()=>this.isValidInput()&&ee.isNotEmpty(this.customerForm().eviToken));isReady(e){if(this.showContainer.set(e),e){let n=this.container().nativeElement.querySelector("input");n&&this.#e.listen(n,"keydown.enter",r=>{this.handleEnterKey(r)})}}handleEnterKey(e){e.target instanceof HTMLInputElement&&e.target.type==="checkbox"&&(e.preventDefault(),e.target.click())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gcps-info-mailing-container"]],viewQuery:function(n,r){n&1&&m0(r.container,A2e,5),n&2&&iv()},standalone:!1,features:[dt],decls:1,vars:1,consts:[["container",""],[3,"hidden","evFormsGcps"],[3,"onReady","hidden","evFormsGcps"]],template:function(n,r){n&1&&J(0,P2e,2,2,"div",1),n&2&&$(r.showInfoMailing()?0:-1)},dependencies:[D0],encapsulation:2})}return t})();function k2e(t,i){if(t&1){let e=Je();h(0,"div",1),Ee("onReady",function(r){Ne(e);let o=y();return Re(o.isReady(r))}),g()}if(t&2){let e=y();C("hidden",!e.showContainer())("evFormsGcps",e.buildGcpsOptions(e.customerForm().eviTokenForGNL))}}var TA=(()=>{class t extends Ov{#e=sn(()=>ce.isEmpty(this.customerForm())||this.customerForm().newCustomer===void 0?!0:this.customerForm().newCustomer);showNewsletter=sn(()=>this.#e()&&this.isValidInput()&&ee.isNotEmpty(this.customerForm().eviTokenForGNL));isReady(e){this.showContainer.set(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gcps-newsletter-container"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[[3,"hidden","evFormsGcps"],[3,"onReady","hidden","evFormsGcps"]],template:function(n,r){n&1&&J(0,k2e,1,2,"div",0),n&2&&$(r.showNewsletter()?0:-1)},dependencies:[D0],encapsulation:2})}return t})();function D2e(t,i){if(t&1&&(h(0,"section"),ci(1,3),g(),h(2,"div",4),D(3,"hr",5),g()),t&2){y();let e=Fn(4);d(),C("ngTemplateOutlet",e)}}function O2e(t,i){if(t&1&&ci(0,3),t&2){y();let e=Fn(4);C("ngTemplateOutlet",e)}}function N2e(t,i){if(t&1&&ci(0,3),t&2){y(2);let e=Fn(6);C("ngTemplateOutlet",e)}}function R2e(t,i){if(t&1&&ci(0,3),t&2){y(2);let e=Fn(6);C("ngTemplateOutlet",e)}}function M2e(t,i){if(t&1&&(J(0,N2e,1,1,"ng-container",3),D(1,"ev-gcps-newsletter-container",6)(2,"ev-gcps-info-mailing-container",6),J(3,R2e,1,1,"ng-container",3)),t&2){let e=y();$(e.showAsCard?0:-1),d(),C("customerForm",e.customerForm),d(),C("customerForm",e.customerForm),d(),$(e.showAsCard?-1:3)}}function F2e(t,i){if(t&1&&(h(0,"div",7)(1,"div",8),R(2),H(3,"translate"),g()()),t&2){let e=y(2);d(),C("ngClass",e.additionalTextClass()),d(),ne(" ",j(3,2,e.Message.CHECKOUT_APP_NEWSLETTER_CHECKBOX_ADDITIONAL_TEXT)," ")}}function L2e(t,i){if(t&1&&J(0,F2e,4,4,"div",7),t&2){let e=y();$(e.hasAdditionalText()?0:-1)}}var y$=(()=>{class t{translateLoaderService=E(ti);Message=K;infoMailing=u0(y1);generalNewsletter=u0(TA);showContainer=sn(()=>this.infoMailing()?.showContainer()||this.generalNewsletter()?.showContainer());customerForm;showAsCard=!0;hasAdditionalText(){return this.translateLoaderService.hasTranslation(K.CHECKOUT_APP_NEWSLETTER_CHECKBOX_ADDITIONAL_TEXT)}additionalTextClass(){return this.showAsCard?"card-hint":"data-protection-paragraph font-size-xs"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gcps-newsletter"]],viewQuery:function(n,r){n&1&&(m0(r.infoMailing,y1,5),m0(r.generalNewsletter,TA,5)),n&2&&iv(2)},inputs:{customerForm:"customerForm",showAsCard:"showAsCard"},standalone:!1,decls:7,vars:2,consts:[["content",""],["additionalText",""],[1,"margin-bottom-s",3,"hidden"],[3,"ngTemplateOutlet"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[3,"customerForm"],[1,"row"],[1,"col-xs-12","theme-text-light-color","checkbox-hint","margin-bottom-m",3,"ngClass"]],template:function(n,r){n&1&&(h(0,"div",2),J(1,D2e,4,1)(2,O2e,1,1,"ng-container",3),g(),J(3,M2e,4,4,"ng-template",null,0,vi)(5,L2e,1,1,"ng-template",null,1,vi)),n&2&&(C("hidden",!r.showContainer()),d(),$(r.showAsCard?2:1))},dependencies:[At,hr,y1,TA,Se],encapsulation:2})}return t})();var Dte=t=>[t];function U2e(t,i){if(t&1){let e=Je();h(0,"ev-forms-shocu",9),Ee("onFieldsVisibilityChange",function(r){Ne(e);let o=y();return Re(o.updateFormVisibility(r))}),g()}if(t&2){let e=y();C("hidden",!e.formVisibility.get(e.ShocuFieldGroup.InvoiceData))("form",e.parentForm.getForm(e.ShocuFieldGroup.InvoiceData))("shocuFields",e.shocuGroupConfigs.get(e.ShocuFieldGroup.InvoiceData))("fiscalCodeConfig",e.fiscalCodeConfig)("referenceData",e.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.customerForm)("deliveryMethodType",e.deliveryMethodType)("addressFieldMode",e.addressFieldMode)}}function $2e(t,i){if(t&1){let e=Je();h(0,"div",1)(1,"section",10),D(2,"ev-forms-checkbox",11),H(3,"translate"),g(),h(4,"ev-forms-shocu",9),Ee("onFieldsVisibilityChange",function(r){Ne(e);let o=y();return Re(o.updateFormVisibility(r))}),g()()}if(t&2){let e=y();C("hidden",!e.formVisibility.get(e.ShocuFieldGroup.InvoiceRequestData)),d(2),C("label",j(3,14,e.Message.CHECKOUT_APP_INVOICE_REQUEST_DATA_CHECKBOX_LABEL))("value",!0)("fieldName",e.invoiceRequestFormControl.name)("isExpandableCheckbox",!0),d(2),C("hidden",!e.invoiceRequestFormControl.control.value)("form",e.parentForm.getForm(e.ShocuFieldGroup.InvoiceRequestData))("shocuFields",e.shocuGroupConfigs.get(e.ShocuFieldGroup.InvoiceRequestData))("fiscalCodeConfig",e.fiscalCodeConfig)("referenceData",e.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.customerForm)("deliveryMethodType",e.deliveryMethodType)("addressFieldMode",e.addressFieldMode)}}function H2e(t,i){if(t&1){let e=Je();h(0,"div",1)(1,"ev-forms-shocu",12),Ee("onFieldsVisibilityChange",function(r){Ne(e);let o=y();return Re(o.updateFormVisibility(r))}),g(),D(2,"ev-gdpr-hint",13),g()}if(t&2){let e=y();C("hidden",!e.formVisibility.get(e.ShocuFieldGroup.ContactData)),d(),C("form",e.parentForm.getForm(e.ShocuFieldGroup.ContactData))("shocuFields",e.shocuGroupConfigs.get(e.ShocuFieldGroup.ContactData))("fiscalCodeConfig",e.fiscalCodeConfig)("referenceData",e.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.customerForm)("deliveryMethodType",e.deliveryMethodType)("addressFieldMode",e.addressFieldMode),d(),C("additionalHints",et(13,Dte,e.Message.GLOBAL_HINTS_GDPR_CUSTOMER_DATA))("showGeneralHint",!1)("wrapInSection",!0)("cssClasses","card-hint theme-text-light-color")}}function V2e(t,i){if(t&1&&(h(0,"section",7),D(1,"ev-forms-checkbox",14),H(2,"translate"),g()),t&2){let e=y();C("hidden",!e.formVisibility.get(e.ShocuFieldGroup.DeliveryData)),d(),C("label",j(2,5,e.Message.CHECKOUT_APP_SPECIFY_DEVIATING_DELIVERY_ADDRESS))("value",!0)("fieldName",e.deviatingDeliveryFormControl.name)("isExpandableCheckbox",!0)}}function j2e(t,i){t&1&&(h(0,"div",5),D(1,"hr",6),g())}function G2e(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",15),D(2,"span",16),H(3,"translate"),g()()),t&2){let e=y(2);d(),C("type",e.NotificationType.Warning),d(),C("evCoreHtml",j(3,2,e.Message.CHECKOUT_APP_DELIVERY_NO_DEVIATING_DELIVERY_ADDRESS_ALLOWED))}}function K2e(t,i){if(t&1){let e=Je();h(0,"div",1),J(1,G2e,4,4,"section"),h(2,"ev-forms-shocu",12),Ee("onFieldsVisibilityChange",function(r){Ne(e);let o=y();return Re(o.updateFormVisibility(r))}),g(),D(3,"ev-gdpr-hint",13),g()}if(t&2){let e=y();C("hidden",!e.deviatingDeliveryFormControl.control.value||!e.formVisibility.get(e.ShocuFieldGroup.DeliveryData)),d(),$(e.showDeviatingDeliveryNotAllowedNotification()?1:-1),d(),C("form",e.parentForm.getForm(e.ShocuFieldGroup.DeliveryData))("shocuFields",e.shocuGroupConfigs.get(e.ShocuFieldGroup.DeliveryData))("fiscalCodeConfig",e.fiscalCodeConfig)("referenceData",e.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.customerForm)("deliveryMethodType",e.deliveryMethodType)("addressFieldMode",e.addressFieldMode),d(),C("additionalHints",et(14,Dte,e.Message.GLOBAL_HINTS_GDPR_CUSTOMER_DATA))("showGeneralHint",!1)("wrapInSection",!0)("cssClasses","card-hint theme-text-light-color")}}function q2e(t,i){if(t&1&&(h(0,"div",1)(1,"div",5),D(2,"hr",6),g()()),t&2){let e=y();C("hidden",!e.deviatingDeliveryFormControl.control.value||!e.formVisibility.get(e.ShocuFieldGroup.DeliveryData))}}function W2e(t,i){if(t&1&&(h(0,"section")(1,"div",17),R(2),H(3,"translate"),H(4,"translate"),g()()),t&2){let e=y();d(2),Vi(" ",j(3,2,e.Message.CHECKOUT_APP_NOTE)," ",j(4,4,e.Message.CHECKOUT_APP_DELIVERY_HINT)," ")}}function z2e(t,i){t&1&&(h(0,"div",5),D(1,"hr",6),g())}function Y2e(t,i){if(t&1&&(Mo(0),D(1,"ev-forms-gcps-privacy-preferences",18)(2,"ev-gcps-newsletter",19),Fo()),t&2){let e=y();d(),C("customerForm",e.customerForm)("showAsCard",!1)("showHeadlineInsideCard",!0),d(),C("customerForm",e.customerForm)("showAsCard",!1)}}function J2e(t,i){if(t&1){let e=Je();h(0,"div",1)(1,"section",20)(2,"h2",3),R(3),H(4,"translate"),g()(),h(5,"ev-forms-shocu",12),Ee("onFieldsVisibilityChange",function(r){Ne(e);let o=y();return Re(o.updateFormVisibility(r))}),g(),h(6,"div",5),D(7,"hr",6),g()()}if(t&2){let e=y();C("hidden",!e.formVisibility.get(e.ShocuFieldGroup.LoyaltyData)),d(),C("evAnchor",e.DeliveryPageAnchor.Loyalty),d(2),ne(" ",j(4,11,e.Message.CHECKOUT_APP_SUBHEADLINE_LOYALTY_DATA)," "),d(2),C("form",e.parentForm.getForm(e.ShocuFieldGroup.LoyaltyData))("shocuFields",e.shocuGroupConfigs.get(e.ShocuFieldGroup.LoyaltyData))("fiscalCodeConfig",e.fiscalCodeConfig)("referenceData",e.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.customerForm)("deliveryMethodType",e.deliveryMethodType)("addressFieldMode",e.addressFieldMode)}}var E$=(()=>{class t{Message=K;NotificationType=rn;ShocuFieldGroup=bn;DeliveryPageAnchor=is;onCountryChange=new Jt(!0);fiscalCodeConfig;parentForm;alternativeAddressAllowed;otpAuthenticationNeeded;addressFieldMode=k0.DisplayAllWithOptionalLabel;invoiceRequestFormControl;deviatingDeliveryFormControl;shocuGroupConfigs=new Map;formVisibility=new Map;deliveryMethodType;isNewCustomer=!1;#e=E(Tn);#t=E(fn);#n=E(Cee);#i=E(Sn);#r=E(WT);#o=new Map;#a=null;#s=[];#l=new ni(null);#c=new ni(null);#d;#u;#p;#m=E(Wm);get affiliateJson(){return this.#d}get customerForm(){return this.#u}set customerForm(e){this.#u=e,this.isNewCustomer=e.customerId<0,this.#l.next(e)}get referenceData(){return this.#p}set referenceData(e){this.#c.next(e)}set deliveryMethod(e){ce.isObject(e)&&ce.isObject(e.returnValue)&&(this.deliveryMethodType=e.returnValue.type)}ngOnInit(){this.#s.push(this.onAffiliateUpdate()),this.#s.push(tl([this.#l,this.#c]).pipe(NM()).subscribe(e=>{let[n,r]=e;this.#p=r,this.parentForm.subForms.length===0&&(this.#a=this.#m.getInitialDeliveryCountry(r,n),this.buildCountriesMap(r),this.buildSubForms(n),this.initNewCustomerEmail(),this.initNewCustomerUsername(),this.initCheckboxes(),this.checkCountryChanges(),this.#r.initDeviatingCountryWarning())}))}ngOnDestroy(){this.#s.forEach(e=>{e.unsubscribe()})}isDeviatingDeliveryCheckboxVisible(){return!this.affiliateJson.paytollPlatform&&(this.deviatingDeliveryFormControl.control.value===!0||this.alternativeAddressAllowed)}isDeviatingDeliveryHintFilled(){return ee.isNotEmpty(this.#i.instant(K.CHECKOUT_APP_NOTE).trim())&&ee.isNotEmpty(this.#i.instant(K.CHECKOUT_APP_DELIVERY_HINT).trim())}showDeviatingDeliveryNotAllowedNotification(){return!this.alternativeAddressAllowed&&this.deviatingDeliveryFormControl.control.value&&this.parentForm.hasForm(bn.DeliveryData)}updateFormVisibility(e){let[n,r]=e;this.formVisibility.set(n.name,r),n.name===bn.DeliveryData&&!r&&this.deviatingDeliveryFormControl.control.setValue(!1),n.name===bn.InvoiceRequestData&&!r&&this.invoiceRequestFormControl.control.setValue(!1)}getDeviatingDeliveryTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"shipping",navigation_element_selected:"differing_address"}}}emitOnCountryChange(e,n,r,o){if(this.parentForm.hasForm(n)){let s=this.parentForm.getForm(n),c=s.getField(e);this.#s.push(c.control.valueChanges.subscribe(v=>{o()&&this.shouldEmitCountry(v)&&(this.emitCountry(v),this.resetProvince(r,s))})),o()&&this.shouldEmitCountry(c.control.value)&&this.emitCountry(c.control.value)}}onAffiliateUpdate(){return this.#e.observeAffiliate().subscribe(e=>{this.#d=e})}buildSubForms(e){this.#n.buildSubForms(e,this.otpAuthenticationNeeded).forEach(n=>{this.prefillFormsForCccl(n),this.parentForm.set(n),this.shocuGroupConfigs.set(n.name,n.fields.map(r=>r.config)),this.formVisibility.set(n.name,!0)})}buildCountriesMap(e){e.countries.map(n=>{n.items.map(r=>{this.#o.set(r.id,r)})})}checkCountryChanges(){let n=this.parentForm.getForm(bn.InvoiceData).getField(Ue.CustomerCountry),r,o;this.parentForm.hasForm(bn.DeliveryData)&&(r=this.parentForm.getForm(bn.DeliveryData),o=r.getField(Ue.DeliveryCountry)),n!==null&&this.emitOnCountryChange(Ue.CustomerCountry,bn.InvoiceData,Ue.CustomerProvince,()=>ce.isObject(r)&&!r.active||ce.isNullable(r)||ce.isNullable(o)),o!==null&&(this.emitOnCountryChange(Ue.DeliveryCountry,bn.DeliveryData,Ue.DeliveryProvince,()=>ce.isObject(r)&&r.active),this.handleAlternativeCountryInput()),n===null&&o===null&&this.emitCountry(null)}handleAlternativeCountryInput(){let n=this.parentForm.getForm(bn.InvoiceData).getField(Ue.CustomerCountry),r,o;if(this.parentForm.hasForm(bn.DeliveryData)&&(r=this.parentForm.getForm(bn.DeliveryData),o=r.getField(Ue.DeliveryCountry)),ce.isObject(r)){let s=r.onActivationStateChange().subscribe(c=>{c&&this.shouldEmitCountry(o.control.value)?this.emitCountry(o.control.value):(ce.isObject(n)&&this.shouldEmitCountry(n.control.value)&&this.emitCountry(n.control.value),ce.isNullable(n)&&this.emitCountry(null))});this.#s.push(s),n===null&&this.emitCountry(null),r.active&&this.shouldEmitCountry(o.control.value)&&this.emitCountry(o.control.value)}}shouldEmitCountry(e){return this.#a===null||this.#a?.id!==e}emitCountry(e){let n=null;ee.isNotEmpty(e)&&(n=this.#o.get(e)),this.onCountryChange.emit(n),this.#a=n}resetProvince(e,n){n.hasField(e)&&(n.getField(e).control.setValue(null),n.getField(e).control.markAsUntouched())}initNewCustomerEmail(){let e=this.#t.get(ut.NEW_CUSTOMER_EMAIL,null),n=this.updatedCustomerEmail();ee.isNotEmpty(n)&&(e=n),e!==null&&this.parentForm.subForms.filter(r=>r.hasField(Ue.CustomerEmail)).forEach(r=>{r.getField(Ue.CustomerEmail).control.setValue(e)})}initNewCustomerUsername(){let e=this.#t.get(ut.NEW_CUSTOMER_USERNAME,null),n=this.updatedCustomerUsername();ee.isNotEmpty(n)&&(e=n),e!==null&&this.parentForm.subForms.filter(r=>r.hasField(Ue.CustomerUsername)).forEach(r=>{r.getField(Ue.CustomerUsername).control.setValue(e)})}initCheckboxes(){this.invoiceRequestFormControl=new Gt({fieldName:"checkInvoiceRequestData",type:Mt.Checkbox,mandatory:!1,value:this.#t.get(ut.CUSTOMER_CHECKED_INVOICE_REQUEST,!1),img:"",label:"",separator:Gm.None,width:0}),this.deviatingDeliveryFormControl=new Gt({fieldName:"deviatingDeliveryCheckbox",type:Mt.Checkbox,mandatory:!1,value:this.#t.get(ut.CUSTOMER_CHECKED_DEVIATING_DELIVERY,!1),img:"",label:"",separator:Gm.None,width:0}),this.parentForm.set(this.invoiceRequestFormControl),this.parentForm.set(this.deviatingDeliveryFormControl),this.updateSubFormActivityState(this.invoiceRequestFormControl.control,bn.InvoiceRequestData),this.updateSubFormActivityState(this.deviatingDeliveryFormControl.control,bn.DeliveryData)}updateSubFormActivityState(e,n){let r=this.parentForm.getForm(n);r!==null&&(this.#s.push(e.valueChanges.subscribe(o=>{this.changeFormState(r,o)})),this.changeFormState(r,e.value))}changeFormState(e,n){n?e.enable():e.disable(),e.control.updateValueAndValidity(),this.rememberCustomerDecision(n,e.name)}rememberCustomerDecision(e,n){switch(n){case bn.InvoiceRequestData:this.#t.set(ut.CUSTOMER_CHECKED_INVOICE_REQUEST,e);break;case bn.DeliveryData:this.#t.set(ut.CUSTOMER_CHECKED_DEVIATING_DELIVERY,e);break;default:}}updatedCustomerEmail(){let e=ee.EMPTY_STRING;return this.customerForm.contactData.forEach(n=>{n.fieldName===Ue.CustomerEmail&&ee.isNotEmpty(n.value)&&(e=n.value)}),e}updatedCustomerUsername(){let e=ee.EMPTY_STRING;return this.customerForm.invoiceData.forEach(n=>{n.fieldName===Ue.CustomerUsername&&ee.isNotEmpty(n.value)&&(e=n.value)}),e}prefillFormsForCccl(e){let n=this.#t.get(ut.CCCL_SEARCH_DATA,null);ce.isObject(n)&&(e.name===bn.InvoiceData||e.name===bn.ContactData)&&(this.prefillFieldWithCcclValue(Ue.CustomerFirstName,e,n.firstname),this.prefillFieldWithCcclValue(Ue.CustomerLastName,e,n.lastname),this.prefillFieldWithCcclValue(Ue.CustomerPostalCode,e,n.code),this.prefillFieldWithCcclValue(Ue.CustomerCity,e,n.city),this.prefillFieldWithCcclValue(Ue.CustomerCountry,e,n.country),this.prefillFieldWithCcclValue(Ue.CustomerEmail,e,n.email))}prefillFieldWithCcclValue(e,n,r){n.hasField(e)&&ee.isNotEmpty(r)&&this.isNewCustomer&&n.getField(e).control.setValue(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-customer-data"]],inputs:{fiscalCodeConfig:"fiscalCodeConfig",parentForm:"parentForm",alternativeAddressAllowed:"alternativeAddressAllowed",otpAuthenticationNeeded:"otpAuthenticationNeeded",addressFieldMode:"addressFieldMode",customerForm:"customerForm",referenceData:"referenceData",deliveryMethod:"deliveryMethod"},outputs:{onCountryChange:"onCountryChange"},standalone:!1,decls:19,vars:17,consts:[["novalidate","","data-qa","customerData",1,"validation",3,"formGroup"],[3,"hidden"],[1,"card-headline-section",3,"evAnchor"],[1,"inner-card-headline"],[1,"checkout-form-container",3,"hidden","form","shocuFields","fiscalCodeConfig","referenceData","affiliateJson","customerForm","deliveryMethodType","addressFieldMode"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[1,"radio-group","col-xs-12","card-section",3,"hidden"],[4,"evFormsIsGcpsActive"],[1,"checkout-form-container",3,"onFieldsVisibilityChange","hidden","form","shocuFields","fiscalCodeConfig","referenceData","affiliateJson","customerForm","deliveryMethodType","addressFieldMode"],[1,"radio-group"],["data-qa","option-invoice-request",3,"label","value","fieldName","isExpandableCheckbox"],[1,"checkout-form-container",3,"onFieldsVisibilityChange","form","shocuFields","fiscalCodeConfig","referenceData","affiliateJson","customerForm","deliveryMethodType","addressFieldMode"],[3,"additionalHints","showGeneralHint","wrapInSection","cssClasses"],["data-qa","option-deviating-delivery",3,"label","value","fieldName","isExpandableCheckbox"],[3,"type"],["data-qa","no-deviating-delivery-address",3,"evCoreHtml"],[1,"card-hint","theme-text-light-color"],[3,"customerForm","showAsCard","showHeadlineInsideCard"],[3,"customerForm","showAsCard"],[3,"evAnchor"]],template:function(n,r){n&1&&(h(0,"form",0)(1,"div",1)(2,"section",2)(3,"h2",3),R(4),H(5,"translate"),g()(),J(6,U2e,1,9,"ev-forms-shocu",4)(7,$2e,5,16,"div",1)(8,H2e,3,15,"div",1),h(9,"div",5),D(10,"hr",6),g(),J(11,V2e,3,7,"section",7)(12,j2e,2,0,"div",5)(13,K2e,4,16,"div",1)(14,q2e,3,1,"div",1)(15,W2e,5,6,"section")(16,z2e,2,0,"div",5)(17,Y2e,3,5,"ng-container",8)(18,J2e,8,13,"div",1),g()()),n&2&&(C("formGroup",r.parentForm.control),d(),C("hidden",!r.formVisibility.get(r.ShocuFieldGroup.InvoiceData)&&!r.formVisibility.get(r.ShocuFieldGroup.InvoiceRequestData)&&!r.formVisibility.get(r.ShocuFieldGroup.DeliveryData)&&!r.formVisibility.get(r.ShocuFieldGroup.ContactData)),d(),C("evAnchor",r.DeliveryPageAnchor.DeliveryAddress),d(2),Ae(j(5,15,r.Message.CHECKOUT_APP_DELIVERY_DATA_HEADLINE)),d(2),$(r.parentForm.hasForm(r.ShocuFieldGroup.InvoiceData)?6:-1),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.InvoiceRequestData)?7:-1),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.ContactData)?8:-1),d(3),$(r.isDeviatingDeliveryCheckboxVisible()?11:-1),d(),$(r.isDeviatingDeliveryCheckboxVisible()&&!r.deviatingDeliveryFormControl.control.value?12:-1),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.DeliveryData)&&!r.affiliateJson.paytollPlatform?13:-1),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.DeliveryData)&&!r.affiliateJson.paytollPlatform?14:-1),d(),$(r.isDeviatingDeliveryCheckboxVisible()&&r.isDeviatingDeliveryHintFilled()?15:-1),d(),$(r.isDeviatingDeliveryCheckboxVisible()&&r.isDeviatingDeliveryHintFilled()?16:-1),d(),C("evFormsIsGcpsActive",r.customerForm),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.LoyaltyData)?18:-1))},dependencies:[ko,xi,Pn,wn,sh,xt,oM,Mee,Lee,On,ja,y$,Se],encapsulation:2})}return t})();var T$=function(t){return t[t.BoxOffice=0]="BoxOffice",t[t.PickUpLocations=1]="PickUpLocations",t}(T$||{});function X2e(t,i){if(t&1&&(h(0,"div",1),ci(1,2),g()),t&2){y();let e=Fn(2);d(),C("ngTemplateOutlet",e)}}function Q2e(t,i){if(t&1&&(h(0,"li"),R(1),g()),t&2){let e=i.$implicit;d(),Ae(e)}}function Z2e(t,i){if(t&1&&(h(0,"h3",3),R(1),H(2,"translate"),g(),h(3,"p",4),R(4),H(5,"translate"),g(),h(6,"ul",5),ft(7,Q2e,2,1,"li",null,fr),g()),t&2){let e=y();d(),Ae(j(2,2,e.Message.CHECKOUT_APP_DELIVERY_WILLCALL_TYPE_HINT)),d(3),Ae(j(5,4,e.Message.CHECKOUT_APP_DELIVERY_WILLCALL_TYPE_NEXT_STEP)),d(3),ht(e.pickupInfos)}}var bA=(()=>{class t{Message=K;pickupInfos=[];set accordionItem(e){let n=e.returnValue;n.subType===T$.BoxOffice&&Dt.isNotEmpty(n.pickupInfos)?this.pickupInfos=n.pickupInfos:this.pickupInfos=[]}hasPickupInfos(){return Dt.isNotEmpty(this.pickupInfos)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-will-call"]],inputs:{accordionItem:"accordionItem"},standalone:!1,decls:3,vars:1,consts:[["content",""],[1,"col-xs-12","padding-top-m"],[3,"ngTemplateOutlet"],[1,"card-inline-headline"],[1,"card-paragraph","theme-text-variant-color"],[1,"square-list","inside-accordion"]],template:function(n,r){n&1&&J(0,X2e,2,1,"div",1)(1,Z2e,9,6,"ng-template",null,0,vi),n&2&&$(r.hasPickupInfos()?0:-1)},dependencies:[hr,Se],encapsulation:2})}return t})();var b$=(()=>{class t extends hh{#e=E(Sn);message=K.CHECKOUT_APP_DELIVERY_FAN_TICKET_HINT;isDeliveryMethodPreselectedForFirstView=We.required();isVisible(){if(ce.isObject(this.selectedAccordionItem)&&this.isDeliveryMethodPreselectedForFirstView()){let e=this.selectedAccordionItem.returnValue;if(e!==void 0)return this.message=this.getMessage(e),e.fanTicketHint&&this.message!==null}return!1}getMessage(e){let n=this.#e.instant(K.CHECKOUT_APP_DELIVERY_FAN_TICKET_HINT),r=new Map([[mv.FanTicketDeliveryMethodName,e.name]]);return n!==K.CHECKOUT_APP_DELIVERY_FAN_TICKET_HINT?Ip.replaceTranslationParams(n,r):null}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-no-fan-ticket-support-hint"]],inputs:{isDeliveryMethodPreselectedForFirstView:[1,"isDeliveryMethodPreselectedForFirstView"]},standalone:!1,features:[dt],decls:2,vars:3,consts:[["data-qa","fan-ticket-hint",3,"type","visible"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),g()),n&2&&(C("type",r.NotificationType.Warning)("visible",r.isVisible()),d(),C("evCoreHtml",r.message))},dependencies:[xt,On],encapsulation:2,changeDetection:0})}return t})();var I$=(()=>{class t extends hh{message=K.CHECKOUT_APP_DELIVERY_NO_GIFT_WRAP_ALLOWED;isVisible(){if(this.selectedAccordionItem!==void 0&&this.previousOrder!==void 0){let e=!this.selectedAccordionItem.returnValue.giftWrapAllowed;return this.hasGiftWrapEvent(this.previousOrder)&&e}return!1}hasGiftWrapEvent(e){return e.events.filter(r=>r.giftWrap!==void 0).find(r=>r.giftWrap.giftWrapSelected)!==void 0}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-no-gift-wrap-allowed-hint"]],standalone:!1,features:[dt],decls:3,vars:5,consts:[["data-qa","gift-wrap",3,"type","visible"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"translate"),g()),n&2&&(C("type",r.NotificationType.Warning)("visible",r.isVisible()),d(),C("evCoreHtml",j(2,3,r.message)))},dependencies:[xt,On,Se],encapsulation:2,changeDetection:0})}return t})();var S$=(()=>{class t extends hh{message=K.CHECKOUT_APP_TICKET_INSURANCE_NO_TICKET_INSURANCE_SUPPORTED;isVisible(){if(this.selectedAccordionItem!==void 0&&this.previousOrder!==void 0){let e=!this.selectedAccordionItem.returnValue.insuranceAllowed;return this.previousOrder.ticketInsuranceFeeInt>0&&e}return!1}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-no-ticket-insurance-allowed-hint"]],standalone:!1,features:[dt],decls:3,vars:5,consts:[["data-qa","ticket-insurance",3,"type","visible"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"translate"),g()),n&2&&(C("type",r.NotificationType.Warning)("visible",r.isVisible()),d(),C("evCoreHtml",j(2,3,r.message)))},dependencies:[xt,On,Se],encapsulation:2,changeDetection:0})}return t})();var tAe=["*"],nAe=t=>({"padding-m selection-list-border":t}),iAe=t=>({"u-flex-justify-between":t}),rAe=(t,i)=>({hidden:t,"u-flex-justify-end":i}),oAe=(t,i,e,n,r)=>({"active no-padding":t,hidden:i,"additional-content":e,"previous-selected":n,"selection-list-border":r}),aAe=()=>({display:"none"}),sAe=t=>({item:t}),lAe=(t,i)=>i.id;function cAe(t,i){if(t&1&&(h(0,"div"),D(1,"h2",9),g()),t&2){let e=y(2);d(),C("evCoreHtml",e.headline())}}function dAe(t,i){if(t&1){let e=Je();h(0,"div",2),J(1,cAe,2,1,"div"),h(2,"button",6),Ee("click",function(){Ne(e);let r=y();return Re(r.resetSelection())})("keyup.enter",function(){Ne(e);let r=y();return Re(r.resetSelection())}),h(3,"span",7),R(4),H(5,"translate"),g(),D(6,"i",8),g()()}if(t&2){let e=y();C("ngClass",et(8,iAe,e.headline())),d(),$(e.headline()?1:-1),d(),Xt("tabindex",e.hasSelection()?0:-1),C("ngClass",Un(10,rAe,!e.hasSelection(),!e.headline()))("evClickTracking",e.clickTrackingObject()),d(2),Ae(j(5,6,e.editButtonText()))}}function uAe(t,i){if(t&1){let e=Je();h(0,"li",11),Ee("click",function(){Ne(e);let r=y().$implicit,o=y();return Re(o.selectItem(r))})("keydown.space",function(r){Ne(e);let o=y().$implicit,s=y();return Re(s.onSpacePressSelection(r,o))})("keydown.enter",function(){Ne(e);let r=y().$implicit,o=y();return Re(o.selectItem(r))}),ci(1,12),h(2,"div",13),D(3,"i",14),g()()}if(t&2){let e=y().$implicit,n=y(),r=Fn(9);C("ngClass",Ox(8,oAe,n.hasSelection()&&n.isSelected(e),n.hasSelection()&&!n.isSelected(e),n.hasSelection()&&n.isSelected(e)&&n.hasAdditionalContent(e)&&n.showAdditionalContent().valueOf(),n.isPreviousSelection(e),!n.hasSelection()))("ngStyle",n.isDisabled(e)&&ol(14,aAe)),Le("id",n.getId(e))("tabindex",!n.hasSelection()||n.isSelected(e)?0:-1)("aria-checked",n.hasSelection()&&n.isSelected(e)?"true":"false")("data-qa",n.getCustomDataQa()(e)),d(),C("ngTemplateOutlet",r)("ngTemplateOutletContext",et(15,sAe,e))}}function pAe(t,i){if(t&1&&J(0,uAe,4,17,"li",10),t&2){let e=i.$implicit;$(e.showItem()?0:-1)}}function mAe(t,i){if(t&1&&D(0,"ev-forms-formatter",23),t&2){let e=y(2).item,n=y();C("content",n.getFormattedHeadline(e))}}function fAe(t,i){if(t&1&&(D(0,"span",24),H(1,"translate")),t&2){let e=y(2).item,n=y();C("evCoreHtml",j(1,1,n.getPlainHeadline(e)))}}function hAe(t,i){if(t&1&&J(0,mAe,1,1,"ev-forms-formatter",23)(1,fAe,2,3,"span",24),t&2){let e=y().item,n=y();$(n.hasFormattedHeadline(e)?0:1)}}function gAe(t,i){if(t&1&&D(0,"img",25),t&2){let e=i.$implicit,n=y(2).item;Xt("alt",n.altText),C("src",e,un)}}function vAe(t,i){if(t&1&&ft(0,gAe,1,2,"img",25,ri),t&2){let e=y().item;ht(e.images)}}function _Ae(t,i){if(t&1){let e=Je();h(0,"a",26),Ee("click",function(r){Ne(e);let o=y().item,s=y();return Re(s.showModal(r,o))})("keydown.space",function(r){Ne(e);let o=y().item,s=y();return Re(s.showModal(r,o))})("keydown.enter",function(r){Ne(e);let o=y().item,s=y();return Re(s.showModal(r,o))}),D(1,"i",27),g()}if(t&2){let e=y(2);C("evClickTracking",e.getInfoIconTrackingObject()),Le("aria-label",e.getInfoLinkAriaLabel())}}function CAe(t,i){if(t&1&&D(0,"span",18),t&2){let e=y().item,n=y();C("evCoreHtml",n.getDescription(e))}}function yAe(t,i){if(t&1&&D(0,"ev-forms-formatter",23),t&2){let e=y(2).item,n=y();C("content",n.getFormattedMarginal(e))}}function EAe(t,i){if(t&1&&D(0,"span",24),t&2){let e=y(2).item;C("evCoreHtml",e.marginal)}}function TAe(t,i){if(t&1&&(h(0,"span",19),J(1,yAe,1,1,"ev-forms-formatter",23)(2,EAe,1,1,"span",24),g()),t&2){let e=y().item,n=y();d(),$(n.hasFormattedMarginal(e)?1:2)}}function bAe(t,i){if(t&1){let e=Je();h(0,"img",28),Ee("error",function(){Ne(e);let r=y().item,o=y();return Re(o.setShowFallBackIcon(r.id))}),g()}if(t&2){let e=y().item;C("src",e.images[0],un)}}function IAe(t,i){if(t&1&&D(0,"i"),t&2){let e=y().item,n=y();xo("icon icon-",n.getFromTypeMap(e)," theme-text-variant-color")}}function SAe(t,i){if(t&1&&(h(0,"div",15)(1,"span",16),J(2,hAe,2,1)(3,vAe,2,0),h(4,"span"),R(5,"\xA0 "),J(6,_Ae,2,2,"a",17),g()(),J(7,CAe,1,1,"span",18)(8,TAe,3,1,"span",19),g(),h(9,"div",20),J(10,bAe,1,1,"img",21)(11,IAe,1,3,"i",22),g()),t&2){let e=i.item,n=y();d(),Xt("title",n.hasFormattedHeadline(e)?n.getFormattedHeadlineString(e):e.headline),d(),$(e.showImageInsteadOfHeadline?3:2),d(4),$(n.hasInfoText(e)?6:-1),d(),$(n.hasDescription(e)?7:-1),d(),$(e.marginal!==null?8:-1),d(2),$(n.hasImage(e)&&!e.showImageInsteadOfHeadline?10:-1),d(),$(!n.hasImage(e)||n.showFallbackIcon.get(e.id)?11:-1)}}var eu=(()=>{class t{#e=E(kn);#t=E(Sn);#n=E(Wm);#i=E(dh);#r=E(zt);document=E(Ot);items=We([]);editButtonText=We(K.GLOBAL_CHANGE);iconsByType=We.required();iconPropertyName=We.required();getCustomDataQa=We(()=>"item");headline=We(ee.EMPTY_STRING);clickTrackingObject=We(null);infoIconTrackingSource=We(ee.EMPTY_STRING);alwaysExpandList=We(!1);onSelect=vo();onChange=vo();showFallbackIcon=new Map;selectedItem=null;previousItem=null;customDescriptionForSelection=null;additionalContentVisible=!1;constructor(){al(()=>{this.checkForPreSelection(),this.checkForSingleItem(),this.expandSelectionList()})}ngOnInit(){this.isPaymentPageAndPreSelectionShouldNotBeMade()&&this.expandSelectionList()}hasSelection(){return ce.isObject(this.selectedItem)&&this.selectedItem.isExpanded}isSelected(e){return e.isExpanded}isDisabled(e){return e.disabled}hasPreviousSelection(){return!ce.isEmpty(this.previousItem)}isPreviousSelection(e){let n=this.#n.isDeliveryMethodPreselectedForFirstView();return this.hasPreviousSelection()&&e.id===this.previousItem.id&&(n||this.#r.url.includes("payment"))}selectItem(e,n=!1){(n||ce.isEmpty(this.selectedItem))&&(this.items().forEach(r=>r.isExpanded=!1),e.isExpanded=!0,this.selectedItem=e,this.selectedItem.activatedByUserAction=!0,this.previousItem=null,this.customDescriptionForSelection=null,this.onSelect.emit(e))}hasInfoText(e){return ee.isNotEmpty(e.infoText)}resetSelection(){this.previousItem=this.selectedItem,this.selectedItem=null,this.onChange.emit()}getFromTypeMap(e){return ce.isObject(e.returnValue)&&e.returnValue[this.iconPropertyName()]!==void 0?this.iconsByType().get(e.returnValue[this.iconPropertyName()]):null}getId(e){return e.id!==null&&e.id!==void 0?`item-${e.id}`:null}hasFormattedHeadline(e){return e.headline instanceof po}getFormattedHeadline(e){return e.headline}getFormattedHeadlineString(e){return this.getFormattedHeadline(e).getFragments()[0].getObject()}getPlainHeadline(e){return e.headline}hasFormattedMarginal(e){return e.marginal instanceof po}getFormattedMarginal(e){return e.marginal}showModal(e,n){Ls.stopBubbling(e);let r=new Dn(co.buildAsyncHtml(an(n.infoText))).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).enableDismissable().disableHistoryBackHandling();this.hasFormattedHeadline(n)?r.enableTitle(this.getFormattedHeadlineString(n)):r.enableTitle(n.headline),this.#e.showModal(r)}getInfoLinkAriaLabel(){return this.#t.instant(K.CHECKOUT_APP_ADDITIONAL_INFO)}getInfoIconTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},ga3ClickTrackingData:{category:"checkout",action:"info_icon"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:this.infoIconTrackingSource(),navigation_element_selected:"info_icon"}}}hasAdditionalContent(e){return ce.isObject(e)&&(ce.isObject(e.additionalData)||ce.isObject(e.formGroup))}showAdditionalContent(){return this.additionalContentVisible}setCustomDescriptionForSelection(e){this.customDescriptionForSelection=e}hasDescription(e){return ee.isNotEmpty(this.customDescriptionForSelection)||ee.isNotEmpty(e.description)}getDescription(e){return ee.isNotEmpty(this.customDescriptionForSelection)&&(this.hasSelection()&&this.isSelected(e)||this.isPreviousSelection(e))?this.customDescriptionForSelection:ee.isNotEmpty(e.description)?e.description:null}hasImage(e){return Dt.isNotEmpty(e.images.filter(n=>ee.isNotEmpty(n)))}setShowFallBackIcon(e){this.showFallbackIcon.set(e,!0)}onSpacePressSelection(e,n){e.preventDefault(),this.selectItem(n)}checkForPreSelection(){let e=this.items().find(r=>r.isInitiallyExpanded),n=this.isPaymentPageAndPreSelectionShouldNotBeMade();this.shouldItemBeSelected(e)&&!n?this.performNonUserSelection(e):this.selectedItem=null}checkForSingleItem(){this.items().length===1&&!this.isSelected(this.items()[0])&&this.performNonUserSelection(this.items()[0])}performNonUserSelection(e){this.selectedItem=e,this.selectedItem.isExpanded=!0,this.selectedItem.isInitiallyExpanded=!1,this.selectedItem.activatedByUserAction=!1,this.onSelect.emit(this.items().find(n=>n.isExpanded))}shouldItemBeSelected(e){return!ce.isEmpty(e)&&this.selectedItemExistsInListOrIsNull()||ce.hasProperty(this.selectedItem,"returnValue.id")&&ce.hasProperty(e,"returnValue.id")&&this.selectedItem.returnValue.id===e.returnValue.id}selectedItemExistsInListOrIsNull(){return this.selectedItem===null||!this.items().some(e=>e.returnValue.id===this.selectedItem.returnValue.id)}expandSelectionList(){this.alwaysExpandList()&&this.resetSelection()}isPaymentPageAndPreSelectionShouldNotBeMade(){return this.#r.url.includes(Qe.Payment)&&this.#i.isPaymentFirstViewOrChanged()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-selection-list"]],inputs:{items:[1,"items"],editButtonText:[1,"editButtonText"],iconsByType:[1,"iconsByType"],iconPropertyName:[1,"iconPropertyName"],getCustomDataQa:[1,"getCustomDataQa"],headline:[1,"headline"],clickTrackingObject:[1,"clickTrackingObject"],infoIconTrackingSource:[1,"infoIconTrackingSource"],alwaysExpandList:[1,"alwaysExpandList"]},outputs:{onSelect:"onSelect",onChange:"onChange"},standalone:!1,ngContentSelectors:tAe,decls:10,vars:5,consts:[["itemTemplate",""],["data-qa","selection-list",1,"col-xs-12"],[1,"selection-list-edit",3,"ngClass"],[1,"margin-top-s",3,"ngClass"],["data-qa","list",1,"selection-list"],["data-qa","content",3,"hidden"],["type","button","role","link","data-qa","edit-button",1,"btn-link","link",3,"click","keyup.enter","ngClass","evClickTracking","tabindex"],[1,"link-text"],[1,"icon","icon-chevron-right"],["data-qa","selection-list-headline",1,"selection-list-headline","theme-headline-color","u-font-weight-bold",3,"evCoreHtml"],["role","radio",1,"selection-list-item","no-margin",3,"ngClass","ngStyle"],["role","radio",1,"selection-list-item","no-margin",3,"click","keydown.space","keydown.enter","ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"sl-checkmark","no-line"],[1,"icon","icon-checkmark"],["data-qa","list-item",1,"sl-description"],["data-qa","headline",1,"sl-title","theme-text-color",3,"title"],["tabindex","0","data-qa","info-icon",1,"sl-link",3,"evClickTracking"],["data-qa","description",1,"sl-info",3,"evCoreHtml"],["data-qa","marginal",1,"sl-highlight"],["data-qa","logo-icon",1,"sl-icon"],["alt","",1,"image",3,"src"],[3,"class"],[3,"content"],[3,"evCoreHtml"],["data-qa","headline-logo",1,"selection-list-headline-icon",3,"src","alt"],["tabindex","0","data-qa","info-icon",1,"sl-link",3,"click","keydown.space","keydown.enter","evClickTracking"],[1,"icon","icon-info"],["alt","",1,"image",3,"error","src"]],template:function(n,r){n&1&&(lo(),h(0,"section",1),J(1,dAe,7,13,"div",2),h(2,"div",3)(3,"ul",4),ft(4,pAe,1,1,null,null,lAe),g(),h(6,"div",5),Or(7),g()(),J(8,SAe,12,7,"ng-template",null,0,vi),g()),n&2&&(d(),$(r.hasSelection()||r.headline()?1:-1),d(),C("ngClass",et(3,nAe,r.hasSelection())),d(2),ht(r.items()),d(2),C("hidden",!r.hasSelection()))},dependencies:[At,hr,Ux,Zr,ho,xt,Se],encapsulation:2})}return t})();var Al=(()=>{class t{hasOrderAftersalesBookingType(e){return e?.events.some(n=>this.hasEventAftersalesBookingType(n.priceCategory.bookingType))}hasEventAftersalesBookingType(e){return e===od.AFTERSALES}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nv=(()=>{class t extends xl{deliveryResource=E(l$);spinnerService=E(Gn);storageService=E(fn);getPageJsonFromResource(){let e=this.storageService.get(ut.NEW_CUSTOMER_EMAIL,null),n=this.storageService.get(ut.NEW_CUSTOMER_USERNAME,null),r=this.storageService.get(ut.CCCL_CUSTOMER,!1),o=ee.isNotEmpty(e)||ee.isNotEmpty(n)||r;return this.deliveryResource.getDeliveryPage(e,o)}getPageType(){return Cn.Delivery}updateDeliveryMethodForOrder(e,n,r){return this.deliveryResource.changeDeliveryMethod(e,n).pipe(An(()=>{r&&this.customerChoseDeliveryMethod()}),An(o=>this.orderService.updateOrder(o.order)))}updateDeliveryMethodMemoryTicketForOrder(e,n,r){return this.deliveryResource.changeDeliveryMethodMemoryTickets(e,n).pipe(An(()=>{r&&this.customerChoseDeliveryMethod()}),An(o=>this.orderService.updateOrder(o.order)))}submitDeliveryPage(e,n){this.spinnerService.show();let r;return e===-1?r=this.deliveryResource.submitNewCustomer(n):r=this.deliveryResource.submitDelivery(e,n),r.pipe(cn(o=>{this.customerChoseDeliveryMethod(),this.storageService.clear(ut.NEW_CUSTOMER_EMAIL),this.storageService.clear(ut.NEW_CUSTOMER_PASSWORD),this.determineNextPageAndProceed(o)}),No(o=>(this.spinnerService.hide(),ma(o)))).toPromise()}customerChoseDeliveryMethod(){this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)||this.storageService.set(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!0)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Rv=(()=>{class t{#e=E(kn);openModalForRemovedInsurance(){this.#e.showModal(new Dn(co.buildTextMessage(K.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_TEXT)).enableTitle(K.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_TITLE).enablePrimaryButton(K.CHECKOUT_APP_TICKET_INSURANCE_INFO_REMOVED_INSURANCE_BUTTON_TEXT).enableCenteredContent())}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A$=function(t){return t.DeviatingDeliveryFormNotAllowed="deviatingDeliveryFormNotAllowed",t}(A$||{});var xAe=()=>({category:"checkout",action:"change.delivery_method"}),AAe=t=>({ga3ClickTrackingData:t}),PAe=t=>({"margin-top-s":t}),kAe=(t,i)=>i.id;function wAe(t,i){if(t&1&&(D(0,"ev-no-delivery-methods-hint",15)(1,"ev-no-ticket-insurance-allowed-hint",16)(2,"ev-delivery-method-changes-hint",17)(3,"ev-no-gift-wrap-allowed-hint",16),h(4,"ev-notification",18)(5,"span"),R(6),H(7,"translate"),g()(),D(8,"ev-voucher-error")(9,"ev-no-fan-ticket-support-hint",19)),t&2){let e=y();C("parentForm",e.form)("accordionItems",e.deliveryMethodsAccordionItems),d(),C("order",e.order)("selectedAccordionItem",e.selectedAccordionItem),d(),C("parentForm",e.form)("accordionItems",e.deliveryMethodsAccordionItems)("selectedAccordionItem",e.selectedAccordionItem),d(),C("order",e.order)("selectedAccordionItem",e.selectedAccordionItem),d(),C("type",e.NotificationType.Warning)("visible",e.storageService.get(e.StoreKey.CUSTOMER_COMES_FROM_FACEBOOK,!1)),d(2),Ae(j(7,14,e.Message.CHECKOUT_APP_DELIVERY_USED_FACEBOOK_DATA_HINT)),d(3),C("selectedAccordionItem",e.selectedAccordionItem)("isDeliveryMethodPreselectedForFirstView",e.isDeliveryMethodPreselectedForFirstView())}}function DAe(t,i){if(t&1&&D(0,"ev-delivery-method-will-call",37),t&2){let e=y().$implicit;C("accordionItem",e)}}function OAe(t,i){if(t&1&&D(0,"ev-delivery-method-will-call",37),t&2){let e=y().$implicit;C("accordionItem",e)}}function NAe(t,i){t&1&&D(0,"ev-mobile-delivery-method")}function RAe(t,i){t&1&&D(0,"ev-delivery-method-eventim-pass")}function MAe(t,i){if(t&1&&(h(0,"div",22)(1,"div",20),J(2,DAe,1,1,"ev-delivery-method-will-call",37)(3,OAe,1,1,"ev-delivery-method-will-call",37)(4,NAe,1,0,"ev-mobile-delivery-method")(5,RAe,1,0,"ev-delivery-method-eventim-pass"),g()()),t&2){let e,n=i.$implicit,r=y(2);d(),C("hidden",(r.selectedAccordionItem==null?null:r.selectedAccordionItem.id)!==n.id),d(),$((e=n.returnValue.type)===r.DeliveryMethodType.WILL_CALL?2:e===r.DeliveryMethodType.WILL_CALL_RESERVATION?3:e===r.DeliveryMethodType.MOBILE?4:e===r.DeliveryMethodType.EVENTIM_PASS?5:-1)}}function FAe(t,i){if(t&1){let e=Je();h(0,"ev-delivery-method-memory-tickets",38),H(1,"translate"),H(2,"translate"),Ee("onDeliveryMethodAccordionItemSelectedChange",function(r){Ne(e);let o=y(2);return Re(o.onDeliveryMethodAccordionItemSelectedChange(r))})("deliveryMethodsAccordionItemsEvent",function(r){Ne(e);let o=y(2);return Re(o.deliveryMethodsMemoryTicketsAccordionItems=r)}),g()}if(t&2){let e=y(2);C("dataQa","delivery-methods-memory-tickets")("evAnchor",e.DeliveryPageAnchor.DeliveryMethodMemoryTickets)("headline",j(1,12,e.Message.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_MEMORY_TICKETS))("subHeadline",j(2,14,e.Message.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_MEMORY_TICKETS_SUB_HEADLINE))("expandAllDeliveryMethods",e.expandAllDeliveryMethods)("deliveryMethodsMemoryTickets",e.deliveryMethodMemoryTickets)("countryJson",e.countryJson)("orderJson",e.order)("parentForm",e.form)("country",e.deliveryPageJson.customer.country)("deliveryMethodAccordionItemSelected",e.deliveryMethodMemoryTicketAccordionItemSelected)("iconsByType",e.iconsByType)}}function LAe(t,i){if(t&1&&D(0,"ev-delivery-method-changes-hint",17),t&2){let e=y(2);C("parentForm",e.form)("accordionItems",e.deliveryMethodsMemoryTicketsAccordionItems)("selectedAccordionItem",e.deliveryMethodMemoryTicketAccordionItemSelected.accordionItem)}}function BAe(t,i){if(t&1&&(h(0,"div")(1,"ev-notification",42)(2,"span",43),R(3),H(4,"translate"),g()()()),t&2){let e=y(3);d(),C("type",e.NotificationType.Info),d(2),ne(" ",j(4,2,e.Message.CHECKOUT_APP_DELIVERY_CALL_CENTER_CLIENT_NEWSLETTER_HINT),"")}}function UAe(t,i){if(t&1&&(h(0,"div",12)(1,"section")(2,"div",39),D(3,"ev-forms-checkbox",40)(4,"ev-forms-field-error",41),g(),J(5,BAe,5,4,"div"),g()()),t&2){let e=y(2);d(2),C("formGroup",e.dataProtectionConfirmForm.control),d(),C("label",e.Message.CHECKOUT_APP_DELIVERY_CALL_CENTER_CLIENT_DATA_PROTECTION_HINT)("fieldName",e.ccclCheckboxName)("value",!0),d(),C("field",e.dataProtectionConfirmForm.getField(e.ccclCheckboxName)),d(),$(e.isCcclCustomer&&e.isNewCustomer?5:-1)}}function $Ae(t,i){if(t&1){let e=Je();h(0,"div",20)(1,"div")(2,"ev-selection-list",21),H(3,"translate"),Ee("onChange",function(){Ne(e);let r=y();return Re(r.handleChangeButtonClick())})("onSelect",function(r){Ne(e);let o=y();return Re(o.onSelect(r))}),ft(4,MAe,6,2,"div",22,kAe),g(),h(6,"div",23),D(7,"hr",24),g()()(),J(8,FAe,3,16,"ev-delivery-method-memory-tickets",25),h(9,"div")(10,"div")(11,"ev-customer-data",26),Ee("onCountryChange",function(r){Ne(e);let o=y();return Re(o.onCountryChange(r))}),D(12,"ev-delivery-method-changes-hint",17),J(13,LAe,1,3,"ev-delivery-method-changes-hint",17),g()()(),J(14,UAe,6,6,"div",12),h(15,"section"),D(16,"ev-view-shopping-cart",27),g(),h(17,"div",12),D(18,"hr",28),g(),h(19,"div")(20,"div",29),D(21,"ev-order-price-information",30),g()(),h(22,"section"),D(23,"ev-gdpr-hint"),g(),h(24,"div",31),D(25,"ev-no-ticket-insurance-allowed-hint",16)(26,"ev-no-gift-wrap-allowed-hint",16),h(27,"ev-notification",32)(28,"span"),R(29),H(30,"translate"),g()(),h(31,"ev-notification",33)(32,"span"),R(33),H(34,"translate"),g()(),h(35,"ev-notification",34)(36,"span"),R(37),H(38,"translate"),g()()(),h(39,"div")(40,"section",29),D(41,"ev-reservation-time-counter",35),h(42,"ev-submit-button",36),Ee("onSubmit",function(){Ne(e);let r=y();return Re(r.onClickFormSubmit())}),g()()()}if(t&2){let e=y();C("hidden",e.hideDeliveryMethods()),d(2),C("items",e.deliveryMethodsAccordionItems)("evAnchor",e.DeliveryPageAnchor.DeliveryMethod)("headline",j(3,45,e.Message.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_HEADLINE))("editButtonText",e.Message.GLOBAL_CHANGE)("alwaysExpandList",e.expandAllDeliveryMethods)("getCustomDataQa",e.getDeliveryMethodDataQa)("iconsByType",e.iconsByType)("clickTrackingObject",et(54,AAe,ol(53,xAe))),d(2),ht(e.deliveryMethodsAccordionItems),d(4),$(e.showMemoryTicketsDeliveryMethods()?8:-1),d(3),C("customerForm",e.deliveryPageJson.customer)("parentForm",e.form)("deliveryMethod",e.selectedAccordionItem)("referenceData",e.deliveryPageJson.referenceData)("fiscalCodeConfig",e.determineFiscalCodeConfig())("alternativeAddressAllowed",e.alternativeAddressAllowed)("addressFieldMode",e.deliveryPageJson.addressFieldMode)("otpAuthenticationNeeded",e.deliveryPageJson.authenticationNeeded),d(),C("parentForm",e.form)("accordionItems",e.deliveryMethodsAccordionItems)("selectedAccordionItem",e.selectedAccordionItem),d(),$(e.showMemoryTicketsDeliveryMethods()&&e.deliveryMethodsMemoryTicketsAccordionItems&&(e.deliveryMethodMemoryTicketAccordionItemSelected!=null&&e.deliveryMethodMemoryTicketAccordionItemSelected.accordionItem)?13:-1),d(),$(e.isCallcenterActive?14:-1),d(2),C("events",e.order.events)("affiliateJson",e.affiliateJson)("trackingPage","shipping")("isSportsShop",e.isSportsShop),d(),xa(e.isSportsShop?"inline-card-separator-spacer":"card-separator-spacer"),d(),C("ngClass",et(56,PAe,e.isSportsShop)),d(7),C("order",e.order)("selectedAccordionItem",e.selectedAccordionItem),d(),C("order",e.order)("selectedAccordionItem",e.selectedAccordionItem),d(),C("visible",e.showFalsyInputsError())("type",e.NotificationType.Danger),d(2),Ae(j(30,47,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)),d(2),C("type",e.NotificationType.Danger)("visible",e.showDeliveryMethodNotChosenErrorMessage),d(2),ne(" ",j(34,49,e.Message.CHECKOUT_APP_DELIVERY_DELIVERY_METHOD_NOT_SELECTED),""),d(2),C("visible",e.showDeviatingDeliveryError())("type",e.NotificationType.Danger),d(2),Ae(j(38,51,e.Message.CHECKOUT_APP_DELIVERY_DISABLE_DEVIATING_DELIVERY_ADDRESS_ERROR)),d(5),C("buttonText",e.submitButtonTitle)("form",e.form)}}function HAe(t,i){t&1&&D(0,"ev-back-to-customer-search-link")}var IA=(()=>{class t{storageService=E(fn);DeliveryMethodType=ui;DeliveryPageAnchor=is;OptimizelyPageEvent=Gr;Message=K;NotificationType=rn;StoreKey=ut;ccclCheckboxName="dataProtectionGuidelinesConfirmationCheckbox";alternativeAddressAllowed=!0;previousAccordionItems;deliveryMethodsAccordionItems;deliveryMethodsMemoryTicketsAccordionItems=[];deliveryMethodMemoryTickets=[];selectedAccordionItem;previouslySelectedDeliveryMethod;deliveryMethodMemoryTicketAccordionItemSelected;countryJson;deliveryPageJson;order;expandAllDeliveryMethods=!1;submitButtonTitle;showAccordionSpinner=!1;form=new vn("deliveryForm");showDeliveryMethodNotChosenErrorMessage=!1;isCallcenterActive=!1;isCcclCustomer=!1;isNewCustomer=!1;isPaytollPlatform=!1;dataProtectionConfirmForm=new vn("dataProtectionConfirmForm",[new Gt({fieldName:this.ccclCheckboxName,type:Mt.Checkbox,mandatory:!0,value:!1})]);affiliateJson;isSportsShop=!1;iconsByType=Yl.getDeliveryMethodIcons();selectionList;#e=E(Al);#t=E(Nv);#n=E(Wm);#i=E(mo);#r=E(Tn);#o=E(yi);#a=E(nr);#s=E(ah);#l=E(bt);#c=E(oh);#d=E(C$);#u=E(EA);#p=E(OM);#m=E(WT);#f=E(bl);#g=E(ai);#h=E(kn);#v=E(Sn);#y=E(ga);#E=E(qr);#C=E(Bs);#_=E(Oi);#S=E(Rv);#x=E(no);#T=!0;#b=!0;#I;firstCountryChange=!1;ngOnInit(){this.#x.setTitle(this.#v.instant(K.CHECKOUT_APP_PAGE_TITLE_DELIVERY)),this.showAccordionSpinner=!0,this.affiliateJson=this.#r.getAffiliate(),this.registerAffiliateSubscriber(),this.registerDeliveryPageJsonSubscription(),this.isSportsShop=this.#g.isSportsShop(this.affiliateJson),this.setDeliveryMethodsBasedOnCustomerCountry(this.#n.getInitialDeliveryCountry(this.deliveryPageJson.referenceData,this.deliveryPageJson.customer))}ngAfterViewInit(){this.initRouteFragmentSubscription()}ngOnDestroy(){this.form.destroy()}onAccordionItemSelect(e){let n=e.returnValue;this.showMemoryTicketsDeliveryMethods()&&this.previouslySelectedDeliveryMethod.type===ui.EVENTIM_PASS&&n.type!==ui.EVENTIM_PASS&&n.id!==this.previouslySelectedDeliveryMethod.id?this.openHintModal(e):this.accordionItemSelect(e)}accordionItemSelect(e){this.selectedAccordionItem=e,this.showDeliveryMethodNotChosenErrorMessage=!1;let n=e.returnValue;this.showAccordionSpinner=!0,this.previouslySelectedDeliveryMethod===void 0||n.id!==this.previouslySelectedDeliveryMethod.id?$a(this.#t.updateDeliveryMethodForOrder(this.#I,n.id,e.hasUserActed)).then(r=>{e.hasUserActed&&this.setCustomerChoseDeliveryMethod(),this.onDeliveryMethodChange(n,r)}).catch(()=>this.onDeliverMethodError(n)):(e.hasUserActed&&this.setCustomerChoseDeliveryMethod(),this.showAccordionSpinner=!1),this.#a.detectChanges()}onDeliveryMethodAccordionItemSelectedChange(e){let n=e.accordionItem.returnValue;this.order.deliveryMethodMemoryTickets===n.id?(this.setDeliveryMethodMemoryTicketAccordionItemSelected(n,e,!1),e.accordionItem.hasUserActed&&this.setCustomerChoseDeliveryMethod()):$a(this.#t.updateDeliveryMethodMemoryTicketForOrder(this.#I,n.id,e.accordionItem.hasUserActed)).then(r=>{e.accordionItem.hasUserActed&&this.setCustomerChoseDeliveryMethod(),this.onDeliveryMethodMemoryTicketsChange(n,r,e)}).catch(()=>this.onDeliverMethodMemoryTicketsError(n,e)),this.#a.detectChanges()}getDeliveryMethodDataQa(e){return ce.isObject(e)&&ce.isObject(e.returnValue)?`delivery-method_${e.returnValue.type}_${e.returnValue.subType}`:ee.EMPTY_STRING}onCountryChange(e){(e===null||this.countryJson?.id!==e?.id)&&(this.deliveryMethodsAccordionItems!==void 0&&(this.previousAccordionItems=this.deliveryMethodsAccordionItems),this.setDeliveryMethodsBasedOnCustomerCountry(e),this.firstCountryChange=!0,this.showAccordionSpinner=!1)}onClickFormSubmit(){this.dataProtectionConfirmForm.setSubmitted(),this.dataProtectionConfirmForm.markAsTouched(),this.isReadyForSubmit()?(this.form.setSubmitted(),this.form.markAsTouched(),this.#b=this.#c.validate(),this.form.control.valid&&this.#b&&!this.showDeviatingDeliveryError()&&this.#p.handle(this.deliveryPageJson,this.form,this.submitButtonTitle).then(()=>this.#m.handle()).then(this.submit.bind(this)).then(()=>{this.#c.triggerGcpsSave(),this.#E.performGoogleTrackingWithEcommerceValues(this.#C.getTrackingData(),ee.EMPTY_STRING,"add_shipping_info"),this.proceedToNextPage()}).catch(e=>this.#d.handleError(e,this.form))):this.showDeliveryMethodNotChosenErrorMessage=!this.isCallcenterActive&&!0}showDeviatingDeliveryError(){return!this.alternativeAddressAllowed&&this.form.submitted&&this.form.hasForm(bn.DeliveryData)&&this.form.getForm(bn.DeliveryData).active}showFalsyInputsError(){return!this.#b||this.showErrorNotification()&&(this.form.control.errors===null||!this.form.control.errors[A$.DeviatingDeliveryFormNotAllowed])||this.isCallcenterActive&&this.dataProtectionConfirmForm.control.invalid&&this.dataProtectionConfirmForm.submitted}determineFiscalCodeConfig(){return{validationMode:this.deliveryPageJson.fiscalCodeConfig.validationMode,changeable:this.deliveryPageJson.fiscalCodeConfig.changeable,fiscalCodeValidated:this.deliveryPageJson.customer.fiscalCodeValidated}}hideDeliveryMethods(){return this.isCallcenterActive||this.isPaytollPlatform||this.#e.hasOrderAftersalesBookingType(this.order)}showMemoryTicketsDeliveryMethods(){return Dt.isNotEmpty(this.deliveryMethodMemoryTickets)}handleChangeButtonClick(){}onSelect(e){ce.isObject(e)&&this.onAccordionItemSelect(e)}isDeliveryMethodPreselectedForFirstView(){return this.#n.isDeliveryMethodPreselectedForFirstView()}setDeliveryMethodsBasedOnCustomerCountry(e){this.countryJson=e;let n=!1;this.firstCountryChange&&(n=!this.expandAllDeliveryMethods),this.deliveryMethodsAccordionItems=this.createAccordionItems(e,n,this.previouslySelectedDeliveryMethod,this.deliveryPageJson.deliveryMethods),this.deliveryMethodsAccordionItems.length===0&&(this.selectedAccordionItem=void 0)}submit(){let e=this.getFormData();return this.#p.ifTanTokenPresent(n=>e.emailChangeAuthenticationToken=n),this.#m.ifTanTokenPresent(n=>e.tanVerificationToken=n),this.setDefaultDeliveryMethodForTracking(),this.#t.submitDeliveryPage(this.deliveryPageJson.customer.customerId,e)}isReadyForSubmit(){return this.isCallcenterActive?this.dataProtectionConfirmForm.control.valid:this.isPaytollPlatform?ce.isObject(this.selectedAccordionItem)&&this.isMemoryTicketsDeliveryMethodSelectionValid():ce.isObject(this.selectedAccordionItem)&&this.isMemoryTicketsDeliveryMethodSelectionValid()&&this.#n.isDeliveryMethodPreselectedForFirstView()}showErrorNotification(){return this.form.control.invalid&&this.form.submitted}proceedToNextPage(){this.#a.detach()}getFormData(){let e=Tv.buildFormDataJson(this.form),n=this.storageService.get(ut.NEW_CUSTOMER_PASSWORD,null);return n!==null&&(e.password=n),e}getSubmitButtonTitle(e){let n=K.CHECKOUT_APP_TO_PAYMENT;return!ce.isEmpty(this.affiliateJson)&&this.affiliateJson.quickCheckoutMode===b0.ACTIVE?n=K.CHECKOUT_APP_SHOPPING_CART_TO_NEXT_PAGE:e.ticketPersonalisationRequired?n=K.CHECKOUT_APP_TO_TICKET_PERSONALISATION:this.#o.skipPayment(e)&&(n=K.CHECKOUT_APP_TO_SUMMARY),n}initRouteFragmentSubscription(){return this.#s.observeRouteFragments().pipe(zn(this.#_)).subscribe(e=>{switch(e.name){case is.DeliveryMethod:{setTimeout(()=>{this.selectionList?.resetSelection(),this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)&&this.storageService.set(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1),this.#n.preselectDeliveryMethodForFirstView(!1,!1),e.scrollIntoView()});break}case is.DeliveryAddress:case is.Loyalty:{setTimeout(()=>{e.scrollIntoView()},500);break}default:this.#l.trace(new Error("Anchor"),`anchor: ${e.name} does not need to be handled on delivery page.`)}})}registerAffiliateSubscriber(){return this.#r.observeAffiliate().pipe(Yt(e=>!ce.isEmpty(e)),cn(e=>[e.expandAllDeliveryMethods,e.callCenter,e.paytollPlatform,e.preselectDeliveryMethod]),Ro(),zn(this.#_)).subscribe(([e,n,r,o])=>{this.expandAllDeliveryMethods=e,this.isCallcenterActive=n,this.isPaytollPlatform=r,this.#T=o,this.determineIsDeliveryMethodPreselected()})}determineIsDeliveryMethodPreselected(){this.storageService.get(ut.PAGE_WAS_SKIPPED,!1)?(this.#t.customerChoseDeliveryMethod(),this.setCustomerChoseDeliveryMethod()):this.#n.preselectDeliveryMethodForFirstView(this.#T,this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1))}registerDeliveryPageJsonSubscription(){return this.#i.observePageJson([Cn.Delivery]).pipe(zn(this.#_)).subscribe(e=>{this.deliveryPageJson=e,this.deliveryPageJson.insuranceRemoved&&this.#S.openModalForRemovedInsurance(),this.order=this.deliveryPageJson.order,this.deliveryMethodMemoryTickets=e.deliveryMethodsMemoryTickets,this.isNewCustomer=this.deliveryPageJson.customer.customerId<0,this.isCcclCustomer=this.storageService.get(ut.CCCL_CUSTOMER,!1),this.submitButtonTitle=this.getSubmitButtonTitle(this.deliveryPageJson.order),this.previouslySelectedDeliveryMethod=this.getDeliveryMethodById(this.deliveryPageJson.order.deliveryMethod),ce.isObject(this.previouslySelectedDeliveryMethod)&&(this.alternativeAddressAllowed=this.previouslySelectedDeliveryMethod.alternativeAddressAllowed),this.#I=this.deliveryPageJson.order.orderNumber,this.#n.broadcastSelectedDeliveryMethod(e),this.#m.setup(this.deliveryPageJson,this.form,this.submitButtonTitle)})}getDeliveryMethodById(e){return this.deliveryPageJson.deliveryMethods.find(n=>e===n.id)}onDeliveryMethodChange(e,n){this.previouslySelectedDeliveryMethod=e,this.onSuccessDeliveryMethodChange(e,n),this.showAccordionSpinner=!1}onDeliveryMethodMemoryTicketsChange(e,n,r){this.onSuccessDeliveryMethodChange(e,n),this.setDeliveryMethodMemoryTicketAccordionItemSelected(e,r,!1),this.deliveryPageJson=n}onDeliverMethodError(e){this.#l.debug(new Error(`MOD ${e.name} can't be selected!`),"DeliveryPage"),this.selectPreviousAccordionItem(e)}selectPreviousAccordionItem(e){let n=this.deliveryMethodsAccordionItems.find(r=>this.previouslySelectedDeliveryMethod!==void 0&&Number(r.id.split("_")[0])===this.previouslySelectedDeliveryMethod.id);if(ce.isNullable(n)){let r=this.deliveryMethodsAccordionItems.find(o=>e!==void 0&&Number(o.id.split("_")[0])===e.id);n=this.deliveryMethodsAccordionItems[this.deliveryMethodsAccordionItems.indexOf(r)+1]}this.selectionList!==void 0&&this.selectionList.selectItem(n,!0),this.showAccordionSpinner=!1}onDeliverMethodMemoryTicketsError(e,n){this.setDeliveryMethodMemoryTicketAccordionItemSelected(e,n,!0)}setDeliveryMethodMemoryTicketAccordionItemSelected(e,n,r){this.deliveryMethodMemoryTicketAccordionItemSelected={accordionItem:n.accordionItem,previouslySelectedDeliveryMethod:e,error:r}}createAccordionItems(e,n,r,o){let s=o,c=this.deliveryPageJson.customer.country;return ce.isObject(e)&&(c=e.id),s=this.#n.filterDeliveryMethodsBasedOnCountry(s,c),this.#u.createAccordionItems(s,r,n)}setDefaultDeliveryMethodForTracking(){this.storageService.get(ut.DYNAMIC_TRACKING_VARS)===null&&ce.isObject(this.selectedAccordionItem)&&this.#f.setDynamicTrackingVarInSessionStorage("delivery",this.selectedAccordionItem.returnValue.name)}onSuccessDeliveryMethodChange(e,n){this.alternativeAddressAllowed=e.alternativeAddressAllowed,this.order=n.order,this.deliveryMethodMemoryTickets=n.deliveryMethodsMemoryTickets,this.submitButtonTitle=this.getSubmitButtonTitle(n.order),this.#n.broadcastSelectedDeliveryMethod(n),this.#f.setDynamicTrackingVarInSessionStorage("delivery",e.name),this.#C.setTrackingData(n.dataLayer),this.#l.trace(new Error("MOD selected"),"Delivery Method")}isMemoryTicketsDeliveryMethodSelectionValid(){return this.showMemoryTicketsDeliveryMethods()?this.deliveryMethodMemoryTicketAccordionItemSelected.accordionItem!==void 0&&Dt.isNotEmpty(this.deliveryMethodsMemoryTicketsAccordionItems):!0}openHintModal(e){this.#h.showModal(new Dn(co.buildTextMessage(this.getTextWithDynamicValue(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_CONTENT,e.returnValue.name))).enableTitle(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_TITLE).enableViewTracking(()=>{this.#E.trackVirtualPageView("changing_delivery_method_hint_layer")}).enableSecondaryButton(this.getTextWithDynamicValue(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_BUTTON_CHANGE,e.returnValue.name),()=>{this.accordionItemSelect(e)}).enablePrimaryButton(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_DELETE_HINT_BUTTON_CANCEL,()=>{this.selectPreviousAccordionItem(e.returnValue),this.#h.hideModal()}).setWidth(er.MEDIUM))}getTextWithDynamicValue(e,n){let r=this.#v.instant(e),o=new ns(this.#y);return this.#y.sanitize(bs.HTML,o.transform(r,[{placeholder:"{0}",replacementValue:n}]))}setCustomerChoseDeliveryMethod(){this.#t.customerChoseDeliveryMethod(),this.#n.preselectDeliveryMethodForFirstView(this.#T,!0)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-delivery-page"]],viewQuery:function(n,r){if(n&1&&Qi(eu,5),n&2){let o;Ni(o=Ri())&&(r.selectionList=o.first)}},standalone:!1,decls:29,vars:10,consts:[["hints",""],["delivery",""],["data-qa","delivery-page",3,"evOptimizelyPageTrigger"],[1,"row"],[1,"col-xs-12","col-md-8"],[3,"order","isPaytollPlatform"],[3,"adId"],[3,"ngTemplateOutlet"],["additionalClass","checkout-card-container"],[1,"col-xs-12","col-md-4","sidebar"],["evHideOnMobile",""],["data-qa","mini-basket-desktop-view",1,"row","checkout-card-container"],[1,"col-xs-12"],[3,"affiliate"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow"],[3,"parentForm","accordionItems"],[3,"order","selectedAccordionItem"],[3,"parentForm","accordionItems","selectedAccordionItem"],[3,"type","visible"],[3,"selectedAccordionItem","isDeliveryMethodPreselectedForFirstView"],[3,"hidden"],["data-qa","delivery-methods","infoIconTrackingSource","shipping","iconPropertyName","iconClassName",3,"onChange","onSelect","items","evAnchor","headline","editButtonText","alwaysExpandList","getCustomDataQa","iconsByType","clickTrackingObject"],["data-qa","content-item",1,"row"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[3,"dataQa","evAnchor","headline","subHeadline","expandAllDeliveryMethods","deliveryMethodsMemoryTickets","countryJson","orderJson","parentForm","country","deliveryMethodAccordionItemSelected","iconsByType"],["evMobileNumberHint","",3,"onCountryChange","customerForm","parentForm","deliveryMethod","referenceData","fiscalCodeConfig","alternativeAddressAllowed","addressFieldMode","otpAuthenticationNeeded"],["data-qa","order-overview",3,"events","affiliateJson","trackingPage","isSportsShop"],["aria-hidden","true",1,"card-separator",3,"ngClass"],[1,"col-xs-12","card-section"],["data-qa","order-fees"],["aria-live","assertive",1,"col-xs-12","card-section"],["data-qa","falsy-inputs",3,"visible","type"],["data-qa","unselected-delivery",3,"type","visible"],["data-qa","disable-deviating-delivery-address",3,"visible","type"],["evHideOnDesktop",""],[3,"onSubmit","buttonText","form"],[3,"accordionItem"],[3,"onDeliveryMethodAccordionItemSelectedChange","deliveryMethodsAccordionItemsEvent","dataQa","evAnchor","headline","subHeadline","expandAllDeliveryMethods","deliveryMethodsMemoryTickets","countryJson","orderJson","parentForm","country","deliveryMethodAccordionItemSelected","iconsByType"],[1,"margin-bottom-m",3,"formGroup"],[3,"label","fieldName","value"],[3,"field"],[3,"type"],["data-qa","cccl-newsletter-hint"]],template:function(n,r){if(n&1&&(h(0,"div",2)(1,"div",3)(2,"div",4),D(3,"ev-multiple-order",5)(4,"ev-ad-serving",6),g()(),h(5,"div",3)(6,"div",4)(7,"div"),D(8,"ev-progress-bar"),ci(9,7),h(10,"ev-pl-card",8),ci(11,7),g()()(),J(12,wAe,10,16,"ng-template",null,0,vi)(14,$Ae,43,58,"ng-template",null,1,vi),h(16,"div",9)(17,"div",10),D(18,"ev-reservation-time-counter"),h(19,"div",11)(20,"div",12),D(21,"ev-relevant-mini-basket",13)(22,"ev-ad-serving",6),g()()()()(),h(23,"div",3)(24,"div",4)(25,"div",14),J(26,HAe,1,0,"ev-back-to-customer-search-link"),D(27,"ev-back-to-shopping-cart"),g(),D(28,"ev-ad-serving",6),g()()()),n&2){let o=Fn(13),s=Fn(15);C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.DELIVERY),d(3),C("order",r.deliveryPageJson.order)("isPaytollPlatform",r.affiliateJson.paytollPlatform),d(),C("adId","place-ad-middle"),d(5),C("ngTemplateOutlet",o),d(2),C("ngTemplateOutlet",s),d(10),C("affiliate",r.affiliateJson),d(),C("adId","place-ad-sidebar-bottom"),d(4),$(r.isCallcenterActive?26:-1),d(2),C("adId","place-ad-bottom")}},encapsulation:2})}return t})();var Ote=t=>({"display-block":t});function VAe(t,i){if(t&1){let e=Je();h(0,"ev-pl-button",9),H(1,"translate"),Ee("click",function(){Ne(e);let r=y(2);return Re(r.onClickBackToShoppingCart())}),g()}if(t&2){let e=y(2);C("ngClass",et(8,Ote,e.isSportsShop()))("buttonType","secondary")("buttonText",j(1,6,e.Message.CHECKOUT_APP_GLOBAL_ERROR_TO_SHOPPING_CART))("iconType","cart")("hasFullWidth",!0)("dataQa","back-to-shopping-cart-button")}}function jAe(t,i){if(t&1){let e=Je();h(0,"ev-pl-button",9),H(1,"translate"),Ee("click",function(){Ne(e);let r=y(2);return Re(r.onClickDeleteCartAndBackToStartPage())}),g()}if(t&2){let e=y(2);C("ngClass",et(8,Ote,e.isSportsShop()))("buttonType","secondary")("buttonText",j(1,6,e.Message.CHECKOUT_APP_GLOBAL_ERROR_EMPTY_CART_LINK))("iconType","trashcan")("hasFullWidth",!0)("dataQa","empty-cart-button")}}function GAe(t,i){if(t&1){let e=Je();h(0,"ev-pl-button",10),H(1,"translate"),Ee("click",function(){Ne(e);let r=y(2);return Re(r.onClickBackToMyEventim())}),g()}if(t&2){let e=y(2);C("buttonType","secondary")("buttonText",j(1,5,e.Message.CHECKOUT_APP_GLOBAL_ERROR_BACK_TO_MY_EVENTIM))("iconType","person")("hasFullWidth",!0)("dataQa","back-to-myEventim-button")}}function KAe(t,i){if(t&1&&(Mo(0),h(1,"div",1)(2,"div",5)(3,"h2",6),R(4),H(5,"translate"),g()()(),h(6,"div",1)(7,"section",3),J(8,VAe,2,10,"ev-pl-button",7)(9,jAe,2,10,"ev-pl-button",7)(10,GAe,2,7,"ev-pl-button",8),g()(),Fo()),t&2){let e=y();d(4),ne(" ",j(5,4,e.Message.CHECKOUT_APP_GLOBAL_ERROR_NEXT_STEPS)," "),d(4),$(e.error().cartLink?8:-1),d(),$(e.error().emptyCartLink?9:-1),d(),$(e.showMyEventimLink()?10:-1)}}var P$=(()=>{class t{#e=E(zt);#t=E(yi);#n=E(Tn);#i=E(Va);#r=E(_i);#o=E(Gn);#a=E(ai);#s=nn(null);#l=E(no);#c=E(Sn);OptimizelyPageEvent=Gr;Message=K;NotificationType=rn;error=nn({message:K.CHECKOUT_APP_GLOBAL_ERROR_GLOBAL_ERROR_MESSAGE,cartLink:!0,emptyCartLink:!0,myEventimLink:!0});isSportsShop=sn(()=>this.#a.isSportsShop(this.#s()));showLinks=sn(()=>this.error().cartLink||this.error().emptyCartLink||this.error().myEventimLink);showMyEventimLink=sn(()=>this.error().myEventimLink&&this.hasMyDataPath());constructor(){this.#l.setTitle(this.#c.instant(K.CHECKOUT_APP_PAGE_TITLE_ERROR)),this.subscribeToErrorJson(),this.subscribeToAffiliateJson()}onClickBackToShoppingCart(){this.#e.navigate([Qe.ShoppingCart])}onClickDeleteCartAndBackToStartPage(){this.#t.clearShoppingCart().finally(()=>this.backToStartPage())}onClickBackToMyEventim(){this.#o.show(),this.redirectToMyEventim()}backToStartPage(){let e=this.#r.get(qi.ReferrerCheckout);typeof e=="string"&&e.length>0?En.redirectFromSelfTo(e):this.#e.navigate([Qe.ShoppingCart])}subscribeToErrorJson(){this.#i.data.pipe(cn(e=>e.errorJson),Yt(e=>e!==void 0),Ro(),zn()).subscribe(e=>{this.error.set(e)})}subscribeToAffiliateJson(){this.#n.observeAffiliate().pipe(Ro(),zn()).subscribe(e=>{this.#s.set(e)})}redirectToMyEventim(){let e=this.#s().myDataPath,n=this.#s().ticketsPath;En.redirectFromSelfTo(`${n}?affiliate=${this.#s().code}${e}`,!1)}hasMyDataPath(){return this.#s()!==null&&typeof this.#s().myDataPath=="string"&&this.#s().myDataPath.length>0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-error-page"]],standalone:!1,decls:11,vars:9,consts:[["data-qa","global-error-page",3,"evOptimizelyPageTrigger"],[1,"row"],["data-qa","title",1,"col-xs-12","page-headline-first-order","p-font-checkout"],[1,"col-xs-12"],["data-qa","error-message",3,"type"],["data-qa","next-steps",1,"col-xs-12"],[1,"card-headline","theme-text-light-color"],[1,"btn-block","btn-bottom-margin",3,"ngClass","buttonType","buttonText","iconType","hasFullWidth","dataQa"],[3,"buttonType","buttonText","iconType","hasFullWidth","dataQa"],[1,"btn-block","btn-bottom-margin",3,"click","ngClass","buttonType","buttonText","iconType","hasFullWidth","dataQa"],[3,"click","buttonType","buttonText","iconType","hasFullWidth","dataQa"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"h1",2),R(3),H(4,"translate"),g()(),h(5,"div",1)(6,"div",3)(7,"ev-notification",4),R(8),H(9,"translate"),g()()(),J(10,KAe,11,6,"ng-container"),g()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.ERROR),d(3),ne(" ",j(4,5,r.Message.CHECKOUT_APP_GLOBAL_ERROR_PAGE_TITLE)," "),d(4),C("type",r.NotificationType.Danger),d(),Ae(j(9,7,r.error().message)),d(2),$(r.showLinks()?10:-1))},dependencies:[At,Us,Yd,On,Se],encapsulation:2})}return t})();var Bu=function(t){return t[t.NEW_CUSTOMER_CONNECTED=1]="NEW_CUSTOMER_CONNECTED",t[t.EXISTING_CUSTOMER_CONNECTED=2]="EXISTING_CUSTOMER_CONNECTED",t[t.CUSTOMER_LOGGED_IN=3]="CUSTOMER_LOGGED_IN",t[t.CUSTOMER_CONNECTED=4]="CUSTOMER_CONNECTED",t[t.CUSTOMER_LOGGED_IN_AND_CONNECTED=5]="CUSTOMER_LOGGED_IN_AND_CONNECTED",t}(Bu||{});var Hs=function(t){return t.Code="code",t.EsId="esId",t.ErrorCode="error_code",t.Token="token",t.Sso="sso",t.Source="source",t}(Hs||{});var k$=(()=>{class t extends cr{authenticate(e,n){let r=`/singleSignOn/${e}?code=${n}&contenttype=json&force_session=true`;return this.isInIframe()&&(r+="&source=backtoshop"),this.webshopApi.get(r)}isInIframe(){return ro.isInsideIFrame()||En.getQueryParameter("source")==="iframe"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vh=(()=>{class t extends ph{#e=E(Ot);orderService=E(yi);pageHolder=E(mo);router=E(zt);customerService=E(fo);logService=E(bt);#t=E(YX);#n=E(k$);#i=E($s);#r=E(m1);#o=E(fn);#a;visitProvider(e,n){ee.isNotEmpty(e.getSystem())?this.#t.handleSignOnIfPossible(e.getSystem(),e.getIdToken()).then(()=>this.proceedToNextPage()).catch(r=>{r!==xp.CANCEL&&this.initializeProvider(e).then(()=>{this.handleProviderVisit(e,n)})}):this.initializeProvider(e).then(()=>{this.handleProviderVisit(e,n)})}login(e){return this.#n.authenticate(e.id,e.code).toPromise().then(n=>(this.cleanAuthenticationParams(),this.#o.set(ut.SSO_RESPONSE_DATA,n),n)).catch(n=>{throw this.cleanAuthenticationParams(),n})}setSsoError(e){this.#a=e}getSsoError(){return this.#a}getSsoData(){return this.#o.get(ut.SSO_RESPONSE_DATA,null)}proceedToNextPage(){this.#r.determineNextPage().subscribe(e=>this.determineNextPageAndProceed(e,void 0,{replaceUrl:!0}),e=>this.router.navigate([`error/${e.errorCode}`]))}cleanAuthenticationParams(){let e=this.#e.defaultView.location,r=new Nr({fromString:e.search?.replace("?","")}).delete(Hs.Sso).delete(Hs.Source).delete(Hs.EsId).delete(Hs.Token).delete(Hs.Code),o=`${e.origin}${e.pathname}?${r.toString()}${e.hash}`;this.#e.defaultView.history.replaceState({},"",o)}initializeProvider(e){return new Promise((n,r)=>{if(!e.isLoaded()&&e.getSdkSrc()!==null){let o=`
                    <script id="${e.getSdkId()}"
                            src="${e.getSdkSrc()}"><\/script>`;this.#i.append(o,{done:()=>{e.init(),n()},error:()=>{this.logService.error(new Error(`${e.getName()} SDK could not be loaded.`),"SSO"),r()}})}else n()})}handleProviderVisit(e,n){let r=ro.isInsideIFrame(),o=e.getPopupName(),s=e.getPopupFeatures();r?En.openPopup(n,!0,o,s):this.#e.defaultView.location.replace(n)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nte=(()=>{class t{#e=E(vh);#t=E(fo);#n=E(fn);#i=E(zt);#r=E(Gn);#o=E(bt);#a=E(no);#s=E(Sn);functions=new Map([[Bu.NEW_CUSTOMER_CONNECTED,this.onNewCustomerConnected.bind(this)],[Bu.EXISTING_CUSTOMER_CONNECTED,this.onExistingCustomerConnected.bind(this)],[Bu.CUSTOMER_CONNECTED,this.onCustomerLoggedInAndConnected.bind(this)],[Bu.CUSTOMER_LOGGED_IN,this.onCustomerLoggedInAndConnected.bind(this)],[Bu.CUSTOMER_LOGGED_IN_AND_CONNECTED,this.onCustomerLoggedInAndConnected.bind(this)]]);code;esId;ngOnInit(){this.#a.setTitle(this.#s.instant(K.CHECKOUT_APP_PAGE_TITLE_FACEBOOK)),this.#r.show(),this.#e.setSsoError(null),this.code=En.getQueryParameter(Hs.Code),this.esId=En.getQueryParameter(Hs.EsId),ee.isNotEmpty(this.code)&&ee.isNotEmpty(this.esId)?this.authenticate():this.#i.navigate([Qe.Login])}authenticate(){this.#e.login(this.getSsoAuthenticationParams()).then(this.handleSsoStatus.bind(this)).catch(e=>{this.#o.debug(new Error("Authentication failed."),"Facebook Page"),this.#e.setSsoError(e.message),this.#i.navigate([Qe.Login])})}handleSsoStatus(e){let n=this.functions.get(e.code);n==null?this.#o.error(new Error(`Unknown sso-status-code ${e.code}`),"Facebook Page"):n()}onNewCustomerConnected(){this.#t.getCustomerJson().then(e=>{this.#n.set(ut.CUSTOMER_COMES_FROM_FACEBOOK,!0),this.#i.navigate([Qe.Delivery])}).catch(()=>{this.#i.navigate([Qe.Error])})}onExistingCustomerConnected(){this.#i.navigate([Qe.Sso])}onCustomerLoggedInAndConnected(){this.#i.navigate([Qe.Delivery])}getSsoAuthenticationParams(){return{id:this.esId,code:this.code,force_session:!0}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-facebook-page"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var Rte=(()=>{class t{#e=E(vh);#t=E(fo);#n=E(fn);#i=E(zt);#r=E(Gn);#o=E(bt);#a=E(no);#s=E(Sn);#l=E(Ot);#c=new Map([[Bu.NEW_CUSTOMER_CONNECTED,this.onNewCustomerConnected.bind(this)],[Bu.EXISTING_CUSTOMER_CONNECTED,this.onExistingCustomerConnected.bind(this)],[Bu.CUSTOMER_CONNECTED,this.onCustomerLoggedInAndConnected.bind(this)],[Bu.CUSTOMER_LOGGED_IN,this.onCustomerLoggedInAndConnected.bind(this)],[Bu.CUSTOMER_LOGGED_IN_AND_CONNECTED,this.onCustomerLoggedInAndConnected.bind(this)]]);#d=new Set([br.CODE_KUNDE_MEMBERSHIP_REQUIRED]);code;esId;ngOnInit(){this.#a.setTitle(this.#s.instant(K.CHECKOUT_APP_PAGE_TITLE_LOGIN)),this.#r.show(),this.#e.setSsoError(null);let e=this.#l.defaultView.location.toString();this.code=En.getQueryParam(e,Hs.Code),this.esId=En.getQueryParam(e,Hs.EsId),ee.isNotEmpty(this.code)&&ee.isNotEmpty(this.esId)?this.authenticate():this.#i.navigate([Qe.Login])}changeUrlOfIframeAndClosePopup(){window.opener.location.href=window.location.href.replace("source=iframe","source=backtoshop"),window.close()}authenticate(){if(ce.isObject(window.opener)){this.changeUrlOfIframeAndClosePopup();return}this.#e.login(this.getSsoAuthenticationParams()).then(this.handleSsoStatus.bind(this)).catch(e=>{this.#o.debug(new Error("Authentication failed."),"SSO Page"),this.#e.setSsoError(e.message),this.#d.has(e.errorCode)?this.#i.navigate([Qe.Error,e.errorCode]):this.#i.navigate([Qe.Login])})}handleSsoStatus(e){let n=this.#c.get(e.code);n==null?this.#o.debug(new Error(`Unknown sso-status-code ${e.code}`),"SSO Page"):n()}onNewCustomerConnected(){this.#t.getCustomerJson().then(e=>{this.#n.set(ut.CUSTOMER_COMES_FROM_FACEBOOK,!0),this.#n.set(ut.NEW_CUSTOMER_EMAIL,e.emailAddress),this.#e.proceedToNextPage()}).catch(()=>{this.#i.navigate([Qe.Error])})}onExistingCustomerConnected(){this.#i.navigate([Qe.Sso])}onCustomerLoggedInAndConnected(){this.#e.proceedToNextPage()}getSsoAuthenticationParams(){return{id:this.esId,code:this.code,force_session:!0}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-generic-sso-page"]],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var RM=class{_id;_headline;_description;_object;_templateName;_clickTrackingObject;_ga3ClickTrackingData;constructor(i){this._id=i.id,this._headline=i.headline,this._description=i.description,this._object=i.object,this._templateName=i.templateName,this._clickTrackingObject=i.clickTrackingObject,this._ga3ClickTrackingData=i.ga3ClickTrackingData}get id(){return this._id}get headline(){return this._headline}get description(){return this._description}get object(){return this._object}get templateName(){return this._templateName}get clickTrackingObject(){return this._clickTrackingObject}get ga3ClickTrackingData(){return this._ga3ClickTrackingData}hasDescription(){return typeof this._description=="string"&&this._description.length>0}hasTemplateName(){return typeof this._templateName=="string"&&this._templateName.length>0}};var zT=class{headline;id;description;object;templateName;clickTrackingObject;ga3ClickTrackingData;constructor(i){this.headline=i}setId(i){return this.id=i,this}setDescription(i){return this.description=i,this}setObject(i){return this.object=i,this}setTemplateName(i){return this.templateName=i,this}setClickTrackingObject(i){return this.clickTrackingObject=i,this}build(){return new RM(this)}};var SA=function(t){return t[t.LoggedIn=0]="LoggedIn",t[t.Registered=1]="Registered",t}(SA||{});var Mte=(()=>{class t extends cr{getLoginPage(){return this.webshopApi.get("/login")}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Mv=(()=>{class t extends xl{loginSubject=new qn;sessionResource=E(p1);loginResource=E(Mte);spinnerService=E(Gn);getPageJsonFromResource(){return this.loginResource.getLoginPage()}getPageType(){return Cn.Login}login(e){return this.spinnerService.show(),$a(this.sessionResource.login(e).pipe(An(n=>{this.logService.trace(new Error("a user has logged in"),"Login"),this.determineNextPageAndProceed(n)}),No(n=>(this.spinnerService.hide(),this.logService.trace(new Error("login failed!"),"Login"),ma(()=>n)))))}broadcastLoginStatus(e){this.loginSubject.next(e)}observeLoginStatus(){return this.loginSubject.asObservable()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var la=function(t){return t.Email="email",t.Password="password",t.Username="username",t}(la||{});var MM=(()=>{class t{partnerCookieService=E(qC);logService=E(bt);googleTrackingService=E(qr);LoginFormFieldName=la;NotificationType=rn;Autocomplete=gr;Message=K;emailField=new Gt({fieldName:la.Email,type:Mt.Email,mandatory:!0,value:ee.EMPTY_STRING,label:K.GLOBAL_CUSTOMER_EMAIL_CUSTOMER});usernameField=new Gt({fieldName:la.Username,type:Mt.Tel,mandatory:!0,value:ee.EMPTY_STRING,label:K.CHECKOUT_APP_TOLL_COLLECT_USER_ID});set isPaytollPlatform(e){this._isPaytollPlatform=e,this.isPaytollPlatform?this.identifierField=this.usernameField:this.identifierField=this.emailField}get isPaytollPlatform(){return this._isPaytollPlatform}form;identifierField=this.emailField;_isPaytollPlatform=!1;constructor(e){this.form=new vn(e)}ngOnDestroy(){this.form.destroy()}buildForm(){this.prefillIdentifierField(),this.form.set(this.identifierField).set(new Gt({fieldName:la.Password,type:Mt.Password,mandatory:!0,value:""})),this.form.fields.forEach(e=>e.validation.remove(wt.Required)),this.setValidators()}setPaytollValidators(){let e=new RegExp("^(\\d){7}$");this.identifierField.validation.add(new ir(K.CHECKOUT_APP_TOLL_COLLECT_USER_ID_ERROR)).add(new nh(K.CHECKOUT_APP_TOLL_COLLECT_USER_ID_ERROR,e))}static \u0275fac=function(n){JE()};static \u0275dir=kt({type:t,inputs:{isPaytollPlatform:"isPaytollPlatform"}})}return t})();var Fte=(()=>{class t{document=E(Ot);softLogin=E(Pv);userFirstName;userLastName;userEmail;Message=K;onUserChange=new Jt;changeUser(){this.softLogin.deleteData(),this.onUserChange.emit(!0)}ngOnInit(){let e=this.softLogin.getDataBasedOnConfigCustomer();this.userFirstName=e.firstName,this.userLastName=e.lastName,this.userEmail=e.email}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-soft-login-customer"]],outputs:{onUserChange:"onUserChange"},standalone:!1,decls:13,vars:9,consts:[[1,"row"],[1,"col-xs-12"],["data-qa","soft-login-greeting",1,"soft-login-greeting","font-size-xl","line-height-xl","u-font-weight-700"],[1,"soft-login-greeting-light","u-font-weight-normal"],["data-qa","soft-login-email","id","user-email-softlogin",1,"soft-login-email-address","line-height-s","theme-text-light-color"],[1,"soft-login-not-me-link-wrapper"],["data-qa","soft-login-not-me","tabindex","0","role","link","aria-describedby","user-email-softlogin",1,"link","soft-login-not-me-link","display-inline-block","theme-headline-color",3,"keydown.space","keydown.enter","click"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),R(4),H(5,"translate"),g(),R(6),g(),h(7,"p",4),R(8),g(),h(9,"p",5)(10,"span",6),Ee("keydown.space",function(){return r.changeUser()})("keydown.enter",function(){return r.changeUser()})("click",function(){return r.changeUser()}),R(11),H(12,"translate"),g()()()()),n&2&&(d(4),Ae(j(5,5,r.Message.CHECKOUT_APP_SOFT_LOGIN_GREETING)),d(2),Vi(" ",r.userFirstName," ",r.userLastName," "),d(2),Ae(r.userEmail),d(3),ne(" ",j(12,7,r.Message.CHECKOUT_APP_SOFT_LOGIN_NOT_ME_LINK)," "))},dependencies:[Se],encapsulation:2})}return t})();function WAe(t,i){if(t&1){let e=Je();h(0,"ev-forms-field")(1,"label",4),R(2),H(3,"translate"),g(),h(4,"input",16),Ee("evOnEnter",function(){Ne(e);let r=y();return Re(r.submit())}),g(),h(5,"div",6),D(6,"ev-forms-field-error",7),g()()}if(t&2){let e=y();Le("data-qa","form-wrapper-"+e.identifierField.name),d(),Le("for",e.identifierField.id),d(),ne(" ",j(3,10,e.identifierField.config.label)," "),d(2),C("type",e.identifierField.config.type)("name",e.identifierField.name)("formControlName",e.identifierField.name),Le("id",e.identifierField.id)("autocomplete",e.Autocomplete.EMAIL+" "+e.Autocomplete.USERNAME)("x-autocompletetype",e.Autocomplete.EMAIL+" "+e.Autocomplete.USERNAME),d(2),C("field",e.identifierField)}}function zAe(t,i){if(t&1){let e=Je();h(0,"ev-soft-login-customer",17),Ee("onUserChange",function(){Ne(e);let r=y();return Re(r.changeUser())}),g()}}function YAe(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",18)(2,"span",19),R(3),g()()()),t&2){let e=y();d(),C("type",e.notificationType)("visible",!!e.notificationMessage),d(2),Ae(e.notificationMessage)}}function JAe(t,i){if(t&1&&(h(0,"section",15),D(1,"p",20),H(2,"translate"),g()),t&2){let e=y();d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION))}}var w$=(()=>{class t extends MM{loginService=E(Mv);softLogin=E(Pv);router=E(zt);trackingDataService=E(Bs);notificationMessage;notificationType=rn.Success;showSoftLoginData;pendingRequest=!1;requestBacklog=[];loginMethod="existing_customer";constructor(){super("existingCustomer")}ngOnInit(){this.showSoftLoginData=this.softLogin.showUserData(),this.buildForm(),this.showSoftLoginData&&!this.isPaytollPlatform&&this.emailField.control.setValue(this.softLogin.getDataBasedOnConfigCustomer().email),this.registerOnFormValueChangesListener()}submit(){if(this.trackingDataService.setLoginMethod(this.loginMethod),this.trackingDataService.setShouldLoginBeTracked(!0),this.pendingRequest)this.requestBacklog.push(this.form.toJson());else if(this.form.markAsTouched(),this.form.control.valid){let e=this.form.toJson();this.isPaytollPlatform&&(e.email=e.username,e.username=void 0),Dt.isNotEmpty(this.requestBacklog)&&(e=this.requestBacklog[this.requestBacklog.length-1]),this.pendingRequest=!0,this.loginService.login(e).then(()=>{this.pendingRequest=!1,this.loginService.broadcastLoginStatus(SA.LoggedIn),this.googleTrackingService.isGTMTrackingActive()&&this.googleTrackingService.trackLogin(this.loginMethod)}).catch(n=>{this.trackingDataService.setShouldLoginBeTracked(!1),this.pendingRequest=!1,Dt.isNotEmpty(this.requestBacklog)?(this.submit(),this.requestBacklog=[]):n.errorCode===na.MAXIMUM_TICKETS_FOR_CUSTOMER_EXCEEDED?this.router.navigate([`error/${n.errorCode}`]):(this.identifierField.validation.update(wt.Rejected,{rejectedValue:this.identifierField.control.value}),this.setNotificationMessage(n.message,rn.Danger))})}}setNotificationMessage(e,n){this.notificationMessage=e,this.notificationType=n}setValidators(){this.isPaytollPlatform?this.setPaytollValidators():this.setEmailValidators(),this.setPasswordValidators()}prefillIdentifierField(){return this.showSoftLoginData?this.softLogin.getDataBasedOnConfigCustomer().email:this.partnerCookieService.getPartnerCookie().map(e=>e.emailAddress).orElse("")}changeUser(){this.showSoftLoginData=!1,this.identifierField.control.setValue("")}setEmailValidators(){this.identifierField.validation.add(new ir(K.CHECKOUT_APP_CUSTOMER_USERNAME_WHICH_ONE)).add(new hs(ee.EMPTY_STRING))}setPasswordValidators(){this.form.getField(la.Password).validation.add(new ir(K.CHECKOUT_APP_CUSTOMER_PASSWORD_REQUIRED))}registerOnFormValueChangesListener(){this.form.control.valueChanges.subscribe(()=>{this.isPaytollPlatform||this.identifierField.control.setErrors(null),this.setNotificationMessage(ee.EMPTY_STRING,rn.Success)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-existing-customer"]],standalone:!1,features:[dt],decls:29,vars:23,consts:[[1,"col-xs-12","col-md-7"],[1,"row"],[1,"validation",3,"formGroup"],["data-qa","form-wrapper-password"],["field-label",""],["type","password","data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","name","formControlName"],["field-error",""],[3,"field"],[1,"no-padding-top"],[3,"onSuccess","onError","prefillWithField"],[1,"col-sm-8","col-sm-offset-4","submit"],["type","submit","data-qa","login-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit"],[1,"secure-order","margin-top-xs"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],["evHideOnMobile","","data-qa","marginal",1,"col-md-5"],["data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","type","name","formControlName"],[3,"onUserChange"],[3,"type","visible"],["data-qa","message"],[1,"marginal-paragraph","theme-text-marginal-color","margin-top-xl",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"form",2)(3,"section"),J(4,WAe,7,12,"ev-forms-field")(5,zAe,1,0,"ev-soft-login-customer"),g(),h(6,"section")(7,"ev-forms-field",3)(8,"label",4),R(9),H(10,"translate"),g(),h(11,"input",5),Ee("evOnEnter",function(){return r.submit()}),g(),h(12,"div",6),D(13,"ev-forms-field-error",7),g()()()(),h(14,"section",8)(15,"ev-password-forgotten",9),Ee("onSuccess",function(s){return r.setNotificationMessage(s,r.NotificationType.Success)})("onError",function(s){return r.setNotificationMessage(s,r.NotificationType.Danger)}),g()(),J(16,YAe,4,3,"section"),h(17,"section")(18,"div",1)(19,"div",10)(20,"button",11),Ee("onSubmit",function(){return r.submit()}),R(21),H(22,"translate"),g(),h(23,"div",12),D(24,"i",13),h(25,"span",14),R(26),H(27,"translate"),g()()()()()()(),J(28,JAe,3,3,"section",15)),n&2&&(d(2),C("formGroup",r.form.control),d(2),$(r.showSoftLoginData?-1:4),d(),$(r.showSoftLoginData?5:-1),d(3),Le("for",r.form.getField(r.LoginFormFieldName.Password).id),d(),ne(" ",j(10,17,r.Message.GLOBAL_CUSTOMER_PASSWORD)," "),d(2),C("name",r.LoginFormFieldName.Password)("formControlName",r.LoginFormFieldName.Password),Le("id",r.form.getField(r.LoginFormFieldName.Password).id)("autocomplete",r.Autocomplete.PASSWORD)("x-autocompletetype",r.Autocomplete.PASSWORD),d(2),C("field",r.form.getField(r.LoginFormFieldName.Password)),d(2),C("prefillWithField",r.isPaytollPlatform?null:r.form.getField(r.LoginFormFieldName.Email)),d(),$(r.notificationMessage?16:-1),d(4),C("evFormsSubmit",r.form),d(),ne(" ",j(22,19,r.Message.CHECKOUT_APP_LOGIN)," "),d(5),Ae(j(27,21,r.Message.CHECKOUT_APP_SAVE_ORDER)),d(2),$(r.showSoftLoginData?-1:28))},dependencies:[Ai,mr,Ic,Fp,xi,jr,Rr,Pn,wn,_o,xt,h1,On,ta,Fte,Se],encapsulation:2})}return t})();var Sc=(()=>{class t{loginService=E(Mv);router=E(zt);logService=E(bt);remoteNotificationService=E(fh);navigateToDeliveryPage(){this.router.navigate([Qe.Delivery],{replaceUrl:!0}).then(()=>this.loginService.broadcastLoginStatus(SA.Registered))}navigateBackToPage(e,n,r=Qe.Delivery){this.logService.trace(new Error("click on change"),`Navigation - ${e}`),this.router.navigate([r],{fragment:n})}navigateToPendingPage(e){e!==void 0&&!this.router.isActive(Qe.Pending,!1)&&this.router.navigate([Qe.Pending])}navigateToErrorPage(e){e!==void 0&&Number.isInteger(e.errorCode)?this.router.navigate([`${Qe.Error}/${e.errorCode}`]):this.router.navigate([Qe.Error])}navigateToPageAndShowRemoteNotification(e,n,r=rn.Danger){this.remoteNotificationService.setRemoteNotification({page:e,message:n,type:r}),this.router.navigate([e])}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var QAe=t=>[t],D$=(()=>{class t{partnerCookieService=E(qC);storageService=E(fn);emailResource=E(Iv);navigationService=E(Sc);validationRulesService=E(rd);googleTrackingService=E(qr);trackingDataService=E(Bs);NotificationType=rn;Autocomplete=gr;Message=K;affiliate;form=new vn("guestCustomer");loginMethod="guest_customer";ngOnInit(){this.form.set(new Gt({fieldName:"email",type:Mt.Email,mandatory:!0,value:this.determineEmailAddress()},[new ir(K.CHECKOUT_APP_CUSTOMER_EMAIL_WHICH_ONE),...ea.getValidatorsByRule(this.validationRulesService.getValidationRule("CustomerJson.emailAddress"))])).rules.add(new P0(this.emailResource,"email",!1,this.affiliate.passwordPolicy,K.CHECKOUT_APP_CUSTOMER_EMAIL_REGISTERED)),this.form.control.updateValueAndValidity()}determineEmailAddress(){return this.partnerCookieService.getPartnerCookie().map(e=>e.emailAddress).orElse("")}submit(){this.trackingDataService.setLoginMethod(this.loginMethod),this.form.control.valid&&(this.storageService.set(ut.NEW_CUSTOMER_EMAIL,this.form.getField("email").control.value),this.googleTrackingService.isGTMTrackingActive()&&(this.trackingDataService.setShouldLoginBeTracked(!0),this.googleTrackingService.trackLogin(this.loginMethod)),this.navigationService.navigateToDeliveryPage())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-guest-customer"]],inputs:{affiliate:"affiliate"},standalone:!1,decls:27,vars:24,consts:[[1,"col-xs-12","col-md-7"],[1,"row"],[1,"validation",3,"formGroup"],["data-qa","form-wrapper-email"],["field-label",""],["type","email","name","email","data-qa","input","formControlName","email","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border",3,"evOnEnter"],["field-error",""],[3,"field","preventMultipleError"],["field-description",""],[3,"additionalHints","cssClasses"],[1,"col-sm-8","col-sm-offset-4","submit"],["data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit"],[1,"secure-order","margin-top-xs"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],["evHideOnMobile","","data-qa","marginal",1,"col-md-5"],[1,"marginal-paragraph","theme-text-marginal-color","margin-top-xl",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"section")(3,"form",2)(4,"ev-forms-field",3)(5,"label",4),R(6),H(7,"translate"),g(),h(8,"input",5),Ee("evOnEnter",function(){return r.submit()}),g(),h(9,"div",6),D(10,"ev-forms-field-error",7),g(),h(11,"div",8),D(12,"ev-gdpr-hint",9),g()()()(),h(13,"section")(14,"div",1)(15,"div",10)(16,"button",11),Ee("onSubmit",function(){return r.submit()}),R(17),H(18,"translate"),g(),h(19,"div",12),D(20,"i",13),h(21,"span",14),R(22),H(23,"translate"),g()()()()()()(),h(24,"section",15),D(25,"p",16),H(26,"translate"),g()),n&2&&(d(3),C("formGroup",r.form.control),d(2),Le("for",r.form.getField("email").config.id),d(),ne(" ",j(7,14,r.Message.GLOBAL_CUSTOMER_EMAIL_CUSTOMER)," "),d(2),Le("id",r.form.getField("email").config.id)("autocomplete",r.Autocomplete.EMAIL)("x-autocompletetype",r.Autocomplete.EMAIL),d(2),C("field",r.form.getField("email"))("preventMultipleError",!0),d(2),C("additionalHints",et(22,QAe,r.Message.GLOBAL_HINTS_GDPR_GUEST_ACCOUNT))("cssClasses","margin-top-l"),d(4),C("evFormsSubmit",r.form),d(),ne(" ",j(18,16,r.Message.CHECKOUT_APP_CONTINUE_AS_GUEST)," "),d(5),Ae(j(23,18,r.Message.CHECKOUT_APP_SAVE_ORDER)),d(3),C("evCoreHtml",j(26,20,r.Message.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION)))},dependencies:[Ai,mr,Ic,Fp,xi,jr,Rr,Pn,wn,_o,xt,ta,ja,Se],encapsulation:2})}return t})();var ePe=t=>[t],O$=(()=>{class t extends MM{validationRulesService=E(rd);storageService=E(fn);emailResource=E(Iv);usernameResource=E(iM);navigationService=E(Sc);trackingDataService=E(Bs);set affiliate(e){this._affiliate=e,this.passwordHint=this.getPasswordHint(e.passwordPolicy),this.updatePasswordPolicy(e.passwordPolicy)}get affiliate(){return this._affiliate}passwordHint=null;_affiliate;storeKeyForField=new Map([[la.Email,ut.NEW_CUSTOMER_EMAIL],[la.Username,ut.NEW_CUSTOMER_USERNAME]]);loginMethod="new_customer";constructor(){super("newCustomer")}ngOnInit(){this.buildForm()}submit(){this.trackingDataService.setLoginMethod(this.loginMethod),this.form.control.valid&&(this.storageService.set(this.storeKeyForField.get(this.identifierField.name),this.identifierField.control.value),this.storageService.set(ut.NEW_CUSTOMER_PASSWORD,this.form.getField(la.Password).control.value),this.googleTrackingService.isGTMTrackingActive()&&(this.trackingDataService.setShouldLoginBeTracked(!0),this.googleTrackingService.trackLogin(this.loginMethod)),this.navigationService.navigateToDeliveryPage())}setValidators(){this.isPaytollPlatform?(this.setPaytollValidators(),this.form.rules.add(new rA(this.usernameResource,la.Username,this.affiliate.passwordPolicy))):(this.setEmailValidators(),this.form.rules.add(new P0(this.emailResource,la.Email,!1,this.affiliate.passwordPolicy))),this.setPasswordValidators(),this.updatePasswordPolicy(this.affiliate.passwordPolicy)}prefillIdentifierField(){return this.partnerCookieService.getPartnerCookie().filter(()=>!this.isPaytollPlatform).map(e=>e.emailAddress).orElse("")}getPasswordHint(e){let n=null;switch(e){case Rm.WEAK:n=K.CHECKOUT_APP_CUSTOMER_PASSWORD_0_HINT;break;case Rm.MEDIUM:n=K.CHECKOUT_APP_CUSTOMER_PASSWORD_1_HINT;break;case Rm.COMPLEX:n=K.CHECKOUT_APP_CUSTOMER_PASSWORD_2_HINT;break;case Rm.COMPLEX_OLD:n=K.CHECKOUT_APP_CUSTOMER_PASSWORD_3_HINT;break;case Rm.COMPLEX_NEW:n=K.CHECKOUT_APP_CUSTOMER_PASSWORD_4_HINT;break;default:this.logService.debug(new Error(`password policy of type "${e}" is not implemented.`),"New Customer")}return n}updatePasswordPolicy(e){if(ce.isObject(this.form)&&this.form.hasField(la.Password)){let n=this.validationRulesService.getValidationRuleForPasswordPolicy(e);this.form.getField(la.Password).validation.has(wt.Pattern)?this.form.getField(la.Password).validation.update(wt.Pattern,{regExp:n}):this.form.getField(la.Password).validation.add(new nh(K.CHECKOUT_APP_CUSTOMER_PASSWORD_ERROR,n))}}setEmailValidators(){this.form.getField(la.Email).validation.add(new ir(K.CHECKOUT_APP_CUSTOMER_EMAIL_WHICH_ONE)),ea.getValidatorsByRule(this.validationRulesService.getValidationRule("CustomerJson.emailAddress")).forEach(e=>{this.form.getField(la.Email).validation.add(e)})}setPasswordValidators(){this.form.getField(la.Password).validation.add(new ir(K.CHECKOUT_APP_CUSTOMER_PASSWORD_WHICH_ONE)).add(new YR(K.CHECKOUT_APP_CUSTOMER_PASSWORD_CONTAINS_USERDATA,this._affiliate.passwordPolicy,this.form))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-new-customer"]],inputs:{affiliate:"affiliate"},standalone:!1,features:[dt],decls:37,vars:42,consts:[[1,"col-xs-12","col-md-7"],[1,"row"],[1,"validation",3,"formGroup"],["field-label",""],["data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","type","name","formControlName"],["field-error",""],[3,"field","preventMultipleError"],["data-qa","form-wrapper-password"],["type","password","data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","name","formControlName"],["field-description","","data-qa","password-hint",1,"card-hint","theme-text-light-color"],[3,"additionalHints","cssClasses"],[1,"col-sm-8","col-sm-offset-4","submit"],["data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit"],[1,"secure-order","margin-top-xs"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],["evHideOnMobile","","data-qa","marginal",1,"col-md-5"],[1,"marginal-paragraph","theme-text-marginal-color","margin-top-xl",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"form",2)(3,"section")(4,"ev-forms-field")(5,"label",3),R(6),H(7,"translate"),g(),h(8,"input",4),Ee("evOnEnter",function(){return r.submit()}),g(),h(9,"div",5),D(10,"ev-forms-field-error",6),g()()(),h(11,"section")(12,"ev-forms-field",7)(13,"label",3),R(14),H(15,"translate"),g(),h(16,"input",8),Ee("evOnEnter",function(){return r.submit()}),g(),h(17,"div",5),D(18,"ev-forms-field-error",6),g(),h(19,"div",9),R(20),H(21,"translate"),D(22,"ev-gdpr-hint",10),g()()()(),h(23,"section")(24,"div",1)(25,"div",11)(26,"button",12),Ee("onSubmit",function(){return r.submit()}),R(27),H(28,"translate"),g(),h(29,"div",13),D(30,"i",14),h(31,"span",15),R(32),H(33,"translate"),g()()()()()()(),h(34,"section",16),D(35,"p",17),H(36,"translate"),g()),n&2&&(d(2),C("formGroup",r.form.control),d(2),Le("data-qa","form-wrapper-"+r.identifierField.name),d(),Le("for",r.identifierField.id),d(),ne(" ",j(7,28,r.identifierField.config.label)," "),d(2),C("type",r.identifierField.config.type)("name",r.identifierField.name)("formControlName",r.identifierField.name),Le("id",r.identifierField.id)("autocomplete",r.Autocomplete.EMAIL+" "+r.Autocomplete.USERNAME)("x-autocompletetype",r.Autocomplete.EMAIL+" "+r.Autocomplete.USERNAME),d(2),C("field",r.identifierField)("preventMultipleError",!0),d(3),Le("for",r.form.getField(r.LoginFormFieldName.Password).config.id),d(),ne(" ",j(15,30,r.Message.CHECKOUT_APP_NEW_PASSWORD_LABEL)," "),d(2),C("name",r.LoginFormFieldName.Password)("formControlName",r.LoginFormFieldName.Password),Le("id",r.form.getField(r.LoginFormFieldName.Password).config.id)("autocomplete",r.Autocomplete.NEW_PASSWORD)("x-autocompletetype",r.Autocomplete.NEW_PASSWORD),d(2),C("field",r.form.getField(r.LoginFormFieldName.Password))("preventMultipleError",!0),d(2),ne(" ",j(21,32,r.passwordHint)," "),d(2),C("additionalHints",et(40,ePe,r.Message.GLOBAL_HINTS_GDPR_NEW_CUSTOMER))("cssClasses","margin-top-l"),d(4),C("evFormsSubmit",r.form),d(),ne(" ",j(28,34,r.Message.CHECKOUT_APP_CONTINUE_AS_GUEST)," "),d(5),Ae(j(33,36,r.Message.CHECKOUT_APP_SAVE_ORDER)),d(3),C("evCoreHtml",j(36,38,r.Message.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_MARGINAL_DESCRIPTION)))},dependencies:[Ai,mr,Ic,Fp,xi,jr,Rr,Pn,wn,_o,xt,ta,ja,Se],encapsulation:2})}return t})();var FM=(()=>{class t{configuration;constructor(e){this.configuration=e}getName(){return this.configuration.name}getSystem(){return this.configuration.system}getIdToken(){return this.configuration.idToken}isLoaded(){return document.getElementById(this.getSdkId())!==null}getPopupName(){return"_blank"}getPopupFeatures(){return""}static \u0275fac=function(n){JE()};static \u0275dir=kt({type:t})}return t})();var LM=class extends FM{language;constructor(i,e){super(i),this.language=e}init(){window.FB.init(this.getConfiguration())}getSdkId(){return"facebook-jssdk"}getSdkSrc(){return`//connect.facebook.net/${uv.getLocaleCode(this.language)}/sdk.js`}getConfiguration(i=!0,e=!1){return{appId:this.configuration.applicationId,cookie:i,xfbml:e,version:this.configuration.apiVersion}}getAuthenticationUrl(){return this.configuration.authenticationUrl}};var YT=class extends FM{constructor(i){super(i)}getAuthenticationUrl(){return this.configuration.authenticationUrl}init(){}isLoaded(){return!0}getSdkId(){return""}getSdkSrc(){return""}getConfiguration(){return{}}};var tu=function(t){return t.Facebook="Facebook",t.Generic="Generic",t}(tu||{});var nPe=t=>({"margin-top-l":t}),iPe=(t,i)=>i.id;function rPe(t,i){t&1&&D(0,"ev-pl-spinner",1),t&2&&C("visible",!0)("hidePage",!0)("transparency",!1)}function oPe(t,i){if(t&1&&(h(0,"div",2)(1,"div",7),D(2,"hr",8),h(3,"span",9),R(4),H(5,"translate"),g()()()),t&2){let e=y();d(4),ne(" ",j(5,1,e.Message.CHECKOUT_APP_OR)," ")}}function aPe(t,i){if(t&1&&D(0,"i"),t&2){let e=y(2).$implicit,n=y();xo("icon ",n.iconClass.get(e.vendor),"")}}function sPe(t,i){if(t&1){let e=Je();h(0,"button",13),Ee("click",function(){Ne(e);let r=y().$implicit,o=y();return Re(o.onSsoButtonClick(r))}),J(1,aPe,1,3,"i",14),h(2,"span",15),R(3),g()()}if(t&2){let e=y().$implicit,n=y();xo("btn btn-lg btn-block theme-button-radius ",n.buttonClass.get(e.vendor),""),Fd("title","Login via ",e.name,""),d(),$(n.iconClass.has(e.vendor)?1:-1),d(2),Ae(e.name)}}function lPe(t,i){if(t&1&&D(0,"i",18),t&2){let e=y(2).$implicit;Io("background-image","url("+e.ssoImage+")")}}function cPe(t,i){if(t&1){let e=Je();h(0,"button",16),Ee("click",function(){Ne(e);let r=y().$implicit,o=y();return Re(o.onSsoButtonClick(r))}),J(1,lPe,1,2,"i",17),h(2,"span",15),R(3),g()()}if(t&2){let e=y().$implicit;Io("background-color",e.buttonColor),Fd("title","Login via ",e.name,""),d(),$(e.ssoImage?1:-1),d(2),Ae(e.buttonLabel)}}function dPe(t,i){if(t&1&&(h(0,"div",6)(1,"div",10),J(2,sPe,4,7,"button",11)(3,cPe,4,6,"button",12),g()()),t&2){let e=i.$implicit,n=y();d(2),$(e.vendor!==n.SsoVendorType.Generic?2:-1),d(),$(e.vendor===n.SsoVendorType.Generic?3:-1)}}var N$=(()=>{class t{ssoService=E(vh);document=E(Ot);modalWindowService=E(kn);#e=E(_i);#t=E(bt);NotificationType=rn;SsoVendorType=tu;Message=K;affiliate;ssoProvider;buttonClass=new Map([[tu.Facebook,"btn-facebook"]]);iconClass=new Map([[tu.Facebook,"icon-facebook"]]);#n=new Map([[tu.Facebook,(e,n)=>new LM(e,n)],[tu.Generic,e=>new YT(e)]]);ngOnInit(){this.automaticLogin(),this.document.addEventListener("popupblocked",e=>{this.modalWindowService.showModal(this.getModalConfigurationForBlockedLogin())})}getModalConfigurationForBlockedLogin(){return new Dn(co.buildTextMessage(K.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_DESCRIPTION)).enableTitle(K.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_TITLE).enablePrimaryButton(K.LOGIN_PAGE_BLOCKED_LOGIN_MODAL_SUBMIT_BUTTON,()=>{this.shouldAutomaticLogin()&&this.onSsoButtonClick(this.ssoProvider[0]),this.modalWindowService.hideModal()})}isSsoLoginOnly(){return this.affiliate.ssoLoginOnly||this.isEnforceKeycloakEnabled()}shouldAutomaticLogin(){return this.ssoProvider.length===1&&this.ssoProvider[0].automaticLoginAllowed&&this.ssoProvider[0].vendor===tu.Generic&&this.isSsoLoginOnly()}automaticLogin(){this.shouldAutomaticLogin()&&this.onSsoButtonClick(this.ssoProvider[0])}hasSsoError(){return ee.isNotEmpty(this.ssoService.getSsoError())}onSsoButtonClick(e){let n=this.#n.get(e.vendor);if(n===null)this.#t.debug(new Error(`Vendor type: ${e.vendor}`),"SSO Component onButtonClick");else{let r=this.#e.get(qi.Language),o=n(e,r),s=typeof this.document.defaultView?.__cmp=="function"?this.document.defaultView.__cmp("exportConsent"):ee.EMPTY_STRING,c=o.getAuthenticationUrl();c=`${c}&reserved_until=${Number(this.#e.get(qi.ReservationExpirationTime))}&affiliate=${this.affiliate.code}`,s&&(c=`${c}&cmpimport=${s}`),this.ssoService.visitProvider(o,c)}}isEnforceKeycloakEnabled(){return this.affiliate.enforceKeycloakLogin}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sso"]],inputs:{affiliate:"affiliate",ssoProvider:"ssoProvider"},standalone:!1,decls:10,vars:8,consts:[["data-qa","sso",3,"ngClass"],["data-qa","automatic-login-spinner",3,"visible","hidePage","transparency"],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],[3,"type","visible"],["data-qa","error"],[1,"row","button-container"],[1,"col-xs-12","alternate-separator"],[1,"line-separator","theme-element-border"],["data-qa","separator",1,"text-separator","theme-page-bg","theme-content-color","theme-text-light-color"],["data-qa","provider",1,"col-xs-12","col-md-6","col-md-offset-3"],["type","button",3,"class","title"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","theme-button-radius",3,"background-color","title"],["type","button",3,"click","title"],[3,"class"],["data-qa","button",1,"btn-text"],["type","button",1,"btn","btn-primary","btn-lg","btn-block","theme-button-radius",3,"click","title"],[1,"icon","icon-sso",3,"backgroundImage"],[1,"icon","icon-sso"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,rPe,1,3,"ev-pl-spinner",1)(2,oPe,6,3,"div",2),h(3,"div",2)(4,"div",3)(5,"ev-notification",4)(6,"span",5),R(7),g()()()(),ft(8,dPe,4,2,"div",6,iPe),g()),n&2&&(C("ngClass",et(6,nPe,r.isSsoLoginOnly())),d(),$(r.shouldAutomaticLogin()?1:-1),d(),$(r.isSsoLoginOnly()?-1:2),d(3),C("type",r.NotificationType.Danger)("visible",r.hasSsoError()),d(2),Ae(r.ssoService.getSsoError()),d(),ht(r.ssoProvider))},dependencies:[At,Tc,On,Se],encapsulation:2})}return t})();function pPe(t,i){t&1&&D(0,"ev-pl-spinner",1),t&2&&C("visible",!0)("hidePage",!0)("transparency",!1)}function mPe(t,i){if(t&1&&(h(0,"section",2)(1,"ev-notification",10)(2,"span",11),R(3),g()()()),t&2){let e=y();d(),C("type",e.NotificationType.Danger)("visible",!0),d(2),Ae(e.ssoService.getSsoError())}}function fPe(t,i){if(t&1&&D(0,"i",15),t&2){let e=y(2);Io("background-image","url("+e.enforcedSsoJson.ssoProvider.ssoImage+")")}}function hPe(t,i){if(t&1){let e=Je();h(0,"button",12),Ee("click",function(){Ne(e);let r=y();return Re(r.onSsoButtonClick(r.enforcedSsoJson.ssoProvider))}),J(1,fPe,1,2,"i",13),h(2,"span",14),R(3),g()()}if(t&2){let e=y();Io("background-color",e.enforcedSsoJson.ssoProvider.buttonColor),Fd("title","Login via ",e.enforcedSsoJson.ssoProvider.name,""),d(),$(e.enforcedSsoJson.ssoProvider.ssoImage?1:-1),d(2),Ae(e.enforcedSsoJson.ssoProvider.buttonLabel)}}var Lte=(()=>{class t{ssoService=E(vh);NotificationType=rn;SsoVendorType=tu;Message=K;shouldAutomaticLogin=!1;enforcedSsoJson;ngOnInit(){this.shouldAutomaticLogin=this.enforcedSsoJson.ssoProvider.automaticLoginAllowed,this.automaticLogin()}automaticLogin(){this.shouldAutomaticLogin&&this.onSsoButtonClick(this.enforcedSsoJson.ssoProvider)}hasSsoError(){return ee.isNotEmpty(this.ssoService.getSsoError())}onSsoButtonClick(e){let n=new YT(e);this.ssoService.visitProvider(n,n.getAuthenticationUrl())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-enforced-sso-provider"]],inputs:{enforcedSsoJson:"enforcedSsoJson"},standalone:!1,decls:12,vars:7,consts:[["data-qa","description",1,"external-content",3,"evCoreHtml"],["data-qa","automatic-login-spinner",3,"visible","hidePage","transparency"],[1,"col-sm-8","col-sm-offset-4"],[1,"no-padding-top"],[1,"row"],[1,"col-sm-8","col-sm-offset-4","submit"],["type","button","data-qa","button",1,"btn","btn-primary","btn-lg","btn-block","theme-button-radius",3,"background-color","title"],[1,"secure-order","margin-top-xs"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],[3,"type","visible"],["data-qa","error"],["type","button","data-qa","button",1,"btn","btn-primary","btn-lg","btn-block","theme-button-radius",3,"click","title"],[1,"icon","icon-sso",3,"backgroundImage"],[1,"btn-text"],[1,"icon","icon-sso"]],template:function(n,r){n&1&&(D(0,"section",0),J(1,pPe,1,3,"ev-pl-spinner",1)(2,mPe,4,3,"section",2),h(3,"section",3)(4,"div",4)(5,"div",5),J(6,hPe,4,6,"button",6),h(7,"div",7),D(8,"i",8),h(9,"span",9),R(10),H(11,"translate"),g()()()()()),n&2&&(C("evCoreHtml",r.enforcedSsoJson.descriptionHtml),d(),$(r.shouldAutomaticLogin?1:-1),d(),$(r.hasSsoError()?2:-1),d(4),$(r.enforcedSsoJson.ssoProvider.vendor===r.SsoVendorType.Generic?6:-1),d(4),Ae(j(11,5,r.Message.CHECKOUT_APP_SAVE_ORDER)))},dependencies:[xt,Tc,On,Se],encapsulation:2})}return t})();function vPe(t,i){if(t&1&&(D(0,"p",13),H(1,"translate")),t&2){let e=y(3);C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_LOGIN_DESCRIPTION))}}function _Pe(t,i){if(t&1&&(D(0,"p",13),H(1,"translate")),t&2){let e=y(3);C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_LOGIN_SSO_ONLY_HINT))}}function CPe(t,i){if(t&1&&(D(0,"p",14),H(1,"translate")),t&2){let e=y(3);C("evCoreHtml",j(1,1,e.Message.LOGIN_NO_LOGIN_HINT))}}function yPe(t,i){if(t&1&&J(0,vPe,2,3,"p",13)(1,_Pe,2,3,"p",13)(2,CPe,2,3,"p",14),t&2){let e=y(2);$(e.affiliate.ssoLoginOnly?-1:0),d(),$(e.affiliate.ssoLoginOnly&&e.showSsoComponent()?1:-1),d(),$(e.affiliate.ssoLoginOnly&&!e.hasSsoProvider()?2:-1)}}function EPe(t,i){if(t&1&&(h(0,"ev-pl-card"),D(1,"ev-enforced-sso-provider",15),g()),t&2){let e=y(2);d(),C("enforcedSsoJson",e.loginPageJson.enforcedSsoJson),Le("data-qa","enforced-sso")}}function TPe(t,i){if(t&1&&(h(0,"ev-tab-cordion",17)(1,"ev-template",19)(2,"div",1),D(3,"ev-existing-customer",20),g()(),h(4,"ev-template",21)(5,"div",1),D(6,"ev-guest-customer",22),g()(),h(7,"ev-template",23)(8,"div",1),D(9,"ev-new-customer",24),g()()()),t&2){let e=y(4);C("tabCordionItems",e.tabCordionItems)("state",e.tabCordionInitialState),d(3),C("isPaytollPlatform",e.affiliate.paytollPlatform),Le("data-qa","existing-customer"),d(3),C("affiliate",e.affiliate),Le("data-qa","guest-customer"),d(3),C("affiliate",e.affiliate)("isPaytollPlatform",e.affiliate.paytollPlatform),Le("data-qa","new-customer")}}function bPe(t,i){t&1&&(h(0,"ev-pl-card",18),D(1,"ev-existing-customer"),g()),t&2&&(C("additionalClass","padding-top-m"),d(),Le("data-qa","existing-customer"))}function IPe(t,i){if(t&1&&J(0,TPe,10,9,"ev-tab-cordion",17)(1,bPe,2,2,"ev-pl-card",18),t&2){let e=y(3);$(e.tabCordionItems.length>1?0:1)}}function SPe(t,i){if(t&1&&D(0,"ev-sso",16),t&2){let e=y(3);C("affiliate",e.affiliate)("ssoProvider",e.loginPageJson.ssoProvider)}}function xPe(t,i){if(t&1&&J(0,IPe,2,1)(1,SPe,1,2,"ev-sso",16),t&2){let e=y(2);$(!e.isEnforceKeycloakEnabled()&&!e.affiliate.ssoLoginOnly?0:-1),d(),$(e.showSsoComponent()?1:-1)}}function APe(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),R(5),H(6,"translate"),g()(),J(7,yPe,3,3),g(),h(8,"div",5),D(9,"ev-reservation-time-counter"),g()(),D(10,"ev-ad-serving",6),J(11,EPe,2,2,"ev-pl-card")(12,xPe,2,2),h(13,"div",1)(14,"div",7)(15,"div",8)(16,"div",9)(17,"span",10),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickBackButton())})("keydown.space",function(){Ne(e);let r=y();return Re(r.onClickBackButton())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.onClickBackButton())}),D(18,"i",11),h(19,"span",12),R(20),H(21,"translate"),g()()()(),D(22,"ev-ad-serving",6),g()()()}if(t&2){let e=y();d(5),ne(" ",j(6,6,e.Message.CHECKOUT_APP_LOGIN_HEADLINE),""),d(2),$(e.loginPageJson.enforcedSsoJson?-1:7),d(3),C("adId","place-ad-middle"),d(),$(e.loginPageJson.enforcedSsoJson?11:12),d(9),Ae(j(21,8,e.Message.CHECKOUT_APP_LINK_BACK_TO_SHOPPING_CART)),d(2),C("adId","place-ad-bottom")}}var xA=class t{#e=E(zt);#t=E(Tn);#n=E(mo);#i=E(no);#r=E(Sn);static TAB_CORDION_ITEMS=[new zT(K.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_TITLE).setId(ee.getRandomId("tab-cordion-existing")).setDescription(K.CHECKOUT_APP_EXISTING_CUSTOMER_LOGIN_DESCRIPTION).setTemplateName("existingCustomer").setClickTrackingObject({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"login",navigation_element_selected:"tab_existing_customer"},ga3ClickTrackingData:{action:"login_tab_navigation",label:"existing_customer"}}).build(),new zT(K.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_TITLE).setId(ee.getRandomId("tab-cordion-guest")).setDescription(K.CHECKOUT_APP_GUEST_CUSTOMER_LOGIN_DESCRIPTION).setTemplateName("guestCustomer").setClickTrackingObject({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"login",navigation_element_selected:"tab_guest_customer"},ga3ClickTrackingData:{action:"login_tab_navigation",label:"guestCustomer"}}).build(),new zT(K.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_TITLE).setId(ee.getRandomId("tab-cordion-new")).setDescription(K.CHECKOUT_APP_NEW_CUSTOMER_LOGIN_DESCRIPTION).setTemplateName("newCustomer").setClickTrackingObject({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"login",navigation_element_selected:"tab_new_customer"},ga3ClickTrackingData:{action:"login_tab_navigation",label:"newCustomer"}}).build()];tabCordionItems=t.TAB_CORDION_ITEMS;tabCordionInitialState={activeItem:this.tabCordionItems[0]};Message=K;affiliate=null;loginPageJson=null;subscriptions=[];ngOnInit(){this.#i.setTitle(this.#r.instant(K.CHECKOUT_APP_PAGE_TITLE_LOGIN)),this.subscriptions.push(this.observeAffiliate()),this.subscriptions.push(this.observeLoginPageJson())}ngOnDestroy(){this.subscriptions.forEach(i=>{i.unsubscribe()})}onClickBackButton(){this.#e.navigate([Qe.ShoppingCart])}hasSsoProvider(){return Dt.isNotEmpty(this.loginPageJson.ssoProvider)}observeAffiliate(){return this.#t.observeAffiliate().subscribe(i=>{this.affiliate=i,this.affiliate.easyAccount||(this.tabCordionItems=this.tabCordionItems.filter(e=>e.templateName!=="guestCustomer")),this.affiliate.disableRegistration&&(this.tabCordionItems=this.tabCordionItems.filter(e=>e.templateName!=="newCustomer"))})}observeLoginPageJson(){return this.#n.observePageJson([Cn.Login]).subscribe(i=>{this.loginPageJson=i})}showSsoComponent(){return this.hasSsoProvider()}isEnforceKeycloakEnabled(){return this.affiliate.enforceKeycloakLogin}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-login-page"]],standalone:!1,decls:1,vars:1,consts:[["data-qa","login-page",1,"loginPage"],[1,"row"],[1,"col-xs-12","col-md-7","unit-separator"],[1,"row","heading"],["data-qa","page-headline",1,"col-xs-12","headline-title","page-headline-first-order","p-font-checkout"],["evHideOnMobile","",1,"col-md-5","margin-top-m"],[3,"adId"],[1,"col-xs-12"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow","checkout-card-container"],[1,"col-xs-12","back-link"],["role","link","tabindex","0",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"],["data-qa","back-to-shopping-cart"],["data-qa","page-description",1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],["data-qa","no-login-hint",1,"default-paragraph","theme-text-color",3,"evCoreHtml"],[3,"enforcedSsoJson"],[3,"affiliate","ssoProvider"],[3,"tabCordionItems","state"],[3,"additionalClass"],["name","existingCustomer"],[3,"isPaytollPlatform"],["name","guestCustomer"],[3,"affiliate"],["name","newCustomer"],[3,"affiliate","isPaytollPlatform"]],template:function(e,n){e&1&&J(0,APe,23,10,"div",0),e&2&&$(n.loginPageJson?0:-1)},dependencies:[xt,$n,EM,yM,ta,Sl,w$,D$,O$,N$,Qd,Lte,Se],encapsulation:2})};var Uu=function(t){return t[t.directDebit=1]="directDebit",t[t.directBankTransfer=2]="directBankTransfer",t[t.payOverTime=3]="payOverTime",t[t.payLater=4]="payLater",t}(Uu||{});var JT=(()=>{class t{webshopApi=E(Vo);webshopCookieService=E(_i);priceService=E(uh);storageService=E(fn);phoneNumberService=E(LT);translateService=E(Sn);static klarnaLinkPatterns=["klarna.com/at/impressum","klarna.com/de/impressum","klarna.com/1.0/shared/content/legal","legal.klarnacdn.net","klarna.com/de/kauferschutzrichtlinie","klarna.com/au/buyers-protection","klarna.com/no/tilbakemelding-og-klager","klarna.com/uk/buyer-protection-description","klarna.com/dk/klarnas-koberbeskyttelse","klarna.com/at/kauferschutzrichtlinie","klarna.com/fi/klarnan-kuluttajille-tarjoama-ostajan-turva","klarna.com/no/beskrivelse","klarna.com/nl/aankoopbeschermingklarnas-aankoopbescherming-voor-consumenten","klarna.com/se/beskrivning-av-klarnas-koparskydd"];Message=K;klarnaInitData;klarnaAuthData;divider=10;klarnaContainerIdPrefix="klarna-payments-container-";klarnaFiscalCodeProperty="national_identification_number";getKlarnaInitData(e,n){return this.klarnaInitData=this.loadKlarnaInitData(),this.klarnaInitData===null?this.webshopApi.post(`/klarna/order/${e}/payment/${n}/createSession`).pipe(An(r=>{this.klarnaInitData=r,this.saveKlarnaInitData(r)})):an(this.klarnaInitData)}isSubtypeAvailable(e,n){return e.some(r=>r.identifier===n)}getIdentifierForSubtype(e){return this.getSubtypeMap().get(e)}getDataForAuthorization(e,n,r){let o={attachment:this.getAttachmentData(e.customer,e.order),purchase_country:n.platformCountryCode,purchase_currency:this.webshopCookieService.get(qi.currency),locale:this.getCorrectFormattedLocale(),order_amount:this.priceService.getCurrent.totalAmountInt/this.divider,order_tax_amount:0,order_lines:this.getOrderDataForAuthorization(e.order),options:{disable_confirmation_modals:!0}};return r&&(o.billing_address=this.getCustomerDataForAuthorization(e.customer),o.customer={date_of_birth:e.customer.birthday},ee.isNotEmpty(e.customer.fiscalCode)&&(o.customer[this.klarnaFiscalCodeProperty]=e.customer.fiscalCode),ce.isObject(e.customer.deliveryAddress)?(o.shipping_address=this.getCustomerDataForAuthorization(e.customer.deliveryAddress),o.shipping_address.email===void 0&&(o.shipping_address.email=o.billing_address.email),o.shipping_address.street_address2===void 0&&(o.shipping_address.street_address2=o.billing_address.street_address2),o.shipping_address.phone===void 0&&(o.shipping_address.phone=o.billing_address.phone)):o.shipping_address=o.billing_address),this.klarnaAuthData=o,o}saveKlarnaInitData(e){this.storageService.set(ut.KLARNA_INIT_DATA,e)}loadKlarnaInitData(){return this.storageService.get(ut.KLARNA_INIT_DATA)}isKlarnaReauthorizationNeeded(e,n){let r=this.klarnaAuthData,o=this.getDataForAuthorization(e,n,!0);return!ce.isEqual(r,o)}getCustomerDataForAuthorization(e){let n=ce.hasProperty(e,"countryCode")?e.countryCode:e.country,r={given_name:e.firstName,family_name:e.lastName,email:"emailAddress"in e?e.emailAddress:void 0,title:"salutation"in e?e.salutation:e.deliverySalutation,street_address:e.street,street_address2:"customerAddressLine1"in e?e.customerAddressLine1:void 0,postal_code:e.zipCode,city:e.city,country:n,phone:"emailAddress"in e?this.getPhoneNumber(e):void 0};return ee.isNotEmpty(e.provinceCode)&&(r.region=e.provinceCode),r}getOrderDataForAuthorization(e){let n=[];return e.events.filter(r=>r.totalEventPriceInt>0).forEach(r=>n.push(this.getTicketPosition(r))),Vl.isPositive(e.deliveryFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_DELIVERY_COST,e.deliveryFeeInt)),Vl.isPositive(this.priceService.getCurrent.paymentFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_PAYMENT_COSTS,this.priceService.getCurrent.paymentFeeInt)),Vl.isPositive(this.priceService.getCurrent.serviceFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_SERVICE_FEE,this.priceService.getCurrent.serviceFeeInt)),Vl.isPositive(e.orderFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_ORDER_FEE,e.orderFeeInt)),Vl.isPositive(e.ticketInsuranceFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_TICKET_INSURANCE_TITLE,e.ticketInsuranceFeeInt)),Vl.isPositive(e.giftWrapFeeInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_GIFTWRAP,e.giftWrapFeeInt)),Vl.isPositive(e.voucherAmountInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_VOUCHER,Number.parseInt(`-${e.voucherAmountInt}`))),Vl.isPositive(e.donationAmountInt)&&n.push(this.getAdditionalCostPosition(K.CHECKOUT_APP_DONATION,e.donationAmountInt)),n}getLibUrl(){return`<script id="${this.getLibScriptId()}" src="https://x.klarnacdn.net/kp/lib/v1/api.js" async><\/script>`}getLibScriptId(){return"klarnaLibScript"}getKlarnaCart(e){return JSON.stringify(this.getOrderDataForAuthorization(e))}getKlarnaContainerId(e){return`${this.klarnaContainerIdPrefix}${e}`}getSubtypeMap(){let e=new Map;return e.set(Uu.directDebit,"direct_debit"),e.set(Uu.directBankTransfer,"direct_bank_transfer"),e.set(Uu.payOverTime,"pay_over_time"),e.set(Uu.payLater,"pay_later"),e}getCorrectFormattedLocale(){let e=this.webshopCookieService.get(qi.locale);if(ee.isEmpty(e))return Dt.isNotEmpty(navigator.languages)?navigator.languages[0]:navigator.language;let n=e.split("_");return`${this.checkLocaleForNorway(n[0])}-${n[1].toUpperCase()}`}checkLocaleForNorway(e){return(e==="no"||e==="nn")&&(e="nb"),e}getTicketPosition(e){let n=e.totalEventPriceInt/this.divider;return{type:"physical",name:`${e.numberOfTickets}x ${e.eventName}`,quantity:1,unit_price:n,tax_rate:0,total_amount:n,total_discount_amount:0,total_tax_amount:0}}getAdditionalCostPosition(e,n){let r="surcharge";return e===K.CHECKOUT_APP_DELIVERY_COST&&(r="shipping_fee"),e===K.CHECKOUT_APP_VOUCHER&&(r="discount"),e=this.translateService.instant(e),{type:r,name:e,quantity:1,unit_price:n/this.divider,tax_rate:0,total_amount:n/this.divider,total_discount_amount:0,total_tax_amount:0}}getAttachmentData(e,n){return{body:`{"event": ${this.getAttachmentEventData(e,n)}, "customer_account_info": ${this.getAttachmentCustomerData(e)}, "payment_history_simple": ${this.getPaymentHistoryData(e)}}`,content_type:"application/vnd.klarna.internal.emd-v2+json"}}getAttachmentEventData(e,n){let r=[],o=`${e.firstName} ${e.lastName}`;e.deliveryAddress!==void 0&&(o=`${e.deliveryAddress.firstName} ${e.deliveryAddress.lastName}`);for(let s of n.events){let c={event_name:s.eventName,ticket_delivery_method:this.getAttachmentDeliveryMethod(n.deliveryMethodType),ticket_delivery_recipient:o};if(ee.isNotEmpty(s.promoter)&&(c.event_company=s.promoter),ee.isNotEmpty(s.venueName)&&(c.arena_name=s.venueName),ee.isNotEmpty(s.venueCity)&&(c.arena_location={city:s.venueCity}),typeof s.eventDate=="number"){let v=Kd.getIsoFormattedDateWithoutMilliseconds(s.eventDate);c.start_time=v,c.end_time=v}r.push(c)}return JSON.stringify(r)}getAttachmentDeliveryMethod(e){switch(e){case ui.OUTLETPRINT:case ui.WILL_CALL:return"pick_up";case ui.TICKETDIRECT:case ui.MEMBER_CARD:case ui.MOBILE:return"email";case ui.EVENTIM_PASS:return"phone";default:return"post"}}getAttachmentCustomerData(e){let n=[];return n.push({unique_account_identifier:e.emailAddress}),e.accountRegistrationDate!==void 0&&n.push({account_registration_date:Kd.getIsoFormattedDateWithoutMilliseconds(e.accountRegistrationDate)}),e.accountLastUpdated!==void 0&&n.push({account_last_modified:Kd.getIsoFormattedDateWithoutMilliseconds(e.accountLastUpdated)}),JSON.stringify(n)}getPaymentHistoryData(e){let n=[],r=e.customerStatus===1;return n.push({unique_account_identifier:e.emailAddress,paid_before:r}),JSON.stringify(n)}getPhoneNumber(e){let n=ee.EMPTY_STRING;return ce.hasProperty(e,"mobilePhone.number")&&e.mobilePhone.number!==null&&ee.isNotEmpty(String(e.mobilePhone.number))?n=this.validateNumber(String(e.mobilePhone.number),e.countryCode):ee.isNotEmpty(e.phoneNumber)&&ee.isEmpty(n)&&(n=this.validateNumber(e.phoneNumber,e.countryCode)),n}validateNumber(e,n){this.phoneNumberService.country=n;let r=this.phoneNumberService.parsePhoneNumber(e);return r!==null&&this.phoneNumberService.isPossiblePhoneNumber(String(r.number))?String(r.number):ee.EMPTY_STRING}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var _h=(()=>{class t{storageService=E(fn);noList={};updateList(){this.noList=this.storageService.get(ut.DISABLED_PAYMENT_METHODS,{})}isPaymentMethodAllowed(e,n){return!ce.isEmpty(this.noList)&&Dt.isNotEmpty(this.noList[e])?!this.noList[e].some(r=>r===n):!0}disablePaymentMethod(e,n){Array.isArray(this.noList[e])||(this.noList[e]=[]),this.noList[e].push(n),this.storageService.set(ut.DISABLED_PAYMENT_METHODS,this.noList)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BM=(()=>{class t{subject=new qn;broadcastSelectedPaymentMethod(e){this.subject.next(e)}observeSelectedPaymentMethod(){return this.subject.asObservable()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ps=function(t){return t[t.Open=0]="Open",t[t.Close=1]="Close",t}(Ps||{});var Bte=(()=>{class t{priceService=E(uh);storageService=E(fn);moaService=E(jo);pageTrackingService=E(bl);navigationService=E(Sc);paymentAvailabilityService=E(_h);paymentMethodService=E(BM);logService=E(bt);document=E(Ot);trackingDataService=E(Bs);Message=K;NotificationType=rn;PaymentMethodType=Wt;CheckoutPage=Qe;selectedAccordionItem=null;accordionItemComponentError=null;paymentMethodAccordionItems=[];showExternalPaymentError=void 0;formSubmitStatus=!1;disableSubmitButton=!1;klarnaTimeoutError=!1;preSelectedPaymentMethod=null;activeTimeoutFromKlarna=null;showInputErrorMessage(){return this.formSubmitStatus&&this.selectedAccordionItem!==null&&!this.selectedAccordionItem.isValid()&&this.accordionItemComponentError===null}onAccordionSelectionChange(e,n,r){this.trackingDataService.setCustomTrackingData({order_payment_method_selected:e.returnValue.trackingName}),ce.isObject(this.selectedAccordionItem)?(this.showExternalPaymentError=!1,this.selectedAccordionItem!==e?(n?.resetNotifications(),this.resetErrors(),e.notifyClickListener(Ps.Open),this.selectedAccordionItem!==null&&this.selectedAccordionItem.notifyClickListener(Ps.Close),this.handleKlarnaTimeout(e)):r.filter(s=>s===e)[0].isExpanded||e.notifyClickListener(Ps.Close)):this.handleKlarnaTimeout(e),this.selectedAccordionItem!==e&&(this.selectedAccordionItem=e,this.paymentMethodService.broadcastSelectedPaymentMethod(this.selectedAccordionItem.returnValue)),ce.hasProperty(this.selectedAccordionItem.returnValue,"trackingName")&&ee.isNotEmpty(this.selectedAccordionItem.returnValue.trackingName)&&this.setTrackingVar(this.selectedAccordionItem.returnValue.trackingName),this.resetKlarnaError(),this.logService.trace(new Error("MOP selected"),"Payment Method"),this.hasSelectedPaymentMethod()?this.updatePaymentFee(e.returnValue):this.priceService.updatePaymentFee(0)}isRetry(){return this.showExternalPaymentError===void 0?!1:this.showExternalPaymentError}hasAccordionItemComponentError(){return ee.isNotEmpty(this.accordionItemComponentError)}showAccordionItemComponentError(e){this.accordionItemComponentError=e}handleError(e){this.navigationService.navigateToErrorPage(e)}isPaymentMethodAllowed(e){return ce.isObject(e.returnValue)?this.paymentAvailabilityService.isPaymentMethodAllowed(e.returnValue.type,e.returnValue.subType):!0}updatePaymentFee(e){this.hasSelectedPaymentMethod()&&ce.isObject(e)&&this.priceService.updatePaymentFee(e.paymentFeeInt)}getPaymentMethodDataQa(e){return ce.hasProperty(e,"returnValue")&&ce.isObject(e.returnValue)?`payment-method_${e.returnValue.type}_${e.returnValue.subType}`:null}checkPreSelectedPaymentMethod(e,n){let r=e;if(r=r!==0?r:this.storageService.get(ut.USER_SUBMITTED_PAYMENT_METHOD,0),r!==0){let o=n.find(s=>s.id===r);o!==void 0&&(this.preSelectedPaymentMethod=o)}}getPaymentAccordionItems(e){return e.filter(n=>!ce.isEmpty(n)).map(n=>{let r=!ce.isEmpty(this.preSelectedPaymentMethod)&&n.id===this.preSelectedPaymentMethod.id,o=n.featureAbTest;n.featureAbTest&&r&&(o=!1);let s=new Gp(n.name).setId(n.id).setDescription(n.description).setMarginal(n.paymentFee).setImages(n.imagePath,n.imageAltDescription).setReturnValue(n).setSubmitData({type:n.type,subtype:n.subType}).setInfoText(n.infoText).setSelected(r).setDisabled(o).setOnlyImageAsHeadline(n.showImageOnly);return r&&(this.priceService.updatePaymentFee(n.paymentFeeInt),this.preSelectedPaymentMethod=null),s.build()})}hasSelectedPaymentMethod(){return ce.hasProperty(this.selectedAccordionItem,"returnValue")&&this.selectedAccordionItem.returnValue!==void 0}checkForExternalPopupLinks(e){let n=e.find(r=>r.type===Wt.Klarna)!==void 0;this.moaService.isRunningInMoa()&&n&&this.moaService.emitEvent(ka.TRIGGER_APP,{detail:{action:E0.OPEN_POPUP,patternList:JT.klarnaLinkPatterns}})}setTrackingVar(e){this.pageTrackingService.setDynamicTrackingVarInSessionStorage("payment",e)}hasPaymentMethods(){return Dt.isNotEmpty(this.paymentMethodAccordionItems)}handleDisableSubmitButton(e){this.disableSubmitButton=e}handleActiveTimeout(e){this.activeTimeoutFromKlarna!==null&&this.document.defaultView.clearTimeout(this.activeTimeoutFromKlarna),this.activeTimeoutFromKlarna=e}handleKlarnaTimeout(e){let n="credit-cards";this.activeTimeoutFromKlarna!==null&&(this.document.defaultView.clearTimeout(this.activeTimeoutFromKlarna),this.activeTimeoutFromKlarna=null),this.disableSubmitButton&&(e.id.includes(n)||e.returnValue.type!==Wt.Klarna)&&(this.disableSubmitButton=!1)}resetKlarnaError(){this.klarnaTimeoutError&&this.selectedAccordionItem.hasUserActed&&(this.klarnaTimeoutError=!1)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})();function PPe(t,i){if(t&1&&(h(0,"ev-notification",0),R(1),H(2,"translate"),g()),t&2){let e=i.$implicit;C("type",e.type)("visible",!0),d(),ne(" ",j(2,3,e.message)," ")}}var XT=(()=>{class t{remoteNotificationService=E(fh);set pageName(e){this._pageName=e,this.checkForNotifications()}notifications=[];_pageName;checkForNotifications(){ee.isNotEmpty(this._pageName)&&(this.notifications=this.remoteNotificationService.getRemoteNotifications(this._pageName))}resetNotifications(){this.notifications=[]}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-remote-notification"]],inputs:{pageName:"pageName"},standalone:!1,decls:2,vars:0,consts:[["data-qa","remote-notification",3,"type","visible"]],template:function(n,r){n&1&&ft(0,PPe,3,5,"ev-notification",0,ri),n&2&&ht(r.notifications)},dependencies:[On,Se],encapsulation:2})}return t})();var AA=function(t){return t.State="state",t.Code="code",t}(AA||{});var QT=function(t){return t.PaymentMethod="paymentMethod",t}(QT||{});var UM=(()=>{class t extends Gi{destroyRef;capacityControl=E(wv);changeDetectorRef=E(nr);modalService=E(kn);reservationTimerService=E(Ka);router=E(zt);Message=K;reservationTime=nn(`${this.reservationTimerService?.getRemainingTime()}`);constructor(e){super(),this.destroyRef=e,this.changeDetectorRef.detach()}navigateBackToPayment(){this.capacityControl.stopRetryAttempts(),this.modalService.hideModal(),this.router.navigate([Qe.Payment])}subscribeOnTimerCountdown(){return this.reservationTimerService.onCountdown().pipe(zn(this.destroyRef)).subscribe(e=>{this.reservationTime.set(`${e.remaining}`),e.remaining<1e3&&this.reservationTimerService.stopTimer(),this.changeDetectorRef.detectChanges()})}static \u0275fac=function(n){return new(n||t)(Et(Oi))};static \u0275dir=kt({type:t,features:[dt]})}return t})();var R$=(()=>{class t extends UM{ngZone=E(Si);static trackingName="capacity_control_change_payment_method";constructor(e){super(e)}static getModalConfiguration(){let e={component:t};return new Dn(e).enableTitle(K.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_RETRY_TIME_OVER_HEADLINE).setWidth(er.MEDIUM).enableCenteredContent()}ngOnInit(){this.showSpinner.emit(!1),this.ngZone.runOutsideAngular(()=>{this.subscribeOnTimerCountdown()})}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}getTrackingObject(){return{ga3ClickTrackingData:{action:"change_payment_method",label:"change_payment_method",category:" capacity_control_overlay"}}}static \u0275fac=function(n){return new(n||t)(Et(Oi))};static \u0275cmp=ae({type:t,selectors:[["ev-cap-con-limit-exceeded"]],standalone:!1,features:[dt],decls:14,vars:16,consts:[["data-qa","cap-con-limit-exceeded-component",1,"row"],[1,"col-xs-12","card-paragraph-wrap-up"],["data-qa","top-text",1,"card-paragraph","theme-text-light-color",3,"evCoreHtml"],["data-qa","reservation-time-notice",1,"card-paragraph","u-color-highlight","theme-text-highlight-color"],["data-qa","button-to-payment",1,"btn","btn-primary","btn-lg","margin-top-xl","margin-bottom-xl","theme-button-radius","theme-btn-font-color","theme-btn-font-color-hover","theme-interaction-btn-bg",3,"click","evClickTracking"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"p",2),H(3,"translate"),g(),h(4,"div",1)(5,"p",3),R(6),H(7,"translate"),H(8,"evTimeConverter"),H(9,"translate"),g()(),h(10,"div",1)(11,"button",4),Ee("click",function(){return r.navigateBackToPayment()}),R(12),H(13,"translate"),g()()()),n&2&&(d(2),C("evCoreHtml",j(3,6,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_RETRY_TIME_OVER_TOP_TEXT)),d(4),Am(" ",j(7,8,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_REMAINING_RESERVATION_TIME)," ",j(8,10,r.reservationTime())," ",j(9,12,r.Message.CHECKOUT_APP_MINUTES)," "),d(5),C("evClickTracking",r.getTrackingObject()),d(),ne(" ",j(13,14,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_CHANGE_PAYMENT_METHOD)," "))},dependencies:[ho,xt,Se,qT],encapsulation:2})}return t})();var M$=(()=>{class t extends UM{static trackingName="capacity_control_order_processing";ngZone=E(Si);constructor(e){super(e)}static getModalConfiguration(){let e={component:t};return new Dn(e).enableTitle(K.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_HEADLINE).setWidth(er.MEDIUM).enableCenteredContent()}ngOnInit(){this.showSpinner.emit(!1),this.ngZone.runOutsideAngular(()=>{this.subscribeOnTimerCountdown()})}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}getTrackingObject(){return{ga3ClickTrackingData:{action:"order_processing",label:"change_payment_method",category:" capacity_control_overlay"}}}static \u0275fac=function(n){return new(n||t)(Et(Oi))};static \u0275cmp=ae({type:t,selectors:[["ev-cap-con-limit-reached"]],standalone:!1,features:[dt],decls:21,vars:19,consts:[["data-qa","cap-con-limit-reached-component",1,"row"],[1,"col-xs-12","card-paragraph-wrap-up"],["data-qa","top-text",1,"card-paragraph","theme-text-light-color",3,"evCoreHtml"],[1,"col-xs-12"],["data-qa","spinner",1,"payment-capcon-spinner-container"],[1,"spinner-circle","payment-capcon-spinner"],["data-qa","reservation-time-notice",1,"card-paragraph","u-color-highlight","theme-text-highlight-color"],["data-qa","bottom-text",1,"col-xs-12","card-paragraph-wrap-up"],[1,"card-paragraph","margin-top-s","theme-text-light-color"],["tabindex","0","role","link","data-qa","link-to-payment",1,"link","btn-link",3,"click","keydown.space","keydown.enter","evClickTracking"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"p",2),H(3,"translate"),g(),h(4,"div",3)(5,"div",4),D(6,"div",5),g()(),h(7,"div",1)(8,"p",6),R(9),H(10,"translate"),H(11,"evTimeConverter"),H(12,"translate"),g()(),h(13,"div",7)(14,"p",8),R(15),H(16,"translate"),g()(),h(17,"div",1)(18,"p",9),Ee("click",function(){return r.navigateBackToPayment()})("keydown.space",function(){return r.navigateBackToPayment()})("keydown.enter",function(){return r.navigateBackToPayment()}),R(19),H(20,"translate"),g()()()),n&2&&(d(2),C("evCoreHtml",j(3,7,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_TOP_TEXT)),d(7),Am(" ",j(10,9,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_REMAINING_RESERVATION_TIME)," ",j(11,11,r.reservationTime())," ",j(12,13,r.Message.CHECKOUT_APP_MINUTES)," "),d(6),Ae(j(16,15,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_SUMMARY_BOTTOM_TEXT)),d(3),C("evClickTracking",r.getTrackingObject()),d(),ne(" ",j(20,17,r.Message.CHECKOUT_APP_PAYMENT_CAPACITY_CONTROL_CHANGE_PAYMENT_METHOD)," "))},dependencies:[ho,xt,Se,qT],encapsulation:2})}return t})();var ZT=function(t){return t.LIMIT_REACHED="limit reached",t.ATTEMPTS_EXCEEDED="limit exceeded",t}(ZT||{});var $M=(()=>{class t{capacityControlService=E(wv);logService=E(bt);modalService=E(kn);googleTrackingService=E(qr);handlerMap=new Map;subscriptions=[];visibleModal;constructor(){this.handlerMap.set(Zd.LIMIT_REACHED,this.onLimitReached.bind(this)),this.handlerMap.set(Zd.REQUESTS_EXCEEDED,this.onLimitExceeded.bind(this)),this.handlerMap.set(Zd.PASS_THROUGH,this.onAllowed.bind(this)),this.handlerMap.set(Zd.RESERVATION_TIME_UP,()=>{this.logService.trace(new Error,"Reservation Time ist up in Capcon Payment")})}ngOnInit(){this.subscriptions.push(this.subscriptionsForCapCon())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}subscriptionsForCapCon(){return this.capacityControlService.onCapConEvent().subscribe(e=>{this.handlerMap.has(e.type)?this.handlerMap.get(e.type)(e):this.logService.debug(new Error(`unhandled event type "${e.type}`),"Capacity Control")})}onLimitReached(){if(this.visibleModal!==ZT.LIMIT_REACHED){let e=M$.getModalConfiguration().enableViewTracking(()=>{this.googleTrackingService.trackVirtualPageView(M$.trackingName)});this.modalService.showModal(e),this.visibleModal=ZT.LIMIT_REACHED}}onLimitExceeded(){if(this.visibleModal!==ZT.ATTEMPTS_EXCEEDED){let e=R$.getModalConfiguration().enableViewTracking(()=>{this.googleTrackingService.trackVirtualPageView(R$.trackingName)});this.modalService.showModal(e),this.visibleModal=ZT.ATTEMPTS_EXCEEDED}}onAllowed(){this.visibleModal!==void 0&&this.modalService.hideModal(),this.visibleModal=void 0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-capacity-control"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var $u=class t{position;routes;ariaLabel;trackingIdentifier;icon;static SHOPPING_CART=new t(0,["/shopping-cart"],K.CHECKOUT_APP_YOUR_SHOPPING_CART,"shoppingCart","icon-cart-check");static CUSTOMER_SEARCH=new t(1,["/customer-search"],K.CHECKOUT_APP_PROGRESS_STEP_DELIVERY,"customerSearch","icon-customer-search");static DELIVERY=new t(2,["/delivery"],K.CHECKOUT_APP_PROGRESS_STEP_DELIVERY,"delivery","icon-delivery");static TICKET_PERSONALISATION=new t(3,["/ticket-personalisation"],K.CHECKOUT_APP_PROGRESS_STEP_TICKET_PERSONALISATION,"ticketPersonalisation","icon-personalisation-circle");static PAYMENT=new t(4,["/payment","/d3-secure"],K.CHECKOUT_APP_PROGRESS_STEP_PAYMENT,"payment","icon-creditcard");static SUMMARY=new t(5,["/summary"],K.CHECKOUT_APP_PROGRESS_STEP_SUMMARY,"summary","icon-checkmark-circle");constructor(i,e,n,r,o){this.position=i,this.routes=e,this.ariaLabel=n,this.trackingIdentifier=r,this.icon=o}getAriaLabelMessageKey(){return this.ariaLabel}getTrackingIdentifier(){return this.trackingIdentifier}getRoutes(){return this.routes}getPosition(){return this.position}getIcon(){return this.icon}before(i){return this.getPosition()<i.getPosition()}};var wPe=(t,i)=>i.getPosition();function DPe(t,i){if(t&1){let e=Je();h(0,"li",4),Ee("mouseup",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.navigateByStep(r))})("keydown.enter",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.navigateByStep(r))})("keydown.space",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.navigateByStep(r))}),D(1,"i",5),g()}if(t&2){let e=i.$implicit,n=i.$index,r=y(2);Tr("completed",e.before(r.activeStep()))("first",n===0)("active",e===r.activeStep())("no-hover",r.isForbiddenPayByLinkStep(e)),C("evClickTracking",r.getTrackingObject(e))("tabIndex",r.getTabindex(e))("title",r.getAriaLabelText(e)),Le("aria-label",r.getAriaLabelText(e)),d(),C("ngClass",e.getIcon()),Le("aria-label",r.getAriaLabelText(e))}}function OPe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"ul",2),ft(3,DPe,2,14,"li",3,wPe),g()()()),t&2){let e=y();d(3),ht(e.progressSteps())}}var E1=(()=>{class t{progressSteps=sn(()=>this.buildSteps(this.#a(),this.#l()));activeStep=sn(()=>this.mapUrlToProgressStep(this.#o()));showProgressBar=sn(()=>this.activeStep()&&!this.#s());#e=E(zt);#t=E(yi);#n=E(Tn);#i=E(Sn);#r=nn(null);#o=nn(null);#a=nn(!1);#s=sn(()=>this.#r()?.numberOfTickets<=0);#l=sn(()=>this.#r()?.ticketPersonalisationRequired);constructor(){this.registerCallcenterChangeObserver(),this.registerPageChangeObserver(),this.observeOrderJson(),this.#o.set(this.#e.url)}isForbiddenPayByLinkStep(e){let n=[$u.SHOPPING_CART,$u.DELIVERY,$u.TICKET_PERSONALISATION];return this.#r()?.payByLink&&n.includes(e)}navigateByStep(e){this.canNavigateToStep(e)&&this.#e.navigateByUrl(e.getRoutes()[0])}getTabindex(e){return e.before(this.activeStep())?0:-1}getAriaLabelText(e){return this.#i.instant(e.getAriaLabelMessageKey())}getTrackingObject(e){return{ga3ClickTrackingData:{category:"checkout",action:"progress_bar",label:e.getTrackingIdentifier()}}}registerCallcenterChangeObserver(){this.#n.observeAffiliate().pipe(cn(e=>e?.callCenter),Ro(),zn()).subscribe(e=>{this.#a.set(e)})}registerPageChangeObserver(){this.#e.events.pipe(Yt(e=>e instanceof va),cn(e=>e.urlAfterRedirects),Ro(),zn()).subscribe(e=>{this.#o.set(e)})}observeOrderJson(){this.#t.observeOrder().pipe(Yt(e=>ce.isObject(e)),Ro(),zn()).subscribe(e=>{this.#r.set(e)})}buildSteps(e,n){let r=[];return r.push($u.SHOPPING_CART),e?r.push($u.CUSTOMER_SEARCH):r.push($u.DELIVERY),n&&r.push($u.TICKET_PERSONALISATION),r.push($u.PAYMENT),r.push($u.SUMMARY),r}mapUrlToProgressStep(e){return this.progressSteps().find(n=>n.getRoutes().find(r=>this.#a()&&e.startsWith(`/${Qe.Delivery}`)?e.startsWith(`/${Qe.Delivery}`)&&(r.startsWith(`/${Qe.CustomerSearch}`)||r.startsWith(`/${Qe.Delivery}`)):e.startsWith(r))!==void 0)}canNavigateToStep(e){return!this.isForbiddenPayByLinkStep(e)&&e.before(this.activeStep())&&!(e===$u.PAYMENT&&this.isNoPaymentNeeded())}isNoPaymentNeeded(){return this.#r().orderPayAmountWithoutPaymentFeeInt<=0||this.#r().deliveryMethodType===ui.WILL_CALL_RESERVATION}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-progress-bar"]],standalone:!1,decls:1,vars:1,consts:[[1,"row"],[1,"col-xs-12"],["data-qa","progress-bar",1,"progress-bar"],["role","link","data-qa","progress-step",1,"progress-bar-step",3,"evClickTracking","completed","first","active","no-hover","tabIndex","title"],["role","link","data-qa","progress-step",1,"progress-bar-step",3,"mouseup","keydown.enter","keydown.space","evClickTracking","tabIndex","title"],[1,"icon",3,"ngClass"]],template:function(n,r){n&1&&J(0,OPe,5,0,"div",0),n&2&&$(r.showProgressBar()?0:-1)},dependencies:[At,ho],encapsulation:2})}return t})();var So=function(t){return t[t.Other=0]="Other",t[t.Ticket=1]="Ticket",t[t.MemberClubEvent=2]="MemberClubEvent",t[t.ExternalEvent=3]="ExternalEvent",t[t.Voucher=4]="Voucher",t[t.Package=5]="Package",t[t.Product=6]="Product",t}(So||{});var nu=(()=>{class t{prices;order;callOnPriceUpdate=null;priceService=E(uh);#e=E(Oi);constructor(){this.priceService.onPriceUpdate().pipe(zn(this.#e)).subscribe(e=>{this.prices=e,this.order=e.order,this.afterUpdate()})}afterUpdate(){typeof this.callOnPriceUpdate=="function"&&this.callOnPriceUpdate()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})();var HM=(()=>{class t extends nu{#e=E(Al);orderService=E(yi);#t=E(ai);Message=K;EventType=So;affiliate;isSportsShop=!1;packNumbers=ai.NON_PACK_NUMBERS;ticketInsuranceIconName=ee.EMPTY_STRING;constructor(){super(),this.callOnPriceUpdate=()=>{this.handleSportsPacks()}}ngOnInit(){this.isSportsShop=this.#t.isSportsShop(this.affiliate),this.ticketInsuranceIconName="insurance",this.handleSportsPacks()}hasSingleOrderPosition(){if(this.order!==void 0)return this.order.events.length===1}hasTicketInsuranceFee(e){return e.priceCategory.ticketInsuranceFeeInt>0&&e.priceCategory.ticketInsuranceFee!==void 0}hasMemoryTicketFee(e){return e.priceCategory.memoryTicketFee?.count>0}hasGiftWrapFee(e){return e.priceCategory.giftWrapFeeInt>0&&e.priceCategory.giftWrapFee!==void 0}buildPackHeadline(e){return this.#t.buildSportsPackHeadline(e,this.packNumbers.length)}handleSportsPacks(){this.isSportsShop&&(this.#t.createSportsPack(this.order),this.packNumbers=this.#t.getSportsPackNumbers())}showDeliveryFee(){return!this.#e.hasOrderAftersalesBookingType(this.order)&&!this.prices.affiliate.paytollPlatform&&this.prices.isDeliveryFeeVisible()}showTicketBasedMemoryTicketFee(e){return this.hasMemoryTicketFee(e)&&!this.#e.hasEventAftersalesBookingType(e.priceCategory.bookingType)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{affiliate:"affiliate"},features:[dt]})}return t})();var qa=function(t){return t[t.Regular=0]="Regular",t[t.Item=1]="Item",t[t.NonTimedExtra=2]="NonTimedExtra",t[t.TimedExtra=3]="TimedExtra",t[t.VoucherWithLayoutWidget=4]="VoucherWithLayoutWidget",t[t.NonTimedVenue=5]="NonTimedVenue",t}(qa||{});var Ca=function(t){return t.Ticket="ticket",t.Item="item",t.Reservation="reservation",t.Extras="extra",t.Other="other",t.Voucher="voucher",t}(Ca||{});var Wa=class t{_numberOfTickets;_eventName;_formattedEventDate;_type;_subType;_venueCity;_venueProvince;_venueName;_venueAddress;_promoter;_orderComment;_showVenueProvince;_imageType;_imagePath;_eventUrl;_totalEventPrice;_genderIcon;_genderIconToolTip;_medalIcon;_medalIconToolTip;_bookingType;static convertEvent(i){return new t(i.numberOfTickets,i.eventName,i.formattedEventDate,i.priceCategory.type,i.priceCategory.subType,i.venueCity,i.venueProvinceCode,i.venueName,i.venueAddress,i.promoter,i.orderComment,i.showVenueProvince,i.imageType,i.imagePath,i.eventUrl,i.totalEventPrice,i.genderIcon,i.genderTooltip,i.medalIcon,i.medalIconTooltip,i.priceCategory.bookingType)}static convertPackageItem(i,e){return new t(e,i.eventName,i.formattedEventDate,i.type,i.subType,i.venueCity,i.venueProvince,i.venueName,i.venueAddress,i.promoter,i.orderComment,i.showVenueProvince)}static convertTicketReturnTicketSummaryItem(i,e){return new t(e,i.eventName,i.formattedDate,i.type,i.subType,void 0,void 0,i.venue,i.venueAddress)}eventTypeMapping=new Map([[qa.TimedExtra,Ca.Extras],[qa.NonTimedExtra,Ca.Reservation],[qa.Item,Ca.Item],[qa.NonTimedVenue,Ca.Voucher],[qa.VoucherWithLayoutWidget,Ca.Voucher]]);constructor(i,e,n,r,o,s,c,v,b,x,k,O,w,M,F,L,V,B,q,W,ie){this._numberOfTickets=i,this._eventName=e,this._formattedEventDate=n,this._type=r,this._subType=o,this._venueCity=s,this._venueProvince=c,this._venueName=v,this._venueAddress=b,this._promoter=x,this._orderComment=k,this._showVenueProvince=O,this._imageType=w,this._imagePath=M,this._eventUrl=F,this._totalEventPrice=L,this._genderIcon=V,this._genderIconToolTip=B,this._medalIcon=q,this._medalIconToolTip=W,this._bookingType=ie}get numberOfTickets(){return this._numberOfTickets}get eventName(){return this._eventName}get formattedEventDate(){return this._formattedEventDate}get type(){return this._type}get subType(){return this._subType}get venueName(){return this._venueName}get venueAddress(){return this._venueAddress}get promoter(){return this._promoter}get orderComment(){return this._orderComment}get imageType(){return this._imageType}get imagePath(){return this._imagePath}getEventUrl(){return this._eventUrl}totalEventPrice(){return this._totalEventPrice}getShowVenueProvince(){return this._showVenueProvince}canShowPromoter(){return this._promoter!==void 0&&this._type!==So.Package&&this._type!==So.MemberClubEvent}hasImagePath(){return this._imagePath!==void 0&&this.hasImageType()}hasImageType(){return this._imageType!==void 0&&this._imagePath!==ee.EMPTY_STRING}canShowVenueAddress(){return ee.isNotEmpty(this._venueAddress)}canShowVenueName(){return this._venueName!==void 0&&(this.isRegularTicketOrPackage()||this._subType===qa.TimedExtra||this._subType===qa.NonTimedExtra||this._subType===qa.NonTimedVenue)}canShowEventDate(){return this._formattedEventDate!==void 0&&(this.isRegularTicketOrPackage()||this._subType===qa.TimedExtra||this._subType===qa.NonTimedExtra)}getEventTicketType(){return this.isRegularTicketOrPackage()?Ca.Ticket:this._type===So.Voucher?Ca.Voucher:this.eventTypeMapping.has(this.subType)?this.eventTypeMapping.get(this.subType):Ca.Other}isRegularTicketOrPackage(){return this.isTicketOrPackage()&&this._subType===qa.Regular}get genderIcon(){return this._genderIcon}get medalIcon(){return this._medalIcon}hasGenderIcon(){return ee.isNotEmpty(this._genderIcon)}hasMedalIcon(){return ee.isNotEmpty(this._medalIcon)}get genderIconToolTip(){return this._genderIconToolTip}get medalIconToolTip(){return this._medalIconToolTip}getBookingType(){return this._bookingType}isResaleEvent(){return this._bookingType===od.RESALE}isTicketOrPackage(){return this._type===So.Ticket||this._type===So.Other||this._type===So.Package}};var NPe=t=>({"margin-right-xs":t}),Hte=t=>({"p-stage-list-icon":t});function RPe(t,i){if(t&1&&(h(0,"div",1),D(1,"i",3),g()),t&2){let e=y();C("ngClass",et(5,NPe,e.eventInformation.hasMedalIcon()&&e.isMiniBasket))("title",e.eventInformation.genderIconToolTip),d(),C("className","icon "+e.eventInformation.genderIcon)("ngClass",et(7,Hte,!e.isMiniBasket)),Le("aria-label",e.eventInformation.genderIconToolTip)}}function MPe(t,i){if(t&1&&(h(0,"div",2),D(1,"i",3),g()),t&2){let e=y();C("title",e.eventInformation.medalIconToolTip),d(),C("className","icon "+e.eventInformation.medalIcon)("ngClass",et(4,Hte,!e.isMiniBasket)),Le("aria-label",e.eventInformation.medalIconToolTip)}}var eb=(()=>{class t{eventInformation;isMiniBasket;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sports-icons"]],inputs:{eventInformation:"eventInformation",isMiniBasket:"isMiniBasket"},decls:3,vars:2,consts:[[1,"display-inline-block"],[1,"display-inline-block","margin-left-xs",3,"ngClass","title"],[1,"display-inline-block","icon",3,"title"],[3,"className","ngClass"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,RPe,2,9,"div",1)(2,MPe,2,6,"div",2),g()),n&2&&(d(),$(r.eventInformation.hasGenderIcon()?1:-1),d(),$(r.eventInformation.hasMedalIcon()?2:-1))},dependencies:[Vr,At],encapsulation:2})}return t})();function LPe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y();ne(" ",j(1,1,e.Message.CHECKOUT_APP_AFTERSALES_EVENT_TITLE_SOUVENIR_TICKET),` -
`)}}function BPe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y();ne(" ",Qr(1,1,e.Message.CHECKOUT_APP_RESALE_TICKET_PLURALIZATION_OBJECT,e.getTicketAmountTranslationParams()),` -
`)}}function UPe(t,i){if(t&1&&D(0,"ev-sports-icons",0),t&2){let e=y();C("eventInformation",e.eventInformation())("isMiniBasket",e.isMiniBasket())}}var Ch=(()=>{class t{#e=E(Al);eventInformation=We(null);isMiniBasket=We(!1);constructor(){}hasAfterSalesBookingType(){return this.#e.hasEventAftersalesBookingType(this.eventInformation().getBookingType())}getTicketAmountTranslationParams(){return{[C0.TicketAmount]:this.eventInformation().numberOfTickets,[C0.TicketType]:this.eventInformation().getEventTicketType()}}Message=K;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-name"]],inputs:{eventInformation:[1,"eventInformation"],isMiniBasket:[1,"isMiniBasket"]},decls:4,vars:3,consts:[[3,"eventInformation","isMiniBasket"]],template:function(n,r){n&1&&(J(0,LPe,2,3)(1,BPe,2,4),R(2),J(3,UPe,1,2,"ev-sports-icons",0)),n&2&&($(r.hasAfterSalesBookingType()?0:r.eventInformation().isResaleEvent()?1:-1),d(2),ne(`
`,r.eventInformation().eventName,`
`),d(),$(r.eventInformation().hasGenderIcon()||r.eventInformation().hasMedalIcon()?3:-1))},dependencies:[oi,Se,eb],encapsulation:2})}return t})();var Vte=(()=>{class t{Message=K;#e=E(ai);eventInformation;#t;set event(e){this.#t=e,this.eventInformation=Wa.convertEvent(e)}get event(){return this.#t}affiliate;isSportsShop=!1;ngOnInit(){this.isSportsShop=this.#e.isSportsShop(this.affiliate)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{event:"event",affiliate:"affiliate"}})}return t})();var $Pe=t=>({"padding-top-s":t}),HPe=t=>({"u-font-weight-600":t}),VPe=t=>({"u-font-weight-600 padding-top-s":t}),VM=t=>({"padding-xs":t});function jPe(t,i){if(t&1&&(h(0,"div",7)(1,"span",8),R(2),g()()),t&2){let e=y(2);C("ngClass",et(2,VM,!e.isSportsShop)),d(2),ne(" ",e.event.venueAddress," ")}}function GPe(t,i){if(t&1&&(h(0,"div",7)(1,"span",9),R(2),g()()),t&2){let e=y(2);C("ngClass",et(2,VM,!e.isSportsShop)),d(2),ne(" ",e.event.formattedEventDate," ")}}function KPe(t,i){if(t&1&&J(0,jPe,3,4,"div",7)(1,GPe,3,4,"div",7),t&2){let e=y();$(e.eventInformation.canShowVenueAddress()?0:-1),d(),$(e.eventInformation.canShowEventDate()?1:-1)}}function qPe(t,i){if(t&1&&(h(0,"div",7)(1,"span",9),R(2),g()()),t&2){let e=y(2);C("ngClass",et(2,VM,!e.isSportsShop)),d(2),ne(" ",e.event.formattedEventDate," ")}}function WPe(t,i){if(t&1&&(h(0,"div",7)(1,"span",8),R(2),g()()),t&2){let e=y(2);C("ngClass",et(2,VM,!e.isSportsShop)),d(2),ne(" ",e.event.venueAddress," ")}}function zPe(t,i){if(t&1&&J(0,qPe,3,4,"div",7)(1,WPe,3,4,"div",7),t&2){let e=y();$(e.eventInformation.canShowEventDate()?0:-1),d(),$(e.eventInformation.canShowVenueAddress()?1:-1)}}var jM=(()=>{class t extends Vte{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-mini-basket-info"],["","ev-relevant-mini-basket-info",""]],features:[dt],decls:11,vars:14,consts:[[1,"checkout-mini-basket-table-col",3,"ngClass"],[3,"ngClass"],["data-qa","number-of-tickets"],["title","x",1,"icon","icon-cross-old","mini-basket-cross"],["data-qa","event-name"],[3,"eventInformation","isMiniBasket"],["data-qa","event-price",1,"checkout-mini-basket-table-col","price","text-nowrap",3,"ngClass"],["evHideOnMobile","",1,"mini-basket-details",3,"ngClass"],["data-qa","venue-address"],["data-qa","event-date"]],template:function(n,r){n&1&&(h(0,"td",0)(1,"div",1)(2,"span",2),R(3),g(),D(4,"i",3),h(5,"span",4),D(6,"ev-event-name",5),g()(),J(7,KPe,2,2)(8,zPe,2,2),g(),h(9,"td",6),R(10),g()),n&2&&(C("ngClass",et(8,$Pe,r.isSportsShop)),d(),C("ngClass",et(10,HPe,r.isSportsShop)),d(2),ne(" ",r.event.numberOfTickets," "),d(3),C("eventInformation",r.eventInformation)("isMiniBasket",!0),d(),$(r.isSportsShop?8:7),d(2),C("ngClass",et(12,VPe,r.isSportsShop)),d(),ne(" ",r.event.totalEventPrice,`
`))},dependencies:[Vr,At,Ch,ta],encapsulation:2})}return t})();var JPe=t=>({backgroundColor:t});function XPe(t,i){if(t&1){let e=Je();h(0,"button",5),H(1,"translate"),Ee("click",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.navigateToKeycloak(r))}),D(2,"img",6),g()}if(t&2){let e=i.$implicit,n=y(2);QW(et(7,JPe,e.buttonColor)),Le("aria-label",j(1,5,n.Message.CHECKOUT_APP_SHOPPING_CART_EXPRESS_CHECKOUT_HEADLINE)+" "+e.buttonAlt),d(2),C("src",e.buttonIcon,un)("alt",e.buttonAlt)}}function QPe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),R(4),H(5,"translate"),g()(),ft(6,XPe,3,9,"button",4,fr),g()()),t&2){let e=y();d(4),Ae(j(5,1,e.Message.CHECKOUT_APP_SHOPPING_CART_EXPRESS_CHECKOUT_HEADLINE)),d(2),ht(e.expressCheckoutConfig())}}var GM=(()=>{class t{#e=E(rr);expressCheckoutConfig=We(void 0);onSubmit=vo();Message=K;navigateToKeycloak(e){let n=e.buttonAlt.replaceAll(" ","-");this.#e.trackClick({clickTrackingData:{action:"",event_name:"express_checkout"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:`express_checkout_button_${n}`}}),this.onSubmit.emit(ro.isInsideIFrame()?e.keyCloakUrlIframe:e.keyCloakUrl)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-express-checkout"]],inputs:{expressCheckoutConfig:[1,"expressCheckoutConfig"]},outputs:{onSubmit:"onSubmit"},decls:1,vars:1,consts:[["data-qa","express-checkout",1,"express-checkout","row"],[1,"express-checkout-wrapper","col-xs-12"],[1,"express-checkout-divider"],["data-qa","express-checkout-label",1,"express-checkout-label"],["data-qa","express-checkout-button",1,"btn-lg","express-checkout-button",3,"style"],["data-qa","express-checkout-button",1,"btn-lg","express-checkout-button",3,"click"],[1,"express-checkout-button-img",3,"src","alt"]],template:function(n,r){n&1&&J(0,QPe,8,3,"div",0),n&2&&$(r.expressCheckoutConfig()&&r.expressCheckoutConfig().length>0?0:-1)},dependencies:[oi,Se],encapsulation:2})}return t})();var KM=(()=>{class t{iconName;count;label;fee;static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{iconName:"iconName",count:"count",label:"label",fee:"fee"}})}return t})();function eke(t,i){if(t&1&&D(0,"i"),t&2){let e=y();Le("class","icon icon-"+e.iconName+" theme-text-light-color mini-basket-icon-margin")}}function tke(t,i){if(t&1&&(h(0,"span",3),R(1),g(),D(2,"i",4)),t&2){let e=y();d(),ne(" ",e.count," ")}}var jte=(()=>{class t extends KM{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-mini-basket-fee"],["","ev-relevant-mini-basket-fee",""]],standalone:!1,features:[dt],decls:8,vars:6,consts:[[1,"checkout-mini-basket-table-col"],["data-qa","label"],["data-qa","fee",1,"checkout-mini-basket-table-col","price","text-nowrap"],["data-qa","count"],[1,"icon","icon-cross-old","mini-basket-cross"]],template:function(n,r){n&1&&(h(0,"td",0),J(1,eke,1,1,"i")(2,tke,3,1),h(3,"span",1),R(4),H(5,"translate"),g()(),h(6,"td",2),R(7),g()),n&2&&(d(),$(r.iconName&&r.iconName!==""?1:-1),d(),$(r.count?2:-1),d(2),ne(" ",j(5,4,r.label)," "),d(3),ne(" ",r.fee,`
`))},dependencies:[Se],encapsulation:2})}return t})();var qM=(()=>{class t extends nu{showDiscreetTaxesHint=!0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,inputs:{showDiscreetTaxesHint:"showDiscreetTaxesHint"},features:[dt]})}return t})();var PA=function(t){return t.COMPONENT_CONTENT_SERVICE_AND_DELIVERY="component.content.serviceAndDelivery",t.CHECKOUT_APP_NEWSLETTER_DATA_PROTECTION="checkoutApp.newsletter.dataProtection",t.SC_FOOTER_LINKS_DATA_PROTECTION_CONTENT="sc.footer.links.dataProtection.content",t}(PA||{});var tb=(()=>{class t{translateLoaderService;affiliateService;constructor(e,n){this.translateLoaderService=e,this.affiliateService=n}transform(e){let n="[popup]",r="[/popup]";if(!this.includesLinkTags(e,n,r)||!this.hasCorrectTagOrder(e,n,r))return new po(new wa(e));let o=e.substring(e.indexOf(n)+n.length,e.lastIndexOf(r)),s=e.substring(0,e.indexOf(n)),c=e.substring(e.lastIndexOf(r)+r.length,e.length);return this.buildPriceIncludingVatWithoutDeliveryCost(s,o,c)}buildPriceIncludingVatWithoutDeliveryCost(e,n,r){let o=new po;if(ee.isNotEmpty(e)&&o.append(new wa(e)),ee.isNotEmpty(n)){let s=new Dn(co.buildAsyncHtml($a(this.translateLoaderService.getMessage(PA.COMPONENT_CONTENT_SERVICE_AND_DELIVERY).pipe(cn(c=>this.replacePlaceholders(c)))))).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).setWidth(er.MEDIUM).enableDismissable();o.append(new Rp(new Mp(n,s,Mu.SECONDARY)))}return ee.isNotEmpty(r)&&o.append(new wa(r)),o}replacePlaceholders(e){let r=`/component/content/?affiliate=${this.affiliateService.getAffiliate().code}&staticContent=`;return e.replace(/\{([0]+)\}/g,`${r}TICKET_DIRECT_INFORMATION`).replace(/\{([1]+)\}/g,`${r}WILL_CALL_INFORMATION`)}includesLinkTags(e,n,r){return e!==void 0?e.includes(n)&&e.includes(r):!1}hasCorrectTagOrder(e,n,r){return e.indexOf(n)<e.lastIndexOf(r)}static \u0275fac=function(n){return new(n||t)(Et(ti,16),Et(Tn,16))};static \u0275pipe=Sa({name:"evTaxesHintModalPopupPlacer",type:t,pure:!0,standalone:!1})}return t})();function ike(t,i){if(t&1&&(D(0,"ev-forms-formatter",1),H(1,"translate"),H(2,"evTaxesHintModalPopupPlacer")),t&2){let e=y();C("content",j(2,3,j(1,1,e.prices.taxesHintFormat)))}}var Gte=(()=>{class t extends qM{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-total-sum"],["","ev-relevant-total-sum",""]],standalone:!1,features:[dt],decls:6,vars:5,consts:[["data-qa","label",1,"checkout-mini-basket-table-col"],["data-qa","taxes-hint",3,"content"],["data-qa","amount",1,"checkout-mini-basket-table-col","price","text-nowrap"],[3,"content"]],template:function(n,r){n&1&&(h(0,"td",0),R(1),H(2,"translate"),J(3,ike,3,5,"ev-forms-formatter",1),g(),h(4,"td",2),D(5,"ev-forms-formatter",3),g()),n&2&&(d(),ne(" ",j(2,3,r.prices.totalSumLabel)," "),d(2),$(r.showDiscreetTaxesHint?-1:3),d(2),C("content",r.prices.totalSumFormat))},dependencies:[Zr,Se,tb],encapsulation:2})}return t})();var oke=t=>({"button-container":t}),ake=t=>({"col-md-7 col-md-offset-5":t}),Fv=(()=>{class t{document=E(Ot);Message=K;buttonText=ee.EMPTY_STRING;form;disable=!1;isInMiniBasket=!1;onSubmit=new Jt(!0);submit(){this.onSubmit.emit(ee.EMPTY_STRING)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-submit-button"]],inputs:{buttonText:"buttonText",form:"form",disable:"disable",isInMiniBasket:"isInMiniBasket"},outputs:{onSubmit:"onSubmit"},standalone:!1,decls:7,vars:11,consts:[[1,"row"],[1,"col-xs-12"],[1,"row",3,"ngClass"],[1,"col-xs-12",3,"ngClass"],["type","button","data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit","evFormsDisable"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),Ee("onSubmit",function(){return r.submit()}),R(5),H(6,"translate"),g()()()()()),n&2&&(d(2),C("ngClass",et(7,oke,!r.isInMiniBasket)),d(),C("ngClass",et(9,ake,!r.isInMiniBasket)),d(),C("evFormsSubmit",r.form)("evFormsDisable",r.disable),d(),ne(" ",j(6,5,r.buttonText)," "))},dependencies:[At,Ic,l1,Se],encapsulation:2})}return t})();var ske=t=>({"padding-bottom-s":t}),lke=t=>({"top-separator padding-top-s":t}),cke=t=>({"top-separator padding-top-s p-line-height-l":t}),Kte=t=>({"u-font-weight-600":t}),dke=(t,i)=>i.eventId;function uke(t,i){if(t&1&&(h(0,"h3",20),R(1),g()),t&2){let e=y().$implicit,n=y(2);d(),ne(" ",n.buildPackHeadline(e)," ")}}function pke(t,i){if(t&1&&D(0,"tr",22),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("label",o.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("fee",n.priceCategory.ticketInsuranceFee)("iconName",o.ticketInsuranceIconName),Le("data-qa","ticket-insurance-"+r)}}function mke(t,i){if(t&1&&D(0,"tr",23),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("label",n.priceCategory.memoryTicketFee.name)("count",n.priceCategory.memoryTicketFee.count)("fee",n.priceCategory.memoryTicketFee.fee)("ngClass",et(5,Kte,o.isSportsShop)),Le("data-qa","memory-ticket-"+r)}}function fke(t,i){if(t&1&&D(0,"tr",22),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("label",o.Message.CHECKOUT_APP_GIFTWRAP)("fee",n.priceCategory.giftWrapFee)("iconName","gift"),Le("data-qa","gift-wrap-"+r)}}function hke(t,i){t&1&&(h(0,"tr",24),D(1,"td",25),g())}function gke(t,i){if(t&1&&(J(0,uke,2,1,"h3",20),D(1,"tr",21),J(2,pke,1,4,"tr",22)(3,mke,1,7,"tr",23)(4,fke,1,4,"tr",22)(5,hke,2,0,"tr",24)),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(2);$(o.isSportsShop&&o.affiliate.themingSettings.sportsPlatformStyles!==o.SportsPlatformStyles.MICO&&n===0?0:-1),d(),C("event",e)("affiliate",o.affiliate),d(),$(o.hasTicketInsuranceFee(e)?2:-1),d(),$(o.showTicketBasedMemoryTicketFee(e)?3:-1),d(),$(o.hasGiftWrapFee(e)?4:-1),d(),$(n===r-1&&o.isSportsShop?5:-1)}}function vke(t,i){if(t&1&&ft(0,gke,6,7,null,null,dke),t&2){let e=i.$implicit,n=y();ht(n.orderService.getEvents(e))}}function _ke(t,i){t&1&&(h(0,"tr"),D(1,"td",26),g())}function Cke(t,i){if(t&1&&D(0,"tr",5),t&2){let e=y();C("label",e.prices.memoryTicketName)("count",e.prices.memoryTicketCount)("fee",e.prices.memoryTicketFee)("ngClass",et(4,Kte,e.isSportsShop))}}function yke(t,i){if(t&1&&D(0,"tr",6),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("iconName",e.ticketInsuranceIconName)("fee",e.prices.ticketInsuranceFee)}}function Eke(t,i){if(t&1&&D(0,"tr",7),t&2){let e=y();C("label",e.prices.getServiceFeeLabel())("fee",e.prices.serviceFee)}}function Tke(t,i){if(t&1&&(h(0,"tr",8)(1,"td",27),R(2),H(3,"translate"),g(),h(4,"td",28),D(5,"ev-forms-formatter",17),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_PAYMENT_COSTS)," "),d(3),C("content",e.prices.paymentFeeFormat)}}function bke(t,i){if(t&1&&D(0,"tr",9),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_INTEREST_FEE_COST)("fee",e.prices.interestFee)}}function Ike(t,i){if(t&1&&D(0,"tr",10),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_DONATION)("fee",e.prices.donationAmount)}}function Ske(t,i){if(t&1&&D(0,"tr",9),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_ORDER_FEE)("fee",e.prices.orderFee)}}function xke(t,i){if(t&1&&(h(0,"span",32),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_DELIVERY_FEE_TEMPORARILY)," ")}}function Ake(t,i){if(t&1&&(h(0,"tr",11)(1,"td",29),D(2,"i",30),h(3,"span",31),R(4),H(5,"translate"),g(),J(6,xke,3,3,"span",32),g(),h(7,"td",28),R(8),H(9,"translate"),g()()),t&2){let e=y();d(2),C("ngClass",e.order.deliveryMethodType===e.DeliveryMethodType.EVENTIM_PASS?"icon-eventimpass":"icon-shipping-normal"),d(2),ne(" ",j(5,4,e.Message.CHECKOUT_APP_DELIVERY_COST)," "),d(2),$(e.prices.isTemporaryDeliveryCostsHintVisible()?6:-1),d(2),ne(" ",j(9,6,e.prices.deliveryFee)," ")}}function Pke(t,i){if(t&1&&(h(0,"td",33),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}function kke(t,i){if(t&1&&(h(0,"tr"),ft(1,Pke,2,1,"td",33,ri),g()),t&2){let e=y();d(),ht(e.prices.premiumFeeMessages)}}function wke(t,i){if(t&1&&(h(0,"span",32),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_DELIVERY_FEE_TEMPORARILY)," ")}}function Dke(t,i){if(t&1&&(h(0,"tr",12)(1,"td",29),D(2,"i",34),h(3,"span",31),R(4),H(5,"translate"),g(),J(6,wke,3,3,"span",32),g(),h(7,"td",28),R(8),g()()),t&2){let e=y();d(4),ne(" ",j(5,3,e.Message.CHECKOUT_APP_DELIVERY_COST_MEMORY_TICKETS)," "),d(2),$(e.prices.isTemporaryDeliveryCostsHintVisible()?6:-1),d(2),ne(" ",e.prices.deliveryFeeMemoryTickets," ")}}function Oke(t,i){t&1&&(h(0,"tr"),D(1,"td",26),g())}function Nke(t,i){if(t&1&&(h(0,"tr",13)(1,"td",29),D(2,"i",35),h(3,"span",31),R(4),H(5,"translate"),g()(),h(6,"td",28),R(7),H(8,"translate"),g()()),t&2){let e=y();d(4),ne(" ",j(5,2,e.prices.voucherAmountLabel)," "),d(3),ne(" ",j(8,4,e.prices.voucherAmount)," ")}}function Rke(t,i){t&1&&(h(0,"tr"),D(1,"td",26),g())}function Mke(t,i){if(t&1){let e=Je();h(0,"ev-submit-button",36),Ee("onSubmit",function(r){Ne(e);let o=y();return Re(o.onSubmit.emit(r))}),g()}if(t&2){let e=y();C("buttonText",e.submitButtonMessage())("form",e.form())("isInMiniBasket",!0)}}var Lv=(()=>{class t extends HM{submitButtonMessage=We(void 0);form=We(void 0);pageJson=We(void 0);onSubmit=vo();SportsPlatformStyles=Qc;DeliveryMethodType=ui;StringUtils=ee;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-mini-basket"]],inputs:{submitButtonMessage:[1,"submitButtonMessage"],form:[1,"form"],pageJson:[1,"pageJson"]},outputs:{onSubmit:"onSubmit"},standalone:!1,features:[dt],decls:31,vars:33,consts:[["data-qa","mini-basket",1,"row","card","theme-content-bg","theme-element-radius","standard-gray-shadow"],[1,"card-content"],[1,"checkout-mini-basket","col-xs-12",3,"ngClass"],["data-qa","headline",1,"page-headline","theme-text-light-color"],[1,"checkout-mini-basket-table","theme-text-light-color",3,"ngClass"],["ev-relevant-mini-basket-fee","","data-qa","memory-ticket-fee",3,"label","count","fee","ngClass"],["ev-relevant-mini-basket-fee","","data-qa","order-ticket-insurance",3,"label","iconName","fee"],["ev-relevant-mini-basket-fee","","data-qa","service-costs",3,"label","fee"],["data-qa","payment-costs"],["ev-relevant-mini-basket-fee","","data-qa","order-costs",3,"label","fee"],["ev-relevant-mini-basket-fee","","data-qa","donation-costs",3,"label","fee"],["data-qa","delivery-costs"],["data-qa","delivery-costs-memory-ticket"],["data-qa","voucher-amount"],["data-qa","total-order-sum","ev-relevant-total-sum","",1,"price-sum",3,"ngClass"],[1,"price-sum-subtext","theme-text-marginal-color"],["colspan","2","data-qa","taxes-hint",1,"checkout-mini-basket-table-col"],[3,"content"],[3,"buttonText","form","isInMiniBasket"],[3,"onSubmit","expressCheckoutConfig"],[1,"u-font-weight-600"],["data-qa","event-information","ev-relevant-mini-basket-info","",3,"event","affiliate"],["ev-relevant-mini-basket-fee","",3,"label","fee","iconName"],["ev-relevant-mini-basket-fee","",3,"label","count","fee","ngClass"],[1,"bottom-separator"],["colspan","2",1,"padding-bottom-s"],["colspan","2",1,"padding-top-s"],["data-qa","label",1,"checkout-mini-basket-table-col"],["data-qa","fee",1,"checkout-mini-basket-table-col","price","text-nowrap"],[1,"checkout-mini-basket-table-col"],[1,"icon","theme-text-light-color","mini-basket-icon-margin",3,"ngClass"],["data-qa","label"],["data-qa","temporary-delivery-fee-hint",1,"font-size-xs"],["colspan","2","data-qa","premium-fee-message",1,"checkout-mini-basket-table-col"],[1,"icon","icon-shipping-normal","theme-text-light-color","mini-basket-icon-margin"],[1,"icon","icon-voucher","theme-text-light-color","mini-basket-icon-margin"],[3,"onSubmit","buttonText","form","isInMiniBasket"]],template:function(n,r){if(n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),R(4),H(5,"translate"),g(),h(6,"table",4),ft(7,vke,2,0,null,null,ri),J(9,_ke,2,0,"tr")(10,Cke,1,6,"tr",5)(11,yke,1,3,"tr",6)(12,Eke,1,2,"tr",7)(13,Tke,6,4,"tr",8)(14,bke,1,2,"tr",9)(15,Ike,1,2,"tr",10)(16,Ske,1,2,"tr",9)(17,Ake,10,8,"tr",11)(18,kke,3,0,"tr")(19,Dke,9,5,"tr",12)(20,Oke,2,0,"tr")(21,Nke,9,6,"tr",13)(22,Rke,2,0,"tr"),D(23,"tr",14),h(24,"tr",15)(25,"td",16),D(26,"ev-forms-formatter",17),H(27,"translate"),H(28,"evTaxesHintModalPopupPlacer"),g()()(),J(29,Mke,1,3,"ev-submit-button",18),h(30,"ev-express-checkout",19),Ee("onSubmit",function(s){return r.onSubmit.emit(s)}),g()()()()),n&2){let o;d(2),C("ngClass",et(27,ske,r.submitButtonMessage()&&r.form())),d(2),ne(" ",j(5,21,r.Message.CHECKOUT_APP_ORDER_SUMMARY)," "),d(2),C("ngClass",et(29,lke,r.isSportsShop)),d(),ht(r.packNumbers),d(2),$(r.isSportsShop?9:-1),d(),$(r.prices.hasMemoryTicketFee()?10:-1),d(),$(r.prices.orderBasedTicketInsuranceActive()?11:-1),d(),$(r.prices.hasServiceFee()?12:-1),d(),$(r.prices.isPaymentFeeVisible()?13:-1),d(),$(r.prices.hasInterestFee()?14:-1),d(),$(r.prices.hasDonation()?15:-1),d(),$(r.prices.hasOrderFee()?16:-1),d(),$(r.showDeliveryFee()?17:-1),d(),$(r.prices.hasPremiumFeeMessages()?18:-1),d(),$(r.prices.hasDeliveryFeeMemoryTickets()?19:-1),d(),$(r.isSportsShop&&r.prices.hasVoucherAmount()?20:-1),d(),$(r.prices.hasVoucherAmount()?21:-1),d(),$(r.isSportsShop?22:-1),d(),C("ngClass",et(31,cke,r.isSportsShop)),d(3),C("content",j(28,25,j(27,23,r.prices.taxesHintFormat))),d(3),$(r.submitButtonMessage()&&r.form()?29:-1),d(),C("expressCheckoutConfig",(o=r.pageJson())==null?null:o.expressCheckoutConfig)}},dependencies:[At,Zr,jM,GM,jte,Gte,Fv,Se,tb],encapsulation:2})}return t})();var kA=function(t){return t.OK="OK",t.ERROR="ERROR",t}(kA||{});var WM=(()=>{class t{static hasIncomplete(e){return e.securedParams===void 0||e.clientId===void 0||e.url===void 0}http=E(Ss);logService=E(bt);convertToIban(e,n){if(t.hasIncomplete(n)){this.logService.error(new Error("Provided configuration for KPS IBAN converter service is incomplete"),"Iban Converter");return}return e.clientId=n.clientId,e.securedParams=n.securedParams,this.http.post(n.url,e).toPromise()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nb=(()=>{class t{#e=E(_h);set accordionItem(e){this.#t=e,e!==void 0&&this.setupComponent()}get accordionItem(){return this.#t}tabIndexToUse=-1;unhandledErrorMessage=null;#t;ngOnInit(){this.registerAccordionItemListener(),this.#e.isPaymentMethodAllowed(this.accordionItem?.returnValue?.type,this.accordionItem?.returnValue?.subType)||this.#t.showItem.set(!1)}registerAccordionItemListener(){return this.accordionItem?.onClick().pipe(zn(this.destroyRef)).subscribe(e=>{switch(e){case Ps.Close:this.tabIndexToUse=-1;break;case Ps.Open:this.tabIndexToUse=0;break;default:return}})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{accordionItem:"accordionItem"}})}return t})();var Ui=function(t){return t.ACCOUNT_HOLDER="accountHolder",t.IBAN="iban",t.BIC="bic",t.ACCOUNT_NUMBER="accountNumber",t.BANK_SORT_CODE="bankSortCode",t}(Ui||{});var Pl=function(t){return t[t.NATIONAL=0]="NATIONAL",t[t.INTERNATIONAL=1]="INTERNATIONAL",t}(Pl||{});var Wte=(()=>{class t{map=new Map([[e=>Object.hasOwnProperty.call(e,"account"),(e,n)=>{n.setValue(e.account)}],[e=>Object.hasOwnProperty.call(e,"iban"),(e,n)=>{n.setValue(e.iban)}],[e=>Object.hasOwnProperty.call(e,"ibanWithoutBic"),(e,n)=>{n.removeControl("bic"),n.setValue(e.ibanWithoutBic)}]]);setSavedData(e,n){ce.isObject(n.savedPayment)&&this.map.forEach((r,o)=>{let s=n.savedPayment.paymentMethod;o(s)&&r(s,e)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var T1=function(t){return t[t.Default=0]="Default",t[t.Empty=1]="Empty",t[t.Invalid=2]="Invalid",t[t.None=3]="None",t}(T1||{});var b1=function(t){return t.ACCOUNT_NUMBER="accountNumber",t.BANK_SORT_CODE="bankCode",t}(b1||{});var U$=function(t){return t.SUCCESS="000000",t.INVALID_CODES="999999",t}(U$||{});var zte=t=>({"pseudo-input-invalid":t});function Fke(t,i){if(t&1){let e=Je();h(0,"div",1)(1,"span",3),Ee("click",function(){Ne(e);let r=y();return Re(r.showConverterFields())})("keydown.space",function(){Ne(e);let r=y();return Re(r.showConverterFields())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.showConverterFields())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y();d(),C("tabIndex",e.tabIndexToUse),Le("aria-expanded",e.areFieldsShown),d(),ne(" ",j(3,3,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_SHOW_CONVERTER)," ")}}function Lke(t,i){if(t&1&&(h(0,"span",18),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_DEFAULT)," ")}}function Bke(t,i){if(t&1&&(h(0,"span",19),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_EMPTY)," ")}}function Uke(t,i){if(t&1&&(h(0,"span",20),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_ERROR_INVALID)," ")}}function $ke(t,i){if(t&1&&(h(0,"p",12)(1,"ev-notification",17),J(2,Lke,3,3,"span",18)(3,Bke,3,3,"span",19)(4,Uke,3,3,"span",20),g()()),t&2){let e=y(2);d(),C("type",e.NotificationType.Danger),d(),$(e.notificationSet.has(e.ConverterErrorType.Default)?2:-1),d(),$(e.notificationSet.has(e.ConverterErrorType.Empty)?3:-1),d(),$(e.notificationSet.has(e.ConverterErrorType.Invalid)?4:-1)}}function Hke(t,i){if(t&1){let e=Je();h(0,"form",2)(1,"div",4),D(2,"hr",5),g(),h(3,"p",6),R(4),H(5,"translate"),g(),h(6,"p",7)(7,"ev-forms-field")(8,"label",8),R(9),H(10,"translate"),g(),D(11,"input",9),g()(),h(12,"p",10)(13,"ev-forms-field")(14,"label",8),R(15),H(16,"translate"),g(),D(17,"input",11),g()(),J(18,$ke,5,4,"p",12),h(19,"div",13)(20,"div",13)(21,"div",14)(22,"button",15),Ee("click",function(){Ne(e);let r=y();return Re(r.hideConverterFields())}),R(23),H(24,"translate"),g()(),h(25,"div",14)(26,"button",16),Ee("click",function(){Ne(e);let r=y();return Re(r.requestConversion())}),R(27),H(28,"translate"),g()()(),h(29,"div",4),D(30,"hr",5),g()()()}if(t&2){let e=y();C("formGroup",e.converterForm.control),d(4),ne(" ",j(5,21,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_INFO)," "),d(4),Le("for",e.converterForm.getField(e.IbanConverterFormControlName.ACCOUNT_NUMBER).id),d(),ne(" ",j(10,23,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_NUMBER),""),d(2),C("name",e.IbanConverterFormControlName.ACCOUNT_NUMBER)("tabIndex",e.tabIndexToUse)("formControlName",e.IbanConverterFormControlName.ACCOUNT_NUMBER)("ngClass",et(31,zte,e.isFieldInvalidAndTouched(e.IbanConverterFormControlName.ACCOUNT_NUMBER))),Le("id",e.converterForm.getField(e.IbanConverterFormControlName.ACCOUNT_NUMBER).id),d(3),Le("for",e.converterForm.getField(e.IbanConverterFormControlName.BANK_SORT_CODE).id),d(),ne(" ",j(16,25,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_BANK_SORT_CODE),""),d(2),C("name",e.IbanConverterFormControlName.BANK_SORT_CODE)("tabIndex",e.tabIndexToUse)("formControlName",e.IbanConverterFormControlName.BANK_SORT_CODE)("ngClass",et(33,zte,e.isFieldInvalidAndTouched(e.IbanConverterFormControlName.BANK_SORT_CODE))),Le("id",e.converterForm.getField(e.IbanConverterFormControlName.BANK_SORT_CODE).id),d(),$(e.notificationSet.size>0?18:-1),d(4),C("tabIndex",e.tabIndexToUse),d(),ne(" ",j(24,27,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_CANCEL)," "),d(3),C("tabIndex",e.tabIndexToUse),d(),ne(" ",j(28,29,e.Message.CHECKOUT_APP_PAYMENT_IBAN_CONVERTER_CONVERT)," ")}}var zM=(()=>{class t{ibanConverter=E(WM);logService=E(bt);ConverterErrorType=T1;IbanConverterFormControlName=b1;Message=K;NotificationType=rn;parentForm;converterConfig;tabIndexToUse;areFieldsShown=!1;converterForm=new vn("converter",[new Gt({fieldName:b1.ACCOUNT_NUMBER,type:Mt.Text,mandatory:!0,value:""}),new Gt({fieldName:b1.BANK_SORT_CODE,type:Mt.Text,mandatory:!0,value:""})]);notificationSet=new Set;subscriptions=[];ngOnInit(){this.subscriptions.push(this.converterForm.control.valueChanges.subscribe(()=>{this.notificationSet.clear()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.converterForm.destroy()}requestConversion(){if(this.notificationSet.clear(),this.areFieldsEmpty()){this.notificationSet.add(T1.Empty);return}this.ibanConverter.convertToIban(this.converterForm.control.value,this.converterConfig).then(e=>{if(e.result===kA.OK){this.handleSuccessfulResponse(e);return}this.handleErrorResponse(e)}).catch(()=>this.handleBackendError())}hideConverterFields(){this.resetForm(),this.areFieldsShown=!1}showConverterFields(){this.resetForm(),this.areFieldsShown=!0}isFieldInvalidAndTouched(e){let n=this.converterForm.getField(e);return n.control.invalid&&n.control.touched}areFieldsEmpty(){return!Object.values(this.converterForm.control.controls).map(e=>e.value).reduce((e,n)=>e&&n.length!==0,!0)}handleBackendError(){this.notificationSet.add(T1.Default),this.logService.trace(new Error("IBAN converter unexpected http error response"),"IBAN Converter")}handleErrorResponse(e){if(ce.isObject(e)){if(this.logService.trace(new Error(`Failed with ${e.resultcode}: ${e.message}`),"IBAN Converter"),e.resultcode===U$.INVALID_CODES){this.notificationSet.add(T1.Invalid);return}}else this.logService.trace(new Error("Conversion failed!"),"IBAN Converter");this.notificationSet.add(T1.Default)}handleSuccessfulResponse(e){if(e.iban!==void 0){this.parentForm.getField(Ui.IBAN).control.setValue(e.iban),this.hideConverterFields();return}this.handleErrorResponse(e)}resetForm(){this.converterForm.control.reset(),this.converterForm.getField(b1.ACCOUNT_NUMBER).control.reset(""),this.converterForm.getField(b1.BANK_SORT_CODE).control.reset("")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-iban-converter"]],inputs:{parentForm:"parentForm",converterConfig:"converterConfig",tabIndexToUse:"tabIndexToUse"},standalone:!1,decls:3,vars:2,consts:[["data-qa","iban-converter"],[1,"text-right"],[3,"formGroup"],["data-qa","show-trigger","role","button",1,"link","font-size-xs",3,"click","keydown.space","keydown.enter","tabIndex"],[1,"margin-top-l","margin-bottom-m"],["aria-hidden","true",1,"card-separator"],["data-qa","info-headline",1,"card-paragraph","theme-text-variant-color"],["data-qa","converter-account-number",1,"card-paragraph"],["field-label",""],["data-qa","account-number-field","type","text",1,"form-control","theme-text-color","standard-gray-border","optional",3,"name","tabIndex","formControlName","ngClass"],["data-qa","converter-bank-sort-code-field",1,"card-paragraph"],["data-qa","bank-sort-code-field","type","text",1,"form-control","theme-text-color","standard-gray-border","optional",3,"name","tabIndex","formControlName","ngClass"],["data-qa","notification-container",1,"card-paragraph"],[1,"row"],[1,"col-xs-6"],["data-qa","hide-trigger","type","button",1,"btn","btn-secondary","btn-sm","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click","tabIndex"],["data-qa","submit-trigger","type","button",1,"btn","btn-primary","btn-sm","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click","tabIndex"],[3,"type"],["data-qa","default-error-notification"],["data-qa","empty-error-notification"],["data-qa","invalid-error-notification"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,Fke,4,5,"div",1)(2,Hke,31,35,"form",2),g()),n&2&&(d(),$(r.areFieldsShown?-1:1),d(),$(r.areFieldsShown?2:-1))},dependencies:[At,Ai,xi,jr,Rr,Pn,wn,_o,On,Se],encapsulation:2})}return t})();var Jte=(()=>{class t{static OPT_OUT=2;determineSelectionStatus(e,n,r){return ce.isObject(e)&&e.reuseSelected!==void 0&&e.reuseSelected!==null?e.reuseSelected:n.quickCheckout?!0:r.reusePaymentData===t.OPT_OUT}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vke(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"div",1)(2,"div",2)(3,"ev-forms-checkbox",3),Ee("onSelectionChange",function(){Ne(e);let r=y();return Re(r.publishCurrentSelection())}),g()()()()}if(t&2){let e=y();C("formGroup",e.form.control),d(3),C("fieldName",e.checkbox.name)("label",e.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_SAVE_PAYMENT_DATA)("value",!0)("tabIndexToUse",e.tabIndexToUse)}}var ib=(()=>{class t{document=E(Ot);reuseCheckboxSelectionService=E(Jte);customerService=E(fo);affiliateService=E(Tn);Message=K;forceVisibility=!1;set paymentMethod(e){this.currentPaymentMethod=e}tabIndexToUse;clickHandler=new Jt;form;checkbox;currentPaymentMethod;customer;affiliate;subscriptions=[];ngAfterContentInit(){this.subscriptions.push(tl([this.customerService.observeCustomer().pipe(Yt(e=>e!==null)),this.affiliateService.observeAffiliate().pipe(Yt(e=>e!==null))]).subscribe(e=>{this.customer=e[0],this.affiliate=e[1],this.createForm()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}createForm(){let e="reusePaymentCheckboxForm";this.checkbox=new Gt({fieldName:"savedPayment",type:Mt.Checkbox,mandatory:!0,value:this.determineSelectionState()}),ce.isObject(this.currentPaymentMethod)&&(e+=`.${this.currentPaymentMethod.id}`),this.form=new vn(e,[this.checkbox]),this.checkbox.control.value&&this.publishCurrentSelection()}isVisible(){return this.forceVisibility||this.isReuseActivatedInGeneral()&&this.isReuseActivatedOnPaymentMethod()&&this.form!==void 0}publishCurrentSelection(){this.clickHandler.emit(this.checkbox.control.value)}determineSelectionState(){return ce.isObject(this.customer)&&ce.isObject(this.affiliate)&&this.reuseCheckboxSelectionService.determineSelectionStatus(this.currentPaymentMethod,this.customer,this.affiliate)}isReuseActivatedInGeneral(){return this.customer.quickCheckout||this.affiliate.reusePaymentData>0}isReuseActivatedOnPaymentMethod(){return ce.isObject(this.currentPaymentMethod)&&this.currentPaymentMethod.reuseAllowed}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-reuse-checkbox"]],inputs:{forceVisibility:"forceVisibility",paymentMethod:"paymentMethod",tabIndexToUse:"tabIndexToUse"},outputs:{clickHandler:"clickHandler"},standalone:!1,decls:1,vars:1,consts:[[1,"col-xs-12",3,"formGroup"],[1,"row"],[1,"col-xs-12","radio-group"],["data-qa","savedPayment",3,"onSelectionChange","fieldName","label","value","tabIndexToUse"]],template:function(n,r){n&1&&J(0,Vke,4,5,"div",0),n&2&&$(r.isVisible()?0:-1)},dependencies:[ko,Pn,wn],encapsulation:2})}return t})();function jke(t,i){if(t&1&&(h(0,"p",12)(1,"ev-forms-field")(2,"label",6),R(3),H(4,"translate"),g(),D(5,"input",14),h(6,"div",8),D(7,"ev-forms-field-error",9),g()()()),t&2){let e=y(2);d(2),Le("for",e.form.getField(e.DirectDebitFieldName.BIC).id),d(),ne(" ",j(4,6,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_BIC),""),d(2),C("name",e.DirectDebitFieldName.BIC)("formControlName",e.DirectDebitFieldName.BIC),Le("id",e.form.getField(e.DirectDebitFieldName.BIC).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.BIC))}}function Gke(t,i){if(t&1&&D(0,"ev-iban-converter",13),t&2){let e=y(2);C("converterConfig",e.paymentMethod.ibanConverter)("parentForm",e.form)("tabIndexToUse",0)}}function Kke(t,i){if(t&1&&(h(0,"p",5)(1,"ev-forms-field")(2,"label",6),R(3),H(4,"translate"),g(),D(5,"input",7),h(6,"div",8),D(7,"ev-forms-field-error",9),g()()(),h(8,"p",10)(9,"ev-forms-field")(10,"label",6),R(11),H(12,"translate"),g(),D(13,"input",11),h(14,"div",8),D(15,"ev-forms-field-error",9),g()()(),J(16,jke,8,8,"p",12)(17,Gke,1,3,"ev-iban-converter",13)),t&2){let e=y();d(2),Le("for",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(),ne(" ",j(4,15,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_HOLDER)," "),d(2),C("name",e.DirectDebitFieldName.ACCOUNT_HOLDER)("formControlName",e.DirectDebitFieldName.ACCOUNT_HOLDER),Le("id",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER)),d(3),Le("for",e.form.getField(e.DirectDebitFieldName.IBAN).id),d(),ne(" ",j(12,17,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_IBAN)," "),d(2),C("name",e.DirectDebitFieldName.IBAN)("formControlName",e.DirectDebitFieldName.IBAN)("evFormInputFormatter",e.formatterConfig),Le("id",e.form.getField(e.DirectDebitFieldName.IBAN).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.IBAN)),d(),$(e.showBicField()?16:-1),d(),$(e.paymentMethod.ibanConverter?17:-1)}}function qke(t,i){if(t&1&&(h(0,"p",5)(1,"ev-forms-field")(2,"label",6),R(3),H(4,"translate"),g(),D(5,"input",7),h(6,"div",8),D(7,"ev-forms-field-error",9),g()()(),h(8,"p",15)(9,"ev-forms-field")(10,"label",6),R(11),H(12,"translate"),g(),D(13,"input",16),h(14,"div",8),D(15,"ev-forms-field-error",9),g()()(),h(16,"p",17)(17,"ev-forms-field")(18,"label",6),R(19),H(20,"translate"),g(),D(21,"input",18),h(22,"div",8),D(23,"ev-forms-field-error",9),g()()()),t&2){let e=y();d(2),Le("for",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(),ne(" ",j(4,18,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_HOLDER),""),d(2),C("name",e.DirectDebitFieldName.ACCOUNT_HOLDER)("formControlName",e.DirectDebitFieldName.ACCOUNT_HOLDER),Le("id",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.ACCOUNT_HOLDER)),d(3),Le("for",e.form.getField(e.DirectDebitFieldName.ACCOUNT_NUMBER).id),d(),ne(" ",j(12,20,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_NUMBER),""),d(2),C("name",e.DirectDebitFieldName.ACCOUNT_NUMBER)("formControlName",e.DirectDebitFieldName.ACCOUNT_NUMBER),Le("id",e.form.getField(e.DirectDebitFieldName.ACCOUNT_NUMBER).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.ACCOUNT_NUMBER)),d(3),Le("for",e.form.getField(e.DirectDebitFieldName.BANK_SORT_CODE).id),d(),ne(" ",j(20,22,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_BANK_SORT_CODE),""),d(2),C("name",e.DirectDebitFieldName.BANK_SORT_CODE)("formControlName",e.DirectDebitFieldName.BANK_SORT_CODE),Le("id",e.form.getField(e.DirectDebitFieldName.BANK_SORT_CODE).id),d(2),C("field",e.form.getField(e.DirectDebitFieldName.BANK_SORT_CODE))}}var Xte=(()=>{class t extends nb{DirectDebitFieldName=Ui;DirectDebitSubtype=Pl;NotificationType=rn;Message=K;form;paymentMethod;formatterConfig=new f1;customer;onComponentError=new Jt;onUnhandledError=new Jt;#e=E(rd);#t=E(Tn);#n=E(fn);#i=E(Wte);#r=E(WM);destroyRef=E(Oi);#o;#a;#s=null;ngOnInit(){super.ngOnInit(),this.accordionItem!==void 0&&this.customer!==void 0&&(this.setupComponent(),this.addSavedIbanToHeadline()),this.registerOnSubmitError(),this.registerOnSubmitEvent()}prefillFields(){let e=this.#n.get(ut.USER_SUBMITTED_PAYMENT_DATA);ce.isObject(e)&&e.paymentMethodId===this.paymentMethod.id?this.#o===Pl.INTERNATIONAL&&!Object.hasOwnProperty.call(e.values,"bic")?(this.form.getField(Ui.ACCOUNT_HOLDER).control.setValue(e.values.accountHolder),this.form.getField(Ui.IBAN).control.setValue(e.values.iban)):this.form.control.setValue(e.values):this.prefillAccountHolder()}prefillAccountHolder(){this.form.getField(Ui.ACCOUNT_HOLDER).control.setValue(this.getCustomerName())}getCustomerName(){return ce.isObject(this.customer)?`${this.customer.firstName} ${this.customer.lastName}`:ee.EMPTY_STRING}addBicControlForInternationalDebit(){this.paymentMethod.subType===Pl.INTERNATIONAL&&this.form.getField(Ui.IBAN).control.valueChanges.pipe(cn(()=>this.showBicField()),Ro()).subscribe(e=>{e?this.form.set(this.#s):this.form.remove(this.#s.name)})}getPaymentSubmitData(){let e={type:this.paymentMethod.type,subtype:this.#o,debit:{}};return this.#a!==void 0&&(e.savePaymentData=this.#a),this.#o===Pl.INTERNATIONAL&&!this.showBicField()?e.debit.ibanWithoutBic=this.form.control.value:this.#o===Pl.INTERNATIONAL&&this.showBicField()?e.debit.iban=this.form.control.value:this.#o===Pl.NATIONAL&&(e.debit.account=this.form.control.value),e}registerOnSubmitError(){return this.accordionItem.onError().pipe(Yt(e=>e!==null),zn(this.destroyRef)).subscribe(e=>{switch(e.errorCode){case br.DEBIT_IBAN_INVALID:this.setIncorrect([Ui.IBAN]),this.showErrorOnPaymentPage(e.message);break;case br.DEBIT_BIC_INVALID:this.setIncorrect([Ui.BIC]),this.showErrorOnPaymentPage(e.message);break;case br.DEBIT_PAYMENT_DATA_INVALID:this.setIncorrect([Ui.ACCOUNT_NUMBER,Ui.BANK_SORT_CODE]),this.showErrorOnPaymentPage(e.message);break;case br.PAYMENT_METHOD_NOT_POSSIBLE:this.showErrorOnPaymentPage(e.message);break;default:this.onUnhandledError.emit(e)}})}showErrorOnPaymentPage(e){this.onComponentError.emit(e)}setIncorrect(e){e.forEach(n=>{this.form.getField(n).control.setErrors({incorrect:!0})})}registerOnSubmitEvent(){return this.accordionItem.onSubmit().pipe(zn(this.destroyRef)).subscribe(()=>{this.accordionItem.submitData=this.getPaymentSubmitData(),this.storePaymentData()})}hasSavedPaymentInformation(){let e=JSON.stringify(this.#n.get(ut.USER_SUBMITTED_PAYMENT_DATA)),n=JSON.stringify({values:this.form.control.value,paymentMethodId:this.paymentMethod.id}),r="";return ce.isObject(this.paymentMethod.savedPayment)&&(r=JSON.stringify(this.paymentMethod.savedPayment.paymentMethod.account)),e===n||r===JSON.stringify(this.form.control.value)}storePaymentData(){let e={values:this.form.control.value,paymentMethodId:this.paymentMethod.id};this.#n.set(ut.USER_SUBMITTED_PAYMENT_DATA,e)}showBicField(){let n=this.form.getField(Ui.IBAN).control.value,r=new RegExp(this.#t.getAffiliate().skipBicValidationForCountries,"i");return ee.isNotEmpty(n)&&n.length>=2&&!n.match(r)&&this.form.getField(Ui.IBAN).control.valid}buildForm(){let e=Ui.IBAN,n=Ui.BIC,r=new Map([[Ui.ACCOUNT_HOLDER,Km.IbanJson_accountHolder],[Ui.IBAN,Km.IbanJson_iban],[Ui.BIC,Km.IbanJson_bic]]);return this.paymentMethod.subType===Pl.NATIONAL&&(e=Ui.ACCOUNT_NUMBER,n=Ui.BANK_SORT_CODE,r.set(Ui.ACCOUNT_HOLDER,Km.AccountJson_accountHolder),r.set(Ui.IBAN,Km.AccountJson_accountNumber),r.set(Ui.BIC,Km.AccountJson_bankSortCode)),new vn("directDebit",[new Gt({fieldName:Ui.ACCOUNT_HOLDER,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.#e.getValidationRule(r.get(Ui.ACCOUNT_HOLDER)))),new Gt({fieldName:e,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.#e.getValidationRule(r.get(Ui.IBAN)))),new Gt({fieldName:n,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.#e.getValidationRule(r.get(Ui.BIC))))])}handleReuseClick(e){this.#a=e}setupComponent(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.paymentMethod=this.accordionItem.returnValue,this.#o=this.paymentMethod.subType,this.form=this.buildForm(),this.#s=this.form.getField(Ui.BIC),this.accordionItem.formGroup=this.form.control,this.#i.setSavedData(this.form.control,this.paymentMethod),this.addBicControlForInternationalDebit(),this.prefillFields(),this.registerChangeListenersForNational()}addSavedIbanToHeadline(){let e=this.getIban();ee.isNotEmpty(e)&&(this.accordionItem.headline instanceof po?this.accordionItem.headline.append(wa.SPACE).append(new wa(e)):this.accordionItem.headline=`${this.accordionItem.headline} ${e}`)}getIban(){let e=ee.EMPTY_STRING;return ce.hasProperty(this.paymentMethod,"savedPayment.paymentMethod.iban")?e=`(${this.paymentMethod.savedPayment.paymentMethod.iban.iban})`:ce.hasProperty(this.paymentMethod,"savedPayment.paymentMethod.ibanWithoutBic")&&(e=`(${this.paymentMethod.savedPayment.paymentMethod.ibanWithoutBic.iban})`),e}registerChangeListenersForNational(){this.paymentMethod.subType===Pl.NATIONAL&&this.paymentMethod.ibanConverter&&this.form.hasField(Ui.ACCOUNT_NUMBER)&&this.form.hasField(Ui.BANK_SORT_CODE)&&(this.registerChangeListenerForNationalOnField(Ui.ACCOUNT_NUMBER),this.registerChangeListenerForNationalOnField(Ui.BANK_SORT_CODE))}registerChangeListenerForNationalOnField(e){this.form.getField(e).control.valueChanges.pipe(Ro(),zn(this.destroyRef),tx(500)).subscribe(()=>{this.checkAccountNumberAndBankCodeValidity()})}checkAccountNumberAndBankCodeValidity(){let e=this.form.getField(Ui.ACCOUNT_NUMBER).control.value,n=this.form.getField(Ui.BANK_SORT_CODE).control.value;ee.isNotEmpty(e)&&ee.isNotEmpty(n)&&(this.hasSavedPaymentInformation()||this.#r.convertToIban({accountNumber:e,bankCode:n},this.paymentMethod.ibanConverter).then(r=>{if(r.result===kA.OK){this.form.getField(Ui.ACCOUNT_NUMBER).control.setErrors(null),this.form.getField(Ui.BANK_SORT_CODE).control.setErrors(null);return}this.setIncorrect([Ui.ACCOUNT_NUMBER,Ui.BANK_SORT_CODE])}))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-direct-debit"]],inputs:{customer:"customer"},outputs:{onComponentError:"onComponentError",onUnhandledError:"onUnhandledError"},standalone:!1,features:[dt],decls:12,vars:14,consts:[["data-qa","direct-debit-form",1,"payment-form"],[1,"col-xs-12","margin-bottom-s"],["data-qa","general-debit-hint",1,"theme-text-variant-color"],[1,"validation",3,"formGroup"],[3,"clickHandler","paymentMethod","tabIndexToUse"],["data-qa","account-holder-row",1,"card-paragraph"],["field-label",""],["data-qa","account-holder-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName"],["field-error",""],[3,"field"],["data-qa","iban-row",1,"card-paragraph"],["data-qa","iban-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName","evFormInputFormatter"],["data-qa","bic-row",1,"card-paragraph"],[3,"converterConfig","parentForm","tabIndexToUse"],["data-qa","bic-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName"],["data-qa","account-number-row",1,"card-paragraph"],["data-qa","account-number-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName"],["data-qa","bank-sort-code-row",1,"card-paragraph"],["data-qa","bank-sort-code-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName"]],template:function(n,r){n&1&&(h(0,"div",0),Mo(1),h(2,"div",1)(3,"p",2),R(4),H(5,"translate"),H(6,"translate"),H(7,"translate"),g(),h(8,"form",3),J(9,Kke,18,19)(10,qke,24,24),g()(),h(11,"ev-reuse-checkbox",4),Ee("clickHandler",function(s){return r.handleReuseClick(s)}),g(),Fo(),g()),n&2&&(d(4),Am(" ",j(5,8,r.Message.CHECKOUT_APP_PAYMENT_SEPA_HINT_PART1)," ",j(6,10,r.Message.GLOBAL_EVENTIM)," ",j(7,12,r.Message.CHECKOUT_APP_PAYMENT_SEPA_HINT_PART2)," "),d(4),C("formGroup",r.form.control),d(),$(r.paymentMethod.subType===r.DirectDebitSubtype.INTERNATIONAL?9:-1),d(),$(r.paymentMethod.subType===r.DirectDebitSubtype.NATIONAL?10:-1),d(),C("paymentMethod",r.accordionItem.returnValue)("tabIndexToUse",0))},dependencies:[Ai,mr,xi,jr,Rr,Pn,wn,_o,TM,zM,ib,Se],encapsulation:2})}return t})();var YM=(()=>{class t{unhandledErrorMessage=null;static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})();var Bv=function(t){return t[t.Default=0]="Default",t[t.Delayed=1]="Delayed",t[t.BoletoBancario=2]="BoletoBancario",t[t.Epay=3]="Epay",t[t.PayByLink=4]="PayByLink",t}(Bv||{});var JM=class{static PAYMENT_METHOD_MESSAGES=new Map([[Wt.Prepayment,K.CHECKOUT_APP_PAYMENT_PREPAYMENT_INFORMATION],[Wt.PrepaymentReservation,K.CHECKOUT_APP_PAYMENT_PREPAYMENT_INFORMATION],[Wt.ESR,K.CHECKOUT_APP_PAYMENT_ESR_INFORMATION],[Wt.CashByCourier,K.CHECKOUT_APP_SUMMARY_CASH_BY_COURIER_INFORMATION]]);static EXTERNAL_PAYMENT_METHOD_MESSAGES=new Map([[si.CreditCard,K.CHECKOUT_APP_PAYMENT_CREDIT_CARD_WALLET_INFORMATION],[si.Sberbank,K.CHECKOUT_APP_PAYMENT_SBERBANK_INFORMATION],[si.PayPal,K.CHECKOUT_APP_PAYMENT_PAYPAL_INFORMATION],[si.IDeal,K.CHECKOUT_APP_PAYMENT_IDEAL_INFORMATION],[si.MasterPass,K.CHECKOUT_APP_PAYMENT_MASTERPASS_INFORMATION],[si.SofortBanking,K.CHECKOUT_APP_PAYMENT_INSTANT_TRANSFER_INFORMATION],[si.IberiaPlus,K.CHECKOUT_APP_PAYMENT_IBERIA_PLUS],[si.ItalianCulturalVoucher,K.CHECKOUT_APP_PAYMENT_ITALIAN_CULTURAL_VOUCHERS],[si.AMEDigital,K.CHECKOUT_APP_PAYMENT_AME_INFORMATION]]);static PREPAYMENT_RESERVATION_METHOD_MESSAGES=new Map([[Bv.Epay,K.CHECKOUT_APP_PAYMENT_EPAY_INFORMATION]]);static getMessage(i){if(i!==void 0)return i.type===Wt.External?this.EXTERNAL_PAYMENT_METHOD_MESSAGES.has(i.subType)?this.EXTERNAL_PAYMENT_METHOD_MESSAGES.get(i.subType):K.CHECKOUT_APP_PAYMENT_EXTERNAL_INFORMATION:i.type===Wt.PrepaymentReservation&&this.PREPAYMENT_RESERVATION_METHOD_MESSAGES.has(i.subType)?this.PREPAYMENT_RESERVATION_METHOD_MESSAGES.get(i.subType):this.PAYMENT_METHOD_MESSAGES.get(i.type)}};function zke(t,i){if(t&1&&(h(0,"div",2),ci(1,4),g()),t&2){y();let e=Fn(4);d(),C("ngTemplateOutlet",e)}}function Yke(t,i){if(t&1&&(h(0,"p",5),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.message)," ")}}var Qte=(()=>{class t extends nb{message;pageContext;onUnhandledError=new Jt;destroyRef=E(Oi);#e;#t;ngOnInit(){super.ngOnInit(),this.setupComponent(),this.registerOnSubmitError()}getPaymentSubmitData(){return{type:this.#e.type,subtype:this.#e.subType,savePaymentData:this.#t}}handleReuseClick(e){this.#t=e}registerOnSubmitError(){return this.accordionItem.onError().pipe(Yt(e=>e!==null),zn(this.destroyRef)).subscribe(e=>{this.onUnhandledError.emit(e)})}setupComponent(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.#e=this.accordionItem.returnValue,this.message=this.getMessage(),this.accordionItem.submitData=this.getPaymentSubmitData()}getMessage(){return JM.getMessage(this.#e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-simple-payment-method"]],inputs:{pageContext:"pageContext"},outputs:{onUnhandledError:"onUnhandledError"},standalone:!1,features:[dt],decls:5,vars:3,consts:[["info",""],["data-qa","simple-payment-method",1,"payment-form"],[1,"col-xs-12","margin-top-xs"],[3,"clickHandler","paymentMethod","tabIndexToUse"],[3,"ngTemplateOutlet"],["data-qa","hint",1,"card-paragraph","theme-text-variant-color"]],template:function(n,r){if(n&1){let o=Je();h(0,"div",1),J(1,zke,2,1,"div",2),h(2,"ev-reuse-checkbox",3),Ee("clickHandler",function(c){return Ne(o),Re(r.handleReuseClick(c))}),g()(),J(3,Yke,3,3,"ng-template",null,0,vi)}n&2&&(d(),$(r.message?1:-1),d(),C("paymentMethod",r.accordionItem.returnValue)("tabIndexToUse",r.tabIndexToUse))},dependencies:[hr,ib,Se],encapsulation:2})}return t})();var Zte=(()=>{class t{getKpsRequestObject(e,n,r){let o=e.preAuthData;return{kpsRequestBody:this.getKpsRequestBody(e,n,r),permissionUrl:this.getPreAuthPermissionUrl(o)}}getPreAuthPermissionUrl(e){return ee.isNotEmpty(e.parameter.PaymentWithPreAuthTargetUrl)?e.parameter.PaymentWithPreAuthTargetUrl:ee.EMPTY_STRING}getKpsRequestBody(e,n,r){switch(this.determineSubType(e)){case si.Billpay:return this.getBillPaySubmitJson(e,n);case si.BillpayPayLater:return this.getBillpayPaylaterJson(e,n,r);default:return{}}}getBillPaySubmitJson(e,n){return{birthdate:new Date(n!==void 0?n.preAuth.birthday:e.preAuth.birthdayDate),securedParams:e.preAuthData.data,clientId:e.preAuthData.parameter.PaymentWithPreAuthKpsClientId}}getBillpayPaylaterJson(e,n,r){return{accountHolder:r.accountHolder,accountIBAN:r.iban,birthdate:n.preAuth.birthday,clientId:e.preAuthData.parameter.PaymentWithPreAuthKpsClientId,installmentCount:`${n.preAuth.installmentCount}`,installmentDuration:`${n.preAuth.installmentCount}`,installmentTotalAmount:`${r.installmentTotalAmount}`,securedParams:e.preAuthData.data}}determineSubType(e){return Object.prototype.hasOwnProperty.call(e,"subtype")?e.subtype:e.subType}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var H$=function(t){return t.ERROR="ERROR",t.OK="OK",t}(H$||{});var ene=(()=>{class t{httpClient=E(Ss);logErrorService=E(bt);post(e){return Qo(new Promise((n,r)=>{this.httpClient.post(e.permissionUrl,e.kpsRequestBody).toPromise().then(o=>{o.result!==H$.OK?(this.logErrorService.error(new Error(o.result),"KPS"),r(o)):n()})}))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rb=(()=>{class t{kpsService=E(ene);kpsRequestObjectFactory=E(Zte);kpsPreRequest(e,n,r){if(e.preAuthData===void 0)return an(null);let o=this.kpsRequestObjectFactory.getKpsRequestObject(e,n,r);return this.kpsService.post(o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var XM=(()=>{class t{fingerprint;fpId;sessionId;affiliate;domSanitizer=E(ga);ngOnInit(){this.fingerprint=this.domSanitizer.bypassSecurityTrustHtml(`
            <p style="background:url(${this.fpId}/fp/clear.png?org_id=ulk99l7b&session_id=${this.sessionId}&m=1); margin:0"></p>

            <img src="${this.fpId}/fp/clear.png?org_id=ulk99l7b&session_id=${this.sessionId}&m=2&affiliate=${this.affiliate}"alt="">

            <script src="${this.fpId}/fp/check.js?org_id=ulk99l7b&session_id=${this.sessionId}&affiliate=${this.affiliate}"
                type="text/javascript">
            <\/script>

            <object type="application/x-shockwave-flash"
                    data="${this.fpId}/fp/fp.swf?org_id=ulk99l7b&session_id=${this.sessionId}&affiliate=${this.affiliate}"
                    width="1" height="1" id="obj_id">

                <param name="movie"
                       value="${this.fpId}/fp/fp.swf?org_id=ulk99l7b&session_id=${this.sessionId}&affiliate=${this.affiliate}" />
                <div></div>
            </object>`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-billpay-fingerprint"]],inputs:{fpId:"fpId",sessionId:"sessionId",affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[["data-qa","billpay-fingerprint",1,"hide",3,"evCoreHtml"]],template:function(n,r){n&1&&D(0,"span",0),n&2&&C("evCoreHtml",r.fingerprint)},dependencies:[xt],encapsulation:2})}return t})();function Xke(t,i){if(t&1&&(h(0,"form",0)(1,"section")(2,"ev-forms-field")(3,"ev-forms-field-label",2),R(4),H(5,"translate"),g(),D(6,"ev-forms-date-field",3)(7,"ev-forms-field-error",4),g()(),h(8,"section")(9,"ev-forms-checkbox",5)(10,"span",6),R(11),H(12,"translate"),h(13,"a",7),H(14,"translate"),R(15),H(16,"translate"),g(),R(17),H(18,"translate"),H(19,"translate"),h(20,"a",7),H(21,"translate"),R(22),H(23,"translate"),g(),R(24),H(25,"translate"),g()(),D(26,"ev-forms-field-error",4),g(),D(27,"ev-billpay-fingerprint",8),g()),t&2){let e=y();C("formGroup",e.form.control),d(2),Le("data-qa",e.fieldName),d(),C("tabIndexToUse",e.tabIndexToUse),d(),ne(" ",j(5,26,e.Message.GLOBAL_CUSTOMER_DATE_OF_BIRTH)," "),d(2),C("field",e.form.getField(e.fieldName))("dateFormat",e.dateForm)("tabIndexToUse",e.tabIndexToUse),Le("data-qa","input-"+e.fieldName),d(),C("field",e.form.getField(e.fieldName)),d(2),C("fieldName",e.checkboxName)("tabIndexToUse",e.tabIndexToUse)("value",!0),d(2),ne(" ",j(12,28,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_PRE)," "),d(2),Xt("href",j(14,30,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK),un),C("tabIndex",e.tabIndexToUse),d(2),ne(" ",j(16,32,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK_TEXT)," "),d(2),Vi(" ",j(18,34,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_POST)," ",j(19,36,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_PRE)," "),d(3),Xt("href",j(21,38,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK),un),C("tabIndex",e.tabIndexToUse),d(2),ne(" ",j(23,40,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK_TEXT)," "),d(2),ne(" ",j(25,42,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_POST)," "),d(2),C("field",e.form.getField(e.checkboxName)),d(),C("affiliate",e.affiliateCode)("sessionId",e.sessionId)("fpId",e.getFingerprintId(e.accordionItem.returnValue))}}var nne=(()=>{class t{affiliateService=E(Tn);paymentAvailabilityService=E(_h);translateLoaderService=E(ti);kpsPreauthorizationService=E(rb);logService=E(bt);Message=K;fieldName="birthday";checkboxName="billpayConditionsCheck";accordionItem;customer;sessionId;onComponentError=new Jt;form;dateForm;affiliateCode;errorMessageMap;tabIndexToUse=-1;subscriptions=[];savePaymentData;ngOnInit(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.affiliateService.getAffiliate()!==null?this.dateForm=this.affiliateService.getAffiliate().dateFormat:this.logService.debug(new Error("No DateFormat provided!"),"Billpay"),this.affiliateCode=this.affiliateService.getAffiliate().code,this.createForm(),this.subscriptions.push(this.registerOnSubmitEvent()),this.subscriptions.push(this.onAccordionError()),this.subscriptions.push(this.registerAccordionItemListener())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}getFingerprintId(e){return e.preAuthData.parameter.Fingerprinting_1}handleReuseClick(e){this.savePaymentData=e}createForm(){this.form=new vn("billpay",[new Gt({fieldName:this.fieldName,type:Mt.Date,mandatory:!0,value:ee.isNotEmpty(this.customer.birthday)?this.customer.birthday:""},[new ir(K.CHECKOUT_APP_BIRTHDAY_REQUIRED),new a1(K.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_PAST),new BT(K.CHECKOUT_APP_BIRTHDAY_INVALID_NOT_EIGHTEEN),new s1(K.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_FUTURE),new dA(K.CHECKOUT_APP_BIRTHDAY_INVALID_FORMAT)]),new Gt({fieldName:this.checkboxName,type:Mt.Checkbox,mandatory:!0,value:!1},[new ir(K.CHECKOUT_APP_BILLPAY_ERROR_AGB)])]),this.accordionItem.formGroup=this.form.control}getPaymentSubmitData(){return{type:this.accordionItem.returnValue.type,subtype:this.accordionItem.returnValue.subType,preAuth:{birthday:`${this.form.getField(this.fieldName).control.value}T00:00:00.000Z`,termsAndConditionsChecked:this.form.getField(this.checkboxName).control.value},savePaymentData:this.savePaymentData}}registerOnSubmitEvent(){return this.accordionItem.onSubmit().subscribe(()=>{this.accordionItem.submitData=this.getPaymentSubmitData(),this.accordionItem.preAuth=this.kpsPreauthorizationService.kpsPreRequest(this.accordionItem.returnValue,this.accordionItem.submitData)})}onAccordionError(){return this.accordionItem.onError().pipe(Yt(e=>e!=null)).subscribe(()=>{this.paymentAvailabilityService.disablePaymentMethod(this.accordionItem.submitData.type,this.accordionItem.submitData.subtype),this.onComponentError.emit(this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_BILLPAY_ERROR_FAILURE)),this.logService.debug(new Error("Preauthorization failed!"),"Billpay")})}registerAccordionItemListener(){return this.accordionItem.onClick().subscribe(e=>{switch(e){case Ps.Close:this.tabIndexToUse=-1;break;case Ps.Open:this.tabIndexToUse=0;break;default:return}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-billpay"]],inputs:{accordionItem:"accordionItem",customer:"customer",sessionId:"sessionId"},outputs:{onComponentError:"onComponentError"},standalone:!1,decls:2,vars:3,consts:[["data-qa","billpay-form",1,"validation",3,"formGroup"],[3,"clickHandler","paymentMethod","tabIndexToUse"],[3,"tabIndexToUse"],[3,"field","dateFormat","tabIndexToUse"],[3,"field"],[3,"fieldName","tabIndexToUse","value"],["data-qa","label-conditions-checkbox"],["data-link","popup","target","_blank",1,"link",3,"tabIndex","href"],[3,"affiliate","sessionId","fpId"]],template:function(n,r){n&1&&(J(0,Xke,28,44,"form",0),h(1,"ev-reuse-checkbox",1),Ee("clickHandler",function(s){return r.handleReuseClick(s)}),g()),n&2&&($(r.dateForm?0:-1),d(),C("paymentMethod",r.accordionItem.returnValue)("tabIndexToUse",r.tabIndexToUse))},dependencies:[Ai,id,mr,ko,d1,xi,Pn,wn,ib,XM,Se],encapsulation:2})}return t})();var ine=(()=>{class t{httpClient=E(Ss);determineInstallments(e){return this.httpClient.get(e.installmentPlanUrl).pipe(cn(n=>this.mapResponseData(n,e)))}mapResponseData(e,n){let r=[],s=0;if(ce.isObject(e.paymentOptions.b2C.paylater.additionalData))return e.paymentOptions.b2C.paylater.additionalData.instlPlanList.instlPlan.forEach(c=>{s<3&&r.push({feeAmount:n.feeAmount,duration:c.calc.duration,feeTotal:c.calc.feeTotal,totalPayment:c.calc.totalPymt,immediate:c.instlList.instl[0].value,first:c.instlList.instl[1].value,next:c.instlList.instl[2].value,effAnnual:c.calc.effAnual,nominal:c.calc.nominal,selected:s===1}),++s}),{baseAmount:e.cartDetails.baseAmount,totalGross:e.cartDetails.cartTotalGross,installments:r};throw new Error("no installment data")}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zke=(t,i)=>({"icon-expand-more":t,"icon-expand-less":i}),rne=t=>({active:t}),QM=t=>({"active theme-element-border":t});function ewe(t,i){if(t&1){let e=Je();h(0,"th",44)(1,"div",38)(2,"input",45),Ee("click",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.selectInstallment(r))}),g(),h(3,"label",46),R(4),H(5,"translate"),g()()()}if(t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("dynamic-select-table-cell column-",n," theme-text-color theme-element-border"),C("ngClass",et(17,rne,e.selected)),d(2),xo("column-",n," radio-input"),Fd("id","column-radio-",n,""),C("tabIndex",r.tabIndexToUse)("checked",e.selected),d(),Fd("for","column-radio-",n,""),d(),Vi("",e.duration,"\xA0",j(5,15,r.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_MONTHS),"")}}function twe(t,i){if(t&1){let e=Je();h(0,"div",44)(1,"input",47),Ee("click",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.selectInstallment(r))}),g(),h(2,"span"),R(3),g(),h(4,"span"),R(5),H(6,"translate"),g()()}if(t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("col-xs-4 column-",n," btn btn-secondary btn-group-item theme-switch-color theme-switch-border theme-switch-bg"),C("ngClass",et(13,rne,e.selected)),d(),xo("column-",n,""),C("tabIndex",r.tabIndexToUse)("checked",e.selected),d(2),Ae(e.duration),d(2),ne("\xA0",j(6,11,r.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_MONTHS),"")}}function nwe(t,i){if(t&1&&(h(0,"td",48),R(1),H(2,"evCustomCurrency"),H(3,"async"),g()),t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("dynamic-select-table-cell theme-text-color column-",n,""),C("ngClass",et(9,QM,e.selected)),d(),ne(" ",j(3,7,j(2,5,e.first*r.currencyFactor))," ")}}function iwe(t,i){if(t&1&&(h(0,"td",49),R(1),H(2,"evCustomCurrency"),H(3,"async"),g()),t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("dynamic-select-table-cell theme-text-color column-",n,""),C("ngClass",et(9,QM,e.selected)),d(),ne(" ",j(3,7,j(2,5,e.feeTotal*r.currencyFactor))," ")}}function rwe(t,i){if(t&1&&(h(0,"td",50),R(1),H(2,"evCustomCurrency"),H(3,"async"),g()),t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("dynamic-select-table-cell theme-text-color column-",n,""),C("ngClass",et(9,QM,e.selected)),d(),ne(" ",j(3,7,j(2,5,e.feeAmount*r.currencyFactor))," ")}}function owe(t,i){if(t&1&&(h(0,"td",51),R(1),H(2,"evCustomCurrency"),H(3,"async"),g()),t&2){let e=i.$implicit,n=i.$index,r=y(2);xo("dynamic-select-table-cell theme-text-color column-",n,""),C("ngClass",et(9,QM,e.selected)),d(),ne(" ",j(3,7,j(2,5,e.totalPayment*r.currencyFactor))," ")}}function awe(t,i){if(t&1&&(h(0,"p",24),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",e.getComplexText(j(2,1,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_FEES_DETAILS))," ")}}function swe(t,i){if(t&1&&D(0,"ev-iban-converter",35),t&2){let e=y(2);C("parentForm",e.form)("converterConfig",e.accordionItem.returnValue.ibanConverter)("tabIndexToUse",e.tabIndexToUse)}}function lwe(t,i){if(t&1&&(h(0,"div",43),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_BILLPAY_ERROR_AGB)," ")}}function cwe(t,i){if(t&1){let e=Je();h(0,"div",2)(1,"section")(2,"p",3),R(3),H(4,"translate"),g(),h(5,"table",4)(6,"thead")(7,"tr",5)(8,"th",6),R(9),H(10,"translate"),g(),ft(11,ewe,6,19,"th",7,ri),g(),h(13,"tr",8)(14,"th",9)(15,"div",10),ft(16,twe,7,15,"div",11,ri),g()()()(),h(18,"tbody")(19,"tr")(20,"th",12),R(21),H(22,"translate"),g(),ft(23,nwe,4,11,"td",13,fr),g(),h(25,"tr")(26,"th",14),R(27),H(28,"translate"),g(),ft(29,iwe,4,11,"td",15,fr),g(),h(31,"tr")(32,"th",16),R(33),H(34,"translate"),g(),ft(35,rwe,4,11,"td",17,fr),g(),h(37,"tr")(38,"th",18),R(39),H(40,"translate"),g(),ft(41,owe,4,11,"td",19,fr),g()()(),h(43,"p",20)(44,"button",21),Ee("click",function(){Ne(e);let r=y();return Re(r.toggleBillpayFeesDetails())}),D(45,"i",22),h(46,"span",23),R(47),H(48,"translate"),g()()(),J(49,awe,3,3,"p",24),h(50,"p",25),R(51),H(52,"translate"),g()(),h(53,"form",26)(54,"section")(55,"ev-forms-field",27)(56,"ev-forms-field-label",28),R(57),H(58,"translate"),g(),h(59,"div",29)(60,"div",30),D(61,"input",31),g()(),h(62,"div",29)(63,"div",30),D(64,"ev-forms-field-error",32),g()()()(),h(65,"section")(66,"ev-forms-field",33)(67,"ev-forms-field-label",28),R(68),H(69,"translate"),g(),h(70,"div",29)(71,"div",30),D(72,"input",34),g()(),h(73,"div",29)(74,"div",30),D(75,"ev-forms-field-error",32),g()()()(),J(76,swe,1,3,"ev-iban-converter",35),h(77,"section")(78,"ev-forms-field",36)(79,"ev-forms-field-label",28),R(80),H(81,"translate"),g(),D(82,"ev-forms-date-field",37),h(83,"div",29)(84,"div",30),D(85,"ev-forms-field-error",32),g()()()(),h(86,"section")(87,"div",38),D(88,"input",39),h(89,"label",40)(90,"span",41),R(91),H(92,"translate"),h(93,"a",42),H(94,"translate"),R(95),H(96,"translate"),g(),R(97),H(98,"translate"),H(99,"translate"),h(100,"a",42),H(101,"translate"),R(102),H(103,"translate"),g(),R(104),H(105,"translate"),J(106,lwe,3,3,"div",43),g()()()()()()}if(t&2){let e=y();d(3),ne(" ",j(4,44,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_CHOSE_INSTALLMENT)," "),d(6),ne(" ",j(10,46,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_DURATION)," "),d(2),ht(e.installmentData.installments),d(5),ht(e.installmentData.installments),d(5),ne(" ",j(22,48,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_MONTHLY_INSTALLMENT)," "),d(2),ht(e.installmentData.installments),d(4),ne(" ",j(28,50,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_SINGLE_FEE)," "),d(2),ht(e.installmentData.installments),d(4),ne(" ",j(34,52,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_DELIVERY_FEE)," "),d(2),ht(e.installmentData.installments),d(4),ne(" ",j(40,54,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_TOTAL_AMOUNT)," "),d(2),ht(e.installmentData.installments),d(3),C("tabIndex",e.tabIndexToUse),d(),C("ngClass",Un(82,Zke,!e.expanded,e.expanded)),d(2),Ae(j(48,56,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_FEES_DETAILS_HEADLINE)),d(2),$(e.expanded?49:-1),d(2),ne(" ",e.getComplexText(j(52,58,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_IMMEDIATE_FEES))," "),d(2),C("formGroup",e.form.control),d(3),C("isOptional",e.isOptional("accountHolder"))("tabIndexToUse",e.tabIndexToUse),d(),ne(" ",j(58,60,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_HOLDER)," "),d(4),C("tabIndex",e.tabIndexToUse),d(3),C("field",e.form.getField("accountHolder")),d(3),C("isOptional",e.isOptional("iban"))("tabIndexToUse",e.tabIndexToUse),d(),ne(" ",j(69,62,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_IBAN)," "),d(4),C("tabIndex",e.tabIndexToUse),d(3),C("field",e.form.getField("iban")),d(),$(e.accordionItem.returnValue.ibanConverter?76:-1),d(3),C("isOptional",e.isOptional("birthday"))("tabIndexToUse",e.tabIndexToUse),d(),ne(" ",j(81,64,e.Message.GLOBAL_CUSTOMER_DATE_OF_BIRTH)," "),d(2),C("field",e.form.getField("birthday"))("dateFormat",e.affiliate.dateFormat)("tabIndexToUse",e.tabIndexToUse),d(3),C("field",e.form.getField("birthday")),d(3),C("tabIndex",e.tabIndexToUse)("id","billpayConditionsCheckbox"+e.accordionItem.returnValue.id),d(),C("for","billpayConditionsCheckbox"+e.accordionItem.returnValue.id),d(2),ne(" ",j(92,66,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_PRE)," "),d(2),Xt("href",j(94,68,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK),un),C("tabIndex",e.tabIndexToUse),d(2),ne(" ",j(96,70,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_LINK_TEXT)," "),d(2),Vi(" ",j(98,72,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART1_POST)," ",j(99,74,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_PRE)," "),d(3),Xt("href",j(101,76,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK),un),C("tabIndex",e.tabIndexToUse),d(2),ne(" ",j(103,78,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_LINK_TEXT)," "),d(2),ne(" ",j(105,80,e.Message.CHECKOUT_APP_PAYMENT_BILLPAY_TERMS_PART2_POST)," "),d(2),$(e.hasFormErrors("billpayConditionsCheck")?106:-1)}}var one=(()=>{class t{billpayPayLaterInstallmentsService=E(ine);affiliateService=E(Tn);validationRulesService=E(rd);storageService=E(fn);translateLoaderService=E(ti);paymentAvailabilityService=E(_h);kpsPreauthorizationService=E(rb);logService=E(bt);Message=K;currencyFactor=10;accordionItem;customer;sessionId;onComponentError=new Jt;installmentData;expanded=!1;affiliate;form=new vn("billpayPaylaterForm");tabIndexToUse=-1;subscriptions=[];ngOnInit(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.observeAffiliate(),this.subscriptions.push(this.onAccordionError()),this.subscriptions.push(this.registerAccordionItemListener()),this.registerOnSubmitEvent(),this.determineInstallments(),this.buildForm()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.form.destroy()}observeAffiliate(){this.subscriptions.push(this.affiliateService.observeAffiliate().subscribe(e=>this.affiliate=e))}registerOnSubmitEvent(){this.subscriptions.push(this.accordionItem.onSubmit().subscribe(()=>{this.accordionItem.submitData=this.getPaymentSubmitData(),this.accordionItem.additionalData={accountHolder:this.form.control.get("accountHolder").value,iban:this.form.control.get("iban").value,installmentTotalAmount:this.getSelectedInstallment().totalPayment},this.storageService.set(ut.USER_BILLPAY_PAYLATER_DATA,{accountHolder:this.form.control.get("accountHolder").value,iban:this.form.control.get("iban").value,birthday:this.form.control.get("birthday").value,selectedInstallmentIndex:this.installmentData.installments.indexOf(this.getSelectedInstallment())}),this.accordionItem.preAuth=this.kpsPreauthorizationService.kpsPreRequest(this.accordionItem.returnValue,this.accordionItem.submitData,this.accordionItem.additionalData)}))}buildForm(){let e="",n="",r="",o=this.storageService.get(ut.USER_BILLPAY_PAYLATER_DATA);o!=null?(e=o.accountHolder,n=o.iban,r=o.birthday):ce.isObject(this.customer)&&(e=`${this.customer.firstName} ${this.customer.lastName}`,r=this.customer.birthday),this.form.set(new Gt({fieldName:"accountHolder",type:Mt.Text,mandatory:!0,value:e},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(Km.AccountJson_accountHolder)))).set(new Gt({fieldName:"iban",type:Mt.Text,mandatory:!0,value:n},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(Km.IbanJson_iban)))).set(new Gt({fieldName:"birthday",type:Mt.Date,mandatory:!0,value:r},[new dA(K.CHECKOUT_APP_BIRTHDAY_INVALID_FORMAT),new a1(K.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_PAST),new BT(K.CHECKOUT_APP_BIRTHDAY_INVALID_NOT_EIGHTEEN),new s1(K.CHECKOUT_APP_BIRTHDAY_INVALID_IN_THE_FUTURE,new Date),new ir])).set(new Gt({fieldName:"billpayConditionsCheck",type:Mt.Checkbox,mandatory:!0,value:""},[new ir])),this.accordionItem.formGroup=this.form.control}determineInstallments(){this.subscriptions.push(this.accordionItem.onClick().pipe(Yt(e=>e===Ps.Open),An(()=>this.accordionItem.showSpinner())).subscribe(()=>{this.billpayPayLaterInstallmentsService.determineInstallments(this.accordionItem.returnValue).subscribe(e=>this.handleInstallments(e),()=>this.handleError())}))}handleInstallments(e){this.installmentData=e;let n=this.storageService.get(ut.USER_BILLPAY_PAYLATER_DATA);n!=null&&this.selectInstallmentByIndex(n.selectedInstallmentIndex),this.accordionItem.hideSpinner()}handleError(){let e=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_PAYMENT_BILLPAY_PAYLATER_ERROR_API_CALL);this.onComponentError.emit(e),this.accordionItem.hideSpinner()}toggleBillpayFeesDetails(){this.expanded=!this.expanded}getComplexText(e){let n=this.installmentData.installments.find(o=>o.selected),r=new c1(this.affiliateService);return e.replace("{feeTotal}",`${this.formatPrice(n.feeTotal,r)}`).replace("{feeAmount}",`${this.formatPrice(n.feeAmount,r)}`).replace("{first}",`${this.formatPrice(n.first,r)}`).replace("{nominal}",`${n.nominal}`).replace("{effAnnual}",`${n.effAnnual}`)}formatPrice(e,n){return n.formatPrice(e*this.currencyFactor,this.affiliate.priceFormat)}getSelectedInstallment(){return this.installmentData.installments.find(e=>e.selected)}getPaymentSubmitData(){return{type:this.accordionItem.returnValue.type,subtype:this.accordionItem.returnValue.subType,preAuth:{birthday:`${this.form.control.get("birthday").value}T00:00:00.000Z`,installmentCount:this.getSelectedInstallment().duration,termsAndConditionsChecked:this.form.control.get("billpayConditionsCheck").value}}}selectInstallment(e){this.installmentData.installments.forEach(n=>n.selected=!1),e.selected=!0}selectInstallmentByIndex(e){this.selectInstallment(this.installmentData.installments[e])}isOptional(e){return!this.form.getField(e).mandatory}hasFormErrors(e){return this.form.control.get(e)&&this.form.control.get(e).invalid&&this.form.control.get(e).touched}onAccordionError(){return this.accordionItem.onError().pipe(Yt(e=>e!=null)).subscribe(()=>{this.paymentAvailabilityService.disablePaymentMethod(this.accordionItem.submitData.type,this.accordionItem.submitData.subtype),this.onComponentError.emit(this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_BILLPAY_ERROR_FAILURE)),this.accordionItem.showItem.set(!1),this.logService.debug(new Error("Preauthorization failed!"),"Billpay Paylater")})}registerAccordionItemListener(){return this.accordionItem.onClick().subscribe(e=>{switch(e){case Ps.Close:this.tabIndexToUse=-1;break;case Ps.Open:this.tabIndexToUse=0;break;default:return}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-billpay-pay-later"]],inputs:{accordionItem:"accordionItem",customer:"customer",sessionId:"sessionId"},outputs:{onComponentError:"onComponentError"},standalone:!1,decls:3,vars:4,consts:[["data-qa","pay-later"],[3,"affiliate","sessionId","fpId"],["id","billpayPayLaterView"],["data-qa","hint",1,"card-paragraph","theme-text-variant-color"],["data-qa","table",1,"dynamic-select-table","theme-text-color","theme-element-border"],[1,"table-row","hidden-xs","visible-sm","visible-md","visible-lg"],["data-qa","label-options",1,"dynamic-select-table-cell","title-row","theme-text-color"],[3,"class","ngClass"],[1,"headline-mobile-device","visible-xs","hidden-sm","hidden-md","hidden-lg"],["colspan","2"],[1,"row","col-xs-12"],[3,"ngClass","class"],["data-qa","label-rates",1,"dynamic-select-table-cell","theme-text-color","title-row"],["data-qa","rate",3,"ngClass","class"],["data-qa","label-service-fees",1,"dynamic-select-table-cell","theme-text-color","title-row"],["data-qa","service-fee",3,"ngClass","class"],["data-qa","label-delivery-fees",1,"dynamic-select-table-cell","theme-text-color","title-row"],["data-qa","delivery-fee",3,"ngClass","class"],["data-qa","label-totals",1,"dynamic-select-table-cell","theme-text-color","title-row"],["data-qa","total",3,"ngClass","class"],[1,"card-paragraph","theme-text-light-color"],["type","button",1,"btn","btn-link","link",3,"click","tabIndex"],[1,"icon","no-margin-left",3,"ngClass"],["data-qa","toggle-more-information",1,"btn-text","theme-text-variant-color"],["data-qa","detailed-information",1,"card-paragraph","theme-text-variant-color"],["data-qa","standard-information",1,"card-paragraph","theme-text-variant-color"],[1,"form","validation",3,"formGroup"],["data-qa","account-holder-name"],["data-qa","label",3,"isOptional","tabIndexToUse"],[1,"row"],[1,"col-xs-12"],["formControlName","accountHolder","type","text","id","accountHolder","name","accountHolder","data-qa","input",1,"form-control","theme-text-color",3,"tabIndex"],[3,"field"],["data-qa","account-holder-iban"],["formControlName","iban","type","text","id","iban","name","iban","data-qa","input",1,"form-control","theme-text-color",3,"tabIndex"],[3,"parentForm","converterConfig","tabIndexToUse"],["data-qa","account-holder-birthday"],["formControlName","birthday","data-qa","input",3,"field","dateFormat","tabIndexToUse"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","checkbox","formControlName","billpayConditionsCheck","evFormsCheckboxOnEnter","","data-qa","input-conditions-checkbox",1,"checkbox-input",3,"tabIndex","id"],[1,"theme-text-color","label",3,"for"],["data-qa","label-conditions-checkbox"],["data-link","popup","target","_blank",1,"link",3,"tabIndex","href"],["data-qa","error-checkbox",1,"error"],[3,"ngClass"],["type","radio",3,"click","id","tabIndex","checked"],["data-qa","option",1,"theme-text-color","label",3,"for"],["type","hidden","value","0",3,"click","tabIndex","checked"],["data-qa","rate",3,"ngClass"],["data-qa","service-fee",3,"ngClass"],["data-qa","delivery-fee",3,"ngClass"],["data-qa","total",3,"ngClass"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"ev-billpay-fingerprint",1),J(2,cwe,107,85,"div",2),g()),n&2&&(d(),C("affiliate",r.affiliate.code)("sessionId",r.sessionId)("fpId",r.accordionItem.returnValue.preAuthData.parameter.Fingerprinting_1),d(),$(r.installmentData?2:-1))},dependencies:[At,Ai,id,mr,d1,cA,xi,jr,ZC,Rr,Pn,wn,_o,zM,XM,Su,c1,Se],encapsulation:2})}return t})();function uwe(t,i){if(t&1&&(h(0,"div",1)(1,"ev-notification",4)(2,"span",5),R(3),H(4,"translate"),g()()()),t&2){let e=y();d(),C("type",e.NotificationType.Warning),d(2),ne(" ",j(4,2,e.Message.CHECKOUT_APP_INSTALLMENTS_ONE_INSTALLMENT_WARNING)," ")}}var wA=(()=>{class t{Message=K;NotificationType=rn;installmentSelectOptions;installmentsField;tabIndexToUse;set installmentJson(e){this._installmentJson=e,this.hasOnlyOneInstallment()&&(this.installmentsField.control.setValue(this.installmentJson.installments[0].monthlyPayment),this.publishSelection())}get installmentJson(){return this._installmentJson}onInstallmentSelection=new Jt;_installmentJson;hasOnlyOneInstallment(){return ce.isObject(this.installmentJson)&&Dt.isNotEmpty(this.installmentJson.installments)&&this.installmentJson.installments.length===1}publishSelection(){this.onInstallmentSelection.emit(this.getSelectedInstallment())}getSelectedInstallment(){return ee.isNotEmpty(this.installmentsField.control.value)&&ce.isObject(this.installmentJson)&&Dt.isNotEmpty(this.installmentJson.installments)?this.installmentJson.installments.find(e=>e.monthlyPayment===this.installmentsField.control.value):null}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-installments-select-field"]],inputs:{installmentSelectOptions:"installmentSelectOptions",installmentsField:"installmentsField",tabIndexToUse:"tabIndexToUse",installmentJson:"installmentJson"},outputs:{onInstallmentSelection:"onInstallmentSelection"},standalone:!1,decls:6,vars:4,consts:[[1,"row"],[1,"col-xs-12"],[1,"col-xs-12","margin-top-m","margin-bottom-m"],[3,"onSelectionChange","groups","field","tabIndexToUse"],[3,"type"],["data-qa","only-one-installment-warning"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2)(4,"ev-forms-select-field",3),Ee("onSelectionChange",function(){return r.publishSelection()}),g()(),J(5,uwe,5,4,"div",1),g()()()),n&2&&(d(4),C("groups",r.installmentSelectOptions)("field",r.installmentsField)("tabIndexToUse",r.tabIndexToUse),d(),$(r.hasOnlyOneInstallment()?5:-1))},dependencies:[w0,On,Se],encapsulation:2})}return t})();function pwe(t,i){if(t&1){let e=Je();h(0,"form",3)(1,"ev-installments-select-field",4),Ee("onInstallmentSelection",function(r){Ne(e);let o=y();return Re(o.handleSelection(r))}),g()()}if(t&2){let e=y();C("formGroup",e.form.control),d(),C("installmentSelectOptions",e.installmentSelectOptions)("installmentsField",e.installmentsField)("installmentJson",e.installmentJson)("tabIndexToUse",e.tabIndexToUse)}}var sne=(()=>{class t extends YM{checkoutResource=E(Wl);log=E(bt);webshopCookieService=E(_i);translateLoaderService=E(ti);accordionItem;paymentPage;onUnhandledError=new Jt;installmentSelectOptions=[];installmentsField;installmentJson;tabIndexToUse=-1;form;payload;selectedInstallmentNumber;selectedInstallmentAmount;selectedInterestFeeAmount;subscriptions=[];ngOnInit(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.createForm(),this.getInstallmentsForForm(),this.subscriptions.push(this.registerOnSubmitEvent()),this.subscriptions.push(this.registerOnSubmitError()),this.subscriptions.push(this.registerAccordionItemListener())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}handleSelection(e){this.selectedInstallmentNumber=e.terms,this.selectedInstallmentAmount=e.monthlyPaymentRaw,this.selectedInterestFeeAmount=e.interestFeeAmountRaw!==void 0?e.interestFeeAmountRaw:0}createForm(){this.installmentsField=new Gt({type:Mt.Select,fieldName:"installmentsSelectField",mandatory:!0,value:""}),this.form=new vn("braintreeCreditCardInstallmentsForm",[this.installmentsField]),this.accordionItem.formGroup=this.form.control}getPaymentSubmitData(){return{type:this.accordionItem.returnValue.type,subtype:this.accordionItem.returnValue.subType,externalPayment:{installmentNumber:this.selectedInstallmentNumber,installmentAmount:this.selectedInstallmentAmount,interestFeeAmount:this.selectedInterestFeeAmount}}}registerOnSubmitEvent(){return this.accordionItem.onSubmit().subscribe(()=>{this.accordionItem.submitData=this.getPaymentSubmitData()})}hasPayload(){return ce.isObject(this.payload)}buildInstallments(e){let n=[],r=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INSTALLMENTS_ITEM),o=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INSTALLMENTS_ITEMS);e.forEach(s=>{let c,v=s.monthlyPayment,b="";if(s.terms===1?c=r:c=o,s.interestFeeAmount!==void 0){let x=this.webshopCookieService.get(qi.locale).split("_"),k=`${x[0]}-${x[1].toUpperCase()}`,O=s.interestFeePercentage.toLocaleString(k,{minimumFractionDigits:2});v=s.monthlyPaymentWithInterestFee,b=` ${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INSTALLMENTS_INTEREST_FEE).replace("[percentualAmount]",O).replace("[amount]",s.interestFeeAmount)}`}n.push({label:`${s.terms} ${c} ${v}${b}`,value:s.monthlyPayment})}),this.installmentSelectOptions.push({items:n})}handleError(e){this.onUnhandledError.emit(e)}getInstallmentsForForm(){ce.isObject(this.paymentPage)&&(this.payload={paymentMethodId:this.accordionItem.returnValue.id}),ce.hasProperty(this.paymentPage,"order.orderNumber")&&this.hasPayload()?this.checkoutResource.getPayPalInstallments(this.paymentPage.order.orderNumber,this.payload).subscribe(e=>{this.installmentJson=e,this.buildInstallments(e.installments)},()=>{this.log.error(new Error("Agreement-Error!"),"paypal braintree creditcard"),this.handleError()}):(this.log.error(new Error("Missing Payload!"),"paypal braintree creditcard"),this.handleError())}registerOnSubmitError(){return this.accordionItem.onError().pipe(Yt(e=>e!==null)).subscribe(e=>{this.onUnhandledError.emit(e)})}registerAccordionItemListener(){return this.accordionItem.onClick().subscribe(e=>{switch(e){case Ps.Close:this.tabIndexToUse=-1;break;case Ps.Open:this.tabIndexToUse=0;break;default:return}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-braintree-credit-card"]],inputs:{accordionItem:"accordionItem",paymentPage:"paymentPage"},outputs:{onUnhandledError:"onUnhandledError"},standalone:!1,features:[dt],decls:4,vars:1,consts:[["content",""],["data-qa","braintree-credit-card",1,"col-xs-12","margin-top-m"],[3,"ngTemplateOutlet"],[1,"form","validation",3,"formGroup"],[3,"onInstallmentSelection","installmentSelectOptions","installmentsField","installmentJson","tabIndexToUse"]],template:function(n,r){if(n&1&&(h(0,"div",1),ci(1,2),g(),J(2,pwe,2,5,"ng-template",null,0,vi)),n&2){let o=Fn(3);d(),C("ngTemplateOutlet",o)}},dependencies:[hr,xi,Pn,wn,wA],encapsulation:2})}return t})();function fwe(t,i){if(t&1){let e=Je();h(0,"ev-billpay",3),Ee("onComponentError",function(r){Ne(e);let o=y(2);return Re(o.showComponentError(r))}),g()}if(t&2){let e=y(2);C("accordionItem",e.accordionItem)("customer",e.paymentPageJson.customer)("sessionId",e.sessionId)}}function hwe(t,i){if(t&1){let e=Je();h(0,"ev-billpay-pay-later",3),Ee("onComponentError",function(r){Ne(e);let o=y(2);return Re(o.onComponentError.emit(r))}),g()}if(t&2){let e=y(2);C("accordionItem",e.accordionItem)("customer",e.paymentPageJson.customer)("sessionId",e.sessionId)}}function gwe(t,i){if(t&1){let e=Je();h(0,"ev-braintree-credit-card",4),Ee("onUnhandledError",function(r){Ne(e);let o=y(2);return Re(o.handleError(r))}),g()}if(t&2){let e=y(2);C("paymentPage",e.paymentPageJson)("accordionItem",e.accordionItem)}}function vwe(t,i){if(t&1&&J(0,fwe,1,3,"ev-billpay",1)(1,hwe,1,3,"ev-billpay-pay-later",1)(2,gwe,1,2,"ev-braintree-credit-card",2),t&2){let e=y();$(e.isBillpay(e.accordionItem)?0:-1),d(),$(e.isBillpayPayLater(e.accordionItem)?1:-1),d(),$(e.isBraintreeCreditCard(e.accordionItem)?2:-1)}}function _we(t,i){if(t&1){let e=Je();h(0,"ev-simple-payment-method",5),Ee("onUnhandledError",function(r){Ne(e);let o=y();return Re(o.handleError(r))}),g()}if(t&2){let e=y();C("accordionItem",e.accordionItem)("pageContext",e.paymentPageJson.page)}}var lne=(()=>{class t extends YM{moaService=E(jo);accordionItem;paymentPageJson;sessionId;onComponentError=new Jt;onUnhandledError=new Jt;isBillpay(e){return e!==void 0&&ce.isObject(e.returnValue)&&e.returnValue.type===Wt.External&&e.returnValue.subType===si.Billpay}isBillpayPayLater(e){return e!==void 0&&ce.isObject(e.returnValue)&&e.returnValue.type===Wt.External&&e.returnValue.subType===si.BillpayPayLater}isBraintreeCreditCard(e){return this.moaService.isRunningInMoa()&&!this.moaService.hasFeature(Gl.BRAINTREE_CREDIT_CARD)?!1:e!==void 0&&ce.isObject(e.returnValue)&&e.returnValue.type===Wt.External&&e.returnValue.subType===si.BraintreeCreditCard}showComponentError(e){this.onComponentError.emit(e)}handleError(e){this.onUnhandledError.emit(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-external-payment-method"]],inputs:{accordionItem:"accordionItem",paymentPageJson:"paymentPageJson",sessionId:"sessionId"},outputs:{onComponentError:"onComponentError",onUnhandledError:"onUnhandledError"},standalone:!1,features:[dt],decls:2,vars:1,consts:[[3,"accordionItem","pageContext"],[3,"accordionItem","customer","sessionId"],[3,"paymentPage","accordionItem"],[3,"onComponentError","accordionItem","customer","sessionId"],[3,"onUnhandledError","paymentPage","accordionItem"],[3,"onUnhandledError","accordionItem","pageContext"]],template:function(n,r){n&1&&J(0,vwe,3,3)(1,_we,1,2,"ev-simple-payment-method",0),n&2&&$(r.isBillpay(r.accordionItem)||r.isBillpayPayLater(r.accordionItem)||r.isBraintreeCreditCard(r.accordionItem)?0:1)},dependencies:[Qte,nne,one,sne],encapsulation:2})}return t})();function ywe(t,i){t&1&&(D(0,"ev-pl-spinner",4),h(1,"p",5),R(2," Klarna is being loaded... "),g()),t&2&&C("small",!0)("visible",!0)("transparency",!1)}function Ewe(t,i){if(t&1&&(J(0,ywe,3,3),D(1,"div",3)),t&2){let e=y();$(e.showLoadingSpinner?0:-1),d(),Xt("id",e.klarnaContainerId)}}var cne=(()=>{class t extends nb{#e=E(bt);#t=E(BM);#n=E(JT);#i=E(_h);#r=E(Sn);#o=E(Gn);#a=E(Tn);#s=E(fn);#l=E(tr);document=E(Ot);pageJson;showPaymentMethods=!0;onComponentError=new Jt;onUnhandledError=new Jt;disableSubmitButton=new Jt;setTimeoutActive=new Jt;isSelected=!1;paymentMethodSubtype;klarnaContainerId="";showLoadingSpinner=!0;destroyRef=E(Oi);#c=3e4;#d=1e4;#u;#p;#m=[];#f;#g;#h;ngOnInit(){super.ngOnInit(),this.accordionItem.additionalData={instantSubmitAllowed:!1},this.showPaymentMethods&&(this.setupComponent(),this.injectKlarnaToPaymentPage().then(()=>{this.#m.push(this.observeAffiliate()),this.#m.push(this.onSubmitEvent()),this.#m.push(this.onSubmitError()),this.#m.push(this.onPaymentSelection()),(this.accordionItem.isInitiallyExpanded||this.accordionItem.returnValue?.id&&this.isSelected)&&this.handleKlarnaSession(this.pageJson.order.orderNumber,Number(this.accordionItem.id.split("_")[0]))}).catch(()=>{this.disableAllKlarnaPaymentMethods()}))}ngOnDestroy(){this.#m.forEach(e=>{e.unsubscribe()})}onPaymentSelection(){return this.#t.observeSelectedPaymentMethod().pipe(Yt(e=>e?.id===this.accordionItem.returnValue?.id)).subscribe(e=>{this.handleKlarnaSession(this.pageJson.order.orderNumber,e.id)})}authorization(e){return new Ki(n=>{this.#l.Klarna.Payments.authorize({payment_method_category:e,auto_finalize:!1},this.#n.getDataForAuthorization(this.pageJson,this.#h,!0),r=>!r.approved||!r.show_form?(this.#e.error(new Error("- authorize request failed"),"Klarna"),this.#o.hide(),r.show_form||this.disablePaymentMethod(),n.error(r)):(r.finalize_required?this.#e.trace(new Error("- finalize request needed later on"),"Klarna"):this.#e.trace(new Error("- finalize request NOT needed later on"),"Klarna"),this.#s.set(ut.KLARNA_AUTH_DATA,r),this.#e.trace(new Error("- authorized"),"Klarna"),n.next(r)))})}setupComponent(){this.accordionItem.isInitiallyExpanded&&(this.tabIndexToUse=0),this.paymentMethodSubtype=this.accordionItem.returnValue.subType,this.klarnaContainerId=this.#n.getKlarnaContainerId(this.paymentMethodSubtype),this.#f=this.#n.getIdentifierForSubtype(this.paymentMethodSubtype)}injectKlarnaToPaymentPage(){return new Promise((e,n)=>{if(document.getElementById(this.#n.getLibScriptId()))e();else try{let r=document.createElement("script");r.src="https://x.klarnacdn.net/kp/lib/v1/api.js",r.id=this.#n.getLibScriptId(),r.async=!0,document.body.appendChild(r),r.onload=()=>{this.#e.trace(new Error("Klarna Library loaded"),"Klarna"),e()}}catch{this.#e.error(new Error("Klarna Library could not be loaded"),"Klarna"),n()}})}handleKlarnaSession(e,n){this.startDisablePaymentMethodsTimeout(this.#c),this.disableSubmitButton.emit(!0);let r=(o=10)=>{window.Klarna?this.initializeKlarna(e,n):o>0?setTimeout(()=>r(o-1),100):(this.disablePaymentMethod(),this.#e.error(new Error("Klarna is not defined.")))};r()}initializeKlarna(e,n){this.#m.push(this.#n.getKlarnaInitData(e,n).pipe(An(r=>this.#g=r)).subscribe(()=>{if(this.#n.isSubtypeAvailable(this.#g.klarnaPaymentMethodCategories,this.#f))try{this.#l.Klarna.Payments.init({client_token:this.#g.clientToken}),this.loadKlarnaWidget(this.#f),this.accordionItem.preAuth=this.authorization(this.#f)}catch(r){this.disablePaymentMethod(),this.#e.error(r,"Klarna Session")}else setTimeout(()=>{this.disablePaymentMethod(),ce.isObject(this.#g)&&Dt.isEmpty(this.#g.klarnaPaymentMethodCategories)?this.#e.error(new Error("No klarna categories configured or available.")):this.#e.error(new Error(`Klarna with subtype ${this.#f} unavailable.`))})},()=>{this.disablePaymentMethod(),this.#e.error(new Error("Fetching klarna session failed!"))}))}loadKlarnaWidget(e){this.clearAllKlarnaTimeouts(),this.startRenderKlarnaTimeout(this.#d),this.#l.Klarna.Payments.load({container:`#${this.klarnaContainerId}`,payment_method_category:e},this.#n.getDataForAuthorization(this.pageJson,this.#h,!1),n=>{this.clearAllKlarnaTimeouts(),n.show_form?(this.disableSubmitButton.emit(!1),this.showLoadingSpinner=!1):this.disablePaymentMethod()})}onSubmitEvent(){return this.accordionItem.onSubmit().subscribe(()=>{this.accordionItem.submitData={type:this.accordionItem.returnValue.type,subtype:this.accordionItem.returnValue.subType}})}showErrorOnPaymentPage(e){this.#e.debug(new Error(e),"Klarna"),this.onComponentError.emit(e)}observeAffiliate(){return this.#a.observeAffiliate().subscribe(e=>this.#h=e)}onSubmitError(){return this.accordionItem.onError().pipe(An(e=>{e===null&&(this.unhandledErrorMessage=null)}),Yt(e=>e!==null)).subscribe(e=>{!e.approved&&!e.show_form&&this.disablePaymentMethod()})}disablePaymentMethod(){this.clearAllKlarnaTimeouts(),this.#i.disablePaymentMethod(Wt.Klarna,this.paymentMethodSubtype),this.showErrorOnPaymentPage(this.#r.instant(K.CHECKOUT_APP_KLARNA_PAYMENT_METHOD_NOT_AVAILABLE)),this.accordionItem.showItem.set(!1)}disableAllKlarnaPaymentMethods(){this.clearAllKlarnaTimeouts(),this.pageJson.paymentMethods.filter(e=>e.type===Wt.Klarna).forEach(e=>{this.#i.disablePaymentMethod(e.type,e.subType)}),this.accordionItem.showItem.set(!1),this.showErrorOnPaymentPage(this.#r.instant(K.CHECKOUT_APP_KLARNA_PAYMENT_METHOD_NOT_AVAILABLE))}startDisablePaymentMethodsTimeout(e){this.#u!==null&&clearTimeout(this.#u),this.#u=setTimeout(()=>{this.disablePaymentMethod(),this.#e.error(new Error(`Klarna "${this.accordionItem?.returnValue.trackingName}" (${this.accordionItem?.returnValue.id}) timed out!`),"Klarna")},e),this.setTimeoutActive.emit(this.#u)}startRenderKlarnaTimeout(e){this.#p!==null&&clearTimeout(this.#p),this.#p=setTimeout(()=>{this.disablePaymentMethod(),this.#e.error(new Error("Loading klarna-widget timed out!"))},e),this.setTimeoutActive.emit(this.#p)}clearAllKlarnaTimeouts(){this.#p!==null&&(clearTimeout(this.#p),this.#p=null),this.#u!==null&&(clearTimeout(this.#u),this.#u=null),this.setTimeoutActive.emit(null)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-klarna"]],inputs:{pageJson:"pageJson",showPaymentMethods:"showPaymentMethods",isSelected:"isSelected"},outputs:{onComponentError:"onComponentError",onUnhandledError:"onUnhandledError",disableSubmitButton:"disableSubmitButton",setTimeoutActive:"setTimeoutActive"},standalone:!1,features:[dt],decls:4,vars:1,consts:[["content",""],["data-qa","klarna",1,"col-xs-12","margin-top-m"],[3,"ngTemplateOutlet"],[2,"background-color","#fff",3,"id"],[3,"small","visible","transparency"],[1,"card-paragraph","theme-text-color","align-center","padding-top-s"]],template:function(n,r){if(n&1&&(h(0,"div",1),ci(1,2),g(),J(2,Ewe,2,2,"ng-template",null,0,vi)),n&2){let o=Fn(3);d(),C("ngTemplateOutlet",o)}},dependencies:[hr,Tc],encapsulation:2})}return t})();function bwe(t,i){if(t&1&&(h(0,"p",3),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Ae(j(2,1,e.bannerText))}}function Iwe(t,i){if(t&1&&D(0,"img",4),t&2){let e=y();Xt("src",e.bannerLogo,un)}}var dne=(()=>{class t{bannerParams;bannerText=ee.EMPTY_STRING;bannerLogo=ee.EMPTY_STRING;bannerBackground;ngOnInit(){ce.hasProperty(this.bannerParams,"text")&&(this.bannerText=this.bannerParams.text),ce.hasProperty(this.bannerParams,"logo")&&(this.bannerLogo=this.bannerParams.logo),ce.hasProperty(this.bannerParams,"backgroundColor")&&(this.bannerBackground={background:this.bannerParams.backgroundColor}),ce.hasProperty(this.bannerParams,"background")&&(this.bannerBackground={"background-image":`url(${this.bannerParams.background})`})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-page-banner"]],inputs:{bannerParams:"bannerParams"},standalone:!1,decls:5,vars:3,consts:[[1,"page-banner","row"],[1,"col-xs-12"],[1,"page-banner-background","theme-element-radius","margin-bottom-s",3,"ngStyle"],[1,"page-banner-text"],["alt","",1,"page-banner-logo",3,"src"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),J(3,bwe,3,3,"p",3)(4,Iwe,1,1,"img",4),g()()()),n&2&&(d(2),C("ngStyle",r.bannerBackground),d(),$(r.bannerText?3:-1),d(),$(r.bannerLogo?4:-1))},dependencies:[Ux,Se],encapsulation:2})}return t})();var ob=(()=>{class t{#e=E(mo);#t=E(Oi);#n=nn(null);emailFieldJson=this.#n.asReadonly();constructor(){this.#e.observePageJson([Cn.Summary]).pipe(zn(this.#t)).subscribe(e=>{this.#n.set(e?.customer?.contactData?.find(n=>n.fieldName===Ue.CustomerEmail)||e?.customer?.invoiceData?.find(n=>n.fieldName===Ue.CustomerEmail))})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xwe(t,i){if(t&1){let e=Je();h(0,"div",1),Ee("onReady",function(r){Ne(e);let o=y();return Re(o.isReady(r))}),g()}if(t&2){let e=y();C("hidden",!e.showContainer())("evFormsGcps",e.buildGcpsOptions(e.eviToken(),!0))}}var ZM=(()=>{class t extends Ov{#e=E(ob);eviToken=We();showEventDoubleOptInForm=sn(()=>this.isValidInput()&&ee.isNotEmpty(this.eviToken())&&ce.isObject(this.#e.emailFieldJson()));isReady(e){this.showContainer.set(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gcps-doi-marketing"]],inputs:{eviToken:[1,"eviToken"]},features:[dt],decls:1,vars:1,consts:[[3,"hidden","evFormsGcps"],[3,"onReady","hidden","evFormsGcps"]],template:function(n,r){n&1&&J(0,xwe,1,2,"div",0),n&2&&$(r.showEventDoubleOptInForm()?0:-1)},dependencies:[cM,D0],encapsulation:2})}return t})();function Pwe(t,i){if(t&1&&(h(0,"div",3)(1,"ev-forms-checkbox",5),ci(2,6),g(),h(3,"div",7),D(4,"ev-forms-field-error",8),g()()),t&2){let e=y(),n=Fn(5);C("formGroup",e.parentForm.control),d(),C("fieldName",e.eventOptIn==null?null:e.eventOptIn.choiceLinkId.toString())("value",!0),d(),C("ngTemplateOutlet",n),d(2),C("field",e.parentForm.getField(e.eventOptIn==null?null:e.eventOptIn.choiceLinkId.toString()))}}function kwe(t,i){if(t&1&&(h(0,"div",9)(1,"div",10),D(2,"input",11)(3,"label",12),g()(),h(4,"div",13),ci(5,6),g()),t&2){y();let e=Fn(5);d(5),C("ngTemplateOutlet",e)}}function wwe(t,i){if(t&1&&(h(0,"span",14),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventOptIn.name," ")}}function Dwe(t,i){if(t&1&&(J(0,wwe,2,1,"span",14),D(1,"span",15)),t&2){let e=y();$(e.eventOptIn.name?0:-1),d(),C("evCoreHtml",e.eventOptIn.description)}}function Owe(t,i){if(t&1&&(h(0,"div",4)(1,"h4",16),R(2),H(3,"translate"),g(),h(4,"a",17),R(5),H(6,"translate"),g()()),t&2){let e=y();d(2),Ae(j(3,3,e.Message.CHECKOUT_APP_SUMMARY_RESALE_CONDITIONS_LINK_HEADLINE)),d(2),Xt("href",e.resaleUrl,un),d(),Ae(j(6,5,e.Message.CHECKOUT_APP_SUMMARY_RESALE_CONDITIONS_LINK_LINKTEXT))}}var une=(()=>{class t{Message=K;eventOptIn;resaleUrl;parentForm;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-opt-in"]],inputs:{eventOptIn:"eventOptIn",resaleUrl:"resaleUrl",parentForm:"parentForm"},standalone:!1,decls:7,vars:2,consts:[["label",""],["data-qa","event-opt-in",1,"row"],[1,"col-xs-12","checkbox-group"],[3,"formGroup"],[1,"col-xs-12"],[3,"fieldName","value"],[3,"ngTemplateOutlet"],[1,"padding-left-xxxl","margin-left-xs"],[3,"field"],[1,"checkbox"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","checkbox","checked","","disabled","","data-qa","input",1,"checkbox-input"],["data-qa","label",1,"theme-text-color","label","disabled"],["data-qa","checkbox-label",1,"checkbox-label"],["data-qa","name",1,"display-block","u-font-weight-700"],["data-qa","description",1,"external-content",3,"evCoreHtml"],["data-qa","resaleConditionsHeader",1,"default-sub-headline"],["target","_blank","data-qa","resaleConditionsDownloadLink",1,"link",3,"href"]],template:function(n,r){n&1&&(h(0,"div",1)(1,"div",2),J(2,Pwe,5,5,"div",3)(3,kwe,6,1)(4,Dwe,2,2,"ng-template",null,0,vi),g(),J(6,Owe,7,7,"div",4),g()),n&2&&(d(2),$(r.parentForm?2:3),d(4),$(r.resaleUrl?6:-1))},dependencies:[hr,mr,ko,Pn,wn,xt,Se],encapsulation:2})}return t})();var Rwe=(t,i)=>i.id;function Mwe(t,i){if(t&1&&(h(0,"div",1),D(1,"ev-event-opt-in",2),g()),t&2){let e=i.$implicit,n=y();d(),C("eventOptIn",e)("resaleUrl",n.resaleUrl)("parentForm",n.parentForm)}}var e3=(()=>{class t{logService=E(bt);eventOptIns;parentForm;resaleUrl;ngOnInit(){this.parentForm!==void 0&&this.eventOptIns.forEach(e=>{e.choiceLinkId!==void 0?this.parentForm.set(new Gt({fieldName:e.choiceLinkId.toString(),type:Mt.Checkbox,mandatory:e.mandatory,value:!1},[new ir(K.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_NOT_ACCEPTED)])):this.logService.debug(new Error("No ChoiceLink-ID found"),"EventOptIns")})}optInsAreValid(){return ce.isObject(this.parentForm)&&this.parentForm.control.valid}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-opt-ins"]],inputs:{eventOptIns:"eventOptIns",parentForm:"parentForm",resaleUrl:"resaleUrl"},standalone:!1,decls:3,vars:0,consts:[["data-qa","event-opt-ins",1,"row"],[1,"col-xs-12"],[3,"eventOptIn","resaleUrl","parentForm"]],template:function(n,r){n&1&&(h(0,"div",0),ft(1,Mwe,2,3,"div",1,Rwe),g()),n&2&&(d(),ht(r.eventOptIns))},dependencies:[une],encapsulation:2})}return t})();var mne=(()=>{class t{transform(e){return`${e.replace(/(?:\r\n|\r|\n)/g,"<br>")}`}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Sa({name:"evNewlineToBr",type:t,pure:!0,standalone:!1})}return t})();function Lwe(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"evNewlineToBr"),g()),t&2){let e=y();C("extraStyleForContainer","margin-bottom-m"),d(),C("evCoreHtml",j(2,2,e.hintText))}}var ab=(()=>{class t{hintText;set event(e){this.hintText=e.priceCategory.specialHint}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-special-event-info"]],inputs:{event:"event"},standalone:!1,decls:1,vars:1,consts:[[3,"extraStyleForContainer"],[3,"evCoreHtml"]],template:function(n,r){n&1&&J(0,Lwe,3,4,"ev-notification",0),n&2&&$(r.hintText?0:-1)},dependencies:[xt,On,mne],encapsulation:2})}return t})();var Bwe=[[["","fee-label",""]],[["","fee-value",""]]],Uwe=["[fee-label]","[fee-value]"],sb=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-fee"]],standalone:!1,ngContentSelectors:Uwe,decls:5,vars:0,consts:[[1,"price-information"],["data-qa","label"],["data-qa","price"]],template:function(n,r){n&1&&(lo(Bwe),h(0,"div",0)(1,"span",1),Or(2),g(),h(3,"span",2),Or(4,1),g()())},encapsulation:2})}return t})();var Wr=function(t){return t.Birthday="birthday",t.Country="country",t.Nationality="nationality",t.Salutation="salutation",t.Gender="gender",t.Title="title",t.Lastname="lastName",t.Firstname="firstName",t.Street="street",t.ZipCode="zipCode",t.City="city",t.PhoneNumber="phoneNumber",t.IdNumber="idNumber",t.PoBoxZipCode="poBoxZipCode",t.PoBoxCity="poBoxCity",t.Email="email",t.MobilePhoneNumber="mobilePhoneNumber",t.FaxNumber="faxNumber",t.Province="province",t.FiscalCode="fiscalCode",t}(Wr||{});function $we(t,i){if(t&1&&(h(0,"div",0)(1,"span",1),R(2),H(3,"translate"),g(),h(4,"span",2),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,3,e.Message.CHECKOUT_APP_SUMMARY_PERSONALIZED_FOR)),d(3),Vi(" ",e.fields().get(e.TicketPersonalisationFieldName.Firstname)," ",e.fields().get(e.TicketPersonalisationFieldName.Lastname)," ")}}var t3=(()=>{class t{TicketPersonalisationFieldName=Wr;Message=K;#e=new Set([Wr.Firstname,Wr.Lastname]);affiliate=We.required();ticket=We.required();fields=sn(()=>{let e=new Map;return this.ticket().personalisation!==void 0&&this.ticket().personalisation.filter(n=>this.#e.has(n.fieldName)).forEach(n=>{e.set(n.fieldName,n.value)}),e});fieldHasFilledValue=sn(()=>Array.from(this.fields().values()).filter(e=>ee.isNotEmpty(e)).length>0);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-position-personalisation-name"]],inputs:{affiliate:[1,"affiliate"],ticket:[1,"ticket"]},decls:1,vars:1,consts:[["data-qa","personalisation-information",1,"view-shopping-cart-personalization"],["data-qa","label"],["data-qa","name-group"]],template:function(n,r){n&1&&J(0,$we,6,5,"div",0),n&2&&$(r.fields().size>0&&r.fieldHasFilledValue()?0:-1)},dependencies:[oi,Se],encapsulation:2})}return t})();function Vwe(t,i){if(t&1&&(h(0,"div",6)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",11),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_GIFT_INFORMATION_BUYER_NAME_LABEL),": "),d(3),ne(" ",e.giftInformation.buyerName," ")}}function jwe(t,i){if(t&1&&(h(0,"div",7)(1,"span",12),R(2),H(3,"translate"),g(),h(4,"span",13),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_NAME_LABEL),": "),d(3),ne(" ",e.giftInformation.recipientName," ")}}function Gwe(t,i){if(t&1&&(h(0,"div",8)(1,"span",14),R(2),H(3,"translate"),g(),h(4,"span",15),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_EMAIL_LABEL),": "),d(3),ne(" ",e.giftInformation.recipientEmail," ")}}function Kwe(t,i){if(t&1&&(h(0,"div",9)(1,"span",16),R(2),H(3,"translate"),g(),h(4,"span",17),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_GIFT_INFORMATION_PERSONAL_NOTE_LABEL),": "),d(3),ne(" ",e.giftInformation.personalNote," ")}}var n3=(()=>{class t{Message=K;deliveryOption;giftInformation;ticket;deliveryInfo;ngOnInit(){this.hasGiftInformation()?(this.deliveryOption=K.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION_EMAIL,this.giftInformation=this.ticket.giftInformation):this.isPrintable()?this.deliveryOption=K.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION_PRINT:this.deliveryOption=this.deliveryInfo.name}hasGiftInformation(){return this.ticket.giftInformation!==void 0}hasBuyerName(){return this.hasGiftInformation()&&ee.isNotEmpty(this.giftInformation.buyerName)}hasRecipientName(){return this.hasGiftInformation()&&ee.isNotEmpty(this.giftInformation.recipientName)}hasRecipientEmail(){return this.hasGiftInformation()&&ee.isNotEmpty(this.giftInformation.recipientEmail)}hasPersonalNote(){return this.hasGiftInformation()&&ee.isNotEmpty(this.giftInformation.personalNote)}isPrintable(){return ce.isObject(this.deliveryInfo)?this.deliveryInfo.type===ui.TICKETDIRECT||this.deliveryInfo.type===ui.MOBILE:!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-voucher-information"]],inputs:{ticket:"ticket",deliveryInfo:"deliveryInfo"},standalone:!1,decls:14,vars:10,consts:[["data-qa","voucher-information",1,"row"],[1,"col-xs-12"],[1,"view-shopping-cart-voucher-information"],["data-qa","delivery-option"],["data-qa","delivery-option-label"],["data-qa","delivery-option-value"],["data-qa","buyer-name"],["data-qa","recipient-name"],["data-qa","recipient-email"],["data-qa","personal-note"],["data-qa","buyer-name-label"],["data-qa","buyer-name-value"],["data-qa","recipient-name-label"],["data-qa","recipient-name-value"],["data-qa","recipient-email-label"],["data-qa","recipient-email-value"],["data-qa","personal-note-label"],["data-qa","personal-note-value"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"span",4),R(5),H(6,"translate"),g(),h(7,"span",5),R(8),H(9,"translate"),g()(),J(10,Vwe,6,4,"div",6)(11,jwe,6,4,"div",7)(12,Gwe,6,4,"div",8)(13,Kwe,6,4,"div",9),g()()()),n&2&&(d(5),ne(" ",j(6,6,r.Message.CHECKOUT_APP_GIFT_INFORMATION_DELIVERY_OPTION),": "),d(3),ne(" ",j(9,8,r.deliveryOption)," "),d(2),$(r.hasBuyerName()?10:-1),d(),$(r.hasRecipientName()?11:-1),d(),$(r.hasRecipientEmail()?12:-1),d(),$(r.hasPersonalNote()?13:-1))},dependencies:[Se],encapsulation:2})}return t})();var i3=(()=>{class t{priceCategory;ticket;isSeatInformationVisible(){return this.priceCategory.type===So.Ticket||this.priceCategory.type===So.Other}isRepersonalizationTicket(){return this.priceCategory.bookingType===od.REPERSONALIZATION}showDiscountLevel(){return this.priceCategory.type!==So.Voucher}hasSeatInformation(e){return e.seatInformation!==ee.EMPTY_STRING||e.row!==ee.EMPTY_STRING||e.seat!==ee.EMPTY_STRING}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{priceCategory:"priceCategory",ticket:"ticket"}})}return t})();var r3=(()=>{class t{ticket;hasFees(){return this.ticket.feeValues!==void 0||this.ticket.flexibleTicketFee!==void 0}getOrderPositionFees(e){let n=e.feeValues,r=[];return n!==void 0&&Object.keys(n).forEach(o=>{o.length>0&&r.push({label:o,value:n[o]})}),r}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{ticket:"ticket"}})}return t})();function qwe(t,i){if(t&1&&(h(0,"div",1)(1,"span",3),R(2),g(),h(3,"span",4),R(4),g()()),t&2){let e=i.$implicit;d(2),Ae(e.label),d(2),Ae(e.value)}}function Wwe(t,i){if(t&1&&(h(0,"div",2)(1,"div",5)(2,"span",6),R(3),g(),h(4,"span",7),R(5),g()()()),t&2){let e=y(2);d(3),Ae(e.ticket.flexibleTicketFee.feeName),d(2),Ae(e.ticket.flexibleTicketFee.feeValue)}}function zwe(t,i){if(t&1&&(h(0,"div",0),ft(1,qwe,5,2,"div",1,ri),J(3,Wwe,6,2,"div",2),g()),t&2){let e=y();d(),ht(e.orderPositionFees),d(2),$(e.ticket.flexibleTicketFee?3:-1)}}var j$=(()=>{class t extends r3{document=E(Ot);orderPositionFees=[];ngOnInit(){this.orderPositionFees=this.getOrderPositionFees(this.ticket)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-order-position-fees-summary"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","order-position-fees",1,"row"],["data-qa","order-position-fee",1,"list","theme-text-color"],["data-qa","flexible-fee"],["data-qa","fee-label",1,"col-xs-8","card-prevent-overlaps"],["data-qa","fee-price",1,"col-xs-4","text-right","text-nowrap"],[1,"list","theme-text-color"],["data-qa","flexible-fee-label",1,"col-xs-8","card-prevent-overlaps"],["data-qa","flexible-fee-price",1,"col-xs-4","text-right","text-nowrap"]],template:function(n,r){n&1&&J(0,zwe,4,1,"div",0),n&2&&$(r.hasFees()?0:-1)},encapsulation:2})}return t})();var o3=(()=>{class t{static KEYS=["entrance","sector","seatInformation","row","table","seat"];seatInfo;seatInformation;getSeatInformation(e){let n=[];return t.KEYS.forEach(r=>{let o=e[r];typeof o=="string"&&o.length>0&&n.push({seatInfoKey:r,seatInfoValue:o})}),n}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{seatInfo:"seatInfo"}})}return t})();function Jwe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_ROW))}}function Xwe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_TABLE))}}function Qwe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_SEAT))}}function Zwe(t,i){if(t&1&&(h(0,"span"),J(1,Jwe,3,3,"span")(2,Xwe,3,3,"span")(3,Qwe,3,3,"span"),R(4),g()),t&2){let e=i.$implicit,n=i.$index,r=i.$count;d(),$(e.seatInfoKey==="row"?1:-1),d(),$(e.seatInfoKey==="table"?2:-1),d(),$(e.seatInfoKey==="seat"?3:-1),d(),Vi(" ",e.seatInfoValue,"",n===r-1?"":", "," ")}}function eDe(t,i){if(t&1&&(h(0,"div",3),R(1),g()),t&2){let e=y();d(),ne(" ",e.seatInfo.placeInformationShoppingCart," ")}}function tDe(t,i){if(t&1&&(h(0,"div",4),R(1),g()),t&2){let e=y();d(),ne(" ",e.seatInfo.placeInformationPopup," ")}}var I1=(()=>{class t extends o3{Message=K;ngOnInit(){this.seatInformation=this.getSeatInformation(this.seatInfo)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-seat-info-summary"]],standalone:!1,features:[dt],decls:8,vars:2,consts:[[1,"row"],[1,"col-xs-12"],["data-qa","seat-information",1,"theme-text-highlight-color","card-highlight"],["data-qa","place-information-shoppingcart",1,"theme-text-highlight-color","card-highlight"],["data-qa","place-information-popup",1,"theme-text-highlight-color","card-highlight"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),ft(3,Zwe,5,5,"span",null,ri),g()(),h(5,"div",1),J(6,eDe,2,1,"div",3)(7,tDe,2,1,"div",4),g()()),n&2&&(d(3),ht(r.seatInformation),d(3),$(r.seatInfo.placeInformationShoppingCart?6:-1),d(),$(r.seatInfo.placeInformationPopup?7:-1))},dependencies:[Se],encapsulation:2})}return t})();var nDe=["*"];function iDe(t,i){if(t&1&&R(0),t&2){let e=y(2);ne("",e.index+1,".")}}function rDe(t,i){if(t&1&&(h(0,"span",3),J(1,iDe,1,1),R(2),g()),t&2){let e=y();d(),$(e.inViewShoppingCart?1:-1),d(),ne(" ",e.priceCategory.name," ")}}function oDe(t,i){if(t&1&&(h(0,"span",4),R(1),g()),t&2){let e=y();d(),ne(", ",e.ticket.discountLevel,"")}}function aDe(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y();d(),Ae(e.ticket.price)}}function sDe(t,i){if(t&1&&(h(0,"div",6),D(1,"ev-seat-info-summary",8),g()),t&2){let e=y();d(),C("seatInfo",e.ticket)}}var S1=(()=>{class t extends i3{Message=K;index;inViewShoppingCart=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-event-price-summary"]],inputs:{index:"index",inViewShoppingCart:"inViewShoppingCart"},standalone:!1,features:[dt],ngContentSelectors:nDe,decls:9,vars:5,consts:[["data-qa","price-information",1,"row"],[1,"list","theme-text-color"],[1,"col-xs-8","card-prevent-overlaps"],["data-qa","price-category"],["data-qa","discount-level"],["data-qa","price",1,"col-xs-4","text-right","text-nowrap"],[1,"col-xs-12"],[3,"ticket"],[3,"seatInfo"]],template:function(n,r){n&1&&(lo(),h(0,"div",0)(1,"div",1)(2,"span",2),J(3,rDe,3,2,"span",3)(4,oDe,2,1,"span",4),g(),J(5,aDe,2,1,"span",5),g(),J(6,sDe,2,1,"div",6),g(),Or(7),D(8,"ev-order-position-fees-summary",7)),n&2&&(d(3),$(r.priceCategory.name?3:-1),d(),$(r.ticket.discountLevel&&r.showDiscountLevel()?4:-1),d(),$(r.ticket.priceInt>0||r.isRepersonalizationTicket()?5:-1),d(),$(r.isSeatInformationVisible()&&r.hasSeatInformation(r.ticket)?6:-1),d(2),C("ticket",r.ticket))},dependencies:[j$,I1],encapsulation:2})}return t})();var a3=(()=>{class t{packageItems;affiliate;getEventInformation(e){return Wa.convertPackageItem(e)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{packageItems:"packageItems",affiliate:"affiliate"}})}return t})();var s3=(()=>{class t{sportsService=E(ai);eventInformation;showNumberOfTickets=!0;affiliate;showRelevantEventImage=!0;hasAfterSalesBookingType=!1;showEventImage(){return this.eventInformation.hasImagePath()&&this.affiliate!==void 0}getEventImageSrc(){return dl.getEventImageSrc(this.eventInformation.imageType,this.eventInformation.imagePath,this.affiliate)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{eventInformation:"eventInformation",showNumberOfTickets:"showNumberOfTickets",affiliate:"affiliate",showRelevantEventImage:"showRelevantEventImage",hasAfterSalesBookingType:"hasAfterSalesBookingType"}})}return t})();var lDe=t=>({"col-xs-9":t}),cDe=(t,i)=>({"font-size-xl":t,"aftersales-flex":i}),dDe=(t,i)=>({"margin-top-xl":t,"no-margin-top":i});function uDe(t,i){if(t&1&&(h(0,"a",8),D(1,"img",9),g()),t&2){let e=y(2);C("href",e.eventInformation.getEventUrl(),un),d(),C("src",e.getEventImageSrc(),un)}}function pDe(t,i){if(t&1&&D(0,"img",9),t&2){let e=y(2);C("src",e.getEventImageSrc(),un)}}function mDe(t,i){if(t&1&&(h(0,"div",2)(1,"div",7),J(2,uDe,2,2,"a",8)(3,pDe,1,1,"img",9),g()()),t&2){let e=y();d(2),$(e.affiliate.callCenter?2:3)}}function fDe(t,i){t&1&&ci(0)}function hDe(t,i){if(t&1&&(h(0,"div"),J(1,fDe,1,0,"ng-container",10),g(),h(2,"div",11),R(3),g()),t&2){let e=y(),n=Fn(7);d(),C("ngTemplateOutlet",n),d(2),ne("",e.eventInformation.totalEventPrice()," ")}}function gDe(t,i){t&1&&ci(0)}function vDe(t,i){if(t&1&&(h(0,"div"),J(1,gDe,1,0,"ng-container",10),g()),t&2){y();let e=Fn(7);d(),C("ngTemplateOutlet",e)}}function _De(t,i){if(t&1&&(h(0,"span",13),R(1),g(),D(2,"i",14)),t&2){let e=y(2);d(),ne(" ",e.eventInformation.numberOfTickets," ")}}function CDe(t,i){if(t&1&&(J(0,_De,3,1),D(1,"ev-event-name",12)),t&2){let e=y();$(e.eventInformation.numberOfTickets?0:-1),d(),C("eventInformation",e.eventInformation)}}function yDe(t,i){if(t&1&&(h(0,"span",15),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.venueAddress," ")}}function EDe(t,i){if(t&1&&(h(0,"p",16),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.formattedEventDate," ")}}function TDe(t,i){if(t&1&&J(0,yDe,2,1,"span",15)(1,EDe,2,1,"p",16),t&2){let e=y();$(e.eventInformation.canShowVenueAddress()?0:-1),d(),$(e.eventInformation.canShowEventDate()?1:-1)}}function bDe(t,i){if(t&1&&(h(0,"p",17),R(1),g()),t&2){let e=y(2);C("ngClass",Un(2,dDe,!e.isSportsShop,e.isSportsShop)),d(),ne(" ",e.eventInformation.formattedEventDate," ")}}function IDe(t,i){if(t&1&&(h(0,"p",18),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.venueAddress," ")}}function SDe(t,i){if(t&1&&J(0,bDe,2,5,"p",17)(1,IDe,2,1,"p",18),t&2){let e=y();$(e.eventInformation.canShowEventDate()?0:-1),d(),$(e.eventInformation.canShowVenueAddress()?1:-1)}}function xDe(t,i){if(t&1&&(h(0,"p",6),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Vi(" ",j(2,2,e.Message.CHECKOUT_APP_PROMOTER),": ",e.eventInformation.promoter," ")}}var x1=(()=>{class t extends s3{Message=K;isSportsShop=!1;ngOnInit(){this.isSportsShop=this.sportsService.isSportsShop(this.affiliate)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-event-information-summary"]],standalone:!1,features:[dt],decls:12,vars:14,consts:[["eventTitle",""],["data-qa","event-information",1,"row","media"],[1,"col-xs-3","media-left","ticket-image"],[1,"media-body",3,"ngClass"],["data-qa","event-title",1,"media-heading","no-margin-top",3,"ngClass"],[1,"media-text","theme-text-color"],["data-qa","promoter",1,"card-paragraph","theme-text-variant-color"],["data-qa","event-image",1,"square-image"],[3,"href"],["alt","",1,"fluid-image",3,"src"],[4,"ngTemplateOutlet"],["data-qa","event-price",1,"ticket-price","main-ticket-card-price"],[3,"eventInformation"],["data-qa","number-of-tickets"],["title","x",1,"icon","icon-cross-old","mini-basket-cross"],["data-qa","venue-address"],["data-qa","event-date",1,"card-paragraph","theme-text-variant-color"],["data-qa","event-date",1,"card-paragraph","theme-text-variant-color","no-margin-bottom",3,"ngClass"],["data-qa","venue-address",1,"card-paragraph","theme-text-variant-color"]],template:function(n,r){n&1&&(h(0,"div",1),J(1,mDe,4,1,"div",2),h(2,"div",3)(3,"h5",4),J(4,hDe,4,2)(5,vDe,2,1,"div"),g(),J(6,CDe,2,2,"ng-template",null,0,vi),h(8,"div",5),J(9,TDe,2,2)(10,SDe,2,2)(11,xDe,3,4,"p",6),g()()()),n&2&&(d(),$(r.showEventImage()?1:-1),d(),Io("width",r.hasAfterSalesBookingType&&r.showEventImage()?"calc(100% - 94px)":void 0),C("ngClass",et(9,lDe,r.showEventImage())),d(),C("ngClass",Un(11,cDe,r.isSportsShop,r.hasAfterSalesBookingType)),d(),$(r.hasAfterSalesBookingType?4:5),d(5),$(r.isSportsShop?-1:9),d(),$(r.isSportsShop?10:-1),d(),$(r.eventInformation.canShowPromoter()?11:-1))},dependencies:[At,hr,Ch,Se],styles:[".aftersales-flex[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]})}return t})();var ADe=(t,i)=>i.platzId;function PDe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),D(3,"ev-event-information-summary",3)(4,"ev-seat-info-summary",4),g()()()),t&2){let e=i.$implicit,n=y();d(3),C("eventInformation",n.getEventInformation(e)),d(),C("seatInfo",e.seatInfo)}}var A1=(()=>{class t extends a3{Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-ticket-package-items-summary"]],standalone:!1,features:[dt],decls:2,vars:0,consts:[["data-qa","package-item",1,"row"],[1,"col-xs-12"],[1,"margin-left-xl"],[3,"eventInformation"],[3,"seatInfo"]],template:function(n,r){n&1&&ft(0,PDe,5,2,"div",0,ADe),n&2&&ht(r.packageItems)},dependencies:[x1,I1],encapsulation:2})}return t})();var kDe=["*"],wDe=t=>({"u-font-weight-600":t}),DDe=t=>({"margin-top-xs":t}),ODe=(t,i)=>({"margin-bottom-xs":t,"p-font-size-m-l":i}),NDe=(t,i)=>i.id;function RDe(t,i){if(t&1){let e=Je();h(0,"img",13),Ee("error",function(){Ne(e);let r=y();return Re(r.setFallbackImage())}),g()}if(t&2){let e=y();Xt("alt",e.event.eventName),C("src",e.imagePath,un)}}function MDe(t,i){if(t&1&&(h(0,"div",7),R(1),g()),t&2){let e=y();C("title",e.event.formattedEventDate),d(),ne("",e.event.formattedEventDate," ")}}function FDe(t,i){if(t&1&&(h(0,"div",8),R(1),H(2,"translate"),g()),t&2){let e=y();C("title",e.event.promoter),d(),Vi(" ",j(2,3,e.Message.CHECKOUT_APP_PROMOTER),": ",e.eventInformation.promoter," ")}}function LDe(t,i){if(t&1&&D(0,"ev-position-personalisation-name",16),t&2){let e=y(2).$implicit,n=y(2);C("ticket",e)("affiliate",n.affiliateJson())}}function BDe(t,i){if(t&1&&D(0,"ev-voucher-information",17),t&2){let e=y(2).$implicit,n=y(2);C("ticket",e)("deliveryInfo",n.deliveryInfo())}}function UDe(t,i){if(t&1&&D(0,"ev-ticket-package-items-summary",18),t&2){let e=y(2).$implicit,n=y(2);C("packageItems",e.packageItems)("affiliate",n.affiliateJson())}}function $De(t,i){if(t&1&&(h(0,"ev-event-price-summary",15),J(1,LDe,1,2,"ev-position-personalisation-name",16)(2,BDe,1,2,"ev-voucher-information",17),g(),J(3,UDe,1,2,"ev-ticket-package-items-summary",18)),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("ticket",n)("priceCategory",o.event.priceCategory)("index",r)("inViewShoppingCart",!0),d(),$(o.showPersonalisationInfo()&&o.hasPersonalisation()?1:-1),d(),$(o.event.priceCategory.type===o.EventType.Voucher&&o.deliveryInfo()?2:-1),d(),$(n.packageItems?3:-1)}}function HDe(t,i){if(t&1&&(h(0,"div",14),J(1,$De,4,7),g()),t&2){let e=i.$index,n=i.$count,r=y(2);C("ngClass",Un(2,ODe,e!==n-1,r.isSportsShop())),d(),$(r.showSeatingInformation()?1:-1)}}function VDe(t,i){if(t&1&&ft(0,HDe,2,5,"div",14,NDe),t&2){let e=y();ht(e.event.priceCategory.tickets)}}var l3=(()=>{class t{set event(e){this._event=e,this.eventInformation=Wa.convertEvent(e),this.eventTicketTypeLabel=this.getEventTicketTypeLabel()}get event(){return this._event}affiliateJson=We.required();deliveryInfo=We();showPersonalisationInfo=We(!1);showSeatingInformation=We(!1);isSportsShop=We(!1);hasAfterSalesBookingType=We(!1);imagePath;eventInformation;eventTicketTypeLabel;EventType=So;Message=K;eventTicketTypeLabelMap=new Map([[Ca.Ticket,K.CHECKOUT_APP_VIEW_SHOPPING_CART_TICKET_NUMBER],[Ca.Item,K.CHECKOUT_APP_VIEW_SHOPPING_CART_ITEM_NUMBER],[Ca.Reservation,K.CHECKOUT_APP_VIEW_SHOPPING_CART_RESERVATION_NUMBER],[Ca.Extras,K.CHECKOUT_APP_VIEW_SHOPPING_CART_EXTRA_NUMBER],[Ca.Other,K.CHECKOUT_APP_VIEW_SHOPPING_CART_ARTICLE_NUMBER],[Ca.Voucher,K.CHECKOUT_APP_VIEW_SHOPPING_CART_VOUCHER_NUMBER]]);_event;ngOnInit(){this.imagePath=dl.getEventImageSrc(this.event.imageType,this.event.imagePath,this.affiliateJson()),ee.isEmpty(this.imagePath)&&(this.imagePath=this.affiliateJson()?.fallbackImages?.event??"")}setFallbackImage(){this.imagePath!==this.affiliateJson()?.fallbackImages?.event?this.imagePath=this.affiliateJson()?.fallbackImages?.event??"":this.imagePath=""}getEventTicketTypeLabel(){return this.eventTicketTypeLabelMap.get(this.eventInformation.getEventTicketType())}hasPersonalisation(){return this.event.priceCategory.tickets.some(e=>e.personalisation)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-shopping-cart-position-information"]],inputs:{event:"event",affiliateJson:[1,"affiliateJson"],deliveryInfo:[1,"deliveryInfo"],showPersonalisationInfo:[1,"showPersonalisationInfo"],showSeatingInformation:[1,"showSeatingInformation"],isSportsShop:[1,"isSportsShop"],hasAfterSalesBookingType:[1,"hasAfterSalesBookingType"]},standalone:!1,ngContentSelectors:kDe,decls:21,vars:19,consts:[["data-qa","event-information",1,"shopping-cart-position"],["data-qa","event-image",1,"shopping-cart-position-image"],["width","100%",1,"u-border-radius-xs",3,"src","alt"],[1,"shopping-cart-position-description"],["data-qa","event-title",1,"shopping-cart-position-title",3,"ngClass","title"],[3,"eventInformation"],["data-qa","venue-address",1,"shopping-cart-position-subtitle",3,"title"],["data-qa","event-date",1,"shopping-cart-position-subtitle-without-line-clamp",3,"title"],["data-qa","promoter",1,"shopping-cart-position-subtitle","margin-top-m",3,"title"],[1,"u-font-weight-500",3,"ngClass"],["fee-label",""],["data-qa","number-of-tickets"],["fee-value",""],["width","100%",1,"u-border-radius-xs",3,"error","src","alt"],["data-qa","ticket",1,"margin-top-xs",3,"ngClass"],[3,"ticket","priceCategory","index","inViewShoppingCart"],[3,"ticket","affiliate"],[3,"ticket","deliveryInfo"],[3,"packageItems","affiliate"]],template:function(n,r){n&1&&(lo(),h(0,"div",0)(1,"div",1),J(2,RDe,1,2,"img",2),g(),h(3,"div",3)(4,"div",4),D(5,"ev-event-name",5),g(),h(6,"div",6),R(7),g(),J(8,MDe,2,2,"div",7)(9,FDe,3,5,"div",8),h(10,"div",9)(11,"ev-fee")(12,"span",10),R(13),H(14,"translate"),h(15,"span",11),R(16),g()(),h(17,"span",12),R(18),g()()()()(),J(19,VDe,2,0),Or(20)),n&2&&(d(2),$(r.imagePath?2:-1),d(2),C("ngClass",et(15,wDe,r.isSportsShop()))("title",r.event.eventName),d(),C("eventInformation",r.eventInformation),d(),C("title",r.event.venueAddress),d(),ne("",r.event.venueAddress," "),d(),$(r.eventInformation.canShowEventDate()?8:-1),d(),$(r.eventInformation.canShowPromoter()?9:-1),d(),C("ngClass",et(17,DDe,r.isSportsShop())),d(3),ne("",j(14,13,r.eventTicketTypeLabel)," "),d(3),Ae(r.event.numberOfTickets),d(2),Ae(r.event.totalEventPrice),d(),$(r.hasAfterSalesBookingType()?-1:19))},dependencies:[At,Ch,t3,n3,S1,A1,sb,Se],encapsulation:2})}return t})();var jDe=t=>({"padding-bottom-m bottom-separator":t}),GDe=(t,i)=>i.eventId;function KDe(t,i){if(t&1&&(h(0,"ev-toggle",1),H(1,"translate"),H(2,"translate"),ci(3,2),g()),t&2){let e=y(),n=Fn(3);C("showDetailsTitle",j(1,6,e.Message.CHECKOUT_APP_VIEW_SHOPPING_CART_TOGGLE_SHOW_SUMMARY))("hideDetailsTitle",j(2,8,e.Message.CHECKOUT_APP_VIEW_SHOPPING_CART_TOGGLE_HIDE_SUMMARY))("evClickTracking",e.getTrackingObject())("alignTitle","center")("expanded",e.checkExpanded()),d(3),C("ngTemplateOutlet",n)}}function qDe(t,i){if(t&1&&ci(0,2),t&2){y();let e=Fn(3);C("ngTemplateOutlet",e)}}function WDe(t,i){if(t&1&&(h(0,"h3",5),R(1),g()),t&2){let e=y().$implicit,n=y(3);d(),ne(" ",n.buildPackHeadline(e)," ")}}function zDe(t,i){if(t&1&&(h(0,"ev-fee",8)(1,"span",14),R(2),H(3,"translate"),g(),h(4,"span",15),R(5),g()()),t&2){let e=y().$implicit,n=y(3);d(2),Ae(j(3,2,n.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)),d(3),Ae(e.priceCategory.ticketInsuranceAmount)}}function YDe(t,i){if(t&1&&(h(0,"ev-fee",9)(1,"span",14),R(2),H(3,"translate"),h(4,"span",16),R(5),g()(),h(6,"span",15),R(7),g()()),t&2){let e=y().$implicit,n=y(3);d(2),ne(" ",j(3,3,n.Message.CHECKOUT_APP_VIEW_SHOPPING_CART_MEMORY_TICKET_NUMBER)," "),d(3),ne(" ",e.priceCategory.memoryTicketFee.count," "),d(2),Ae(e.priceCategory.memoryTicketFee.fee)}}function JDe(t,i){if(t&1&&(h(0,"ev-fee",10)(1,"span",14),R(2),H(3,"translate"),g(),h(4,"span",15),R(5),g()()),t&2){let e=y().$implicit,n=y(3);d(2),Ae(j(3,2,n.Message.CHECKOUT_APP_GIFTWRAP)),d(3),Ae(e.priceCategory.giftWrapAmount)}}function XDe(t,i){if(t&1&&D(0,"ev-event-opt-ins",11),t&2){let e=y().$implicit,n=y(3);C("eventOptIns",e.eventOptIns)("resaleUrl",e.resaleUrl)("parentForm",n.eventOptInForm())}}function QDe(t,i){if(t&1&&D(0,"ev-gcps-doi-marketing",12),t&2){let e=y().$implicit,n=y(3);C("customerForm",n.customerFormsJson())("eviToken",e.eviToken)}}function ZDe(t,i){t&1&&(h(0,"div",13),D(1,"hr",17),g())}function eOe(t,i){if(t&1&&(h(0,"div",4),J(1,WDe,2,1,"h3",5),D(2,"ev-special-event-info",6),h(3,"ev-shopping-cart-position-information",7),J(4,zDe,6,4,"ev-fee",8)(5,YDe,8,5,"ev-fee",9)(6,JDe,6,4,"ev-fee",10),g(),J(7,XDe,1,3,"ev-event-opt-ins",11)(8,QDe,1,2,"ev-gcps-doi-marketing",12)(9,ZDe,2,0,"div",13),g()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(3);d(),$(o.isSportsShop()&&o.affiliateJson().themingSettings.sportsPlatformStyles!==o.SportsPlatformStyles.MICO&&n===0?1:-1),d(),C("event",e),d(),C("affiliateJson",o.affiliateJson())("event",e)("showPersonalisationInfo",!0)("deliveryInfo",o.deliveryInfo())("showSeatingInformation",!0)("isSportsShop",o.isSportsShop()),Le("data-qa","event-type-"+e.priceCategory.type),d(),$(e.priceCategory.ticketInsuranceFeeInt>0?4:-1),d(),$((e.priceCategory.memoryTicketFee==null?null:e.priceCategory.memoryTicketFee.count)>0?5:-1),d(),$(e.priceCategory.giftWrapFeeInt>0?6:-1),d(),$(o.showEventOptIns()&&(e.eventOptIns==null?null:e.eventOptIns.length)>0?7:-1),d(),$(o.hasDoubleOptInMarketingOptIn(e.eviToken)?8:-1),d(),$(n!==r-1?9:-1)}}function tOe(t,i){if(t&1&&ft(0,eOe,10,15,"div",4,GDe),t&2){let e=i.$implicit;ht(e)}}function nOe(t,i){if(t&1&&(h(0,"h2",3),R(1),H(2,"translate"),g(),h(3,"div"),ft(4,tOe,2,0,null,null,ri),g()),t&2){let e=y();C("ngClass",et(6,jDe,e.isSportsShop())),d(),ne(" ",j(2,4,e.Message.CHECKOUT_APP_VIEW_SHOPPING_CART_HEADLINE)," "),d(2),xa(e.isSportsShop()?"padding-top-xxl":"padding-top-xl"),d(),ht(e.packages())}}var P1=(()=>{class t{#e=E(ai);events=We();affiliateJson=We();showEventOptIns=We(!1);showPackages=We(!1);eventOptInForm=We();hideContentBehindToggle=We(!0);trackingPage=We();deliveryInfo=We();isSportsShop=We(!1);customerFormsJson=We();SportsPlatformStyles=Qc;toggleComponent;packNumbers=nn(this.#e.getSportsPackNumbers());packages=sn(()=>[...this.packNumbers().map(n=>this.getEvents(n))]);Message=K;ngOnInit(){this.eventOptInForm()?.parent?.submitStateChanges.subscribe(e=>{e&&this.eventOptInForm().control.invalid&&this.toggleComponent&&(this.toggleComponent.expanded=!0)})}checkExpanded(){return this.showEventOptIns()&&this.events().some(e=>e.eventOptIns?.length>0)}getTrackingObject(){let e=this.toggleComponent?.state()?"expand":"collapse";return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:this.trackingPage(),navigation_element_selected:`order_details_${e}`},ga3ClickTrackingData:{category:"checkout",action:"show_summary_toggle",value:e}}}buildPackHeadline(e){return this.#e.buildSportsPackHeadline(e,this.packNumbers().length)}hasDoubleOptInMarketingOptIn(e){return ee.isNotEmpty(e)}getEvents(e){let n,r=[];this.#e.hasSportsPackEvents()&&e>0?n=this.#e.getSportsPackEvents(e):n=this.events();for(let[o,s]of n.entries())ee.isNotEmpty(s.eviToken)&&(r.includes(s.eventSeriesId)?n[o].eviToken=ee.EMPTY_STRING:r.push(s.eventSeriesId));return n}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-view-shopping-cart"]],viewQuery:function(n,r){if(n&1&&Qi(go,5),n&2){let o;Ni(o=Ri())&&(r.toggleComponent=o.first)}},inputs:{events:[1,"events"],affiliateJson:[1,"affiliateJson"],showEventOptIns:[1,"showEventOptIns"],showPackages:[1,"showPackages"],eventOptInForm:[1,"eventOptInForm"],hideContentBehindToggle:[1,"hideContentBehindToggle"],trackingPage:[1,"trackingPage"],deliveryInfo:[1,"deliveryInfo"],isSportsShop:[1,"isSportsShop"],customerFormsJson:[1,"customerFormsJson"]},standalone:!1,decls:4,vars:1,consts:[["viewShoppingCart",""],[3,"showDetailsTitle","hideDetailsTitle","evClickTracking","alignTitle","expanded"],[3,"ngTemplateOutlet"],["data-qa","headline",1,"inner-card-headline",3,"ngClass"],["data-qa","order-position"],[1,"p-order-pack-headline","margin-bottom-s"],[3,"event"],[3,"affiliateJson","event","showPersonalisationInfo","deliveryInfo","showSeatingInformation","isSportsShop"],["data-qa","ticket-insurance"],["data-qa","memory-ticket"],["data-qa","gift-wrap"],[3,"eventOptIns","resaleUrl","parentForm"],[3,"customerForm","eviToken"],[1,"card-separator-spacer","no-padding"],["fee-label",""],["fee-value",""],["data-qa","number-of-tickets"],["aria-hidden","true",1,"card-separator"]],template:function(n,r){n&1&&J(0,KDe,4,10,"ev-toggle",1)(1,qDe,1,1,"ng-container",2)(2,nOe,6,8,"ng-template",null,0,vi),n&2&&$(r.hideContentBehindToggle()?0:1)},dependencies:[At,hr,ho,ZM,go,e3,ab,sb,l3,Se],encapsulation:2})}return t})();function iOe(t,i){if(t&1&&(D(0,"ev-forms-formatter",2),H(1,"translate"),H(2,"evTaxesHintModalPopupPlacer")),t&2){let e=y();C("content",j(2,3,j(1,1,e.prices.taxesHintFormat)))}}function rOe(t,i){if(t&1&&(h(0,"div",5),D(1,"ev-forms-formatter",4),H(2,"translate"),H(3,"evTaxesHintModalPopupPlacer"),g()),t&2){let e=y();d(),C("content",j(3,3,j(2,1,e.prices.taxesHintFormat)))}}var lb=(()=>{class t extends qM{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-total-sum"]],standalone:!1,features:[dt],decls:8,vars:6,consts:[["data-qa","total-order-sum",1,"paired-list","mini-basket-totalsum","theme-text-color"],["data-qa","label",1,"paired-list-key"],["data-qa","taxes-hint",3,"content"],["data-qa","amount",1,"paired-list-value","price"],[3,"content"],["data-qa","taxes-hint",1,"mini-basket-taxes","theme-text-marginal-color"]],template:function(n,r){n&1&&(h(0,"dl",0)(1,"dt",1),R(2),H(3,"translate"),J(4,iOe,3,5,"ev-forms-formatter",2),g(),h(5,"dd",3),D(6,"ev-forms-formatter",4),g()(),J(7,rOe,4,5,"div",5)),n&2&&(d(2),ne(" ",j(3,4,r.prices.totalSumLabel)," "),d(2),$(r.showDiscreetTaxesHint?-1:4),d(2),C("content",r.prices.totalSumFormat),d(),$(r.showDiscreetTaxesHint?7:-1))},dependencies:[Zr,Se,tb],encapsulation:2})}return t})();function oOe(t,i){if(t&1&&(h(0,"ev-fee",0)(1,"span",10),R(2),H(3,"translate"),h(4,"span",11),R(5),g()(),h(6,"span",12),R(7),g()()),t&2){let e=y();d(2),ne(" ",j(3,3,e.Message.CHECKOUT_APP_VIEW_SHOPPING_CART_MEMORY_TICKET_NUMBER)," "),d(3),Ae(e.prices.memoryTicketCount),d(2),Ae(e.prices.memoryTicketFee)}}function aOe(t,i){if(t&1&&(h(0,"ev-fee",1)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.prices.getServiceFeeLabel())),d(3),Ae(e.prices.serviceFee)}}function sOe(t,i){if(t&1&&(h(0,"ev-fee",2)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),D(5,"ev-forms-formatter",13),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_COSTS)),d(3),C("content",e.prices.paymentFeeFormat)}}function lOe(t,i){if(t&1&&(h(0,"ev-fee",3)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_INTEREST_FEE_COST)),d(3),Ae(e.prices.interestFee)}}function cOe(t,i){if(t&1&&(h(0,"ev-fee",4)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)),d(3),Ae(e.prices.ticketInsuranceFee)}}function dOe(t,i){if(t&1&&(h(0,"ev-fee",5)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_DONATION)),d(3),Ae(e.prices.donationAmount)}}function uOe(t,i){if(t&1&&(h(0,"ev-fee",6)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_ORDER_FEE)),d(3),Ae(e.prices.orderFee)}}function pOe(t,i){if(t&1&&(h(0,"ev-fee",7)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),H(6,"translate"),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_DELIVERY_COST)),d(3),Ae(j(6,4,e.prices.deliveryFee))}}function mOe(t,i){if(t&1&&(h(0,"div",14),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}function fOe(t,i){if(t&1&&ft(0,mOe,2,1,"div",14,fr),t&2){let e=y();ht(e.prices.premiumFeeMessages)}}function hOe(t,i){if(t&1&&(h(0,"ev-fee",8)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),H(6,"translate"),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_DELIVERY_COST_MEMORY_TICKETS)),d(3),Ae(j(6,4,e.prices.deliveryFeeMemoryTickets))}}function gOe(t,i){if(t&1&&(h(0,"ev-fee",9)(1,"span",10),R(2),H(3,"translate"),g(),h(4,"span",12),R(5),H(6,"translate"),g()()),t&2){let e=y();d(2),Ae(j(3,2,e.prices.voucherAmountLabel)),d(3),Ae(j(6,4,e.prices.voucherAmount))}}var k1=(()=>{class t extends nu{Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-order-price-information"]],standalone:!1,features:[dt],decls:12,vars:11,consts:[["data-qa","memory-ticket-fee"],["data-qa","service-fee"],["data-qa","payment-fee"],["data-qa","interest-fee"],["data-qa","order-based-insurance"],["data-qa","donation-fee"],["data-qa","order-fee"],["data-qa","delivery-fee"],["data-qa","delivery-costs-memory-ticket"],["data-qa","voucher-amount"],["fee-label",""],["data-qa","number-of-tickets"],["fee-value",""],[3,"content"],["data-qa","premium-fee-message"]],template:function(n,r){n&1&&(J(0,oOe,8,5,"ev-fee",0)(1,aOe,6,4,"ev-fee",1)(2,sOe,6,4,"ev-fee",2)(3,lOe,6,4,"ev-fee",3)(4,cOe,6,4,"ev-fee",4)(5,dOe,6,4,"ev-fee",5)(6,uOe,6,4,"ev-fee",6)(7,pOe,7,6,"ev-fee",7)(8,fOe,2,0)(9,hOe,7,6,"ev-fee",8)(10,gOe,7,6,"ev-fee",9),D(11,"ev-total-sum")),n&2&&($(r.prices.hasMemoryTicketFee()?0:-1),d(),$(r.prices.hasServiceFee()?1:-1),d(),$(r.prices.isPaymentFeeVisible()?2:-1),d(),$(r.prices.hasInterestFee()?3:-1),d(),$(r.prices.orderBasedTicketInsuranceActive()?4:-1),d(),$(r.prices.hasDonation()?5:-1),d(),$(r.prices.hasOrderFee()?6:-1),d(),$(!r.prices.affiliate.paytollPlatform&&r.prices.isDeliveryFeeVisible()?7:-1),d(),$(r.prices.hasPremiumFeeMessages()?8:-1),d(),$((r.prices.hasMemoryTicketFee()||r.prices.hasEventMemoryTicketFee())&&r.prices.isDeliveryFeeVisible()?9:-1),d(),$(r.prices.hasVoucherAmount()?10:-1))},dependencies:[Zr,lb,sb,Se],encapsulation:2})}return t})();var vOe=t=>({"margin-top-s":t}),_Oe=t=>[t],COe=()=>({category:"checkout",action:"change.delivery_method"}),yOe=t=>({ga3ClickTrackingData:t}),EOe=(t,i)=>i.id;function TOe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_ERROR_MESSAGE)," ")}}function bOe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_3DSECURE_ERROR_MESSAGE)," ")}}function IOe(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",5),R(2),g(),h(3,"ev-notification",5),R(4),H(5,"translate"),g()()),t&2){let e=y();d(),C("type",e.NotificationType.Danger)("visible",e.hasAccordionItemComponentError()),d(),ne(" ",e.accordionItemComponentError," "),d(),C("type",e.NotificationType.Danger)("visible",e.klarnaTimeoutError),d(),ne(" ",j(5,6,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_METHOD_NOT_AVAILABLE)," ")}}function SOe(t,i){if(t&1){let e=Je();h(0,"ev-direct-debit",31),Ee("onComponentError",function(r){Ne(e);let o=y(3);return Re(o.showAccordionItemComponentError(r))})("onUnhandledError",function(r){Ne(e);let o=y(3);return Re(o.handleError(r))}),g()}if(t&2){let e=y().$implicit,n=y(2);C("hidden",!n.itemIsSelected(e))("accordionItem",e)("customer",n.paymentPageJson.customer)}}function xOe(t,i){if(t&1){let e=Je();h(0,"ev-klarna",32),Ee("onComponentError",function(r){Ne(e);let o=y(3);return Re(o.handleKlarnaError(r))})("onUnhandledError",function(r){Ne(e);let o=y(3);return Re(o.handleError(r))})("disableSubmitButton",function(r){Ne(e);let o=y(3);return Re(o.handleDisableSubmitButton(r))})("setTimeoutActive",function(r){Ne(e);let o=y(3);return Re(o.handleActiveTimeout(r))}),g()}if(t&2){let e=y().$implicit,n=y(2);C("hidden",!n.itemIsSelected(e))("isSelected",n.itemIsSelected(e))("accordionItem",e)("pageJson",n.paymentPageJson)}}function AOe(t,i){if(t&1){let e=Je();h(0,"ev-external-payment-method",33),Ee("onComponentError",function(r){Ne(e);let o=y(3);return Re(o.showAccordionItemComponentError(r))})("onUnhandledError",function(r){Ne(e);let o=y(3);return Re(o.handleError(r))}),g()}if(t&2){let e=y().$implicit,n=y(2);C("hidden",!n.itemIsSelected(e))("accordionItem",e)("paymentPageJson",n.paymentPageJson)("sessionId",n.paymentPageJson.order.sessionId)}}function POe(t,i){if(t&1&&(h(0,"div",27),J(1,SOe,1,3,"ev-direct-debit",28)(2,xOe,1,4,"ev-klarna",29)(3,AOe,1,4,"ev-external-payment-method",30),g()),t&2){let e,n=i.$implicit,r=y(2);d(),$((e=n.returnValue.type)===r.PaymentMethodType.Debit?1:e===r.PaymentMethodType.Klarna?2:3)}}function kOe(t,i){if(t&1){let e=Je();h(0,"ev-selection-list",26),H(1,"translate"),Ee("onChange",function(){Ne(e);let r=y();return Re(r.handleChangeButtonClick())})("onSelect",function(r){Ne(e);let o=y();return Re(o.onSelect(r))}),ft(2,POe,4,1,"div",27,EOe),g()}if(t&2){let e=y();C("items",e.paymentMethodAccordionItems)("headline",j(1,8,e.Message.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD_HEADLINE))("editButtonText",e.Message.GLOBAL_CHANGE)("alwaysExpandList",!0)("getCustomDataQa",e.getPaymentMethodDataQa)("clickTrackingObject",et(11,yOe,ol(10,COe)))("evAnchor",e.PaymentPageAnchor.PaymentMethod)("iconsByType",e.iconsByType),d(2),ht(e.paymentMethodAccordionItems)}}function wOe(t,i){if(t&1&&(h(0,"ev-notification",5),D(1,"span",34),H(2,"translate"),g()),t&2){let e=y();C("type",e.NotificationType.Danger)("visible",!e.hasPaymentMethods()&&!e.isPaypalCCOnlyPaymentMethodButNotAvailableInMoa()),d(),C("evCoreHtml",j(2,3,e.Message.CHECKOUT_APP_PAYMENT_NO_PAYMENT_TYPES_ERROR))}}function DOe(t,i){if(t&1&&(h(0,"ev-notification",5),R(1),H(2,"translate"),g(),h(3,"ev-notification",5),R(4),g(),h(5,"ev-notification",5),R(6),H(7,"translate"),g(),h(8,"ev-notification",5),R(9),H(10,"translate"),g()),t&2){let e=y();C("type",e.NotificationType.Danger)("visible",e.showInputErrorMessage()),d(),ne(" ",j(2,12,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)," "),d(2),C("type",e.NotificationType.Danger)("visible",e.hasAccordionItemComponentError()),d(),ne(" ",e.accordionItemComponentError," "),d(),C("type",e.NotificationType.Danger)("visible",e.klarnaTimeoutError),d(),ne(" ",j(7,14,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_METHOD_NOT_AVAILABLE)," "),d(2),C("type",e.NotificationType.Danger)("visible",e.showPaymentNotChosenErrorMessage()),d(),ne(" ",j(10,16,e.Message.CHECKOUT_APP_PAYMENT_PAYMENT_METHOD_NOT_CHOSEN)," ")}}function OOe(t,i){if(t&1&&D(0,"ev-page-banner",23),t&2){let e=y();C("bannerParams",e.pageBannerValues)}}function NOe(t,i){if(t&1){let e=Je();h(0,"div",25)(1,"span",35),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickBackButton())})("keydown.space",function(){Ne(e);let r=y();return Re(r.onClickBackButton())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.onClickBackButton())}),D(2,"i",36),h(3,"span"),R(4),H(5,"translate"),g()()()}if(t&2){let e=y();d(4),Ae(j(5,1,e.backButtonTitle))}}var Y$=(()=>{class t extends Bte{#e=E(Dv);#t=E(ah);#n=E(mo);#i=E(zt);#r=E(Va);#o=E(Tn);#a=E(ai);#s=E(dh);#l=E(Rv);#c=E(no);#d=E(Sn);trackingDataService=E(Bs);PaymentPageAnchor=QT;PaymentMethodExternalSubtype=si;backButtonTitle;customer;paymentPageJson;affiliate;isSportsShop=!1;pageBannerValues;showBraintreeCCMoaError=!1;iconsByType=new Map([[Wt.Voucher,"voucher02"],[Wt.ESR,"card"],[Wt.Debit,"card-simple"],[Wt.CashByCourier,"wallet"],[Wt.External,"card"],[Wt.Klarna,"card"],[Wt.Prepayment,"card"],[Wt.PrepaymentReservation,"card"],[Wt.PaymentModule,"card"]]);subscriptions=[];selectionListComponent;remoteNotificationComponent;ngAfterViewInit(){this.subscriptions.push(this.initRouteFragmentSubscription())}ngOnInit(){this.#c.setTitle(this.#d.instant(K.CHECKOUT_APP_PAGE_TITLE_PAYMENT)),this.paymentAvailabilityService.updateList(),this.subscriptions.push(this.registerPaymentPageSubscription()),this.subscriptions.push(this.subscribeToAffiliateJson()),this.isSportsShop=this.#a.isSportsShop(this.affiliate)}ngAfterContentChecked(){this.showExternalPaymentError===void 0&&(this.showExternalPaymentError=this.#r.snapshot.params[AA.State]==="retry")}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}hasPaymentMethods(){return Dt.isNotEmpty(this.paymentMethodAccordionItems)&&!this.paymentMethodAccordionItems.every(e=>!this.isPaymentMethodAllowed(e))}onAccordionSelection(e){this.onAccordionSelectionChange(e,this.remoteNotificationComponent,this.paymentMethodAccordionItems)}handleChangeButtonClick(){}onSelect(e){ce.isObject(e)&&(this.#s.setPaymentFirstViewOrChanged("false"),this.onAccordionSelectionChange(e,this.remoteNotificationComponent,this.paymentMethodAccordionItems))}onClickBackButton(){this.paymentPageJson.order.ticketPersonalisationRequired?this.#i.navigate([Qe.TicketPersonalisation]):this.#i.navigate([Qe.Delivery])}showPaymentNotChosenErrorMessage(){return this.formSubmitStatus&&!this.hasSelectedPaymentMethod()}submit(){this.isReadyForSubmit()&&(this.#s.setPaymentFirstViewOrChanged("false"),this.submitRequest())}itemIsSelected(e){return ce.isObject(this.selectedAccordionItem)&&!ce.isEmpty(e)&&ce.isObject(e.returnValue)&&this.selectedAccordionItem.returnValue.id===e.returnValue.id}isReadyForSubmit(){let e=!0;return this.formSubmitStatus=!0,this.selectedAccordionItem===null?e=!1:(this.selectedAccordionItem.setSubmitted(),this.accordionItemComponentError=null,this.selectionInvalid()&&(e=!1)),this.reSelectItemToShowInputErrors(),e}reSelectItemToShowInputErrors(){this.selectionListComponent&&this.showInputErrorMessage()&&!this.selectionListComponent.hasSelection()&&this.selectedAccordionItem?.id===this.selectionListComponent.previousItem?.id&&this.selectionListComponent.selectItem(this.selectionListComponent.previousItem)}selectionInvalid(){return!this.selectedAccordionItem.isValid()||!this.hasSelectedPaymentMethod()}submitRequest(){this.#e.submitPaymentMethod(this.selectedAccordionItem.preAuth,this.paymentPageJson.order.orderNumber,this.selectedAccordionItem.returnValue.id,this.selectedAccordionItem.submitData).subscribe({error:e=>{this.selectedAccordionItem.throwError(e),this.selectionListComponent?.resetSelection()}})}initRouteFragmentSubscription(){return this.#t.observeRouteFragments().subscribe(e=>{e.name===QT.PaymentMethod&&setTimeout(()=>{this.selectionListComponent?.resetSelection(),e.scrollIntoView()})})}registerPaymentPageSubscription(){return this.#n.observePageJson([Cn.Payment]).pipe(cn(this.#e.filterPaymentMethods.bind(this.#e))).subscribe(e=>{this.paymentPageJson=e,this.paymentPageJson.insuranceRemoved&&this.#l.openModalForRemovedInsurance(),this.checkPreSelectedPaymentMethod(this.paymentPageJson.order.paymentMethod,this.paymentPageJson.paymentMethods),this.customer=this.paymentPageJson.customer,this.checkForExternalPopupLinks(this.paymentPageJson.paymentMethods),this.paymentMethodAccordionItems=this.getPaymentAccordionItems(this.paymentPageJson.paymentMethods),this.backButtonTitle=this.getBackButtonTitle(this.paymentPageJson.order.ticketPersonalisationRequired),this.pageBannerValues=this.paymentPageJson.pageBanner,this.handleBraintreeCreditcard()})}resetErrors(){this.formSubmitStatus=!1,this.accordionItemComponentError=null}handleKlarnaError(e){this.klarnaTimeoutError=!0,this.selectionListComponent?.resetSelection()}payByLinkIsActive(){return ce.isObject(this.paymentPageJson)&&ce.hasProperty(this.paymentPageJson,"order.payByLink")&&this.paymentPageJson.order.payByLink}showPageBanner(){return ce.isObject(this.pageBannerValues)&&(this.isPageBannerValueValid(this.pageBannerValues.background)||this.isPageBannerValueValid(this.pageBannerValues.backgroundColor)&&(this.isPageBannerValueValid(this.pageBannerValues.text)||this.isPageBannerValueValid(this.pageBannerValues.logo)))}handleBraintreeCreditcard(){this.moaService.isRunningInMoa()&&!this.moaService.hasFeature(Gl.BRAINTREE_CREDIT_CARD)?(this.showBraintreeCCMoaError=this.isPaypalCCOnlyPaymentMethodButNotAvailableInMoa(),this.paymentAvailabilityService.disablePaymentMethod(Wt.External,si.BraintreeCreditCard),this.paymentMethodAccordionItems.filter(e=>e.returnValue?.type===Wt.External&&e.returnValue?.subType===si.BraintreeCreditCard).forEach(e=>e.showItem.set(!1))):this.showBraintreeCCMoaError=!1}isPaypalCCOnlyPaymentMethodButNotAvailableInMoa(){return this.paymentMethodAccordionItems.length===1&&this.paymentMethodAccordionItems[0].returnValue.type===Wt.External&&this.paymentMethodAccordionItems[0].returnValue.subType===si.BraintreeCreditCard}isPageBannerValueValid(e){return e!==void 0&&e!==ee.EMPTY_STRING}getBackButtonTitle(e){return e?K.CHECKOUT_APP_LINK_BACK_TO_TICKET_PERSONALISATION:K.CHECKOUT_APP_LINK_BACK_TO_DELIVERY}subscribeToAffiliateJson(){return this.#o.observeAffiliate().subscribe(e=>{this.affiliate=e})}OptimizelyPageEvent=Gr;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-payment-page"]],viewQuery:function(n,r){if(n&1&&(Qi(eu,5),Qi(XT,5)),n&2){let o;Ni(o=Ri())&&(r.selectionListComponent=o.first),Ni(o=Ri())&&(r.remoteNotificationComponent=o.first)}},standalone:!1,features:[dt],decls:50,vars:37,consts:[["data-qa","payment-page",3,"evOptimizelyPageTrigger"],[1,"row"],[1,"col-xs-12","col-md-8"],["aria-live","assertive"],[3,"adId"],[3,"type","visible"],[3,"pageName"],["additionalClass","checkout-card-container"],["data-qa","payment-methods","iconPropertyName","type","infoIconTrackingSource","payment",3,"items","headline","editButtonText","alwaysExpandList","getCustomDataQa","clickTrackingObject","evAnchor","iconsByType"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[1,"col-xs-12","card-section"],["data-qa","order-overview",3,"events","affiliateJson","trackingPage","isSportsShop"],[1,"col-xs-12"],["aria-hidden","true",1,"card-separator",3,"ngClass"],["data-qa","order-fees"],[3,"additionalHints"],["evHideOnDesktop",""],[3,"onSubmit","hidden","buttonText","disable"],[1,"col-xs-12","col-md-4","sidebar"],["evHideOnMobile",""],["data-qa","mini-basket-desktop-view",1,"row","checkout-card-container"],[3,"affiliate"],[3,"bannerParams"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow"],[1,"col-xs-12","back-link","checkout-card-container"],["data-qa","payment-methods","iconPropertyName","type","infoIconTrackingSource","payment",3,"onChange","onSelect","items","headline","editButtonText","alwaysExpandList","getCustomDataQa","clickTrackingObject","evAnchor","iconsByType"],["data-qa","content-item",1,"row"],[3,"hidden","accordionItem","customer"],[3,"hidden","isSelected","accordionItem","pageJson"],[3,"hidden","accordionItem","paymentPageJson","sessionId"],[3,"onComponentError","onUnhandledError","hidden","accordionItem","customer"],[3,"onComponentError","onUnhandledError","disableSubmitButton","setTimeoutActive","hidden","isSelected","accordionItem","pageJson"],[3,"onComponentError","onUnhandledError","hidden","accordionItem","paymentPageJson","sessionId"],["data-qa","no-payment-methods",3,"evCoreHtml"],["data-qa","back-to-shop-link","tabindex","0","role","link",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),D(3,"ev-progress-bar"),h(4,"section",3),D(5,"ev-ad-serving",4),h(6,"ev-notification",5),J(7,TOe,3,3,"span")(8,bOe,3,3,"span"),g(),h(9,"ev-notification",5)(10,"span"),R(11),H(12,"translate"),g()(),D(13,"ev-remote-notification",6),g(),h(14,"ev-pl-card",7)(15,"section",3),J(16,IOe,6,8,"section"),g(),J(17,kOe,4,13,"ev-selection-list",8),h(18,"section",3),J(19,wOe,3,5,"ev-notification",5),g(),h(20,"div")(21,"div",9),D(22,"hr",10),g(),h(23,"section",11),D(24,"ev-view-shopping-cart",12),g(),h(25,"div",13),D(26,"hr",14),g()(),h(27,"section"),D(28,"ev-order-price-information",15),g(),h(29,"section"),D(30,"ev-gdpr-hint",16),g(),h(31,"section",3),J(32,DOe,11,18),g(),h(33,"section"),D(34,"ev-reservation-time-counter",17),h(35,"ev-submit-button",18),Ee("onSubmit",function(){return r.submit()}),g()()()(),h(36,"div",19)(37,"div",20),D(38,"ev-reservation-time-counter"),h(39,"div",21)(40,"div",13),D(41,"ev-relevant-mini-basket",22)(42,"ev-ad-serving",4),g()()()()(),J(43,OOe,1,1,"ev-page-banner",23),h(44,"div",1)(45,"div",2)(46,"div",24),J(47,NOe,6,3,"div",25),g(),D(48,"ev-ad-serving",4),g()()(),D(49,"ev-capacity-control")),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.PAYMENT),d(5),C("adId","place-ad-middle"),d(),C("type",r.NotificationType.Danger)("visible",r.isRetry()),d(),$(r.paymentPageJson.order.paymentMethod!==0?7:-1),d(),$(r.paymentPageJson.order.paymentMethod===0?8:-1),d(),C("type",r.NotificationType.Danger)("visible",r.showBraintreeCCMoaError),Le("data-qa","notification-app-version-not-supporting-braintree-cc"),d(2),ne(" ",j(12,31,r.Message.CHECKOUT_APP_PAYPAL_CC_NOT_AVAIL_IN_MOA)," "),d(2),C("pageName",r.CheckoutPage.Payment),d(3),$(r.hasAccordionItemComponentError()||r.klarnaTimeoutError?16:-1),d(),$(r.hasPaymentMethods()?17:-1),d(2),$(!r.hasPaymentMethods()&&!r.isPaypalCCOnlyPaymentMethodButNotAvailableInMoa()?19:-1),d(5),C("events",r.paymentPageJson.order.events)("affiliateJson",r.affiliate)("trackingPage","payment")("isSportsShop",r.isSportsShop),d(),xa(r.isSportsShop?"inline-card-separator-spacer":"card-separator-spacer"),d(),C("ngClass",et(33,vOe,r.isSportsShop)),d(4),C("additionalHints",et(35,_Oe,r.Message.GLOBAL_HINTS_GDPR_PAYMENT_DATA)),d(2),$(r.showInputErrorMessage()||r.hasAccordionItemComponentError()||r.klarnaTimeoutError||r.showPaymentNotChosenErrorMessage()?32:-1),d(3),C("hidden",!r.hasPaymentMethods())("buttonText",r.Message.CHECKOUT_APP_TO_SUMMARY)("disable",r.disableSubmitButton),d(6),C("affiliate",r.affiliate),d(),C("adId","place-ad-sidebar-bottom"),d(),$(r.showPageBanner()?43:-1),d(4),$(r.payByLinkIsActive()?-1:47),d(),C("adId","place-ad-bottom"))},dependencies:[At,sh,Us,xt,$n,On,Xd,ta,ja,XT,$M,Sl,E1,Lv,Fv,Xte,Qd,lne,cne,eu,dne,P1,k1,Se],encapsulation:2})}return t})();var Cne=(()=>{class t{#e=E(bt);#t=E(_i);#n=E(uh);#i=E(lh);#r=1e3;roktLauncherAvailable=nn(!1);#o;addRoktScript(e){let n=document.createElement("script");return this.injectRokt(n,e.roktUrl).then(()=>{this.createRoktLauncher(n,e).then(r=>{this.#o=r,this.roktLauncherAvailable.set(!0)}).catch(()=>{this.#e.error(new Error("Rokt launcher not created"),"Rokt Service")})}).catch(()=>{this.#e.error(new Error("Rokt script not injected"),"Rokt Service")})}isRoktAvailable(e,n){return ce.hasProperty(e,"rokt")&&n}selectRoktPlacements(e,n){return new Promise((r,o)=>{this.#o?r(this.#o.selectPlacements({attributes:{email:n.customer.email,firstname:this.getFieldValue(n.customer,Ue.CustomerFirstName),confirmationref:n.order.orderNumber.toString(),amount:this.#n.getCurrent.totalAmountInt/this.#r,currency:e.priceFormat.currencyCode,paymenttype:n.dataLayer.order_payment_method_selected,zipcode:this.getFieldValue(n.customer,Ue.CustomerPostalCode),country:n.customer.country,language:this.#t.get(qi.Language),experience:n.rokt.showTravel?"travel":"default",salutation:this.getFieldValue(n.customer,Ue.CustomerSalutation)},identifier:n.rokt.sandbox?"staging":"checkout.page"})):o()})}getFieldValue(e,n){if(e!==void 0){let r=e.invoiceData;if(r!==void 0){let o="",s=r.find(c=>c.fieldName===n);return s!==void 0&&(o=s.value),o}}}injectRokt(e,n){return new Promise((r,o)=>{if(document.getElementById(this.getRoktScriptId()))r();else try{e.type="text/javascript",e.src=n,e.crossOrigin="anonymous",e.id=this.getRoktScriptId(),e.async=!0,document.head.appendChild(e),this.#e.trace(new Error("Rokt script added to template"),"Rokt Service"),r()}catch{this.#e.error(new Error("Rokt script not added to template"),"Rokt Service"),o()}})}createRoktLauncher(e,n){return new Promise((r,o)=>{e.onload=()=>{let s=this.isGivenConsentCategoryNotAvailable("c3")||this.isGivenConsentCategoryNotAvailable("c4"),c=this.isGivenConsentCategoryNotAvailable("c2");r(window.Rokt.createLauncher({accountId:n.accountId,pageInitTimestamp:Date.now(),sandbox:n.sandbox,noTargeting:s,noFunctional:c})),this.#e.trace(new Error,`ROKT - Transmitted consent for notargeting: ${s} | nofunctional: ${c}`)},e.onerror=s=>{o(s)}})}getRoktScriptId(){return"rokt-launcher"}isGivenConsentCategoryNotAvailable(e){return!this.#i.getCurrentConsentCategories().includes(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ROe(t,i){if(t&1){let e=Je();h(0,"div",2)(1,"div",3)(2,"ev-pl-button",4),H(3,"translate"),H(4,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.onContinue())}),g()(),h(5,"div",5)(6,"ev-pl-button",6),H(7,"translate"),H(8,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.closeModal.emit())}),g()()()}if(t&2){let e=y();d(2),C("buttonText",j(3,8,e.Message.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_CLOSE))("buttonTitle",j(4,10,e.Message.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_CLOSE))("isBlock",!0)("buttonType","secondary"),d(4),C("buttonText",j(7,12,e.Message.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_ACCEPT))("buttonTitle",j(8,14,e.Message.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_ACCEPT))("buttonType","primary")("isBlock",!0)}}var yne=(()=>{class t extends Gi{Message=K;affiliateService=E(Tn);sportsService=E(ai);isSportsShop=nn(!1);submitCallback;ngOnInit(){this.isSportsShop.set(this.sportsService.isSportsShop(this.affiliateService.getAffiliate()))}onContinue(){typeof this.submitCallback=="function"&&this.submitCallback()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-back-to-shop-modal"]],inputs:{submitCallback:"submitCallback"},standalone:!1,features:[dt],decls:4,vars:4,consts:[[1,"row"],[1,"col-xs-12","margin-bottom-l",3,"evCoreHtml"],[1,"p-modal-buttons-row"],["data-qa","secondary-button",1,"p-modal-button"],[3,"click","buttonText","buttonTitle","isBlock","buttonType"],["data-qa","primary-button",1,"p-modal-button"],[3,"click","buttonText","buttonTitle","buttonType","isBlock"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"div",1),H(2,"translate"),g(),J(3,ROe,9,16,"div",2)),n&2&&(d(),C("evCoreHtml",j(2,2,r.Message.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_TEXT)),d(2),$(r.isSportsShop()?3:-1))},dependencies:[xt,Yd,Se],encapsulation:2})}return t})();var Ene=(()=>{class t{#e=E(ai);#t=E(_i);#n=E(fn);#i=E(rr);redirectBack(e,n){let r;this.#n.get(ut.AFTERSALES)?this.redirectToAftersales(e):this.#e.isSportsShop(e)&&!n?.backToShopHint?this.redirectToSearchPage(e):ce.isObject(e)&&this.#n.get(ut.EXTERNAL_RESERVATION)?this.trackClickAndRedirectToShop(e):typeof(r=this.#t.get(qi.ReferrerCheckout))=="string"&&r.length>0?En.redirectFromSelfTo(r):En.historyBack()}redirectToAftersales(e){let n=this.#n.get(ut.LAST_ADDED_EVENT),r=this.#e.isSportsShop(e)||!ce.hasProperty(n,"tdlEventId")?void 0:n.tdlEventId;En.redirectToMyAftersalesPage(e,this.#t.get(qi.Language),r)}redirectToSearchPage(e){let n=this.#t.get(qi.Language)==="en"?"en":"";En.redirectToSearchPage(e.code,n)}trackClickAndRedirectToShop(e){this.#i.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"landingpage",navigation_subcategory:"web_reservation",navigation_element_selected:"go_to_shop"},ga3ClickTrackingData:{action:"go_to_shop",category:"web_reservation"}}),En.redirectFromSelfTo(`/?affiliate=${e.code}`,!1)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var w1=(()=>{class t{document=E(Ot);affiliate;trackingArguments={position:ee.EMPTY_STRING,page:ee.EMPTY_STRING};shoppingCartJson;events;Message=K;#e=E(ai);#t=E(rr);#n=E(fn);#i=E(kn);#r=E(yi);#o=E(Gn);#a=E(Ene);backToShop(){if(this.#t.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:this.trackingArguments.page,navigation_element_selected:this.trackingArguments.position},ga3ClickTrackingData:{action:"cart_navigation",label:this.trackingArguments.position,nonInteractionEvent:!1}}),this.shoppingCartJson?.backToShopHint&&this.shoppingCartJson.order?.numberOfTickets>0){let e=new Dn({component:yne,inputs:[{inputName:"submitCallback",value:()=>{this.#o.show(),this.#i.hideModal(),this.#r.clearShoppingCart().finally(()=>this.#a.redirectBack(this.affiliate,this.shoppingCartJson))}}]}).enableTitle(K.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_HEADLINE).setWidth(er.MEDIUM);this.#e.isSportsShop(this.affiliate)||e.enablePrimaryButton(K.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_ACCEPT).enableSecondaryButton(K.CHECKOUT_APP_BACK_TO_SHOP_HINT_MODAL_CLOSE,()=>{this.#o.show(),this.#i.hideModal(),this.#r.clearShoppingCart().finally(()=>this.#a.redirectBack(this.affiliate,this.shoppingCartJson))}),this.#i.showModal(e);return}this.#a.redirectBack(this.affiliate,this.shoppingCartJson)}getLinkMessage(){return this.#n.get(ut.EXTERNAL_RESERVATION)?K.WEB_RESERVATION_GO_TO_SHOP_BUTTON:K.CHECKOUT_APP_LINK_BACK_TO_WEBSHOP}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-back-to-shop"]],inputs:{affiliate:"affiliate",trackingArguments:"trackingArguments",shoppingCartJson:"shoppingCartJson",events:"events"},standalone:!1,decls:6,vars:3,consts:[[1,"col-xs-12","back-link","checkout-card-container"],["tabindex","0","role","link","data-qa","back-to-shop",1,"link",3,"keydown.space","keydown.enter","click"],[1,"icon","icon-arrow-left","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"span",1),Ee("keydown.space",function(){return r.backToShop()})("keydown.enter",function(){return r.backToShop()})("click",function(){return r.backToShop()}),D(2,"i",2),h(3,"span"),R(4),H(5,"translate"),g()()()),n&2&&(d(4),Ae(j(5,1,r.getLinkMessage())))},dependencies:[Se],encapsulation:2})}return t})();var c3=function(t){return t[t.TICKET_DIRECT=1]="TICKET_DIRECT",t[t.APPLE_WALLET=2]="APPLE_WALLET",t}(c3||{});function MOe(t,i){if(t&1&&(h(0,"span")(1,"span",2),R(2),H(3,"translate"),g(),R(4),H(5,"translate"),g()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_RECEIPT_PREPAYMENT_RECEIVING_PAYMENT)," "),d(2),ne(" ",j(5,4,e.Message.CHECKOUT_APP_RECEIPT_PREPAYMENT_MAIL_DELIVERY)," ")}}var DA=class t{static notArticleHeadlineSet=new Set([So.Ticket,So.Package,So.Other]);Message=K;paymentInfo;deliveryInfo;showArticleHeadline=!1;showVoucherHeadline=!1;set order(i){this.showArticleHeadline=i.events.some(e=>{let n=e.priceCategory.type;return!t.notArticleHeadlineSet.has(n)}),this.showVoucherHeadline=i.events.every(e=>e.subType===qa.NonTimedVenue||e.subType===qa.VoucherWithLayoutWidget)}getHeadline(){return this.showArticleHeadline?K.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE_ARTICLE:this.showVoucherHeadline?K.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE_VOUCHER:K.CHECKOUT_APP_RECEIPT_DELIVERY_HEADLINE}isPrepaymentOrPrepaymentReservation(){return this.paymentInfo.type===Wt.Prepayment||this.paymentInfo.type===Wt.PrepaymentReservation}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-mail-delivery"]],inputs:{paymentInfo:"paymentInfo",deliveryInfo:"deliveryInfo",order:"order"},standalone:!1,decls:7,vars:5,consts:[["data-qa","mail-delivery-headline",1,"card-inline-headline"],["data-qa","mail-delivery-message",1,"card-paragraph","theme-text-variant-color"],[1,"card-highlight","theme-text-highlight-color"]],template:function(e,n){e&1&&(h(0,"section")(1,"h3",0),R(2),H(3,"translate"),g(),h(4,"p",1),J(5,MOe,6,6,"span"),R(6),g()()),e&2&&(d(2),ne(" ",j(3,3,n.getHeadline()),""),d(3),$(n.isPrepaymentOrPrepaymentReservation()?5:-1),d(),ne(" ",n.deliveryInfo.deliveryHint," "))},dependencies:[Se],encapsulation:2})};var OA=(()=>{class t{transform(e){return e.replace(/(.{4})/g,"$1 ").replace(/(^\s+|\s+$)/,"")}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Sa({name:"evAddSpaces",type:t,pure:!0,standalone:!1})}return t})();function LOe(t,i){if(t&1&&(D(0,"p",3),H(1,"translate")),t&2){let e=y(3);C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_ESR_POST_RECEIPT_HINT))}}function BOe(t,i){if(t&1&&(D(0,"p",4),H(1,"translate")),t&2){let e=y(3);C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_ESR_EMAIL_RECEIPT_HINT))}}function UOe(t,i){if(t&1&&(h(0,"p",5),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_EPAY_RECEIPT_HINT)," ")}}function $Oe(t,i){if(t&1&&(h(0,"p",6),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_PAY_BY_LINK_RECEIPT_HINT)," ")}}function HOe(t,i){if(t&1&&(h(0,"p",7),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_PREPAYMENT_RECEIPT_HINT)," ")}}function VOe(t,i){if(t&1&&J(0,LOe,2,3,"p",3)(1,BOe,2,3,"p",4)(2,UOe,3,3,"p",5)(3,$Oe,3,3,"p",6)(4,HOe,3,3,"p",7),t&2){let e=y(2);$(e.isESR()&&e.paymentInfo.subtype===1?0:-1),d(),$(e.isESR()&&e.paymentInfo.subtype===2?1:-1),d(),$(e.isEpay()?2:-1),d(),$(e.isPayByLink()?3:-1),d(),$(!e.isESR()&&e.paymentInfo.subtype!==e.PaymentMethodPrepaymentReservationSubtype.Epay?4:-1)}}function jOe(t,i){if(t&1&&(h(0,"p",10),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_INFO_BOLETO_DISPATCH_TICKETDIRECT)," ")}}function GOe(t,i){if(t&1&&(h(0,"p",10),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_INFO_BOLETO_DISPATCH_WILLCALL)," ")}}function KOe(t,i){if(t&1&&(h(0,"p",10),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_INFO_BOLETO_DISPATCH_GENERAL)," ")}}function qOe(t,i){if(t&1&&(D(0,"p",8),h(1,"a",9),R(2),H(3,"translate"),g(),J(4,jOe,3,3,"p",10)(5,GOe,3,3,"p",10)(6,KOe,3,3,"p",10)),t&2){let e=y(2);C("evCoreHtml",e.getBoletoHeadline()),d(),Xt("href",e.paymentInfo.prePayment.paymentUrl,un),d(),ne(" ",j(3,6,e.Message.CHECKOUT_APP_SUMMARY_BOLETO_EXTERNAL_LINK_TEXT)," "),d(2),$(e.order.deliveryMethodType===e.DeliveryMethodType.TICKETDIRECT?4:-1),d(),$(e.order.deliveryMethodType===e.DeliveryMethodType.WILL_CALL?5:-1),d(),$(e.order.deliveryMethodType===e.DeliveryMethodType.TICKETDIRECT||e.order.deliveryMethodType===e.DeliveryMethodType.WILL_CALL?-1:6)}}function WOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_ACCOUNT_HOLDER)),d(3),Ae(e.paymentInfo.prePayment.accountHolder)}}function zOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),H(6,"evAddSpaces"),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_IBAN)),d(3),Ae(j(6,4,e.paymentInfo.prePayment.iban))}}function YOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_SWIFT_UPPERCASE)),d(3),Ae(e.paymentInfo.prePayment.bic)}}function JOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_ACCOUNT_NUMBER)),d(3),Ae(e.paymentInfo.prePayment.accountNumber)}}function XOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_BANK_SORT_CODE)),d(3),Ae(e.paymentInfo.prePayment.bankSortCode)}}function QOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_INSTITUTE)),d(3),Ae(e.paymentInfo.prePayment.bankName)}}function ZOe(t,i){if(t&1&&(h(0,"tr",12)(1,"td",13),R(2),H(3,"translate"),g(),h(4,"td",14),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_REASON_FOR_PAYMENT)),d(3),Ae(e.paymentInfo.prePayment.reasonForPayment)}}function eNe(t,i){if(t&1&&(h(0,"div")(1,"table",11)(2,"tr",12)(3,"td",13),R(4),H(5,"translate"),g(),h(6,"td",14),R(7),H(8,"translate"),g()(),J(9,WOe,6,4,"tr",12)(10,zOe,7,6,"tr",12)(11,YOe,6,4,"tr",12)(12,JOe,6,4,"tr",12)(13,XOe,6,4,"tr",12)(14,QOe,6,4,"tr",12),h(15,"tr",12)(16,"td",13),R(17),H(18,"translate"),g(),h(19,"td",14),R(20),g()(),J(21,ZOe,6,4,"tr",12),g()()),t&2){let e=y(2);d(4),Ae(j(5,11,e.Message.CHECKOUT_APP_PREPAYMENT_PAYMENT_PERIOD)),d(3),Ae(j(8,13,e.Message.CHECKOUT_APP_PREPAYMENT_PAYMENT_PERIOD_HINT)),d(2),$(e.paymentInfo.prePayment.accountHolder?9:-1),d(),$(e.paymentInfo.prePayment.iban?10:-1),d(),$(e.paymentInfo.prePayment.bic?11:-1),d(),$(e.paymentInfo.prePayment.accountNumber?12:-1),d(),$(e.paymentInfo.prePayment.bankSortCode?13:-1),d(),$(e.paymentInfo.prePayment.bankName?14:-1),d(3),Ae(j(18,15,e.Message.CHECKOUT_APP_PAYMENT_AMOUNT)),d(3),Ae(e.order.orderPayAmount),d(),$(e.paymentInfo.prePayment.reasonForPayment?21:-1)}}function tNe(t,i){if(t&1&&(h(0,"div",2),D(1,"img",15),h(2,"span",16),R(3),g()()),t&2){let e=y(2);d(),Io("width",e.barcodeWidth,"cm")("height",e.barcodeHeight,"cm"),C("src",e.barcode,un),d(2),Ae(e.paymentInfo.prePayment.barcode)}}function nNe(t,i){if(t&1&&(h(0,"section",0)(1,"h3",1),R(2),g(),J(3,VOe,5,5)(4,qOe,7,8)(5,eNe,22,17,"div")(6,tNe,4,6,"div",2),g()),t&2){let e=y();d(),C("hidden",!(e.paymentInfo.prePayment!=null&&e.paymentInfo.prePayment.name)),d(),Ae(e.paymentInfo.prePayment.name),d(),$(e.isBoletoPayment()?-1:3),d(),$(e.isBoletoPayment()?4:-1),d(),$(e.showPrePaymentTable()?5:-1),d(),$(e.paymentInfo.prePayment.barcode?6:-1)}}var J$=(()=>{class t{translateLoaderService=E(ti);Message=K;PaymentMethodType=Wt;PaymentMethodPrepaymentReservationSubtype=Bv;DeliveryMethodType=ui;barcodeWidth=10;barcodeHeight=3;paymentInfo;order;barcode;ngAfterViewInit(){if(ce.hasProperty(this.paymentInfo,"prePayment")&&this.paymentInfo.prePayment.barcode!==ee.EMPTY_STRING){let e=window.location.origin,n=window.location.search.length>0?window.location.search:ee.EMPTY_STRING;this.barcode=`${e}/api/v1/epay/barcode/${this.order.orderNumber}/${this.paymentInfo.prePayment.barcode}${n}`}}showComponent(){return ce.hasProperty(this.paymentInfo,"type")&&(this.paymentInfo.type===Wt.Prepayment||this.paymentInfo.type===Wt.PrepaymentReservation||this.paymentInfo.type===Wt.ESR)}getBoletoHeadline(){let e=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INFO_BOLETO_SUBHEAD),n=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INFO_BOLETO_SUBHEAD2);return`${e} ${this.order.orderPayAmount} ${n}`}showPrePaymentTable(){return this.paymentInfo.prePayment&&!this.isESR()&&!this.isEpay()&&!this.isBoletoPayment()}isBoletoPayment(){return this.paymentInfo.type===Wt.PrepaymentReservation&&this.paymentInfo.subtype===Bv.BoletoBancario}isEpay(){return this.paymentInfo.type===Wt.PrepaymentReservation&&this.paymentInfo.subtype===Bv.Epay}isPayByLink(){return this.paymentInfo.type===Wt.PrepaymentReservation&&this.paymentInfo.subtype===Bv.PayByLink}isESR(){return this.paymentInfo.type===Wt.ESR}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-prepayment"]],inputs:{paymentInfo:"paymentInfo",order:"order"},standalone:!1,decls:1,vars:1,consts:[["data-qa","prepayment-card"],["data-qa","prepayment-name",1,"card-inline-headline",3,"hidden"],[1,"u-flex","u-flex-column","u-flex-center","padding-top-gutter"],["data-qa","esr-post-hint",1,"card-paragraph","theme-text-variant-color",3,"evCoreHtml"],["data-qa","esr-email-hint",1,"card-paragraph","theme-text-variant-color",3,"evCoreHtml"],["data-qa","Epay-receipt-hint",1,"card-paragraph","theme-text-variant-color"],["data-qa","pay-by-link-receipt-hint",1,"card-paragraph","theme-text-variant-color"],["data-qa","prepayment-receipt-hint",1,"card-paragraph","theme-text-variant-color"],[1,"card-paragraph","theme-text-variant-color",3,"evCoreHtml"],["data-link","external","target","_blank","data-qa","boleto-info-link",1,"card-paragraph","theme-text-variant-color",3,"href"],[1,"card-paragraph","theme-text-variant-color"],[1,"basic-table","basic-table-with-separator","theme-element-border"],[1,"basic-table-row"],[1,"basic-table-cell","u-font-weight-700"],[1,"basic-table-cell"],["alt","",3,"src"],[1,"font-size-xs","theme-text-color"]],template:function(n,r){n&1&&J(0,nNe,7,6,"section",0),n&2&&$(r.showComponent()?0:-1)},dependencies:[xt,Se,OA],encapsulation:2})}return t})();var rNe=t=>({"u-color-highlight":t});function oNe(t,i){if(t&1&&(h(0,"div",2)(1,"p",5)(2,"span",6),R(3),H(4,"translate"),g(),R(5),H(6,"translate"),g()()),t&2){let e=y(2);d(3),ne(" ",j(4,2,e.Message.CHECKOUT_APP_RECEIPT_PREPAYMENT_RECEIVING_PAYMENT)," "),d(2),ne(" ",j(6,4,e.Message.CHECKOUT_APP_RECEIPT_PREPAYMENT_WILL_CALL)," ")}}function aNe(t,i){t&1&&(h(0,"span",8),R(1,"\u2013"),g())}function sNe(t,i){if(t&1&&(h(0,"div",2)(1,"p",7),R(2),J(3,aNe,2,0,"span",8),R(4),g()()),t&2){let e=y(2);d(2),ne(" ",e.deliveryInfo.name,""),d(),$(e.deliveryInfo.deliveryHint?3:-1),d(),ne(" ",e.deliveryInfo.deliveryHint," ")}}function lNe(t,i){if(t&1&&(h(0,"li",10),R(1),g()),t&2){let e=i.$implicit,n=y(3);C("ngClass",et(2,rNe,n.paymentInfo.type!==4&&n.paymentInfo.type!==10)),d(),ne(" ",e," ")}}function cNe(t,i){if(t&1&&(h(0,"div",2)(1,"ul",9),ft(2,lNe,2,4,"li",10,ri),g()()),t&2){let e=y(2);d(2),ht(e.deliveryInfo.pickupInfos)}}function dNe(t,i){if(t&1&&(h(0,"div",2)(1,"p",5)(2,"span"),R(3),H(4,"translate"),g(),h(5,"span",11),R(6),g()()()),t&2){let e=y(2);d(3),Ae(j(4,2,e.Message.CHECKOUT_APP_RECEIPT_WILL_CALL_TYPE_CODE_TEXT)),d(3),Ae(e.deliveryInfo.willCallCode)}}function uNe(t,i){if(t&1){let e=Je();h(0,"div",2)(1,"p",5)(2,"span"),R(3),H(4,"translate"),g(),h(5,"button",12),Ee("click",function(){Ne(e);let r=y(2);return Re(r.redirectToETicket(r.deliveryInfo.willcallBarcodeDownloadLink))}),R(6),H(7,"translate"),g()()()}if(t&2){let e=y(2);d(3),Ae(j(4,2,e.Message.CHECKOUT_APP_RECEIPT_WILL_CALL_BARCODE_TEXT)),d(3),ne("",j(7,4,e.Message.CHECKOUT_APP_RECEIPT_WILL_CALL_BARCODE_BUTTON)," ")}}function pNe(t,i){if(t&1&&(h(0,"p",3),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_INFORMATION_RECEIPT_HINT)," ")}}function mNe(t,i){if(t&1&&(h(0,"p",4),R(1),H(2,"translate"),h(3,"span",6),R(4),g()()),t&2){let e=y(2);d(),ne(" ",j(2,2,e.Message.CHECKOUT_APP_INFORMATION_RECEIPT_PICK_UP_HINT)," "),d(3),Ae(e.customer.email)}}function fNe(t,i){if(t&1&&(h(0,"section",0)(1,"h3",1),R(2),H(3,"translate"),g(),J(4,oNe,7,6,"div",2)(5,sNe,5,3,"div",2)(6,cNe,4,0,"div",2)(7,dNe,7,4,"div",2)(8,uNe,8,6,"div",2),h(9,"div",2),J(10,pNe,3,3,"p",3)(11,mNe,5,4,"p",4),g()()),t&2){let e=y();d(2),Ae(j(3,8,e.Message.CHECKOUT_APP_RECEIPT_WILL_CALL_TYPE_NEXT_STEP_HEADLINE)),d(2),$(e.paymentInfo.type===4||e.paymentInfo.type===10?4:-1),d(),$(e.deliveryInfo.pickupInfos?-1:5),d(),$(e.deliveryInfo.subType===0&&e.deliveryInfo.pickupInfos?6:-1),d(),$(e.isWillCallAsBarcodeActive()?-1:7),d(),$(e.isWillCallAsBarcodeActive()?8:-1),d(2),$(e.paymentInfo.type!==4&&e.paymentInfo.type!==10?10:-1),d(),$(e.paymentInfo.type===4||e.paymentInfo.type===10?11:-1)}}var X$=(()=>{class t{Message=K;customer;paymentInfo;deliveryInfo;trackDownloadLinkClick=vo();redirectToETicket(e){this.trackDownloadLinkClick.emit({navigation_subcategory:"e-ticket(WILLCALL)",navigation_element_selected:"redirect-to-willcall-barcode"}),En.openPopup(e,!0,"_blank")}isWillCallAsBarcodeActive(){return ee.isNotEmpty(this.deliveryInfo.willCallCode)&&this.paymentInfo.type!==Wt.Prepayment&&this.paymentInfo.type!==Wt.PrepaymentReservation&&ee.isNotEmpty(this.deliveryInfo.willcallBarcodeDownloadLink)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-willcall"]],inputs:{customer:"customer",paymentInfo:"paymentInfo",deliveryInfo:"deliveryInfo"},outputs:{trackDownloadLinkClick:"trackDownloadLinkClick"},standalone:!1,decls:1,vars:1,consts:[["id","willCall","data-qa","willcall-card"],[1,"card-inline-headline"],[1,"row"],["data-qa","receipt-hint",1,"card-paragraph","theme-text-variant-color","col-xs-12","text-left"],["data-qa","receipt-pickup-hint",1,"card-paragraph","theme-text-variant-color","col-xs-12","text-left"],[1,"card-paragraph","theme-text-variant-color","col-xs-12","text-left"],[1,"u-color-highlight","theme-text-highlight-color"],[1,"card-paragraph","theme-text-variant-color","col-xs-12","text-left","u-color-highlight","theme-text-highlight-color"],["data-qa","delivery-hint"],[1,"square-list","col-xs-12"],["id","pickUpInfos",3,"ngClass"],["id","willCallCode","data-qa","will-call-code",1,"u-color-highlight","theme-text-highlight-color"],["data-qa","will-call-code-as-barcode",1,"btn","btn-primary","btn-lg","btn-block","margin-top-l","margin-bottom-l","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"]],template:function(n,r){n&1&&J(0,fNe,12,10,"section",0),n&2&&$(r.deliveryInfo.type===6||r.deliveryInfo.type===7?0:-1)},dependencies:[At,Se],encapsulation:2})}return t})();function gNe(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",9),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_PAYMENT_PERIOD)),d(3),Ae(e.paymentInfo.preAuth.payInfo.formattedDueDate)}}function vNe(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",9),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_ACCOUNT_HOLDER)),d(3),Ae(e.paymentInfo.preAuth.payInfo.accountHolder)}}function _Ne(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",10),R(5),H(6,"evAddSpaces"),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_IBAN)),d(3),ne("",j(6,4,e.paymentInfo.preAuth.payInfo.iban)," ")}}function CNe(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",9),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PAYMENT_SWIFT_UPPERCASE)),d(3),Ae(e.paymentInfo.preAuth.payInfo.bic)}}function yNe(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",9),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_INSTITUTE)),d(3),Ae(e.paymentInfo.preAuth.payInfo.bankName)}}function ENe(t,i){if(t&1&&(h(0,"tr",7)(1,"td",8),R(2),H(3,"translate"),g(),h(4,"td",9),R(5),g()()),t&2){let e=y(3);d(2),Ae(j(3,2,e.Message.CHECKOUT_APP_PREPAYMENT_REASON_FOR_PAYMENT)),d(3),Ae(e.paymentInfo.preAuth.payInfo.reasonForTransfer)}}function TNe(t,i){if(t&1&&(h(0,"div",4)(1,"table",6),J(2,gNe,6,4,"tr",7)(3,vNe,6,4,"tr",7)(4,_Ne,7,6,"tr",7)(5,CNe,6,4,"tr",7)(6,yNe,6,4,"tr",7),h(7,"tr",7)(8,"td",8),R(9),H(10,"translate"),g(),h(11,"td",9),R(12),g()(),J(13,ENe,6,4,"tr",7),g()()),t&2){let e=y(2);d(2),$(e.paymentInfo.preAuth.payInfo?2:-1),d(),$(e.paymentInfo.preAuth.payInfo!=null&&e.paymentInfo.preAuth.payInfo.accountHolder?3:-1),d(),$(e.paymentInfo.preAuth.payInfo!=null&&e.paymentInfo.preAuth.payInfo.iban?4:-1),d(),$(e.paymentInfo.preAuth.payInfo!=null&&e.paymentInfo.preAuth.payInfo.bic?5:-1),d(),$(e.paymentInfo.preAuth.payInfo!=null&&e.paymentInfo.preAuth.payInfo.bankName?6:-1),d(3),Ae(j(10,8,e.Message.CHECKOUT_APP_PAYMENT_AMOUNT)),d(3),Ae(e.order.orderPayAmount),d(),$(e.paymentInfo.preAuth.payInfo!=null&&e.paymentInfo.preAuth.payInfo.reasonForTransfer?13:-1)}}function bNe(t,i){if(t&1&&(h(0,"section",1)(1,"h3",2),R(2),g(),h(3,"p",3),R(4),H(5,"translate"),g(),J(6,TNe,14,10,"div",4),g(),h(7,"section")(8,"p",5),R(9),H(10,"translate"),g()()),t&2){let e=y();d(2),Ae(e.paymentInfo.preAuth==null?null:e.paymentInfo.preAuth.name),d(2),Ae(j(5,4,e.Message.CHECKOUT_APP_PREPAYMENT_RECEIPT_HINT)),d(2),$(e.paymentInfo.preAuth?6:-1),d(3),Ae(j(10,6,e.Message.CHECKOUT_APP_RECEIPT_REASON_FOR_PAYMENT_INFORMATION))}}function INe(t,i){if(t&1&&(h(0,"section",0)(1,"h3",2),R(2),g(),h(3,"p",3),R(4),H(5,"translate"),g()()),t&2){let e=y();d(2),Ae(e.paymentInfo.preAuth==null?null:e.paymentInfo.preAuth.name),d(2),Ae(j(5,2,e.Message.CHECKOUT_APP_SUMMARY_BILLPAY_PAYLATER_INFORMATION))}}var Q$=(()=>{class t{Message=K;order;paymentInfo;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-billpay-information"]],inputs:{order:"order",paymentInfo:"paymentInfo"},standalone:!1,decls:2,vars:2,consts:[["data-qa","billpay-paylater"],["data-qa","billpay-direct"],["data-qa","headline",1,"card-inline-headline"],["data-qa","hint",1,"card-paragraph","theme-text-variant-color"],["data-qa","pre-auth"],[1,"card-paragraph","theme-text-variant-color"],[1,"basic-table","basic-table-with-separator","theme-element-border"],[1,"basic-table-row"],[1,"basic-table-cell","u-font-weight-700"],[1,"basic-table-cell"],["data-qa","iban",1,"basic-table-cell"]],template:function(n,r){n&1&&J(0,bNe,11,8)(1,INe,6,4,"section",0),n&2&&($(r.paymentInfo.type===3&&r.paymentInfo.subtype===13?0:-1),d(),$(r.paymentInfo.type===3&&r.paymentInfo.subtype===19?1:-1))},dependencies:[Se,OA],encapsulation:2})}return t})();function xNe(t,i){t&1&&(h(0,"div",1),D(1,"div",7),g())}function ANe(t,i){if(t&1&&(h(0,"span",4),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne("",j(2,1,e.Message.CHECKOUT_APP_RECEIPT_TICKET_DIRECT_FAILURE)," ")}}function PNe(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y(2);d(),Ae(e.ticketDownloadFailed.errorMessage)}}function kNe(t,i){if(t&1){let e=Je();h(0,"section")(1,"h3",0),R(2),H(3,"translate"),g(),J(4,xNe,2,0,"div",1),h(5,"ev-notification",2)(6,"span",3),J(7,ANe,3,3,"span",4)(8,PNe,2,1,"span",5),g()(),h(9,"ev-pl-button",6),H(10,"translate"),H(11,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.downloadTicketdirect())}),g()()}if(t&2){let e=y();d(2),Ae(j(3,12,e.Message.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_HEADLINE)),d(2),$(e.processingTicketDownload?4:-1),d(),C("visible",e.hasFailedDownload())("type",e.NotificationType.Danger),d(2),$(e.ticketDownloadFailed.ticketDirect?7:-1),d(),$(e.ticketDownloadFailed.errorMessage?8:-1),d(),C("dataQa","ticket-direct-download-button")("buttonTitle",j(10,14,e.getButtonLabel()))("buttonText",j(11,16,e.getButtonLabel()))("isDisabled",e.ticketDownloadFailed.ticketDirect||e.StringUtils.isNotEmpty(e.ticketDownloadFailed.errorMessage))("hasFullWidth",!0)("spinnerActiveTime",e.SPINNER_ACTIVE_TIME)}}function wNe(t,i){if(t&1){let e=Je();h(0,"div",9)(1,"button",10),H(2,"translate"),Ee("click",function(){let r=Ne(e).$implicit,o=y(2);return Re(o.downloadVoucherFor(r))}),R(3),H(4,"translate"),D(5,"span",11),g()()}if(t&2){let e=i.$index,n=y(2);d(),Xt("title",j(2,4,n.Message.CHECKOUT_APP_VOUCHER_DOWNLOAD_LINK)),d(2),Vi("",j(4,6,n.Message.CHECKOUT_APP_VOUCHER_DOWNLOAD_LINK)," #",e+1," "),d(2),C("evCoreHtml",n.getVoucherLabel())}}function DNe(t,i){if(t&1&&(h(0,"section")(1,"h3",8),R(2),H(3,"translate"),g(),ft(4,wNe,6,8,"div",9,ri),g()),t&2){let e=y();d(2),Ae(j(3,1,e.Message.CHECKOUT_APP_VOUCHER_DOWNLOAD_HEADLINE)),d(2),ht(e.deliveryInfo.voucherDownloadLinks)}}function ONe(t,i){if(t&1&&(h(0,"p",13),R(1),g()),t&2){let e=y(2);d(),Ae(e.deliveryInfo.deliveryHint)}}function NNe(t,i){if(t&1&&(h(0,"section")(1,"div",12),J(2,ONe,2,1,"p",13),h(3,"p",14),R(4),H(5,"translate"),g()()()),t&2){let e=y();d(2),$(e.deliveryInfo.deliveryHint?2:-1),d(2),Ae(j(5,2,e.Message.CHECKOUT_APP_TICKET_DIRECT_RECEIPT_HINT))}}var Z$=(()=>{class t{#e=E(ti);#t=new Map([[qa.Regular,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK],[qa.Item,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_ITEM],[qa.NonTimedExtra,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_RESERVATION],[qa.TimedExtra,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_EXTRA],[qa.NonTimedVenue,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_VOUCHER],[qa.VoucherWithLayoutWidget,K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_VOUCHER]]);Message=K;NotificationType=rn;SPINNER_ACTIVE_TIME=1500;affiliate;deliveryInfo;paymentInfo;order;processingTicketDownload;ticketDownloadFailed;trackDownloadLinkClick=vo();canShowDownloadLinks(){return ee.isNotEmpty(this.deliveryInfo.downloadLink)&&this.isDownloadAvailableFor(this.paymentInfo.type)&&!this.affiliate.callCenter}canShowVoucherDownloadLinks(){return Dt.isNotEmpty(this.deliveryInfo.voucherDownloadLinks)&&this.isDownloadAvailableFor(this.paymentInfo.type)&&!this.affiliate.callCenter}downloadTicketdirect(){if(this.trackDownloadLinkClick.emit({navigation_subcategory:"ticket-direct",navigation_element_selected:"download-ticket"}),!this.deliveryInfo.downloadLimitReached){let e=En.buildCheckoutRedirectPath(Qe.Receipt,this.affiliate.code,this.order.orderNumber),n=En.buildAbsolutePath(`${this.deliveryInfo.downloadLink}&lipa=pdf${e}`);ro.isInsideIFrame()?En.openPopup(n):En.redirectFromSelfTo(n)}}downloadVoucherFor(e){this.trackDownloadLinkClick.emit({navigation_subcategory:"voucher",navigation_element_selected:"download-voucher"}),En.redirectFromSelfTo(En.buildAbsolutePath(`${e}&lipa=pdf`))}getButtonLabel(){let e=this.getEventProductTypeFor(this.order),n;return e!==void 0&&(n=this.#t.get(e)),n!==void 0?n:K.CHECKOUT_APP_TICKET_DIRECT_DOWNLOAD_LINK_ARTICLE}getVoucherLabel(){let e=K.CHECKOUT_APP_VOUCHER_DOWNLOAD_LINK_AFTER;return this.#e.hasTranslation(e)?this.#e.instantTranslate(e):ee.EMPTY_STRING}hasFailedDownload(){return this.ticketDownloadFailed.ticketDirect||ee.isNotEmpty(this.ticketDownloadFailed.errorMessage)}isDownloadAvailableFor(e){return Wt.Prepayment!==e&&Wt.PrepaymentReservation!==e}getEventProductTypeFor(e){let n=e.events.map(r=>r.priceCategory.subType);return n.every(this.hasUniqueProductType.bind(this))?n[0]:void 0}hasUniqueProductType(e,n,r){return e===r[0]}StringUtils=ee;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-direct"]],inputs:{affiliate:"affiliate",deliveryInfo:"deliveryInfo",paymentInfo:"paymentInfo",order:"order",processingTicketDownload:"processingTicketDownload",ticketDownloadFailed:"ticketDownloadFailed"},outputs:{trackDownloadLinkClick:"trackDownloadLinkClick"},standalone:!1,decls:3,vars:3,consts:[["data-qa","headline",1,"card-inline-headline"],["data-qa","processing-spinner",1,"element-spinner","theme-element-radius"],[3,"visible","type"],["data-qa","failed-notice"],["data-qa","failed-ticket-direct"],["data-qa","failed-error-message"],["id","ticketDirectDownload","type","button","evPlSpinnerAfterClicked","",1,"fullwidth",3,"click","dataQa","buttonTitle","buttonText","isDisabled","hasFullWidth","spinnerActiveTime"],[1,"element-spinner-circle","medium"],["data-qa","voucher-headline",1,"card-inline-headline"],["data-qa","voucher-link"],["id","voucherDownload","type","button","data-qa","voucher-download-button",1,"btn","btn-primary","btn-lg","btn-block","btn-spacing-xs","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click","title"],["data-qa","label",3,"evCoreHtml"],[1,"row"],["data-qa","delivery-hint",1,"card-paragraph","theme-text-variant-color","col-xs-12"],["data-qa","ticket-direct-hint",1,"card-paragraph","theme-text-variant-color","col-xs-12"]],template:function(n,r){n&1&&J(0,kNe,12,18,"section")(1,DNe,6,3,"section")(2,NNe,6,4,"section"),n&2&&($(r.canShowDownloadLinks()?0:-1),d(),$(r.canShowVoucherDownloadLinks()?1:-1),d(),$(r.isDownloadAvailableFor(r.paymentInfo.type)?2:-1))},dependencies:[xt,Yd,AZ,On,Se],encapsulation:2})}return t})();function MNe(t,i){if(t&1){let e=Je();h(0,"button",4),Ee("click",function(){let r;Ne(e);let o=y();return Re(o.handleButtonClick((r=o.ticket().eTicketLinks)==null?null:r.HTML,"e-ticket(HTML)"))}),D(1,"i",5),h(2,"span",6),R(3),H(4,"translate"),g()()}if(t&2){let e=y();Le("data-qa","eTicketHtml-"+e.ticket().rsId),d(3),Ae(j(4,2,e.Message.GLOBAL_ETICKET_SHOW_TICKET))}}function FNe(t,i){if(t&1){let e=Je();h(0,"button",7),Ee("click",function(){let r;Ne(e);let o=y();return Re(o.handleButtonClick((r=o.ticket().eTicketLinks)==null?null:r.WALLET,"e-ticket(WALLET)"))}),g()}if(t&2){let e=y();xo("btn btn-apple-wallet btn-apple-wallet-",e.language(),""),Le("data-qa","eTicketWallet-"+e.ticket().rsId)}}function LNe(t,i){if(t&1){let e=Je();h(0,"button",8),Ee("click",function(){let r;Ne(e);let o=y();return Re(o.handleButtonClick((r=o.ticket().eTicketLinks)==null?null:r.GOOGLE,"e-ticket(GOOGLE)"))}),g()}if(t&2){let e=y();xo("btn btn-google-wallet btn-google-wallet-",e.language(),""),Le("data-qa","eTicketGoogle-"+e.ticket().rsId)}}var cb=(()=>{class t{language=We.required();ticket=We.required();Message=K;trackDownloadLinkClick=vo();hasHTMLLink=sn(()=>ee.isNotEmpty(this.ticket().eTicketLinks?.HTML));hasWalletLink=sn(()=>ee.isNotEmpty(this.ticket().eTicketLinks?.WALLET));hasGoogleLink=sn(()=>ee.isNotEmpty(this.ticket().eTicketLinks?.GOOGLE));handleButtonClick(e,n=""){ee.isNotEmpty(e)&&(this.trackDownloadLinkClick.emit({navigation_subcategory:n,navigation_element_selected:"download-ticket"}),En.openPopup(e,!0,"_blank"))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-e-ticket"]],inputs:{language:[1,"language"],ticket:[1,"ticket"]},outputs:{trackDownloadLinkClick:"trackDownloadLinkClick"},decls:4,vars:3,consts:[["data-qa","e-ticket-buttons",1,"hide-in-print"],["type","button",1,"btn","btn-e-ticket","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius"],["type","button","title","Apple Wallet",3,"class"],["type","button","title","Google Wallet",3,"class"],["type","button",1,"btn","btn-e-ticket","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"],[1,"icon","icon-external-link"],[1,"btn-text"],["type","button","title","Apple Wallet",3,"click"],["type","button","title","Google Wallet",3,"click"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,MNe,5,4,"button",1)(2,FNe,1,4,"button",2)(3,LNe,1,4,"button",3),g()),n&2&&(d(),$(r.hasHTMLLink()?1:-1),d(),$(r.hasWalletLink()?2:-1),d(),$(r.hasGoogleLink()?3:-1))},dependencies:[oi,Se],encapsulation:2})}return t})();function BNe(t,i){if(t&1&&(h(0,"span",1),R(1),g()),t&2){let e=y();d(),ne(", ",e.ticket.discountLevel,"")}}function UNe(t,i){if(t&1&&D(0,"ev-seat-info-summary",2),t&2){let e=y();C("seatInfo",e.ticket)}}var d3=(()=>{class t{Message=K;name;ticket;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-e-ticket-information"]],inputs:{name:"name",ticket:"ticket"},standalone:!1,decls:5,vars:3,consts:[["data-qa","e-ticket-information"],["data-qa","ticket-discount-level"],[3,"seatInfo"]],template:function(n,r){n&1&&(h(0,"div",0),R(1),J(2,BNe,2,1,"span",1),D(3,"br"),J(4,UNe,1,1,"ev-seat-info-summary",2),g()),n&2&&(d(),ne(" ",r.name,""),d(),$(r.ticket.discountLevel?2:-1),d(2),$(r.ticket.seatInformation||r.ticket.row||r.ticket.seat?4:-1))},dependencies:[I1],encapsulation:2})}return t})();var $Ne=t=>({"top-separator theme-element-border":t}),HNe=(t,i)=>({"col-xs-10":t,"col-xs-12":i}),VNe=(t,i,e,n)=>({"col-xs-10":t,"col-xs-12":i,"padding-top-gutter":e,"padding-bottom-gutter":n}),jNe=t=>({"padding-top-gutter":t}),GNe=(t,i)=>i.eventId,KNe=(t,i)=>i.id;function qNe(t,i){if(t&1&&(h(0,"section",1)(1,"div",2)(2,"div",3),D(3,"i",4),g(),h(4,"div",5)(5,"p"),R(6),H(7,"translate"),g()()()()),t&2){let e=y();d(6),Ae(j(7,1,e.Message.GLOBAL_ETICKET_NOT_AVAILABLE_ENTIRELY))}}function WNe(t,i){if(t&1&&D(0,"ev-forms-info-link",9),t&2){let e=y(2);C("modalTitle",e.getModalTitle())("modalContent",e.getModalContent())}}function zNe(t,i){if(t&1&&(D(0,"img",11),H(1,"translate")),t&2){let e=y(2);Xt("alt",j(1,3,e.Message.GLOBAL_ETICKET_DOWNLOAD_YOUR_ETICKET)),Fd("src","",e.affiliate.teaserPath,"checkout/eticketSmartphones.png",un)}}function YNe(t,i){if(t&1){let e=Je();h(0,"ev-e-ticket",17),Ee("trackDownloadLinkClick",function(r){Ne(e);let o=y(4);return Re(o.passDownloadClick.emit(r))}),g()}if(t&2){let e=y().$implicit,n=y(3);C("language",n.language)("ticket",e)}}function JNe(t,i){if(t&1&&D(0,"ev-e-ticket",16),t&2){let e=y().$implicit,n=y(5);C("language",n.language)("ticket",e.seatInfo)}}function XNe(t,i){if(t&1&&(h(0,"div",18),D(1,"ev-e-ticket-information",15),J(2,JNe,1,2,"ev-e-ticket",16),g()),t&2){let e=i.$implicit,n=i.$index,r=y(5);C("ngClass",et(4,jNe,n!==0&&e.seatInfo.eTicketLinks)),d(),C("name",e.eventName)("ticket",e.seatInfo),d(),$(e.seatInfo.eTicketLinks&&!r.affiliate.callCenter?2:-1)}}function QNe(t,i){if(t&1&&ft(0,XNe,3,6,"div",18,ri),t&2){let e=y().$implicit;ht(e.packageItems)}}function ZNe(t,i){if(t&1&&(h(0,"div",6)(1,"div",12)(2,"div",14),D(3,"ev-e-ticket-information",15),J(4,YNe,1,2,"ev-e-ticket",16),g(),J(5,QNe,2,0),g()()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(),s=o.$implicit,c=o.$index,v=y(2);d(),C("ngClass",Hf(5,VNe,c===0,c!==0,n!==0,n!==r-1)),d(2),C("name",s.priceCategory.name)("ticket",e),d(),$(e.eTicketLinks&&!v.affiliate.callCenter?4:-1),d(),$(e.packageItems?5:-1)}}function eRe(t,i){if(t&1&&(h(0,"section",12)(1,"div",6)(2,"div",12)(3,"span",13),R(4),g()()(),ft(5,ZNe,6,10,"div",6,KNe),g()),t&2){let e=i.$implicit,n=i.$index;C("ngClass",et(3,$Ne,n!==0)),d(2),C("ngClass",Un(5,HNe,n===0,n!==0)),d(2),Ae(e.eventName),d(),ht(e.priceCategory.tickets)}}function tRe(t,i){if(t&1&&(h(0,"section")(1,"div",6)(2,"div",7)(3,"span",8),R(4),H(5,"translate"),J(6,WNe,1,2,"ev-forms-info-link",9),g()(),h(7,"div",10),J(8,zNe,2,5,"img",11),g()()(),ft(9,eRe,7,8,"section",12,GNe)),t&2){let e=y();d(4),ne("",j(5,3,e.Message.GLOBAL_ETICKET_DOWNLOAD_YOUR_ETICKET)," "),d(2),$(e.hasTranslations()?6:-1),d(2),$(e.affiliate!=null&&e.affiliate.teaserPath?8:-1),d(),ht(e.order.events)}}var eH=(()=>{class t{#e=E(ti);Message=K;affiliate;language;order;passDownloadClick=vo();hasTranslations(){return this.#e.hasTranslation(K.CHECKOUT_APP_RECEIPT_ETICKET_INFO_TEXT)}getModalTitle(){return this.#e.instantTranslate(K.CHECKOUT_APP_RECEIPT_ETICKET_INFO_TEXT)}getModalContent(){return this.#e.instantTranslate(K.CHECKOUT_APP_RECEIPT_ETICKET_INFO_HEADLINE)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-mobile-ticket"]],inputs:{affiliate:"affiliate",language:"language",order:"order"},outputs:{passDownloadClick:"passDownloadClick"},standalone:!1,decls:3,vars:2,consts:[["data-qa","mobile-ticket"],["data-qa","eticket-not-available"],[1,"alert","alert-with-stripe","alert-with-stripe-info","theme-element-radius"],[1,"alert-stripe"],[1,"icon","icon-info"],[1,"alert-text"],[1,"row"],[1,"col-xs-10","card-inline-headline"],["data-qa","headline",1,"text-left"],[3,"modalTitle","modalContent"],[1,"card-teaser","col-xs-2"],["data-qa","smart-phone-icon",1,"fluid-image","hide-in-print",3,"alt","src"],[3,"ngClass"],["data-qa","event-headline",1,"theme-headline-color"],["data-qa","e-ticket"],[3,"name","ticket"],[3,"language","ticket"],[3,"trackDownloadLinkClick","language","ticket"],["data-qa","e-ticket-package",3,"ngClass"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,qNe,8,3,"section",1)(2,tRe,11,5),g()),n&2&&(d(),$(r.order.eticketAvailable?-1:1),d(),$(r.order.eticketAvailable&&r.order.paid?2:-1))},dependencies:[At,jm,cb,d3,Se],encapsulation:2})}return t})();var xne=(()=>{class t extends Gi{Message=K;static getModalConfiguration(){let e={component:t};return new Dn(e).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).enableTitle(K.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_HEADLINE).enableDismissable()}ngOnInit(){this.showSpinner.emit(!1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-apple-wallet-popup"]],standalone:!1,features:[dt],decls:4,vars:6,consts:[[1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"]],template:function(n,r){n&1&&(D(0,"p",0),H(1,"translate"),D(2,"p",0),H(3,"translate")),n&2&&(C("evCoreHtml",j(1,2,r.Message.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_WITH)),d(2),C("evCoreHtml",j(3,4,r.Message.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_HOW)))},dependencies:[xt,Se],encapsulation:2})}return t})();var iRe=(t,i)=>i.eventId,rRe=(t,i)=>i.id,oRe=(t,i)=>i.platzId;function aRe(t,i){if(t&1){let e=Je();h(0,"i",9),Ee("click",function(){Ne(e);let r=y(2);return Re(r.showInfoModal())})("keydown.space",function(){Ne(e);let r=y(2);return Re(r.showInfoModal())})("keydown.enter",function(){Ne(e);let r=y(2);return Re(r.showInfoModal())}),g()}if(t&2){let e=y(2);Le("aria-label",e.getAriaLabel())}}function sRe(t,i){if(t&1){let e=Je();h(0,"ev-e-ticket",16),Ee("trackDownloadLinkClick",function(r){Ne(e);let o=y(4);return Re(o.passDownloadClick.emit(r))}),g()}if(t&2){let e=y().$implicit,n=y(3);C("language",n.language)("ticket",e)}}function lRe(t,i){if(t&1){let e=Je();h(0,"ev-e-ticket",16),Ee("trackDownloadLinkClick",function(r){Ne(e);let o=y(6);return Re(o.passDownloadClick.emit(r))}),g()}if(t&2){let e=y().$implicit,n=y(5);C("language",n.language)("ticket",e.seatInfo)}}function cRe(t,i){if(t&1&&(h(0,"div",17),D(1,"ev-e-ticket-information",14),J(2,lRe,1,2,"ev-e-ticket",15),g()),t&2){let e=i.$implicit,n=y(5);d(),C("name",e.eventName)("ticket",e.seatInfo),d(),$(e.seatInfo.eTicketLinks&&!n.affiliate.callCenter?2:-1)}}function dRe(t,i){if(t&1&&ft(0,cRe,3,3,"div",17,oRe),t&2){let e=y().$implicit;ht(e.packageItems)}}function uRe(t,i){if(t&1&&(h(0,"li")(1,"div",13),D(2,"ev-e-ticket-information",14),J(3,sRe,1,2,"ev-e-ticket",15),g(),J(4,dRe,2,0),g()),t&2){let e=i.$implicit,n=y().$implicit,r=y(2);d(2),C("name",n.priceCategory.name)("ticket",e),d(),$(e.eTicketLinks&&!r.affiliate.callCenter?3:-1),d(),$(e.packageItems?4:-1)}}function pRe(t,i){if(t&1&&(h(0,"div",8)(1,"div",3)(2,"span",10),R(3),D(4,"i",11),R(5),g()(),h(6,"div",3)(7,"ul",12),ft(8,uRe,5,4,"li",null,rRe),g()()()),t&2){let e=i.$implicit;d(3),ne("",e.numberOfTickets," "),d(2),ne(" ",e.eventName," "),d(3),ht(e.priceCategory.tickets)}}function mRe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"h3",4),R(5),H(6,"translate"),J(7,aRe,1,1,"i",5),g()(),h(8,"ev-notification",6)(9,"span",7),R(10),H(11,"translate"),g()()(),h(12,"section")(13,"div",3),ft(14,pRe,10,2,"div",8,iRe),g()()()()),t&2){let e=y();d(5),ne("",j(6,5,e.Message.CHECKOUT_APP_TICKET_DIRECT_RECEIPT_WALLET_HEADLINE)," "),d(2),$(e.canInfoBeShown()?7:-1),d(),C("visible",e.ticketDownloadFailed&&e.ticketDownloadFailed.appleWallet)("type",e.NotificationType.Danger),d(2),ne(" ",j(11,7,e.Message.CHECKOUT_APP_RECEIPT_APPLE_WALLET_FAILURE)," "),d(4),ht(e.order.events)}}var Ane=(()=>{class t{modalService=E(kn);translateLoaderService=E(ti);Message=K;NotificationType=rn;affiliate;deliveryInfo;language;order;paymentInfo;ticketDownloadFailed;passDownloadClick=vo();canInfoBeShown(){return this.translateLoaderService.hasTranslation(K.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_WITH)&&this.translateLoaderService.hasTranslation(K.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_TEXT_HOW)&&this.translateLoaderService.hasTranslation(K.CHECKOUT_APP_RECEIPT_WALLET_MODAL_LAYER_HEADLINE)}canWalletBeShown(){return this.deliveryInfo.type===ui.TICKETDIRECT&&this.deliveryInfo.appleWalletPossible&&Wt.Prepayment!==this.paymentInfo.type&&Wt.PrepaymentReservation!==this.paymentInfo.type}showInfoModal(){this.modalService.showModal(xne.getModalConfiguration())}getAriaLabel(){return`${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_ADDITIONAL_INFO)} ${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_TICKET_DIRECT_RECEIPT_WALLET_HEADLINE)}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-apple-wallet"]],inputs:{affiliate:"affiliate",deliveryInfo:"deliveryInfo",language:"language",order:"order",paymentInfo:"paymentInfo",ticketDownloadFailed:"ticketDownloadFailed"},outputs:{passDownloadClick:"passDownloadClick"},standalone:!1,decls:1,vars:1,consts:[["data-qa","apple-wallet"],["data-qa","apple-wallet-content"],[1,"top-separator","theme-element-border"],[1,"row"],["data-qa","headline",1,"text-left","col-xs-12","card-inline-headline"],["tabindex","0","role","button","data-qa","info-icon",1,"icon","icon-info","small-info"],[3,"visible","type"],["data-qa","error-notice"],["data-qa","event",1,"col-xs-12"],["tabindex","0","role","button","data-qa","info-icon",1,"icon","icon-info","small-info",3,"click","keydown.space","keydown.enter"],["data-qa","event-headline",1,"col-xs-12","text-overflow-ellipsis"],[1,"icon","icon-cross-old","font-size-xxxs"],[1,"col-xs-12","square-list","smaller-font"],["data-qa","e-ticket"],[3,"name","ticket"],[3,"language","ticket"],[3,"trackDownloadLinkClick","language","ticket"],["data-qa","e-ticket-package"]],template:function(n,r){n&1&&J(0,mRe,16,9,"div",0),n&2&&$(r.canWalletBeShown()?0:-1)},dependencies:[cb,On,d3,Se],encapsulation:2})}return t})();function hRe(t,i){if(t&1&&D(0,"ev-prepayment",2)(1,"ev-billpay-information",3),t&2){let e=y();C("paymentInfo",e.paymentInfo)("order",e.order),d(),C("order",e.order)("paymentInfo",e.paymentInfo)}}function gRe(t,i){if(t&1&&D(0,"section",1),t&2){let e=y();C("evCoreHtml",e.getNextStepsMembershipText())}}function vRe(t,i){if(t&1&&(h(0,"section")(1,"h3",4),R(2),g(),D(3,"div",1),H(4,"translate"),H(5,"evAddLipaParameter"),g()),t&2){let e=y();d(2),Ae(e.deliveryInfo.name),d(),C("evCoreHtml",Qr(5,4,j(4,2,e.Message.CHECKOUT_APP_RECEIPT_EXTERNAL_DELIVERY_METHOD_NEXT_STEPS),e.LipaParameterType.POPUP))}}function _Re(t,i){if(t&1&&(h(0,"section"),D(1,"div",5),H(2,"translate"),g()),t&2){let e=y();d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_TOLL_COLLECT_NEXT_STEPS))}}function CRe(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",6)(2,"div",7),D(3,"i",8),g(),h(4,"div",9)(5,"p"),R(6),g()()()()),t&2){let e=y();d(),C("showStripe",!0),d(5),Ae(e.order.orderNotPrintableHint)}}function yRe(t,i){if(t&1&&D(0,"ev-mail-delivery",10),t&2){let e=y(2);C("order",e.order)("paymentInfo",e.paymentInfo)("deliveryInfo",e.deliveryInfo)}}function ERe(t,i){if(t&1){let e=Je();h(0,"ev-ticket-direct",15),Ee("trackDownloadLinkClick",function(r){Ne(e);let o=y(2);return Re(o.trackDownloadLinks(r))}),g()}if(t&2){let e=y(2);C("affiliate",e.affiliate)("deliveryInfo",e.deliveryInfo)("order",e.order)("paymentInfo",e.paymentInfo)("processingTicketDownload",e.processingTicketDownload)("ticketDownloadFailed",e.ticketDownloadFailed())}}function TRe(t,i){if(t&1){let e=Je();h(0,"ev-apple-wallet",16),Ee("passDownloadClick",function(r){Ne(e);let o=y(2);return Re(o.trackDownloadLinks(r))}),g()}if(t&2){let e=y(2);C("affiliate",e.affiliate)("deliveryInfo",e.deliveryInfo)("language",e.getLanguage())("order",e.order)("paymentInfo",e.paymentInfo)("ticketDownloadFailed",e.ticketDownloadFailed())}}function bRe(t,i){if(t&1){let e=Je();h(0,"ev-mobile-ticket",17),Ee("passDownloadClick",function(r){Ne(e);let o=y(2);return Re(o.trackDownloadLinks(r))}),g()}if(t&2){let e=y(2);C("affiliate",e.affiliate)("language",e.getLanguage())("order",e.order)}}function IRe(t,i){if(t&1){let e=Je();J(0,yRe,1,3,"ev-mail-delivery",10)(1,ERe,1,6,"ev-ticket-direct",11)(2,TRe,1,6,"ev-apple-wallet",12)(3,bRe,1,3,"ev-mobile-ticket",13),h(4,"ev-willcall",14),Ee("trackDownloadLinkClick",function(r){Ne(e);let o=y();return Re(o.trackDownloadLinks(r))}),g()}if(t&2){let e=y();$(e.isPostalDeliveryWithDeliveryHint()?0:-1),d(),$(e.isTicketDirectDelivery()?1:-1),d(),$(e.isTicketDirectDelivery()?2:-1),d(),$(e.isEticketDelivery()?3:-1),d(),C("deliveryInfo",e.deliveryInfo)("paymentInfo",e.paymentInfo)("customer",e.customer)}}var tH=(()=>{class t{#e=E(_i);#t=E(fv);#n=E(Ou);#i=E(rr);#r=E(Ir);#o=E(Ot);Message=K;LipaParameterType=KN;ticketDownloadFailed=nn({ticketDirect:!1,appleWallet:!1,errorMessage:""});processingTicketDownload=!1;customer;paymentInfo;deliveryInfo;order;affiliate;_receiptJson;set receiptJson(e){this._receiptJson=e,this.customer=e.customer,this.paymentInfo=e.paymentInfo,this.deliveryInfo=e.deliveryInfo,this.order=e.order}get receiptJson(){return this._receiptJson}ngOnInit(){this.processTicketDownloadFailed()}shouldShowNextSteps(){return this.showNextStepsDelivery()||this.showNextStepsPayment()||this.showNextStepsMembership()||!this.order.orderPrintable||this.affiliate.paytollPlatform}isEticketWithoutPrepayment(){return this.deliveryInfo.eTicket!==void 0&&this.paymentInfo.type!==Wt.Prepayment&&this.paymentInfo.type!==Wt.PrepaymentReservation}getLanguage(){return this.#e.get(qi.Language)}isPostalDeliveryWithDeliveryHint(){return(this.deliveryInfo.type===ui.POST_STANDARD||this.deliveryInfo.type===ui.INLAND_EXPRESS)&&ee.isNotEmpty(this.deliveryInfo.deliveryHint)}isTicketDirectDelivery(){return this.deliveryInfo.type===ui.TICKETDIRECT}isEticketDelivery(){return this.deliveryInfo.type===ui.MOBILE}showNextStepsDelivery(){let e=[ui.TICKETDIRECT,ui.WILL_CALL,ui.WILL_CALL_RESERVATION,ui.MOBILE,ui.EXTERNAL_DELIVERY];return!this.affiliate.paytollPlatform&&(e.some(n=>this.deliveryInfo.type===n)||(this.deliveryInfo.type===ui.POST_STANDARD||this.deliveryInfo.type===ui.INLAND_EXPRESS)&&ee.isNotEmpty(this.deliveryInfo.deliveryHint))}showNextStepsPayment(){return!this.affiliate.paytollPlatform&&(this.paymentInfo.type===Wt.External&&(this.paymentInfo.subtype===si.Billpay||this.paymentInfo.subtype===si.BillpayPayLater)||this.paymentInfo.type===Wt.Prepayment||this.paymentInfo.type===Wt.PrepaymentReservation||this.paymentInfo.type===Wt.ESR)}showNextStepsMembership(){return!this.affiliate.paytollPlatform&&ee.isNotEmpty(this._receiptJson.clubMembershipNextStep)}getNextStepsMembershipText(){return this.#n.translateMarkdown(this._receiptJson.clubMembershipNextStep,Aa.NEXT_STEPS)}showNextStepsExternalDelivery(){return this.order.deliveryMethodType===ui.EXTERNAL_DELIVERY}trackDownloadLinks(e){ce.hasProperty(e,"navigation_subcategory")&&ce.hasProperty(e,"navigation_element_selected")?this.#i.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:e.navigation_subcategory,navigation_element_selected:e.navigation_element_selected}}):this.#r.trace(new Error,"Next-Steps-Component: not enough data for click tracking!")}processTicketDownloadFailed(){let e=this.#o.defaultView.location.toString();if(!ee.isEmpty(En.getQueryParam(e,"downloadFailed")))if(ee.isNotEmpty(En.getQueryParam(e,"errorCode"))){this.processingTicketDownload=!0;let n=Number(En.getQueryParam(e,"errorCode"));this.#t.getErrorMessage(this.getLanguage(),n).subscribe(r=>{this.ticketDownloadFailed.set(Mn(at({},this.ticketDownloadFailed()),{errorMessage:r.message}))}),this.processingTicketDownload=!1}else{let n=Number(En.getQueryParam(e,"type"));this.ticketDownloadFailed.set(Mn(at({},this.ticketDownloadFailed()),{ticketDirect:n===c3.TICKET_DIRECT})),this.ticketDownloadFailed.set(Mn(at({},this.ticketDownloadFailed()),{appleWallet:n===c3.APPLE_WALLET}))}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-next-steps"]],inputs:{affiliate:"affiliate",receiptJson:"receiptJson"},standalone:!1,decls:7,vars:11,consts:[[3,"hidden","additionalClass","headline","headlineLevel"],[3,"evCoreHtml"],[3,"paymentInfo","order"],["data-qa","billpay",3,"order","paymentInfo"],[1,"card-inline-headline"],["data-qa","paytoll-next-steps-message",3,"evCoreHtml"],[3,"showStripe"],[1,"alert-stripe"],[1,"icon","icon-info"],["data-qa","order-not-printable-message",1,"alert-text"],[3,"order","paymentInfo","deliveryInfo"],["data-qa","ticket-direct",3,"affiliate","deliveryInfo","order","paymentInfo","processingTicketDownload","ticketDownloadFailed"],[3,"affiliate","deliveryInfo","language","order","paymentInfo","ticketDownloadFailed"],[3,"affiliate","language","order"],[3,"trackDownloadLinkClick","deliveryInfo","paymentInfo","customer"],["data-qa","ticket-direct",3,"trackDownloadLinkClick","affiliate","deliveryInfo","order","paymentInfo","processingTicketDownload","ticketDownloadFailed"],[3,"passDownloadClick","affiliate","deliveryInfo","language","order","paymentInfo","ticketDownloadFailed"],[3,"passDownloadClick","affiliate","language","order"]],template:function(n,r){n&1&&(h(0,"ev-pl-card",0),J(1,hRe,2,4)(2,gRe,1,1,"section",1)(3,vRe,6,7,"section")(4,_Re,3,3,"section")(5,CRe,7,2,"section")(6,IRe,5,7),g()),n&2&&(C("hidden",!r.shouldShowNextSteps())("additionalClass",r.isEticketWithoutPrepayment()?"notPrinted":"")("headline",r.Message.CHECKOUT_APP_RECEIPT_NEXT_STEP)("headlineLevel",2),Le("data-qa","next-steps-card"),d(),$(r.showNextStepsPayment()?1:-1),d(),$(r.showNextStepsMembership()?2:-1),d(),$(r.showNextStepsExternalDelivery()?3:-1),d(),$(r.affiliate.paytollPlatform?4:-1),d(),$(r.order.orderPrintable?-1:5),d(),$(r.showNextStepsDelivery()&&r.order.orderPrintable?6:-1))},dependencies:[xt,$n,On,DA,J$,X$,Q$,Z$,eH,Ane,JX,Se],encapsulation:2})}return t})();function xRe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"date"),g()),t&2){let e=y().$implicit;d(),ne(" ",Qr(2,1,e.value,"dd.MM.yyyy")," ")}}function ARe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.data[e.value]," ")}}function PRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.countryName," ")}}function kRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.countryName," ")}}function wRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.value," ")}}function DRe(t,i){if(t&1&&(h(0,"div")(1,"span",5),R(2),g(),h(3,"span",6),J(4,xRe,3,4,"span")(5,ARe,2,1,"span")(6,PRe,2,1,"span")(7,kRe,2,1,"span")(8,wRe,2,1,"span"),g()()),t&2){let e,n=i.$implicit,r=y(2);Le("data-qa",n.fieldName),d(2),ne(" ",n.label,": "),d(2),$((e=n.fieldName)===r.TicketPersonalisationFieldName.Birthday?4:e===r.TicketPersonalisationFieldName.Gender?5:e===r.TicketPersonalisationFieldName.Country?6:e===r.TicketPersonalisationFieldName.Nationality?7:8)}}function ORe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1),R(2),g(),h(3,"div",2),R(4),g(),h(5,"div",3),R(6),g(),h(7,"div",4),R(8),g(),ft(9,DRe,9,3,"div",null,fr),g()),t&2){let e=y();d(2),OC(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Salutation)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Title)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Firstname)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Lastname)," "),d(2),ne(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Street)," "),d(2),Vi(" ",e.specialFields.get(e.TicketPersonalisationFieldName.ZipCode)," ",e.specialFields.get(e.TicketPersonalisationFieldName.City)," "),d(2),ne(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Country)," "),d(),ht(e.personalisation)}}var nH=(()=>{class t{TicketPersonalisationFieldName=Wr;specialFields=new Map;personalisation=[];specialFieldsList=new Set([Wr.Salutation,Wr.Title,Wr.Firstname,Wr.Lastname,Wr.Street,Wr.ZipCode,Wr.City,Wr.Country]);set ticket(e){e.personalisation!==void 0&&(e.personalisation.filter(n=>this.specialFieldsList.has(n.fieldName)).forEach(n=>{n.countryName!==void 0?this.specialFields.set(n.fieldName,n.countryName):this.specialFields.set(n.fieldName,n.value)}),this.personalisation=e.personalisation.filter(n=>!this.specialFieldsList.has(n.fieldName)))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-personalisation-item-information"]],inputs:{ticket:"ticket"},standalone:!1,decls:1,vars:1,consts:[["data-qa","personalisation-information",1,"break-word","text-left"],["data-qa","name-group"],["data-qa","street-group"],["data-qa","city-group"],["data-qa","country-group"],["data-qa","label"],["data-qa","value"]],template:function(n,r){n&1&&J(0,ORe,11,8,"div",0),n&2&&$(r.specialFields.size>0||r.personalisation.length>0?0:-1)},dependencies:[$x],encapsulation:2})}return t})();function NRe(t,i){if(t&1&&(h(0,"div"),R(1),H(2,"translate"),g(),h(3,"div",1),R(4),g()),t&2){let e=y(2);d(),Ae(j(2,5,e.Message.CHECKOUT_APP_SUMMARY_PERSONALIZED_FOR)),d(3),OC(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Salutation)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Title)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Firstname)," ",e.specialFields.get(e.TicketPersonalisationFieldName.Lastname)," ")}}function RRe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"date"),g()),t&2){let e=y().$implicit;d(),ne(" ",Qr(2,1,e.value,"dd.MM.yyyy")," ")}}function MRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.data[e.value]," ")}}function FRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.countryName," ")}}function LRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.countryName," ")}}function BRe(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.value," ")}}function URe(t,i){if(t&1&&(h(0,"div")(1,"span",5),R(2),g(),h(3,"span",6),J(4,RRe,3,4,"span")(5,MRe,2,1,"span")(6,FRe,2,1,"span")(7,LRe,2,1,"span")(8,BRe,2,1,"span"),g()()),t&2){let e,n=i.$implicit,r=y(3);Le("data-qa",n.fieldName),d(2),ne(" ",n.label,": "),d(2),$((e=n.fieldName)===r.TicketPersonalisationFieldName.Birthday?4:e===r.TicketPersonalisationFieldName.Gender?5:e===r.TicketPersonalisationFieldName.Country?6:e===r.TicketPersonalisationFieldName.Nationality?7:8)}}function $Re(t,i){if(t&1&&(h(0,"div",2),R(1),g(),h(2,"div",3),R(3),g(),h(4,"div",4),R(5),g(),ft(6,URe,9,3,"div",null,fr)),t&2){let e=y(2);d(),ne(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Street)," "),d(2),Vi(" ",e.specialFields.get(e.TicketPersonalisationFieldName.ZipCode)," ",e.specialFields.get(e.TicketPersonalisationFieldName.City)," "),d(2),ne(" ",e.specialFields.get(e.TicketPersonalisationFieldName.Country)," "),d(),ht(e.personalisation)}}function HRe(t,i){if(t&1&&(h(0,"div",0),J(1,NRe,5,7)(2,$Re,8,4),g()),t&2){let e=y();d(),$(e.hasPersonalFields?1:-1),d(),$(e.hasPersonalFields?-1:2)}}var kne=(()=>{class t{Message=K;TicketPersonalisationFieldName=Wr;hasPersonalFields=!1;specialFields=new Map;personalisation=[];isFilled=!1;specialFieldsList=new Set([Wr.Salutation,Wr.Title,Wr.Firstname,Wr.Lastname,Wr.Street,Wr.ZipCode,Wr.City,Wr.Country]);personalFieldsList=new Set([Wr.Salutation,Wr.Title,Wr.Firstname,Wr.Lastname]);set ticket(e){e.personalisation!==void 0&&(e.personalisation.filter(n=>this.specialFieldsList.has(n.fieldName)).forEach(n=>{n.countryName!==void 0?this.specialFields.set(n.fieldName,n.countryName):this.specialFields.set(n.fieldName,n.value),this.personalFieldsList.has(n.fieldName)&&(this.hasPersonalFields=!0),(ee.isNotEmpty(n.value)||ee.isNotEmpty(n.countryName))&&(this.isFilled=!0)}),this.personalisation=e.personalisation.filter(n=>((ee.isNotEmpty(n.value)||ee.isNotEmpty(n.countryName))&&(this.isFilled=!0),!this.specialFieldsList.has(n.fieldName))))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-personalisation-item-reference"]],inputs:{ticket:"ticket"},standalone:!1,decls:1,vars:1,consts:[["data-qa","personalisation-information",1,"top-spacer"],["data-qa","name-group",1,"break-word","text-left"],["data-qa","street-group"],["data-qa","city-group"],["data-qa","country-group"],["data-qa","label"],["data-qa","value"]],template:function(n,r){n&1&&J(0,HRe,3,2,"div",0),n&2&&$(r.isFilled&&(r.specialFields.size>0||r.personalisation.length>0)?0:-1)},dependencies:[$x,Se],encapsulation:2})}return t})();function jRe(t,i){if(t&1&&(h(0,"span",5),R(1),g(),D(2,"i",6)),t&2){let e=y();d(),ne(" ",e.count," ")}}var wne=(()=>{class t{label;count;fee;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-order-summary-fee"]],inputs:{label:"label",count:"count",fee:"fee"},standalone:!1,decls:9,vars:5,consts:[[1,"row"],[1,"col-xs-12"],[1,"paired-list"],["data-qa","label",1,"paired-list-key"],["data-qa","price",1,"paired-list-value","price"],["data-qa","count"],[1,"icon","icon-cross-old","mini-basket-cross"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"dl",2)(3,"dt",3),J(4,jRe,3,1),R(5),H(6,"translate"),g(),h(7,"dd",4),R(8),g()()()()),n&2&&(d(4),$(r.count?4:-1),d(),ne(" ",j(6,3,r.label)," "),d(3),ne(" ",r.fee," "))},dependencies:[Se],encapsulation:2})}return t})();function KRe(t,i){if(t&1&&D(0,"div",3),t&2){let e=y(2);C("evCoreHtml",e.event.eventConfirmationInfo)}}function qRe(t,i){t&1&&D(0,"br")}function WRe(t,i){if(t&1&&D(0,"div",4),t&2){let e=y(2);C("evCoreHtml",e.event.venueConfirmationInfo)}}function zRe(t,i){if(t&1&&(h(0,"section",0)(1,"div",1)(2,"div",2),R(3),H(4,"translate"),g(),J(5,KRe,1,1,"div",3)(6,qRe,1,0,"br")(7,WRe,1,1,"div",4),g()()),t&2){let e=y();d(3),Ae(j(4,4,e.Message.CHECKOUT_APP_ADDITIONAL_INFO)),d(2),$(e.hasEventConfirmationInfo()?5:-1),d(),$(e.hasBothEventAndVenueInfo()?6:-1),d(),$(e.hasVenueConfirmationInfo()?7:-1)}}var Dne=(()=>{class t{Message=K;event;hasEventConfirmationInfo(){return ee.isNotEmpty(this.event.eventConfirmationInfo)}hasVenueConfirmationInfo(){return ee.isNotEmpty(this.event.venueConfirmationInfo)}hasAdditionalInfo(){return this.hasEventConfirmationInfo()||this.hasVenueConfirmationInfo()}hasBothEventAndVenueInfo(){return this.hasEventConfirmationInfo()&&this.hasVenueConfirmationInfo()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-and-venue-confirmation"]],inputs:{event:"event"},standalone:!1,decls:1,vars:1,consts:[["data-qa","event-and-venue-confirmation"],[1,"alert","alert-info","theme-element-radius"],[1,"alert-headline"],["data-qa","event-confirmation-info",3,"evCoreHtml"],["data-qa","venue-confirmation-info",3,"evCoreHtml"]],template:function(n,r){n&1&&J(0,zRe,8,6,"section",0),n&2&&$(r.hasAdditionalInfo()?0:-1)},dependencies:[xt,Se],encapsulation:2})}return t})();var JRe=t=>({"padding-bottom-s":t}),XRe=(t,i)=>({"no-padding-left no-padding-right":t,"no-padding-bottom no-padding-top":i}),QRe=t=>({"no-padding-top padding-bottom-s":t}),ZRe=(t,i)=>i.eventId,eMe=(t,i)=>i.id;function tMe(t,i){if(t&1&&(h(0,"h3",1),R(1),g()),t&2){let e=y().$implicit,n=y(2);d(),ne(" ",n.buildPackHeadline(e)," ")}}function nMe(t,i){if(t&1&&D(0,"ev-event-opt-ins",4),t&2){let e=y().$implicit,n=y(2);C("eventOptIns",e.eventOptIns)("resaleUrl",e.resaleUrl)("parentForm",n.parentForm)}}function iMe(t,i){if(t&1&&D(0,"ev-forms-formatter",5),t&2){let e=y().$implicit,n=y(2);C("content",n.formattedTextForTravelInformation(e))}}function rMe(t,i){if(t&1&&D(0,"ev-personalisation-item-information",8),t&2){let e=y().$implicit;C("ticket",e)}}function oMe(t,i){if(t&1&&D(0,"ev-personalisation-item-reference",8),t&2){let e=y().$implicit;C("ticket",e)}}function aMe(t,i){if(t&1&&(h(0,"div",9),D(1,"ev-ticket-package-items-summary",11),g()),t&2){let e=y().$implicit,n=y(4);d(),C("packageItems",e.packageItems)("affiliate",n.affiliate)}}function sMe(t,i){if(t&1&&D(0,"ev-voucher-information",10),t&2){let e=y().$implicit,n=y(4);C("ticket",e)("deliveryInfo",n.deliveryInfo)}}function lMe(t,i){if(t&1&&(h(0,"section",0),D(1,"ev-event-price-summary",7),J(2,rMe,1,1,"ev-personalisation-item-information",8)(3,oMe,1,1,"ev-personalisation-item-reference",8)(4,aMe,2,2,"div",9)(5,sMe,1,2,"ev-voucher-information",10),g()),t&2){let e=i.$implicit,n=y(2).$implicit,r=y(2);C("ngClass",et(7,QRe,r.isSportsShop)),Le("data-qa","ticket"),d(),C("ticket",e)("priceCategory",n.priceCategory),d(),$(r.canShowAdditionalInfo()?2:3),d(2),$(e.packageItems?4:-1),d(),$(n.priceCategory.type===r.EventType.Voucher?5:-1)}}function cMe(t,i){if(t&1&&ft(0,lMe,6,9,"section",0,eMe),t&2){let e=y().$implicit;ht(e.priceCategory.tickets)}}function dMe(t,i){if(t&1&&(h(0,"section"),D(1,"hr",6),g(),h(2,"section")(3,"ul",12)(4,"li"),R(5),D(6,"br"),R(7),g()()()),t&2){let e=y().$implicit;d(5),Ae(e.orderComment.label),d(2),Ae(e.orderComment.value)}}function uMe(t,i){if(t&1&&D(0,"ev-event-and-venue-confirmation",2),t&2){let e=y().$implicit;C("event",e)}}function pMe(t,i){t&1&&(h(0,"section"),D(1,"hr",6),g())}function mMe(t,i){if(t&1&&D(0,"ev-order-summary-fee",17),t&2){let e=i.$implicit;C("label",e.feeName)("fee",e.feeValue)}}function fMe(t,i){if(t&1&&ft(0,mMe,1,2,"ev-order-summary-fee",17,ri),t&2){let e=y(2).$implicit;ht(e.flexibleEventFees)}}function hMe(t,i){if(t&1&&D(0,"ev-order-summary-fee",14),t&2){let e=y(2).$implicit,n=y(2);C("label",n.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("fee",e.priceCategory.ticketInsuranceFee)}}function gMe(t,i){if(t&1&&D(0,"ev-order-summary-fee",15),t&2){let e=y(2).$implicit;C("label",e.priceCategory.memoryTicketFee.name)("count",e.priceCategory.memoryTicketFee.count)("fee",e.priceCategory.memoryTicketFee.fee)}}function vMe(t,i){if(t&1&&D(0,"ev-order-summary-fee",16),t&2){let e=y(2).$implicit,n=y(2);C("label",n.Message.CHECKOUT_APP_SHOPPING_CART_GIFT_WRAPPING)("fee",e.priceCategory.giftWrapFee)}}function _Me(t,i){if(t&1&&(J(0,pMe,2,0,"section"),h(1,"section",13),J(2,fMe,2,0)(3,hMe,1,2,"ev-order-summary-fee",14)(4,gMe,1,3,"ev-order-summary-fee",15)(5,vMe,1,2,"ev-order-summary-fee",16),g()),t&2){let e=y().$implicit,n=y(2);$(n.canShowAdditionalInfo()?-1:0),d(2),$(n.hasFlexibleEventFees(e)?2:-1),d(),$(n.hasTicketInsurance(e)?3:-1),d(),$(n.showTicketBasedMemoryTicketFee(e)?4:-1),d(),$(n.hasGiftWrap(e)?5:-1)}}function CMe(t,i){if(t&1&&(h(0,"div")(1,"div")(2,"section",0),J(3,tMe,2,1,"h3",1),D(4,"ev-special-event-info",2)(5,"ev-event-information-summary",3),J(6,nMe,1,3,"ev-event-opt-ins",4)(7,iMe,1,1,"ev-forms-formatter",5),g(),J(8,cMe,2,0)(9,dMe,8,2)(10,uMe,1,1,"ev-event-and-venue-confirmation",2)(11,_Me,6,5),h(12,"section",0),D(13,"hr",6),g()()()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(2);Le("data-qa","order-position"),d(),Le("data-qa","event-type-"+e.priceCategory.type),d(),C("ngClass",et(15,JRe,o.isSportsShop)),d(),$(o.isSportsShop&&o.affiliate.themingSettings.sportsPlatformStyles!==o.SportsPlatformStyles.MICO&&n===0?3:-1),d(),C("event",e),d(),C("eventInformation",o.eventInformationMap.get(e.priceCategory==null?null:e.priceCategory.orderPositionId))("affiliate",o.affiliate)("hasAfterSalesBookingType",o.hasAfterSalesBookingType()),d(),$(o.hasEventOptIns(e)?6:-1),d(),$(o.hasAdditionalTravelInformation(e)?7:-1),d(),$(o.hasAfterSalesBookingType()?-1:8),d(),$(e.orderComment&&o.canShowAdditionalInfo()?9:-1),d(),$(o.canShowAdditionalInfo()?10:-1),d(),$(o.hasEventFees(e)?11:-1),d(),C("ngClass",Un(17,XRe,n===r-1&&!o.isSportsShop,o.isSportsShop))}}function yMe(t,i){if(t&1&&ft(0,CMe,14,20,"div",null,ZRe),t&2){let e=i.$implicit,n=y();ht(n.orderService.getEvents(e))}}var One=(()=>{class t{#e=E(Al);#t=E(ai);#n=E(ti);Message=K;orderService=E(yi);affiliate;parentForm;set pageJson(e){this.setDataSets(e.order,e.deliveryInfo)}set receiptJson(e){this.setDataSets(e.order,e.deliveryInfo),this.#o=!0}isSportsShop=!1;packNumbers=ai.NON_PACK_NUMBERS;SportsPlatformStyles=Qc;eventInformationMap=new Map;#i;#r;#o=!1;ngOnInit(){this.isSportsShop=this.#t.isSportsShop(this.affiliate),this.isSportsShop&&(this.#t.createSportsPack(this.order),this.packNumbers=this.#t.getSportsPackNumbers())}get order(){return this.#i}get deliveryInfo(){return this.#r}hasEventFees(e){return this.hasFlexibleEventFees(e)||this.hasTicketInsurance(e)||this.hasGiftWrap(e)||this.hasMemoryTicketFee(e)&&!this.#e.hasEventAftersalesBookingType(e.priceCategory.bookingType)}hasFlexibleEventFees(e){return Array.isArray(e.flexibleEventFees)&&e.flexibleEventFees.length>0}hasTicketInsurance(e){return e.priceCategory.ticketInsuranceFeeInt>0&&ee.isNotEmpty(e.priceCategory.ticketInsuranceFee)}hasMemoryTicketFee(e){return e.priceCategory.memoryTicketFee?.count>0}hasGiftWrap(e){return e.priceCategory.giftWrapFeeInt>0&&ee.isNotEmpty(e.priceCategory.giftWrapFee)}canShowAdditionalInfo(){return this.#o}buildPackHeadline(e){return this.#t.buildSportsPackHeadline(e,this.packNumbers.length)}hasAfterSalesBookingType(){return this.#e.hasOrderAftersalesBookingType(this.order)}showTicketBasedMemoryTicketFee(e){return this.hasMemoryTicketFee(e)&&!this.#e.hasEventAftersalesBookingType(e.priceCategory.bookingType)}hasEventOptIns(e){return Dt.isNotEmpty(e.eventOptIns)}hasAdditionalTravelInformation(e){return e.priceCategory.additionalTravelInformation!==void 0&&ee.isNotEmpty(e.priceCategory.additionalTravelInformation)}formattedTextForTravelInformation(e){let n=this.#n.instantTranslate(K.CHECKOUT_APP_SUMMARY_ADDITIONAL_TRAVEL_INFORMATION_LINK_TEXT),r=this.#n.instantTranslate(K.CHECKOUT_APP_SUMMARY_ADDITIONAL_TRAVEL_INFORMATION),o=new Dn(co.buildHtml(e.priceCategory.additionalTravelInformation)).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).setWidth(er.MEDIUM).enableDismissable(),s=new Mp(n,o),c=r.split(mv.AdditionalTravelInformation).map(v=>new Hm(v));return c.splice(1,0,new Rp(s)),c.reduce((v,b)=>v.append(b),new po)}setDataSets(e,n){this.#i=e,this.#r=n,this.createEventInformationMap(e)}createEventInformationMap(e){e.events.forEach(n=>{this.eventInformationMap.set(n.priceCategory.orderPositionId,Wa.convertEvent(n))})}EventType=So;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-order-summary-information"]],inputs:{affiliate:"affiliate",parentForm:"parentForm",pageJson:"pageJson",receiptJson:"receiptJson"},standalone:!1,decls:2,vars:0,consts:[[3,"ngClass"],[1,"p-order-pack-headline","margin-bottom-s"],[3,"event"],[3,"eventInformation","affiliate","hasAfterSalesBookingType"],[3,"eventOptIns","resaleUrl","parentForm"],["data-qa","travel-information",3,"content"],["aria-hidden","true",1,"card-separator","no-margin"],[3,"ticket","priceCategory"],[3,"ticket"],[1,"margin-top-s"],[3,"ticket","deliveryInfo"],[3,"packageItems","affiliate"],[1,"square-list"],["data-qa","order-position-fees"],["data-qa","ticket-insurance",3,"label","fee"],["data-qa","memory-ticket",3,"label","count","fee"],["data-qa","gift-wrap",3,"label","fee"],["data-qa","flexible-event-fees",3,"label","fee"]],template:function(n,r){n&1&&ft(0,yMe,2,0,null,null,ri),n&2&&ht(r.packNumbers)},dependencies:[At,Zr,n3,nH,kne,x1,S1,A1,wne,Dne,e3,ab],encapsulation:2})}return t})();var TMe=t=>({"padding-top-m":t});function bMe(t,i){if(t&1&&(h(0,"dl",1)(1,"dt",11)(2,"span",12),R(3),g(),D(4,"i",13),R(5),g(),h(6,"dd",14),R(7),g()()),t&2){let e=y();d(3),ne(" ",e.prices.memoryTicketCount," "),d(2),ne(" ",e.prices.memoryTicketName," "),d(2),ne(" ",e.prices.memoryTicketFee," ")}}function IMe(t,i){if(t&1&&(h(0,"dl",2)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",14),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_SERVICE_FEE)," "),d(3),ne(" ",e.prices.serviceFee," ")}}function SMe(t,i){if(t&1&&(h(0,"dl",3)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",14),D(5,"ev-forms-formatter",15),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_PAYMENT_COSTS)," "),d(3),C("content",e.prices.paymentFeeFormat)}}function xMe(t,i){if(t&1&&(h(0,"dl",4)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",16),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_INTEREST_FEE_COST)," "),d(3),ne(" ",e.prices.interestFee," ")}}function AMe(t,i){if(t&1&&(h(0,"dl",5)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",16),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)," "),d(3),ne(" ",e.prices.ticketInsuranceFee," ")}}function PMe(t,i){if(t&1&&(h(0,"dl",6)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",16),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_DONATION)," "),d(3),ne(" ",e.prices.donationAmount," ")}}function kMe(t,i){if(t&1&&(h(0,"dl",7)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",14),R(5),g()()),t&2){let e=y();C("ngClass",et(5,TMe,e.prices.hasFeeBesidesDeliveryOrOrderFee())),d(2),ne(" ",j(3,3,e.Message.CHECKOUT_APP_ORDER_FEE)," "),d(3),ne(" ",e.prices.orderFee," ")}}function wMe(t,i){if(t&1&&(h(0,"dd",17),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}function DMe(t,i){if(t&1&&ft(0,wMe,2,1,"dd",17,fr),t&2){let e=y(2);ht(e.prices.premiumFeeMessages)}}function OMe(t,i){if(t&1&&(h(0,"dl",8)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",16),R(5),H(6,"translate"),g(),J(7,DMe,2,0),g()),t&2){let e=y();d(2),ne(" ",j(3,3,e.Message.CHECKOUT_APP_DELIVERY_COST)," "),d(3),ne(" ",j(6,5,e.prices.deliveryFee)," "),d(2),$(e.prices.hasPremiumFeeMessages()?7:-1)}}function NMe(t,i){if(t&1&&(h(0,"dl",9)(1,"dt",11),R(2),H(3,"translate"),g(),h(4,"dd",18),R(5),H(6,"translate"),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_DELIVERY_COST_MEMORY_TICKETS)," "),d(3),ne(" ",j(6,4,e.prices.deliveryFeeMemoryTickets)," ")}}function RMe(t,i){if(t&1&&(h(0,"dl",10)(1,"dt",19),R(2),H(3,"translate"),g(),h(4,"dd",20),R(5),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.prices.voucherAmountLabel)," "),d(3),ne(" ",e.prices.voucherAmount," ")}}var Nne=(()=>{class t extends nu{#e=E(Al);Message=K;showDeliveryFee(){return!this.#e.hasOrderAftersalesBookingType(this.order)&&!this.prices.affiliate.paytollPlatform&&this.prices.isDeliveryFeeVisible()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-fees"]],standalone:!1,features:[dt],decls:11,vars:10,consts:[["data-qa","order-fees",1,"fees"],["data-qa","memory-ticket",1,"paired-list"],["data-qa","service-fee",1,"paired-list"],["data-qa","payment-fee",1,"paired-list"],["data-qa","interest-fee",1,"paired-list"],["data-qa","order-based-insurance",1,"paired-list"],["data-qa","donation-fee",1,"paired-list"],["data-qa","order-fee",1,"paired-list",3,"ngClass"],["data-qa","delivery-fee",1,"paired-list"],["data-qa","delivery-fee-memory-ticket",1,"paired-list"],["data-qa","voucher",1,"paired-list","padding-top-m"],["data-qa","label",1,"paired-list-key"],["data-qa","count"],[1,"icon","icon-cross-old","mini-basket-cross"],["data-qa","price",1,"paired-list-value","price"],[3,"content"],["data-qa","price",1,"paired-list-value"],["data-qa","premium-message",1,"paired-list-value","full","hint"],["data-qa","fee",1,"paired-list-value"],[1,"paired-list-key"],[1,"paired-list-value","price"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,bMe,8,3,"dl",1)(2,IMe,6,4,"dl",2)(3,SMe,6,4,"dl",3)(4,xMe,6,4,"dl",4)(5,AMe,6,4,"dl",5)(6,PMe,6,4,"dl",6)(7,kMe,6,7,"dl",7)(8,OMe,8,7,"dl",8)(9,NMe,7,6,"dl",9)(10,RMe,6,4,"dl",10),g()),n&2&&(d(),$(r.prices.hasMemoryTicketFee()?1:-1),d(),$(r.prices.hasServiceFee()?2:-1),d(),$(r.prices.hasPaymentFee()?3:-1),d(),$(r.prices.hasInterestFee()?4:-1),d(),$(r.prices.orderBasedTicketInsuranceActive()?5:-1),d(),$(r.prices.hasDonation()?6:-1),d(),$(r.prices.hasOrderFee()?7:-1),d(),$(r.showDeliveryFee()?8:-1),d(),$(r.prices.hasDeliveryFeeMemoryTickets()?9:-1),d(),$(r.prices.hasVoucherAmount()?10:-1))},dependencies:[At,Zr,Se],encapsulation:2})}return t})();var iH=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-confirmation-checkmark"]],standalone:!1,decls:9,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","version","1.1","data-qa","success-icon","width","80px","height","80px","viewBox","0 0 80 80","preserveAspectRatio","xMidYMid meet",1,"card-header-success-icon"],["cx","40","cy","40","r","40","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2.85714px","opacity","0"],["cx","40","cy","40","r","28.57142857142857","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2px"],["cx","40","cy","40","r","28.57142857142857","fill","#3bc83c"],["id","successStroke","data-qa","success-stroke","d","M23,40L34.285714285714285,51.285714285714285,58.695098807413736,28.309965963892967","fill","none","stroke","#ffffff","transform","matrix(0.95,0,0,0.95,2.0424,1.9899)",1,"card-header-success-stroke",2,"stroke-width","5px","stroke-dasharray","49.4821px, 49.4821px","stroke-linecap","round","stroke-linejoin","round","opacity","1"]],template:function(n,r){n&1&&(qE(),h(0,"svg",0)(1,"desc"),R(2,"Created with Snap"),g(),D(3,"defs"),h(4,"g"),D(5,"circle",1)(6,"circle",2)(7,"circle",3)(8,"path",4),g()())},encapsulation:2})}return t})();var LMe=t=>({"padding-top-s no-margin-top no-margin-bottom":t}),Rne=(t,i)=>({"bottom-separator theme-element-border theme-box-shadow-bottom":t,"padding-top-s no-padding-bottom":i}),BMe=(t,i)=>({$implicit:t,dataQa:"delivery-info",label:i}),UMe=(t,i)=>({$implicit:t,dataQa:"delivery-info-memory-tickets",label:i}),$Me=t=>({"text-overflow-ellipsis":t}),HMe=t=>({"no-margin-bottom":t});function VMe(t,i){if(t&1&&(h(0,"section",1),ci(1,5),g()),t&2){let e=y(),n=Fn(3);C("ngClass",Un(3,Rne,!e.paymentInfo.showPaymentDetails&&!e.deliveryInfoMemoryTickets,e.isSportsShop)),d(),C("ngTemplateOutlet",n)("ngTemplateOutletContext",Un(6,BMe,e.deliveryInfo,e.Message.CHECKOUT_APP_SUMMARY_DELIVERY))}}function jMe(t,i){if(t&1&&(h(0,"section",1),ci(1,5),g()),t&2){let e=y(),n=Fn(3);C("ngClass",Un(3,Rne,!e.paymentInfo.showPaymentDetails,e.isSportsShop)),d(),C("ngTemplateOutlet",n)("ngTemplateOutletContext",Un(6,UMe,e.deliveryInfoMemoryTickets,e.Message.CHECKOUT_APP_SUMMARY_DELIVERY_MEMORY_TICKETS))}}function GMe(t,i){if(t&1&&(R(0),H(1,"translate"),h(2,"span",6),R(3),g()),t&2){let e=y(2);ne(" ",j(1,2,e.Message.CHECKOUT_APP_DELIVERY_TO)," "),d(3),ne(" ",e.deliveryInfoString," ")}}function KMe(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.GLOBAL_ADVICE_TICKET_DIRECT)," ")}}function qMe(t,i){if(t&1&&(h(0,"div",1),R(1),H(2,"translate"),h(3,"span",6),D(4,"ev-forms-formatter",7),g(),J(5,GMe,4,4)(6,KMe,3,3,"span",6),g()),t&2){let e,n=i.$implicit,r=i.dataQa,o=i.label,s=y();C("ngClass",et(7,$Me,s.isWillCall(n))),Le("data-qa",r),d(),ne(" ",j(2,5,o),": "),d(3),C("content",s.DeliveryMethodsBuilderUtils.determineDisplayText(n)),d(),$((e=n.type)===s.DeliveryMethodType.POST_STANDARD?5:e===s.DeliveryMethodType.TICKETDIRECT?6:-1)}}function WMe(t,i){if(t&1&&(R(0),H(1,"translate"),h(2,"span",6),R(3),g()),t&2){let e=y(3);ne(" ",j(1,2,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_NUMBER)," "),d(3),ne(" ",e.paymentInfo.debit.account.accountNumber," ")}}function zMe(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(4);d(),ne(" ",e.paymentInfo.debit.ibanWithoutBic.iban," ")}}function YMe(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(4);d(),ne(" ",e.paymentInfo.debit.iban.iban," ")}}function JMe(t,i){if(t&1&&(R(0),H(1,"translate"),J(2,zMe,2,1,"span",6)(3,YMe,2,1,"span",6)),t&2){let e=y(3);ne(" ",j(1,3,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_IBAN)," "),d(2),$(e.paymentInfo.debit.ibanWithoutBic&&e.paymentInfo.debit.ibanWithoutBic.iban?2:-1),d(),$(e.paymentInfo.debit.iban&&e.paymentInfo.debit.iban.iban?3:-1)}}function XMe(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g(),J(3,WMe,4,4)(4,JMe,4,5)),t&2){let e,n=y(2);d(),ne(" ",j(2,2,n.Message.CHECKOUT_APP_PAYMENT_DEBIT),", "),d(2),$((e=n.paymentInfo.subtype)===0?3:e===1?4:-1)}}function QMe(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(3);d(),ne(" ",e.paymentInfo.preAuth.name," ")}}function ZMe(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(3);d(),ne(" ",e.paymentInfo.externalPayment.name," ")}}function e3e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(3);d(),ne(" ",e.paymentInfo.creditCard.name," ")}}function t3e(t,i){if(t&1&&J(0,QMe,2,1,"span",6)(1,ZMe,2,1,"span",6)(2,e3e,2,1,"span",6),t&2){let e=y(2);$(e.paymentInfo.preAuth&&e.paymentInfo.preAuth.name?0:-1),d(),$(e.paymentInfo.externalPayment&&e.paymentInfo.externalPayment.name?1:-1),d(),$(e.paymentInfo.creditCard&&e.paymentInfo.creditCard.name?2:-1)}}function n3e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.paymentInfo.prePayment.name," ")}}function i3e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.paymentInfo.prePayment.name," ")}}function r3e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.paymentInfo.prePayment.name," ")}}function o3e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.paymentInfo.paymentData.name," ")}}function a3e(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_INFO_DEBIT)," ")}}function s3e(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_INFO_BANKTRANSFER)," ")}}function l3e(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYOVERTIME)," ")}}function c3e(t,i){if(t&1&&(h(0,"span",6),R(1),H(2,"translate"),g()),t&2){let e=y(3);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYLATER)," ")}}function d3e(t,i){if(t&1&&J(0,a3e,3,3,"span",6)(1,s3e,3,3,"span",6)(2,l3e,3,3,"span",6)(3,c3e,3,3,"span",6),t&2){let e,n=y(2);$((e=n.paymentInfo.subtype)===n.KlarnaSubtypes.directDebit?0:e===n.KlarnaSubtypes.directBankTransfer?1:e===n.KlarnaSubtypes.payOverTime?2:e===n.KlarnaSubtypes.payLater?3:-1)}}function u3e(t,i){if(t&1&&(h(0,"section",2)(1,"span",8),R(2),H(3,"translate"),J(4,XMe,5,4)(5,t3e,3,3)(6,n3e,2,1,"span",6)(7,i3e,2,1,"span",6)(8,r3e,2,1,"span",6)(9,o3e,2,1,"span",6)(10,d3e,4,1),g()()),t&2){let e,n=y();C("ngClass",et(5,HMe,n.hasSportsPacks)),d(2),ne(" ",j(3,3,n.Message.CHECKOUT_APP_SUMMARY_PAYMENT),": "),d(2),$((e=n.paymentInfo.type)===n.PaymentMethodType.Debit?4:e===n.PaymentMethodType.External?5:e===n.PaymentMethodType.Prepayment?6:e===n.PaymentMethodType.PrepaymentReservation?7:e===n.PaymentMethodType.ESR?8:e===n.PaymentMethodType.CashByCourier?9:e===n.PaymentMethodType.Klarna?10:-1)}}var NA=class t{static fieldNameWhitelistSet=new Set([Ue.CustomerSalutation,Ue.DeliverySalutation,Ue.CustomerFirstName,Ue.DeliveryFirstName,Ue.CustomerLastName,Ue.DeliveryLastName,Ue.CustomerStreetAndNo,Ue.DeliveryStreetAndNo,Ue.CustomerPostalCode,Ue.DeliveryPostalCode,Ue.CustomerCity,Ue.DeliveryCity,Ue.CustomerCountry,Ue.DeliveryCountry,Ue.CustomerProvince,Ue.DeliveryProvince,Ue.CustomerDeliveryArea,Ue.DeliveryDeliveryArea]);Message=K;PaymentMethodType=Wt;DeliveryMethodType=ui;KlarnaSubtypes=Uu;DeliveryMethodsBuilderUtils=Yl;deliveryInfo;deliveryInfoMemoryTickets;paymentInfo;set customerForm(i){this.deliveryInfoString=this.getDeliveryString(i)}isPaytollPlatform;hasSportsPacks=!1;isSportsShop=!1;hasAfterSalesBookingType=!1;deliveryInfoString;getDeliveryString(i){let e="",n;return this.hasAlternativeDeliveryInformation(i)?n=i.deliveryData:n=i.invoiceData,n!==void 0&&n.length>0&&n.filter(r=>t.fieldNameWhitelistSet.has(r.fieldName)).forEach((r,o,s)=>{typeof r.value=="string"&&r.value.length>0&&(e+=`${r.value}`),r.separator===Gm.Break&&o!==s.length-1?e+=", ":e+=" "}),e}isWillCall(i){return i.type===ui.WILL_CALL||i.type===ui.WILL_CALL_RESERVATION}hasAlternativeDeliveryInformation(i){return i.deliveryData!==void 0&&Array.isArray(i.deliveryData)&&i.deliveryData.length>0}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-delivery-payment-summary"]],inputs:{deliveryInfo:"deliveryInfo",deliveryInfoMemoryTickets:"deliveryInfoMemoryTickets",paymentInfo:"paymentInfo",customerForm:"customerForm",isPaytollPlatform:"isPaytollPlatform",hasSportsPacks:"hasSportsPacks",isSportsShop:"isSportsShop",hasAfterSalesBookingType:"hasAfterSalesBookingType"},standalone:!1,decls:7,vars:6,consts:[["delivery",""],[3,"ngClass"],["data-qa","payment-info",1,"theme-element-border","theme-box-shadow",3,"ngClass"],[1,"card-separator-spacer"],["aria-hidden","true",1,"card-separator",3,"ngClass"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"theme-text-highlight-color","card-highlight"],[3,"content"],[1,"card-prevent-overlaps"]],template:function(e,n){e&1&&(J(0,VMe,2,9,"section",1)(1,jMe,2,9,"section",1)(2,qMe,7,9,"ng-template",null,0,vi)(4,u3e,11,7,"section",2),h(5,"div",3),D(6,"hr",4),g()),e&2&&($(!n.hasAfterSalesBookingType&&!n.isPaytollPlatform&&n.deliveryInfo?0:-1),d(),$(!n.isPaytollPlatform&&n.deliveryInfoMemoryTickets?1:-1),d(3),$(n.paymentInfo.showPaymentDetails?4:-1),d(2),C("ngClass",et(4,LMe,n.isSportsShop)))},dependencies:[At,hr,Zr,Se],encapsulation:2})};var Mne=(t,i)=>i.id;function m3e(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.name," ")}}function f3e(t,i){if(t&1&&(h(0,"section",2)(1,"ev-forms-checkbox",3)(2,"span",4),J(3,m3e,2,1,"span",5),D(4,"span",6),g()(),D(5,"ev-forms-field-error",7),g()),t&2){let e=i.$implicit,n=y(2);d(),C("fieldName",e.id.toString())("value",!0),d(2),$(e.name?3:-1),d(),C("evCoreHtml",e.description),d(),C("field",n.parentForm.getField(e.id.toString()))}}function h3e(t,i){if(t&1&&(h(0,"div",0),ft(1,f3e,6,5,"section",2,Mne),g()),t&2){let e=y();C("formGroup",e.parentForm.control),d(),ht(e.optIns.affiliateOptIns)}}function g3e(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y().$implicit;d(),Ae(e.name)}}function v3e(t,i){if(t&1&&(h(0,"section",2)(1,"div",8)(2,"div",9),D(3,"input",10)(4,"label",11),g()(),h(5,"div",12)(6,"div",4),J(7,g3e,2,1,"span",5),D(8,"span",6),g()()()),t&2){let e=i.$implicit;d(7),$(e.name?7:-1),d(),C("evCoreHtml",e.description)}}function _3e(t,i){if(t&1&&(h(0,"div",1),ft(1,v3e,9,2,"section",2,Mne),g()),t&2){let e=y();d(),ht(e.optIns.affiliateOptIns)}}var RA=(()=>{class t{Message=K;parentForm;optIns;ngOnInit(){this.parentForm!==void 0&&this.optIns!==void 0&&this.buildOptInControls()}buildOptInControls(){this.optIns.affiliateOptIns.forEach(e=>{this.parentForm.set(new Gt({fieldName:e.id.toString(),type:Mt.Checkbox,mandatory:e.mandatory,value:!1},[new ir(K.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_NOT_ACCEPTED)]))})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-affiliate-opt-ins"]],inputs:{parentForm:"parentForm",optIns:"optIns"},standalone:!1,decls:2,vars:1,consts:[["data-qa","affiliate-opt-in-card",1,"font-size-s",3,"formGroup"],["data-qa","affiliate-opt-in-card",1,"font-size-s"],["data-qa","opt-in"],[3,"fieldName","value"],[1,"font-size-s"],["data-qa","name",1,"display-block","u-font-weight-700"],["data-qa","description",1,"external-content",3,"evCoreHtml"],[3,"field"],["data-qa","checkbox",1,"checkbox"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","checkbox","checked","","disabled","",1,"checkbox-input"],[1,"theme-text-color","label","disabled"],["data-qa","checkbox-label",1,"checkbox-label"]],template:function(n,r){n&1&&J(0,h3e,3,1,"div",0)(1,_3e,3,0,"div",1),n&2&&$(r.parentForm?0:1)},dependencies:[mr,ko,Pn,wn,xt],encapsulation:2})}return t})();var y3e=(t,i)=>i.eventId,E3e=(t,i)=>i.id;function T3e(t,i){if(t&1&&(h(0,"p",6)(1,"span",15),R(2),g()()),t&2){let e=y().$implicit;d(2),Ae(e.shortDescription)}}function b3e(t,i){if(t&1&&(h(0,"span",7),R(1),H(2,"translate"),g()),t&2){let e=y(5);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODE_SUBHEADLINE),"")}}function I3e(t,i){if(t&1&&(h(0,"span",8),R(1),H(2,"translate"),g()),t&2){let e=y(5);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODES_SUBHEADLINE),"")}}function S3e(t,i){if(t&1&&(h(0,"li",10),R(1),g()),t&2){let e=i.$implicit;d(),Ae(e)}}function x3e(t,i){if(t&1){let e=Je();h(0,"section")(1,"div",4)(2,"h3",5),R(3),g(),J(4,T3e,3,1,"p",6),g(),h(5,"div",4),J(6,b3e,3,3,"span",7)(7,I3e,3,3,"span",8),h(8,"ul",9),ft(9,S3e,2,1,"li",10,fr),g()()(),h(11,"section")(12,"div",4)(13,"div",11)(14,"button",12),Ee("click",function(){let r=Ne(e).$implicit,o=y(4);return Re(o.openPromotionPopupOn(r.promotionUrl))}),D(15,"i",13),h(16,"span",14),R(17),H(18,"translate"),g()()()()()}if(t&2){let e=i.$implicit,n=y(4);d(3),Ae(e.name),d(),$(e.shortDescription!==void 0?4:-1),d(2),$(e.downloadCodes.length===1?6:-1),d(),$(e.downloadCodes.length>1?7:-1),d(2),ht(e.downloadCodes),d(8),Ae(j(18,5,n.Message.CHECKOUT_APP_TO_DOWNLOAD_CODE_PROMOTION))}}function A3e(t,i){if(t&1&&(h(0,"div",1)(1,"section",2),D(2,"ev-event-information-summary",3),g(),ft(3,x3e,19,7,null,null,E3e),g()),t&2){let e=y().$implicit,n=y(2);d(2),C("eventInformation",n.createEventInformationFrom(e))("affiliate",n.affiliate),d(),ht(e.downloadCode.downloadCodeJsons)}}function P3e(t,i){if(t&1&&J(0,A3e,5,2,"div",1),t&2){let e=i.$implicit,n=y(2);$(n.downloadCodesAreAvailableFor(e)?0:-1)}}function k3e(t,i){if(t&1&&(h(0,"ev-pl-card",0),ft(1,P3e,1,1,null,null,y3e),g()),t&2){let e=y();C("headline",e.Message.CHECKOUT_APP_RECEIPT_DOWNLOAD_CODE_HEADLINE)("headlineLevel",2),Le("data-qa","download-codes"),d(),ht(e.order.events)}}var rH=(()=>{class t{Message=K;order;affiliate;anyEventHoldsDownloadCodes(){return this.order.events.some(e=>this.downloadCodesAreAvailableFor(e))}downloadCodesAreAvailableFor(e){return e.downloadCode!==void 0&&e.downloadCode.downloadCodeJsons.length>0}createEventInformationFrom(e){return Wa.convertEvent(e)}openPromotionPopupOn(e){En.openPopup(En.addProtocolToUri(e),!0,"Info","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=no")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-download-codes"]],inputs:{order:"order",affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[[3,"headline","headlineLevel"],["data-qa","event-with-codes"],[1,"unit-separator"],[3,"eventInformation","affiliate"],[1,"row"],[1,"card-section-headline","col-xs-12"],["data-qa","short-description",1,"card-paragraph","theme-text-variant-color","col-xs-12"],["data-qa","one-code-message",1,"col-xs-12"],["data-qa","multiple-code-message",1,"col-xs-12"],[1,"square-list","col-xs-12","u-color-highlight","theme-text-highlight-color"],["id","downloadCodes","data-qa","code"],[1,"col-xs-12"],["id","toDownloadCodePromotionBtn","data-qa","download-button",1,"btn","btn-secondary","btn-lg","btn-block","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius",3,"click"],[1,"icon","icon-arrow-upright"],[1,"btn-text"],[1,"display-block"]],template:function(n,r){n&1&&J(0,k3e,3,3,"ev-pl-card",0),n&2&&$(r.anyEventHoldsDownloadCodes()?0:-1)},dependencies:[$n,x1,Se],encapsulation:2})}return t})();var Fne=(()=>{class t{injectorService=E($s);affiliateService=E(Tn);window=E(tr);gptPreloaderScript='<script async="async" src="https://www.googletagservices.com/tag/js/gpt.js"><\/script>';preloaderScriptLoaded=!1;gptQueue=[];initPreloaderScript(){this.preloaderScriptLoaded||this.injectorService.append(this.gptPreloaderScript,{done:()=>{this.preloaderScriptLoaded=!0,this.gptQueue.forEach(e=>{this.defineAdSpace(e)})}})}defineAdSpace(e){let n=this.window.googletag;this.preloaderScriptLoaded&&ce.isObject(n)?(n.cmd.push(()=>{let r=n.defineSlot(e.adPath,e.adSize,e.containerId);if(ce.isObject(r)){let o=r.addService(n.pubads());!ce.isNullable(e.targeting)&&e.targeting.length>0&&e.targeting.forEach(s=>{o.setTargeting(s.targetingCategory,s.targetingGroup)})}n.pubads().setTargeting("affiliate",this.affiliateService.getAffiliate().code),n.pubads().enableSingleRequest(),n.pubads().setForceSafeFrame(!0),n.pubads().setRequestNonPersonalizedAds(1),n.pubads().collapseEmptyDivs(),n.enableServices()}),n.cmd.push(()=>{n.display(e.containerId)})):this.gptQueue.push(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var D3e=["container"],Lne=(()=>{class t{gptAdserverSpaceService=E(Fne);renderer=E(Er);gptAdConfiguration;container;ngAfterContentInit(){ce.isObject(this.gptAdConfiguration)&&(this.gptAdserverSpaceService.initPreloaderScript(),this.renderer.setAttribute(this.container.nativeElement,"id",this.gptAdConfiguration.containerId),this.gptAdserverSpaceService.defineAdSpace(this.gptAdConfiguration))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gpt-adserver"]],viewQuery:function(n,r){if(n&1&&Qi(D3e,7),n&2){let o;Ni(o=Ri())&&(r.container=o.first)}},inputs:{gptAdConfiguration:"gptAdConfiguration"},standalone:!1,decls:3,vars:0,consts:[["container",""],[1,"banner-image",2,"overflow","hidden"]],template:function(n,r){n&1&&(h(0,"div",1),D(1,"div",null,0),g())},encapsulation:2})}return t})();var Bne=(()=>{class t{paymentInfo;Message=K;getInstallmentsString(){return`${this.paymentInfo.externalPayment.installmentNumber} x ${this.paymentInfo.externalPayment.installmentAmountString}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-installments-information"]],inputs:{paymentInfo:"paymentInfo"},standalone:!1,decls:6,vars:4,consts:[["data-qa","installment-information",1,"paired-list"],["data-qa","label",1,"paired-list-key"],["data-qa","number",1,"paired-list-value","price"]],template:function(n,r){n&1&&(h(0,"dl",0)(1,"dt",1),R(2),H(3,"translate"),g(),h(4,"dd",2),R(5),g()()),n&2&&(d(2),ne(" ",j(3,2,r.Message.CHECKOUT_APP_INSTALLMENTS)," "),d(3),ne("",r.getInstallmentsString()," "))},dependencies:[Se],encapsulation:2})}return t})();var D1=function(t){return t.TRAVEL_WIDGET_READY="EVENTIM_MADE_WIDGET_READY",t.SHOW_RECOMMENDATIONS="ShowRecommendationsForTicketOrder",t.HEIGHT_CHANGED="ContentHeightChanged",t.ERROR_OCCURRED="ErrorOccurred",t.CUSTOMER_CONSENT="customerConsent",t}(D1||{});var R3e=["evTravelIframe"],Une=(()=>{class t{iframe;receiptJson;widgetUrl;affiliateJson;iframeUrl;iframeHidden=!0;window=E(tr);renderer=E(Er);sanitizer=E(ga);webshopCookieService=E(_i);logService=E(bt);consentCookieService=E(lh);subscriptions=[];firstTimeConsent=!0;ngOnInit(){this.iframeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.widgetUrl),this.window.addEventListener("message",e=>this.handleMessageData(e))}ngOnDestroy(){this.window.removeEventListener("message",e=>this.handleMessageData(e)),this.subscriptions.forEach(e=>{e.unsubscribe()})}getPayload(){return{eventId:this.receiptJson.order.events[0].tdlEventId,dateOfEvent:Kd.getIsoFormattedDateOnly(this.receiptJson.order.events[0].eventDate),orderId:this.receiptJson.order.orderNumber,numberOfTickets:this.receiptJson.order.numberOfTickets,customerNumber:this.receiptJson.order.customerId,language:this.webshopCookieService.get(qi.Language),affiliate:this.affiliateJson.code}}handleMessageData(e){if(e.data===D1.TRAVEL_WIDGET_READY){this.iframeHidden=!1;let[n]=e.ports;this.subscriptions.push(this.consentCategorySubscription(n)),n.onmessage=r=>{r.data.name===D1.HEIGHT_CHANGED&&this.renderer.setStyle(this.iframe.nativeElement,"height",`${r.data.payload.height}px`),r.data.name===D1.ERROR_OCCURRED&&(this.iframeHidden=!0,this.logService.debug(new Error(JSON.stringify(r.data)),"Eventim Travel Widget"))}}}consentCategorySubscription(e){return this.consentCookieService.onConsentCategoriesChanged().subscribe(n=>{e.postMessage({name:D1.CUSTOMER_CONSENT,payload:{consent:n}}),this.firstTimeConsent&&(e.postMessage({name:D1.SHOW_RECOMMENDATIONS,payload:this.getPayload()}),this.firstTimeConsent=!1)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-travel-widget"]],viewQuery:function(n,r){if(n&1&&Qi(R3e,7,ii),n&2){let o;Ni(o=Ri())&&(r.iframe=o.first)}},inputs:{receiptJson:"receiptJson",widgetUrl:"widgetUrl",affiliateJson:"affiliateJson"},standalone:!1,decls:2,vars:2,consts:[["evTravelIframe",""],["frameborder","0","id","widget","scrolling","no",2,"width","100%",3,"src","hidden"]],template:function(n,r){n&1&&D(0,"iframe",1,0),n&2&&C("src",r.iframeUrl,tv)("hidden",r.iframeHidden)},encapsulation:2})}return t})();var u3=function(t){return t.DARKMODE_PRIMARY="#FFF",t.DARKMODE_FONT="#232323",t}(u3||{});var xc=function(t){return t.AID="aid",t.CAMPAIGN="campaign",t.LATITUDE="lat",t.LONGITUDE="lng",t.ADDRESS="address",t.CHECKIN_DATE="checkin",t.CHECKOUT_DATE="checkout",t.EVENTSTART_DATE="eventstart",t.EVENTEND_DATE="eventend",t.MAIN_COLOR="maincolor",t.MARKER_IMAGE="markerimage",t.VENUE="venue",t.NUMBER_OF_ADULTS="adults",t.NUMBER_OF_CHILDREN="children",t.BUTTON_COLOR="buttoncolor",t.BUTTON_COLOR_ACTIVE="buttoncoloractive",t.BUTTON_COLOR_HOVER="buttoncolorhover",t.CURRENCY="currency",t.CUSTOM_FONT="customfont",t.CUSTOM_FONT_LINK="customfontlink",t.FONT_COLOR="fontcolor",t.HOTELS_COLOR="hotelscolor",t.HOTELS_FONT_COLOR="hotelsfontcolor",t.LANGUAGE="ljs",t.LOADING_BAR_COLOR="loadingbarcolor",t.TIMEZONE_OFFSET="eseetz",t.HIDE_SEARCHBAR="hidesearchbar",t.HIDE_INFO_MENU="hideinfomenu",t}(xc||{});function F3e(t,i){if(t&1&&(D(0,"p",3),H(1,"translate"),H(2,"evReplaceMessagePlaceholder")),t&2){let e=y();C("hidden",e.widgetVisible)("evCoreHtml",Qr(2,4,j(1,2,e.Message.CHECKOUT_APP_STAY22_WIDGET_WARNING),e.getReplacedLink()))}}function L3e(t,i){if(t&1&&D(0,"iframe",4),t&2){let e=y();C("src",e.iframeUrl,tv)}}var $ne=(()=>{class t{santizier=E(ga);translateLoaderService=E(ti);sessionStoreService=E(w2);webshopCookieService=E(_i);consentCookieService=E(lh);receiptJson;affiliateJson;widgetVisible;iframeUrl;Message=K;messageReplacement;stay22BaseUrl="https://www.stay22.com/embed/gm?";parametersForStay22=[];ngOnInit(){this.messageReplacement=[{placeholder:"{venue.name}",replacementValue:this.receiptJson.order.events[0].venueName}],this.buildParameters(),this.handleVisibilityIframe()}handleVisibilityIframe(){this.widgetVisible?this.iframeUrl=this.santizier.bypassSecurityTrustResourceUrl(this.buildUrlWithParameters()):this.iframeUrl=void 0}showNoWidgetHint(){return this.consentCookieService.isConsentManagerActive()}getReplacedLink(){return[{placeholder:"{0}",replacementValue:`<button class="btn btn-link" aria-haspopup="true" onclick="window.__cmp('showScreenAdvanced')">${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_STAY22_WIDGET_LINKTEXT)}</button>`}]}buildUrlWithParameters(){let e=this.stay22BaseUrl;return this.parametersForStay22.forEach((n,r)=>{(ee.isNotEmpty(n.value)||typeof n.value=="boolean"||typeof n.value=="number")&&(e=`${e}${n.parameter}=${n.value}`,r!==this.parametersForStay22.length-1&&(e=`${e}&`))}),e.replace(/#/g,"")}buildParameters(){this.parametersForStay22.push({parameter:xc.AID,value:this.affiliateJson.stay22Settings.stay22AccountId}),this.parametersForStay22.push({parameter:xc.CHECKIN_DATE,value:Kd.getIsoFormattedDateOnly(this.receiptJson.order.events[0].eventDate)}),this.parametersForStay22.push({parameter:xc.CURRENCY,value:this.affiliateJson.priceFormat.currencyCode}),this.parametersForStay22.push({parameter:xc.NUMBER_OF_ADULTS,value:this.receiptJson.order.events[0].numberOfTickets}),this.parametersForStay22.push({parameter:xc.HIDE_SEARCHBAR,value:!0}),this.parametersForStay22.push({parameter:xc.HIDE_INFO_MENU,value:!0}),this.parametersForStay22.push({parameter:xc.LANGUAGE,value:this.webshopCookieService.get(qi.Language)}),this.parametersForStay22.push({parameter:xc.CAMPAIGN,value:this.affiliateJson.stay22Settings.campaignId}),this.buildMarkerImageParameter(),this.buildAddressParameters(),this.buildColorParameter()}buildMarkerImageParameter(){ee.isNotEmpty(this.receiptJson.order.events[0].imagePath)&&this.parametersForStay22.push({parameter:xc.MARKER_IMAGE,value:dl.getAbsoluteImageSrc(this.receiptJson.order.events[0].imageType,this.receiptJson.order.events[0].imagePath,this.affiliateJson)})}buildColorParameter(){let e=this.sessionStoreService.loadStore(A2.CONTRAST_MODE),n=ee.EMPTY_STRING,r=ee.EMPTY_STRING;ce.isObject(e)&&ce.hasProperty(e,"content")&&e.content?(n=u3.DARKMODE_PRIMARY,r=u3.DARKMODE_FONT):(ee.isNotEmpty(this.affiliateJson.themingSettings.buttonBackgroundColor)&&(n=this.affiliateJson.themingSettings.buttonBackgroundColor),ee.isNotEmpty(this.affiliateJson.themingSettings.buttonFontColor)&&(r=this.affiliateJson.themingSettings.buttonFontColor)),this.parametersForStay22.push({parameter:xc.MAIN_COLOR,value:n}),this.parametersForStay22.push({parameter:xc.FONT_COLOR,value:r})}buildAddressParameters(){if(ee.isNotEmpty(this.receiptJson.order.events[0].venueLatitude)&&ee.isNotEmpty(this.receiptJson.order.events[0].venueLongitude))this.parametersForStay22.push({parameter:xc.LATITUDE,value:this.receiptJson.order.events[0].venueLatitude}),this.parametersForStay22.push({parameter:xc.LONGITUDE,value:this.receiptJson.order.events[0].venueLongitude});else if(ee.isNotEmpty(this.receiptJson.order.events[0].venueCity)){let e=this.receiptJson.order.events[0].venueCity;ee.isNotEmpty(this.receiptJson.order.events[0].venueZip)&&(e=`${this.receiptJson.order.events[0].venueZip} ${e}`),ee.isNotEmpty(this.receiptJson.order.events[0].venueStreet1)&&(ee.isNotEmpty(this.receiptJson.order.events[0].venueStreet2)&&(e=`${this.receiptJson.order.events[0].venueStreet2}, ${e}`),e=`${this.receiptJson.order.events[0].venueStreet1}, ${e}`),ee.isNotEmpty(this.receiptJson.order.events[0].venueName)&&(e=`${this.receiptJson.order.events[0].venueName}, ${e}`),ee.isNotEmpty(this.receiptJson.order.events[0].venueProvinceCode)&&(e=`${e}, ${this.receiptJson.order.events[0].venueProvinceCode}`),ee.isNotEmpty(this.receiptJson.order.events[0].venueCountry)&&(e=`${e}, ${this.receiptJson.order.events[0].venueCountry}`),this.parametersForStay22.push({parameter:xc.ADDRESS,value:encodeURIComponent(e)})}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-stay22-widget"]],inputs:{receiptJson:"receiptJson",affiliateJson:"affiliateJson",widgetVisible:"widgetVisible"},standalone:!1,decls:7,vars:8,consts:[[1,"row"],[1,"col-xs-12"],["data-qa","stay22-headline",1,"card-headline","theme-text-light-color",3,"evCoreHtml"],[1,"card-paragraph","theme-text-color",3,"hidden","evCoreHtml"],["id","stay22-widget","frameborder","0","scrolling","no",2,"width","100%","height","450px",3,"src"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),D(2,"h2",2),H(3,"translate"),H(4,"evReplaceMessagePlaceholder"),J(5,F3e,3,7,"p",3),g()(),J(6,L3e,1,1,"iframe",4)),n&2&&(d(2),C("evCoreHtml",Qr(4,5,j(3,3,r.Message.CHECKOUT_APP_STAY22_WIDGET_HEADLINE),r.messageReplacement)),d(3),$(r.showNoWidgetHint()?5:-1),d(),$(r.widgetVisible?6:-1))},dependencies:[xt,Se,ns],encapsulation:2})}return t})();var U3e=(t,i)=>i.eventId;function $3e(t,i){if(t&1&&(h(0,"li",3),R(1),g()),t&2){let e=i.$implicit;d(),Vi("",e.eventName," - ",e.venueName," ")}}function H3e(t,i){if(t&1){let e=Je();h(0,"ev-pl-card",0)(1,"section",1)(2,"p",2),R(3),H(4,"translate"),g(),h(5,"ul"),ft(6,$3e,2,2,"li",3,U3e),g()(),h(8,"section")(9,"button",4),H(10,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.openCheckInTab())}),R(11),H(12,"translate"),g()()()}if(t&2){let e=y();C("additionalClass","checkin-content")("headline",e.Message.CHECKOUT_APP_EVENTIM_CHECKIN_HEADLINE)("headlineLevel",2),Le("data-qa","eventim-checkin"),d(3),Ae(j(4,7,e.Message.CHECKOUT_APP_EVENTIM_CHECKIN_DESCRIPTION)),d(3),ht(e.checkInEvents),d(3),Xt("title",j(10,9,e.Message.CHECKOUT_APP_EVENTIM_CHECKIN_BUTTON)),d(2),ne("",j(12,11,e.Message.CHECKOUT_APP_EVENTIM_CHECKIN_BUTTON)," ")}}var oH=(()=>{class t{Message=K;showCheckInBox=!1;checkInEvents=[];checkinUrl="https://www.eventim.de/staticsite/checkin/";order;affiliate;ngOnInit(){this.setUpCheckInEventList(),this.setCheckInUrl()}openCheckInTab(){window.open(this.checkinUrl,"_blank")}setUpCheckInEventList(){this.order.events.forEach(e=>{e.checkIn===1&&(this.checkInEvents.push(e),this.showCheckInBox=!0)})}setCheckInUrl(){ee.isNotEmpty(this.affiliate.checkInPageLink)&&(this.checkinUrl=this.affiliate.checkInPageLink)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-checkin"]],inputs:{order:"order",affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[[3,"additionalClass","headline","headlineLevel"],[1,"checkin-description"],[1,"card-paragraph","theme-text-variant-color"],[1,"ev-checkin-event"],["id","eventimCheckinButton","type","button","data-qa","eventim-checkin-button",1,"btn","btn-lg","checkin-button","float-left","theme-button-radius",3,"click","title"]],template:function(n,r){n&1&&J(0,H3e,13,13,"ev-pl-card",0),n&2&&$(r.showCheckInBox?0:-1)},dependencies:[$n,Se],encapsulation:2})}return t})();var Hne=()=>{try{(function(t){if(t&&t.a.length>0){var i=document,e=function(k){for(var O="",w=0;w<k.length;w++)O+=""+k.charCodeAt(w).toString(16);return O},n=function(k){for(var O=k.toString(),w="",M=0;M<O.length&&O.substr(M,2)!=="00";M+=2)w+=String.fromCharCode(parseInt(O.substr(M,2),16));return w},r=function(){for(var k=0;k<t.a.length;k++){var O=Math.floor(Date.now()/1e3),w="",M="";t.a[k].ckw!==void 0&&(M=t.a[k].ckw),M.slice(-1)!==";"&&M.slice(-1)!==""&&(M+=";"),t.a[k].k!==void 0&&(w="kw="+t.a[k].k+";");var F=w+M,L=n(t.u)+"/"+O+"/"+b+"/"+v+"/"+window.atob(t.a[k].a)+"/"+t.b+"/"+t.c+"/"+e(F),V=i.createElement("script");V.async=!0,V.src=L,i.getElementById("w"+n(t.a[k].h)).appendChild(V)}},o=function(){for(var k=[],O=0;O<t.a.length;O++)k.push(t.a[O].r);k.indexOf(!0)>-1&&t.hasOwnProperty("b")&&(t.r=!0),k=[],t.r&&r()},s=function(){function k(){i.getElementById("Adwl")!==null?t.b=0:t.b=1}function O(w,M){var F=i.getElementsByTagName("body")[0],L=i.createElement("script");L.src=n(w),typeof M<"u"&&(L.onload=M,L.onerror=M),F.appendChild(L)}typeof k=="function"&&O("68747470733a2f2f6433646835633772777a6c69776d2e636c6f756466726f6e742e6e65742f6164766572746973656d656e742e6a733f6466703d31",k)},c=function(){for(var k="68747470733a2f2f643332313036726c6864636f676f2e636c6f756466726f6e742e6e65742f",O="",w=Math.floor(Date.now()/1e3),M=0;M<t.a.length;M++)O+=t.a[M].h,M<t.a.length-1&&(O+="/");var F=i.createElement("script");F.async=!0,F.src=n(k)+w+"/"+b+"/"+v+"/"+O,F.onload=o,i.body.appendChild(F)},v="1",b="33";s(),c()}})(function(){var t="dDropI",i=window[t[4]+t[2]+t[3]+t[0]+t[5]+t[1]];return typeof i!==void 0?i:!1}())}catch{console.warn("WebLoyalty couldn't be triggered")}};var Vne=(()=>{class t{Message=K;document=E(Ot);set hash(e){this._hash=e,this._hash!==null&&(this.containerId=this.getId(),this.initializeWebloyalty())}customValues;containerId=ee.EMPTY_STRING;_hash;isObserving=!1;isHidden=!0;observer=new MutationObserver(e=>{this.isHidden=!this.checkMutationsForChangedId(e)});ngAfterViewChecked(){let e=this.document.querySelector(".webloyaltyContainer");e!==null&&!this.isObserving&&(this.observer.observe(e,{attributes:!0}),this.isObserving=!0)}ngOnDestroy(){this.observer.disconnect()}encode(e){let n="";for(let r=0;r<e.length;r++)n+=`${e.charCodeAt(r).toString(16)}`;return n}getId(){return`w${this._hash}`}initializeWebloyalty(){let e=this.document.querySelector(".webloyaltyContainer");this.document.defaultView.prodID!==void 0&&ee.isNotEmpty(this._hash)&&(this.document.defaultView.prodID.a.some(n=>n.h===this.encode(this._hash))||(this.document.defaultView.prodID.a.length>0&&(this.document.defaultView.prodID.a=[],e!==null&&(e.innerHTML=ee.EMPTY_STRING)),this.document.defaultView.prodID.a.push({h:this.encode(this._hash),ckw:this.customValues,r:!1}))),Hne()}checkMutationsForChangedId(e){let n=e.filter(r=>r.attributeName==="id");return n.length>0&&n.some(r=>ee.isEmpty(r.target.id))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-web-loyalty"]],inputs:{hash:"hash",customValues:"customValues"},standalone:!1,decls:2,vars:3,consts:[[3,"hidden"],[1,"webloyaltyContainer"]],template:function(n,r){n&1&&(h(0,"ev-pl-card",0),D(1,"div",1),g()),n&2&&(C("hidden",r.isHidden),Le("data-qa","web-loyalty"),d(),Le("id",r.containerId))},dependencies:[$n],encapsulation:2})}return t})();function G3e(t,i){}function K3e(t,i){}function q3e(t,i){if(t&1&&(h(0,"ev-pl-card",1)(1,"div",2)(2,"div",3),D(3,"h3",4),H(4,"translate"),D(5,"p",5),H(6,"translate"),h(7,"div",6),J(8,G3e,0,0,"ng-template",7),g()(),h(9,"div",8),D(10,"img",9),H(11,"translate"),g()(),h(12,"div",10)(13,"div",11),J(14,K3e,0,0,"ng-template",7),g()()()),t&2){let e=y(),n=Fn(2);C("additionalClass","interaction-border theme-interaction-border-card")("headline",e.Message.GLOBAL_EVENTIM_PASS_INFOBOX_HEADLINE)("headlineLevel",2),Le("data-qa","eventim-pass"),d(3),C("evCoreHtml",j(4,10,e.messageMap.get(e.SUBHEADLINE))),d(2),C("evCoreHtml",j(6,12,e.messageMap.get(e.DESCRIPTION))),d(3),C("ngTemplateOutlet",n),d(2),Xt("alt",j(11,14,e.Message.GLOBAL_EVENTIM_PASS_INFOBOX_HEADLINE)),C("src",e.imagePath,un),d(4),C("ngTemplateOutlet",n)}}function W3e(t,i){if(t&1){let e=Je();h(0,"button",12),H(1,"translate"),Ee("click",function(){Ne(e);let r=y();return Re(r.handleButtonClick())}),g()}if(t&2){let e=y();C("evCoreHtml",j(1,1,e.messageMap.get(e.BUTTON)))}}var jne=(()=>{class t{#e=E(jo);SUBHEADLINE="sub-headline";DESCRIPTION="description";BUTTON="button";Message=K;receiptJson;affiliateJson;appUrl;imagePath;messageMap=new Map;showEventimPass=!1;ngOnInit(){ce.hasProperty(this.receiptJson,"eventimPassInfo")&&this.setupComponent()}handleButtonClick(){window.open(this.appUrl,"_blank")}setupComponent(){this.appUrl=this.receiptJson.eventimPassInfo.eventimPassAppUrl,this.imagePath=`${this.affiliateJson.teaserPath}/checkout/${this.receiptJson.eventimPassInfo.icon}`,this.createMessageMap(),this.showEventimPass=!0}createMessageMap(){this.#e.isRunningInMoa()?this.messageMap.set(this.SUBHEADLINE,K.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_SUBHEADLINE).set(this.DESCRIPTION,K.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_DESCRIPTION).set(this.BUTTON,K.GLOBAL_EVENTIM_PASS_INFOBOX_APPVIEW_BUTTON):this.messageMap.set(this.SUBHEADLINE,K.GLOBAL_EVENTIM_PASS_INFOBOX_SUBHEADLINE).set(this.DESCRIPTION,K.GLOBAL_EVENTIM_PASS_INFOBOX_DESCRIPTION).set(this.BUTTON,K.GLOBAL_EVENTIM_PASS_INFOBOX_BUTTON)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-eventim-pass"]],inputs:{receiptJson:"receiptJson",affiliateJson:"affiliateJson"},standalone:!1,decls:3,vars:1,consts:[["button",""],[3,"additionalClass","headline","headlineLevel"],[1,"row","u-position-relative"],[1,"col-xs-8"],["data-qa","subheadline",1,"card-inline-headline",3,"evCoreHtml"],["data-qa","description",1,"card-paragraph","theme-text-variant-color",3,"evCoreHtml"],[1,"hidden-xs","margin-top-xl"],[3,"ngTemplateOutlet"],[1,"col-xs-4","text-right","eventim-pass-icon"],[3,"src","alt"],[1,"row","margin-top-s","visible-xs"],[1,"col-xs-12"],["data-qa","eventim-pass-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click","evCoreHtml"]],template:function(n,r){n&1&&J(0,q3e,15,16,"ev-pl-card",1)(1,W3e,2,3,"ng-template",null,0,vi),n&2&&$(r.showEventimPass?0:-1)},dependencies:[hr,xt,$n,Se],styles:[".eventim-pass-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:4.5rem;max-width:100%}@media only screen and (min-width: 660px){.eventim-pass-icon[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;right:0}.eventim-pass-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:100%;height:100%}}"]})}return t})();var p3=function(t){return t[t.None=0]="None",t[t.Facebook=1]="Facebook",t}(p3||{});var Y3e=(t,i)=>({"bottom-separator-with-padding":t,"top-spacer":i}),J3e=(t,i,e)=>({"col-xs-9":t,"col-md-7 col-xs-12":i,"col-xs-12":e}),X3e=(t,i)=>({"col-xs-3":t,"col-md-5 col-xs-12":i}),Q3e=t=>({"margin-top-s":t}),Z3e=(t,i)=>i.eventId;function eFe(t,i){if(t&1&&(h(0,"div",3),D(1,"img",7),g()),t&2){let e=y().$implicit,n=y(2);C("ngClass",Un(6,X3e,n.hasSocialPostingImage(e)||n.hasArtistImage(e),n.hasFanTicketImage(e))),d(),Io("width","100%"),C("src",n.getImageUrl(e),un)("ngClass",et(9,Q3e,n.hasFanTicketImage(e))),Le("alt",e.eventName)}}function tFe(t,i){if(t&1){let e=Je();h(0,"p",6)(1,"button",8),H(2,"translate"),Ee("click",function(){let r=Ne(e).$implicit,o=y().$implicit,s=y(2);return Re(s.openNewTab(r,o))}),D(3,"i"),h(4,"span",9),R(5),H(6,"translate"),g()()()}if(t&2){let e=i.$implicit,n=y().$implicit,r=y(2);d(),xo("btn btn-lg btn-primary btn-block btn-",r.getType(e)," theme-button-radius"),C("title",j(2,9,r.Message.CHECKOUT_APP_SOCIAL_POSTING_BUTTON_TEXT))("evClickTracking",r.getClickTrackingObject(e,n)),d(2),xo("icon icon-",r.getType(e),""),d(2),ne(" ",j(6,11,r.Message.CHECKOUT_APP_SOCIAL_POSTING_BUTTON_TEXT)," ")}}function nFe(t,i){if(t&1&&(h(0,"div",2),J(1,eFe,2,11,"div",3),h(2,"div",3)(3,"h3",4),R(4),H(5,"translate"),g(),D(6,"p",5),H(7,"translate"),H(8,"evReplaceMessagePlaceholder"),ft(9,tFe,7,13,"p",6,ri),g()()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(2);C("ngClass",Un(12,Y3e,o.socialSharingEvents.length>0&&n!==r-1,o.socialSharingEvents.length>0&&n!==0)),d(),$(o.hasSocialPostingImage(e)||o.hasFanTicketImage(e)||o.hasArtistImage(e)?1:-1),d(),C("ngClass",Ms(15,J3e,o.hasSocialPostingImage(e)||o.hasArtistImage(e),o.hasFanTicketImage(e),o.hasNoImage(e))),d(2),Ae(j(5,5,o.Message.CHECKOUT_APP_SOCIAL_POSTING_HEADLINE)),d(2),C("evCoreHtml",Qr(8,9,j(7,7,o.Message.CHECKOUT_APP_SOCIAL_POSTING_DESCRIPTION),o.replace(e))),d(3),ht(o.receiptJson.socialPosting.pages)}}function iFe(t,i){if(t&1&&(h(0,"ev-pl-card",0)(1,"section",1),ft(2,nFe,11,19,"div",2,Z3e),g()()),t&2){let e=y();C("hideInPrint",!0)("headline",e.Message.CHECKOUT_APP_SOCIAL_POSTING_CARD_HEADLINE)("headlineLevel",2),d(2),ht(e.socialSharingEvents)}}var Gne=(()=>{class t{moaService=E(jo);log=E(bt);Message=K;set receiptJson(e){this._receiptJson=e,this.socialSharingEvents=this.receiptJson.order.events.filter(n=>n.socialPostingEnabled)}get receiptJson(){return this._receiptJson}affiliate;socialSharingEvents=[];_receiptJson;networkNames=new Map([[p3.Facebook,"facebook"]]);networkUrls=new Map([[p3.Facebook,"https://www.facebook.com/sharer/sharer.php?u="]]);homePage=En.buildAbsolutePath("Tickets.html");replace(e){return[{placeholder:"{0}",replacementValue:e.eventName}]}getType(e){return this.networkNames.has(e)?this.networkNames.get(e):(this.log.debug(new Error(`No specified type-name for ${e}`),"Social Posting"),ee.EMPTY_STRING)}hasSocialSharingEvents(){return Dt.isNotEmpty(this.socialSharingEvents)}hasSocialPostingImage(e){return ee.isNotEmpty(e.socialPostingImagePath)&&ce.isObject(this.affiliate)}hasFanTicketImage(e){return ee.isNotEmpty(e.fanTicketImagePath)&&ce.isObject(this.affiliate)&&ee.isNotEmpty(this.affiliate.teaserPath)}hasArtistImage(e){return ee.isNotEmpty(e.imagePath)&&ce.isObject(this.affiliate)&&ee.isNotEmpty(this.affiliate.teaserPath)&&!this.hasFanTicketImage(e)}hasNoImage(e){return!this.hasFanTicketImage(e)&&!this.hasArtistImage(e)}getImageUrl(e){return this.hasSocialPostingImage(e)?dl.getEventImageSrc(e.socialPostingImageType,e.socialPostingImagePath,this.affiliate):this.hasFanTicketImage(e)?`${this.affiliate.teaserPath}${e.fanTicketImagePath}`:dl.getEventImageSrc(e.imageType,e.imagePath,this.affiliate)}openNewTab(e,n){let r=ee.isNotEmpty(n.eventUrl)?n.eventUrl:this.homePage;this.networkUrls.has(e)?En.openPopup(`${this.networkUrls.get(e)}${encodeURIComponent(r)}&lipa=popup`):this.log.error(new Error(`Could\xB4nt find url-specification for ${e}`),"Social Posting")}getClickTrackingObject(e,n){return{clickTrackingData:{action:"",event_name:"share"},customClickTrackingData:{method:`${this.getType(e)}`,item_id:String(n.eventId),category:"order_confirmation_page"},ga3ClickTrackingData:{action:`${this.getType(e)}_social_share_button`,label:String(n.eventId),category:"exit_link"}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-social-posting"]],inputs:{receiptJson:"receiptJson",affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[[3,"hideInPrint","headline","headlineLevel"],[1,"no-padding-bottom"],[1,"row",3,"ngClass"],[3,"ngClass"],[1,"card-inline-headline"],[1,"card-paragraph",3,"evCoreHtml"],[1,"card-paragraph","margin-top-s"],[3,"src","ngClass"],["type","button",3,"click","title","evClickTracking"],["data-qa","message",1,"btn-text"]],template:function(n,r){n&1&&J(0,iFe,4,3,"ev-pl-card",0),n&2&&$(r.hasSocialSharingEvents()?0:-1)},dependencies:[At,ho,xt,$n,Se,ns],encapsulation:2})}return t})();function oFe(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",1)(2,"span",2),R(3),H(4,"translate"),g()()()),t&2){let e=y(2);d(),C("type",e.NotificationType.Success),d(2),ne(" ",j(4,2,e.Message.CHECKOUT_APP_RECEIPT_CALL_CENTER_RESET_SESSION_NOTIFICATION_SUCCESS),"")}}function aFe(t,i){if(t&1){let e=Je();h(0,"section")(1,"button",3),Ee("click",function(){Ne(e);let r=y(2);return Re(r.resetCcclState())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(2);d(2),ne("",j(3,1,e.Message.CALL_CENTER_RECEIPT_BUTTON_NEW_ORDER)," ")}}function sFe(t,i){if(t&1&&(h(0,"ev-pl-card",0),J(1,oFe,5,4,"section")(2,aFe,4,3,"section"),g()),t&2){let e=y();C("headline",e.getHeadline())("headlineLevel",2),Le("data-qa","reset-cccl-session"),d(),$(e.ccclStateReset?1:-1),d(),$(e.ccclStateReset?-1:2)}}var Kne=(()=>{class t{storageService=E(fn);customerService=E(fo);translateService=E(ti);window=E(tr);Message=K;NotificationType=rn;affiliate;ccclStateReset=!1;resetCcclState(){this.customerService.logoutCallcenterCustomer().then(()=>{this.ccclStateReset=!0,this.storageService.set(ut.CCCL_CUSTOMER,!1),En.redirectTo(!0,`${this.window.location.host}?affiliate=${this.affiliate.code}`)})}getHeadline(){return this.translateService.instantTranslate(K.CHECKOUT_APP_RECEIPT_CALL_CENTER_RESET_SESSION_HEADLINE)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-cccl-reset-button"]],inputs:{affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[[3,"headline","headlineLevel"],[3,"type"],["data-qa","success-notification"],["type","button","data-qa","button",1,"btn","btn-secondary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"]],template:function(n,r){n&1&&J(0,sFe,3,5,"ev-pl-card",0),n&2&&$(r.affiliate.callCenter?0:-1)},dependencies:[$n,On,Se],encapsulation:2})}return t})();var cFe=["widgetContainer"];function dFe(t,i){if(t&1){let e=Je();h(0,"section",2,0),Ee("onReady",function(r){Ne(e);let o=y();return Re(o.isWidgetReady(r))})("onSubscribeSuccess",function(){Ne(e);let r=y();return Re(r.trackSubscription())}),g()}if(t&2){let e=y();C("evFormsGcps",e.buildGcpsOptions(e.customerForm().eviTokenForGcpsNL))("hidden",!e.showContainer())}}var qne=(()=>{class t extends Ov{#e=E(rr);widgetContainer=u0("widgetContainer");#t=E(Er);showNewsletterForm=sn(()=>this.isValidInput()&&ee.isNotEmpty(this.customerForm().eviTokenForGcpsNL));isWidgetReady(e){let n=this.widgetContainer().nativeElement.querySelector(".evi-widget-subscription");n&&(this.showContainer.set(e),this.#t.addClass(n,"no-media"))}trackSubscription(){this.#e.trackClick({clickTrackingData:{action:"",event_name:"newsletter_subscription_success"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"receipt",navigation_element_selected:""}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gcps-newsletter-form-container"]],viewQuery:function(n,r){n&1&&m0(r.widgetContainer,cFe,5),n&2&&iv()},standalone:!1,features:[dt],decls:1,vars:1,consts:[["widgetContainer",""],[1,"evi-wrapper","standard-gray-shadow","margin-bottom-xxl",3,"evFormsGcps","hidden"],[1,"evi-wrapper","standard-gray-shadow","margin-bottom-xxl",3,"onReady","onSubscribeSuccess","evFormsGcps","hidden"]],template:function(n,r){n&1&&J(0,dFe,2,2,"section",1),n&2&&$(r.showNewsletterForm()?0:-1)},dependencies:[D0],encapsulation:2})}return t})();var pFe=t=>({"margin-top-xl":t}),mFe=t=>({"margin-bottom-s":t}),fFe=t=>({"padding-top-s padding-bottom-s":t}),hFe=t=>({btn:t}),gFe=t=>({"no-padding-top":t}),vFe=(t,i)=>({"col-xs-12":t,"padding-top-s":i}),_Fe=t=>({"no-margin":t}),CFe=()=>({position:"",page:"receipt"});function yFe(t,i){if(t&1&&(h(0,"span",14),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.receiptJson.customer.email," ")}}function EFe(t,i){if(t&1&&D(0,"ev-web-loyalty",21),t&2){let e=y(2);C("hidden",!e.webloyaltyIsShown)("hash",e.hash)}}function TFe(t,i){if(t&1&&D(0,"ev-social-posting",23),t&2){let e=y(2);C("receiptJson",e.receiptJson)("affiliate",e.affiliate)}}function bFe(t,i){if(t&1&&(h(0,"div",27),D(1,"ev-travel-widget",49),g()),t&2){let e=y(2);d(),C("receiptJson",e.receiptJson)("widgetUrl",e.affiliate.hotelWidgetURL)("affiliateJson",e.affiliate)}}function IFe(t,i){if(t&1&&(h(0,"div",28),D(1,"ev-stay22-widget",50),g()),t&2){let e=y(2);d(),C("receiptJson",e.receiptJson)("affiliateJson",e.affiliate)("widgetVisible",e.consentGivenElements.stay22)}}function SFe(t,i){if(t&1&&(h(0,"section"),D(1,"ev-installments-information",51),g()),t&2){let e=y(2);d(),C("paymentInfo",e.receiptJson.paymentInfo)}}function xFe(t,i){if(t&1&&(h(0,"div",32),D(1,"hr",52),g()),t&2){let e=y(2);C("ngClass",Un(2,vFe,e.isSportsShop,!e.isSportsShop)),d(),C("ngClass",et(5,_Fe,e.isSportsShop))}}function AFe(t,i){if(t&1&&(h(0,"ev-pl-card",29),D(1,"ev-affiliate-opt-ins",53),g()),t&2){let e=y(2);C("headline",e.Message.CHECKOUT_APP_SUMMARY_CONDITIONS)("headlineLevel",2),Le("data-qa","summary-conditions"),d(),C("optIns",e.receiptJson.optIns)}}function PFe(t,i){if(t&1&&(h(0,"div",54)(1,"div",8),D(2,"ev-gpt-adserver",56),g()()),t&2){let e=y(3);d(2),C("gptAdConfiguration",e.adServerConfiguration)}}function kFe(t,i){if(t&1){let e=Je();h(0,"div",57)(1,"a",58),Ee("click",function(){let r=Ne(e).$implicit,o=y(4);return Re(o.trackClick({navigation_subcategory:"receipt-page-banner",navigation_element_selected:r.name}))}),D(2,"img",59),g()()}if(t&2){let e=i.$implicit,n=y(4);d(),Xt("target",e.target),Xt("name",e.name),Xt("href",e.url,un),d(),Xt("alt",e.name),Xt("title",e.name),DC("src","",n.affiliate.teaserPath,"",e.imagePath,"",un)}}function wFe(t,i){if(t&1&&(h(0,"div",55),ft(1,kFe,3,8,"div",57,ri),g()),t&2){let e=y(3);d(),ht(e.receiptJson.receiptElements)}}function DFe(t,i){if(t&1&&(h(0,"div",38),J(1,PFe,3,1,"div",54)(2,wFe,3,0,"div",55),g()),t&2){let e=y(2);d(),$(e.adServerConfiguration?1:-1),d(),$(e.receiptJson.receiptElements?2:-1)}}function OFe(t,i){if(t&1&&(h(0,"div",41),D(1,"ev-back-to-shop",60),g()),t&2){let e=y(2);d(),C("affiliate",e.affiliate)("events",e.orderService.getEvents())("trackingArguments",ol(3,CFe))}}function NFe(t,i){t&1&&D(0,"div",48)}function RFe(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"h1",1),R(2),H(3,"translate"),g(),h(4,"div",2)(5,"div",3)(6,"div",4)(7,"span",5),R(8),H(9,"translate"),g()()()(),h(10,"div",6)(11,"h2",7),R(12),H(13,"translate"),g()(),h(14,"div",2)(15,"div",8),D(16,"ev-ad-serving",9),g()(),h(17,"div",2)(18,"div",8)(19,"ev-pl-card",10)(20,"section",11),D(21,"ev-confirmation-checkmark"),h(22,"p",12),R(23),H(24,"translate"),g()(),h(25,"section")(26,"p",13),R(27),H(28,"translate"),J(29,yFe,2,1,"span",14),g(),h(30,"p",15),R(31),H(32,"translate"),h(33,"span",16),R(34),g()()(),h(35,"section",17)(36,"div",18)(37,"button",19),Ee("scrollToClick",function(r){Ne(e);let o=y();return Re(o.trackClick(r))}),D(38,"i",20),h(39,"span"),R(40),H(41,"translate"),g()()()()(),J(42,EFe,1,2,"ev-web-loyalty",21),D(43,"ev-gcps-newsletter-form-container",22)(44,"ev-next-steps",23)(45,"ev-eventim-pass",24)(46,"ev-checkin",25),J(47,TFe,1,2,"ev-social-posting",23),D(48,"ev-download-codes",26),J(49,bFe,2,3,"div",27)(50,IFe,2,3,"div",28),h(51,"ev-pl-card",29),D(52,"ev-delivery-payment-summary",30)(53,"ev-order-summary-information",31),h(54,"section"),D(55,"ev-fees"),g(),J(56,SFe,2,1,"section")(57,xFe,2,7,"div",32),h(58,"section",33),D(59,"ev-total-sum",34),g()(),J(60,AFe,2,4,"ev-pl-card",29),D(61,"ev-cccl-reset-button",35),g(),h(62,"div",36),D(63,"ev-guarantee-box")(64,"ev-ad-serving",37),g()(),J(65,DFe,3,2,"div",38),h(66,"div",2)(67,"div",39)(68,"div",2)(69,"div",40),J(70,OFe,2,4,"div",41),H(71,"async"),g(),h(72,"div",40)(73,"div",42)(74,"div",43)(75,"span",44),Ee("click",function(){Ne(e);let r=y();return Re(r.openPrintDialog())})("keydown.space",function(){Ne(e);let r=y();return Re(r.openPrintDialog())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.openPrintDialog())}),D(76,"i",45),h(77,"span"),R(78),H(79,"translate"),g()()()()(),h(80,"div",8),D(81,"ev-ad-serving",46),g()()()(),D(82,"ev-receipt-tracking",47),J(83,NFe,1,0,"div",48),g()}if(t&2){let e=y();C("evOptimizelyPageTrigger",e.OptimizelyPageEvent.RECEIPT)("evFormsGcpsSelectionConfirmation",e.receiptJson==null||e.receiptJson.customer==null?null:e.receiptJson.customer.eviJsAssetUrl),d(2),ne(" ",j(3,57,e.Message.CHECKOUT_APP_RECEIPT)," "),d(6),ne(" ",j(9,59,e.Message.CHECKOUT_APP_RECEIPT_PRINTOUT_HINT)," "),d(4),Vi(" ",j(13,61,e.Message.CHECKOUT_APP_RECEIPT_ORDER_SUCCESSFULL)," ",e.customerName," "),d(4),C("adId","place-ad-middle"),d(3),C("noContentPadding",!0),d(4),ne(" ",j(24,63,e.Message.CHECKOUT_APP_RECEIPT_RECEIVED_ORDER)," "),d(3),C("ngClass",et(75,pFe,e.isSportsShop)),d(),ne(" ",j(28,65,e.Message.CHECKOUT_APP_RECEIPT_ORDER_CONFIRMATION_TEXT)," "),d(2),$(e.hasCustomerEmail()?29:-1),d(),C("ngClass",et(77,mFe,e.isSportsShop)),d(),ne(" ",j(32,67,e.Message.CHECKOUT_APP_RECEIPT_ORDER_NUMMER_TEXT)," "),d(3),ne(" ",e.receiptJson.order.orderNumber," "),d(),C("ngClass",et(79,fFe,e.isSportsShop)),d(2),C("evScrollTo","orderOverview")("ngClass",et(81,hFe,!e.isSportsShop)),d(3),Ae(j(41,69,e.Message.CHECKOUT_APP_RECEIPT_CHECK_ORDER_DETAILS_LINK)),d(2),$(e.receiptJson.webloyalty?42:-1),d(),C("customerForm",e.receiptJson.customer),d(),C("receiptJson",e.receiptJson)("affiliate",e.affiliate),d(),C("receiptJson",e.receiptJson)("affiliateJson",e.affiliate),d(),C("order",e.receiptJson.order)("affiliate",e.affiliate),d(),$(e.showSocialPosting()?47:-1),d(),C("order",e.receiptJson.order)("affiliate",e.affiliate),d(),$(e.showEvTravelWidget()?49:-1),d(),$(e.showStay22Widget()?50:-1),d(),C("headline",e.Message.CHECKOUT_APP_ORDER_SUMMARY)("headlineLevel",2),Le("data-qa","order-overview")("id","orderOverview"),d(),C("deliveryInfo",e.receiptJson.deliveryInfo)("deliveryInfoMemoryTickets",e.receiptJson.deliveryInfoMemoryTickets)("paymentInfo",e.receiptJson.paymentInfo)("customerForm",e.receiptJson.customer)("isPaytollPlatform",e.affiliate.paytollPlatform)("hasSportsPacks",e.hasSportsPacks)("hasAfterSalesBookingType",e.hasAfterSalesBookingType())("isSportsShop",e.isSportsShop),d(),C("affiliate",e.affiliate)("receiptJson",e.receiptJson),d(3),$(e.showInstallmentInformation()?56:-1),d(),$(e.isSportsShop?57:-1),d(),C("ngClass",et(83,gFe,e.isSportsShop)),d(),C("showDiscreetTaxesHint",!1),d(),$(e.hasAffiliateOptIns()?60:-1),d(),C("affiliate",e.affiliate),d(4),$((e.adServerConfiguration||e.receiptJson.receiptElements)&&e.consentGivenElements.googleAdNetwork?65:-1),d(5),$(j(71,71,e.showBackToShopLink)?70:-1),d(8),Ae(j(79,73,e.Message.CHECKOUT_APP_PRINT_PAGE)),d(4),C("pageJson",e.receiptJson),d(),$(e.showRoktPlaceholder()?83:-1)}}var aH=(()=>{class t extends Gi{#e=E(Al);#t=E(Tn);#n=E(mo);#i=E(Pv);#r=E(lh);#o=E(jo);#a=E(nr);#s=E(_i);#l=E(ai);#c=E(Ga);#d=E(Cne);#u=E(tr);#p=E(Ot);#m=E(Ir);#f=E(rr);#g=E(qr);#h=E(Oi);#v=E(no);#y=E(Sn);#E=E(Gn);orderService=E(yi);Message=K;OptimizelyPageEvent=Gr;affiliate;receiptJson;showBackToShopLink;customerName=ee.EMPTY_STRING;adServerConfiguration;showReceiptOnLoad=!1;consentGivenElements={stay22:!0,webloyalty:!0,googleAdNetwork:!0,socialPosting:!0,frsm:!0,revenueLabs:!0,rokt:!0};hasSportsPacks=!1;isSportsShop=!1;hash=ee.EMPTY_STRING;webloyaltyIsShown=!0;showRoktPlaceholder=nn(!1);#C=nn(!1);#_;constructor(){super(),this.#E.setSpinnerMessage(K.CHECKOUT_APP_SPINNER_LOAD_CONFIRM_MESSAGE),al(()=>{if(this.#d.roktLauncherAvailable()&&this.#C()){let n={layer_category:"checkout",layer_subcategory:"rokt_layer",layer_element_selected:this.receiptJson.rokt.showTravel?"travel":"default"};this.#d.selectRoktPlacements(this.affiliate,this.receiptJson).then(r=>{this.#_=r}).catch(()=>{this.#m.error(new Error("Rokt Placements could not be selected"),"Receipt Page"),n.layer_element_selected="rokt_layer_failure"}),this.#g.performGoogleEventTracking({action:"",event:"view_layer",event_name:"rokt_layer"},n)}})}ngOnInit(){this.#v.setTitle(this.#y.instant(K.CHECKOUT_APP_PAGE_TITLE_RECEIPT));let e=JSON.parse(this.#u.sessionStorage.getItem("externalPaymentPopupParams"));ce.isObject(e)?this.#u.opener.closeExternalPaymentPopup(this.#u.location.href):this.showReceiptOnLoad=!0,this.showBackToShopLink=this.#t.observeWebshopElement(jl.BACK_TO_SHOP_LINK,!0),this.subscribeToReceiptJson(),this.subscribeToAffiliateJson(),this.buildAdServerConfiguration(),this.checkAllElementsForConsent(),this.triggerMoa(),(this.#u.cmp_id>0||ee.isNotEmpty(this.#u.cmp_cdid))&&typeof window.__cmp=="function"&&this.#u.__cmp("addEventListener",["consent",this.checkAllElementsForConsent.bind(this),!1]),this.isSportsShop=this.#l.isSportsShop(this.affiliate),this.isSportsShop&&(this.#l.createSportsPack(this.receiptJson.order),this.hasSportsPacks=this.#l.hasSportsPackEvents())}ngAfterViewInit(){this.#d.isRoktAvailable(this.receiptJson,this.consentGivenElements.rokt)&&this.#C.set(!0)}ngOnDestroy(){this.#d.isRoktAvailable(this.receiptJson,this.consentGivenElements.rokt)&&this.#_!==void 0&&this.#_.close()}subscribeToReceiptJson(){this.#n.observePageJson([Cn.Receipt]).pipe(zn(this.#h)).subscribe(e=>{this.receiptJson=e,this.customerName=this.getCustomerName(this.receiptJson.customer),this.#c.trackReceiptData(e)})}hasCustomerEmail(){return this.receiptJson!==void 0&&this.receiptJson.customer&&ee.isNotEmpty(this.receiptJson.customer.email)}hasAffiliateOptIns(){return this.receiptJson.optIns&&Dt.isNotEmpty(this.receiptJson.optIns.affiliateOptIns)}openPrintDialog(){window.print()}showInstallmentInformation(){return this.receiptJson.paymentInfo.externalPayment!==void 0&&this.receiptJson.paymentInfo.externalPayment.installmentNumber!==void 0&&this.receiptJson.paymentInfo.externalPayment.installmentAmount!==void 0&&this.receiptJson.paymentInfo.externalPayment.installmentAmountString!==void 0}showEvTravelWidget(){return this.affiliate.settings&&this.affiliate.settings[jl.EV_TRAVEL_WIDGET]&&this.receiptJson.order.events.length===1}showStay22Widget(){return ce.isObject(this.affiliate.stay22Settings)&&ee.isNotEmpty(this.affiliate.stay22Settings.stay22AccountId)&&this.isAllowedTypeAndSubTypeForStay22()}showSocialPosting(){return ce.isObject(this.receiptJson.socialPosting)&&ce.isObject(this.consentGivenElements)&&this.consentGivenElements.socialPosting}hasAfterSalesBookingType(){return this.#e.hasOrderAftersalesBookingType(this.receiptJson.order)}trackClick(e){ce.hasProperty(e,"navigation_subcategory")&&ce.hasProperty(e,"navigation_element_selected")?this.#f.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:e.navigation_subcategory,navigation_element_selected:e.navigation_element_selected}}):this.#m.trace(new Error,"Receipt-Page-Component: not enough data for click tracking!")}isAllowedTypeAndSubTypeForStay22(){return Wa.convertEvent(this.receiptJson.order.events[0]).canShowVenueAddress()}checkAllElementsForConsent(){ce.hasProperty(this.receiptJson,"consent")&&Object.keys(this.receiptJson.consent).forEach(e=>{this.consentGivenElements[e]=this.#r.shouldElementBeShown(this.receiptJson.consent[e].toString())}),this.#r.spreadGivenConsent(),this.handleFrsmScripts(),this.handleRevenueLabs(),this.handleRoktScript(),this.handleWebloyaltyHash(),this.#a.detectChanges()}subscribeToAffiliateJson(){this.#t.observeAffiliate().pipe(zn(this.#h)).subscribe(e=>{this.affiliate=e,this.affiliate.settings?.softLogin&&this.#i.setData(this.getFieldValue(this.receiptJson.customer.invoiceData,Ue.CustomerFirstName),this.getFieldValue(this.receiptJson.customer.invoiceData,Ue.CustomerLastName),this.receiptJson.customer.email)})}getCustomerName(e){if(e!==void 0){let n=e.invoiceData;if(n!==void 0){let r=this.getFieldValue(n,Ue.CustomerFirstName),o=this.getFieldValue(n,Ue.CustomerLastName);return`${r} ${o}`.trim()}}}getFieldValue(e,n){let r="",o=e.find(s=>s.fieldName===n);return o!==void 0&&(r=o.value),r}buildAdServerConfiguration(){ee.isNotEmpty(this.receiptJson.googleAdNetworkCode)&&(this.adServerConfiguration={adPath:`/${this.receiptJson.googleAdNetworkCode}/receipt_banner_1`,containerId:"gpt-ad-receipt-banner-1",adSize:[[596,245],[351,145]],targeting:[{targetingCategory:"payment_method",targetingGroup:""}]})}triggerMoa(){let e=[];this.#o.isRunningInMoa()&&this.#o.hasFeature(Gl.KLARNA_WHITELIST)&&(e=this.addCheckInPageLink(e),e=this.addEventimPassInfo(e),e=this.addHotelWidgetUrls(e),e=this.addTicketLinks(e),e.length>0&&this.#o.emitEvent(ka.TRIGGER_APP,{detail:{action:E0.OPEN_BROWSER,patternList:e}}))}addTicketLinks(e){return this.receiptJson.order.events.forEach(n=>{n.priceCategory.tickets.forEach(r=>{this.saveInLinks(e,r?.eTicketLinks),Dt.isNotEmpty(r?.packageItems)&&r?.packageItems.forEach(o=>{this.saveInLinks(e,o.seatInfo?.eTicketLinks)})})}),e}saveInLinks(e,n){[n?.HTML,n?.GOOGLE,n?.WALLET].forEach(r=>{ee.isNotEmpty(r)&&e.push(r)})}addCheckInPageLink(e){return ce.hasProperty(this.affiliate,"checkInPageLink")&&ee.isNotEmpty(this.affiliate.checkInPageLink)&&e.push(this.affiliate.checkInPageLink),e}addEventimPassInfo(e){return ce.hasProperty(this.receiptJson,"eventimPassInfo")&&ee.isNotEmpty(this.receiptJson.eventimPassInfo.eventimPassAppUrl)&&e.push(this.receiptJson.eventimPassInfo.eventimPassAppUrl),e}addHotelWidgetUrls(e){if(this.showStay22Widget()||this.showEvTravelWidget()){let n=this.#s.get(qi.Language);ee.isEmpty(n)&&(n="en"),e.push("booking.com"),e.push("prf.hn"),e.push("fewo-direkt.de"),e.push("avuxi.com"),e.push(`eventim-travel.de/${n}/hotel`),e.push("google.com")}return e}handleFrsmScripts(){this.consentGivenElements.frsm?this.addFrsmScripts():this.removeFrsmScripts()}handleRevenueLabs(){this.consentGivenElements.revenueLabs?this.addRevenueScript():this.removeRevenueScript()}addFrsmScripts(){this.#p.querySelectorAll('script[id^="frsm-script"]').length===0&&ce.isObject(this.receiptJson.frsm)&&(ee.isNotEmpty(this.receiptJson.frsm.frsmUrl)&&this.#p.body.appendChild(this.createscriptElement(this.receiptJson.frsm.frsmUrl,"frsm-script")),ee.isNotEmpty(this.receiptJson.frsm.frsmCustomUrl)&&this.#p.body.appendChild(this.createscriptElement(this.receiptJson.frsm.frsmCustomUrl,"frsm-script-custom")))}removeFrsmScripts(){document.querySelectorAll('script[id^="frsm-script"]').forEach(e=>{e!==void 0&&e.remove()})}addRevenueScript(){this.#p.querySelectorAll('script[id^="revenue-lab-script"]').length===0&&ee.isNotEmpty(this.receiptJson.revenueLabs)&&this.#p.body.appendChild(this.createscriptElement(this.receiptJson.revenueLabs,"revenue-lab-script"))}removeRevenueScript(){document.querySelectorAll('script[id^="revenue-lab-script"]').forEach(e=>{e!==void 0&&e.remove()})}createscriptElement(e,n){let r=document.createElement("script");return r.setAttribute("src",e),r.setAttribute("type","text/javascript"),r.setAttribute("id",n),r.setAttribute("charset","utf-8"),r}handleWebloyaltyHash(){this.webloyaltyIsShown=!1,this.hash=null,ce.hasProperty(this.receiptJson,"webloyalty")&&!ce.hasProperty(this.receiptJson,"rokt")&&(this.consentGivenElements.webloyalty?(this.webloyaltyIsShown=!0,this.hash=this.receiptJson.webloyalty.hash):ce.hasProperty(this.receiptJson.webloyalty,"nonConsentHash")&&(this.webloyaltyIsShown=!0,this.hash=this.receiptJson.webloyalty.nonConsentHash))}handleRoktScript(){this.#d.isRoktAvailable(this.receiptJson,this.consentGivenElements.rokt)?this.#d.addRoktScript(this.receiptJson.rokt).then(()=>{this.showRoktPlaceholder.set(!0)}).catch(()=>{this.#m.error(new Error("Rokt Launcher not added"),"Handle Rokt Script")}):this.removeRoktScript()}removeRoktScript(){document.querySelectorAll('script[id^="rokt-launcher"]').forEach(e=>{e!==void 0&&e.remove()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-receipt-page"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","receipt-page",1,"receiptPage",3,"evOptimizelyPageTrigger","evFormsGcpsSelectionConfirmation"],[1,"sr-only"],[1,"row"],[1,"col-xs-12"],[1,"alert","alert-warning","theme-element-radius","show-only-in-print"],["data-qa","printout-hint",1,"font-weight-bold"],[1,"row","heading"],["data-qa","headline",1,"col-xs-12","col-md-7","headline-title","page-headline-first-order"],[1,"col-xs-12","col-md-7"],[3,"adId"],[3,"noContentPadding"],["data-qa","success-element",1,"card-header","is-success","theme-element-radius"],["data-qa","success-message",1,"card-header-success-message"],["data-qa","confirmation-order-email",1,"card-paragraph","theme-text-variant-color",3,"ngClass"],["data-qa","order-email",1,"theme-text-highlight-color","card-highlight"],["data-qa","confirmation-order-number",1,"card-paragraph","theme-text-variant-color",3,"ngClass"],["data-qa","order-number",1,"theme-text-highlight-color","card-highlight"],[1,"card-further-action","theme-element-border",3,"ngClass"],[1,"text-right"],["type","button","data-qa","view-order",1,"btn-link","link",3,"scrollToClick","evScrollTo","ngClass"],[1,"icon","icon-arrow-down","padding-right-gutter"],[1,"hide-in-print",3,"hidden","hash"],[3,"customerForm"],[3,"receiptJson","affiliate"],[3,"receiptJson","affiliateJson"],[1,"hide-in-print",3,"order","affiliate"],[3,"order","affiliate"],[1,"hide-in-print"],[1,"margin-bottom-xl","hide-in-print"],[3,"headline","headlineLevel"],[3,"deliveryInfo","deliveryInfoMemoryTickets","paymentInfo","customerForm","isPaytollPlatform","hasSportsPacks","hasAfterSalesBookingType","isSportsShop"],[3,"affiliate","receiptJson"],[1,"card-separator-spacer",3,"ngClass"],[3,"ngClass"],[3,"showDiscreetTaxesHint"],[3,"affiliate"],[1,"col-xs-12","col-sm-12","col-md-4","col-md-offset-1","sidebar"],["ad-id","place-ad-sidebar-bottom"],[1,"row","notPrinted","banner-image-container"],[1,"col-xs-12","col-md-7","top-separator-spacer","theme-element-border","theme-box-shadow"],[1,"col-xs-6"],[1,"row","back-link-container"],[1,"row","print-link-container"],[1,"col-xs-12","print-link"],["role","link","tabindex","0","data-qa","print-page",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-ticketdirect","before-text"],["ad-id","place-ad-bottom"],[3,"pageJson"],["id","rokt-placeholder"],[3,"receiptJson","widgetUrl","affiliateJson"],[3,"receiptJson","affiliateJson","widgetVisible"],[3,"paymentInfo"],["aria-hidden","true",1,"card-separator",3,"ngClass"],["data-qa","affiliate-optins-card",3,"optIns"],["data-qa","gtp-ad-server"],["data-qa","receipt-banner"],[3,"gptAdConfiguration"],[1,"col-xs-12","col-md-7","margin-bottom-xl"],["data-link","external",3,"click","target","name","href"],[1,"fluid-image","banner-image",3,"alt","title","src"],[3,"affiliate","events","trackingArguments"]],template:function(n,r){n&1&&J(0,RFe,84,85,"div",0),n&2&&$(r.showReceiptOnLoad?0:-1)},dependencies:[At,tte,Us,$n,Ree,Bee,hM,w1,tH,One,Nne,iH,lb,C1,NA,RA,rH,Qd,Lne,Bne,Une,$ne,oH,Vne,jne,Gne,Kne,qne,Su,Se],encapsulation:2})}return t})();var MFe=t=>({"with-blurred-bg":t});function FFe(t,i){if(t&1&&D(0,"img",3),t&2){let e=y(2);C("src",e.getEventImageSrc(),un)}}function LFe(t,i){if(t&1&&(h(0,"div",0)(1,"div",1),D(2,"img",2),g(),J(3,FFe,1,1,"img",3),g()),t&2){let e=y();d(2),Xt("alt",e.eventInformation.eventName),C("ngClass",et(4,MFe,e.showBlurredEventImage()))("src",e.getEventImageSrc(),un),d(),$(e.showBlurredEventImage()?3:-1)}}var m3=(()=>{class t{eventInformation;affiliate;showEventImage(){return this.eventInformation.hasImagePath()&&this.affiliate!==void 0}getEventImageSrc(){return dl.getEventImageSrc(this.eventInformation.imageType,this.eventInformation.imagePath,this.affiliate)}showBlurredEventImage(){return ce.hasProperty(this.affiliate,"showBlurredEventImage")?this.affiliate.showBlurredEventImage:!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-image"]],inputs:{eventInformation:"eventInformation",affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[["data-qa","event-image",1,"main-ticket-card-image","col-xs-12","card-section","bottom-separator","theme-element-border"],[1,"main-ticket-card-ticketimage","square-image"],[1,"fluid-image",3,"alt","ngClass","src"],["alt","","aria-hidden","true",1,"main-ticket-card-ticketimage-bg",3,"src"]],template:function(n,r){n&1&&J(0,LFe,4,6,"div",0),n&2&&$(r.showEventImage()?0:-1)},dependencies:[At],encapsulation:2})}return t})();function UFe(t,i){if(t&1&&D(0,"ev-event-image",3),t&2){let e=y(2);C("eventInformation",e.eventInformation)("affiliate",e.affiliate)}}function $Fe(t,i){if(t&1&&D(0,"ev-sports-icons",5),t&2){let e=y(2);C("eventInformation",e.eventInformation)("isMiniBasket",!1)}}function HFe(t,i){if(t&1&&(h(0,"div",6),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.venueAddress," ")}}function VFe(t,i){if(t&1&&(h(0,"div",7),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.formattedEventDate," ")}}function jFe(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"div")(2,"h3",1),R(3),H(4,"translate"),g(),h(5,"p",2),R(6),H(7,"translate"),g()(),J(8,UFe,1,2,"ev-event-image",3),h(9,"ev-pl-card")(10,"div",4),R(11),J(12,$Fe,1,2,"ev-sports-icons",5),g(),J(13,HFe,2,1,"div",6)(14,VFe,2,1,"div",7),h(15,"div")(16,"button",8),Ee("click",function(){Ne(e);let r=y();return Re(r.redirectToEventPage())}),R(17),H(18,"translate"),g()()()()}if(t&2){let e=y();d(3),ne(" ",j(4,8,e.Message.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_HEADLINE),""),d(3),ne(" ",j(7,10,e.Message.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_TEXT)," "),d(2),$(e.isSportsShop?-1:8),d(3),ne(" ",e.eventInformation.eventName," "),d(),$(e.eventInformation.hasGenderIcon()||e.eventInformation.hasMedalIcon()?12:-1),d(),$(e.eventInformation.canShowVenueAddress()?13:-1),d(),$(e.eventInformation.canShowEventDate()?14:-1),d(3),ne(" ",j(18,12,e.Message.CHECKOUT_APP_RESERVATION_EXPIRED_EVENT_ADVERTISEMENT_BUTTON_TITLE)," ")}}var Wne=(()=>{class t{#e=E(fn);#t=E(ai);affiliate;eventInformation=null;isSportsShop=!1;Message=K;ngOnInit(){let e=this.#e.get(ut.LAST_ADDED_EVENT,null);e!=null&&(this.eventInformation=Wa.convertEvent(e)),this.isSportsShop=this.#t.isSportsShop(this.affiliate)}redirectToEventPage(){let e=this.eventInformation.getEventUrl();En.redirectTo(!0,e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-advertisement-after-reservation-expired"]],inputs:{affiliate:"affiliate"},standalone:!1,decls:1,vars:1,consts:[["data-qa","event-advertisement-time-expired"],[1,"card-inline-headline","theme-headline-color","u-font-weight-600","padding-bottom-xxs"],[1,"card-paragraph","theme-text-color","margin-bottom-s"],[3,"eventInformation","affiliate"],["data-qa","event-title",1,"event-name","main-ticket-card-emphasized-info","middlespace","theme-headline-color"],[3,"eventInformation","isMiniBasket"],["data-qa","venue-address",1,"venue-info","normalspace"],["data-qa","event-date",1,"time","normalspace"],["type","button","data-qa","button",1,"margin-top-xl","btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"]],template:function(n,r){n&1&&J(0,jFe,19,14,"div",0),n&2&&$(r.eventInformation!==null?0:-1)},dependencies:[$n,eb,m3,Se],encapsulation:2})}return t})();var KFe=()=>({position:"",page:"reservation_timeup"});function qFe(t,i){if(t&1&&(h(0,"div",1),D(1,"ev-back-to-shop",5),g()),t&2){let e=y();d(),C("affiliate",e.affiliateJson)("trackingArguments",ol(2,KFe))}}var zne=(()=>{class t{#e=E(Tn);#t=E(no);#n=E(Sn);subscriptions=[];affiliateJson;showBackToShopLink;ngOnInit(){this.#t.setTitle(this.#n.instant(K.CHECKOUT_APP_PAGE_TITLE_BASKET)),this.subscriptions.push(this.registerAffiliateObserver()),this.showBackToShopLink=this.#e.observeWebshopElement(jl.BACK_TO_SHOP_LINK,!0)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}registerAffiliateObserver(){return this.#e.observeAffiliate().subscribe(e=>{this.affiliateJson=e})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-reservation-timeup-page"]],standalone:!1,decls:6,vars:4,consts:[["data-qa","reservation-timeup-page"],[1,"row","top-separator-spacer","theme-element-border","theme-box-shadow","back-link-container"],[1,"row"],[1,"col-xs-12","col-md-8","col-md-offset-2"],[3,"affiliate"],[3,"affiliate","trackingArguments"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,qFe,2,3,"div",1),H(2,"async"),h(3,"div",2)(4,"div",3),D(5,"ev-event-advertisement-after-reservation-expired",4),g()()()),n&2&&(d(),$(j(2,2,r.showBackToShopLink)?1:-1),d(4),C("affiliate",r.affiliateJson))},dependencies:[w1,Wne,Su],encapsulation:2})}return t})();var MA=function(t){return t[t.ORDER=0]="ORDER",t[t.EVENT=1]="EVENT",t}(MA||{});var M0=function(t){return t.DELIVERY_TYPE="delivery",t.PAYMENT_TYPE="payment",t}(M0||{});var Yne=(()=>{class t extends cr{deleteSportsPack(e,n){let r=`/checkout/orders/${e}/pack/${n}`;return this.webshopApi.delete(r)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function WFe(t,i){if(t&1&&(h(0,"span",0),R(1),H(2,"translate"),h(3,"span"),D(4,"ev-forms-formatter",1),g()()),t&2){let e=y();d(),ne(" ",Qr(2,2,e.Message.CHECKOUT_APP_PLURAL_RULES_TICKET,e.getTicketAmountTranslationParams()),",\xA0 "),d(3),C("content",e.prices.totalSumFormat)}}var sH=(()=>{class t extends nu{Message=K;getTicketAmountTranslationParams(){return{[C0.TicketAmount]:this.order.numberOfTickets,[C0.TicketType]:this.getTicketTypeFor(this.order.events)}}getTicketTypeFor(e){return e.map(r=>Wa.convertEvent(r).getEventTicketType()).reduce(this.toSingleEventTicketType.bind(this),null)}toSingleEventTicketType(e,n){return e===n||e===null?n:Ca.Other}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-headline-price-information"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[[1,"main-ticket-card-headline-price"],["data-qa","order-sum",3,"content"]],template:function(n,r){n&1&&J(0,WFe,5,5,"span",0),n&2&&$(r.order?0:-1)},dependencies:[Zr,Se],encapsulation:2})}return t})();var lH=(()=>{class t{fee;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-personalisation-event-fee"]],inputs:{fee:"fee"},standalone:!1,decls:5,vars:2,consts:[["data-qa","product-event-fee",1,"list","theme-text-color"],["data-qa","label",1,"col-xs-8","card-prevent-overlaps"],["data-qa","value",1,"col-xs-4","text-right","text-nowrap"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"span",1),R(2),g(),h(3,"span",2),R(4),g()()),n&2&&(d(2),ne(" ",r.fee.feeName," "),d(2),ne(" ",r.fee.feeValue," "))},encapsulation:2})}return t})();var cH=(()=>{class t{fee;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-event-fee"]],inputs:{fee:"fee"},standalone:!1,decls:4,vars:2,consts:[["data-qa","label",1,"middlespace"],["data-qa","value",1,"endspace"]],template:function(n,r){n&1&&(h(0,"span",0),R(1),g(),h(2,"span",1),R(3),g()),n&2&&(d(),Ae(r.fee.feeName),d(2),Ae(r.fee.feeValue))},encapsulation:2})}return t})();var YFe=t=>({"padding-xs":t});function JFe(t,i){if(t&1&&(h(0,"div",2),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.numberOfTickets," x ")}}function XFe(t,i){if(t&1&&(J(0,JFe,2,1,"div",2),h(1,"div",3),D(2,"ev-event-name",4),g()),t&2){let e=y();$(e.showNumberOfTickets?0:-1),d(2),C("eventInformation",e.eventInformation)}}function QFe(t,i){if(t&1&&(h(0,"div",5),D(1,"img",6),g()),t&2){let e=y(2);C("ngClass",et(2,YFe,e.isSportsShop)),d(),C("src",e.getEventImageSrc(),un)}}function ZFe(t,i){if(t&1&&R(0),t&2){let e=y(2);ne(" ",e.eventInformation.numberOfTickets," x ")}}function eLe(t,i){if(t&1&&(J(0,QFe,2,4,"div",5),h(1,"div",3),J(2,ZFe,1,1),D(3,"ev-event-name",4),g()),t&2){let e=y();$(e.eventInformation.imagePath?0:-1),d(2),$(e.showNumberOfTickets?2:-1),d(),C("eventInformation",e.eventInformation)}}function tLe(t,i){if(t&1&&(h(0,"div",7),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.venueAddress," ")}}function nLe(t,i){if(t&1&&(h(0,"div",8),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.formattedEventDate," ")}}function iLe(t,i){if(t&1&&J(0,tLe,2,1,"div",7)(1,nLe,2,1,"div",8),t&2){let e=y();$(e.eventInformation.canShowVenueAddress()?0:-1),d(),$(e.eventInformation.canShowEventDate()?1:-1)}}function rLe(t,i){if(t&1&&(h(0,"div",9),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.formattedEventDate," ")}}function oLe(t,i){if(t&1&&(h(0,"div",10),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.eventInformation.venueAddress," ")}}function aLe(t,i){if(t&1&&J(0,rLe,2,1,"div",9)(1,oLe,2,1,"div",10),t&2){let e=y();$(e.eventInformation.canShowEventDate()?0:-1),d(),$(e.eventInformation.canShowVenueAddress()?1:-1)}}function sLe(t,i){if(t&1&&(h(0,"div",1),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Vi(" ",j(2,2,e.Message.CHECKOUT_APP_PROMOTER),": ",e.eventInformation.promoter," ")}}var FA=(()=>{class t extends s3{Message=K;isSportsShop=!1;ngOnInit(){this.isSportsShop=this.sportsService.isSportsShop(this.affiliate)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-event-information"]],standalone:!1,features:[dt],decls:7,vars:4,consts:[["data-qa","event-price",1,"ticket-price","main-ticket-card-emphasized-info","main-ticket-card-price","endspace"],["data-qa","promoter",1,"promoter-info","normalspace"],[1,"ticket-amount","main-ticket-card-emphasized-info","frontspace"],["data-qa","event-title",1,"event-name","main-ticket-card-emphasized-info","middlespace"],[3,"eventInformation"],[1,"frontspace","frontspace-span-rows","square-image",3,"ngClass"],["alt","",1,"fluid-image","frontspace-image",3,"src"],["data-qa","venue-address",1,"venue-info","normalspace"],["data-qa","event-date",1,"time","normalspace"],["data-qa","event-date",1,"venue-info","normalspace"],["data-qa","venue-address",1,"normalspace","time"]],template:function(n,r){n&1&&(J(0,XFe,3,2)(1,eLe,4,3),h(2,"div",0),R(3),g(),J(4,iLe,2,2)(5,aLe,2,2)(6,sLe,3,4,"div",1)),n&2&&($(r.showRelevantEventImage?0:1),d(3),ne("",r.eventInformation.totalEventPrice(),`
`),d(),$(r.isSportsShop?5:4),d(2),$(r.eventInformation.canShowPromoter()?6:-1))},dependencies:[At,Ch,Se],encapsulation:2})}return t})();function cLe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_ROW))}}function dLe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_TABLE))}}function uLe(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.GLOBAL_SEAT))}}function pLe(t,i){if(t&1&&(J(0,cLe,3,3,"span")(1,dLe,3,3,"span")(2,uLe,3,3,"span"),R(3)),t&2){let e=i.$implicit,n=i.$index,r=i.$count;$(e.seatInfoKey==="row"?0:-1),d(),$(e.seatInfoKey==="table"?1:-1),d(),$(e.seatInfoKey==="seat"?2:-1),d(),Vi(" ",e.seatInfoValue,"",n===r-1?"":", "," ")}}function mLe(t,i){if(t&1&&(h(0,"div",3),R(1),g()),t&2){let e=y();d(),ne(" ",e.seatInfo.placeInformationShoppingCart," ")}}function fLe(t,i){if(t&1&&(h(0,"div",3),R(1),g()),t&2){let e=y();d(),ne(" ",e.seatInfo.placeInformationPopup," ")}}var LA=(()=>{class t extends o3{Message=K;ngOnInit(){this.seatInformation=this.getSeatInformation(this.seatInfo)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-seat-info"]],standalone:!1,features:[dt],decls:7,vars:2,consts:[["data-qa","seat-information",1,"theme-text-color"],[1,"row"],[1,"col-xs-12"],[1,"theme-text-highlight-color"]],template:function(n,r){n&1&&(h(0,"div",0),ft(1,pLe,4,5,null,null,fr),h(3,"div",1)(4,"div",2),J(5,mLe,2,1,"div",3)(6,fLe,2,1,"div",3),g()()()),n&2&&(d(),ht(r.seatInformation),d(4),$(r.seatInfo.placeInformationShoppingCart?5:-1),d(),$(r.seatInfo.placeInformationPopup?6:-1))},dependencies:[Se],encapsulation:2})}return t})();function hLe(t,i){if(t&1&&(h(0,"span",3),R(1),g()),t&2){let e=y(2);d(),Ae(e.priceCategory.name)}}function gLe(t,i){if(t&1&&(h(0,"span",4),R(1),g()),t&2){let e=y(2);d(),ne(", ",e.ticket.discountLevel,"")}}function vLe(t,i){if(t&1&&(h(0,"div",0),J(1,hLe,2,1,"span",3)(2,gLe,2,1,"span",4),g()),t&2){let e=y();d(),$(e.priceCategory.name?1:-1),d(),$(e.showDiscountLevel()?2:-1)}}function _Le(t,i){if(t&1&&(h(0,"div",1),R(1),g()),t&2){let e=y();d(),ne("",e.ticket.price," ")}}function CLe(t,i){if(t&1&&D(0,"ev-seat-info",2),t&2){let e=y();C("seatInfo",e.ticket)}}var dH=(()=>{class t extends i3{Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-price-information"]],standalone:!1,features:[dt],decls:3,vars:3,consts:[[1,"price-category-info","middlespace"],["data-qa","price",1,"price-category-price","endspace"],[1,"card-highlight","normalspace",3,"seatInfo"],["data-qa","price-category"],["data-qa","discount-level"]],template:function(n,r){n&1&&J(0,vLe,3,2,"div",0)(1,_Le,2,1,"div",1)(2,CLe,1,1,"ev-seat-info",2),n&2&&($(r.priceCategory.name||r.showDiscountLevel()?0:-1),d(),$(r.ticket.priceInt>0||r.isRepersonalizationTicket()?1:-1),d(),$(r.isSeatInformationVisible()&&r.hasSeatInformation(r.ticket)?2:-1))},dependencies:[LA],encapsulation:2})}return t})();function yLe(t,i){if(t&1&&(h(0,"div",0),R(1),g(),h(2,"div",1),R(3),g()),t&2){let e=i.$implicit;d(),Ae(e.label),d(2),Ae(e.value)}}function ELe(t,i){if(t&1&&(h(0,"span",2),R(1),g(),h(2,"span",3),R(3),g()),t&2){let e=y();d(),Ae(e.ticket.flexibleTicketFee.feeName),d(2),Ae(e.ticket.flexibleTicketFee.feeValue)}}var uH=(()=>{class t extends r3{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-relevant-fee-information"]],standalone:!1,features:[dt],decls:3,vars:1,consts:[["data-qa","fee-label",1,"price-category-info","middlespace"],["data-qa","fee-price",1,"price-category-info","endspace"],["data-qa","flexible-fee-label",1,"price-category-info","middlespace"],["data-qa","flexible-fee-price",1,"price-category-info","endspace"]],template:function(n,r){n&1&&(ft(0,yLe,4,2,null,null,fr),J(2,ELe,4,2)),n&2&&(ht(r.getOrderPositionFees(r.ticket)),d(2),$(r.ticket.flexibleTicketFee?2:-1))},encapsulation:2})}return t})();var TLe=(t,i)=>i.platzId;function bLe(t,i){if(t&1&&(h(0,"div",0),D(1,"div",1)(2,"ev-relevant-event-information",2)(3,"ev-seat-info",3),g()),t&2){let e=i.$implicit,n=y();d(2),C("eventInformation",n.getEventInformation(e))("showNumberOfTickets",!1),d(),C("seatInfo",e.seatInfo)}}var pH=(()=>{class t extends a3{Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-ticket-package-items"]],standalone:!1,features:[dt],decls:2,vars:0,consts:[["data-qa","package-item",1,"normalspace"],[1,"margin-top-xl"],[3,"eventInformation","showNumberOfTickets"],[1,"seat-info",3,"seatInfo"]],template:function(n,r){n&1&&ft(0,bLe,4,3,"div",0,TLe),n&2&&ht(r.packageItems)},dependencies:[FA,LA],encapsulation:2})}return t})();var BA=function(t){return t.SHOPPING_CART_TICKET_DETAILS="shopping-cart_ticketdetails_click",t.SHOPPING_CART_SEATMAP="shopping-cart_seatmap_click",t}(BA||{});var h3=Kk(Xne());var ILe=["seatmap"];function SLe(t,i){if(t&1&&(h(0,"div",1)(1,"ev-notification",2)(2,"span",3),R(3),H(4,"translate"),g()(),D(5,"div",4,0),g()),t&2){let e=y();d(),C("visible",e.showClientError)("type",e.NotificationType.Danger),d(2),ne(" ",j(4,4,e.Message.COMPONENT_SEATMAP_ERROR_SEATMAP_NOT_AVAILABLE_HEADLINE)," "),d(2),C("hidden",e.showClientError)}}var Qne=(()=>{class t extends Gi{order;event;affiliate;elementRef;clientRef=null;showClientError=!1;document=E(Ot);Message=K;NotificationType=rn;optimizely=E(Ga);ngOnInit(){this.hasSeatmap()&&this.optimizely.triggerPageEvent(Gr.SEATMAP)}ngOnDestroy(){this.elementRef&&(this.elementRef.nativeElement.removeEventListener("seatmap:ready",this.addMarkers.bind(this)),this.elementRef.nativeElement.removeEventListener("seatmap:error",this.checkForError.bind(this))),this.clientRef?.destroy()}ngAfterViewInit(){this.renderSeatmap()}hasSeatmap(){return!ce.isEmpty(this.affiliate?.seatmapSettings)&&this.event.showSeatmap&&this.event.type!==So.Package}showSeatmap(e){e&&this.renderSeatmap()}renderSeatmap(){!this.order||!this.event||!this.affiliate||this.clientRef!==null||!this.elementRef||(this.clientRef=new h3.SeatmapClient(this.elementRef.nativeElement),this.onClientRendered(),this.onClientError(),this.clientRef.init({selection:!1,apiOptions:{id:`${this.affiliate.seatmapSettings.cType}-${this.affiliate.seatmapSettings.cId}-${this.event.eventId}`,baseUrl:this.affiliate.seatmapSettings.baseUrl,params:{affiliate:this.affiliate.code,a_sessionId:this.order.sessionId}},preselected:this.getPreselectedSeats()}),this.optimizely.trackData(BA.SHOPPING_CART_SEATMAP))}onClientRendered(){this.elementRef.nativeElement.addEventListener("seatmap:ready",this.addMarkers.bind(this))}onClientError(){this.elementRef.nativeElement.addEventListener("seatmap:error",this.checkForError.bind(this))}getPreselectedSeats(){let e=[],n=[];return this.event.priceCategory.tickets.forEach(r=>{let o={id:r.seatId,pc:this.event.priceCategory.pkId};r.standingSeat?e.push(o):n.push(o)}),{seats:n,gas:e}}addMarkers(e){let n=e.detail.seatmap;Object.keys(n).length>0&&this.event.priceCategory.tickets.forEach(r=>{let o;r.standingSeat?o=n?.gaIdToGa[r.seatId]:o=n?.seatIdToSeat[r.seatId],this.addAreaMarker(o),this.addSeatMarker(o)})}addAreaMarker(e){if(e===null)return;let n=this.clientRef.getLinkedBlock(this.clientRef.getElementIdFor(e));n&&!this.hasMarkerAlready(n.id)&&this.clientRef.addMarker({id:n.id,point:this.clientRef.getCenter(this.clientRef.getElementIdByType(n.id,h3.Type.LINKED_BLOCK))})}addSeatMarker(e){let n=this.clientRef.getElementIdFor(e);n&&!this.hasMarkerAlready(e.id)&&this.clientRef.addMarker({point:this.clientRef.getCenter(n),id:e.id,areaId:e.areaId})}checkForError(e){let n=e.detail.error;this.showClientError=n?.length>0||!1}hasMarkerAlready(e){return this.clientRef.getMarker().find(n=>n.id===e)!==void 0}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-seatmap"]],viewQuery:function(n,r){if(n&1&&Qi(ILe,5,ii),n&2){let o;Ni(o=Ri())&&(r.elementRef=o.first)}},inputs:{order:"order",event:"event",affiliate:"affiliate"},standalone:!1,features:[dt],decls:1,vars:1,consts:[["seatmap",""],["data-qa","seatmap"],[3,"visible","type"],["data-qa","client-error"],["data-qa","seatmap-client",1,"order-position-seatmap",3,"hidden"]],template:function(n,r){n&1&&J(0,SLe,7,6,"div",1),n&2&&$(r.hasSeatmap()?0:-1)},dependencies:[On,Se],encapsulation:2})}return t})();var xLe=t=>({"margin-bottom-m":t}),fH=(t,i)=>({$implicit:t,lst:i}),hH=t=>({"bottom-spacer":t}),ALe=(t,i,e)=>({"top-separator":t,"padding-top-m padding-bottom-m":i,"no-padding-top":e}),PLe=t=>({"checkout-card-container btn":t}),kLe=t=>({"margin-bottom-xl":t}),gH=(t,i)=>i.id,Zne=(t,i)=>i.eventId;function wLe(t,i){if(t&1&&D(0,"ev-event-image",6),t&2){let e=y();C("eventInformation",e.eventInformation())("affiliate",e.affiliate())}}function DLe(t,i){if(t&1&&ci(0,20),t&2){let e=i.$implicit,n=i.$index,r=i.$count;y(2);let o=Fn(24);C("ngTemplateOutlet",o)("ngTemplateOutletContext",Un(2,fH,e,n===r-1))}}function OLe(t,i){if(t&1&&D(0,"ev-event-fee",22),t&2){let e=i.$implicit;C("fee",e)}}function NLe(t,i){if(t&1&&(h(0,"div",21),ft(1,OLe,1,1,"ev-event-fee",22,ri),g()),t&2){let e=y(2);C("ngClass",et(1,hH,e.hasFlexibleEventFee())),d(),ht(e.event().flexibleEventFees)}}function RLe(t,i){if(t&1&&(ft(0,DLe,1,5,"ng-container",20,gH),J(2,NLe,3,3,"div",21)),t&2){let e=y();ht(e.event().priceCategory.tickets),d(2),$(e.event().flexibleEventFees?2:-1)}}function MLe(t,i){}function FLe(t,i){if(t&1){let e=Je();h(0,"ev-toggle",24),Ee("onToggle",function(){Ne(e);let r=y(2);return Re(r.optimizely.trackData(r.OptimizelyTrackingEvent.SHOPPING_CART_TICKET_DETAILS))}),J(1,MLe,0,0,"ng-template",25),g()}if(t&2){let e=y(2),n=Fn(14);C("showDetailsTitle",e.Message.CHECKOUT_APP_SHOW_SEAT_INFORMATION)("expanded",e.isPrintableOrMailableVoucher())("isRelevantShoppingCart",!0),d(),C("ngTemplateOutlet",n)}}function LLe(t,i){if(t&1&&ci(0,20),t&2){let e=i.$implicit,n=i.$index,r=i.$count;y(3);let o=Fn(24);C("ngTemplateOutlet",o)("ngTemplateOutletContext",Un(2,fH,e,n===r-1))}}function BLe(t,i){if(t&1&&D(0,"ev-event-fee",22),t&2){let e=i.$implicit;C("fee",e)}}function ULe(t,i){if(t&1&&(h(0,"div",21),ft(1,BLe,1,1,"ev-event-fee",22,ri),g()),t&2){let e=y(3);C("ngClass",et(1,hH,e.hasFlexibleEventFee())),d(),ht(e.event().flexibleEventFees)}}function $Le(t,i){if(t&1){let e=Je();h(0,"div",26)(1,"div",27)(2,"button",28),Ee("click",function(){Ne(e);let r=y(3);return Re(r.openSeatmapModal())}),R(3),H(4,"translate"),g()()()}if(t&2){let e=y(3);d(3),ne("",j(4,1,e.Message.CHECKOUT_APP_SHOW_SEATMAP)," ")}}function HLe(t,i){if(t&1&&(ft(0,LLe,1,5,"ng-container",20,gH),J(2,ULe,3,3,"div",21)(3,$Le,5,3,"div",26)),t&2){let e=y(2);ht(e.event().priceCategory.tickets),d(2),$(e.event().flexibleEventFees?2:-1),d(),$(!e.seatmapImageUrl()&&e.hasSeatmap()?3:-1)}}function VLe(t,i){if(t&1&&J(0,FLe,2,4,"ev-toggle",23)(1,HLe,4,2),t&2){let e=y();$(e.order().ticketPriceDisplayMode!==2?0:1)}}function jLe(t,i){if(t&1&&ci(0,20),t&2){let e=i.$implicit,n=i.$index,r=i.$count;y(2);let o=Fn(24);C("ngTemplateOutlet",o)("ngTemplateOutletContext",Un(2,fH,e,n===r-1))}}function GLe(t,i){if(t&1&&D(0,"ev-event-fee",22),t&2){let e=i.$implicit;C("fee",e)}}function KLe(t,i){if(t&1&&(h(0,"div",21),ft(1,GLe,1,1,"ev-event-fee",22,ri),g()),t&2){let e=y(2);C("ngClass",et(1,hH,e.hasFlexibleEventFee())),d(),ht(e.event().flexibleEventFees)}}function qLe(t,i){if(t&1){let e=Je();h(0,"div",26)(1,"div",27)(2,"button",28),Ee("click",function(){Ne(e);let r=y(2);return Re(r.openSeatmapModal())}),R(3),H(4,"translate"),g()()()}if(t&2){let e=y(2);d(3),ne("",j(4,1,e.Message.CHECKOUT_APP_SHOW_SEATMAP)," ")}}function WLe(t,i){if(t&1&&(ft(0,jLe,1,5,"ng-container",20,gH),J(2,KLe,3,3,"div",21)(3,qLe,5,3,"div",26)),t&2){let e=y();ht(e.event().priceCategory.tickets),d(2),$(e.event().flexibleEventFees?2:-1),d(),$(!e.seatmapImageUrl()&&e.hasSeatmap()?3:-1)}}function zLe(t,i){if(t&1&&(h(0,"div",33)(1,"span",34),R(2),H(3,"translate"),g()()),t&2){let e=y(2);d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_SEAT_LEVEL_META_DATA_CHECKBOX_ERROR)," ")}}function YLe(t,i){if(t&1&&(h(0,"div",12)(1,"form",29),D(2,"ev-forms-checkbox",30),g(),h(3,"div",31)(4,"label",32),R(5),H(6,"translate"),g()(),J(7,zLe,4,3,"div",33),g()),t&2){let e=y();d(),C("formGroup",e.seatLevelForm().control),d(),C("fieldName",e.seatLevelMetaDataCheckbox().name)("value",!0)("chosenId",e.seatLevelInputId()),d(2),C("for",e.seatLevelInputId()),d(),ne(" ",j(6,7,e.Message.CHECKOUT_APP_SEAT_LEVEL_META_DATA_CHECKBOX_LABEL)," "),d(2),$(e.isInvalid(e.seatLevelMetaDataCheckbox().name)?7:-1)}}function JLe(t,i){if(t&1&&D(0,"ev-seatmap-image",13),t&2){let e=y();C("seatmapImageUrl",e.seatmapImageUrl())("seatmapPinCoordinates",e.seatmapPinCoordinates())}}function XLe(t,i){if(t&1&&D(0,"ev-ticket-insurance",14),t&2){let e=y();C("order",e.order())("event",e.event())("parentForm",e.ticketInsuranceForm())("ticketInsuranceConfig",e.ticketInsuranceConfig())("disableTicketInsuranceHighlight",e.isTicketInsuranceHighlightDisabled())}}function QLe(t,i){if(t&1&&D(0,"ev-relevant-memory-ticket",15),t&2){let e=y();C("orderNumber",e.order().orderNumber)("parentForm",e.memoryTicketForm())("eventJson",e.event())("memoryTicketConfig",e.memoryTicketConfig())("showTopSeparator",!e.ticketInsuranceCheckboxVisible())}}function ZLe(t,i){t&1&&D(0,"i",36)}function e4e(t,i){if(t&1){let e=Je();h(0,"div",17)(1,"button",35),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickDeleteOrderPosition())}),J(2,ZLe,1,0,"i",36),h(3,"span",37),R(4),H(5,"translate"),g()()()}if(t&2){let e=y();C("ngClass",Ms(6,ALe,e.showDeleteButtonSeparator()||e.showRelevantEventImage()&&e.isSportsShop(),e.showRelevantEventImage()&&e.isSportsShop(),!e.showDeleteButtonSeparator())),d(),C("ngClass",et(10,PLe,!e.isSportsShop())),d(),$(e.isSportsShop()?2:-1),d(2),Ae(j(5,4,e.deletePositionLabel()))}}function t4e(t,i){if(t&1&&(h(0,"div"),D(1,"ev-x-sale-event",43),g()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(2);d(),C("xSaleEvent",e)("isLast",n===r-1)("affiliate",o.affiliate())}}function n4e(t,i){if(t&1&&(h(0,"section",18)(1,"h3",38),R(2),H(3,"translate"),g(),h(4,"div",39)(5,"div",40)(6,"div",4)(7,"h4",41),R(8),H(9,"translate"),g(),h(10,"p",42),R(11),H(12,"translate"),g()()(),ft(13,t4e,2,3,"div",null,Zne),g()()),t&2){let e=y();d(2),Ae(j(3,4,e.Message.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_CARD_HEADLINE)),d(6),Vi(" ",j(9,6,e.Message.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_SUB_HEADLINE)," ",e.event().eventName," "),d(3),ne(" ",j(12,8,e.Message.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_DESCRIPTION)," "),d(2),ht(e.event().xsaleEvents)}}function i4e(t,i){if(t&1&&D(0,"ev-x-sale-event",45),t&2){let e=i.$implicit,n=i.$index,r=i.$count;C("xSaleEvent",e)("isLast",n===r-1)}}function r4e(t,i){if(t&1&&(h(0,"div",19)(1,"ev-pl-card",44),ft(2,i4e,1,2,"ev-x-sale-event",45,Zne),g()()),t&2){let e=y();d(),C("headline",e.Message.CHECKOUT_APP_SHOPPING_CART_X_SALE_EVENTS_HEADLINE)("headlineLevel",2),d(),ht(e.event().xsaleEvents)}}function o4e(t,i){if(t&1&&D(0,"ev-relevant-fee-information",47),t&2){let e=y().$implicit;C("ticket",e)}}function a4e(t,i){if(t&1&&D(0,"ev-voucher-form",48),t&2){let e=y().$implicit,n=y();C("ticket",e)("parentForm",n.orderPositionForm())}}function s4e(t,i){if(t&1&&D(0,"ev-ticket-package-items",49),t&2){let e=y().$implicit,n=y();C("packageItems",e.packageItems)("affiliate",n.affiliate())}}function l4e(t,i){if(t&1&&(D(0,"ev-price-information",46),J(1,o4e,1,1,"ev-relevant-fee-information",47)(2,a4e,1,2,"ev-voucher-form",48)(3,s4e,1,2,"ev-ticket-package-items",49),D(4,"div",50)),t&2){let e=i.$implicit,n=i.lst,r=y();C("ticket",e)("priceCategory",r.event().priceCategory),d(),$(r.hasFees(e)?1:-1),d(),$(r.isPrintableOrMailableVoucher()?2:-1),d(),$(e.packageItems?3:-1),d(),C("ngClass",et(6,kLe,!n))}}var db=class t{optimizely=E(Ga);#e=E(Al);#t=E(fn);#n=E(ai);#i=E(kn);#r=E(rr);static CONTROL_PREFIX="seatLevelMetaData";static deletePositionLabelMap=new Map([[Ca.Ticket,K.CHECKOUT_APP_DELETE_TICKETS],[Ca.Item,K.CHECKOUT_APP_DELETE_ITEMS],[Ca.Reservation,K.CHECKOUT_APP_DELETE_RESERVATIONS],[Ca.Extras,K.CHECKOUT_APP_DELETE_EXTRAS],[Ca.Other,K.CHECKOUT_APP_DELETE_ARTICLE],[Ca.Voucher,K.CHECKOUT_APP_DELETE_VOUCHER]]);OptimizelyTrackingEvent=BA;EventType=So;Message=K;order=We();parentForm=We();seatLevelForm=We();ticketInsuranceForm=We();memoryTicketForm=We();affiliate=We();isTicketInsuranceHighlightDisabled=sn(()=>this.affiliate().settings.highlightedTicketInsurance===!1);ticketInsuranceConfig=We();memoryTicketConfigs=We();memoryTicketConfig=sn(()=>this.memoryTicketConfigs()?.find(i=>i.orderPositionId===this.event().priceCategory.orderPositionId));event=We();eventInformation=sn(()=>Wa.convertEvent(this.event()));ticketInsuranceCheckboxVisible=sn(()=>this.isTicketInsuranceCheckboxVisible());deletePositionLabel=sn(()=>t.deletePositionLabelMap.get(this.eventInformation().getEventTicketType()));seatmapPinCoordinates=sn(()=>this.determineSeatmapPinCoordinates());orderPositionForm=nn(null);seatLevelMetaDataCheckbox=nn(null);showSeatLevelMetaDataCheckbox=nn(null);seatmapImageUrl=nn(ee.EMPTY_STRING);isSportsShop=nn(!1);showDeleteButtonSeparator=nn(null);seatLevelInputId=nn("");onDeleteOrderPosition=vo();ngOnInit(){this.parentForm()!==void 0&&this.setupOrderPositionForm(),this.seatLevelForm()!==void 0&&(this.showSeatLevelMetaDataCheckbox.set(this.event().priceCategory.showPlaceInformationPopupCheckbox),this.showSeatLevelMetaDataCheckbox()&&(this.setupSeatLevelMetaDataForm(),this.prefillSeatLevelMetaDataCheckbox())),this.seatmapImageUrl.set(this.event().staticSeatmapImagePath),this.isSportsShop.set(this.#n.isSportsShop(this.affiliate())),this.showDeleteButtonSeparator.set(!this.ticketInsuranceCheckboxVisible()||this.isGiftWrapAvailable()||this.memoryTicketConfig()!==void 0)}ngOnDestroy(){this.seatLevelForm()!==void 0&&(this.seatLevelForm().remove(this.getCheckboxControlName()),this.seatLevelForm().fields.length===0&&this.seatLevelForm().disable()),this.ticketInsuranceForm()!==void 0&&this.order().additionalInsuranceCheckbox&&(this.ticketInsuranceForm().control.removeControl(`ticketInsurance.${this.event().priceCategory.pkId}`),this.ticketInsuranceForm().control.removeControl(`approveTicketInsurance.${this.event().priceCategory.pkId}`),this.ticketInsuranceForm().control.updateValueAndValidity())}onClickDeleteOrderPosition(){this.onDeleteOrderPosition.emit(this.event())}isPrintableOrMailableVoucher(){return this.event().priceCategory.purchaseVoucherOrderPosition&&this.order().deliveryMethodType===ui.TICKETDIRECT}hasFlexibleEventFee(){return this.event().flexibleEventFees.length>0}getCheckboxControlName(){return`${t.CONTROL_PREFIX}${this.event().priceCategory.orderPositionId}`}isInvalid(i){let e=this.seatLevelForm().getField(i);return e.control.invalid&&e.control.touched}hasFees(i){return i.feeValues!==void 0||i.flexibleTicketFee!==void 0}showRelevantEventImage(){return ce.hasProperty(this.affiliate(),"themingSettings.sportsPlatformStyles")?this.affiliate().themingSettings.sportsPlatformStyles!==Qc.MICO:!0}hasAfterSalesBookingType(){return this.#e.hasEventAftersalesBookingType(this.event().priceCategory.bookingType)}hasSeatmap(){return!ce.isEmpty(this.affiliate()?.seatmapSettings)&&this.event().showSeatmap&&this.event().type!==So.Package}openSeatmapModal(){let i={clickTrackingData:{action:"",event_name:"seatmap_layer"},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"cart",layer_element_selected:"show_seatmap_layer"}};this.#r.trackClick(i);let e=new Dn({component:Qne,inputs:[{inputName:"order",value:this.order()},{inputName:"event",value:this.event()},{inputName:"affiliate",value:this.affiliate()}]}).enableTitle(K.CHECKOUT_APP_STATIC_SEATMAP_HEADLINE).enableCloseButton(K.GLOBAL_BUTTON_CLOSE,()=>{let n=JSON.parse(JSON.stringify(i));return n.customClickTrackingData.layer_element_selected="close_seatmap_layer",this.#r.trackClick(n),!0}).setWidth(er.MEDIUM).enableDismissable();this.#i.showModal(e)}setupOrderPositionForm(){this.event().priceCategory.purchaseVoucherOrderPosition&&(this.orderPositionForm.set(new vn(this.event().priceCategory.orderPositionId.toString())),this.parentForm().set(this.orderPositionForm()))}isTicketInsuranceCheckboxVisible(){return this.eventSupportsTicketInsurance()&&(this.insuranceDialogShown()||this.isInsuranceAlreadyChosenOnEvent()||this.isInsuranceAlreadyChosenOnOrder())}eventSupportsTicketInsurance(){return ee.isNotEmpty(this.event().priceCategory.ticketInsuranceAmount)}insuranceDialogShown(){return this.ticketInsuranceConfig().type!==zf.SHOW_AFTER_DIALOG||this.ticketInsuranceConfig().type===zf.SHOW_AFTER_DIALOG&&this.#t.get(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!1)}isInsuranceAlreadyChosenOnEvent(){return this.event().priceCategory.ticketInsuranceFeeInt>0}isInsuranceAlreadyChosenOnOrder(){return this.order().ticketInsuranceFeeInt>0}setupSeatLevelMetaDataForm(){this.seatLevelMetaDataCheckbox.set(new Gt({fieldName:this.getCheckboxControlName(),type:Mt.Checkbox,mandatory:!0,value:!1},[new ir(K.CHECKOUT_APP_SEAT_LEVEL_META_DATA_CHECKBOX_ERROR)])),this.seatLevelForm().set(this.seatLevelMetaDataCheckbox()),this.seatLevelInputId.set(ee.getRandomId(this.seatLevelMetaDataCheckbox().name)),ce.isEmpty(this.#t.get(ut.SEAT_LEVEL_METADATA_CHECKOXES,{}))&&this.#t.set(ut.SEAT_LEVEL_METADATA_CHECKOXES,this.seatLevelForm().toJson())}prefillSeatLevelMetaDataCheckbox(){let i=this.#t.get(ut.SEAT_LEVEL_METADATA_CHECKOXES,{});this.seatLevelForm()!==void 0&&!ce.isEmpty(i)&&this.seatLevelForm().getField(this.getCheckboxControlName()).control.patchValue(i[this.getCheckboxControlName()]||!1)}determineSeatmapPinCoordinates(){let i=this.event().priceCategory.tickets,e=[];return i.forEach(n=>{this.hasSeatmapPinCoordinates(n)&&e.push([n.seatLocationCoordinateX,n.seatLocationCoordinateY])}),e.length>0?e:[]}hasSeatmapPinCoordinates(i){return ce.hasProperty(i,"seatLocationCoordinateX")&&ce.hasProperty(i,"seatLocationCoordinateY")}isGiftWrapAvailable(){return ce.isObject(this.event().giftWrap)&&Dt.isNotEmpty(this.event().giftWrap.options)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-order-position"]],inputs:{order:[1,"order"],parentForm:[1,"parentForm"],seatLevelForm:[1,"seatLevelForm"],ticketInsuranceForm:[1,"ticketInsuranceForm"],memoryTicketForm:[1,"memoryTicketForm"],affiliate:[1,"affiliate"],ticketInsuranceConfig:[1,"ticketInsuranceConfig"],memoryTicketConfigs:[1,"memoryTicketConfigs"],event:[1,"event"]},outputs:{onDeleteOrderPosition:"onDeleteOrderPosition"},standalone:!1,decls:25,vars:23,consts:[["ticketFeesAndSeatmap",""],["orderInformation",""],["data-qa","order-position"],[1,"row","card","theme-content-bg","theme-text-color","theme-element-radius","standard-gray-shadow"],[1,"col-xs-12"],[1,"row"],[3,"eventInformation","affiliate"],[1,"card-content"],[1,"col-xs-12","card-section","theme-element-border"],["data-qa","event-information",1,"col-xs-12"],[3,"event"],[1,"main-ticket-card-eventinfo","main-ticket-card-grid",3,"ngClass","eventInformation","affiliate","showRelevantEventImage","hasAfterSalesBookingType"],[1,"main-ticket-card-grid"],[3,"seatmapImageUrl","seatmapPinCoordinates"],[3,"order","event","parentForm","ticketInsuranceConfig","disableTicketInsuranceHighlight"],[3,"orderNumber","parentForm","eventJson","memoryTicketConfig","showTopSeparator"],[3,"orderNumber","event","imagePath"],[1,"col-xs-12","main-ticket-card-grid","card-section",3,"ngClass"],[1,"cross-sale-card",2,"display","none"],["data-qa","x-sale-events"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["data-qa","flexible-event-fees",3,"ngClass"],["data-qa","product-event-fee",1,"main-ticket-card-grid",3,"fee"],["data-qa","ticket-details-toggle",3,"showDetailsTitle","expanded","isRelevantShoppingCart"],["data-qa","ticket-details-toggle",3,"onToggle","showDetailsTitle","expanded","isRelevantShoppingCart"],[3,"ngTemplateOutlet"],[1,"main-ticket-card-grid","padding-top-m"],[1,"middlespace"],["data-qa","open-seatmap-link","tabIndex","0","type","button",1,"btn","btn-link",3,"click"],[1,"frontspace",3,"formGroup"],[3,"fieldName","value","chosenId"],[1,"normalspace"],[1,"grid-label",3,"for"],[1,"error","normalspace"],["role","alert",1,"error-text"],["type","button","data-qa","delete-button",1,"btn-link","endspace",3,"click","ngClass"],[1,"icon","icon-trashcan","before-text"],[1,"link"],[1,"card-headline","theme-text-light-color"],[1,"row","card","theme-content-bg","theme-text-color","theme-element-radius"],[1,"card-content","bottom-separator"],["data-qa","headline",1,"cross-sale-card-subheadline","theme-text-color"],[1,"cross-sale-card-text","theme-text-color"],[3,"xSaleEvent","isLast","affiliate"],[3,"headline","headlineLevel"],[3,"xSaleEvent","isLast"],["data-qa","price-information",1,"main-ticket-card-priceinfo","main-ticket-card-grid",3,"ticket","priceCategory"],[1,"main-ticket-card-feeinfo","main-ticket-card-grid",3,"ticket"],["data-qa","voucher-items",3,"ticket","parentForm"],[1,"main-ticket-card-package-items","main-ticket-card-grid",3,"packageItems","affiliate"],[3,"ngClass"]],template:function(e,n){e&1&&(h(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),J(4,wLe,1,2,"ev-event-image",6),h(5,"div",7)(6,"div",8)(7,"div",5)(8,"div",9),D(9,"ev-special-event-info",10)(10,"ev-relevant-event-information",11),J(11,RLe,3,1)(12,VLe,2,1)(13,WLe,4,2,"ng-template",null,0,vi)(15,YLe,8,9,"div",12)(16,JLe,1,2,"ev-seatmap-image",13),g()()(),J(17,XLe,1,5,"ev-ticket-insurance",14)(18,QLe,1,5,"ev-relevant-memory-ticket",15),D(19,"ev-gift-wrap-selection",16),g(),J(20,e4e,6,12,"div",17),g()()(),J(21,n4e,15,10,"section",18)(22,r4e,4,2,"div",19),g(),J(23,l4e,5,8,"ng-template",null,1,vi)),e&2&&(d(),Le("data-qa","event-type-"+n.event().priceCategory.type),d(),Le("data-qa","product-type-"+n.event().priceCategory.subType),d(2),$(n.showRelevantEventImage()?4:-1),d(5),C("event",n.event()),d(),C("ngClass",et(21,xLe,n.isSportsShop()))("eventInformation",n.eventInformation())("affiliate",n.affiliate())("showRelevantEventImage",n.showRelevantEventImage())("hasAfterSalesBookingType",n.hasAfterSalesBookingType()),d(),$(n.isPrintableOrMailableVoucher()?11:-1),d(),$(!n.isPrintableOrMailableVoucher()&&!n.hasAfterSalesBookingType()?12:-1),d(3),$(n.showSeatLevelMetaDataCheckbox()?15:-1),d(),$(n.seatmapImageUrl()?16:-1),d(),$(n.ticketInsuranceCheckboxVisible()?17:-1),d(),$(n.memoryTicketConfig()?18:-1),d(),C("orderNumber",n.order().orderNumber)("event",n.event())("imagePath",n.affiliate().giftWrapPath),d(),$(n.event().pack===0?20:-1),d(),$(n.event().xsaleEvents?21:-1),d(),$(n.event().xsaleEvents?22:-1))},encapsulation:2})};var c4e=["seatmap"],d4e=["viewport"],u4e=["zoomIn"],p4e=["zoomOut"],m4e=["pin"];function f4e(t,i){t&1&&D(0,"i",10,4)}var vH=(()=>{class t{#e=E(Sn);#t=E(rr);#n=E(Ot);seatmap;viewport;zoomIn;zoomOut;pins;seatmapImageUrl;seatmapPinCoordinates;staticSeatmapHeadlineText=this.#e.instant(K.CHECKOUT_APP_STATIC_SEATMAP_HEADLINE);#i=100;#r=[];#o=[];ngAfterViewInit(){this.seatmapPinCoordinates?.length>0&&this.#r.push(this.pins.changes.subscribe(()=>{this.setupPinPositions(),this.#n.defaultView.addEventListener("resize",()=>{this.setupPinPositions()})}))}ngOnDestroy(){this.#r.forEach(e=>e.unsubscribe()),this.#n.defaultView.removeEventListener("resize",()=>{this.setupPinPositions()})}zoomOutOfSeatmap(){this.#t.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:"seatmap_image_zoom_out"},ga3ClickTrackingData:{category:"seatmap",action:"seatmap_overview_image",label:"zoom_out"}}),this.#i<=300&&this.#i>100&&(this.#i-=50,this.seatmap.nativeElement.style.width=`${this.#i}%`,this.zoomIn.nativeElement.classList.remove("disabled"),this.zoomIn.nativeElement.tabIndex=0,this.#i===100&&(this.viewport.nativeElement.style.overflow="auto",this.viewport.nativeElement.style.maxHeight="none",this.zoomOut.nativeElement.classList.add("disabled"),this.zoomOut.nativeElement.tabIndex=-1,this.zoomOut.nativeElement.blur(),this.updateAndCenterPinPositions())),this.updateAndCenterPinPositions()}zoomIntoSeatmap(){this.#t.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:"seatmap_image_zoom_in"},ga3ClickTrackingData:{category:"seatmap",action:"seatmap_overview_image",label:"zoom_in"}}),this.#i===100&&(this.viewport.nativeElement.style.maxHeight=window.getComputedStyle(this.viewport.nativeElement,null).height),this.#i<300&&(this.#i+=50,this.seatmap.nativeElement.style.width=`${this.#i}%`,this.#i>100&&(this.viewport.nativeElement.style.overflow="scroll",this.zoomOut.nativeElement.classList.remove("disabled"),this.zoomOut.nativeElement.tabIndex=0,this.#i===300&&(this.zoomIn.nativeElement.classList.add("disabled"),this.zoomIn.nativeElement.tabIndex=-1,this.zoomIn.nativeElement.blur()))),this.updateAndCenterPinPositions()}updateAndCenterPinPositions(){this.setupPinPositions(),this.moveSeatmapImage()}setupPinPositions(){let e=0;this.#o=[],this.seatmapPinCoordinates?.forEach(()=>{this.setPinPosition(e),e++})}setPinPosition(e){if(e>=0){let n=this.calculatePinPosition(e),r=window.getComputedStyle(this.seatmap.nativeElement,null),o=r.paddingLeft,s=r.paddingTop;this.pins.toArray()[e].nativeElement.style.left=`${n[0]+this.getDigits(o)}px`,this.pins.toArray()[e].nativeElement.style.top=`${n[1]+this.getDigits(s)}px`}}calculatePinPosition(e){let n=[0,0];return e>=0&&this.seatmapPinCoordinates?.length>=e&&(n[0]=this.seatmapPinCoordinates[e][0]*(this.seatmap.nativeElement.width/this.seatmap.nativeElement.naturalWidth)-this.pins.toArray()[e].nativeElement.offsetWidth/2,n[1]=this.seatmapPinCoordinates[e][1]*(this.seatmap.nativeElement.height/this.seatmap.nativeElement.naturalHeight)-this.pins.toArray()[e].nativeElement.offsetHeight,this.#o.push(n)),n}getDigits(e){return Number.parseInt(e.replace(/[^\d.]/g,""))}moveSeatmapImage(){let e=this.viewport.nativeElement.offsetWidth/2,n=this.viewport.nativeElement.offsetHeight/2,r=this.#o.length,o=0,s=0;this.#o.forEach(b=>{o+=b[0],s+=b[1]});let c=o/r-e,v=s/r-n;this.viewport.nativeElement.scrollTo(c,v)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-seatmap-image"]],viewQuery:function(n,r){if(n&1&&(Qi(c4e,5),Qi(d4e,5),Qi(u4e,5),Qi(p4e,5),Qi(m4e,5)),n&2){let o;Ni(o=Ri())&&(r.seatmap=o.first),Ni(o=Ri())&&(r.viewport=o.first),Ni(o=Ri())&&(r.zoomIn=o.first),Ni(o=Ri())&&(r.zoomOut=o.first),Ni(o=Ri())&&(r.pins=o)}},inputs:{seatmapImageUrl:"seatmapImageUrl",seatmapPinCoordinates:"seatmapPinCoordinates"},standalone:!1,decls:16,vars:2,consts:[["viewport",""],["seatmap",""],["zoomOut",""],["zoomIn",""],["pin",""],["aria-hidden","true",1,"static-seatmap-image-component-wrapper","main-ticket-card-grid"],[1,"static-seatmap-image-component","u-flex","u-flex-column","normalspace"],[1,"static-seatmap-image-component-headline","main-ticket-card-emphasized-info"],[1,"seatmap-image-wrapper"],["alt","",1,"seatmap-image",3,"load","src"],[1,"pin","icon","icon-location-inverted"],["tabindex","-1",1,"seatmap-overview-image-btn","zoom-out","btn","btn-alternative-sec-seatmap","btn-sm","btn-square","theme-btn-alt-sec","disabled",3,"click"],[1,"icon","icon-zoom-out"],["tabindex","0",1,"seatmap-overview-image-btn","zoom-in","btn","btn-alternative-sec-seatmap","btn-sm","btn-square","theme-btn-alt-sec",3,"click"],[1,"icon","icon-zoom-in"]],template:function(n,r){if(n&1){let o=Je();h(0,"div",5)(1,"div",6)(2,"h3",7),R(3),g(),h(4,"div",8,0)(6,"img",9,1),Ee("load",function(){return Ne(o),Re(r.updateAndCenterPinPositions())}),g(),ft(8,f4e,2,0,"i",10,ri),g(),h(10,"button",11,2),Ee("click",function(){return Ne(o),Re(r.zoomOutOfSeatmap())}),D(12,"i",12),g(),h(13,"button",13,3),Ee("click",function(){return Ne(o),Re(r.zoomIntoSeatmap())}),D(15,"i",14),g()()()}n&2&&(d(3),ne(" ",r.staticSeatmapHeadlineText,""),d(3),C("src",r.seatmapImageUrl,un),d(2),ht(r.seatmapPinCoordinates))},encapsulation:2})}return t})();var ks=function(t){return t.TICKET_INSURANCE="ticketInsurance",t.ORDER_INSURANCE="orderInsurance",t.INSURANCE_SUMMARY="insuranceSummary",t.DONATION="donationField",t.MEMORY_TICKET="memoryTicket",t}(ks||{});var g3=function(t){return t.BottomRight="BOTTOM_RIGHT",t.TopLeft="TOP_LEFT",t}(g3||{});var ub=(()=>{class t{#e=E(_i);#t=E(fo);#n=500;#i=new Map().set(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_HOW_IT_WORKS,"").set(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_PRODUCT_INFORMATION,K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_PRODUCT_INFORMATION_HREF).set(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TERMS,K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TERMS_HREF).set(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP,"");#r=new Map;#o;#a;#s=!1;isSportsShop=We(!1);parentForm=We.required();order=We.required();event=We();ticketInsuranceConfig=We.required();insuranceCheckbox=nn(null);insuranceApprovalCheckbox=nn(null);insuranceForm=nn(null);replacementArray=nn([]);additionalCheckboxSubtext=nn(ee.EMPTY_STRING);conditionsHtmlContent=sn(()=>this.getConditionsContent(this.ticketInsuranceConfig()?.logoPath));isLogoShownTopLeft=sn(()=>this.ticketInsuranceConfig()?.logoPosition===g3.TopLeft);isLogoShownBottomRight=sn(()=>this.ticketInsuranceConfig()?.logoPosition===g3.BottomRight);ticketInsuranceConditionsPopup=sn(()=>this.affiliateService.getAffiliate()?.settings?.ticketInsuranceConditionsPopup);insuranceLogoPath=sn(()=>this.ticketInsuranceConfig()?.logoPath?.trim()??null);isTicketBasedInsurance=sn(()=>ce.isObject(this.event()));orderService=E(yi);modalWindowService=E(kn);translateService=E(Sn);affiliateService=E(Tn);destroyRef=E(Oi);logService=E(bt);storageService=E(fn);spinnerService=E(Gn);constructor(){al(()=>{this.order()!==void 0&&this.addApprovalCheckbox()})}ngOnInit(){this.computeReplacementArray()}getConditionsContent(e){let n=document.createElement("ng-container");this.#i.forEach((b,x)=>{this.#r.set(x,this.translateService.instant(x))}),this.#r.forEach((b,x)=>{(b===x||ee.isEmpty(b.trim()))&&this.#r.delete(x)}),this.#r.has(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP)&&(n.innerHTML=this.#r.get(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP),this.#r.size>1&&(n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br"))));let r=document.createElement("div"),o=document.createElement("div"),s,c="ticket-insurance-advertising-wrapper",v="ticket-insurance-logo float-right";return ee.isNotEmpty(e)&&this.isLogoShownBottomRight()?(s=document.createElement("img"),s.className=v,s.src=e):ee.isNotEmpty(e)&&this.isLogoShownTopLeft()&&(r.className=c),Array.from(this.#r).filter(([b,x])=>b!==K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP).forEach(([b,x],k,O)=>{let w=document.createElement("a"),M=this.getUrl(b);ee.isNotEmpty(M)&&ee.isNotEmpty(x.trim())&&(w.target="_blank",w.innerHTML=x,w.href=M,o.appendChild(w),k!==O.length-1&&o.appendChild(document.createElement("br")))}),r.appendChild(o),s!==void 0&&r.appendChild(s),n.appendChild(r),n.outerHTML}messageIsSetupOrFilled(e){let n=this.translateService.instant(e);return n!==e&&ee.isNotEmpty(n.trim())}showModal(e){Ls.stopBubbling(e);let n=new Dn(co.buildAsyncHtml(an(this.getConditionsContent()))).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).enableTitle(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TITLE);this.modalWindowService.showModal(n)}getInsuranceCheckboxId(e){return this.#o||(this.#o=ee.getRandomId(e)),this.#o}getInsuranceApprovalCheckboxId(e){return this.#a||(this.#a=ee.getRandomId(e)),this.#a}createForm(e){this.isTicketBasedInsurance()?(this.#s=this.event().priceCategory.ticketInsuranceFeeInt>0,this.formName=this.event().priceCategory.pkId.toString()):this.#s=this.order().ticketInsuranceFeeInt>0,this.insuranceCheckbox.set(new Gt({fieldName:this.checkBoxFormFieldName,type:Mt.Checkbox,mandatory:!1,value:this.#s})),this.insuranceForm.set(new vn(this.formName,[this.insuranceCheckbox()])),!this.isTicketBasedInsurance()&&this.#s&&this.storeTicketInsuranceState(this.insuranceCheckbox()?.control.value,this.isTicketBasedInsurance()),e&&this.addApprovalCheckbox(),this.parentForm().set(this.insuranceForm())}storeTicketInsuranceState(e,n){return this.#s=e,n||this.storageService.set(ut.ORDER_TICKET_INSURANCE_ENABLED,this.#s),yu(this.#n)}getUrl(e){let n=ee.EMPTY_STRING,r=this.#i.get(e);return e===K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_HOW_IT_WORKS&&(n=`${this.affiliateService.getAffiliate().insuranceInformationPath}&lipa=popup`),r&&this.messageIsSetupOrFilled(r)&&(n=`${this.translateService.instant(r)}?lipa=pdf`),n}computeReplacementArray(){let e=this.#t.getCurrentCustomer().orElse(null);if(ce.isObject(e)){let n=this.#e.get(qi.Language),r=new Intl.DisplayNames([n],{type:"region"}),o="countryCode"in e?e.countryCode:e.country;this.replacementArray.set([{placeholder:"{COUNTRY}",replacementValue:r.of(o)},{placeholder:"{COUNTRY_CODE}",replacementValue:o},{placeholder:"{LANGUAGE}",replacementValue:n},{placeholder:"{DOC_LANGUAGE}",replacementValue:n=="en"?"en":o}])}else this.replacementArray.set([])}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{isSportsShop:[1,"isSportsShop"],parentForm:[1,"parentForm"],order:[1,"order"],event:[1,"event"],ticketInsuranceConfig:[1,"ticketInsuranceConfig"]}})}return t})();var h4e=t=>({"no-highlighted":t}),g4e=(t,i)=>({"main-ticket-card-grid":t,"insurance-checkbox-unchecked":i}),v4e=t=>({row:t}),_4e=t=>({"col-xs-12":t}),C4e=t=>({"font-size-l line-height-l":t}),y4e=(t,i)=>({"ticket-insurance-logo top-left":t,"col-xs-3 margin-bottom-m fluid-image media-left media-image visible-xs":i}),E4e=t=>({"card-headline theme-text-light-color no-margin-top margin-bottom-s":t}),T4e=t=>({checkbox:t});function b4e(t,i){if(t&1&&D(0,"ev-forms-info-link",14),t&2){let e=y(2);C("modalTitle",e.Message.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TITLE)("modalContent",e.getConditionsContent())}}function I4e(t,i){if(t&1&&(h(0,"div",10)(1,"ev-forms-field"),D(2,"ev-forms-checkbox",11),g()(),h(3,"div",12)(4,"label",13),R(5),H(6,"translate"),J(7,b4e,1,2,"ev-forms-info-link",14),g()(),h(8,"div",15),R(9),g()),t&2){let e,n,r,o=y();d(2),C("fieldName",(e=o.insuranceCheckbox())==null?null:e.name)("value",!0)("evClickTracking",o.getClickTrackingObject("ticket_insurance_checkbox_"))("chosenId",o.getInsuranceCheckboxId((n=o.insuranceCheckbox())==null?null:n.name))("isExpandableCheckbox",o.showApprovalCheckbox()),d(2),C("for",o.getInsuranceCheckboxId((r=o.insuranceCheckbox())==null?null:r.name))("ngClass",et(12,C4e,!o.isSportsShop())),d(),ne(" ",j(6,10,o.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)," "),d(2),$(o.ticketInsuranceConditionsPopup()?7:-1),d(2),ne(" ",o.event().priceCategory.ticketInsuranceAmount," ")}}function S4e(t,i){if(t&1&&(h(0,"div",4),D(1,"img",16),g()),t&2){let e=y();d(),C("src",e.insuranceLogoPath(),un)}}function x4e(t,i){if(t&1&&D(0,"img",6),t&2){let e=y();C("ngClass",Un(2,y4e,!e.isSportsShop(),e.isSportsShop()))("src",e.insuranceLogoPath(),un)}}function A4e(t,i){if(t&1&&(h(0,"div",3),R(1),H(2,"translate"),g()),t&2){let e=y();C("ngClass",et(4,E4e,e.isSportsShop())),d(),ne(" ",j(2,2,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE)," ")}}function P4e(t,i){if(t&1&&(D(0,"div",7),H(1,"translate")),t&2){let e=y();C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_TEXT))}}function k4e(t,i){if(t&1&&D(0,"img",18),t&2){let e=y(2);C("src",e.insuranceLogoPath(),un)}}function w4e(t,i){if(t&1){let e=Je();h(0,"p",8)(1,"button",17),Ee("click",function(r){Ne(e);let o=y();return Re(o.showModal(r))}),R(2),H(3,"translate"),g(),J(4,k4e,1,1,"img",18),g()}if(t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_INFO_LINK)," "),d(2),$(e.insuranceLogoPath()!==null&&e.isLogoShownBottomRight()&&!e.isSportsShop()?4:-1)}}function D4e(t,i){if(t&1&&(D(0,"p",9),H(1,"evReplaceMessagePlaceholder")),t&2){let e=y();C("evCoreHtml",Qr(1,1,e.conditionsHtmlContent(),e.replacementArray()))}}function O4e(t,i){if(t&1&&(h(0,"div",23)(1,"ev-toggle",25),D(2,"div",26),g()()),t&2){let e=y(2);d(),C("expanded",!1)("showDetailsTitle",e.Message.CHECKOUT_APP_MORE_INFORMATION),d(),C("evCoreHtml",e.additionalCheckboxSubtext())}}function N4e(t,i){if(t&1&&(h(0,"div",24),D(1,"span",27),H(2,"translate"),g()),t&2){let e=y(2);d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_ERROR))}}function R4e(t,i){if(t&1&&(h(0,"div",19)(1,"ev-forms-field"),D(2,"ev-forms-checkbox",20),g()(),h(3,"div",21),D(4,"label",22),H(5,"translate"),J(6,O4e,3,3,"div",23)(7,N4e,3,3,"div",24),g()),t&2){let e,n,r,o=y();C("ngClass",et(11,T4e,!o.isSportsShop())),d(2),C("fieldName",(e=o.insuranceApprovalCheckbox())==null?null:e.name)("value",!0)("evClickTracking",o.getClickTrackingObject("additional_ticket_insurance_checkbox_"))("chosenId",o.getInsuranceApprovalCheckboxId((n=o.insuranceApprovalCheckbox())==null?null:n.name)),d(2),C("for",o.getInsuranceApprovalCheckboxId((r=o.insuranceApprovalCheckbox())==null?null:r.name))("evCoreHtml",j(5,9,o.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_LABEL)),d(2),$(o.additionalCheckboxSubtext()!==""?6:-1),d(),$(o.approvalIsInvalid()?7:-1)}}var _H=(()=>{class t extends ub{Message=K;#e=E(tr);#t="INSURANCE_FROM_SUMMARY";disableTicketInsuranceHighlight=We(!1);showApprovalCheckbox=sn(()=>{if(this.order()?.additionalInsuranceCheckbox!==void 0)return this.order()?.additionalInsuranceCheckbox;if(this.isTicketBasedInsurance()&&this.event()?.additionalInsuranceCheckbox!==void 0)return this.event().additionalInsuranceCheckbox});formName="ticketInsuranceCheckboxForm";checkBoxFormFieldName=ks.TICKET_INSURANCE;#n="ticketInsuranceApproval";#i=!1;ngOnInit(){super.ngOnInit(),this.createForm(!0),this.observeCheckbox()}getClickTrackingObject(e){let n=this.insuranceCheckbox()?.control.value===!0?"unset":"set";return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:`${e}${n}`},ga3ClickTrackingData:{action:"ticket_insurance_checkbox",value:this.insuranceCheckbox()?.control.value===!0?"0":"1"}}}approvalIsInvalid(){let e=this.insuranceForm().control.controls[this.#n];return e.invalid&&e.touched}addApprovalCheckbox(){this.showApprovalCheckbox()&&!this.insuranceForm()?.hasField(this.#n)&&(this.insuranceApprovalCheckbox.set(new Gt({fieldName:this.#n,type:Mt.Checkbox,mandatory:this.#i,value:this.#i})),this.insuranceForm().set(this.insuranceApprovalCheckbox()),this.observeAdditionalCheckbox(),this.additionalCheckboxSubtext.set(this.translateService.instant(K.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_SUBTEXT_EXPANDED).trim()))}observeCheckbox(){this.insuranceCheckbox()?.control.valueChanges.pipe(zn(this.destroyRef),Pd(()=>(this.#e.sessionStorage.removeItem(this.#t),this.showApprovalCheckbox()?Promise.resolve():this.storeTicketInsuranceState(this.insuranceCheckbox()?.control.value,this.isTicketBasedInsurance())))).subscribe(e=>{this.showApprovalCheckbox()?(this.insuranceApprovalCheckbox()?.control.setValue(!1),this.insuranceApprovalCheckbox().mandatory=e):(this.spinnerService.show(),this.orderService.updateTicketInsurance(e,this.order(),this.event()).catch(()=>{this.logService.trace(new Error("Selection failed!"),"Ticket Insurance"),this.insuranceCheckbox()?.control.setValue(this.event().priceCategory.ticketInsuranceFeeInt>0,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()}))})}observeAdditionalCheckbox(){this.insuranceApprovalCheckbox()?.control.valueChanges.pipe(zn(this.destroyRef),Pd(()=>(this.#e.sessionStorage.removeItem(this.#t),this.storeTicketInsuranceState(this.insuranceApprovalCheckbox()?.control.value,this.isTicketBasedInsurance())))).subscribe(e=>{this.spinnerService.show(),this.orderService.updateTicketInsurance(e,this.order(),this.event(),this.insuranceApprovalCheckbox()?.control.value).catch(()=>{this.logService.trace(new Error("Selection failed!"),"Ticket Insurance"),this.insuranceApprovalCheckbox()?.control.setValue(!1,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-ticket-insurance"]],inputs:{disableTicketInsuranceHighlight:[1,"disableTicketInsuranceHighlight"]},standalone:!1,features:[dt],decls:14,vars:22,consts:[[1,"col-xs-12","card-section","main-ticket-card-ticket-insurance","no-margin-top","margin-bottom-xs",3,"ngClass"],[3,"formGroup"],["data-qa","ticket-insurance",1,"ticket-insurance"],[3,"ngClass"],[1,"frontspace","hidden-xs"],["data-qa","ticket-insurance-advertising",1,"ticket-insurance-advertising","middlespace",3,"ngClass"],["alt","",3,"ngClass","src"],[3,"evCoreHtml"],[1,"default-paragraph","ticket-insurance-advertising-wrapper"],["data-qa","conditions-content",1,"default-paragraph","theme-text-color",3,"evCoreHtml"],[1,"checkbox","main-ticket-card-emphasized-info","frontspace"],[3,"fieldName","value","evClickTracking","chosenId","isExpandableCheckbox"],[1,"middlespace","main-ticket-card-emphasized-info","insurance-label-wrapper"],[1,"theme-text-color","label",3,"for","ngClass"],[3,"modalTitle","modalContent"],[1,"insurance-price","checkbox-head","main-ticket-card-emphasized-info","main-ticket-card-price","endspace"],["alt","",1,"fluid-image",3,"src"],["type","button","data-qa","info-link",1,"ticket-insurance-advertising-link","btn","btn-link","link","ng-binding",3,"click"],["alt","",1,"ticket-insurance-logo",3,"src"],["data-qa","ticket-insurance-optin",1,"main-ticket-card-emphasized-info","frontspace","margin-top-l",3,"ngClass"],[3,"fieldName","value","evClickTracking","chosenId"],[1,"additional-insurance-checkbox-text","middlespace","margin-top-l"],[1,"theme-text-color","label",3,"for","evCoreHtml"],[1,"hide-show-button","theme-text-light-color"],["role","alert",1,"error","margin-top-xs"],["data-qa","more-information",3,"expanded","showDetailsTitle"],["data-qa","subtext",3,"evCoreHtml"],["data-qa","ticket-insurance-optin-error",1,"error-text",3,"evCoreHtml"]],template:function(n,r){if(n&1&&(h(0,"section",0)(1,"form",1)(2,"div",2)(3,"div",3),J(4,I4e,10,14)(5,S4e,2,1,"div",4),h(6,"div",5),J(7,x4e,1,5,"img",6),h(8,"div",3),J(9,A4e,3,6,"div",3)(10,P4e,2,3,"div",7)(11,w4e,5,4,"p",8)(12,D4e,2,4,"p",9),g()(),J(13,R4e,8,13),g()()()()),n&2){let o,s;C("ngClass",et(13,h4e,r.disableTicketInsuranceHighlight())),d(),C("formGroup",r.insuranceForm().control),Le("data-qa",r.insuranceForm().name),d(2),C("ngClass",Un(15,g4e,r.event()!==void 0||r.showApprovalCheckbox(),!((o=r.insuranceCheckbox())!=null&&o.control.value)&&r.showApprovalCheckbox())),d(),$(r.event()!==void 0?4:-1),d(),$(r.isSportsShop()&&r.insuranceLogoPath()!==null?5:-1),d(),C("ngClass",et(18,v4e,r.isSportsShop())),d(),$(r.insuranceLogoPath()!==null&&r.isLogoShownTopLeft()?7:-1),d(),C("ngClass",et(20,_4e,r.isSportsShop())),d(),$(r.messageIsSetupOrFilled(r.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE)?9:-1),d(),$(r.messageIsSetupOrFilled(r.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_TEXT)?10:-1),d(),$(r.ticketInsuranceConditionsPopup()?11:12),d(2),$((s=r.insuranceCheckbox())!=null&&s.control.value&&r.showApprovalCheckbox()?13:-1)}},dependencies:[At,Ai,ko,jm,xi,Pn,wn,ho,xt,go,Se,ns],encapsulation:2})}return t})();var zm=function(t){return t.SELF_PRINTING="0",t.EMAIL="1",t}(zm||{});var Hu=function(t){return t.BUYER_NAME="buyerName",t.RECIPIENT_NAME="recipientName",t.RECIPIENT_EMAIL="recipientEmail",t.PERSONAL_NOTE="personalNote",t}(Hu||{});var M4e=t=>[t];function F4e(t,i){if(t&1&&(h(0,"div",5)(1,"form",6)(2,"section",7)(3,"ev-forms-field")(4,"label",8),R(5),H(6,"translate"),g(),D(7,"input",9),H(8,"translate"),h(9,"div",10),D(10,"ev-forms-field-error",11),g()()(),h(11,"section",12)(12,"ev-forms-field")(13,"label",8),R(14),H(15,"translate"),g(),D(16,"input",9),H(17,"translate"),h(18,"div",10),D(19,"ev-forms-field-error",11),g()()(),h(20,"section",13)(21,"ev-forms-field")(22,"label",8),R(23),H(24,"translate"),g(),D(25,"input",14),h(26,"div",10),D(27,"ev-forms-field-error",11),g()()(),h(28,"section",15)(29,"ev-forms-field")(30,"label",16),R(31),H(32,"translate"),g(),D(33,"ev-forms-textarea",17),h(34,"div",10),D(35,"ev-forms-field-error",11),g()()()(),D(36,"ev-gdpr-hint",18),g()),t&2){let e=y();d(),C("formGroup",e.voucherForm.control),d(3),Le("for",e.getFormFieldId(e.VoucherFormControlName.BUYER_NAME)),d(),ne(" ",j(6,32,e.Message.CHECKOUT_APP_GIFT_INFORMATION_BUYER_NAME_LABEL)," "),d(2),Xt("placeholder",j(8,34,e.Message.CHECKOUT_APP_GIFT_INFORMATION_BUYER_NAME_PLACEHOLDER)),C("name",e.VoucherFormControlName.BUYER_NAME)("formControlName",e.VoucherFormControlName.BUYER_NAME),Le("id",e.getFormFieldId(e.VoucherFormControlName.BUYER_NAME)),d(3),C("field",e.voucherForm.getField(e.VoucherFormControlName.BUYER_NAME)),d(3),Le("for",e.getFormFieldId(e.VoucherFormControlName.RECIPIENT_NAME)),d(),ne(" ",j(15,36,e.Message.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_NAME_LABEL)," "),d(2),Xt("placeholder",j(17,38,e.Message.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_NAME_PLACEHOLDER)),C("name",e.VoucherFormControlName.RECIPIENT_NAME)("formControlName",e.VoucherFormControlName.RECIPIENT_NAME),Le("id",e.getFormFieldId(e.VoucherFormControlName.RECIPIENT_NAME)),d(3),C("field",e.voucherForm.getField(e.VoucherFormControlName.RECIPIENT_NAME)),d(3),Le("for",e.getFormFieldId(e.VoucherFormControlName.RECIPIENT_EMAIL)),d(),ne(" ",j(24,40,e.Message.CHECKOUT_APP_GIFT_INFORMATION_RECIPIENT_EMAIL_LABEL)," "),d(2),C("name",e.VoucherFormControlName.RECIPIENT_EMAIL)("formControlName",e.VoucherFormControlName.RECIPIENT_EMAIL),Le("id",e.getFormFieldId(e.VoucherFormControlName.RECIPIENT_EMAIL)),d(2),C("field",e.voucherForm.getField(e.VoucherFormControlName.RECIPIENT_EMAIL)),d(3),Xt("for",e.getFormFieldId(e.VoucherFormControlName.PERSONAL_NOTE)),d(),ne(" ",j(32,42,e.Message.CHECKOUT_APP_GIFT_INFORMATION_PERSONAL_NOTE_LABEL)," "),d(2),C("field",e.voucherForm.getField(e.VoucherFormControlName.PERSONAL_NOTE))("showCounter",!0)("maxCharacters",e.maxCharacters)("maxVisibleCharacters",e.maxVisibleCharacters)("id",e.getFormFieldId(e.VoucherFormControlName.PERSONAL_NOTE)),d(2),C("field",e.voucherForm.getField(e.VoucherFormControlName.PERSONAL_NOTE)),d(),C("additionalHints",et(44,M4e,e.Message.GLOBAL_HINTS_GDPR_VOUCHER))("wrapInSection",!0)("cssClasses","col-xs-12")}}var CH=(()=>{class t{static defaultMaxAllowedCharacters=250;VoucherFormControlName=Hu;Message=K;VoucherDeliveryOption=zm;ticket;parentForm;maxCharacters;maxVisibleCharacters;voucherForm;deliveryOptionPseudoForm=new vn("pseudoForm");deliveryOptionField;validationRulesService=E(rd);customerService=E(fo);ngOnInit(){this.setMaxCharactersOption(),this.deliveryOptionField=new Gt({fieldName:`deliveryOptionToggle_${this.ticket.id}`,type:Mt.Radio,mandatory:!1,value:zm.SELF_PRINTING,radioBoxes:[{label:K.CHECKOUT_APP_GIFT_INFORMATION_SELF_PRINTING,value:zm.SELF_PRINTING},{label:K.CHECKOUT_APP_GIFT_INFORMATION_VIA_EMAIL,value:zm.EMAIL}]}),this.deliveryOptionPseudoForm.set(this.deliveryOptionField),this.buildVoucherForm(),this.prefillVoucherForm(),this.subscribeToVoucherDeliveryOptionChangeEvents()}ngOnDestroy(){this.parentForm!==void 0&&this.parentForm.remove(this.voucherForm.name)}getFormFieldId(e){return this.voucherForm.fields.filter(r=>r.config.fieldName===e)[0].config.id}buildVoucherForm(){this.voucherForm=new vn(this.ticket.id.toString(),[new Gt({fieldName:Hu.BUYER_NAME,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(this.getValidationRuleName(Hu.BUYER_NAME)))),new Gt({fieldName:Hu.RECIPIENT_NAME,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(this.getValidationRuleName(Hu.RECIPIENT_NAME)))),new Gt({fieldName:Hu.RECIPIENT_EMAIL,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(this.getValidationRuleName(Hu.RECIPIENT_EMAIL)))),new Gt({fieldName:Hu.PERSONAL_NOTE,type:Mt.Textarea,mandatory:!1,value:""},ea.getValidatorsByRule(this.validationRulesService.getValidationRule(this.getValidationRuleName(Hu.PERSONAL_NOTE))))]),this.parentForm.set(this.voucherForm)}prefillVoucherForm(){this.ticket.giftInformation?(this.voucherForm.control.patchValue(this.ticket.giftInformation),this.deliveryOptionField.control.setValue(zm.EMAIL)):(this.customerService.getCurrentCustomer().ifPresent(e=>{this.voucherForm.getField(Hu.BUYER_NAME).control.setValue(this.getFullName(e))}),this.deliveryOptionField.control.setValue(zm.SELF_PRINTING)),this.deliveryOptionField.control.value===zm.SELF_PRINTING&&this.voucherForm.disable()}getFullName(e){return`${e.firstName} ${e.lastName}`}subscribeToVoucherDeliveryOptionChangeEvents(){this.deliveryOptionField.control.valueChanges.subscribe(e=>{this.onVoucherDeliveryOptionChange(e)})}onVoucherDeliveryOptionChange(e){this.voucherForm!==void 0&&(e===zm.SELF_PRINTING?this.voucherForm.disable():e===zm.EMAIL&&this.voucherForm.enable())}getMaxAllowedCharacters(){let e=this.validationRulesService.getValidationRule(this.getValidationRuleName(Hu.PERSONAL_NOTE));return ce.isObject(e)&&e.size&&typeof e.size.max=="number"?e.size.max:t.defaultMaxAllowedCharacters}getValidationRuleName(e){return`GiftInformationJson.${e}`}setMaxCharactersOption(){this.maxCharacters=this.getMaxAllowedCharacters(),this.maxVisibleCharacters=this.maxCharacters*2}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-voucher-form"]],inputs:{ticket:"ticket",parentForm:"parentForm"},standalone:!1,decls:8,vars:8,consts:[["data-qa","voucher-forms",1,"main-ticket-card-voucherform","main-ticket-card-grid"],[1,"info-label","normalspace"],["data-qa","delivery-option-hint",1,"label","theme-text-variant-color"],[1,"radio-group","normalspace",3,"formGroup"],[3,"field","formControlName","radioboxValues"],[1,"normalspace","radio-group"],[1,"validation",3,"formGroup"],["data-qa","buyer-name",1,"col-xs-12","card-section"],["field-label",""],["type","text","data-qa","input",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName","placeholder"],["field-error",""],[3,"field"],["data-qa","recipient-name",1,"col-xs-12","card-section"],["data-qa","recipient-email",1,"col-xs-12","card-section"],["type","text","data-qa","input",1,"form-control","theme-text-color","standard-gray-border",3,"name","formControlName"],["data-qa","personal-note",1,"col-xs-12","card-section"],["field-label","",3,"for"],["data-qa","input",3,"field","showCounter","maxCharacters","maxVisibleCharacters","id"],[3,"additionalHints","wrapInSection","cssClasses"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"label",2),R(3),H(4,"translate"),g()(),h(5,"div",3),D(6,"ev-forms-radioboxes",4),g(),J(7,F4e,37,46,"div",5),g()),n&2&&(d(3),ne(" ",j(4,6,r.Message.CHECKOUT_APP_GIFT_INFORMATION_CHOOSE_DELIVERY_OPTION)," "),d(2),C("formGroup",r.deliveryOptionPseudoForm.control),d(),C("field",r.deliveryOptionField)("formControlName",r.deliveryOptionField.name)("radioboxValues",r.deliveryOptionField.config.radioBoxes),d(),$(r.deliveryOptionField.control.value===r.VoucherDeliveryOption.EMAIL?7:-1))},dependencies:[Ai,mr,lA,nM,xi,jr,Rr,Pn,wn,_o,ja,Se],encapsulation:2})}return t})();var L4e=(t,i)=>({"margin-top-s":t,"float-right":i});function B4e(t,i){if(t&1){let e=Je();h(0,"div",2)(1,"img",8),Ee("error",function(){Ne(e);let r=y(2);return Re(r.onImageError())}),g()()}if(t&2){let e=y(2);d(),Xt("alt",e.xSaleEvent.eventName),C("src",e.imagePath,un)}}function U4e(t,i){if(t&1){let e=Je();h(0,"ev-relevant-card-expander",0),H(1,"evCustomCurrency"),H(2,"async"),H(3,"translate"),h(4,"div",1),J(5,B4e,2,2,"div",2),h(6,"div",3)(7,"div",4)(8,"ev-stepper-button",5),Ee("stepperUpdated",function(r){Ne(e);let o=y();return Re(o.onStepperUpdated(r))}),g()()(),h(9,"div",6)(10,"button",7),Ee("click",function(){Ne(e);let r=y();return Re(r.addChildEventToCart())}),R(11),H(12,"translate"),H(13,"evCustomCurrency"),H(14,"async"),g()()()()}if(t&2){let e=y();C("expanderDescription",e.xSaleEvent.eventName)("expanderMarginal",j(2,19,j(1,17,e.singlePrice)))("expanderMarginalPrefix",j(3,21,e.Message.CHECKOUT_APP_A))("infoModalTitle",e.xSaleEvent.eventName)("infoModalContent",e.xSaleEvent.description)("isLast",e.isLast)("isInitiallyExpanded",e.isInitiallyExpanded()),d(5),$(e.hasImage()?5:-1),d(2),C("ngClass",Un(29,L4e,!e.hasImage(),e.hasImage())),d(),C("min",e.stepperMin)("max",e.xSaleEvent.maxTickets)("step",e.xSaleEvent.ticketStep),d(2),Tr("disabled",!e.canAddToCart()),Le("aria-disabled",!e.canAddToCart()),d(),Vi(" ",j(12,23,e.Message.CHECKOUT_APP_ADD_X_SALE_TO_CART)," ",j(14,27,j(13,25,e.totalPrice))," ")}}function $4e(t,i){if(t&1&&D(0,"img",11),t&2){let e=y(2);Xt("alt",e.xSaleEvent.eventName),C("src",e.imagePath,un)}}function H4e(t,i){if(t&1&&(h(0,"ev-relevant-card-expander",0),H(1,"translate"),h(2,"div",9)(3,"div",10),J(4,$4e,1,2,"img",11),g(),h(5,"div",12)(6,"a",13),R(7),H(8,"translate"),g()()()()),t&2){let e=y();C("expanderDescription",e.xSaleEvent.eventName)("expanderMarginal",e.xSaleEvent.fromPrice)("expanderMarginalPrefix",j(1,10,e.Message.CHECKOUT_APP_FROM))("infoModalTitle",e.xSaleEvent.eventName)("infoModalContent",e.xSaleEvent.description)("isLast",e.isLast)("isInitiallyExpanded",e.isInitiallyExpanded()),d(4),$(e.imagePath?4:-1),d(2),Xt("href",e.xSaleEvent.link,un),d(),ne(" ",j(8,12,e.Message.CHECKOUT_APP_CONTINUE_TO_BOOKING)," ")}}var yH=(()=>{class t{xSaleEvent;isLast;affiliate;Message=K;stepperMin=0;totalPrice=0;singlePrice;imagePath;stepperValue;showImageContainer=!0;#e=E(Uv);ngOnInit(){this.singlePrice=this.xSaleEvent.priceInt,this.imagePath=dl.getEventImageSrc(this.xSaleEvent.imageType,this.xSaleEvent.imagePath,this.affiliate)}onStepperUpdated(e){this.stepperValue=e,this.stepperValue===0?this.totalPrice=0:this.totalPrice=this.xSaleEvent.priceInt*(e===0?1:e)}canAddToCart(){return this.stepperValue>=this.xSaleEvent.minTickets&&this.stepperValue<=this.xSaleEvent.maxTickets}addChildEventToCart(){if(!this.canAddToCart())return;let e={eventId:this.xSaleEvent.eventId,pkId:this.xSaleEvent.pkId,timestamp:pC.now(),ticketPriceIds:{[this.xSaleEvent.rsId]:this.xSaleEvent.tdlRabattLinkId},addBestSeatJson:{requestedBestSeats:[{amount:this.stepperValue,ticketTypeId:this.xSaleEvent.rsId}]}};this.#e.addChildTicketsToShoppingCart(e)}isInitiallyExpanded(){return this.xSaleEvent.expanded}hasImage(){return this.showImageContainer&&ee.isNotEmpty(this.imagePath)}onImageError(){this.showImageContainer=!1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-x-sale-event"]],inputs:{xSaleEvent:"xSaleEvent",isLast:"isLast",affiliate:"affiliate"},standalone:!1,decls:2,vars:1,consts:[[3,"expanderDescription","expanderMarginal","expanderMarginalPrefix","infoModalTitle","infoModalContent","isLast","isInitiallyExpanded"],["data-qa","direct-buy",1,"row"],[1,"col-xs-6","cross-sale-card-product-image-wrapper"],[1,"col-xs-12","col-sm-6"],[3,"ngClass"],[3,"stepperUpdated","min","max","step"],["data-qa","add-to-cart-container",1,"col-xs-12","col-sm-6","cross-sale-card-button"],["data-qa","link",1,"btn","btn-primary","btn-sm","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"],[1,"cross-sale-card-product-image",3,"error","src","alt"],["data-qa","event-link-container",1,"row"],[1,"col-xs-6","cross-sale-card-product-image-wrapper","no-stepper"],[1,"cross-sale-card-product-image",3,"src","alt"],[1,"col-xs-12","col-sm-6","cross-sale-card-button","cross-sale-visit-button"],["data-qa","link",1,"btn","btn-primary","btn-sm","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"href"]],template:function(n,r){n&1&&J(0,U4e,15,32,"ev-relevant-card-expander",0)(1,H4e,9,14,"ev-relevant-card-expander",0),n&2&&$(r.xSaleEvent.directBuy?0:1)},dependencies:[At,Jee,vM,Su,c1,Se],encapsulation:2})}return t})();var V4e=(t,i)=>i.eventId,j4e=(t,i)=>i.id;function G4e(t,i){if(t&1&&(h(0,"li",7),R(1),g()),t&2){let e=i.$implicit;d(),Vi("",e.discountLevel," - ",e.shopPrice,"")}}function K4e(t,i){if(t&1&&(h(0,"div",3)(1,"div",4)(2,"p",5),R(3),g(),h(4,"ul",6),ft(5,G4e,2,2,"li",7,j4e),g()()()),t&2){let e=i.$implicit,n=y();d(3),Vi("",e.eventName,", ",e.priceCategory.name,""),d(2),ht(n.getDistinctTickets(e.priceCategory.tickets))}}var EH=(()=>{class t extends Gi{Message=K;changedEvents=[];getDistinctTickets(e){let n=[],r=[];return e.forEach(o=>{r.indexOf(o.rsId)<0&&(r.push(o.rsId),n.push(o))}),n}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-price-update"]],inputs:{changedEvents:"changedEvents"},standalone:!1,features:[dt],decls:9,vars:6,consts:[["data-qa","price-update"],["data-qa","headline",1,"default-sub-headline","theme-headline-color"],["data-qa","description",1,"default-paragraph","theme-text-light-color"],[1,"row"],["data-qa","event-data"],["data-qa","name-and-category",1,"default-paragraph","u-font-weight-700","theme-text-light-color","col-xs-6"],[1,"square-list","margin-bottom-m","col-xs-12"],["data-qa","category-and-price"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"h4",1),R(2),H(3,"translate"),g(),h(4,"p",2),R(5),H(6,"translate"),g(),ft(7,K4e,7,2,"div",3,V4e),g()),n&2&&(d(2),Ae(j(3,2,r.Message.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_HEADLINE)),d(3),Ae(j(6,4,r.Message.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_DESCRIPTION)),d(2),ht(r.changedEvents))},dependencies:[Se],encapsulation:2})}return t})();var TH=(()=>{class t{webshopApi;constructor(e){this.webshopApi=e}acceptPrices(e){return this.webshopApi.post(`/priceConfirmation/order/${e}`)}declinePrices(e){return this.webshopApi.post(`/priceConfirmation/removeNotConfirmedOrderPositions/${e}`)}static \u0275fac=function(n){return new(n||t)(yt(Vo))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bH=(()=>{class t extends ph{#e=E(kn);#t=E(TH);#n=E(rr);showPriceUpdateHintIfNecessary(e){let n=[];e.events.forEach(r=>{r.priceCategory.ticketPriceConfirmed||n.push(r)}),n.length>0&&this.showPriceUpdateModal(e,n)}showPriceUpdateModal(e,n){let r={component:EH,inputs:[{inputName:"changedEvents",value:n}]},o=new Dn(r).setWidth(er.MEDIUM).enableTitle(K.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_TITLE).enablePrimaryButton(K.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_BUTTON_ACCEPT,()=>this.acceptPrices(e),()=>{this.#n.trackClick({clickTrackingData:{event_name:"notification_layer",action:""},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"price_change_layer",layer_element_selected:"button_stay"},ga3ClickTrackingData:{action:"price_change_shoppingcart",label:"stay",category:"price_change_overlay"}})}).enableSecondaryButton(K.CHECKOUT_APP_SHOPPING_CART_PRICE_UPDATE_LAYER_BUTTON_DECLINE,()=>this.declinePrices(e),()=>{this.#n.trackClick({clickTrackingData:{event_name:"notification_layer",action:""},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"price_change_layer",layer_element_selected:"button_leave"},ga3ClickTrackingData:{action:"price_change_shoppingcart",label:"leave",category:"price_change_overlay"}})});this.#e.showModal(o)}acceptPrices(e){this.#t.acceptPrices(e.orderNumber).pipe(An(n=>{this.determineNextPageAndProceed(n)})).toPromise(),this.#e.hideModal()}declinePrices(e){this.#t.declinePrices(e.orderNumber).pipe(An(n=>{this.determineNextPageAndProceed(n)})).toPromise()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var q4e=t=>({checkbox:t});function W4e(t,i){if(t&1&&(h(0,"div",11),D(1,"span",12),H(2,"translate"),g()),t&2){let e=y(2);d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_ERROR))}}function z4e(t,i){if(t&1&&(D(0,"hr",2),h(1,"form",3)(2,"div",4)(3,"ev-forms-field"),D(4,"ev-forms-checkbox",5),g()(),h(5,"div",6),D(6,"label",7),H(7,"translate"),h(8,"div",8)(9,"ev-toggle",9),D(10,"div",10),H(11,"translate"),g()(),J(12,W4e,3,3,"div",11),g()()),t&2){let e,n,r,o,s=y();d(),C("formGroup",(e=s.insuranceForm())==null?null:e.control),Le("data-qa",s.insuranceForm().name),d(),C("ngClass",et(16,q4e,!s.isSportsShop())),d(2),C("chosenId",s.getInsuranceApprovalCheckboxId((n=s.insuranceApprovalCheckbox())==null?null:n.name))("fieldName",(r=s.insuranceApprovalCheckbox())==null?null:r.name)("value",!0),d(2),C("evCoreHtml",j(7,12,s.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_LABEL))("for",s.getInsuranceApprovalCheckboxId((o=s.insuranceApprovalCheckbox())==null?null:o.name)),d(3),C("expanded",!1)("showDetailsTitle",s.Message.CHECKOUT_APP_MORE_INFORMATION),d(),C("evCoreHtml",j(11,14,s.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_SUBTEXT_EXPANDED)),d(2),$(s.approvalIsInvalid()?12:-1)}}var IH=(()=>{class t extends Gi{Message=K;insuranceForm=nn(null);insuranceApprovalCheckbox=We(null);isSportsShop=We(!1);#e;ngOnInit(){this.insuranceApprovalCheckbox()&&this.addApprovalCheckbox(),this.showSpinner.emit(!1)}OptimizelyPageEvent=Gr;addApprovalCheckbox(){this.insuranceForm.set(new vn("ticketInsuranceCheckboxForm",[this.insuranceApprovalCheckbox()]))}approvalIsInvalid(){return this.insuranceApprovalCheckbox().control.invalid&&this.insuranceApprovalCheckbox().control.touched}getInsuranceApprovalCheckboxId(e){return this.#e||(this.#e=ee.getRandomId(e)),this.#e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-ticket-insurance-popup"]],inputs:{insuranceApprovalCheckbox:[1,"insuranceApprovalCheckbox"],isSportsShop:[1,"isSportsShop"]},standalone:!1,features:[dt],decls:6,vars:8,consts:[[3,"evOptimizelyPageTrigger"],[1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],["aria-hidden","true",1,"modal-horizontal-dividing","theme-element-border","ticket-insurance-event-data-border-space"],[1,"u-flex","margin-bottom-l",3,"formGroup"],["data-qa","insurance-optin-in-reminder",1,"main-ticket-card-emphasized-info","frontspace","margin-top-l",3,"ngClass"],[3,"chosenId","fieldName","value"],[1,"additional-insurance-checkbox-text","middlespace","margin-top-l"],[1,"theme-text-color","label",3,"evCoreHtml","for"],[1,"hide-show-button","theme-text-light-color"],["data-qa","more-information-in-reminder",3,"expanded","showDetailsTitle"],["data-qa","subtext",3,"evCoreHtml"],[1,"error","margin-top-xs"],["data-qa","insurance-optin-error-in-reminder","role","alert",1,"error-text",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"p",1),H(2,"translate"),D(3,"p",1),H(4,"translate"),J(5,z4e,13,18),g()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.TICKET_INSURANCE),d(),C("evCoreHtml",j(2,4,r.Message.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TEXT_PART1)),d(2),C("evCoreHtml",j(4,6,r.Message.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TEXT_PART2)),d(2),$(r.insuranceApprovalCheckbox()?5:-1))},dependencies:[At,Ai,ko,xi,Pn,wn,Us,xt,go,Se],encapsulation:2})}return t})();var Y4e=(t,i,e,n)=>({"margin-top-xs":t,"margin-top-s":i,"margin-top-m":e,"margin-top-l":n}),J4e=t=>({checkbox:t});function X4e(t,i){if(t&1){let e=Je();h(0,"div",18)(1,"img",22),Ee("error",function(){Ne(e);let r=y(4);return Re(r.showFallbackImage.set(!0))}),g()()}if(t&2){let e=y(4);d(),Xt("alt",e.orderJson().events[0].eventName),C("src",e.getEventImageSrc(),un)}}function Q4e(t,i){if(t&1&&(h(0,"div",17),J(1,X4e,2,2,"div",18),g(),h(2,"div",19)(3,"div",20),R(4),g(),h(5,"div",21),R(6),g()()),t&2){let e=y(3);d(),$(e.orderJson().events[0].imagePath||e.hasEventFallbackImage()?1:-1),d(2),Xt("title",e.orderJson().events[0].eventName),d(),ne("",e.orderJson().events[0].eventName," "),d(),Xt("title",e.orderJson().events[0].formattedEventDate),d(),ne("",e.orderJson().events[0].formattedEventDate," ")}}function Z4e(t,i){t&1&&D(0,"div",17)(1,"div",23)}function eBe(t,i){if(t&1&&(h(0,"div"),J(1,Q4e,7,5)(2,Z4e,2,0),g()),t&2){let e=i.$implicit;xo("ticket-insurance-event-data-ticket ticket-insurance-event-data-card-",e,""),d(),$(e===0?1:2)}}function tBe(t,i){if(t&1&&(h(0,"div",8)(1,"div",1)(2,"div",9),D(3,"p",10),H(4,"translate"),H(5,"evReplaceMessagePlaceholder"),g()(),h(6,"div",1)(7,"div",11)(8,"div",12)(9,"p",13),R(10),g()(),h(11,"div",14)(12,"div",15),ft(13,eBe,3,4,"div",16,fr),g()()()()()),t&2){let e=y();d(3),C("evCoreHtml",Qr(5,6,j(4,4,e.Message.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_SHOPPING_CART_SUM_TEXT),e.getSubtotalPlaceholderText())),d(4),C("ngClass",e.eventDataSpaces()),d(2),C("ngClass",Hf(9,Y4e,e.orderJson().events[0].numberOfTickets===4,e.orderJson().events[0].numberOfTickets===3,e.orderJson().events[0].numberOfTickets===2,e.orderJson().events[0].numberOfTickets===1)),d(),ne(" ",e.orderJson().events[0].numberOfTickets,"x "),d(3),ht(e.getNumberOfTicketsSequence())}}function nBe(t,i){if(t&1&&(h(0,"div",33),D(1,"span",34),H(2,"translate"),g()),t&2){let e=y(2);d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_ERROR))}}function iBe(t,i){if(t&1&&(D(0,"hr",24),h(1,"form",25)(2,"div",26)(3,"ev-forms-field"),D(4,"ev-forms-checkbox",27),g()(),h(5,"div",28),D(6,"label",29),H(7,"translate"),h(8,"div",30)(9,"ev-toggle",31),D(10,"div",32),H(11,"translate"),g()(),J(12,nBe,3,3,"div",33),g()()),t&2){let e,n,r,o,s,c=y();d(),C("formGroup",(e=c.insuranceForm())==null?null:e.control),Le("data-qa",(n=c.insuranceForm())==null?null:n.name),d(),C("ngClass",et(16,J4e,!c.isSportsShop())),d(2),C("chosenId",c.getInsuranceApprovalCheckboxId((r=c.insuranceApprovalCheckbox())==null?null:r.name))("fieldName",(o=c.insuranceApprovalCheckbox())==null?null:o.name)("value",!0),d(2),C("evCoreHtml",j(7,12,c.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_LABEL))("for",c.getInsuranceApprovalCheckboxId((s=c.insuranceApprovalCheckbox())==null?null:s.name)),d(3),C("expanded",!1)("showDetailsTitle",c.Message.CHECKOUT_APP_MORE_INFORMATION),d(),C("evCoreHtml",j(11,14,c.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_SUBTEXT_EXPANDED)),d(2),$(c.approvalIsInvalid()?12:-1)}}var SH=(()=>{class t extends Gi{googleTrackingService=E(qr);Message=K;orderJson=We.required();numberOfTickets=sn(()=>this.orderJson()?.events[0].numberOfTickets||0);eventDataSpaces=sn(()=>({"margin-top-m":this.numberOfTickets()>=this.#e,"margin-top-s":this.numberOfTickets()===3,"margin-top-xs":this.numberOfTickets()===2}));insuranceForm=nn(null);insuranceApprovalCheckbox=We(null);affiliateJson=We();insuranceFee=We();isSportsShop=We(!1);showFallbackImage=nn(!1);#e=4;#t;ngOnInit(){this.googleTrackingService.performGoogleEventTracking({event:"view_layer",event_name:"view_insurance_layer",action:""}),this.insuranceApprovalCheckbox()&&this.addApprovalCheckbox(),this.showSpinner.emit(!1)}addApprovalCheckbox(){this.insuranceForm.set(new vn("ticketInsuranceCheckboxForm",[this.insuranceApprovalCheckbox()]))}approvalIsInvalid(){return this.insuranceApprovalCheckbox().control.invalid&&this.insuranceApprovalCheckbox().control.touched}getSubtotalPlaceholderText(){return[{placeholder:"{0}",replacementValue:`<span class="main-ticket-card-price u-font-weight-700">
                               ${this.orderJson().orderPayAmountWithoutDeliveryPaymentFee}</span>`}]}getInsuranceFeePlaceholderText(){return[{placeholder:"{0}",replacementValue:this.insuranceFee()}]}getInsuranceApprovalCheckboxId(e){return this.#t||(this.#t=ee.getRandomId(e)),this.#t}getEventImageSrc(){return this.showFallbackImage()?this.affiliateJson().fallbackImages.event:dl.getEventImageSrc(this.orderJson().events[0].imageType,this.orderJson().events[0].imagePath,this.affiliateJson())}getNumberOfTicketsSequence(){let e=this.numberOfTickets()<=this.#e?this.numberOfTickets():this.#e;return Array.from(Array(e).keys())}hasEventFallbackImage(){return ce.isObject(this.affiliateJson())&&ee.isNotEmpty(this.affiliateJson().fallbackImages?.event)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-single-event-ticket-insurance-popup"]],inputs:{orderJson:[1,"orderJson"],insuranceApprovalCheckbox:[1,"insuranceApprovalCheckbox"],affiliateJson:[1,"affiliateJson"],insuranceFee:[1,"insuranceFee"],isSportsShop:[1,"isSportsShop"]},standalone:!1,features:[dt],decls:14,vars:9,consts:[["eventInfo",""],[1,"row"],[1,"col-xs-12","ticket-insurance-event-data-top-border-space"],["evHideOnDesktop","",1,"col-xs-12"],[3,"ngTemplateOutlet"],[1,"col-xs-12","col-md-6","ticket-insurance-event-data-separator"],[1,"ticket-insurance-event-data-text-space",3,"evCoreHtml"],["evHideOnMobile","",1,"col-md-6"],[1,"ticket-insurance-event-data-info"],[1,"col-xs-11","col-md-offset-1"],[3,"evCoreHtml"],["id","marginSpaces",1,"ticket-insurance-event-data",3,"ngClass"],[1,"col-xs-1"],[1,"u-font-weight-500","font-size-m",3,"ngClass"],[1,"col-xs-11"],[1,"ticket-insurance-event-data-tickets","margin-top-s"],[3,"class"],[1,"ticket-insurance-event-data-image"],[1,"padding-xs","square-image","small-img"],[1,"ticket-insurance-event-data-details","padding-s"],[1,"u-font-weight-700","ticket-insurance-event-data-overflow-text",3,"title"],[1,"font-size-xs","ticket-insurance-event-data-overflow-text",3,"title"],[1,"fluid-image",3,"error","src","alt"],[1,"ticket-insurance-event-data-details"],["aria-hidden","true",1,"modal-horizontal-dividing","theme-element-border","ticket-insurance-event-data-border-space"],[1,"u-flex","margin-bottom-l",3,"formGroup"],["data-qa","insurance-optin-in-reminder",1,"main-ticket-card-emphasized-info","frontspace","margin-top-l",3,"ngClass"],[3,"chosenId","fieldName","value"],[1,"additional-insurance-checkbox-text","middlespace","margin-top-l"],[1,"theme-text-color","label",3,"evCoreHtml","for"],[1,"hide-show-button","theme-text-light-color"],["data-qa","more-information-in-reminder",3,"expanded","showDetailsTitle"],["data-qa","subtext",3,"evCoreHtml"],[1,"error","margin-top-xs"],["data-qa","insurance-optin-error-in-reminder","role","alert",1,"error-text",3,"evCoreHtml"]],template:function(n,r){if(n&1&&(h(0,"div",1)(1,"div",2)(2,"div",1)(3,"div",3),ci(4,4),g(),h(5,"div",5),D(6,"p",6),H(7,"translate"),H(8,"evReplaceMessagePlaceholder"),g(),h(9,"div",7),ci(10,4),g()()()(),J(11,tBe,15,14,"ng-template",null,0,vi)(13,iBe,13,18)),n&2){let o=Fn(12);d(4),C("ngTemplateOutlet",o),d(2),C("evCoreHtml",Qr(8,6,j(7,4,r.Message.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_ADVERTISING_TEXT),r.getInsuranceFeePlaceholderText())),d(4),C("ngTemplateOutlet",o),d(3),$(r.insuranceApprovalCheckbox()?13:-1)}},dependencies:[At,hr,Ai,ko,xi,Pn,wn,xt,Xd,ta,go,Se,ns],encapsulation:2})}return t})();var xH=function(t){return t[t.Purchase=1]="Purchase",t[t.Service=2]="Service",t[t.Partner=3]="Partner",t[t.Marketing=4]="Marketing",t[t.Redeemable=5]="Redeemable",t}(xH||{});var eie=(()=>{class t extends cr{submitVoucherCode(e,n){return this.webshopApi.post(`/voucher/order/${e}/voucher`,n)}submitExternalVoucherCode(e,n){return this.webshopApi.post(`/voucher/order/${e}/externalGiftCard`,n)}deleteVoucher(e,n){return this.webshopApi.post(`/voucher/order/${e}/voucher/delete`,n)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var tie=(()=>{class t{orderJson;orderService=E(yi);voucherResource=E(eie);logService=E(bt);redeemVoucher(e){if(this.orderJson=this.orderService.getOrder(),this.orderJson===void 0){this.logService.error(new Error(`Couldn't redeem voucher without valid order. voucherNumber: ${e.voucherNumber} `),"Voucher");return}return this.redeemVoucherFunnelCheckout(e)}redeemVoucherFunnelCheckout(e){let n;return e.providerId!==void 0&&e.providerId>0?n=this.voucherResource.submitExternalVoucherCode(this.orderJson.orderNumber,e):n=this.voucherResource.submitVoucherCode(this.orderJson.orderNumber,e),n.pipe(An(r=>this.orderService.updateOrder(r))).toPromise()}deleteVoucher(e){if(this.orderJson=this.orderService.getOrder(),this.orderJson===void 0){this.logService.error(new Error(`Couldn't delete voucher without valid order. voucherNumber: ${e} `),"Voucher");return}let n={voucherNumber:e};return this.voucherResource.deleteVoucher(this.orderJson.orderNumber,n).pipe(An(r=>this.orderService.updateOrder(r))).toPromise()}isNotMarketingVoucher(e){return ee.isNotEmpty(e.remainingValue)&&e.voucherType!==xH.Marketing}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var nie=(()=>{class t extends nu{translateLoaderService=E(ti);voucherService=E(tie);logService=E(bt);orderService=E(yi);Message=K;NotificationType=rn;voucherFieldName="voucherNumber";showVoucherAlreadyRedeemedNotification=!1;showWarnings=!1;isProcessing=!1;infoLinkConfig=nn(null);form=new vn("voucherForm");triedToRedeem=!1;previousOrderPositionsMap=new Map;currentOrderPositionsMap=new Map;destroyRef=E(Oi);redeemVoucher(){if(this.order.voucherErrors=[],this.form.control.valid){let e=this.form.toJson();this.prices.isVoucherAlreadyRedeemed(e.voucherNumber)?this.showVoucherAlreadyRedeemedNotification=!0:(this.isProcessing=!0,this.triedToRedeem=!0,this.voucherService.redeemVoucher(e).then(n=>{this.priceService.update(n,this.prices.affiliate),this.onSuccessfulRedemption()}).catch(n=>{this.onFailedRedemption(n)}).finally(()=>{this.isProcessing=!1}))}else this.form.markAsTouched()}buildInfoIconConfiguration(){return{headline:K.CHECKOUT_APP_VOUCHER_INFOPOPUP_TITLE,content:`
            <p class="default-paragraph theme-text-light-color">
                ${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_VOUCHER_INFOPOPUP_TEXT)}
            </p>
            <p class="default-paragraph theme-text-light-color">
                ${this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_VOUCHER_INFOPOPUP_TEXT2)}
            </p>`}}getHeadline(){return this.prices.vouchers.length>1?K.CHECKOUT_APP_VOUCHER_REDEEMED_VOUCHER_HEADLINE:K.CHECKOUT_APP_VOUCHER_REDEEMED_VOUCHER_HEADLINE_SINGULAR}showRemainingValue(e){return!this.prices.isDeliveryFeeVisible()&&e.voucherMode===v1.DeliveryCharges?!1:this.voucherService.isNotMarketingVoucher(e)}deleteVoucher(e){this.voucherService.deleteVoucher(e).then(n=>{this.priceService.update(n,this.prices.affiliate),this.showVoucherAlreadyRedeemedNotification&&(this.showVoucherAlreadyRedeemedNotification=this.prices.isVoucherAlreadyRedeemed(this.form.control.value)),this.resetVoucherInput(),this.resetVoucherErrors(),this.prices.hasVoucherErrors()&&(this.checkForVoucherNotificationErrors(),this.rejectVoucherInput())})}checkForVoucherNotificationErrors(){let e=this.getVoucherErrorNotifications();this.showWarnings=Array.isArray(e)&&e.length>0,this.logService.debug(new Error("Redemption failed"),"Voucher Redemption")}getVoucherErrorNotifications(){return this.prices.getVoucherErrorsFor([na.VOUCHER_NO_LONGER_NECESSARY])}onSuccessfulRedemption(){this.prices.hasVoucherErrors()?(this.checkForVoucherNotificationErrors(),this.rejectVoucherInput(this.order.voucherErrors[0].message)):(this.triedToRedeem=!1,this.resetVoucherInput(),this.resetVoucherErrors())}handleInternalVoucherError(e,n,r){ee.isNotEmpty(e)&&(n.message=e),r.validation.update(wt.Rejected,n)}onFailedRedemption(e){e!==void 0?(this.logService.debug(new Error(`Redemption failed with ${e.errorCode}`),"Voucher Redemption"),e.status!==xu.NotFound?this.rejectVoucherInput(e.message,e.errorCode):this.rejectVoucherInput()):(this.rejectVoucherInput(),this.logService.debug(new Error("Redemption failed"),"Voucher Redemption"))}observeOrderForTicketDeletion(){this.orderService.observeOrder().pipe(zn(this.destroyRef)).subscribe(e=>{this.currentOrderPositionsMap=this.orderService.createOrderPositionsMap(e),this.orderService.differsFromPreviousOrderPositionsMap(this.previousOrderPositionsMap,this.currentOrderPositionsMap)&&this.form.getField(this.voucherFieldName).validation.update(wt.Rejected,{rejectedValue:""}),this.previousOrderPositionsMap=this.currentOrderPositionsMap})}resetVoucherErrors(){this.showWarnings=!1,this.form.getField(this.voucherFieldName).validation.update(wt.Rejected,{rejectedValue:ee.EMPTY_STRING,message:ee.EMPTY_STRING})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,features:[dt]})}return t})();var O1=function(t){return t[t.INTERNAL=1]="INTERNAL",t[t.EXTERNAL=2]="EXTERNAL",t}(O1||{});var rBe=["voucherNumber"],oBe=t=>({items:t}),aBe=t=>[t],sBe=t=>({btn:t});function lBe(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e.message," ")}}function cBe(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",4),R(2),H(3,"translate"),g(),h(4,"ev-notification",4),ft(5,lBe,2,1,"span",5,ri),g()()),t&2){let e=y(3);d(),C("type",e.NotificationType.Warning)("visible",e.prices.hasReachedTotalAmount()),d(),ne(" ",j(3,5,e.Message.CHECKOUT_APP_VOUCHER_REACHED_TOTAL_ORDER_AMOUNT)," "),d(2),C("type",e.NotificationType.Warning)("visible",e.showWarnings),d(),ht(e.getVoucherErrorNotifications())}}function dBe(t,i){if(t&1&&(Mo(0),J(1,cBe,7,7,"section"),Fo()),t&2){let e=y(2);d(),$(e.prices.hasReachedTotalAmount()||e.showWarnings?1:-1)}}function uBe(t,i){if(t&1){let e=Je();h(0,"section")(1,"ev-forms-field")(2,"label",7),R(3),H(4,"translate"),g(),h(5,"ev-forms-select-field",8),Ee("onSelectionChange",function(){Ne(e);let r=y(3);return Re(r.onSelectVoucherProvider())}),g(),h(6,"div",9),D(7,"ev-forms-field-error",10),g()()()}if(t&2){let e=y(3);d(2),Xt("for",e.form.getField(e.selectFieldName).id),d(),ne(" ",j(4,7,e.Message.CHECKOUT_APP_VOUCHER_PROVIDER)," "),d(2),C("id",e.form.getField(e.selectFieldName).id)("field",e.form.getField(e.selectFieldName))("groups",et(11,aBe,et(9,oBe,e.voucherProviderItemsList)))("tabIndexToUse",e.tabIndex()),d(2),C("field",e.form.getField(e.selectFieldName))}}function pBe(t,i){if(t&1){let e=Je();h(0,"ev-forms-field")(1,"label",11),R(2),H(3,"translate"),D(4,"ev-forms-info-link",12),g(),h(5,"ev-forms-field-button",13),Ee("buttonAddonAction",function(){Ne(e);let r=y(4);return Re(r.redeemVoucher())}),h(6,"input",14,0),H(8,"translate"),Ee("evOnEnter",function(){Ne(e);let r=y(4);return Re(r.redeemVoucher())}),g()(),h(9,"div",9),D(10,"ev-forms-field-error",10),g()()}if(t&2){let e=y(4);d(),Le("for",e.form.getField(e.voucherFieldName).id),d(),ne(" ",j(3,14,e.Message.CHECKOUT_APP_VOUCHER_CODE)," "),d(2),C("modalContent",e.infoLinkConfig().content)("modalTitle",e.infoLinkConfig().headline)("tabIndexToUse",e.tabIndex())("disableHistoryBackHandling",!0),d(),C("tabIndexToUse",e.tabIndex())("isProcessing",e.isProcessing),d(),C("formControl",e.form.getField(e.voucherFieldName).control)("tabIndex",e.tabIndex()),Le("name",e.voucherFieldName)("id",e.form.getField(e.voucherFieldName).id)("aria-label",j(8,16,e.Message.CHECKOUT_APP_VOUCHER_CODE)),d(4),C("field",e.form.getField(e.voucherFieldName))}}function mBe(t,i){if(t&1){let e=Je();h(0,"ev-forms-field")(1,"label",11),R(2),H(3,"translate"),D(4,"ev-forms-info-link",12),g(),h(5,"input",15),Ee("input",function(){Ne(e);let r=y(4);return Re(r.handleInput())}),g(),h(6,"div",9),D(7,"ev-forms-field-error",16),g()()}if(t&2){let e=y(4);d(),Le("for",e.form.getField(e.voucherFieldName).id),d(),ne(" ",j(3,13,e.Message.CHECKOUT_APP_VOUCHER_CODE)," "),d(2),C("modalContent",e.infoLinkConfig().content)("modalTitle",e.infoLinkConfig().headline)("tabIndexToUse",e.tabIndex())("disableHistoryBackHandling",!0),d(),C("formControl",e.form.getField(e.voucherFieldName).control)("tabIndex",e.tabIndex()),Le("name",e.voucherFieldName)("id",e.form.getField(e.voucherFieldName).id)("data-qa","input-"+e.voucherFieldName),d(2),C("field",e.form.getField(e.voucherFieldName))("preventMultipleError",!0)}}function fBe(t,i){if(t&1&&(h(0,"section"),J(1,pBe,11,18,"ev-forms-field")(2,mBe,8,15,"ev-forms-field"),g()),t&2){let e=y(3);d(),$(e.form.getField(e.selectFieldName).control.value===0||e.externalGiftCardsAvailable()===!1?1:-1),d(),$(e.form.getField(e.selectFieldName).control.value!==0&&e.externalGiftCardsAvailable()?2:-1)}}function hBe(t,i){if(t&1){let e=Je();h(0,"section")(1,"ev-forms-field")(2,"label",11),R(3),H(4,"translate"),g(),h(5,"input",15),Ee("input",function(){Ne(e);let r=y(3);return Re(r.handleInput())}),g(),h(6,"div",9),D(7,"ev-forms-field-error",16),g()()()}if(t&2){let e=y(3);d(2),Le("for",e.form.getField(e.scrapFieldName).id),d(),ne(" ",j(4,9,e.Message.CHECKOUT_APP_VOUCHER_SCRAP_CODE),""),d(2),C("formControl",e.form.getField(e.scrapFieldName).control)("tabIndex",e.tabIndex()),Le("name",e.scrapFieldName)("id",e.form.getField(e.scrapFieldName).id)("data-qa","input-"+e.scrapFieldName),d(2),C("field",e.form.getField(e.scrapFieldName))("preventMultipleError",!0)}}function gBe(t,i){if(t&1){let e=Je();h(0,"section",6)(1,"button",17),Ee("click",function(){Ne(e);let r=y(3);return Re(r.redeemVoucher())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(3);d(2),ne("",j(3,1,e.Message.CHECKOUT_APP_VOUCHER_REDEEM_EXTERNAL_BUTTON)," ")}}function vBe(t,i){if(t&1&&(h(0,"form",2),J(1,uBe,8,13,"section")(2,fBe,3,2,"section")(3,hBe,8,11,"section")(4,gBe,4,3,"section",6),g()),t&2){let e=y(2);C("formGroup",e.form.control),d(),$(e.externalGiftCardsAvailable()?1:-1),d(),$(e.form.getField(e.voucherFieldName).active?2:-1),d(),$(e.form.getField(e.scrapFieldName).active?3:-1),d(),$(e.form.getField(e.scrapFieldName).active?4:-1)}}function _Be(t,i){if(t&1&&(h(0,"section",3)(1,"ev-notification",18),R(2),H(3,"translate"),g()()),t&2){let e=y(2);d(),C("type",e.NotificationType.Warning),d(),ne(" ",j(3,2,e.Message.CHECKOUT_APP_VOUCHER_ALREADY_ENTERED)," ")}}function CBe(t,i){if(t&1&&(h(0,"span",24),R(1),H(2,"translate"),g()),t&2){let e=y().$implicit,n=y(3);d(),Vi(" (",j(2,2,n.Message.CHECKOUT_APP_VOUCHER_RESIDUAL)," ",n.prices.getRemainingValue(e),") ")}}function yBe(t,i){if(t&1){let e=Je();h(0,"section")(1,"dl",21)(2,"dt",22)(3,"span",23),R(4),g(),D(5,"br"),J(6,CBe,3,4,"span",24),g(),h(7,"dd",25),R(8),H(9,"translate"),g()(),h(10,"div",26)(11,"span",27),Ee("keydown.space",function(){let r=Ne(e).$implicit,o=y(3);return Re(o.deleteVoucher(r.voucherNumber))})("keydown.enter",function(){let r=Ne(e).$implicit,o=y(3);return Re(o.deleteVoucher(r.voucherNumber))})("click",function(){let r=Ne(e).$implicit,o=y(3);return Re(o.deleteVoucher(r.voucherNumber))}),R(12),H(13,"translate"),g()()()}if(t&2){let e=i.$implicit,n=y(3);d(4),ne(" ",e.voucherNumber," "),d(2),$(n.showRemainingValue(e)?6:-1),d(2),ne(" ",j(9,6,n.prices.getVoucherValue(e))," "),d(3),C("ngClass",et(10,sBe,!n.isSportsShop))("tabIndex",n.tabIndex()),d(),ne(" ",j(13,8,n.Message.CHECKOUT_APP_DELETE_VOUCHER)," ")}}function EBe(t,i){if(t&1&&(h(0,"section")(1,"dl",21)(2,"dt",28),R(3),H(4,"translate"),g(),h(5,"dd",29),R(6),g()()()),t&2){let e=y(3);d(3),ne(" ",j(4,2,e.Message.CHECKOUT_APP_VOUCHER_TOTAL)," "),d(3),ne(" ",e.prices.voucherAmount," ")}}function TBe(t,i){if(t&1&&(h(0,"section",19)(1,"div",20),R(2),H(3,"translate"),g()(),ft(4,yBe,14,12,"section",null,ri),J(6,EBe,7,4,"section")),t&2){let e=y(2);Tr("top-separator",e.prices.multipleVoucherRedemptionAllowed()),d(2),ne(" ",j(3,4,e.getHeadline())," "),d(2),ht(e.prices.vouchers),d(2),$(e.prices.isVoucherAmountVisible()?6:-1)}}function bBe(t,i){if(t&1&&(h(0,"ev-pl-card",1),J(1,dBe,2,1,"ng-container")(2,vBe,5,5,"form",2)(3,_Be,4,4,"section",3)(4,TBe,7,6),g()),t&2){let e=y();C("additionalClass",e.isSportsShop()?"padding-left-xl padding-right-xl":"margin-top-s")("headline",e.headline())("headlineLevel",2),Le("data-qa","voucher-component"),d(),$(e.prices.multipleVoucherRedemptionAllowed?1:-1),d(),$(e.prices.hasReachedTotalAmount()?-1:2),d(),$(e.showVoucherAlreadyRedeemedNotification?3:-1),d(),$(e.prices.hasVouchers()?4:-1)}}var AH=(()=>{class t extends nie{voucherInput=u0("voucherNumber");expandedState=We(!1);headline=We();isSportsShop=We(!1);externalGiftCardsAvailable=nn(!1);tabIndex=sn(()=>this.expandedState()?0:-1);selectFieldName="providerId";scrapFieldName="pinCode";providerTypeFields=new Map([[O1.INTERNAL,[this.voucherFieldName]],[O1.EXTERNAL,[this.voucherFieldName,this.scrapFieldName]]]);availableFields=[this.voucherFieldName,this.scrapFieldName];voucherProviderItemsList=[];#e=E(Tn);ngOnInit(){this.buildForm(),this.disableAllFields(),this.#e.observeAffiliate().pipe(zn(this.destroyRef)).subscribe(e=>{if(ce.isEmpty(e.voucherProvider))this.showFieldsByProviderType(O1.INTERNAL);else{let n=null;e.voucherProvider.forEach(r=>{r.externalProviderId!==void 0?(this.externalGiftCardsAvailable.set(!0),n=r.externalProviderId):n=0,this.voucherProviderItemsList.push({label:r.name,value:n})})}}),this.infoLinkConfig.set(this.buildInfoIconConfiguration()),this.form.control.valueChanges.pipe(zn(this.destroyRef)).subscribe(()=>{this.showVoucherAlreadyRedeemedNotification=!1}),this.callOnPriceUpdate=this.checkForVoucherErrors.bind(this),this.observeOrderForTicketDeletion()}ngAfterContentChecked(){this.externalGiftCardsAvailable()&&this.prices.hasReachedTotalAmount()&&(this.disableAllFields(),this.form.getField(this.selectFieldName).control.setValue(null))}showVoucherInput(){return!this.prices.hasReachedTotalAmount()&&(!this.prices.hasVouchers()||this.prices.multipleVoucherRedemptionAllowed())}onSelectVoucherProvider(){this.disableAllFields(),this.resetScrapField(),this.showFieldsByProviderType()}handleInput(){this.triedToRedeem&&(this.availableFields.forEach(e=>{this.form.getField(e).validation.update(wt.Rejected,{rejectedValue:ee.EMPTY_STRING})}),this.triedToRedeem=!1)}rejectVoucherInput(e,n){let r=this.form.getField(this.voucherFieldName),o=this.form.getField(this.scrapFieldName),s={rejectedValue:r.control.value};this.form.getField(this.selectFieldName).control.value>0?this.handleExternalVoucherError(s,r,o,n):this.handleInternalVoucherError(e,s,r)}resetVoucherInput(){this.voucherInput()!==void 0&&this.voucherInput().nativeElement.blur(),this.form.fields.forEach(e=>{e.config.type!==Mt.Select&&e.control.reset()}),this.form.resetSubmitted(),this.externalGiftCardsAvailable()&&this.prices.vouchers===null&&(this.disableAllFields(),this.form.getField(this.selectFieldName).control.setValue(null))}buildForm(){this.form.set(new Gt({fieldName:this.selectFieldName,type:Mt.Select,mandatory:!1,value:ee.EMPTY_STRING})).set(new Gt({fieldName:this.voucherFieldName,type:Mt.Text,mandatory:!0,value:ee.EMPTY_STRING},[new ir(K.CHECKOUT_APP_VOUCHER_EMPTY),new hs(K.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_NUMBER_INVALID)])).set(new Gt({fieldName:this.scrapFieldName,type:Mt.Text,mandatory:!0,value:ee.EMPTY_STRING},[new ir(K.CHECKOUT_APP_VOUCHER_SCRAP_EMPTY),new hs(K.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_CODE_INVALID)]))}disableAllFields(){this.availableFields.forEach(e=>{this.form.getField(e).disable(),this.form.getField(e).validation.reset()})}resetScrapField(){this.form.getField(this.scrapFieldName).control.setValue(ee.EMPTY_STRING)}showFieldsByProviderType(e=null){if(e===null){let n=this.form.getField(this.selectFieldName).control.value;n!==null&&(e=O1.INTERNAL,n!==0&&(e=O1.EXTERNAL))}this.providerTypeFields.has(e)&&this.providerTypeFields.get(e).forEach(n=>{this.form.getField(n).enable(),this.form.control.updateValueAndValidity({onlySelf:!1,emitEvent:!0})})}checkForVoucherErrors(){this.prices.hasVoucherErrors()||this.resetVoucherInput()}handleExternalVoucherError(e,n,r,o){switch(o){case na.VOUCHER_INVALID_CODE_NUMBER:n.validation.update(wt.Rejected,{rejectedValue:n.control.value,message:K.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_NUMBER_INVALID}),n.control.markAsTouched();break;case na.VOUCHER_INVALID_CODE:r.validation.update(wt.Rejected,{rejectedValue:r.control.value,message:K.CHECKOUT_APP_VOUCHER_ERROR_EXTERNAL_VOUCHER_CODE_INVALID}),r.control.markAsTouched();break;default:e.message=" ",n.validation.update(wt.Rejected,e),r.validation.update(wt.Rejected,{rejectedValue:r.control.value}),n.control.markAsTouched(),r.control.markAsTouched()}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-voucher"]],viewQuery:function(n,r){n&1&&m0(r.voucherInput,rBe,5),n&2&&iv()},inputs:{expandedState:[1,"expandedState"],headline:[1,"headline"],isSportsShop:[1,"isSportsShop"]},standalone:!1,features:[dt],decls:1,vars:1,consts:[["voucherNumber",""],[3,"additionalClass","headline","headlineLevel"],[1,"validation",3,"formGroup"],[1,"no-padding-top"],[3,"type","visible"],[1,"alert-multiple-messages"],[1,"col-sm-6","float-right"],["field-label","",3,"for"],[3,"onSelectionChange","id","field","groups","tabIndexToUse"],["field-error",""],[3,"field"],["field-label",""],[3,"modalContent","modalTitle","tabIndexToUse","disableHistoryBackHandling"],[3,"buttonAddonAction","tabIndexToUse","isProcessing"],["type","text","evFormsInputOnEnter","","data-qa","input",1,"form-control","invalid-only","theme-text-color","standard-gray-border",3,"evOnEnter","formControl","tabIndex"],["type","text",1,"form-control","invalid-only","theme-text-color","standard-gray-border",3,"input","formControl","tabIndex"],[3,"field","preventMultipleError"],["data-qa","form-submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"],["data-qa","voucher-already-redeemed",3,"type"],[1,"margin-top-s"],[1,"card-inline-headline"],[1,"paired-list"],[1,"paired-list-key"],["data-qa","voucher-number"],["data-qa","remaining-value"],["data-qa","voucher-value",1,"paired-list-value","price"],[1,"card-inline-action"],["role","link","data-qa","delete-voucher",1,"btn-link","link",3,"keydown.space","keydown.enter","click","ngClass","tabIndex"],[1,"paired-list-key","highlighted"],["data-qa","total-amount",1,"paired-list-value","price","highlighted"]],template:function(n,r){n&1&&J(0,bBe,5,8,"ev-pl-card",1),n&2&&$(r.prices!==void 0?0:-1)},dependencies:[At,Ai,mr,tM,w0,Fp,jm,xi,jr,Rr,Pn,Um,wn,$n,On,Se],encapsulation:2})}return t})();var Uv=(()=>{class t extends xl{#e=E(Wl);#t=E(m1);#n=E(Ka);#i=E(fn);#r=E(rr);#o=E(kn);#a=E(Yne);#s=E(Ga);#l=E(qr);#c=E(Gn);orderJson;get hasInvalidBucketAmountError(){return this._hasInvalidBucketAmountError}_hasInvalidBucketAmountError=!1;trackingDataLayer;constructor(){super(),this.registerOrderDataObserver()}getPageType(){return Cn.ShoppingCart}getPageJsonFromResource(){return this.#t.getOrder()}registerOrderDataObserver(){return this.orderService.observeOrder().subscribe(e=>{this.orderJson=e,this._hasInvalidBucketAmountError=!1})}getShoppingCartPage(){return this.getPageJson().then(e=>(this.setPageJson(e),this._hasInvalidBucketAmountError=!1,e))}isReturningToShoppingCart(){return this.wasLoadedFromCache()}deletePosition(e,n,r){let o;if(ce.isObject(this.orderJson))return this.#c.show(),n?o=this.#a.deleteSportsPack(this.orderJson.orderNumber,r):o=this.#e.deleteOrderPosition(this.orderJson.orderNumber,e.eventId,e.priceCategory.orderPositionId),this.updateSubjectAndOrder(o).then(s=>s).then(s=>(this.orderService.isCartEmpty(s?.order)&&this.#n.disposeTimer(),s)).finally(()=>this.#c.hide())}addChildTicketsToShoppingCart(e){this.#c.show(),this.#t.addChildEventToCart(e).subscribe({next:n=>{this.pageHolder.setPageJson(n),this.#c.hide()},error:n=>this.router.navigate([`error/${n.errorCode}`])})}handleInsuranceReminder(e,n,r=K.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_SUBMIT,o,s){let c=s===void 0;this.#o.showModal(e.setWidth(er.MEDIUM).enableTitle(K.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_TITLE).enableViewTracking(()=>{this.#s.triggerPageEvent(Gr.TICKET_INSURANCE)}).enablePrimaryButton(r,()=>{s?.value||c?(this.#i.set(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!0),this.orderService.updateTicketInsurance(!0,this.orderJson).then(()=>{this.proceedToNextPage(n,o)})):s.markAsTouched()},()=>{(s?.value||c)&&this.#r.trackClick({clickTrackingData:{event_name:"insurance_layer",action:""},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"insurance_layer",layer_element_selected:"button_accepted"},ga3ClickTrackingData:{action:"ticket_insurance_layer",label:"button_select"}})},c).enableSecondaryButton(K.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_CANCEL,()=>{this.#i.set(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!0),this.proceedToNextPage(n,o)},()=>{this.#r.trackClick({clickTrackingData:{event_name:"insurance_layer",action:""},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"insurance_layer",layer_element_selected:"button_skip"},ga3ClickTrackingData:{action:"ticket_insurance_layer",label:"button_skip"}})}))}createInsurancePopupConfiguration(e,n,r,o,s){if(e.order.events.length===1){let c=[{inputName:"orderJson",value:e.order},{inputName:"affiliateJson",value:n},{inputName:"insuranceFee",value:o}];return this.isApprovalCheckboxForInsuranceReminderVisible()&&c.push({inputName:"isSportsShop",value:r},{inputName:"insuranceApprovalCheckbox",value:s}),new Dn({component:SH,inputs:c})}else{let c=null;return this.isApprovalCheckboxForInsuranceReminderVisible()&&(c=[{inputName:"isSportsShop",value:r},{inputName:"insuranceApprovalCheckbox",value:s}]),new Dn({component:IH,inputs:c})}}isApprovalCheckboxForInsuranceReminderVisible(){return this.orderJson?.additionalInsuranceCheckbox||this.orderJson?.events.some(e=>e.additionalInsuranceCheckbox)}orderSupportsTicketInsurance(){return ce.isObject(this.orderJson)?this.orderJson.events.some(e=>ee.isNotEmpty(e.priceCategory.ticketInsuranceAmount))||ee.isNotEmpty(this.orderJson.insuranceFee):!1}remindOfTicketInsurance(e){if(e.ticketInsurance.type===zf.OFF)return!1;if(!this.#i.get(ut.ORDER_TICKET_INSURANCE_ENABLED,!1)){if(e.ticketInsurance.type===zf.SHOW_AFTER_DIALOG&&!this.#i.get(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!1))return!0;switch(e.ticketInsurance.reminder){case GN.ShowOnce:return!this.#i.get(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!1)&&!this.isTicketInsuranceAlreadySelected();case GN.ShowRepeatedly:return!this.isTicketInsuranceAlreadySelected();default:return!1}}}proceedToNextPage(e,n){this.requiresVoucherGiftInfo()?this.#e.setTicketGiftInformation(this.orderJson.orderNumber,e).subscribe({next:r=>{this.#l.performGoogleTrackingWithEcommerceValues(r.dataLayer,ee.EMPTY_STRING,"begin_checkout"),this.determineNextPageAndProceed(r,void 0,void 0,n)},error:r=>this.router.navigate([`error/${r.errorCode}`])}):this.#t.determineNextPage().subscribe({next:r=>{this.#l.performGoogleTrackingWithEcommerceValues(r.dataLayer,ee.EMPTY_STRING,"begin_checkout"),this.determineNextPageAndProceed(r,void 0,void 0,n)},error:r=>this.router.navigate([`error/${r.errorCode}`])})}requiresVoucherGiftInfo(){return ce.isObject(this.orderJson)?Dt.isNotEmpty(this.orderJson.events)&&this.orderJson.events.filter(e=>e.priceCategory.purchaseVoucherOrderPosition).length>0:!1}isTicketInsuranceAlreadySelected(){return ce.isObject(this.orderJson)?this.orderJson.ticketInsuranceFeeInt>0:!1}showInvalidBucketAmountError(){this._hasInvalidBucketAmountError=!0}setTrackingDataLayer(e){this.trackingDataLayer=e}getTrackingDataLayer(){return this.trackingDataLayer}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var SBe=(t,i)=>i.eventName;function xBe(t,i){if(t&1&&(h(0,"tr",4)(1,"td",5),R(2),g(),h(3,"td",6),R(4),g()()),t&2){let e=i.$implicit;d(2),ne(" ",e.eventName," "),d(2),ne(" ",e.price," ")}}function ABe(t,i){if(t&1&&(h(0,"p",1),R(1),H(2,"translate"),g(),h(3,"table")(4,"thead")(5,"tr",2)(6,"th",3),R(7),H(8,"translate"),g(),h(9,"th"),R(10),H(11,"translate"),g()()(),h(12,"tbody"),ft(13,xBe,5,2,"tr",4,SBe),g()()),t&2){let e=y();d(),ne(" ",j(2,3,e.Message.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_DESCRIPTION)," "),d(6),ne(" ",j(8,5,e.Message.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_EVENT_NAME)," "),d(3),Ae(j(11,7,e.Message.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_PRICE)),d(3),ht(e.insurancePriceInfo())}}function PBe(t,i){if(t&1&&(h(0,"p",0),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_ERROR_UNAVAILABLE)," ")}}var iie=(()=>{class t extends Gi{Message=K;#e=E(m1);insurancePriceInfo=NU(this.#e.getOrderInsurancePriceTableInformation());static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-order-insurance-info"]],features:[dt],decls:2,vars:1,consts:[["data-qa","insurance-price-modal-error-message"],["data-qa","insurance-price-modal-description"],[1,"align-left","u-font-weight-600"],[1,"padding-right-l"],[1,"align-left"],["data-qa","event-name",1,"padding-right-l"],["data-qa","event-price"]],template:function(n,r){n&1&&J(0,ABe,15,9)(1,PBe,3,3,"p",0),n&2&&$(r.insurancePriceInfo()?0:1)},dependencies:[oi,Se],encapsulation:2})}return t})();var kBe=()=>({position:"back_to_shop_above",page:"cart"}),wBe=t=>({"margin-bottom":t}),DBe=t=>({"top-separator-spacer":t}),OBe=()=>({position:"back_to_shop_below",page:"cart"}),NBe=(t,i)=>i.priceCategory.orderPositionId;function RBe(t,i){if(t&1&&(h(0,"div",3),D(1,"ev-back-to-shop",18),g()),t&2){let e=y();d(),C("affiliate",e.affiliateJson)("events",e.orderService.getEvents())("shoppingCartJson",e.pageJson)("trackingArguments",ol(4,kBe))}}function MBe(t,i){if(t&1){let e=Je();h(0,"button",19),Ee("onSubmit",function(){Ne(e);let r=y();return Re(r.submit())}),R(1),H(2,"translate"),g()}if(t&2){let e=y();C("evFormsSubmit",e.form),d(),ne("",j(2,2,e.submitButtonMessage)," ")}}function FBe(t,i){t&1&&D(0,"ev-special-offers-hint-card",20),t&2&&C("scrollToId","specials-anchor")}function LBe(t,i){if(t&1&&D(0,"ev-add-quick-memory-tickets-card",23),t&2){let e=y(2);C("memoryTicketConfigs",e.pageJson==null?null:e.pageJson.memoryTicketConfigs)("memoryTicketImagePath",e.pageJson==null?null:e.pageJson.quickAddMemoryTicketImagePath)("affiliateJson",e.affiliateJson)("orderJson",e.orderJson)}}function BBe(t,i){if(t&1){let e=Je();h(0,"ev-sports-pack",32),Ee("onDeletePack",function(r){Ne(e);let o=y(4);return Re(o.onDeleteOrderPosition(r,!0))}),g()}if(t&2){let e=y().$implicit,n=y(3);C("event",e)("packAmount",n.packNumbers.length)}}function UBe(t,i){if(t&1){let e=Je();h(0,"ev-order-position",33),Ee("onDeleteOrderPosition",function(r){Ne(e);let o=y(4);return Re(o.onDeleteOrderPosition(r,!1))}),g()}if(t&2){let e=y().$implicit,n=y(3);C("order",n.orderJson)("parentForm",n.form)("seatLevelForm",n.seatLevelForm)("affiliate",n.affiliateJson)("ticketInsuranceForm",n.ticketInsuranceForm)("ticketInsuranceConfig",n.pageJson.ticketInsurance)("memoryTicketForm",n.memoryTicketForm)("event",e)("memoryTicketConfigs",n.pageJson==null?null:n.pageJson.memoryTicketConfigs)}}function $Be(t,i){if(t&1&&(J(0,BBe,1,2,"ev-sports-pack",29),h(1,"section",30),J(2,UBe,1,9,"ev-order-position",31),g()),t&2){let e=i.$implicit,n=i.$index,r=i.$count,o=y(3);$(o.isSportsShop&&o.affiliateJson.themingSettings.sportsPlatformStyles!==o.SportsPlatformStyles.MICO&&n===0?0:-1),d(),C("ngClass",et(3,wBe,n!==r-1&&!e.clubMembershipPosition&&!o.hasSportsPacks&&!o.isSportsShop)),d(),$(e.clubMembershipPosition?-1:2)}}function HBe(t,i){if(t&1&&ft(0,$Be,3,5,null,null,NBe),t&2){let e=i.$implicit,n=y(2);ht(n.orderService.getEvents(e))}}function VBe(t,i){if(t&1&&(h(0,"div",25)(1,"span",4)(2,"h2",34),R(3),H(4,"translate"),g()()()),t&2){let e=y(2);d(3),ne(" ",j(4,1,e.Message.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_HEADLINE)," ")}}function jBe(t,i){if(t&1&&(h(0,"ev-checkbox-card",26),D(1,"ev-memory-ticket",35),g()),t&2){let e=y(2);C("label",e.pageJson.memoryTicketConfigs[0].name)("miniLabel",e.Message.CHECKOUT_APP_SHOPPING_CART_MEMORY_TICKET_PRICE_PER_TICKET)("miniLabelPlaceholder",e.pageJson.memoryTicketConfigs[0].formattedPricePerTicket)("fieldName",e.CheckboxFieldName.MEMORY_TICKET)("form",e.memoryTicketForm)("amount",e.pageJson.memoryTicketConfigs[0].formattedTotalPrice)("showVatHint",e.pageJson.memoryTicketConfigs[0].totalPrice>0)("trackingElementName","order_memory_ticket_checkbox")("isSportsShop",e.isSportsShop)("dataQaPrefix","memory-ticket"),d(),C("memoryTicketForm",e.memoryTicketForm)("memoryTicketConfig",e.pageJson.memoryTicketConfigs[0])("orderJson",e.orderJson)("isSportsShop",e.isSportsShop)}}function GBe(t,i){if(t&1&&(h(0,"ev-checkbox-card",27),D(1,"ev-order-insurance",36),g()),t&2){let e=y(2);C("fieldName",e.CheckboxFieldName.ORDER_INSURANCE)("form",e.orderInsuranceForm)("amount",e.orderJson.insuranceFee)("label",e.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("showVatHint",!0)("trackingElementName","order_insurance_checkbox")("dataQaPrefix","order-insurance")("isSportsShop",e.isSportsShop)("showTaxMessageInsteadOfVat",!1)("modalWindowConfiguration",e.getOrderInsurancePriceInfoModalConfiguration())("disableTicketInsuranceHighlight",e.isTicketInsuranceHighlightDisabled())("showOrderApprovalCheckbox",e.orderJson.additionalInsuranceCheckbox),d(),C("order",e.orderJson)("parentForm",e.orderInsuranceForm)("ticketInsuranceConfig",e.pageJson.ticketInsurance)("isSportsShop",e.isSportsShop)}}function KBe(t,i){if(t&1&&(h(0,"ev-checkbox-card",28),D(1,"ev-donation",37),g()),t&2){let e=y(2);C("label",e.Message.CHECKOUT_APP_SHOPPING_CART_DONATION_LABEL)("fieldName",e.CheckboxFieldName.DONATION)("form",e.donationForm)("trackingElementName","donation_checkbox")("isSportsShop",e.isSportsShop)("amount",e.pageJson.donation.donationAmount)("dataQaPrefix","donation"),d(),C("donationForm",e.donationForm)("donationConfig",e.pageJson.donation)("orderJson",e.orderJson)("isSportsShop",e.isSportsShop)}}function qBe(t,i){if(t&1&&D(0,"ev-delivery-method-selection",38),t&2){let e=y(3);C("pageJson",e.pageJson)("collapseAccordion",!e.expandDeliveryMethodsList)}}function WBe(t,i){if(t&1&&D(0,"ev-voucher-redemption",39),t&2){let e=y(3);C("showVoucherToggle",e.showVoucherToggle())("expandVoucherInput",e.expandVoucherInput)("hasRedeemedVouchers",e.hasRedeemedVouchers)("isSportsShop",e.isSportsShop)}}function zBe(t,i){if(t&1){let e=Je();J(0,qBe,1,2,"ev-delivery-method-selection",38)(1,WBe,1,4,"ev-voucher-redemption",39),h(2,"div",40)(3,"div",5)(4,"div",41)(5,"ev-relevant-mini-basket",42),Ee("onSubmit",function(r){Ne(e);let o=y(2);return Re(o.submit(r))}),g()()()()}if(t&2){let e=y(2);$(e.affiliateJson.callCenter?0:-1),d(),$(e.showNormalVoucherRedemption()?1:-1),d(),C("ngClass",et(7,DBe,e.showNormalVoucherRedemption())),d(3),C("form",e.form)("submitButtonMessage",e.submitButtonMessage)("affiliate",e.affiliateJson)("pageJson",e.pageJson)}}function YBe(t,i){if(t&1&&(h(0,"div",5)(1,"div",43)(2,"ev-notification",44)(3,"span",45),R(4),H(5,"translate"),g()()()()),t&2){let e=y(2);d(2),C("type",e.NotificationType.Danger)("visible",e.hasFalsyInputs()),d(2),ne(" ",j(5,3,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)," ")}}function JBe(t,i){if(t&1&&(J(0,FBe,1,1,"ev-special-offers-hint-card",20),D(1,"ev-cart-notification",21),h(2,"ev-pl-card",22),R(3),H(4,"translate"),g(),J(5,LBe,1,4,"ev-add-quick-memory-tickets-card",23),D(6,"ev-membership-card",24),ft(7,HBe,2,0,null,null,ri),J(9,VBe,5,3,"div",25)(10,jBe,2,14,"ev-checkbox-card",26)(11,GBe,2,16,"ev-checkbox-card",27)(12,KBe,2,11,"ev-checkbox-card",28)(13,zBe,6,9)(14,YBe,6,5,"div",5)),t&2){let e=y();$(e.showSpecialsAnchorElement()?0:-1),d(),C("logoutNotificationMap",e.logoutNotificationMap)("hasFalsyInputs",e.hasFalsyInputs())("isCartEmpty",e.isCartEmpty())("orderJson",e.orderJson)("affiliateJson",e.affiliateJson)("isSportsShop",e.isSportsShop),d(),C("hidden",e.isCartFilled())("noContentPadding",!0),Le("data-qa","no-tickets-section"),d(),ne(" ",j(4,21,e.Message.CHECKOUT_APP_NO_TICKETS)," "),d(2),$(e.pageJson.quickAddMemoryTicketComponentVisible&&(e.pageJson!=null&&e.pageJson.memoryTicketConfigs)&&e.orderJson.events.length>0?5:-1),d(),C("parentForm",e.form)("clubMembershipJson",e.orderJson.clubMembershipJson)("affiliateJson",e.affiliateJson),d(),ht(e.packNumbers),d(2),$(e.showSpecialsAnchorElement()?9:-1),d(),$(e.showMemoryTicket()?10:-1),d(),$(e.showBasketTicketInsurance()?11:-1),d(),$(e.showDonation()?12:-1),d(),$(e.isCartFilled()?13:-1),d(),$(e.isCartFilled()?14:-1)}}function XBe(t,i){if(t&1&&D(0,"ev-voucher-redemption",39),t&2){let e=y(2);C("showVoucherToggle",e.showVoucherToggle())("expandVoucherInput",e.expandVoucherInput)("hasRedeemedVouchers",e.hasRedeemedVouchers)("isSportsShop",e.isSportsShop)}}function QBe(t,i){if(t&1){let e=Je();h(0,"div",15),D(1,"ev-reservation-time-counter"),h(2,"div",46)(3,"div",43)(4,"ev-relevant-mini-basket",42),Ee("onSubmit",function(r){Ne(e);let o=y();return Re(o.submit(r))}),g(),D(5,"ev-ad-serving",13),g()(),J(6,XBe,1,4,"ev-voucher-redemption",39),g()}if(t&2){let e=y();d(4),C("form",e.form)("submitButtonMessage",e.submitButtonMessage)("affiliate",e.affiliateJson)("pageJson",e.pageJson),d(),C("adId","place-ad-sidebar-bottom"),d(),$(e.showNormalVoucherRedemption()?-1:6)}}function ZBe(t,i){if(t&1&&D(0,"ev-editorial-box",16),t&2){let e=y();C("editorialBoxType",e.EditorialBoxType.DELIVERY_TYPE)("headline",e.Message.CHECKOUT_APP_DELIVERY_BOX_HEADLINE)}}function e5e(t,i){if(t&1&&D(0,"ev-editorial-box",16),t&2){let e=y();C("editorialBoxType",e.EditorialBoxType.PAYMENT_TYPE)("headline",e.Message.CHECKOUT_APP_PAYMENT_BOX_HEADLINE)}}function t5e(t,i){if(t&1&&(h(0,"div",17),D(1,"ev-back-to-shop",18),g()),t&2){let e=y();d(),C("affiliate",e.affiliateJson)("events",e.orderService.getEvents())("shoppingCartJson",e.pageJson)("trackingArguments",ol(4,OBe))}}var UA=(()=>{class t{window=E(tr);orderService=E(yi);shoppingCartService=E(Uv);EditorialBoxType=M0;Message=K;CheckoutPage=Qe;NotificationType=rn;CheckboxFieldName=ks;logoutNotificationMap=new Map([[Up.Success,!1],[Up.Failure,!1]]);anchorScrollTimeout=500;pageJson;affiliateJson;hasRedeemedVouchers=!1;orderJson;showBackToShopLink;submitButtonMessage;form=new vn("shoppingCart");seatLevelForm=new vn("seatLevelMetaData");ticketInsuranceForm=new vn("ticketInsuranceForm");orderInsuranceForm=new vn("orderInsuranceForm");donationForm=new vn("donationForm");memoryTicketForm=new vn("memoryTicketForm");expandVoucherInput=!1;expandDeliveryMethodsList=!1;externalVoucherProviderAvailable=!1;isSportsShop=!1;hasSportsPacks=!1;packNumbers=ai.NON_PACK_NUMBERS;OptimizelyPageEvent=Gr;#e=E(ai);#t=E(ga);#n=E(Tn);#i=E(nr);#r=E(fo);#o=E(fn);#a=E(bH);#s=E(Sn);#l=E(ah);#c=E(qr);#d=E(Ga);#u=E(mo);#p=E(Al);#m=E(no);document=E(Ot);SportsPlatformStyles=Qc;#f=[];ngOnInit(){this.#m.setTitle(this.#s.instant(K.CHECKOUT_APP_PAGE_TITLE_BASKET)),this.showBackToShopLink=this.#n.observeWebshopElement(jl.BACK_TO_SHOP_LINK,!0),this.#f.push(this.onOrderUpdate()),this.#f.push(this.registerAffiliateObserver()),this.#f.push(this.registerCustomerObserver()),this.seatLevelForm.control.valueChanges.subscribe(()=>{this.saveSubmittedSeatLevelMetaDataCheckboxes()}),this.window.addEventListener("resize",()=>this.#i.detectChanges()),this.isSportsShop=this.#e.isSportsShop(this.affiliateJson),this.handleSportsPacks()}ngAfterViewInit(){this.#f.push(this.initRouteFragmentSubscription()),this.shoppingCartService.isReturningToShoppingCart()&&(this.form.setSubmitted(),this.form.markAsTouched(),this.#i.detectChanges())}ngOnDestroy(){this.#f.forEach(e=>{e.unsubscribe()}),this.form.destroy(),this.window.removeEventListener("resize",()=>this.#i.detectChanges())}submit(e){if(this.shoppingCartService.setTrackingDataLayer(this.pageJson.dataLayer),this.form.setSubmitted(),this.seatLevelForm.setSubmitted(),this.ticketInsuranceForm.setSubmitted(),this.orderInsuranceForm.setSubmitted(),this.#r.updateLogoutRequestStatus(null),this.seatLevelForm.control.invalid){this.ticketInsuranceForm.control.invalid&&this.ticketInsuranceForm.markAsTouched(),this.seatLevelForm.markAsTouched();return}if(this.ticketInsuranceForm.control.invalid){this.ticketInsuranceForm.markAsTouched();return}if(this.orderInsuranceForm.control.invalid){this.orderInsuranceForm.markAsTouched();return}if(this.form.control.invalid){this.form.markAsTouched();return}this.saveSubmittedSeatLevelMetaDataCheckboxes(),this.shouldShowInsurancePopup()?this.handleInsurancePopup(e):this.shoppingCartService.proceedToNextPage(this.form.toJson(),e)}handleInsurancePopup(e){let n=new Gt({fieldName:"ticketInsuranceApproval",type:Mt.Checkbox,mandatory:!0,value:!1}),r=this.shoppingCartService.isApprovalCheckboxForInsuranceReminderVisible()?n.control:void 0,o=this.getInsuranceSubmitButtonText(),s=this.shoppingCartService.createInsurancePopupConfiguration(this.pageJson,this.affiliateJson,this.isSportsShop,this.getInsuranceFee(),n);this.shoppingCartService.handleInsuranceReminder(s,this.form.toJson(),o,e,this.shoppingCartService.isApprovalCheckboxForInsuranceReminderVisible()?r:void 0)}shouldShowInsurancePopup(){return this.shoppingCartService.orderSupportsTicketInsurance()&&this.shoppingCartService.remindOfTicketInsurance(this.pageJson)&&this.pageJson.order!==void 0}getInsuranceSubmitButtonText(){return this.pageJson.order.events.length===1?this.getButtonTextWithInsuranceFee(this.orderJson.insuranceFee?this.orderJson.insuranceFee:this.orderJson.events[0].priceCategory.ticketInsuranceAmount):K.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_SUBMIT}hasFalsyInputs(){return this.form.submitted&&this.form.control.invalid||this.seatLevelForm.submitted&&this.seatLevelForm.control.invalid||this.ticketInsuranceForm.submitted&&this.ticketInsuranceForm.control.invalid||this.orderInsuranceForm.submitted&&this.orderInsuranceForm.control.invalid}onDeleteOrderPosition(e,n){let o=(this.window.dataLayer||[]).filter(s=>{if(s.event==="EECcheckout")return s});if(n){let s=typeof e=="number"&&this.determineDeletedOrderProduct(o[0],null,e);this.shoppingCartService.deletePosition(null,this.hasSportsPacks,e).then(()=>{this.#c.isGTMTrackingActive()&&this.#c.trackDeleteTickets(o[0],s)})}else this.shoppingCartService.deletePosition(e,this.hasSportsPacks).then(()=>{let s=this.determineDeletedOrderProduct(o[0],e,0);this.#c.isGTMTrackingActive()&&this.#c.trackDeleteTickets(o[0],s)});this.#r.updateLogoutRequestStatus(null)}isCartFilled(){return!this.isCartEmpty()}showSpecialsAnchorElement(){return this.pageJson.specialOffersAnchorComponentVisible&&(this.showMemoryTicket()||this.showBasketTicketInsurance()||this.showDonation())}showVoucherToggle(){return this.isCartFilled()&&this.orderJson.voucherAllowed&&(this.orderJson.orderPayAmountInt>0||this.hasRedeemedVouchers)}showDonation(){return this.pageJson.donation&&this.orderJson.events.length>0}showMemoryTicket(){return this.pageJson.memoryTicketConfigs?.length===1&&this.pageJson.memoryTicketConfigs[0].displayType===MA.ORDER&&this.orderJson.events.length>0}showBasketTicketInsurance(){return this.orderJson.events.length>0&&ee.isNotEmpty(this.pageJson.order.insuranceFee)&&(this.showInsuranceAfterDialog()||this.isTicketInsuranceAlreadyChosen())}showNormalVoucherRedemption(){return window.matchMedia("only screen and (max-width: 950px)").matches||this.externalVoucherProviderAvailable}isCartEmpty(){return this.orderService.isCartEmpty(this.orderJson)}getOrderInsurancePriceInfoModalConfiguration(){return this.pageJson.ticketInsurance.insurancePriceInfo?new Dn({component:iie}).enableCloseButton().setWidth(er.MEDIUM).enableTitle(this.#s.instant(K.CHECKOUT_APP_TICKET_INSURANCE_INFO_ICON_TITLE)):null}isTicketInsuranceHighlightDisabled(){return this.affiliateJson.settings.highlightedTicketInsurance===!1}getInsuranceFee(){return this.showBasketTicketInsurance()?this.orderJson.insuranceFee:this.orderJson.events[0].priceCategory.ticketInsuranceAmount}getButtonTextWithInsuranceFee(e){let n=this.#s.instant(K.CHECKOUT_APP_TICKET_INSURANCE_REMINDER_ADD_BUTTON),r=new ns(this.#t);return this.#t.sanitize(bs.HTML,r.transform(n,[{placeholder:"{0}",replacementValue:e}]))}initRouteFragmentSubscription(){return this.#l.observeRouteFragments().subscribe(e=>{setTimeout(()=>e.scrollIntoView(),this.anchorScrollTimeout)})}registerAffiliateObserver(){return this.#n.observeAffiliate().subscribe(e=>{this.affiliateJson=e,this.expandDeliveryMethodsList=e.expandAllDeliveryMethods,this.checkForExternalVoucherProviders()})}onOrderUpdate(){return tl([this.#u.observePageJson([Cn.ShoppingCart]),this.orderService.observeOrder()]).subscribe(([e,n])=>{this.pageJson=e,ce.isObject(e)&&(this.expandVoucherInput=e.voucherExpanded),this.orderDataHandler(n),ce.isObject(this.pageJson)&&(this.pageJson=Mn(at({},this.pageJson),{order:n}))})}orderDataHandler(e){if(this.orderJson=e,Array.isArray(this.orderJson.voucher)&&(this.hasRedeemedVouchers=!0),this.isCartEmpty()&&this.#d.triggerPageEvent(Gr.EMPTY_SHOPPING_CART),this.#a.showPriceUpdateHintIfNecessary(this.orderJson),this.handleSportsPacks(),Dt.isNotEmpty(e.events)){let n=e.events[0];for(let r of e.events)if(r.xsaleEvents&&r.xsaleEvents.filter(o=>o.eventId===n.eventId).length>0){n=r;break}this.#o.set(ut.EXTERNAL_RESERVATION,this.hasExternalReservationBookingType()),this.#o.set(ut.AFTERSALES,this.#p.hasOrderAftersalesBookingType(this.orderJson)),this.#o.set(ut.LAST_ADDED_EVENT,n)}}hasExternalReservationBookingType(){return this.orderJson.events.some(e=>e.priceCategory.bookingType===od.EXTERNAL_RESERVATION)}registerCustomerObserver(){return tl([this.#r.observeCustomer(),this.#r.observeLogoutRequestStatus()]).subscribe(([e,n])=>{this.submitButtonMessage=this.getButtonLabelFor(e),this.logoutNotificationMap.forEach((r,o,s)=>s.set(o,o===n))})}getButtonLabelFor(e){return e===null?K.CHECKOUT_APP_TO_LOGIN:!ce.isEmpty(this.affiliateJson)&&this.affiliateJson.quickCheckoutMode===b0.ACTIVE?K.CHECKOUT_APP_SHOPPING_CART_TO_NEXT_PAGE:K.CHECKOUT_APP_TO_SHIPPING}saveSubmittedSeatLevelMetaDataCheckboxes(){this.#o.set(ut.SEAT_LEVEL_METADATA_CHECKOXES,this.seatLevelForm.toJson())}checkForExternalVoucherProviders(){ce.isEmpty(this.affiliateJson.voucherProvider)||(this.externalVoucherProviderAvailable=this.affiliateJson.voucherProvider.some(e=>e.externalProviderId!==void 0))}handleSportsPacks(){this.isSportsShop&&this.orderJson&&(this.#e.createSportsPack(this.orderJson),this.hasSportsPacks=this.#e.hasSportsPackEvents(),this.packNumbers=this.#e.getSportsPackNumbers())}determineDeletedOrderProduct(e,n,r){let o=[];if(ce.isObject(n)&&ce.hasProperty(e,"order_products")&&ce.hasProperty(n,"priceCategory.pkId"))o.push(this.getRegularDeletedProduct(e.order_products,n));else if(r>0&&ce.hasProperty(e,"order_products")){let s=this.#e.getSportsPackEvents(r);o=this.getSportsDeletedPack(e.order_products,s)}return o}getRegularDeletedProduct(e,n){for(let r of e)if(typeof n!="number"&&r.seat_type===n.priceCategory.pkId.toString())return r}getSportsDeletedPack(e,n){let r=[];for(let o of e)for(let s of n)o.seat_type===s.priceCategory.pkId.toString()&&r.push(o);return r}showInsuranceAfterDialog(){return this.pageJson.ticketInsurance.type!==zf.SHOW_AFTER_DIALOG||this.pageJson.ticketInsurance.type===zf.SHOW_AFTER_DIALOG&&this.#o.get(ut.ORDER_TICKET_INSURANCE_POPUP_SHOWN,!1)}isTicketInsuranceAlreadyChosen(){return this.pageJson.order.ticketInsuranceFeeInt>0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-shopping-cart-page"]],standalone:!1,decls:28,vars:18,consts:[["data-qa","shopping-cart-page",1,"shoppingCartPage",3,"evOptimizelyPageTrigger"],["evHideOnMobile","",1,"row"],[1,"col-xs-6","col-md-3"],[1,"row","back-link-container"],[1,"main-ticket-card"],[1,"row"],[1,"col-xs-12","col-md-8"],[1,"main-ticket-card-headline","card-on-mobile","padding-horizontally-m-on-mobile","padding-bottom-m-on-mobile","margin-top-s"],[1,"main-ticket-card-headline-text"],["data-qa","headline",1,"card-headline","theme-text-light-color","p-font-checkout"],["data-qa","headline-info",3,"hidden"],[1,"u-flex-self-end","visible-sm","visible-xs","margin-left-m"],["type","button","data-qa","submit-button",1,"main-ticket-card-headline-button","btn","btn-primary","btn-sm","theme-btn",3,"evFormsSubmit"],[3,"adId"],[1,"col-xs-12","col-md-4","sidebar"],["evHideOnMobile",""],[3,"editorialBoxType","headline"],[1,"row","top-separator-spacer","theme-element-border","theme-box-shadow","back-link-container"],[3,"affiliate","events","shoppingCartJson","trackingArguments"],["type","button","data-qa","submit-button",1,"main-ticket-card-headline-button","btn","btn-primary","btn-sm","theme-btn",3,"onSubmit","evFormsSubmit"],[3,"scrollToId"],[3,"logoutNotificationMap","hasFalsyInputs","isCartEmpty","orderJson","affiliateJson","isSportsShop"],[3,"hidden","noContentPadding"],[3,"memoryTicketConfigs","memoryTicketImagePath","affiliateJson","orderJson"],[3,"parentForm","clubMembershipJson","affiliateJson"],["id","specials-anchor",1,""],[3,"label","miniLabel","miniLabelPlaceholder","fieldName","form","amount","showVatHint","trackingElementName","isSportsShop","dataQaPrefix"],[3,"fieldName","form","amount","label","showVatHint","trackingElementName","dataQaPrefix","isSportsShop","showTaxMessageInsteadOfVat","modalWindowConfiguration","disableTicketInsuranceHighlight","showOrderApprovalCheckbox"],[3,"label","fieldName","form","trackingElementName","isSportsShop","amount","dataQaPrefix"],[3,"event","packAmount"],[3,"ngClass"],[3,"order","parentForm","seatLevelForm","affiliate","ticketInsuranceForm","ticketInsuranceConfig","memoryTicketForm","event","memoryTicketConfigs"],[3,"onDeletePack","event","packAmount"],[3,"onDeleteOrderPosition","order","parentForm","seatLevelForm","affiliate","ticketInsuranceForm","ticketInsuranceConfig","memoryTicketForm","event","memoryTicketConfigs"],["data-qa","special-offers-headline",1,"card-headline","theme-text-light-color","p-font-checkout","font-size-l","line-height-l","margin-bottom-l"],[3,"memoryTicketForm","memoryTicketConfig","orderJson","isSportsShop"],[3,"order","parentForm","ticketInsuranceConfig","isSportsShop"],[3,"donationForm","donationConfig","orderJson","isSportsShop"],["data-qa","delivery-methods",3,"pageJson","collapseAccordion"],[3,"showVoucherToggle","expandVoucherInput","hasRedeemedVouchers","isSportsShop"],["evHideOnDesktop","",3,"ngClass"],["data-qa","mini-basket-mobile-view",1,"col-xs-12","margin-top-m"],[3,"onSubmit","form","submitButtonMessage","affiliate","pageJson"],[1,"col-xs-12"],["data-qa","form-invalid-notification_below",3,"type","visible"],["data-qa","form-invalid-notification"],["data-qa","mini-basket-desktop-view",1,"row","checkout-card-container"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),J(3,RBe,2,5,"div",3),H(4,"async"),g()(),h(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8)(10,"h1",9),R(11),H(12,"translate"),g(),D(13,"ev-headline-price-information",10),g(),h(14,"div",11),J(15,MBe,3,4,"button",12),g()(),D(16,"ev-ad-serving",13),J(17,JBe,15,23),g(),h(18,"div",14),J(19,QBe,7,6,"div",15),D(20,"ev-guarantee-box"),J(21,ZBe,1,2,"ev-editorial-box",16)(22,e5e,1,2,"ev-editorial-box",16),g()()(),h(23,"div",5)(24,"div",6),J(25,t5e,2,5,"div",17),H(26,"async"),D(27,"ev-ad-serving",13),g()()()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.SHOPPING_CART),d(3),$(j(4,12,r.showBackToShopLink)?3:-1),d(8),ne(" ",j(12,14,r.Message.CHECKOUT_APP_YOUR_SHOPPING_CART)," "),d(2),C("hidden",r.isCartEmpty()),d(2),$(r.isCartFilled()?15:-1),d(),C("adId","place-ad-middle"),d(),$(r.pageJson?17:-1),d(2),$(r.isCartFilled()?19:-1),d(2),$(r.isCartFilled()?21:-1),d(),$(r.isCartFilled()?22:-1),d(3),$(j(26,16,r.showBackToShopLink)?25:-1),d(2),C("adId","place-ad-bottom"))},styles:[".margin-bottom[_ngcontent-%COMP%]{margin-bottom:40px}"]})}return t})();var n5e=t=>({"paired-list-space":t});function i5e(t,i){if(t&1&&D(0,"i"),t&2){let e=y();Le("class","icon icon-"+e.iconName+" mini-basket-icon theme-text-light-color")}}function r5e(t,i){if(t&1&&(h(0,"span",4),R(1),g(),D(2,"i",5)),t&2){let e=y();d(),ne(" ",e.count," ")}}var rie=(()=>{class t extends KM{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-mini-basket-fee"]],standalone:!1,features:[dt],decls:9,vars:9,consts:[[1,"paired-list","mini-basket-item"],[1,"paired-list-key",3,"ngClass"],["data-qa","label"],["data-qa","fee",1,"paired-list-value","price"],["data-qa","count"],[1,"icon","icon-cross-old","mini-basket-cross"]],template:function(n,r){n&1&&(h(0,"dl",0)(1,"dt",1),J(2,i5e,1,1,"i")(3,r5e,3,1),h(4,"span",2),R(5),H(6,"translate"),g()(),h(7,"dd",3),R(8),g()()),n&2&&(d(),C("ngClass",et(7,n5e,r.iconName)),d(),$(r.iconName&&r.iconName!==""?2:-1),d(),$(r.count?3:-1),d(2),ne(" ",j(6,5,r.label)," "),d(3),ne(" ",r.fee," "))},dependencies:[At,Se],encapsulation:2})}return t})();var a5e=t=>({"no-margin":t}),s5e=(t,i)=>i.eventId;function l5e(t,i){if(t&1&&(h(0,"h3",13),R(1),g()),t&2){let e=y().$implicit,n=y(2);d(),ne(" ",n.buildPackHeadline(e)," ")}}function c5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",15),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("label",o.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("fee",n.priceCategory.ticketInsuranceFee)("iconName",o.ticketInsuranceIconName),Le("data-qa","ticket-insurance-"+r)}}function d5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",16),t&2){let e=y(),n=e.$implicit,r=e.$index;C("label",n.priceCategory.memoryTicketFee.name)("count",n.priceCategory.memoryTicketFee.count)("fee",n.priceCategory.memoryTicketFee.fee),Le("data-qa","memory-ticket-"+r)}}function u5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",15),t&2){let e=y(),n=e.$implicit,r=e.$index,o=y(2);C("label",o.Message.CHECKOUT_APP_GIFTWRAP)("fee",n.priceCategory.giftWrapFee)("iconName","gift"),Le("data-qa","gift-wrap-"+r)}}function p5e(t,i){if(t&1&&(J(0,l5e,2,1,"h3",13),h(1,"div",14),J(2,c5e,1,4,"ev-mini-basket-fee",15)(3,d5e,1,4,"ev-mini-basket-fee",16)(4,u5e,1,4,"ev-mini-basket-fee",15),g()),t&2){let e=i.$implicit,n=i.$index,r=y(2);$(r.isSportsShop&&r.affiliate.themingSettings.sportsPlatformStyles!==r.SportsPlatformStyles.MICO&&n===0?0:-1),d(),C("ngClass",et(5,a5e,!r.hasSingleOrderPosition()&&!r.hasTicketInsuranceFee(e)&&!r.hasGiftWrapFee(e))),d(),$(r.hasTicketInsuranceFee(e)?2:-1),d(),$(r.showTicketBasedMemoryTicketFee(e)?3:-1),d(),$(r.hasGiftWrapFee(e)?4:-1)}}function m5e(t,i){if(t&1&&ft(0,p5e,5,7,null,null,s5e),t&2){let e=i.$implicit,n=y();ht(n.orderService.getEvents(e))}}function f5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",2),t&2){let e=y();C("label",e.prices.memoryTicketName)("count",e.prices.memoryTicketCount)("fee",e.prices.memoryTicketFee)}}function h5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",3),t&2){let e=y();C("label",e.prices.getServiceFeeLabel())("fee",e.prices.serviceFee)}}function g5e(t,i){if(t&1&&(h(0,"dl",4)(1,"dt",17),R(2),H(3,"translate"),g(),h(4,"dd",18),D(5,"ev-forms-formatter",19),g()()),t&2){let e=y();d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_PAYMENT_COSTS)," "),d(3),C("content",e.prices.paymentFeeFormat)}}function v5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",5),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_INTEREST_FEE_COST)("fee",e.prices.interestFee)}}function _5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",6),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_TICKET_INSURANCE_TITLE)("fee",e.prices.ticketInsuranceFee)("iconName",e.ticketInsuranceIconName)}}function C5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",7),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_DONATION)("fee",e.prices.donationAmount)}}function y5e(t,i){t&1&&D(0,"div",8)}function E5e(t,i){if(t&1&&D(0,"ev-mini-basket-fee",5),t&2){let e=y();C("label",e.Message.CHECKOUT_APP_ORDER_FEE)("fee",e.prices.orderFee)}}function T5e(t,i){if(t&1&&(h(0,"span",23),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_DELIVERY_FEE_TEMPORARILY)," ")}}function b5e(t,i){if(t&1&&(h(0,"dt",25),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}function I5e(t,i){if(t&1&&ft(0,b5e,2,1,"dt",25,ri),t&2){let e=y(2);ht(e.prices.premiumFeeMessages)}}function S5e(t,i){if(t&1&&(h(0,"dl",9)(1,"dt",20),D(2,"i",21),h(3,"span",22),R(4),H(5,"translate"),g(),J(6,T5e,3,3,"span",23),g(),h(7,"dd",24),R(8),H(9,"translate"),g(),J(10,I5e,2,0),g()),t&2){let e=y();d(2),C("ngClass",e.order.deliveryMethodType===e.eventimPass?"icon-eventimpass":"icon-shipping-normal"),d(2),ne(" ",j(5,5,e.Message.CHECKOUT_APP_DELIVERY_COST)," "),d(2),$(e.prices.isTemporaryDeliveryCostsHintVisible()?6:-1),d(2),ne(" ",j(9,7,e.prices.deliveryFee)," "),d(2),$(e.prices.hasPremiumFeeMessages()?10:-1)}}function x5e(t,i){if(t&1&&(h(0,"span",23),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_DELIVERY_FEE_TEMPORARILY)," ")}}function A5e(t,i){if(t&1&&(h(0,"dl",10)(1,"dt",20),D(2,"i",26),h(3,"span",22),R(4),H(5,"translate"),g(),J(6,x5e,3,3,"span",23),g(),h(7,"dd",24),R(8),H(9,"translate"),g()()),t&2){let e=y();d(4),ne(" ",j(5,3,e.Message.CHECKOUT_APP_DELIVERY_COST_MEMORY_TICKETS)," "),d(2),$(e.prices.isTemporaryDeliveryCostsHintVisible()?6:-1),d(2),ne(" ",j(9,5,e.prices.deliveryFeeMemoryTickets)," ")}}function P5e(t,i){if(t&1&&(h(0,"dl",11)(1,"dt",20),D(2,"i",27),h(3,"span",22),R(4),H(5,"translate"),g()(),h(6,"dd",18),R(7),H(8,"translate"),g()()),t&2){let e=y();d(4),ne(" ",j(5,2,e.prices.voucherAmountLabel)," "),d(3),ne(" ",j(8,4,e.prices.voucherAmount)," ")}}var oie=(()=>{class t extends HM{eventimPass=ui.EVENTIM_PASS;SportsPlatformStyles=Qc;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-mini-basket"]],standalone:!1,features:[dt],decls:17,vars:11,consts:[["data-qa","mini-basket",1,"checkout-card-container","mini-basket-overview"],[1,"mini-basket-pricegroup","theme-text-color"],["data-qa","memory-ticket-fee",3,"label","count","fee"],["data-qa","service-costs",3,"label","fee"],["data-qa","payment-costs",1,"paired-list","mini-basket-item"],["data-qa","order-costs",3,"label","fee"],["data-qa","order-ticket-insurance",3,"label","fee","iconName"],["data-qa","donation-costs",3,"label","fee"],[1,"padding-top-s"],["data-qa","delivery-costs",1,"paired-list","mini-basket-item"],["data-qa","delivery-costs-memory-ticket",1,"paired-list","mini-basket-item"],["data-qa","voucher-amount",1,"paired-list","mini-basket-item","padding-top-s"],[1,"mini-basket-pricegroup"],[1,"u-font-weight-600"],["data-qa","event-information",1,"mini-basket-pricegroup","theme-text-color",3,"ngClass"],[3,"label","fee","iconName"],[3,"label","count","fee"],["data-qa","label",1,"paired-list-key"],["data-qa","fee",1,"paired-list-value","price"],[3,"content"],[1,"paired-list-key","paired-list-space"],[1,"icon","mini-basket-icon","theme-text-light-color",3,"ngClass"],["data-qa","label"],["data-qa","temporary-delivery-fee-hint",1,"font-size-xs"],["data-qa","fee",1,"paired-list-value"],["data-qa","premium-fee-message",1,"paired-list-key","paired-list-space","full"],[1,"icon","icon-shipping-normal","mini-basket-icon","theme-text-light-color"],[1,"icon","icon-voucher","mini-basket-icon","theme-text-light-color"]],template:function(n,r){n&1&&(h(0,"div",0),ft(1,m5e,2,0,null,null,ri),h(3,"div",1),J(4,f5e,1,3,"ev-mini-basket-fee",2)(5,h5e,1,2,"ev-mini-basket-fee",3)(6,g5e,6,4,"dl",4)(7,v5e,1,2,"ev-mini-basket-fee",5)(8,_5e,1,3,"ev-mini-basket-fee",6)(9,C5e,1,2,"ev-mini-basket-fee",7)(10,y5e,1,0,"div",8)(11,E5e,1,2,"ev-mini-basket-fee",5)(12,S5e,11,9,"dl",9)(13,A5e,10,7,"dl",10)(14,P5e,9,6,"dl",11),g(),h(15,"div",12),D(16,"ev-total-sum"),g()()),n&2&&(d(),ht(r.packNumbers),d(3),$(r.prices.hasMemoryTicketFee()?4:-1),d(),$(r.prices.hasServiceFee()?5:-1),d(),$(r.prices.hasPaymentFee()?6:-1),d(),$(r.prices.hasInterestFee()?7:-1),d(),$(r.prices.orderBasedTicketInsuranceActive()?8:-1),d(),$(r.prices.hasDonation()?9:-1),d(),$(r.prices.hasFeeBesidesDeliveryOrOrderFee()?10:-1),d(),$(r.prices.hasOrderFee()?11:-1),d(),$(r.showDeliveryFee()?12:-1),d(),$((r.prices.hasMemoryTicketFee()||r.prices.hasEventMemoryTicketFee())&&r.prices.isDeliveryFeeVisible()?13:-1),d(),$(r.prices.hasVoucherAmount()?14:-1))},dependencies:[At,Zr,rie,lb,Se],encapsulation:2})}return t})();function w5e(t,i){if(t&1&&(h(0,"div",2)(1,"div",24),D(2,"img",25),g()()),t&2){let e=y();d(2),C("src",e.ssoParameters.profileImageUrl,un)}}function D5e(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Am("",j(2,3,e.Message.CHECKOUT_APP_HELLO)," ",e.ssoParameters.firstName," ",e.ssoParameters.lastName,"")}}function O5e(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Ae(j(2,1,e.Message.CHECKOUT_APP_SSO_LOGIN_HINT))}}function N5e(t,i){if(t&1&&(h(0,"span"),R(1),H(2,"translate"),g()),t&2){let e=y();d(),Ae(j(2,1,e.Message.CHECKOUT_APP_SSO_GENERIC_LOGIN_HINT))}}function R5e(t,i){if(t&1&&(h(0,"p",7),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_SSO_EVENTIM_ACCOUNT_HINT)," ")}}function M5e(t,i){if(t&1&&(h(0,"p",8),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_SSO_GENERIC_EVENTIM_ACCOUNT_HINT)," ")}}var PH=(()=>{class t{loginService=E(Mv);router=E(zt);logService=E(bt);Message=K;SsoVendorType=tu;NotificationType=rn;notificationType=rn.Success;notificationMessage;ssoParameters;connectForm;ngOnInit(){this.createFormGroup()}createFormGroup(){this.connectForm=new vn("connectForm"),this.connectForm.set(new Gt({fieldName:"email",type:Mt.Email,mandatory:!0,value:this.ssoParameters.username},[new ir(K.CHECKOUT_APP_CUSTOMER_USERNAME_WHICH_ONE)])),this.connectForm.set(new Gt({fieldName:"password",type:Mt.Password,mandatory:!0,value:""},[new ir(K.CHECKOUT_APP_CUSTOMER_PASSWORD_REQUIRED)]))}onSubmit(){if(this.connectForm.control.valid){let e={email:this.connectForm.getField("email").control.value,password:this.connectForm.getField("password").control.value,ssoIdentifier:this.ssoParameters.ssoIdentifier};this.loginService.login(e).then(()=>{this.router.navigate([Qe.Delivery])}).catch(n=>{this.logService.debug(new Error("Connection with customer account failed!"),"SSO Connect Form"),this.notificationType=rn.Danger,this.notificationMessage=n.message})}}onPasswordForgottenNotification(e,n){this.notificationType=n,this.notificationMessage=e}onPasswordEnterKeyPress(){this.onSubmit()}hasProfileImage(){return ee.isNotEmpty(this.ssoParameters.profileImageUrl)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sso-connect-form"]],inputs:{ssoParameters:"ssoParameters"},standalone:!1,decls:44,vars:34,consts:[["data-qa","sso-connect-form"],[1,"media","media-floating"],[1,"media-left"],[1,"media-body"],["data-qa","login-hint",1,"media-text","theme-text-color"],[1,"top-separator-spacer","theme-box-shadow","card-inline-headline"],["data-qa","account-hint-headline"],["data-qa","account-hint",1,"card-paragraph","theme-text-variant-color"],[1,"card-paragraph","theme-text-variant-color"],[1,"extra-bottom-padding-on-tablet"],["data-qa","form-email"],["field-label",""],["type","text","name","email","data-qa","input",1,"form-control","theme-text-color","standard-gray-border",3,"formControl"],["field-error",""],[3,"field","preventMultipleError"],["data-qa","form-password"],["type","password","name","password","data-qa","input",1,"form-control","theme-text-color","standard-gray-border",3,"keyup.enter","formControl"],[1,"row"],[1,"col-xs-12"],[3,"onSuccess","onError","showGdpr","prefillWithField","alignRight"],[3,"type","visible"],["data-qa","message"],["ng-class","{'top-separator-spacer theme-box-shadow':forgotPasswordExpanded}",1,"submit"],["id","ssoToDeliveryBtn","data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"click"],[1,"square-image","small-img"],["alt","",1,"fluid-image",3,"src"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"section")(2,"div",1),J(3,w5e,3,1,"div",2),h(4,"div",3)(5,"div",4),J(6,D5e,3,5,"span"),R(7,", "),J(8,O5e,3,3,"span")(9,N5e,3,3,"span"),g()()()(),h(10,"section",5)(11,"span",6),R(12),H(13,"translate"),g()(),h(14,"section"),J(15,R5e,3,3,"p",7)(16,M5e,3,3,"p",8),g(),h(17,"section",9)(18,"ev-forms-field",10)(19,"label",11),R(20),H(21,"translate"),g(),D(22,"input",12),h(23,"div",13),D(24,"ev-forms-field-error",14),g()()(),h(25,"section")(26,"ev-forms-field",15)(27,"label",11),R(28),H(29,"translate"),g(),h(30,"input",16),Ee("keyup.enter",function(){return r.onPasswordEnterKeyPress()}),g(),h(31,"div",13),D(32,"ev-forms-field-error",14),g()()(),h(33,"section")(34,"div",17)(35,"div",18)(36,"ev-password-forgotten",19),Ee("onSuccess",function(s){return r.onPasswordForgottenNotification(s,r.NotificationType.Success)})("onError",function(s){return r.onPasswordForgottenNotification(s,r.NotificationType.Danger)}),g()()(),h(37,"ev-notification",20)(38,"span",21),R(39),g()()(),h(40,"section",22)(41,"button",23),Ee("click",function(){return r.onSubmit()}),R(42),H(43,"translate"),g()()()),n&2&&(d(3),$(r.hasProfileImage()?3:-1),d(3),$(r.ssoParameters.firstName!==""&&r.ssoParameters.lastName!==""?6:-1),d(2),$(r.ssoParameters.vendor===r.SsoVendorType.Facebook?8:-1),d(),$(r.ssoParameters.vendor===r.SsoVendorType.Generic?9:-1),d(3),Ae(j(13,26,r.Message.CHECKOUT_APP_SSO_EVENTIM_ACCOUNT_HINT_HEADLINE)),d(3),$(r.ssoParameters.vendor===r.SsoVendorType.Facebook?15:-1),d(),$(r.ssoParameters.vendor===r.SsoVendorType.Generic?16:-1),d(3),Le("for",r.connectForm.getField("email").id),d(),Ae(j(21,28,r.Message.GLOBAL_CUSTOMER_EMAIL_CUSTOMER)),d(2),C("formControl",r.connectForm.getField("email").control),Le("id",r.connectForm.getField("email").id),d(2),C("field",r.connectForm.getField("email"))("preventMultipleError",!0),d(3),Le("for",r.connectForm.getField("password").id),d(),Ae(j(29,30,r.Message.CHECKOUT_APP_SSO_EVENTIM_PASSWORD)),d(2),C("formControl",r.connectForm.getField("password").control),Le("id",r.connectForm.getField("password").id),d(2),C("field",r.connectForm.getField("password"))("preventMultipleError",!0),d(4),C("showGdpr",!1)("prefillWithField",r.connectForm.getField("email"))("alignRight",!1),d(),C("type",r.notificationType)("visible",!!r.notificationMessage),d(2),Ae(r.notificationMessage),d(3),ne(" ",j(43,32,r.Message.CHECKOUT_APP_SSO_LOGIN)," "))},dependencies:[Ai,mr,jr,Rr,Um,h1,On,Se],encapsulation:2})}return t})();function L5e(t,i){if(t&1&&(h(0,"h1",3),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.CHECKOUT_APP_SSO_CONNECT_ACCOUNTS_HEADLINE))}}function B5e(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",1),J(4,L5e,3,3,"h1",3),g()()(),h(5,"div",1)(6,"div",2)(7,"ev-pl-card"),D(8,"ev-sso-connect-form",4),g()(),h(9,"div",5)(10,"div",6),D(11,"ev-reservation-time-counter"),h(12,"div",7)(13,"div",8),D(14,"ev-mini-basket"),g()()()()(),h(15,"div",1)(16,"div",2)(17,"div",9)(18,"p",10),R(19),H(20,"translate"),g(),h(21,"div",11)(22,"span",12),Ee("click",function(){Ne(e);let r=y();return Re(r.onBackButtonClick())})("keydown.space",function(){Ne(e);let r=y();return Re(r.onBackButtonClick())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.onBackButtonClick())}),D(23,"i",13),h(24,"span"),R(25),H(26,"translate"),g()()()()()()()}if(t&2){let e=y();d(4),$(e.ssoParameters.vendor===e.SsoVendorType.Facebook?4:-1),d(4),C("ssoParameters",e.ssoParameters),d(11),ne(" ",j(20,4,"checkoutApp.mandatoryHint")," "),d(6),Ae(j(26,6,e.Message.CHECKOUT_APP_LINK_BACK_TO_LOGIN))}}var kH=(()=>{class t{ssoService=E(vh);router=E(zt);Message=K;SsoVendorType=tu;ssoParameters;ngOnInit(){this.ssoParameters=this.ssoService.getSsoData()}onBackButtonClick(){this.router.navigate([Qe.Login])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sso-connect-page"]],standalone:!1,decls:1,vars:1,consts:[["id","ssoPage","data-qa","sso-connect-page"],[1,"row"],[1,"col-xs-12","col-md-7"],["data-qa","sso-connect-headline",1,"col-xs-12","page-headline-first-order"],[3,"ssoParameters"],[1,"col-xs-12","col-md-4","col-md-offset-1","sidebar"],["evHideOnMobile",""],["data-qa","mini-basket-desktop-view",1,"row"],[1,"col-xs-12"],[1,"row","top-separator-spacer","theme-box-shadow","back-link-container"],["data-qa","mandatory-hint",1,"col-xs-12","default-paragraph","theme-text-light-color","font-size-xs"],[1,"col-xs-12","back-link"],["role","link","tabindex","0","data-qa","back-to-login",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left"]],template:function(n,r){n&1&&J(0,B5e,27,8,"div",0),n&2&&$(r.ssoParameters!==null?0:-1)},dependencies:[$n,ta,Sl,oie,PH,Se],encapsulation:2})}return t})();var v3=(()=>{class t extends Gi{injectorService=E($s);logService=E(bt);window=E(tr);document=E(Ot);backendResponse=null;affiliate=null;styleElement;isScriptLoaded;ngOnInit(){let e=JSON.parse(this.window.sessionStorage.getItem("externalPaymentPopupParams"));ce.isObject(e)&&(this.backendResponse=e.backendResponse,this.affiliate=e.affiliate),this.backendResponse!==null&&this.affiliate!==null?(this.appendTheming(),this.appendStyles(),this.scriptIsLoaded()?this.initAdyen():this.injectorService.append(this.getScript(),{done:()=>{this.initAdyen(),this.isScriptLoaded=!0},error:n=>{this.logService.error(n,"Adyen-Drop-In Init")}})):this.logService.debug(new Error("Backend Response and or Affiliate Objects are missing!"),"Adyen-Drop-In")}ngOnDestroy(){this.styleElement.remove()}initAdyen(){this.window.AdyenCheckout(this.generateAdyenDropInConfig()).then(e=>{e.create("dropin").mount("#dropin-container")})}scriptIsLoaded(){return this.window.AdyenCheckout!==void 0}getScript(){return`<script src="https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.66.0/adyen.js"
                        integrity="sha384-KCKTZ7O5a2BAP0NaUFwlARS3BItlRNeUT4WtHuxdBBNoOXPRIZe4StOm6wzkdKbE"
                        crossorigin="anonymous"><\/script>`}appendStyles(){let e="https://checkoutshopper-live.adyen.com/checkoutshopper/sdk/5.66.0/adyen.css",n=this.document.styleSheets;for(let r=0,o=n.length;r<o;r++)if(n[r].href===e)return;this.injectorService.append(`
            <link rel="stylesheet"
                  href="${e}"
                  integrity="sha384-gpOE6R0K50VgXe6u/pyjzkKl4Kr8hXu93KUCTmC4LqbO9mpoGUYsrmeVLcp2eejn"
                  crossorigin="anonymous">`,null,this.document.head)}generateAdyenDropInConfig(){return{environment:this.backendResponse.environment,clientKey:this.backendResponse.clientKey,analytics:{enabled:!1},session:{id:this.backendResponse.sessionId,sessionData:this.backendResponse.sessionData},onPaymentCompleted:(e,n)=>{e.action?n.handleAction(e.action):window.location.replace(`${this.backendResponse.resultUrl}${e.resultCode}`)},beforeSubmit:(e,n,r)=>{this.window.postMessage("adyenDropInPaymentProcessStarted","*"),r.resolve(e)},onError:e=>{this.logService.error(new Error(e),"Adyen-Drop-In Config"),this.window.postMessage("closeErroredModal","*")}}}appendTheming(){this.styleElement=document.createElement("style");let e="",n="",r="",o="",s="",c="",v="";this.affiliate.themingSettings&&(this.affiliate.themingSettings.buttonBackgroundColor&&(e=`background-color: ${this.affiliate.themingSettings.buttonBackgroundColor}!important;`),this.affiliate.themingSettings.buttonBackgroundColorHover&&(n=`background-color: ${this.affiliate.themingSettings.buttonBackgroundColorHover}!important;`),this.affiliate.themingSettings.buttonFontColor&&(r=`color: ${this.affiliate.themingSettings.buttonFontColor}!important;`),this.affiliate.themingSettings.buttonFontColorHover&&(o=`color: ${this.affiliate.themingSettings.buttonFontColorHover}!important;`),this.affiliate.themingSettings.backgroundColor&&(c=`background-color: ${this.affiliate.themingSettings.backgroundColor}!important;`),this.affiliate.themingSettings.fontColor&&(s=`color: ${this.affiliate.themingSettings.fontColor}!important;`,v=`border-color: ${this.affiliate.themingSettings.fontColor}!important;`)),this.styleElement.textContent=`
            .adyen-dropin-container {
                ${c}
            }
            .adyen-checkout__button {
                ${e}
                ${r}
            }
            .adyen-checkout__button:hover {
                ${n}
                ${o}
            }
            .adyen-checkout__payment-method,
            .adyen-checkout__payment-method--selected {
                ${c}
                ${v}
            }
            .adyen-checkout__payment-method__name,
            .adyen-checkout__payment-method__name--selected,
            .adyen-checkout__label__text,
            .adyen-checkout__bankTransfer__introduction,
            .adyen-checkout__checkbox__label,
            .adyen-checkout__dropdown__element,
            .adyen-checkout__card__cardNumber__input{
                ${s};
            }
            .adyen-checkout__dropdown__button,
            .adyen-checkout__dropdown__list,
            .adyen-checkout__input {
                ${s}
                ${c}
            }
            .adyen-checkout__dropdown__button input {
                ${c}
                ${s}
            }
            [type=button].adyen-checkout__applepay__button,
            [type=reset].adyen-checkout__applepay__button,
            [type=submit].adyen-checkout__applepay__button,
            button.adyen-checkout__applepay__button {
                -webkit-appearance: -apple-pay-button;
            }`,document.head.appendChild(this.styleElement)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-adyen-drop-in"]],inputs:{backendResponse:"backendResponse",affiliate:"affiliate"},standalone:!1,features:[dt],decls:1,vars:0,consts:[["id","dropin-container",1,"adyen-dropin-container"]],template:function(n,r){n&1&&D(0,"div",0)},encapsulation:2})}return t})();var F0=function(t){return t[t.PageJsonUpdate=0]="PageJsonUpdate",t[t.DeliveryMethodSelection=1]="DeliveryMethodSelection",t[t.PaymentMethodSelection=2]="PaymentMethodSelection",t[t.OptInsSelected=3]="OptInsSelected",t[t.Submit=4]="Submit",t[t.UnlockOrder=5]="UnlockOrder",t}(F0||{});var pb=(()=>{class t{eventStream=new qn;receive(e=null){return this.eventStream.asObservable().pipe(Yt(([n])=>e!==null&&e===n),cn(([n,r])=>r))}emit(e,n){this.eventStream.next([e,n])}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Vu=(()=>{class t extends xl{summaryResource=E(d$);checkoutResource=E(Wl);spinnerService=E(Gn);capacityControl=E(wv);paymentResource=E(wM);storageService=E(fn);logWrapperService=E(bt);navigationService=E(Sc);eventHandlerService=E(pb);reservationTimerService=E(Ka);getPageJsonFromResource(){return this.summaryResource.getSummaryPage()}getPageType(){return Cn.Summary}submitSummaryData(e,n,r,o=!0){return new Promise((s,c)=>{o&&this.spinnerService.show(),n.subscribe(v=>{let b=e.orderNumber;this.storageService.set(ut.PROCESSING_ORDER_CHECKOUT,!0),this.checkoutResource.submitSummary(b,r).pipe(this.capacityControl.retry()).subscribe(x=>{this.isCheckoutPageJson(x)?(this.setPageJson(x),s(x)):(ce.hasProperty(x,"kpsUrl")||ce.hasProperty(x,"redirectUrl")||ce.hasProperty(x,"environment"),s(x))},x=>{this.storageService.set(ut.PROCESSING_ORDER_CHECKOUT,!1),o&&this.spinnerService.hide(),c(x)})},()=>{this.navigateToErrorPage.bind(this)})})}unlockOrder(e){this.summaryResource.unlockOrder(e.orderNumber,{paymentMethodId:e.paymentMethod,key:e.key}).subscribe(n=>{n.order.numberOfTickets===0?this.router.navigate([`${Qe.Error}/${br.SHOPPING_CART_EMPTY}`]):(this.reservationTimerService.startTimer(),this.eventHandlerService.emit(F0.UnlockOrder,e),this.router.navigate([`${Qe.Payment}/retry`]))},n=>{this.logWrapperService.error(new Error(`Unlock order failed with ${n.errorCode}!`),"Summary Unlock Order"),n.errorCode===br.ORDER_IS_ALREADY_BOOKED?(this.logWrapperService.error(new Error("Unlock order was invoked but order was already paid!"),"Summary Unlock Order"),this.navigateToPage(Cn.Receipt,{additionalUrlParameters:[`${e.orderNumber}`]})):this.navigationService.navigateToErrorPage(n)})}navigateToErrorPage(){this.router.navigate([Qe.Error],{replaceUrl:!0})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N1=(()=>{class t{router=E(zt);logService=E(bt);navigationService=E(Sc);paymentHandler;paymentHandlerSubject=new ni(null);setPaymentHandler(e){this.paymentHandler=e,this.paymentHandlerSubject.next(e)}getPaymentHandler(){return this.paymentHandlerSubject.asObservable()}openExternalPayment(){this.paymentHandler!==void 0&&this.paymentHandler.init().then(()=>{this.paymentHandler.startPaymentProcess(),this.navigationService.navigateToPendingPage(this.paymentHandler.popup)})}reOpenExternalPayment(){if(this.paymentHandler!==void 0){if(this.paymentHandler.popup!==void 0){let e=this.paymentHandler.paymentInfo.type,n=this.paymentHandler.paymentInfo.subtype;e===Wt.External&&n===si.AdyenDropIn?this.paymentHandler.popup.window.closed?this.paymentHandler.startPaymentProcess():this.paymentHandler.popup.window.focus():this.paymentHandler.popup=new vT(Qe.WaitingFor,"PaymentProviderWindow")}this.openExternalPayment()}else this.logService.error(new Error("No paymentHandler available!"),"External Payment")}getPaymentMethodName(){if(this.paymentHandler!==void 0)return this.paymentHandler.paymentMethodName}cancelExternalPayment(){this.paymentHandler!==void 0&&this.paymentHandler.popup!==void 0&&!this.paymentHandler.popup.window.closed&&this.paymentHandler.popup.close(),this.router.navigate([Qe.Error])}getExternalPaymentPopup(){let e=null;return this.paymentHandler!==void 0&&this.paymentHandler.popup!==void 0&&(e=this.paymentHandler.popup),e}getOrder(){return this.paymentHandler.order}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var aie=(()=>{class t{domSanitizer;externalPaymentService;constructor(e,n){this.domSanitizer=e,this.externalPaymentService=n}transform(e){return ee.isNotEmpty(e)?this.domSanitizer.bypassSecurityTrustHtml(e.replace("{_paymentProvider_}",`<span class="u-font-weight-700">${this.externalPaymentService.getPaymentMethodName()}</span>`).replace("{_popupStart_}",'<span id="popupLink" class="link theme-link-color theme-link-color-hover">').replace("{_popupEnd_}","</span>")):e}static \u0275fac=function(n){return new(n||t)(Et(ga,16),Et(N1,16))};static \u0275pipe=Sa({name:"evReopenExternalPaymentPopupLinkPlacer",type:t,pure:!0,standalone:!1})}return t})();var wH=(()=>{class t{externalPaymentService=E(N1);elementRef=E(ii);summaryService=E(Vu);logWrapperService=E(bt);window=E(tr);Message=K;externalPaymentPopup;order;ngAfterViewChecked(){let e=this.elementRef.nativeElement.querySelector("#popupLink");e&&e.addEventListener("click",()=>{this.openPopup()})}ngOnInit(){if(this.externalPaymentPopup=this.externalPaymentService.getExternalPaymentPopup(),this.externalPaymentPopup!==null){this.window.closeExternalPaymentPopup=n=>{this.window.popupRedirectUrl=n,this.externalPaymentPopup.close()};let e=setInterval(()=>{this.externalPaymentPopup.window.closed&&(this.window.popupRedirectUrl!==void 0?this.window.location.replace(this.window.popupRedirectUrl):(this.order=this.externalPaymentService.getOrder(),setTimeout(()=>{this.logWrapperService.error(new Error("onInit:popup closed:no redirectUrl - unlock order"),"Pending Page"),this.summaryService.unlockOrder(this.order)},3e3)),clearInterval(e))},1e3)}}openPopup(){this.externalPaymentService.reOpenExternalPayment()}cancelExternalPayment(){this.externalPaymentService.cancelExternalPayment()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-pending-page"]],standalone:!1,decls:20,vars:13,consts:[["id","externalPayment"],[1,"row"],[1,"col-xs-12"],[1,"heading","row"],["data-qa","page-headline",1,"col-md-7","col-xs-12","headline-title","page-headline-first-order","p-font-checkout"],[1,"col-xs-12","col-md-7"],[3,"noContentPadding","additionalClass"],[3,"evCoreHtml"],[1,"col-xs-12","back-link"],["role","link","tabindex","0",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),R(5),H(6,"translate"),g()()()(),h(7,"div",1)(8,"div",5)(9,"ev-pl-card",6),D(10,"section",7),H(11,"translate"),H(12,"evReopenExternalPaymentPopupLinkPlacer"),g()()(),h(13,"div",1)(14,"div",8)(15,"span",9),Ee("click",function(){return r.cancelExternalPayment()})("keydown.space",function(){return r.cancelExternalPayment()})("keydown.enter",function(){return r.cancelExternalPayment()}),D(16,"i",10),h(17,"span"),R(18),H(19,"translate"),g()()()()()),n&2&&(d(5),ne(" ",j(6,5,r.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_PENDING_HEADLINE)," "),d(4),C("noContentPadding",!0)("additionalClass","external-content"),d(),C("evCoreHtml",j(12,9,j(11,7,r.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_PENDING_MESSAGE))),d(8),Ae(j(19,11,r.Message.CHECKOUT_APP_LINK_CANCEL)))},dependencies:[xt,$n,Se,aie],encapsulation:2})}return t})();var iu=class t{static generate(i){let e={termsAndConditionsChecked:!1,affiliateOptIns:[],eventOptIns:[],verificationFields:[]},n=i.toJson();return Object.keys(n).forEach(r=>{switch(r){case"affiliateOptIns":e.affiliateOptIns=t.getAffiliateOptIns(n[r]),Dt.isEmpty(e.affiliateOptIns)&&(e.affiliateOptIns=void 0);break;case"verificationFields":e.verificationFields=t.getVerificationFields(n[r]),Dt.isEmpty(e.verificationFields)&&(e.verificationFields=void 0);break;case"eventOptIns":e.eventOptIns=t.getEventOptIns(n[r]),Dt.isEmpty(e.eventOptIns)&&(e.eventOptIns=void 0);break;case"termsAndConditionsChecked":e[r]=n[r];break;default:}}),e}static getAffiliateOptIns(i){let e=[];return Object.keys(i).forEach(n=>{Number.isNaN(Number.parseInt(n))||e.push({id:Number.parseInt(n),confirmed:i[n]})}),e}static getVerificationFields(i){let e=[];return Object.keys(i).forEach(n=>{e.push({fieldName:n,value:i[n]})}),e}static getEventOptIns(i){let e=[];return Object.keys(i).forEach(n=>{Number.isNaN(Number.parseInt(n))||e.push({choiceLinkId:Number.parseInt(n),confirmed:i[n]})}),e}};var vs=class{router=E(zt);summaryService=E(Vu);kpsPreauthorizationService=E(rb);injectorService=E($s);get paymentMethodName(){if(this.paymentInfo!==void 0){if(this.paymentInfo.paymentData!==void 0)return this.paymentInfo.paymentData.name;if(this.paymentInfo.externalPayment!==void 0)return this.paymentInfo.externalPayment.name}return null}set pageJson(i){this._pageJson=i,this.paymentInfo=i.paymentInfo,this.order=i.order,this.customer=i.customer}get pageJson(){return this._pageJson}popup;form;paymentInfo;order;customer;affiliate;subscriptions=new Array;_backendResponse;_pageJson;setBackendResponse(i){this._backendResponse=i}orderCart(i){let e=this.kpsPreauthorizationService.kpsPreRequest(this.paymentInfo),n=iu.generate(this.form);return i!==void 0&&(n=i),this.summaryService.submitSummaryData(this.order,e,n)}unlockOrder(){this.order!==void 0&&this.summaryService.unlockOrder(this.order)}getAbsoluteCheckoutPath(i=Qe.WaitingFor){return En.buildAbsoluteCheckoutPath(i,this.affiliate.code)}};var _3=(()=>{class t extends vs{#e=E(JT);#t=E(bt);#n=E(pb);#i=E(fn);#r=E(yi);#o=E(Ot);#a;#s=void 0;get backendResponse(){return this._backendResponse}isSuitable(e){return e.type===Wt.Klarna}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return new Promise((e,n)=>{this.#e.getKlarnaInitData(this.order.orderNumber,this.order.paymentMethod).subscribe(r=>{this.injectorService.append(this.#e.getLibUrl(),{done:()=>{this.#o.defaultView.Klarna.Payments.init({client_token:r.clientToken}),e()},error:()=>{n()}})})})}onClick(){return new Promise(e=>{this.#a=this.#e.getIdentifierForSubtype(this.paymentInfo.subtype);let n=this.#i.get(ut.KLARNA_AUTH_DATA);try{this.#e.isKlarnaReauthorizationNeeded(this.buildPaymentPageDataForSummary(),this.affiliate)?this.#o.defaultView.Klarna.Payments.reauthorize({payment_method_category:this.#a},this.#e.getDataForAuthorization(this.buildPaymentPageDataForSummary(),this.affiliate,!0),r=>{this.finalizeOrder(r,e)}):n&&n.finalize_required?this.#o.defaultView.Klarna.Payments.finalize({payment_method_category:this.#a},{},r=>{this.finalizeOrder(r,e)}):this.finalizeOrder(n,e)}catch(r){this.#t.error(r,"Klarna Submit")}})}setCustomerData(e){this.#s=e}finalizeOrder(e,n){if(e!==null&&(e.show_form&&e.approved||!e.finalize_required)&&e.authorization_token){let r=iu.generate(this.form);r.klarnaInformation={authenticationToken:e.authorization_token,klarnaCart:this.#e.getKlarnaCart(this.order)},this.orderCart(r).then(o=>{this.setBackendResponse(o),this.startPaymentProcess(),n()}).catch(()=>{this.handleError()})}else this.#n.receive(F0.UnlockOrder).subscribe(()=>{n()}),this.unlockOrder()}handleError(){this.#t.debug(new Error("Payment declined! Return back to MOP-selection..."),"Klarna"),this.summaryService.unlockOrder(this.order)}isPageJson(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"page")}performPageChange(e){this.summaryService.determineNextPageAndProceed(e,{additionalUrlParameters:[`${this.order.orderNumber}`]})}startPaymentProcess(){this.isPageJson(this.backendResponse)&&this.performPageChange(this.backendResponse)}buildPaymentPageDataForSummary(){let e={dataLayer:void 0,paymentMethods:void 0,customer:this.#s,page:Cn.Summary,order:this.#r.getOrder()};return!ce.hasProperty(e.customer,"country")&&this.pageJson.customer!==void 0&&(e.customer.countryCode=this.pageJson.customer.country),e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var DH=t=>({"no-margin-bottom":t});function H5e(t,i){if(t&1&&D(0,"ev-explicit-terms-and-conditions",31),t&2){let e=y(2);C("affiliate",e.affiliate)("parentForm",e.form)("optIns",e.summaryPageJson.optIns)("isSportsShop",e.isSportsShop)}}function V5e(t,i){if(t&1&&D(0,"ev-affiliate-opt-ins",32),t&2){let e=y(2);C("parentForm",e.form.getForm(e.affiliateOptInsFormName))("optIns",e.summaryPageJson.optIns)}}function j5e(t,i){if(t&1&&(h(0,"section",29)(1,"h2",30),R(2),H(3,"translate"),g()(),J(4,H5e,1,4,"ev-explicit-terms-and-conditions",31)(5,V5e,1,2,"ev-affiliate-opt-ins",32),h(6,"div",10),D(7,"hr",33),g()),t&2){let e=y();d(2),ne(" ",j(3,4,e.Message.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_HEADLINE)," "),d(2),$(e.canUserImplicitlyAcceptTermsAndConditions()?-1:4),d(),$(e.hasAffiliateOptIns()?5:-1),d(2),C("ngClass",et(6,DH,e.isSportsShop))}}function G5e(t,i){if(t&1&&(D(0,"ev-delivery-method-summary",34),h(1,"div",10),D(2,"hr",33),g()),t&2){let e=y();C("deliveryInfo",e.summaryPageJson.deliveryInfo)("isCallcenter",e.affiliate.callCenter)("trackingNavigationElement","change_delivery_method")("showChangeButton",e.showChangeButton()),d(2),C("ngClass",et(5,DH,e.isSportsShop))}}function K5e(t,i){if(t&1&&(D(0,"ev-delivery-method-summary",35),h(1,"div",10),D(2,"hr",33),g()),t&2){let e=y();C("deliveryInfo",e.summaryPageJson.deliveryInfoMemoryTickets)("cardHeadline",e.Message.CHECKOUT_APP_SUMMARY_DETAILED_OVERVIEW_SUBHEADLINE_DELIVERY_MEMORY_TICKETS)("anchor",e.DeliveryPageAnchor.DeliveryMethodMemoryTickets)("trackingNavigationElement","change_memory_ticket_delivery_method")("showChangeButton",e.showChangeButton()),d(2),C("ngClass",et(6,DH,e.isSportsShop))}}function q5e(t,i){if(t&1&&D(0,"ev-payment-method-summary",8),t&2){let e=y();C("paymentInfo",e.summaryPageJson.paymentInfo)("isSportsShop",e.isSportsShop)}}function W5e(t,i){if(t&1&&D(0,"ev-loyalty-summary",9),t&2){let e=y();C("loyaltyData",e.summaryPageJson.customer.loyaltyData)("showChangeButton",e.showChangeButton())}}function z5e(t,i){if(t&1&&D(0,"ev-insurance-summary",36),t&2){let e=y(2);C("order",e.order())("parentForm",e.insuranceSummaryForm)("ticketInsuranceConfig",e.summaryPageJson.ticketInsurance)("disableTicketInsuranceHighlight",e.isTicketInsuranceHighlightDisabled())}}function Y5e(t,i){if(t&1&&D(0,"ev-insurance-summary",37),t&2){let e=y(2);C("order",e.order())("parentForm",e.insuranceSummaryForm)("ticketInsuranceConfig",e.summaryPageJson.ticketInsurance)("event",e.order().events[0])("disableTicketInsuranceHighlight",e.isTicketInsuranceHighlightDisabled())}}function J5e(t,i){if(t&1&&J(0,z5e,1,4,"ev-insurance-summary",36)(1,Y5e,1,5,"ev-insurance-summary",37),t&2){let e=y();$(e.StringUtils.isNotEmpty(e.order().insuranceFee)?0:e.StringUtils.isNotEmpty(e.order().events[0].priceCategory.ticketInsuranceAmount)?1:-1)}}function X5e(t,i){if(t&1&&(h(0,"ev-notification",17)(1,"span",38),R(2),H(3,"translate"),g()()),t&2){let e=y();C("type",e.NotificationType.Danger),d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)," ")}}function Q5e(t,i){if(t&1&&(h(0,"section"),D(1,"ev-implicit-terms-and-conditions",39),g()),t&2){let e=y();d(),C("parentForm",e.form)("optIns",e.summaryPageJson.optIns)("affiliate",e.affiliate)}}function Z5e(t,i){if(t&1&&(D(0,"section",20),H(1,"translate")),t&2){let e=y();C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_CONDITIONS_SUMMARY))}}var $A=(()=>{class t{breakpoint;#e=E(Tn);#t=E(yi);#n=E(zt);#i=E(nr);#r=E(mo);#o=E(bl);#a=E(qr);#s=E(ai);#l=E(Al);#c=E(dh);#d=E(_3);#u=E(Rv);#p=E(no);#m=E(Sn);#f=E(Oi);#g=E(fn);#h=E(tr);#v="INSURANCE_FROM_SUMMARY";DeliveryMethodType=ui;Message=K;NotificationType=rn;affiliateOptInsFormName="affiliateOptIns";eventOptInsFormName="eventOptIns";verificationFieldsFormName="verificationFields";form=new vn("summaryForm");insuranceSummaryForm=new vn("insuranceSummaryForm");affiliate;backButtonTitle;summaryPageJson;isSportsShop=!1;order=nn(null);canInsuranceBeShown=sn(()=>this.order().events.length===1&&(this.hasAllowedExternalPaymentSubtypeForInsurance()||this.isDirectDebitPaymentType())&&!this.hasOrderMarketingOptIn());removeInsuranceCheckbox=al(()=>{let e=ee.isNotEmpty(this.order().events[0].priceCategory.ticketInsuranceAmount)?this.order().events[0]:void 0;!this.canInsuranceBeShown()&&this.#h.sessionStorage.getItem(this.#v)==="true"&&(ce.isObject(e)||this.#g.set(ut.ORDER_TICKET_INSURANCE_ENABLED,!1),this.#h.sessionStorage.removeItem(this.#v),this.#t.updateTicketInsurance(!1,this.order(),e))});ngOnInit(){this.#p.setTitle(this.#m.instant(K.CHECKOUT_APP_PAGE_TITLE_SUMMARY)),this.subscribeToSummaryPageJson(),this.subscribeToOrderJson(),this.subscribeToAffiliateJson(),ce.isObject(this.summaryPageJson.klarnaCustomerJson)&&this.#d.setCustomerData(this.summaryPageJson.klarnaCustomerJson),this.isSportsShop=this.#s.isSportsShop(this.affiliate),this.isSportsShop&&this.#s.createSportsPack(this.summaryPageJson.order)}ngOnDestroy(){this.form.destroy(),this.insuranceSummaryForm.destroy(),this.#i.detach()}subscribeToSummaryPageJson(){this.#r.observePageJson([Cn.Summary]).pipe(zn(this.#f)).subscribe(e=>{this.summaryPageJson=e,this.order.set(e.order),this.summaryPageJson.insuranceRemoved&&this.#u.openModalForRemovedInsurance(),this.#a.isGTMTrackingActive()&&(this.#o.setDynamicTrackingVarInSessionStorage("delivery",this.summaryPageJson.deliveryInfo.name),this.#o.setDynamicTrackingVarInSessionStorage("payment",this.summaryPageJson.paymentInfo.trackingName)),this.backButtonTitle=this.getBackButtonTitle(e.order),this.form.set(new vn(this.affiliateOptInsFormName)).set(new vn(this.verificationFieldsFormName)).set(new vn(this.eventOptInsFormName)),e.pageWasSkipped&&this.#c.setPaymentFirstViewOrChanged("false")})}subscribeToOrderJson(){this.#t.observeOrder().pipe(Yt(e=>ce.isObject(e)),Ro(),zn(this.#f)).subscribe(e=>{this.order.set(e)})}subscribeToAffiliateJson(){this.#e.observeAffiliate().pipe(zn(this.#f)).subscribe(e=>{this.affiliate=e})}canShowSummaryConditions(){return this.hasAffiliateOptIns()||!this.canUserImplicitlyAcceptTermsAndConditions()}canUserImplicitlyAcceptTermsAndConditions(){return this.summaryPageJson.implicitAcceptanceOfTermsAndConditions}hasAffiliateOptIns(){return ce.isObject(this.summaryPageJson.optIns)&&Dt.isNotEmpty(this.summaryPageJson.optIns.affiliateOptIns)}onClickBackButton(){let e=this.#t.skipPayment(this.summaryPageJson.order);e&&this.summaryPageJson.order.ticketPersonalisationRequired?this.#n.navigate([Qe.TicketPersonalisation]):e?this.#n.navigate([Qe.Delivery]):this.#n.navigate([Qe.Payment])}hasLoyaltyData(){return Dt.isNotEmpty(this.summaryPageJson.customer.loyaltyData)}isPaymentVerificationMissing(){return ce.isObject(this.summaryPageJson.paymentInfo)&&Dt.isNotEmpty(this.summaryPageJson.paymentInfo.verificationFields)}showInsuranceConditions(){return this.summaryPageJson.order.ticketInsuranceFeeInt>0&&this.affiliate.settings?.ticketInsuranceConditionsSummaryPage}showChangeButton(){return!(ce.hasProperty(this.summaryPageJson,"order.payByLink")&&this.summaryPageJson.order.payByLink)}hasAfterSalesBookingType(){return this.#l.hasOrderAftersalesBookingType(this.summaryPageJson.order)}isTicketInsuranceHighlightDisabled(){return this.affiliate.settings.highlightedTicketInsurance===!1}getBackButtonTitle(e){let n=this.#t.skipPayment(e),r=K.CHECKOUT_APP_LINK_BACK_TO_PAYMENT;return n&&e.ticketPersonalisationRequired?r=K.CHECKOUT_APP_LINK_BACK_TO_TICKET_PERSONALISATION:n&&(r=K.CHECKOUT_APP_LINK_BACK_TO_DELIVERY),r}hasAllowedExternalPaymentSubtypeForInsurance(){return this.summaryPageJson.paymentInfo.type===Wt.External&&(this.summaryPageJson.paymentInfo.subtype===si.CreditCard||this.summaryPageJson.paymentInfo.subtype===si.GenericWallet)}isDirectDebitPaymentType(){return this.summaryPageJson.paymentInfo.type===Wt.Debit}hasOrderMarketingOptIn(){return this.order().events.some(e=>e.eviToken)}OptimizelyPageEvent=Gr;DeliveryPageAnchor=is;StringUtils=ee;QuickCheckoutMode=b0;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-summary-page"]],standalone:!1,decls:46,vars:39,consts:[["data-qa","summary-page",1,"summaryPage",3,"evOptimizelyPageTrigger"],[3,"adId"],[1,"row"],[1,"col-xs-12","col-md-8"],[3,"quickCheckoutModeActive"],["additionalClass","checkout-card-container"],["data-qa","customer-address-summary",3,"showChangeButton","summaryPage","isSportsShop"],[3,"events","isSportsShop"],["data-qa","payment-method-summary",3,"paymentInfo","isSportsShop"],["data-qa","loyalty-information-card",3,"loyaltyData","showChangeButton"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[1,"no-padding-top"],["data-qa","order-overview",3,"events","affiliateJson","showEventOptIns","showPackages","hideContentBehindToggle","eventOptInForm","deliveryInfo","trackingPage","isSportsShop","customerFormsJson"],[1,"col-xs-12"],["data-qa","order-fees"],["aria-live","assertive"],[3,"type"],["evHideOnDesktop",""],[3,"summaryPageJson","affiliate","parentForm"],[1,"font-size-xs","line-height-xs",3,"evCoreHtml"],["evHideOnMobile","",1,"col-md-4","sidebar","checkout-card-container"],[3,"affiliate"],[3,"displayedInSidebar"],[1,"row","margin-top-xl"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow"],[1,"col-xs-12","back-link","checkout-card-container"],["tabindex","0","data-qa","back-to-shop-link",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"],[1,"card-headline"],["data-qa","headline",1,"inner-card-headline"],[3,"affiliate","parentForm","optIns","isSportsShop"],[3,"parentForm","optIns"],["aria-hidden","true",1,"card-separator",3,"ngClass"],["data-qa","delivery-method-summary",3,"deliveryInfo","isCallcenter","trackingNavigationElement","showChangeButton"],[3,"deliveryInfo","cardHeadline","anchor","trackingNavigationElement","showChangeButton"],[3,"order","parentForm","ticketInsuranceConfig","disableTicketInsuranceHighlight"],[3,"order","parentForm","ticketInsuranceConfig","event","disableTicketInsuranceHighlight"],["data-qa","form-invalid-notification"],[3,"parentForm","optIns","affiliate"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"ev-ad-serving",1),h(2,"div",2)(3,"div",3),D(4,"ev-progress-bar")(5,"ev-page-was-skipped-hint",4),h(6,"ev-pl-card",5),J(7,j5e,8,8)(8,G5e,3,7)(9,K5e,3,8),D(10,"ev-customer-address-summary",6)(11,"ev-personalisation-summary",7),J(12,q5e,1,2,"ev-payment-method-summary",8)(13,W5e,1,2,"ev-loyalty-summary",9)(14,J5e,2,1),h(15,"div",10),D(16,"hr",11),g(),h(17,"section",12),D(18,"ev-view-shopping-cart",13),g(),h(19,"div",14),D(20,"hr",11),g(),h(21,"section"),D(22,"ev-order-price-information",15),g(),h(23,"section",16),J(24,X5e,4,4,"ev-notification",17),g(),h(25,"section",18),D(26,"ev-reservation-time-counter"),g(),D(27,"ev-buy-button",19),J(28,Q5e,2,3,"section")(29,Z5e,2,3,"section",20),g()(),h(30,"div",21),D(31,"ev-reservation-time-counter")(32,"ev-relevant-mini-basket",22),g()(),D(33,"ev-guarantee-box",23),h(34,"div",24)(35,"div",14)(36,"div",25)(37,"div",26)(38,"span",27),Ee("click",function(){return r.onClickBackButton()})("keydown.space",function(){return r.onClickBackButton()})("keydown.enter",function(){return r.onClickBackButton()}),D(39,"i",28),h(40,"span"),R(41),H(42,"translate"),g()()()(),D(43,"ev-ad-serving",1),g()()(),D(44,"ev-capacity-control")(45,"ev-gcps-hidden-email")),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.SUMMARY),d(),C("adId","place-ad-middle"),d(4),C("quickCheckoutModeActive",r.affiliate.quickCheckoutMode===r.QuickCheckoutMode.ACTIVE),d(),Le("data-qa","summary-conditions"),d(),$(r.canShowSummaryConditions()?7:-1),d(),$(!r.hasAfterSalesBookingType()&&!r.affiliate.paytollPlatform?8:-1),d(),$(!r.affiliate.paytollPlatform&&r.summaryPageJson.deliveryInfoMemoryTickets?9:-1),d(),C("showChangeButton",r.showChangeButton())("summaryPage",r.summaryPageJson)("isSportsShop",r.isSportsShop),d(),C("events",r.order().events)("isSportsShop",r.isSportsShop),d(),$(r.summaryPageJson.paymentInfo!=null&&r.summaryPageJson.paymentInfo.showPaymentDetails&&r.summaryPageJson.deliveryInfo.type!==r.DeliveryMethodType.WILL_CALL_RESERVATION?12:-1),d(),$(r.hasLoyaltyData()?13:-1),d(),$(r.canInsuranceBeShown()?14:-1),d(4),C("events",r.order().events)("affiliateJson",r.affiliate)("showEventOptIns",!0)("showPackages",!0)("hideContentBehindToggle",!1)("eventOptInForm",r.form.getForm(r.eventOptInsFormName))("deliveryInfo",r.summaryPageJson.deliveryInfo)("trackingPage","summary")("isSportsShop",r.isSportsShop)("customerFormsJson",r.summaryPageJson.customer),d(),xa(r.isSportsShop?"inline-card-separator-spacer":"card-separator-spacer"),d(5),$(r.form.submitted&&r.form.control.invalid?24:-1),d(3),C("summaryPageJson",r.summaryPageJson)("affiliate",r.affiliate)("parentForm",r.form),d(),$(r.canUserImplicitlyAcceptTermsAndConditions()?28:-1),d(),$(r.showInsuranceConditions()?29:-1),d(3),C("affiliate",r.affiliate),d(),C("displayedInSidebar",!1),d(8),Ae(j(42,37,r.backButtonTitle)),d(2),C("adId","place-ad-bottom"))},encapsulation:2})}return t})();var C3=(()=>{class t extends xl{ticketPersonalisationResource=E(u$);getPageJsonFromResource(){return this.ticketPersonalisationResource.get()}getPageType(){return Cn.TicketPersonalisation}submitTicketPersonalisationAndRedirect(e,n){return this.submitTicketPersonalisation(e,n).pipe(An(r=>this.determineNextPageAndProceed(r))).toPromise()}submitTicketPersonalisation(e,n){return this.ticketPersonalisationResource.submitOrderPersonalisation(e.orderNumber,n)}buildCountriesByEventIdMap(e){let n=new Map;return Object.keys(e).forEach(r=>{let o=e[r];n.set(Number(r),o.groups)}),n}buildSubmitData(e,n){let r=e.toJson(),o={},s=this.getOrderPositionIdByTicketIdMap(n);if(Object.prototype.hasOwnProperty.call(r,"ticketPersonalisation")){let c=r.ticketPersonalisation;o.ticketPersonalisation={},Object.keys(c).forEach(v=>{let b=Number(v);s.has(b)||this.logService.debug(new Error(`no orderPositionId for ticket id "${b}".`),"Ticket Personalisation Submit Data");let x=c[v],k={orderPositionId:s.get(b)};Object.keys(x).forEach(O=>{let w=x[O];k[O]={value:w}}),o.ticketPersonalisation[v]=k})}return Object.prototype.hasOwnProperty.call(r,"orderComments")&&(o.orderComments=r.orderComments),Object.prototype.hasOwnProperty.call(r,"subPosOrderComments")&&(o.subPosOrderComments=r.subPosOrderComments),Object.prototype.hasOwnProperty.call(r,"memberCards")&&(o.memberCards=r.memberCards),o}validateBrazilianFiscalCode(e,n){return this.ticketPersonalisationResource.validateCpf(e,n)}getErrorMessage(e){switch(e.errorCode){case br.IDENTIFICATION_NUMBER_BLACK_LISTED:case br.WRONG_MEMBER_CARD_NUMBER:case br.CODE_TICKET_PERSONALISATION_WRONG_VALUE:return e.message;case br.TDL_LIMIT_REACHED:return K.CHECKOUT_APP_SHOPPING_CART_MAXIMUM_AMOUNT_OF_TICKETS_EXCEEDED;case br.TICKET_PERSONALISATION_INVALID_PASSPORT_NUMBER:return K.CHECKOUT_APP_TICKET_PERSONALISATION_IDENTIFICATION_NUMBER_INVALID;case br.CODE_TICKET_PERSONALISATION_URL_NOT_ALLOWED:return K.CHECKOUT_APP_ERROR_LINKS_NOT_ALLOWED;default:this.logService.error(new Error(`unexpected error code "${e.errorCode}" with message "${e.message}"`),"Ticket Personalisation"),this.redirectToErrorAndClearCart()}}redirectToErrorAndClearCart(){this.orderService.clearShoppingCart(),this.router.navigate([Qe.Error])}getOrderPositionIdByTicketIdMap(e){let n=new Map;return e.forEach(r=>{r.priceCategory.tickets.forEach(o=>{n.set(o.id,r.priceCategory.orderPositionId)})}),n}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var y3=(()=>{class t{logService=E(bt);subject=new ni(null);observeBackendError(){return this.subject.asObservable()}setBackendError(e){this.isInvalid(e)&&(this.logService.error(new Error(`Unexpected backend response: ${e}`),"Ticket Personalisation"),e=null),this.subject.next(e)}resetError(){this.subject.next(null)}isInvalid(e){return e===null||typeof e.message!="string"||typeof e.errorCode!="number"}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $v=function(t){return t.CardNumber="memCaCN",t.CardId="memberCardId",t}($v||{});var R1=class t{static buildTicketPersonalisationForm(i,e,n,r,o){i.priceCategory.tickets.filter(s=>Array.isArray(s.personalisation)).forEach(s=>{let c=s.personalisation.map(v=>{let b=n.getTicketPersonalisationRule(v.fieldName);return new Gt(t.getFormFieldConfig(v,o),ea.getValidators(b,v))});e.push(new vn(s.id.toString(),c,[new ZR(r)]))})}static buildMemberCardForm(i,e,n){i.priceCategory.tickets.filter(r=>Array.isArray(r.memberCards)).forEach(r=>{let o=n.getMemberCardRule($v.CardId),s=n.getMemberCardRule($v.CardNumber);e.push(new vn(r.id.toString(),[new Gt({fieldName:$v.CardId,label:K.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD,type:Mt.Select,mandatory:!0,value:"",selectGroups:eh.getMemberCardGroups(r.memberCards)},ea.getValidatorsByRule(o)),new Gt({fieldName:$v.CardNumber,label:K.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD_NUMBER,type:Mt.Text,mandatory:!0,value:""},ea.getValidatorsByRule(s))]))})}static buildOrderCommentForm(i,e){typeof i.orderComment=="object"&&e.push(new vn(i.priceCategory.orderPositionId.toString()))}static buildPackageItemOrderCommentForm(i,e){i.priceCategory.tickets[0].packageItems.filter(r=>ce.isObject(r.orderComment)).forEach(r=>{e.push(new vn(r.orderPositionId.toString()))})}static getFormFieldConfig(i,e=null){let r=at({mandatory:!0,value:i.value!==void 0?i.value:null},i);return r.type===Mt.Radio&&(r.radioBoxes=t.getRadioButtonValues(i)),e!==null&&(r.fieldName===Wr.Country||r.fieldName===Wr.Nationality)&&(e.length===1&&(e[0].label=null),r.selectGroups=eh.getCountriesGroup(e)),r.fieldName===Wr.FiscalCode&&(r.maxlength=30),r}static getRadioButtonValues(i){let e=null;return i.data!==void 0&&(e=[],Object.keys(i.data).forEach(n=>{e.push({label:i.data[n],value:n})})),e}};function e6e(t,i){if(t&1&&(h(0,"label",2),R(1),H(2,"translate"),g()),t&2){let e=y(2);Le("for",e.parentForm.getField(e.fieldName).id),d(),ne(" ",j(2,2,e.orderComment.label)," ")}}function t6e(t,i){if(t&1&&(h(0,"ev-forms-field-description"),D(1,"ev-forms-formatter",7),g()),t&2){let e=y(2);d(),C("content",e.orderCommentText)}}function n6e(t,i){if(t&1&&(Mo(0,0),h(1,"section",1)(2,"ev-forms-field"),J(3,e6e,3,4,"label",2),D(4,"ev-forms-textarea",3),h(5,"div",4),D(6,"ev-forms-field-error",5),g(),h(7,"div",6),J(8,t6e,2,1,"ev-forms-field-description"),g()()(),Fo()),t&2){let e=y();C("formGroup",e.parentForm.control),d(3),$(e.orderComment.label?3:-1),d(),C("field",e.parentForm.getField(e.fieldName))("maxCharacters",e.MAX_ORDER_COMMENT_LENGTH)("showCounter",!1),Le("id",e.parentForm.getField(e.fieldName).id),d(2),C("field",e.parentForm.getField(e.fieldName)),d(2),$(e.orderCommentText?8:-1)}}var OH=(()=>{class t{MAX_ORDER_COMMENT_LENGTH=402;Message=K;fieldName="value";set parentForm(e){this._parentForm=e,this.addOrderCommentField()}get parentForm(){return this._parentForm}set orderComment(e){this._orderComment=e,this.orderCommentText=null,this.addOrderCommentField()}get orderComment(){return this._orderComment}set packageItem(e){this._orderComment=e.orderComment,this.orderCommentText=this.buildOrderCommentText(e),this.addOrderCommentField()}orderCommentText=null;_parentForm=null;_orderComment=null;addOrderCommentField(){if(!(this._parentForm===null||this._orderComment===null)&&!this._parentForm.hasField(this.fieldName)){let e="";!ce.isEmpty(this.orderComment)&&ee.isNotEmpty(this.orderComment.value)&&(e=this.orderComment.value),this._parentForm.set(new Gt({fieldName:this.fieldName,type:Mt.Textarea,mandatory:!0,value:e},[new ir(K.CHECKOUT_APP_TICKET_PERSONALISATION_ORDER_COMMENT_REQUIRED)]))}}buildOrderCommentText(e){let n=new po;return n.append(new o1(K.CHECKOUT_APP_TICKET_PERSONALISATION_EVENT)),n.append(new wa(`: ${e.eventName} \u2013 `)),e.venueCity!==void 0&&n.append(new wa(`${e.venueCity}, `)),n.append(new wa(`${e.venueName} \u2013 ${e.formattedEventDate}`)),e.promoter!==void 0&&(n.append(new wa(" \u2013 ")),n.append(new o1(K.CHECKOUT_APP_PROMOTER)),n.append(new wa(`: ${e.promoter}`))),n}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-order-comment"]],inputs:{parentForm:"parentForm",orderComment:"orderComment",packageItem:"packageItem"},standalone:!1,decls:1,vars:1,consts:[[3,"formGroup"],[1,"card-section","col-xs-12"],["field-label",""],["data-qa","order-comment",3,"field","maxCharacters","showCounter"],["field-error",""],[3,"field"],["field-description",""],[3,"content"]],template:function(n,r){n&1&&J(0,n6e,9,8,"ng-container",0),n&2&&$(r.parentForm.hasField(r.fieldName)?0:-1)},dependencies:[Ai,pee,mr,Zr,nM,Pn,wn,Se],encapsulation:2})}return t})();var r6e=t=>({"p-font-size-m-l":t}),o6e=t=>({"bottom-spacer":t}),a6e=(t,i)=>i.priceCategory.orderPositionId;function s6e(t,i){if(t&1&&(h(0,"ev-toggle",6),H(1,"translate"),H(2,"translate"),H(3,"translate"),ci(4,7),g()),t&2){y();let e=Fn(8),n=y().$implicit,r=y();C("title",j(1,12,r.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_COLLAPSIBLE_HEADLINE))("showDetailsTitle",j(2,14,r.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_COLLAPSIBLE_HEADLINE))("hideDetailsTitle",j(3,16,r.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_COLLAPSIBLE_HEADLINE))("iconPrefix",null)("iconPrefixToggled",null)("iconSuffix","icon-expand-more")("iconSuffixToggled","icon-expand-less")("alignTitle","right")("expanded",!1)("alternativeIconStyle",!0)("evClickTracking",r.getTrackingObject(n.priceCategory.orderPositionId)),d(4),C("ngTemplateOutlet",e)}}function l6e(t,i){if(t&1&&ci(0,7),t&2){y();let e=Fn(8);C("ngTemplateOutlet",e)}}function c6e(t,i){if(t&1&&D(0,"ev-forms-provider",12),t&2){let e=y().$implicit,n=y(4);C("form",n.parentForm().getForm(n.memberCardFormName).getForm(e.id.toString()))("dateFormat",n.affiliate().dateFormat)}}function d6e(t,i){if(t&1&&(h(0,"section")(1,"ev-toggle",13),D(2,"ev-ticket-package-items-summary",14),g()(),h(3,"div",3),D(4,"hr",4),g()),t&2){let e=y().$implicit,n=y(4);d(),C("showDetailsTitle",n.Message.CHECKOUT_APP_SHOW_SEAT_INFORMATION),d(),C("packageItems",e.packageItems)("affiliate",n.affiliate())}}function u6e(t,i){if(t&1&&(h(0,"div",9),D(1,"hr",4),g()),t&2){let e=y(6);xa(e.isSportsShop()?"inline-card-separator-spacer":"card-separator-spacer")}}function p6e(t,i){if(t&1&&(D(0,"ev-forms-provider",12),J(1,u6e,2,2,"div",15)),t&2){let e=y(),n=e.$implicit,r=e.$index,o=e.$count,s=y(4);C("form",s.parentForm().getForm(s.personalisationFormName).getForm(n.id.toString()))("dateFormat",s.affiliate().dateFormat),d(),$(r!==o-1||s.packageItemHasOrderComments()?1:-1)}}function m6e(t,i){if(t&1&&(h(0,"section",10),D(1,"ev-event-price-summary",11),g(),J(2,c6e,1,2,"ev-forms-provider",12)(3,d6e,5,3)(4,p6e,2,3)),t&2){let e,n=i.$implicit,r=y(3).$implicit,o=y();C("ngClass",et(6,r6e,o.isSportsShop())),d(),C("ticket",n)("priceCategory",r.priceCategory),d(),$(o.parentForm().has(o.memberCardFormName,n.id.toString())?2:-1),d(),$(n.packageItems?3:-1),d(),$((e=o.parentForm().getForm(o.personalisationFormName))!=null&&e.getForm(n.id.toString())?4:-1)}}function f6e(t,i){if(t&1&&(h(0,"div",9),D(1,"hr",4),g(),ft(2,m6e,5,8,null,null,ri)),t&2){let e=y(2).$implicit,n=y();xa(n.isSportsShop()?"inline-card-separator-spacer":"card-separator-spacer"),d(2),ht(e.priceCategory.tickets)}}function h6e(t,i){if(t&1&&(h(0,"div"),D(1,"ev-order-comment",16),g()),t&2){let e=i.$implicit,n=y(4);d(),C("packageItem",e)("parentForm",n.parentForm().getForm(n.packageItemOrderCommentFormName).getForm(e.orderPositionId.toString()))}}function g6e(t,i){if(t&1&&ft(0,h6e,2,2,"div",null,ri),t&2){let e=y(2).$implicit,n=y();ht(n.packageItemsByEventId.get(e.eventId))}}function v6e(t,i){if(t&1&&D(0,"ev-order-comment",8),t&2){let e=y(2).$implicit,n=y();C("orderComment",e.orderComment)("parentForm",n.parentForm().getForm(n.orderCommentFormName).getForm(e.priceCategory.orderPositionId.toString()))}}function _6e(t,i){if(t&1&&(h(0,"div",17),D(1,"ev-personalisation-event-fee",18),g()),t&2){let e=i.$implicit,n=i.$index,r=i.$count;C("ngClass",et(2,o6e,n===r-1)),d(),C("fee",e)}}function C6e(t,i){if(t&1&&(h(0,"section"),ft(1,_6e,2,4,"div",17,ri),g()),t&2){let e=y(2).$implicit;d(),ht(e.flexibleEventFees)}}function y6e(t,i){if(t&1&&(h(0,"div")(1,"div",3),D(2,"hr",4),g(),h(3,"section"),D(4,"ev-shopping-cart-position-information",5),g(),J(5,s6e,5,18,"ev-toggle",6)(6,l6e,1,1,"ng-container",7)(7,f6e,4,2,"ng-template",null,0,vi)(9,g6e,2,0)(10,v6e,1,2,"ev-order-comment",8)(11,C6e,3,0,"section"),g()),t&2){let e=y().$implicit,n=y();Le("data-qa","event-type-"+e.priceCategory.type),d(4),C("event",e)("affiliateJson",n.affiliate()),d(),$(n.skipPersonalizationAllowed()?5:6),d(4),$(n.packageItemHasOrderComments()?9:-1),d(),$(n.parentForm().has(n.orderCommentFormName,e.priceCategory.orderPositionId.toString())?10:-1),d(),$(e.flexibleEventFees!=null&&e.flexibleEventFees.length?11:-1)}}function E6e(t,i){if(t&1&&(h(0,"div",2),J(1,y6e,12,7,"div"),g()),t&2){let e=i.$implicit;d(),$(e.ticketPersonalisationRequired?1:-1)}}var NH=(()=>{class t{Message=K;EventType=So;memberCardFormName="memberCards";orderCommentFormName="orderComments";personalisationFormName="ticketPersonalisation";packageItemOrderCommentFormName="subPosOrderComments";#e=E(rd);#t=E(rM);#n=E(y3);#i=E(Oi);events=We();countriesByEventIdMap=We();affiliate=We();parentForm=We();skipPersonalizationAllowed=We(!1);isSportsShop=We(!1);packageItemsByEventId=new Map;eventInformationByPkId=new Map;toggleComponent;handledErrors=new Set([br.WRONG_MEMBER_CARD_NUMBER,br.IDENTIFICATION_NUMBER_BLACK_LISTED,br.TDL_LIMIT_REACHED]);ngOnInit(){this.createEventInformationMap(),this.subscribeToErrorResponseStream()}ngOnChanges(e){this.checkChange(e,"events","countriesByEventIdMap","affiliate")&&this.buildForm()}createEventInformationMap(){this.events().forEach(e=>{this.eventInformationByPkId.set(e.priceCategory.pkId,Wa.convertEvent(e))})}checkChange(e,...n){return n.every(r=>this[r]!==void 0)&&n.some(r=>e[r]!==void 0)}packageItemHasOrderComments(){return this.parentForm().has(this.packageItemOrderCommentFormName)&&this.parentForm().getForm(this.packageItemOrderCommentFormName).subForms.length>0}getTrackingObject(e){let n=this.toggleComponent?.state()?"expand":"collapse";return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"skip_personalisation",navigation_element_selected:`toggle_${e}_${n}`}}}buildForm(){this.packageItemsByEventId.clear();let e=[],n=[],r=[],o=[];this.events().filter(s=>s.ticketPersonalisationRequired).forEach(s=>{let c=this.countriesByEventIdMap().get(s.eventId);R1.buildTicketPersonalisationForm(s,e,this.#e,this.#t,c),R1.buildMemberCardForm(s,n,this.#e),typeof s.orderComment=="object"&&R1.buildOrderCommentForm(s,r),s.priceCategory.type===So.Package&&(this.packageItemsByEventId.set(s.eventId,s.priceCategory.tickets[0].packageItems.filter(v=>ce.isObject(v.orderComment))),R1.buildPackageItemOrderCommentForm(s,o))}),this.applyToParentForm(new vn(this.personalisationFormName,e)),this.applyToParentForm(new vn(this.memberCardFormName,n)),this.applyToParentForm(new vn(this.orderCommentFormName,r)),this.applyToParentForm(new vn(this.packageItemOrderCommentFormName,o))}applyToParentForm(e){e.subForms.length>0&&this.parentForm().set(e)}subscribeToErrorResponseStream(){return this.#n.observeBackendError().pipe(NM(),Yt(e=>this.handledErrors.has(e.errorCode)),zn(this.#i)).subscribe(e=>{switch(e.errorCode){case br.WRONG_MEMBER_CARD_NUMBER:this.handleMemberCardBackendResponse();break;case br.IDENTIFICATION_NUMBER_BLACK_LISTED:this.handleBlackListBackendResponse(e);break;default:}})}handleMemberCardBackendResponse(){this.parentForm().getFormAsOptional(this.memberCardFormName).map(e=>e.subForms).ifPresent(e=>{e.forEach(n=>{let r=n.getField($v.CardNumber);ce.isNullable(r)||this.rejectFieldValue(r)})})}handleBlackListBackendResponse(e){JSON.parse(e.exceptionValue).forEach(r=>{if(!this.parentForm().getForm(this.personalisationFormName).hasForm(String(r)))return;let o=this.parentForm().getForm(this.personalisationFormName).getForm(String(r)).getField(Wr.IdNumber);ce.isNullable(o)||this.rejectFieldValue(o)})}rejectFieldValue(e){let n=e.control.value;e.validation.has(wt.Rejected)||e.validation.add(new hs(K.CHECKOUT_APP_INVALID_ENTRY)),e.validation.get(wt.Rejected).enable(),e.validation.update(wt.Rejected,{rejectedValue:n});let r=e.control.valueChanges.subscribe(()=>{e.validation.get(wt.Rejected).disable(),r.unsubscribe()})}FormFieldType=Mt;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-order-personalisation"]],viewQuery:function(n,r){if(n&1&&Qi(go,5),n&2){let o;Ni(o=Ri())&&(r.toggleComponent=o.first)}},inputs:{events:[1,"events"],countriesByEventIdMap:[1,"countriesByEventIdMap"],affiliate:[1,"affiliate"],parentForm:[1,"parentForm"],skipPersonalizationAllowed:[1,"skipPersonalizationAllowed"],isSportsShop:[1,"isSportsShop"]},standalone:!1,features:[Ha],decls:3,vars:1,consts:[["personalisationForm",""],["novalidate","","data-qa","ticket-personalisation",1,"validation",3,"formGroup"],["data-qa","order-personalisation"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[3,"event","affiliateJson"],[3,"title","showDetailsTitle","hideDetailsTitle","iconPrefix","iconPrefixToggled","iconSuffix","iconSuffixToggled","alignTitle","expanded","alternativeIconStyle","evClickTracking"],[3,"ngTemplateOutlet"],[3,"orderComment","parentForm"],[1,"col-xs-12"],[3,"ngClass"],[3,"ticket","priceCategory"],[1,"checkout-form-container",3,"form","dateFormat"],[3,"showDetailsTitle"],[3,"packageItems","affiliate"],[1,"col-xs-12",3,"class"],[3,"packageItem","parentForm"],[1,"row",3,"ngClass"],[3,"fee"]],template:function(n,r){n&1&&(h(0,"form",1),ft(1,E6e,2,1,"div",2,a6e),g()),n&2&&(C("formGroup",r.parentForm().control),d(),ht(r.events()))},dependencies:[At,hr,uee,xi,Pn,wn,ho,go,S1,lH,A1,OH,l3,Se],encapsulation:2,data:{animation:[Av.toggleInOut()]}})}return t})();var RH=(()=>{class t extends Gi{Message=K;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-personalisation-info"]],standalone:!1,features:[dt],decls:12,vars:12,consts:[[1,"theme-text-light-color"]],template:function(n,r){n&1&&(h(0,"p",0),R(1),H(2,"translate"),g(),h(3,"p",0),R(4),H(5,"translate"),g(),h(6,"p",0),R(7),H(8,"translate"),g(),h(9,"p",0),R(10),H(11,"translate"),g()),n&2&&(d(),ne(" ",j(2,4,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_WHAT_QUESTION),`
`),d(3),ne(" ",j(5,6,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_WHAT_ANSWER),`
`),d(3),ne(" ",j(8,8,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HOW_QUESTION),`
`),d(3),ne(" ",j(11,10,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HOW_ANSWER),`
`))},dependencies:[Se],encapsulation:2})}return t})();function b6e(t,i){if(t&1&&(h(0,"ev-notification",2),ci(1,3),g()),t&2){let e=y(),n=Fn(3);C("type",e.NotificationType.Warning),d(),C("ngTemplateOutlet",n)}}function I6e(t,i){if(t&1&&ci(0,3),t&2){y();let e=Fn(3);C("ngTemplateOutlet",e)}}function S6e(t,i){if(t&1&&(h(0,"h3",4),R(1),H(2,"translate"),g(),R(3),H(4,"translate")),t&2){let e=y(2);d(),ne(" ",j(2,2,e.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_INFO_HEADLINE),""),d(2),ne(" ",j(4,4,e.Message.CHECKOUT_APP_SPORTS_PERSONALISATION_INFO_DESCRIPTION)," ")}}function x6e(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y(2);ne(" ",j(1,1,e.Message.CHECKOUT_APP_TICKET_PERSONALISATION_SUBHEADLINE)," ")}}function A6e(t,i){if(t&1&&(J(0,S6e,5,6)(1,x6e,2,3),ci(2,3)),t&2){let e=y(),n=Fn(5);$(e.skipPersonalizationAllowed()?0:1),d(2),C("ngTemplateOutlet",n)}}function P6e(t,i){if(t&1){let e=Je();h(0,"i",5),Ee("click",function(){Ne(e);let r=y();return Re(r.onClickTicketPersonalisationInfo())})("keydown.space",function(){Ne(e);let r=y();return Re(r.onClickTicketPersonalisationInfo())})("keydown.enter",function(r){Ne(e);let o=y();return Re(o.onClickTicketPersonalisationInfo(r))}),g()}if(t&2){let e=y();Le("aria-label",e.getAriaLabel())}}var sie=(()=>{class t{#e=E(kn);#t=E(Sn);highlighted=We(!1);isSportsShop=We(!1);skipPersonalizationAllowed=We(!1);NotificationType=rn;Message=K;onClickTicketPersonalisationInfo(e){e&&e.preventDefault();let n=new Dn({component:RH}).enableTitle(K.CHECKOUT_APP_TICKET_PERSONALISATION_POPUP_HEADLINE).enableCloseButton(this.isSportsShop()?null:K.GLOBAL_BUTTON_CLOSE);this.#e.showModal(n)}getAriaLabel(){return`${this.#t.instant(K.CHECKOUT_APP_ADDITIONAL_INFO)} ${this.#t.instant(K.CHECKOUT_APP_TICKET_PERSONALISATION_SUBHEADLINE)}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-personalisation-subheadline"]],inputs:{highlighted:[1,"highlighted"],isSportsShop:[1,"isSportsShop"],skipPersonalizationAllowed:[1,"skipPersonalizationAllowed"]},standalone:!1,decls:6,vars:1,consts:[["subheadline",""],["infoIcon",""],[3,"type"],[3,"ngTemplateOutlet"],["data-qa","subheadline",1,"u-font-weight-bold","theme-text-light-color","margin-bottom-xs","font-size-l"],["tabindex","0","role","button","data-qa","info",1,"icon","icon-info","small-info",3,"click","keydown.space","keydown.enter"]],template:function(n,r){n&1&&J(0,b6e,2,2,"ev-notification",2)(1,I6e,1,1,"ng-container",3)(2,A6e,3,2,"ng-template",null,0,vi)(4,P6e,1,1,"ng-template",null,1,vi),n&2&&$(r.highlighted()?0:1)},dependencies:[hr,On,Se],encapsulation:2})}return t})();var w6e=t=>[t];function D6e(t,i){if(t&1&&(h(0,"div",7),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_TICKET_PERSONALISATION_SUBHEADLINE_MEMBERCARDS)," ")}}function O6e(t,i){if(t&1&&(h(0,"ev-notification",27),R(1),H(2,"translate"),g(),h(3,"ev-notification",28)(4,"span",29),R(5),H(6,"translate"),g()(),h(7,"ev-notification",30),R(8),H(9,"translate"),g()),t&2){let e=y();C("visible",e.activeMessage.length>0)("type",e.NotificationType.Danger),d(),ne(" ",j(2,9,e.activeMessage)," "),d(2),C("visible",e.falsyInputNotificationVisible&&e.form.control.invalid)("type",e.NotificationType.Danger),d(2),Ae(j(6,11,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)),d(2),C("visible",e.showGeneralError)("type",e.NotificationType.Danger),d(),ne(" ",j(9,13,e.Message.CHECKOUT_APP_TICKET_PERSONALISATION_GENERAL_INPUT_ERROR)," ")}}var MH=(()=>{class t{window=E(qN);#e=E(C3);#t=E(Tn);#n=E(y3);#i=E(Gn);#r=E(kn);#o=E(zt);#a=E(mo);#s=E(bt);#l=E(ai);#c=E(Rv);#d=E(no);#u=E(Sn);#p=E(rr);Message=K;NotificationType=rn;activeMessage=ee.EMPTY_STRING;pageJson;affiliateJson;form=new vn("personalisationForm");submitButtonMessage;countriesByEventIdMap;falsyInputNotificationVisible=!1;showGeneralError=!1;isSportsShop=!1;subscriptions=[];ngOnInit(){this.#d.setTitle(this.#u.instant(K.CHECKOUT_APP_PAGE_TITLE_TICKET_PERSONALISATION)),this.subscriptions.push(tl([this.#a.observePageJson([Cn.TicketPersonalisation]),this.#t.observeAffiliate()]).subscribe(e=>{let[n,r]=e;this.init(n,r)})),this.subscriptions.push(this.#n.observeBackendError().subscribe(e=>{this.setErrorMessage(e)})),this.isSportsShop=this.#l.isSportsShop(this.affiliateJson)}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()}),this.form.destroy()}init(e,n){this.affiliateJson=n,this.pageJson=e,this.pageJson.insuranceRemoved&&this.#c.openModalForRemovedInsurance(),n.quickCheckoutMode===b0.ACTIVE?this.submitButtonMessage=K.CHECKOUT_APP_SHOPPING_CART_TO_NEXT_PAGE:e.skipPaymentPage?this.submitButtonMessage=K.CHECKOUT_APP_TO_SUMMARY:this.submitButtonMessage=K.CHECKOUT_APP_TO_PAYMENT,e.countriesByEvent===void 0?this.countriesByEventIdMap=new Map:this.countriesByEventIdMap=this.#e.buildCountriesByEventIdMap(e.countriesByEvent)}onClickBackButton(){this.#o.navigate([Qe.Delivery])}onClickFormSubmit(){if(this.form.control.invalid){this.pageJson.skipPersonalizationAllowed?this.showSkipPersonalisationModal():this.showFalsyInputNotification();return}this.submitPersonalisationForm()}showSkipPersonalisationModal(){this.#r.showModal(new Dn(co.buildTextMessage(K.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_TEXT)).enablePrimaryButton(K.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_ACCEPT,()=>{this.prefillPersonalisationForms(),this.submitPersonalisationForm()},()=>this.trackSkipPersonalisationLayerButton("button_accept")).enableSecondaryButton(K.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_CLOSE,()=>{this.#r.hideModal()},()=>this.trackSkipPersonalisationLayerButton("button_decline")).enableCloseButton().enableTitle(K.CHECKOUT_APP_SPORTS_SKIP_PERSONALISATION_MODAL_HEADLINE).setWidth(er.MEDIUM).enableDismissable())}prefillPersonalisationForms(){this.form.subForms.forEach(e=>{e.subForms.forEach(n=>{let r=n.findFormField(Wr.Firstname),o=n.findFormField(Wr.Lastname),s=this.pageJson.customer;(r.control.invalid||o.control.invalid)&&(r.control.setValue(s.firstName),o.control.setValue(s.lastName))})})}submitPersonalisationForm(){let e=!1;this.showGeneralError=!1,this.#n.resetError(),this.#i.show(),this.#e.submitTicketPersonalisationAndRedirect(this.pageJson.order,this.#e.buildSubmitData(this.form,this.pageJson.order.events)).catch(n=>{let r="'TicketPersonalisation', 'Personalisation failed' ";ce.isObject(n)&&Number.isInteger(n.errorCode)?(r+=`with ${n.errorCode}`,n.errorCode===na.GENERAL_ERROR&&(e=!0)):e=!0,e&&(this.showGeneralError=!0,this.form.control.markAsUntouched()),this.#s.debug(new Error(r),"Ticket Personalisation Page"),this.#n.setBackendError(n),this.#i.hide()})}showFalsyInputNotification(){this.falsyInputNotificationVisible||(this.falsyInputNotificationVisible=!0,this.form.control.valueChanges.pipe(Yt(()=>this.form.control.valid),Za(1)).subscribe(()=>{this.falsyInputNotificationVisible=!1}))}setErrorMessage(e){this.activeMessage=ee.EMPTY_STRING,e!==null&&(e.errorCode===na.TICKET_PERSONALIZATION_SET_FAILED?this.#e.redirectToErrorAndClearCart():this.activeMessage=this.#e.getErrorMessage(e))}trackSkipPersonalisationLayerButton(e){this.#p.trackClick({clickTrackingData:{action:"",event_name:"personalisation_layer"},customClickTrackingData:{layer_category:"checkout",layer_subcategory:"skip_personalisation_layer",layer_element_selected:e}})}OptimizelyPageEvent=Gr;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-personalisation-page"]],standalone:!1,decls:46,vars:33,consts:[["data-qa","ticket-personalisation-page",3,"evOptimizelyPageTrigger"],[1,"row"],[1,"col-xs-12","col-md-8"],["additionalClass","checkout-card-container"],["data-qa","headline",1,"selection-list-headline","theme-headline-color","u-font-weight-bold",3,"evCoreHtml"],["data-qa","description",1,"selection-list-subheadline"],[3,"highlighted","isSportsShop","skipPersonalizationAllowed"],["data-qa","description-membercard"],[3,"adId"],[3,"parentForm","events","affiliate","countriesByEventIdMap","isSportsShop","skipPersonalizationAllowed"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],["data-qa","order-overview",3,"events","affiliateJson","trackingPage","isSportsShop"],[1,"col-xs-12"],["data-qa","order-fees"],[3,"additionalHints"],["aria-live","assertive"],["evHideOnDesktop",""],[3,"onSubmit","buttonText","form"],[1,"col-xs-12","col-md-4","sidebar"],["evHideOnMobile",""],["data-qa","mini-basket-desktop-view",1,"row","checkout-card-container"],[3,"affiliate"],[1,"row","top-separator-spacer","back-link-container","theme-element-border","theme-box-shadow"],[1,"col-xs-12","back-link","checkout-card-container"],["tabindex","0","role","link","data-qa","back-to-shop-link",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"],["data-qa","error-backend",3,"visible","type"],[3,"visible","type"],["data-qa","error-input"],["data-qa","error-general",3,"visible","type"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),D(3,"ev-progress-bar"),h(4,"ev-pl-card",3)(5,"section"),D(6,"h2",4),H(7,"translate"),g(),h(8,"section")(9,"div",5),D(10,"ev-ticket-personalisation-subheadline",6),g(),J(11,D6e,3,3,"div",7),D(12,"ev-ad-serving",8),g(),D(13,"ev-order-personalisation",9),h(14,"div",10),D(15,"hr",11),g(),h(16,"section"),D(17,"ev-view-shopping-cart",12),g(),h(18,"div",13),D(19,"hr",11),g(),h(20,"section"),D(21,"ev-order-price-information",14),g(),h(22,"section"),D(23,"ev-gdpr-hint",15),g(),h(24,"section",16),J(25,O6e,10,15),g(),h(26,"section"),D(27,"ev-reservation-time-counter",17),h(28,"ev-submit-button",18),Ee("onSubmit",function(){return r.onClickFormSubmit()}),g()()()(),h(29,"div",19)(30,"div",20),D(31,"ev-reservation-time-counter"),h(32,"div",21)(33,"div",13),D(34,"ev-relevant-mini-basket",22)(35,"ev-ad-serving",8),g()()()()(),h(36,"div",1)(37,"div",2)(38,"div",23)(39,"div",24)(40,"span",25),Ee("click",function(){return r.onClickBackButton()})("keydown.space",function(){return r.onClickBackButton()})("keydown.enter",function(){return r.onClickBackButton()}),D(41,"i",26),h(42,"span"),R(43),H(44,"translate"),g()()()(),D(45,"ev-ad-serving",8),g()()()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.PERSONALISATION),d(6),C("evCoreHtml",j(7,27,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_HEADLINE)),d(4),C("highlighted",r.pageJson.subHeadlineHighlighting)("isSportsShop",r.isSportsShop)("skipPersonalizationAllowed",r.pageJson.skipPersonalizationAllowed),d(),$(r.pageJson.order.memberCardOrder?11:-1),d(),C("adId","place-ad-middle"),d(),C("parentForm",r.form)("events",r.pageJson.order.events)("affiliate",r.affiliateJson)("countriesByEventIdMap",r.countriesByEventIdMap)("isSportsShop",r.isSportsShop)("skipPersonalizationAllowed",r.pageJson.skipPersonalizationAllowed),d(4),C("events",r.pageJson.order.events)("affiliateJson",r.affiliateJson)("trackingPage","personalisation")("isSportsShop",r.isSportsShop),d(),xa(r.isSportsShop?"inline-card-separator-spacer":"card-separator-spacer"),d(5),C("additionalHints",et(31,w6e,r.Message.GLOBAL_HINTS_GDPR_TICKET_PERSONALISATION)),d(2),$(r.activeMessage.length>0||r.falsyInputNotificationVisible&&r.form.control.invalid||r.showGeneralError?25:-1),d(3),C("buttonText",r.submitButtonMessage)("form",r.form),d(6),C("affiliate",r.affiliateJson),d(),C("adId","place-ad-sidebar-bottom"),d(8),Ae(j(44,29,r.Message.CHECKOUT_APP_LINK_BACK_TO_DELIVERY)),d(2),C("adId","place-ad-bottom"))},dependencies:[Us,xt,$n,On,Xd,ta,ja,Sl,E1,Lv,Fv,NH,Qd,P1,k1,sie,Se],encapsulation:2})}return t})();var lie=(()=>{class t{spinnerService=E(Gn);injectorService=E($s);window=E(tr);ngOnInit(){this.spinnerService.show(),this.window.evPopupPayloadSubject!==void 0&&this.window.evPopupPayloadSubject.asObservable().pipe(Yt(e=>e!=null)).subscribe(e=>{e.injection!==void 0&&this.injectScript(e)})}injectScript(e){let n={};e.injection.options!==void 0&&(n=e.injection.options),this.injectorService.append(e.injection.script,n)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-waiting-for-page"]],standalone:!1,decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})();var FH=(()=>{class t{#e=E(fv);#t=E(Tn);#n=E(_i);#i=E(zt);#r=E(bt);resolve(e){return new Promise(n=>{Promise.all([this.getErrorJsonPromise(e),this.#t.updateAffiliate()]).then(r=>{n(r[0])},r=>{r?.status===xu.RequestTimeout?n({message:K.CHECKOUT_APP_GLOBAL_ERROR_REQUEST_TIMEOUT_MESSAGE,cartLink:!0,emptyCartLink:!1,myEventimLink:!0}):r?.errorCode?(this.#r.debug(new Error(`Resolving failed due to: ${r}. Navigating to error page.`),"ErrorPageResolverService"),this.#i.navigate([`${Qe.Error}/${r.errorCode}`])):(this.#r.error(new Error(`Fatal Error Page served. Error: ${JSON.stringify(r,Object.getOwnPropertyNames(r))}`),"ErrorPageResolverService"),this.#i.navigate([Qe.FatalError]))})})}getErrorCode(e){let n=0,r=new RegExp(/^-?\d+$/g);return(Number.isInteger(e.params.errorCode)||ee.isNotEmpty(e.params.errorCode)&&r.test(e.params.errorCode))&&(n=e.params.errorCode),n}getErrorJsonPromise(e){let n=this.getErrorCode(e),r=this.#n.get(qi.Language);return ee.isEmpty(r)&&(this.#r.debug(new Error("No language present in webshopCookie before trying to get ErrorJson. Using EN as default."),"ErrorPageResolverService"),r="en"),T4(this.#e.getErrorMessage(r,n))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var LH=(()=>{class t{static CONNECTION_CANCELLED="200";code;esId;errorCode;router=E(zt);canActivate(){return this.code=En.getQueryParameter(Hs.Code),this.esId=ee.isNotEmpty(En.getQueryParameter(Hs.EsId))?En.getQueryParameter(Hs.EsId):En.getQueryParameter(Hs.Token),this.errorCode=En.getQueryParameter(Hs.ErrorCode),this.errorCode===t.CONNECTION_CANCELLED&&this.router.navigate([Qe.Login]),ee.isNotEmpty(this.code)&&ee.isNotEmpty(this.esId)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cie=(()=>{class t{paymentService;router;constructor(e,n){this.paymentService=e,this.router=n}canActivate(){let e=this.paymentService.has3dSecurePageData();return e||this.router.navigate([Qe.Payment]),e}static \u0275fac=function(n){return new(n||t)(yt(Dv),yt(zt))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var die=(()=>{class t{router=E(zt);reservationTimerService=E(Ka);canActivate(){return this.reservationTimerService.getRemainingTime()>0?(this.router.navigate([Qe.ShoppingCart]),!1):!0}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ac=(()=>{class t{storageService=E(fn);router=E(zt);handleError(e,n=!1){if(ce.isObject(e)&&Number.isInteger(e.errorCode)){this.errorIsInvalidBucketAmount(e)?this.pageService.navigateToPage(Cn.ShoppingCart):this.errorIsPageForbidden(e)?this.pageService.navigateToPage(e.exceptionValue):e.status===xu.PreconditionFailed?En.redirectFromSelfTo(e.exceptionValue):this.errorIsUserNotLoggedIn(e)?this.router.navigate([Qe.Login]):this.errorIsCustomerEmailAlreadyInUse(e)?this.pageService.navigateToPage(e.exceptionValue):this.router.navigate([`${Qe.Error}/${e.errorCode}`]);return}n||this.router.navigate([Qe.Error])}errorIsPageForbidden(e){return e.errorCode===na.PAGE_FORBIDDEN&&ee.isNotEmpty(e.exceptionValue)&&Object.values(Cn).includes(e.exceptionValue)}errorIsUserNotLoggedIn(e){return e.errorCode===na.USER_NOT_LOGGED_IN}errorIsInvalidBucketAmount(e){return e.errorCode===na.CODE_PACKBUCKET_INVALID_AMOUNT}errorIsCustomerEmailAlreadyInUse(e){return e.errorCode===na.CODE_CUSTOMER_EMAIL_ALREADY_IN_USE}isLoggedIn(e){return e.order.customerId>0}hasUncheckedSeatLevel(){let e=this.storageService.get(ut.SEAT_LEVEL_METADATA_CHECKOXES,{});return ce.isEmpty(e)?!1:Object.values(e).some(n=>!n)}checkSeatLevelBeforeResolve(e){return this.hasUncheckedSeatLevel()?(this.router.navigate([Qe.ShoppingCart]),Promise.resolve()):e()}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t})}return t})();var uie=(()=>{class t extends Ac{customerService=E(fo);pageService=E(kM);resolve(){return this.checkSeatLevelBeforeResolve(()=>{let e=this.storageService.get(ut.CCCL_SEARCH_DATA,null);return ce.isObject(e)?this.customerService.getSearchedCustomer(e).then(this.handlePageJson.bind(this)).catch(()=>this.pageService.getPageJson().then(this.handlePageJson.bind(this)).catch(this.handleError.bind(this))):this.pageService.getPageJson().then(this.handlePageJson.bind(this)).catch(this.handleError.bind(this))})}isNewOrLoggedInCcclCustomer(){return this.storageService.get(ut.CCCL_CUSTOMER,!1)}handlePageJson(e){return this.isNewOrLoggedInCcclCustomer()&&this.router.navigate([Qe.Delivery]),this.pageService.setPageJson(e),e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var pie=(()=>{class t extends Ac{affiliateService=E(Tn);pageService=E(Nv);resolve(){return this.checkSeatLevelBeforeResolve(()=>this.pageService.getPageJson().then(e=>{let n=this.affiliateService.getAffiliate();return n.callCenter&&!this.isNewOrLoggedInCcclCustomer()?this.router.navigate([Qe.CustomerSearch]):!n.callCenter&&!this.isLoggedIn(e)&&!this.isEmailProvided()&&!this.isUsernameProvided()&&this.router.navigate([Qe.Login]),this.pageService.setPageJson(e),e}).catch(e=>{this.storageService.clear(ut.NEW_CUSTOMER_EMAIL),this.handleError(e,!0)}))}isEmailProvided(){return this.storageService.get(ut.NEW_CUSTOMER_EMAIL)!==null}isUsernameProvided(){return this.storageService.get(ut.NEW_CUSTOMER_USERNAME)!==null}isNewOrLoggedInCcclCustomer(){return this.storageService.get(ut.CCCL_CUSTOMER,!1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var mie=(()=>{class t extends Ac{pageService=E(Mv);resolve(){return this.checkSeatLevelBeforeResolve(()=>{let e={replaceUrl:!0};return this.isEmailProvided()?(this.router.navigate([Qe.Delivery],e),Promise.resolve()):this.pageService.getPageJson().then(n=>(this.isValidCart(n)?this.isLoginNeeded(n)||this.router.navigate([Qe.Delivery],e):this.router.navigate([Qe.ShoppingCart],e),this.pageService.setPageJson(n),n))})}isLoginNeeded(e){return!this.isLoggedIn(e)||ce.isObject(e.enforcedSsoJson)}isValidCart(e){return e.order.numberOfTickets>0}isEmailProvided(){return this.storageService.get(ut.NEW_CUSTOMER_EMAIL)!==null}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BH=(()=>{class t extends Ac{pageService=E(Dv);resolve(){return this.checkSeatLevelBeforeResolve(()=>this.pageService.getPageJson().then(e=>(this.pageService.setPageJson(e),e)).catch(this.handleError.bind(this)))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var fie=(()=>{class t extends xl{checkoutResource=E(Wl);getPageJsonFromResource(e){return this.checkoutResource.getReceipt(e)}getPageType(){return Cn.Receipt}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var hie=(()=>{class t extends Ac{logService=E(bt);pageService=E(fie);resolve(e){return this.checkSeatLevelBeforeResolve(()=>{let n=Number(e.params.orderNumber);if(isNaN(n))this.logService.debug(new Error(`Ordernumber is not a number: "${e.params.orderNumber}"`),"Receipt Resolver"),this.router.navigate([Qe.Error]);else return this.pageService.getPageJson(n).catch(this.handleError.bind(this))})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var UH=(()=>{class t extends Ac{pageService=E(Uv);resolve(){return new Promise(e=>{this.pageService.getShoppingCartPage().then(n=>{this.pageService.setPageJson(n),e(n)}).catch(n=>{ce.isObject(n)&&(this.errorIsInvalidBucketAmount(n)?(this.pageService.showInvalidBucketAmountError(),e()):this.handleError(n))})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var gie=(()=>{class t extends Ac{pageService=E(Vu);resolve(){return this.checkSeatLevelBeforeResolve(()=>this.pageService.getPageJson().then(e=>(this.isLoggedIn(e)||this.router.navigate([Qe.Login]),this.pageService.setPageJson(e),e)).catch(this.handleError.bind(this)))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vie=(()=>{class t extends Ac{pageService=E(C3);resolve(){return this.checkSeatLevelBeforeResolve(()=>this.pageService.getPageJson().then(e=>(e.order.ticketPersonalisationRequired||this.router.navigate([Qe.Payment],{replaceUrl:!0}),this.pageService.setPageJson(e),e)).catch(this.handleError.bind(this)))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N6e=[{path:"",component:Ite,resolve:{affiliate:Ap,translations:qd},children:[{path:"",redirectTo:Qe.ShoppingCart,pathMatch:"full"},{path:Qe.ShoppingCart,component:UA,resolve:{shoppingCart:UH,validationRules:rh}},{path:Qe.Login,component:xA,resolve:{login:mie,validationRules:rh}},{path:Qe.Facebook,component:Nte,canActivate:[LH]},{path:Qe.Generic,component:Rte,canActivate:[LH]},{path:Qe.Delivery,component:IA,resolve:{delivery:pie}},{path:Qe.TicketPersonalisation,component:MH,resolve:{ticketPersonalisation:vie,validationRules:rh}},{path:Qe.Payment,component:Y$,resolve:{validationRules:rh,payment:BH}},{path:`${Qe.Payment}/:${AA.State}`,component:Y$,resolve:{validationRules:rh,payment:BH}},{path:Qe.D3Secure,component:Pte,canActivate:[cie]},{path:Qe.Summary,component:$A,resolve:{summary:gie,validationRules:rh}},{path:`${Qe.Receipt}/:orderNumber`,component:aH,resolve:{receipt:hie}},{path:Qe.Error,component:P$,resolve:{errorJson:FH}},{path:`${Qe.Error}/:errorCode`,component:P$,resolve:{errorJson:FH}},{path:Qe.WaitingFor,component:lie},{path:Qe.Pending,component:wH},{path:Qe.Sso,component:kH,resolve:{validationRules:rh,shoppingCart:UH}},{path:Qe.CustomerSearch,component:Ste,resolve:{customerSearch:uie}},{path:Qe.ReservationTimeup,component:zne,canActivate:[die]}]},{path:Qe.AdyenDropIn,component:v3}],_ie=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({imports:[Tp.forChild(N6e),Tp]})}return t})();var Cie=(()=>{class t{Message=K;document=E(Ot);router=E(zt);backToShoppingCart(){this.router.navigate([Qe.ShoppingCart])}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-back-to-shopping-cart"]],standalone:!1,decls:6,vars:3,consts:[[1,"col-xs-12","back-link","checkout-card-container"],["tabindex","0","role","link","data-qa","back-to-shop-link",1,"link",3,"keydown.space","keydown.enter","click"],[1,"icon","icon-arrow-left","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"span",1),Ee("keydown.space",function(){return r.backToShoppingCart()})("keydown.enter",function(){return r.backToShoppingCart()})("click",function(){return r.backToShoppingCart()}),D(2,"i",2),h(3,"span"),R(4),H(5,"translate"),g()()()),n&2&&(d(4),Ae(j(5,1,r.Message.CHECKOUT_APP_LINK_BACK_TO_SHOPPING_CART)))},dependencies:[Se],encapsulation:2})}return t})();function R6e(t,i){if(t&1&&(h(0,"p",4),D(1,"img",6),H(2,"translate"),g()),t&2){let e=y().$implicit,n=y(2);d(),Xt("src",n.getImageUrl(j(2,1,e)),un)}}function M6e(t,i){if(t&1&&(D(0,"p",5),H(1,"translate")),t&2){let e=y().$implicit;C("evCoreHtml",j(1,1,e))}}function F6e(t,i){if(t&1&&(h(0,"div",3),J(1,R6e,3,3,"p",4),H(2,"translate"),J(3,M6e,2,3,"p",5),g()),t&2){let e=i.$implicit,n=y(2);d(),$(n.isImage(j(2,1,e))?1:3)}}function L6e(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"h2",2),R(3),H(4,"translate"),g(),ft(5,F6e,4,3,"div",3,ri),g()()),t&2){let e=y();d(),Tr("benefits-payment",e.editorialBoxType===e.EditorialBoxType.PAYMENT_TYPE),d(2),Ae(j(4,3,e.headline)),d(2),ht(e.editorialItems)}}var E3=class t{affiliateService=E(Tn);translateLoaderService=E(ti);static messageMap=new Map([[M0.DELIVERY_TYPE,[K.CHECKOUT_APP_DELIVERY_BOX_ITEM1,K.CHECKOUT_APP_DELIVERY_BOX_ITEM2,K.CHECKOUT_APP_DELIVERY_BOX_ITEM3,K.CHECKOUT_APP_DELIVERY_BOX_ITEM4,K.CHECKOUT_APP_DELIVERY_BOX_ITEM5,K.CHECKOUT_APP_DELIVERY_BOX_ITEM6]],[M0.PAYMENT_TYPE,[K.CHECKOUT_APP_PAYMENT_BOX_ITEM1,K.CHECKOUT_APP_PAYMENT_BOX_ITEM2,K.CHECKOUT_APP_PAYMENT_BOX_ITEM3,K.CHECKOUT_APP_PAYMENT_BOX_ITEM4,K.CHECKOUT_APP_PAYMENT_BOX_ITEM5,K.CHECKOUT_APP_PAYMENT_BOX_ITEM6]]]);static elementMap=new Map([[M0.DELIVERY_TYPE,jl.BENEFIT_DELIVERY_METHOD],[M0.PAYMENT_TYPE,jl.BENEFIT_PAYMENT_METHOD]]);editorialBoxType;headline;Message=K;EditorialBoxType=M0;display;editorialItems;affiliateImageUrl;subscriptions=[];ngOnInit(){this.editorialBoxType!==void 0&&this.subscriptions.push(this.observeWebshopElementFor(this.editorialBoxType))}ngOnDestroy(){this.subscriptions.forEach(i=>{i.unsubscribe()})}isImage(i){return[".svg",".png",".jpg"].some(n=>i?.indexOf(n)>-1)}getImageUrl(i){return`${this.affiliateImageUrl}checkout/${i}`}observeWebshopElementFor(i){let e=t.messageMap.get(i);return this.affiliateService.observeWebshopElement(t.elementMap.get(i)).subscribe(n=>{this.editorialItems=this.filterKeysWithAvailableTranslationFrom(e),this.affiliateImageUrl=this.affiliateService.getAffiliate().teaserPath,this.display=n&&this.translateLoaderService.hasAnyTranslation(e)})}filterKeysWithAvailableTranslationFrom(i){return i.filter(e=>this.hasTranslation(e))}hasTranslation(i){return this.translateLoaderService.hasTranslation(i)&&this.translateLoaderService.instantTranslate(i)!==i}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-editorial-box"]],inputs:{editorialBoxType:"editorialBoxType",headline:"headline"},standalone:!1,decls:1,vars:1,consts:[["data-qa","editorial-box",1,"row","benefits-box"],[1,"benefits","col-xs-12","theme-element-border"],["data-qa","headline",1,"sidebar-title","theme-text-light-color","theme-element-border"],["data-qa","editorial-benefit",1,"benefits-item","col-xs-4"],[1,"benefits-description","theme-element-border","theme-text-light-color","theme-element-radius","with-image"],[1,"benefits-description","theme-element-border","theme-text-light-color","theme-element-radius",3,"evCoreHtml"],["alt","",1,"payment-image",3,"src"]],template:function(e,n){e&1&&J(0,L6e,7,5,"div",0),e&2&&$(n.display?0:-1)},dependencies:[xt,Se],encapsulation:2})};var T3=(()=>{class t{determineOrderComments(e){let n=[];if(e.priceCategory.type===So.Package){let r=e.priceCategory.tickets[0];r!==void 0&&r.packageItems.filter(o=>ce.isObject(o.orderComment)).forEach(o=>n.push(o.orderComment))}else e.orderComment!==void 0&&n.push(e.orderComment);return n}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var b3=(()=>{class t{Message=K;set memberCard(e){this.name=e.name,this.number=e.memCaCN}name;number;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-member-card"]],inputs:{memberCard:"memberCard"},standalone:!1,decls:7,vars:8,template:function(n,r){n&1&&(h(0,"div")(1,"div"),R(2),H(3,"translate"),g(),h(4,"div"),R(5),H(6,"translate"),g()()),n&2&&(d(2),Vi(" ",j(3,4,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD),": ",r.name," "),d(3),Vi(" ",j(6,6,r.Message.CHECKOUT_APP_TICKET_PERSONALISATION_MEMBER_CARD_NUMBER),": ",r.number," "))},dependencies:[Se],encapsulation:2})}return t})();var B6e=["*"],U6e=t=>({"u-flex-justify-between":t}),$6e=t=>({"u-flex-justify-end":t});function H6e(t,i){if(t&1&&D(0,"h2",2),t&2){let e=y();C("evCoreHtml",e.cardHeadline())}}function V6e(t,i){if(t&1){let e=Je();h(0,"span",11),Ee("click",function(){Ne(e);let r=y();return Re(r.triggerChangeButtonOutput())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.triggerChangeButtonOutput())})("keydown.space",function(r){Ne(e);let o=y();return Re(o.triggerChangeButtonOutput(r))}),h(1,"span",12),R(2),H(3,"translate"),g(),D(4,"i",13),g()}if(t&2){let e=y();C("ngClass",et(5,$6e,!e.cardHeadline()))("evClickTracking",e.clickTrackingObject()),d(2),Ae(j(3,3,e.editButtonText()))}}function j6e(t,i){if(t&1){let e=Je();h(0,"img",16),Ee("error",function(){Ne(e);let r=y(2);return Re(r.turnToFallbackImage())}),g()}if(t&2){let e=y(2);C("src",e.imagePath(),un)}}function G6e(t,i){if(t&1&&D(0,"i",17),t&2){let e=y(2);xo("icon icon-",e.iconName(),"")}}function K6e(t,i){if(t&1&&(h(0,"div",6),J(1,j6e,1,1,"img",14)(2,G6e,1,3,"i",15),g()),t&2){let e=y();d(),$(e.imagePath()?1:-1),d(),$(e.iconName()&&(!e.imagePath()||e.showFallbackImage)?2:-1)}}function q6e(t,i){if(t&1&&D(0,"ev-forms-formatter",18),t&2){let e=y(2);C("content",e.getFormattedMarginal())}}function W6e(t,i){if(t&1&&D(0,"span",19),t&2){let e=y(2);C("evCoreHtml",e.getMarginal())}}function z6e(t,i){if(t&1&&(h(0,"span",9),J(1,q6e,1,1,"ev-forms-formatter",18)(2,W6e,1,1,"span",19),g()),t&2){let e=y();d(),$(e.hasFormattedMarginal()?1:2)}}function Y6e(t,i){t&1&&(h(0,"div",10),D(1,"i",20),g())}var yh=(()=>{class t{cardHeadline=We(null);marginal=We(null);infoText=We(null);editButtonText=We(K.GLOBAL_CHANGE);iconName=We(null);imagePath=We(null);clickTrackingObject=We(null);showCheckMarkIcon=We(!1);showChangeButton=We(!0);onChangeButtonClick=vo();showFallbackImage=!1;hasFormattedMarginal(){return this.marginal()instanceof po}getFormattedMarginal(){return this.marginal()}getMarginal(){return this.marginal()}triggerChangeButtonOutput(e){e!==void 0&&e.key===Fr.SPACE&&e.preventDefault(),this.onChangeButtonClick.emit()}turnToFallbackImage(){this.showFallbackImage=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-selection-info-card"]],inputs:{cardHeadline:[1,"cardHeadline"],marginal:[1,"marginal"],infoText:[1,"infoText"],editButtonText:[1,"editButtonText"],iconName:[1,"iconName"],imagePath:[1,"imagePath"],clickTrackingObject:[1,"clickTrackingObject"],showCheckMarkIcon:[1,"showCheckMarkIcon"],showChangeButton:[1,"showChangeButton"]},outputs:{onChangeButtonClick:"onChangeButtonClick"},standalone:!1,ngContentSelectors:B6e,decls:12,vars:8,consts:[["data-qa","selection-info-card",1,"margin-top-xs"],["data-qa","edit",1,"selection-list-edit",3,"ngClass"],["data-qa","headline",1,"selection-list-headline",3,"evCoreHtml"],["tabindex","0","role","link","data-qa","edit-button",1,"link",3,"ngClass","evClickTracking"],[1,"selection-list"],[1,"selection-list-item","active"],[1,"sl-icon-left","icon-top-aligned"],[1,"sl-description"],["data-qa","description-container"],["data-qa","marginal",1,"sl-highlight"],["data-qa","checkmark-icon",1,"sl-checkmark"],["tabindex","0","role","link","data-qa","edit-button",1,"link",3,"click","keydown.enter","keydown.space","ngClass","evClickTracking"],[1,"link-text"],[1,"icon","icon-chevron-right"],["alt","","data-qa","logo-icon",1,"image",3,"src"],["data-qa","icon",3,"class"],["alt","","data-qa","logo-icon",1,"image",3,"error","src"],["data-qa","icon"],[3,"content"],[3,"evCoreHtml"],[1,"icon","icon-checkmark"]],template:function(n,r){n&1&&(lo(),h(0,"section",0)(1,"div",1),J(2,H6e,1,1,"h2",2)(3,V6e,5,7,"span",3),g(),h(4,"div",4)(5,"div",5),J(6,K6e,3,2,"div",6),h(7,"div",7)(8,"span",8),Or(9),g(),J(10,z6e,3,1,"span",9),g(),J(11,Y6e,2,0,"div",10),g()()()),n&2&&(d(),C("ngClass",et(6,U6e,r.cardHeadline())),d(),$(r.cardHeadline()?2:-1),d(),$(r.showChangeButton()?3:-1),d(3),$(r.iconName()||r.imagePath()?6:-1),d(4),$(r.marginal()?10:-1),d(),$(r.showCheckMarkIcon()?11:-1))},dependencies:[At,Zr,ho,xt,Se],encapsulation:2})}return t})();var J6e=t=>({"no-padding-top":t});function X6e(t,i){if(t&1){let e=Je();h(0,"ev-toggle",3),Ee("onToggle",function(r){Ne(e);let o=y(2);return Re(o.setExpandedState(r))}),D(1,"ev-voucher",4),g()}if(t&2){let e=y(2);C("showDetailsTitle",e.Message.CHECKOUT_APP_VOUCHER_REDEEM_VOUCHER)("hideDetailsTitle","")("expanded",e.hasRedeemedVouchers),d(),C("expandedState",e.getExpandedStateForVoucher())("isSportsShop",e.isSportsShop)}}function Q6e(t,i){if(t&1&&D(0,"ev-voucher",2),t&2){let e=y(2);C("expandedState",e.getExpandedStateForVoucher())("headline",e.Message.CHECKOUT_APP_VOUCHER_REDEEM_VOUCHER)("isSportsShop",e.isSportsShop)}}function Z6e(t,i){if(t&1&&(h(0,"div",0),J(1,X6e,2,5,"ev-toggle",1)(2,Q6e,1,3,"ev-voucher",2),g()),t&2){let e=y();C("ngClass",et(2,J6e,e.expandVoucherInput)),d(),$(e.expandVoucherInput?2:1)}}var Eie=(()=>{class t{Message=K;showVoucherToggle;expandVoucherInput=!1;hasRedeemedVouchers=!1;isSportsShop=!1;expandedState;setExpandedState(e){this.expandedState=e}getExpandedStateForVoucher(){return this.expandVoucherInput?!0:this.expandedState}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-voucher-redemption"]],inputs:{showVoucherToggle:"showVoucherToggle",expandVoucherInput:"expandVoucherInput",hasRedeemedVouchers:"hasRedeemedVouchers",isSportsShop:"isSportsShop"},standalone:!1,decls:1,vars:1,consts:[["data-qa","voucher-toggle",1,"theme-element-border","theme-box-shadow","main-voucher-component",3,"ngClass"],[3,"showDetailsTitle","hideDetailsTitle","expanded"],[3,"expandedState","headline","isSportsShop"],[3,"onToggle","showDetailsTitle","hideDetailsTitle","expanded"],[3,"expandedState","isSportsShop"]],template:function(n,r){n&1&&J(0,Z6e,3,4,"div",0),n&2&&$(r.showVoucherToggle?0:-1)},dependencies:[At,go,AH],encapsulation:2})}return t})();var Tie=(()=>{class t{router=E(zt);storageService=E(fn);customerService=E(fo);Message=K;resetCcclStateAndRedirect(){this.customerService.logoutCallcenterCustomer().then(()=>{this.storageService.set(ut.CCCL_CUSTOMER,!1),this.router.navigate([Qe.CustomerSearch])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-back-to-customer-search-link"]],standalone:!1,decls:6,vars:3,consts:[[1,"col-xs-12","back-link"],["data-qa","back-to-customer-search-link","tabindex","0","role","link",1,"link",3,"click","keydown.space","keydown.enter"],[1,"icon","icon-arrow-left","before-text"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"span",1),Ee("click",function(){return r.resetCcclStateAndRedirect()})("keydown.space",function(){return r.resetCcclStateAndRedirect()})("keydown.enter",function(){return r.resetCcclStateAndRedirect()}),D(2,"i",2),h(3,"span"),R(4),H(5,"translate"),g()()()),n&2&&(d(4),Ae(j(5,1,r.Message.CHECKOUT_APP_LINK_BACK_TO_CUSTOMER_SEARCH)))},dependencies:[Se],encapsulation:2})}return t})();var bie=(()=>{class t{parentForm;set deliveryMethod(e){ce.isObject(e?.returnValue)&&this.mobileNumberHint!==e.returnValue.mobileNumberHint&&(this.mobileNumberHint=e.returnValue.mobileNumberHint,this.updateHint())}mobileNumberHint;updateHint(){Tv.getFieldAsOptional(this.parentForm,Ue.CustomerMobile).ifPresent(e=>{ee.isNotEmpty(this.mobileNumberHint)?e.notice.set("MobileNumberHint","warning",this.mobileNumberHint):e.notice.remove("MobileNumberHint")})}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,selectors:[["","evMobileNumberHint",""]],inputs:{parentForm:"parentForm",deliveryMethod:"deliveryMethod"},standalone:!1})}return t})();function e8e(t,i){if(t&1&&(h(0,"h3",5),R(1),g()),t&2){let e=y();d(),Ae(e.memoryTicketHeadline)}}function t8e(t,i){if(t&1&&(h(0,"p",6),R(1),g()),t&2){let e=y();d(),Ae(e.memoryTicketInformation)}}var Iie=(()=>{class t{#e=E(ah);#t=E(EA);#n=E(Sn);#i=E(Wm);Message=K;DeliveryPageAnchor=is;previousAccordionItems;deliveryMethodsAccordionItems;selectedAccordionItem;previouslySelectedDeliveryMethod;showDeliveryMethodNotChosenErrorMessage=!1;memoryTicketHeadline=this.#n.instant(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_INFORMATION);memoryTicketInformation=this.#n.instant(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_HEADLINE);showMemoryTicketHeadline=Ip.messageIsFilledAndNotKey(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_HEADLINE,this.memoryTicketHeadline);showMemoryTicketInformation=Ip.messageIsFilledAndNotKey(K.CHECKOUT_APP_DELIVERY_MEMORY_TICKET_INFORMATION,this.memoryTicketInformation);dataQa;evAnchor;headline;subHeadline;deliveryMethodsMemoryTickets=[];expandAllDeliveryMethods;country;parentForm;iconsByType;orderJson;countryJson;_deliveryMethodAccordionItemSelected;set deliveryMethodAccordionItemSelected(e){e&&e.accordionItem&&(this._deliveryMethodAccordionItemSelected=e,e.error||this.deliveryMethodSuccessUpdated())}get deliveryMethodAccordionItemSelected(){return this._deliveryMethodAccordionItemSelected}onDeliveryMethodAccordionItemSelectedChange=new Jt;deliveryMethodsAccordionItemsEvent=new Jt;subscriptions=[];selectionList;ngOnChanges(e){e.orderJson!==void 0&&this.onOrderUpdated();let n=e.country?.currentValue&&e.country?.isFirstChange(),r=!n&&e.countryJson&&e.countryJson?.currentValue?.id!==(e.countryJson?.previousValue?.id||this.country);(n||r)&&this.onCountryUpdated()}ngAfterViewInit(){this.subscriptions.push(this.initRouteFragmentSubscription())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}onAccordionItemSelect(e){this.selectedAccordionItem=e,this.showDeliveryMethodNotChosenErrorMessage=!1,this.onDeliveryMethodAccordionItemSelectedChange.emit({accordionItem:e,previouslySelectedDeliveryMethod:this.previouslySelectedDeliveryMethod})}getDeliveryMethodDataQa(e){return ce.isObject(e)&&ce.isObject(e.returnValue)?`delivery-method_memory-ticket_${e.returnValue.type}_${e.returnValue.subType}`:ee.EMPTY_STRING}handleChangeButtonClick(){}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"delivery",navigation_element_selected:"change_memory_ticket_delivery_method"},ga3ClickTrackingData:{category:"checkout",action:"change.delivery_method"}}}initRouteFragmentSubscription(){return this.#e.observeRouteFragments().subscribe(e=>{e.name===is.DeliveryMethodMemoryTickets&&setTimeout(()=>{this.selectionList?.resetSelection(),e.scrollIntoView()},500)})}onOrderUpdated(){this.orderJson?.deliveryMethodTypeMemoryTickets&&(this.previouslySelectedDeliveryMethod=this.getDeliveryMethodById(this.orderJson.deliveryMethodMemoryTickets))}onCountryUpdated(){let e=this.deliveryMethodsAccordionItems===void 0,n=!1;e&&(n=!this.expandAllDeliveryMethods),this.deliveryMethodsAccordionItems!==void 0&&(this.previousAccordionItems=this.deliveryMethodsAccordionItems),this.deliveryMethodsAccordionItems=this.createAccordionItems(this.countryJson,n,this.previouslySelectedDeliveryMethod,this.deliveryMethodsMemoryTickets),this.deliveryMethodsAccordionItems.length===0&&(this.selectedAccordionItem=void 0),this.deliveryMethodsAccordionItemsEvent.emit(this.deliveryMethodsAccordionItems)}createAccordionItems(e,n,r,o){let s=o,c=this.country;return ce.isObject(e)&&(c=e.id),s=this.#i.filterDeliveryMethodsBasedOnCountry(s,c),this.#t.createAccordionItems(s,r,n)}getDeliveryMethodById(e){return this.deliveryMethodsMemoryTickets.find(n=>e===n.id)}deliveryMethodSuccessUpdated(){this.previouslySelectedDeliveryMethod=this.deliveryMethodAccordionItemSelected.previouslySelectedDeliveryMethod}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-memory-tickets"]],viewQuery:function(n,r){if(n&1&&Qi(eu,5),n&2){let o;Ni(o=Ri())&&(r.selectionList=o.first)}},inputs:{dataQa:"dataQa",evAnchor:"evAnchor",headline:"headline",subHeadline:"subHeadline",deliveryMethodsMemoryTickets:"deliveryMethodsMemoryTickets",expandAllDeliveryMethods:"expandAllDeliveryMethods",country:"country",parentForm:"parentForm",iconsByType:"iconsByType",orderJson:"orderJson",countryJson:"countryJson",deliveryMethodAccordionItemSelected:"deliveryMethodAccordionItemSelected"},outputs:{onDeliveryMethodAccordionItemSelectedChange:"onDeliveryMethodAccordionItemSelectedChange",deliveryMethodsAccordionItemsEvent:"deliveryMethodsAccordionItemsEvent"},standalone:!1,features:[Ha],decls:12,vars:18,consts:[[3,"parentForm","accordionItems"],[3,"parentForm","accordionItems","selectedAccordionItem"],["infoIconTrackingSource","shipping_memory_ticket","iconPropertyName","iconClassName",3,"onChange","onSelect","items","evAnchor","headline","alwaysExpandList","editButtonText","getCustomDataQa","iconsByType","clickTrackingObject"],[1,"row"],[1,"col-xs-12"],[1,"card-inline-headline"],[1,"card-paragraph","theme-text-variant-color"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"]],template:function(n,r){n&1&&(D(0,"ev-no-delivery-methods-hint",0)(1,"ev-delivery-method-changes-hint",1),h(2,"div")(3,"div")(4,"ev-selection-list",2),H(5,"translate"),Ee("onChange",function(){return r.handleChangeButtonClick()})("onSelect",function(s){return r.onAccordionItemSelect(s)}),h(6,"div",3)(7,"div",4),J(8,e8e,2,1,"h3",5)(9,t8e,2,1,"p",6),g()()()(),h(10,"div",7),D(11,"hr",8),g()()),n&2&&(C("parentForm",r.parentForm)("accordionItems",r.deliveryMethodsAccordionItems),d(),C("parentForm",r.parentForm)("accordionItems",r.deliveryMethodsAccordionItems)("selectedAccordionItem",r.selectedAccordionItem),d(3),C("items",r.deliveryMethodsAccordionItems)("evAnchor",r.evAnchor)("headline",j(5,16,r.Message.CHECKOUT_APP_DELIVERY_CHOOSE_MEMORY_TICKET_HEADLINE))("alwaysExpandList",r.expandAllDeliveryMethods)("editButtonText",r.Message.GLOBAL_CHANGE)("getCustomDataQa",r.getDeliveryMethodDataQa)("iconsByType",r.iconsByType)("clickTrackingObject",r.getClickTrackingObject()),Le("data-qa",r.dataQa),d(4),$(r.showMemoryTicketHeadline?8:-1),d(),$(r.showMemoryTicketInformation?9:-1))},dependencies:[sh,CA,yA,eu,Se],encapsulation:2})}return t})();function n8e(t,i){if(t&1&&(h(0,"h3",3),R(1),H(2,"translate"),g(),h(3,"p",4),R(4),H(5,"translate"),g()),t&2){let e=y();d(),Ae(j(2,2,e.Message.CHECKOUT_APP_DELIVERY_EVENTIM_PASS_HEADLINE)),d(3),Ae(j(5,4,e.Message.CHECKOUT_APP_DELIVERY_EVENTIM_PASS_INFORMATION))}}var Sie=(()=>{class t{Message=K;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-eventim-pass"]],standalone:!1,decls:4,vars:1,consts:[["content",""],[1,"col-xs-12","margin-top-xs"],[3,"ngTemplateOutlet"],[1,"card-inline-headline"],[1,"card-paragraph","theme-text-variant-color"]],template:function(n,r){if(n&1&&(h(0,"div",1),ci(1,2),g(),J(2,n8e,6,6,"ng-template",null,0,vi)),n&2){let o=Fn(3);d(),C("ngTemplateOutlet",o)}},dependencies:[hr,Se],encapsulation:2})}return t})();var i8e=(t,i)=>i.voucherCode;function r8e(t,i){if(t&1&&(h(0,"span",3),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e.message," ")}}function o8e(t,i){if(t&1&&(h(0,"div",0)(1,"div",1)(2,"ev-notification",2),ft(3,r8e,2,1,"span",3,i8e),g()()()),t&2){let e=y();d(2),C("type",e.NotificationType.Warning),d(),ht(e.prices.voucherErrors)}}var xie=(()=>{class t extends nu{NotificationType=rn;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-voucher-error"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","voucher-errors",1,"row"],[1,"col-xs-12"],[3,"type"],["data-qa","error-message",1,"alert-multiple-messages"]],template:function(n,r){n&1&&J(0,o8e,5,1,"div",0),n&2&&$(r.prices.hasVoucherErrors()?0:-1)},dependencies:[On],encapsulation:2})}return t})();var a8e=t=>({"col-sm-9":t});function s8e(t,i){if(t&1&&(h(0,"div",9)(1,"div",14),D(2,"img",15),g()()),t&2){let e=y(2);d(2),C("src",e.memoryTicketImagePath,un)}}function l8e(t,i){if(t&1){let e=Je();h(0,"a",19),Ee("click",function(r){Ne(e);let o=y(3);return Re(o.showModal(r))})("keydown.enter",function(r){Ne(e);let o=y(3);return Re(o.showModal(r))}),R(1),g()}if(t&2){let e=y(3);Xt("title",e.modalTitle),d(),ne(" ",e.modalTitle," ")}}function c8e(t,i){if(t&1&&(h(0,"div",10)(1,"div",16),D(2,"div",17),J(3,l8e,2,2,"a",18),g()()),t&2){let e=y(2);C("ngClass",et(3,a8e,e.memoryTicketImagePath)),d(2),C("evCoreHtml",e.descriptionText),d(),$(e.modalTitle?3:-1)}}function d8e(t,i){if(t&1){let e=Je();h(0,"ev-pl-button",20),H(1,"translate"),Ee("click",function(){Ne(e);let r=y(2);return Re(r.onClickAddQuickMemoryTickets())}),g()}if(t&2){let e=y(2);C("buttonType","primary")("buttonText",j(1,5,e.Message.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_ADD_TO_BASKET))("hasFullWidth",!0)("dataQa","add-all-button")("evClickTracking",e.getTrackingObject())}}function u8e(t,i){if(t&1&&(h(0,"span",13),D(1,"i",21),R(2),H(3,"translate"),g()),t&2){let e=y(2);d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_SUCCESSFULLY_ADDED)," ")}}function p8e(t,i){if(t&1&&(h(0,"ev-pl-card",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),R(6),H(7,"translate"),g()(),h(8,"div",6)(9,"span",7),R(10),g()()()()(),h(11,"section")(12,"div",8),J(13,s8e,3,1,"div",9)(14,c8e,4,5,"div",10),h(15,"div",11),J(16,d8e,2,7,"ev-pl-button",12)(17,u8e,4,3,"span",13),g()()()()),t&2){let e=y();C("noContentPadding",!0),Le("data-qa","add-quick-memory-tickets-card"),d(6),ne(" ",j(7,7,e.Message.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_NAME)," "),d(4),ne(" ",e.priceMessageTranslated," "),d(3),$(e.memoryTicketImagePath?13:-1),d(),$(e.descriptionText?14:-1),d(2),$(e.existMemoryTicketFeeInAllEvents?17:16)}}var Aie=(()=>{class t{#e=E(KT);#t=E(bt);#n=E(Sn);#i=E(ti);#r=E(Ou);#o=E(kn);#a=E(qr);spinnerService=E(Gn);orderService=E(yi);memoryTicketImagePath;orderJson;affiliateJson;memoryTicketConfigs;Message=K;breakpoint;priceMessageTranslated="";descriptionText="";hasPositionBasedMemoryTickets=!1;hasDifferentMemoryTicketPrices=!1;existMemoryTicketFeeInAllEvents=!1;memoryTicketConfigMinPrice;modalTitle="";subscription=[];ngOnInit(){this.subscription.push(this.#e.observeBreakpointChanges().subscribe(e=>{this.breakpoint=e}))}ngOnChanges(e){e.memoryTicketConfigs!==void 0&&(this.hasPositionBasedMemoryTickets=this.memoryTicketConfigs.some(n=>n.displayType===MA.EVENT),this.hasDifferentMemoryTicketPrices=!this.memoryTicketConfigs.every((n,r,o)=>n.pricePerTicket===o[0].pricePerTicket),this.memoryTicketConfigMinPrice=this.getMemoryTicketConfigWithMinPrice()),(e.memoryTicketConfigs!==void 0||e.orderJson!==void 0)&&this.updateCard()}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}onMobile(){return this.breakpoint===qm.ExtraSmall}getMemoryTicketConfigWithMinPrice(){if(!this.hasDifferentMemoryTicketPrices)return this.memoryTicketConfigs[0];let e=this.memoryTicketConfigs[0];return this.memoryTicketConfigs.forEach(n=>{n.pricePerTicket<e.pricePerTicket&&(e=n)}),e}onClickAddQuickMemoryTickets(){this.spinnerService.show(),this.orderService.updateMemoryTicket(!0,this.orderJson.orderNumber).catch(()=>{this.#t.trace(new Error("Request failed!"),"Quick Memory Tickets")}).finally(()=>{this.spinnerService.hide()}),this.#a.performGoogleEventTracking({action:"memory_ticket_action",label:"add_promobox_memory_ticket"})}showModal(e){Ls.stopBubbling(e);let n=new Dn(co.buildAsyncHtml($a(this.#i.getMessage(PA.COMPONENT_CONTENT_SERVICE_AND_DELIVERY).pipe(cn(r=>this.replacePlaceholders(r)))))).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).setWidth(er.MEDIUM).enableDismissable();this.#o.showModal(n)}getTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:"add_promobox_memory_ticket"}}}replacePlaceholders(e){let r=`/component/content/?affiliate=${this.affiliateJson.code}&staticContent=`;return e.replace(/\{([0]+)\}/g,`${r}TICKET_DIRECT_INFORMATION`).replace(/\{([1]+)\}/g,`${r}WILL_CALL_INFORMATION`)}updateCard(){if(this.orderJson&&this.memoryTicketConfigs.length>0){this.descriptionText=this.getTranslatedDescription(this.#n.instant(K.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_DESCRIPTION));let e=this.hasDifferentMemoryTicketPrices?K.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_MIN_PRICE_PER_TICKET:K.CHECKOUT_APP_SHOPPING_CART_MEMORY_TICKET_PRICE_PER_TICKET;this.priceMessageTranslated=this.getTranslatedMessage(this.#n.instant(e)),this.existMemoryTicketFeeInAllEvents=this.orderJson.events.filter(n=>this.memoryTicketConfigs.some(r=>r.orderPositionId===n.priceCategory.orderPositionId)).every(n=>n.priceCategory?.memoryTicketFee?.count>0),this.modalTitle=this.#n.instant(K.CHECKOUT_APP_SHOPPING_CART_ADD_QUICK_MEMORY_TICKETS_DELIVERY_COSTS)}else this.descriptionText=ee.EMPTY_STRING,this.modalTitle=ee.EMPTY_STRING,this.priceMessageTranslated=ee.EMPTY_STRING,this.existMemoryTicketFeeInAllEvents=!1}getTranslatedMessage(e){return e.replace("{0}",`${this.memoryTicketConfigMinPrice.formattedPricePerTicket}`)}getTranslatedDescription(e){return this.#r.translateMarkdown(e,Aa.CARD,3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-add-quick-memory-tickets-card"]],inputs:{memoryTicketImagePath:"memoryTicketImagePath",orderJson:"orderJson",affiliateJson:"affiliateJson",memoryTicketConfigs:"memoryTicketConfigs"},standalone:!1,features:[Ha],decls:1,vars:1,consts:[[3,"noContentPadding"],[1,"card-section-highlighted","half","add-quick-memory-tickets-card","theme-content-bg","theme-element-border"],[1,"row"],[1,"col-xs-12","card-box-layout--trine","line-height-4xs"],["data-qa","headline",1,"middlespace"],[1,"font-size-l","line-height-lu-font-weight-500"],["data-qa","price-per-ticket",1,"endspace","line-height-xxs","padding-top-xs"],[1,"u-font-weight-500","text-wrap","main-ticket-card-price","font-size-l","line-height-l"],[1,"row","media"],[1,"col-xs-12","col-sm-3","media-left","media-image"],["data-qa","description",1,"media-body","col-xs-12",3,"ngClass"],[1,"col-md-6","col-md-offset-6","no-padding-left","no-padding-right","margin-top-s","margin-bottom-m","text-right"],[3,"buttonType","buttonText","hasFullWidth","dataQa","evClickTracking"],["data-qa","success",1,"add-quick-memory-tickets-card-success"],["data-qa","image"],["alt","",1,"fluid-image",3,"src"],[1,"margin-bottom-m"],[3,"evCoreHtml"],["data-qa","modal-link","tabindex","0",1,"link-variant","theme-text-variant-color",3,"title"],["data-qa","modal-link","tabindex","0",1,"link-variant","theme-text-variant-color",3,"click","keydown.enter","title"],[3,"click","buttonType","buttonText","hasFullWidth","dataQa","evClickTracking"],[1,"icon","icon-checkmark"]],template:function(n,r){n&1&&J(0,p8e,18,9,"ev-pl-card",0),n&2&&$(r.hasPositionBasedMemoryTickets?0:-1)},dependencies:[At,ho,xt,$n,Yd,Se],encapsulation:2})}return t})();var m8e=t=>({"col-sm-9":t}),f8e=t=>({"u-font-weight-500":t});function h8e(t,i){if(t&1&&(h(0,"div",1)(1,"div"),D(2,"img",3),g()()),t&2){let e=y();d(),Le("data-qa",e.dataQaPrefix+"-image"),d(),C("src",e.imagePath,un)}}function g8e(t,i){if(t&1&&D(0,"h3",4),t&2){let e=y(2);C("ngClass",et(3,f8e,!e.isSportsShop))("evCoreHtml",e.headline),Le("data-qa",e.dataQaPrefix+"-name")}}function v8e(t,i){if(t&1&&(h(0,"div",2),J(1,g8e,1,5,"h3",4),D(2,"div",5),g()),t&2){let e=y();C("ngClass",et(4,m8e,e.imagePath)),d(),$(e.headline?1:-1),d(),C("evCoreHtml",e.getTranslatedDescription()),Le("data-qa",e.dataQaPrefix+"-description")}}var I3=(()=>{class t{markdownService=E(Ou);headline;description;imagePath;dataQaPrefix;isSportsShop;getTranslatedDescription(){return this.markdownService.translateMarkdown(this.description,Aa.CARD,3)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-additional-products-content"]],inputs:{headline:"headline",description:"description",imagePath:"imagePath",dataQaPrefix:"dataQaPrefix",isSportsShop:"isSportsShop"},standalone:!1,decls:3,vars:2,consts:[[1,"row","media"],[1,"col-sm-3","media-left","media-image","margin-bottom-m"],[1,"media-body","col-xs-12",3,"ngClass"],["alt","",1,"fluid-image",3,"src"],[1,"card-headline","theme-text-light-color","no-margin-top","margin-bottom-s",3,"ngClass","evCoreHtml"],[1,"margin-bottom-m",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,h8e,3,2,"div",1)(2,v8e,3,6,"div",2),g()),n&2&&(d(),$(r.imagePath?1:-1),d(),$(r.description?2:-1))},dependencies:[At,xt],encapsulation:2})}return t})();var S3=(()=>{class t{NotificationType=rn;message=K.CHECKOUT_APP_TICKET_REPERSONALIZATION_HINT;order=We();isRepersonalizationHintVisible(){return this.order().events.filter(e=>e.priceCategory.bookingType===od.REPERSONALIZATION).length>0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-repersonalization-hint"]],inputs:{order:[1,"order"]},decls:3,vars:5,consts:[["data-qa","repersonalisation-hint-notification",3,"visible","type"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"ev-notification",0),D(1,"span",1),H(2,"translate"),g()),n&2&&(C("visible",r.isRepersonalizationHintVisible())("type",r.NotificationType.Warning),d(),C("evCoreHtml",j(2,3,r.message)))},dependencies:[On,oi,Se,Po,xt],encapsulation:2})}return t})();function C8e(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",1),g()),t&2){let e=y();C("type",e.NotificationType.Warning),d(),C("evCoreHtml",e.getInsuranceHintText())}}var kie=(()=>{class t{translateLoaderService=E(ti);orderService=E(yi);storageService=E(fn);NotificationType=rn;order;showNotification=!1;subscription;previousInsuranceFeeSum=null;previousOrderPositionsMap=new Map;currentOrderPositionsMap=new Map;ngOnInit(){this.previousOrderPositionsMap=new Map(JSON.parse(this.storageService.get(ut.ORDER_POSITION_MAP,null))),this.previousInsuranceFeeSum=this.storageService.get(ut.ORDER_TICKET_INSURANCE_SUM,null),this.subscription=this.onOrderChange()}ngOnDestroy(){this.subscription.unsubscribe()}getInsuranceHintText(){let e=ee.EMPTY_STRING;return ce.isObject(this.order)?(ee.isNotEmpty(this.order.insuranceFee)?e=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_ORDER_INSURANCE_NOTIFICATION):this.hasTicketBasedInsurance()&&(e=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_TICKET_INSURANCE_NOTIFICATION)),e):ee.EMPTY_STRING}onOrderChange(){return this.orderService.observeOrder().subscribe(e=>{this.currentOrderPositionsMap=this.orderService.createOrderPositionsMap(e),this.showNotification=(this.isOrderBasedInsuranceActive(e)||this.differsFromPreviousInsuranceSum(e))&&this.orderService.differsFromPreviousOrderPositionsMap(this.previousOrderPositionsMap,this.currentOrderPositionsMap),this.storageService.set(ut.ORDER_TICKET_INSURANCE_SUM,e.ticketInsuranceFeeInt),this.storageService.set(ut.ORDER_POSITION_MAP,JSON.stringify(Array.from(this.currentOrderPositionsMap))),this.previousInsuranceFeeSum=e.ticketInsuranceFeeInt,this.previousOrderPositionsMap=this.currentOrderPositionsMap})}hasTicketBasedInsurance(){return this.order.events.some(e=>ee.isNotEmpty(e.priceCategory.ticketInsuranceFee))}differsFromPreviousInsuranceSum(e){return this.previousInsuranceFeeSum!==null&&this.previousInsuranceFeeSum!==0&&this.previousInsuranceFeeSum!==e.ticketInsuranceFeeInt&&e.ticketInsuranceFeeInt>0}isOrderBasedInsuranceActive(e){return ee.isNotEmpty(e.insuranceFee)&&e.ticketInsuranceFeeInt>0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-insurance-activation-state-hint"]],inputs:{order:"order"},standalone:!1,decls:1,vars:1,consts:[[3,"type"],["data-qa","insurance-still-active-hint",3,"evCoreHtml"]],template:function(n,r){n&1&&J(0,C8e,2,2,"ev-notification",0),n&2&&$(r.showNotification&&r.order.numberOfTickets>0?0:-1)},dependencies:[xt,On],encapsulation:2})}return t})();function E8e(t,i){if(t&1&&(h(0,"ev-notification",1),R(1),H(2,"translate"),g()),t&2){let e=y();C("type",e.NotificationType.Danger),d(),ne(" ",j(2,2,e.Message.CHECKOUT_APP_SPORTS_PACKBUCKET_INVALID_AMOUNT_ERROR)," ")}}function T8e(t,i){if(t&1&&(h(0,"ev-notification",7),D(1,"span",11),g()),t&2){let e=y();C("type",e.NotificationType.Warning),d(),C("evCoreHtml",e.orderJson().specialOffersChangedHint)}}var wie=(()=>{class t{#e=E(Sn);shoppingCartService=E(Uv);LogoutRequestStatus=Up;NotificationType=rn;Message=K;CheckoutPage=Qe;logoutNotificationMap=We.required();orderJson=We.required();affiliateJson=We.required();hasFalsyInputs=We(!1);isCartEmpty=We(!0);isSportsShop=We(!1);showSpecialText=Ip.messageIsFilledAndNotKey(K.CHECKOUT_APP_SPECIAL_NOTIFICATION,this.#e.instant(K.CHECKOUT_APP_SPECIAL_NOTIFICATION));static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-cart-notification"]],inputs:{logoutNotificationMap:[1,"logoutNotificationMap"],orderJson:[1,"orderJson"],affiliateJson:[1,"affiliateJson"],hasFalsyInputs:[1,"hasFalsyInputs"],isCartEmpty:[1,"isCartEmpty"],isSportsShop:[1,"isSportsShop"]},standalone:!1,decls:19,vars:27,consts:[["aria-live","assertive"],["data-qa","invalid-bucket-amount-notification",3,"type"],[3,"type","visible"],["data-qa","logout-success-notification",3,"evCoreHtml"],["data-qa","logout-failure-notification",3,"evCoreHtml"],["data-qa","form-invalid-notification",3,"evCoreHtml"],["data-qa","special-notification",3,"evCoreHtml"],[3,"type"],[3,"order"],[3,"order","isPaytollPlatform"],[3,"pageName"],["data-qa","special-offers-changed-hint",3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"span",0),J(1,E8e,3,4,"ev-notification",1),h(2,"ev-notification",2),D(3,"span",3),H(4,"translate"),g(),h(5,"ev-notification",2),D(6,"span",4),H(7,"translate"),g(),h(8,"ev-notification",2),D(9,"span",5),H(10,"translate"),g(),h(11,"ev-notification",2),D(12,"span",6),H(13,"translate"),g(),J(14,T8e,2,2,"ev-notification",7),D(15,"ev-ticket-insurance-activation-state-hint",8)(16,"ev-multiple-order",9)(17,"ev-repersonalization-hint",8)(18,"ev-remote-notification",10),g()),n&2&&(d(),$(r.shoppingCartService.hasInvalidBucketAmountError&&r.isSportsShop()?1:-1),d(),C("type",r.NotificationType.Success)("visible",r.logoutNotificationMap().get(r.LogoutRequestStatus.Success)),d(),C("evCoreHtml",j(4,19,r.Message.CHECKOUT_APP_SHOPPING_CART_LOGOUT_MESSAGE)),d(2),C("type",r.NotificationType.Warning)("visible",r.logoutNotificationMap().get(r.LogoutRequestStatus.Failure)),d(),C("evCoreHtml",j(7,21,r.Message.CHECKOUT_APP_SHOPPING_CART_LOGOUT_FAILURE_MESSAGE)),d(2),C("type",r.NotificationType.Danger)("visible",r.hasFalsyInputs()),d(),C("evCoreHtml",j(10,23,r.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS)),d(2),C("type",r.NotificationType.Warning)("visible",r.showSpecialText&&!r.isCartEmpty()),d(),C("evCoreHtml",j(13,25,r.Message.CHECKOUT_APP_SPECIAL_NOTIFICATION)),d(2),$(r.orderJson().specialOffersChangedHint&&!r.isCartEmpty()?14:-1),d(),C("order",r.orderJson()),d(),C("order",r.orderJson())("isPaytollPlatform",r.affiliateJson().paytollPlatform),d(),C("order",r.orderJson()),d(),C("pageName",r.CheckoutPage.ShoppingCart))},dependencies:[xt,On,VT,S3,XT,kie,Se],encapsulation:2})}return t})();var b8e=["*"],I8e=(t,i,e)=>({"with-vat":t,"card-section-highlighted":i,"card-section-no-highlighted":e}),S8e=t=>({"padding-top-xs":t}),x8e=(t,i,e,n)=>({"u-font-weight-500 main-ticket-card-price font-size-l line-height-l":t,"u-font-weight-600":i,"font-size-xl line-height-xl":e,"font-size-l line-height-l":n}),A8e=(t,i,e,n,r)=>({"padding-right-l":t,"font-size-l line-height-l u-font-weight-500":i,"u-font-weight-600":e,"font-size-xl line-height-l":n,"font-size-l line-height-m":r}),P8e=t=>({"u-font-weight-400 font-size-m line-height-xs":t}),k8e=(t,i)=>({"main-ticket-card-price":t,"theme-text-marginal-color font-size-m line-height-xs":i});function w8e(t,i){if(t&1&&(D(0,"span",8),H(1,"translate")),t&2){let e=y();C("ngClass",Ox(4,A8e,e.miniLabel(),!e.isSportsShop(),e.isSportsShop(),e.isSportsShop()&&!e.isMobile(),e.isSportsShop()&&e.isMobile()))("evCoreHtml",j(1,2,e.label()))}}function D8e(t,i){if(t&1&&D(0,"br",12)(1,"span",13),t&2){let e=y();d(),C("ngClass",et(2,P8e,e.isSportsShop()))("evCoreHtml",e.miniLabelWithReplacedText())}}function O8e(t,i){if(t&1){let e=Je();h(0,"i",14),Ee("click",function(){Ne(e);let r=y();return Re(r.openInfoIconModal())})("keydown.space",function(){Ne(e);let r=y();return Re(r.openInfoIconModal())})("keydown.enter",function(r){Ne(e);let o=y();return Re(o.openInfoIconModal(r))}),g()}if(t&2){let e=y();Le("aria-label",e.getInfoLinkAriaLabel())}}function N8e(t,i){if(t&1&&(D(0,"br"),h(1,"span",15),R(2),H(3,"translate"),g()),t&2){let e=y();d(),C("ngClass",Un(4,k8e,!e.isSportsShop(),e.isSportsShop())),d(),ne(" ",j(3,2,e.taxMessage())," ")}}var Die=(()=>{class t{#e=E(KT);#t=E(Sn);#n=E(kn);#i=nn(null);disableTicketInsuranceHighlight=We(!1);amount=We.required();label=We.required();form=We.required();fieldName=We.required();dataQaPrefix=We.required();miniLabel=We("");miniLabelPlaceholder=We("");showVatHint=We(!1);showTaxMessageInsteadOfVat=We(!1);isSportsShop=We(!1);trackingElementName=We("");modalWindowConfiguration=We(null);showOrderApprovalCheckbox=We(!1);taxMessage=sn(()=>this.isSportsShop()?K.CHECKOUT_APP_TOTAL:this.showTaxMessageInsteadOfVat()?K.CHECKOUT_APP_TAX:K.CHECKOUT_APP_VAT);isMobile=sn(()=>this.#i()===qm.ExtraSmall);miniLabelWithReplacedText=sn(()=>this.#t.instant(this.miniLabel()).replace("{0}",`${this.miniLabelPlaceholder()}`));dataQa=sn(()=>`${this.dataQaPrefix()}-card-component`);chosenId=sn(()=>ee.getRandomId(this.fieldName()));constructor(){this.#e.observeBreakpointChanges().pipe(zn()).subscribe(e=>{this.#i.set(e)})}getClickTrackingObject(){let e=this.form().getField(this.fieldName());if(!ce.isObject(e)&&this.fieldName()===ks.ORDER_INSURANCE&&(e=this.form().getForm("orderInsuranceCheckboxForm").getField(ks.ORDER_INSURANCE)),ce.isObject(e)){let n=e.control.value===!0?"unset":"set";return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:`${this.trackingElementName()}_${n}`},ga3ClickTrackingData:this.getGa3TrackingDataObject()}}return null}getFormGroup(){let e;return this.hasFormField(this.form())?e=this.form().control:this.form().subForms.length>0&&this.form().subForms.forEach(n=>{this.hasFormField(n)&&(e=n.control)}),e}openInfoIconModal(e){e&&e.preventDefault(),this.#n.showModal(this.modalWindowConfiguration())}getInfoLinkAriaLabel(){return this.#t.instant(K.CHECKOUT_APP_ADDITIONAL_INFO)}hasFormField(e){return e.fields.some(n=>n.config.fieldName===this.fieldName())}getGa3TrackingDataObject(){let e=null;return this.fieldName()===ks.MEMORY_TICKET?e={action:"memory_ticket_checkbox",label:this.form().getField(this.fieldName()).control.value===!0?"remove_order_based_memory_ticket":"add_order_based_memory_ticket"}:this.fieldName()===ks.ORDER_INSURANCE&&(e={action:"order_insurance_checkbox",value:this.form().getForm("orderInsuranceCheckboxForm").getField(this.fieldName()).control.value===!0?"1":"0"}),e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-checkbox-card"]],inputs:{disableTicketInsuranceHighlight:[1,"disableTicketInsuranceHighlight"],amount:[1,"amount"],label:[1,"label"],form:[1,"form"],fieldName:[1,"fieldName"],dataQaPrefix:[1,"dataQaPrefix"],miniLabel:[1,"miniLabel"],miniLabelPlaceholder:[1,"miniLabelPlaceholder"],showVatHint:[1,"showVatHint"],showTaxMessageInsteadOfVat:[1,"showTaxMessageInsteadOfVat"],isSportsShop:[1,"isSportsShop"],trackingElementName:[1,"trackingElementName"],modalWindowConfiguration:[1,"modalWindowConfiguration"],showOrderApprovalCheckbox:[1,"showOrderApprovalCheckbox"]},standalone:!1,ngContentSelectors:b8e,decls:17,vars:28,consts:[[3,"noContentPadding"],[1,"half","theme-content-bg","theme-element-border",3,"ngClass"],[1,"row"],[1,"col-xs-12","card-box-layout--trine"],["data-qa","checkbox",1,"frontspace",3,"formGroup"],[3,"fieldName","labelHighlighted","evClickTracking","chosenId","isExpandableCheckbox"],[1,"middlespace"],[3,"for"],[3,"ngClass","evCoreHtml"],["tabindex","0","role","button","data-qa","info-insurance-price",1,"icon","icon-info","small-info","small-info-color-override","font-size-xl"],["data-qa","amount",1,"endspace","line-height-xxs",3,"ngClass"],[1,"text-wrap",3,"ngClass"],[1,"hidden-sm","hidden-md","hidden-lg"],[1,"display-inline-block","u-font-weight-600","font-size-s","line-height-xxs",3,"ngClass","evCoreHtml"],["tabindex","0","role","button","data-qa","info-insurance-price",1,"icon","icon-info","small-info","small-info-color-override","font-size-xl",3,"click","keydown.space","keydown.enter"],[1,"font-size-xs","line-height-4xs",3,"ngClass"]],template:function(n,r){n&1&&(lo(),h(0,"ev-pl-card",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4),D(5,"ev-forms-checkbox",5),g(),h(6,"div",6)(7,"label",7),J(8,w8e,2,10,"span",8)(9,D8e,2,4),g(),J(10,O8e,1,1,"i",9),g(),h(11,"div",10)(12,"span",11),R(13),g(),J(14,N8e,4,7),g()()()(),h(15,"section"),Or(16),g()()),n&2&&(C("noContentPadding",!0),Le("data-qa",r.dataQa()),d(),C("ngClass",Ms(17,I8e,r.showVatHint(),!r.disableTicketInsuranceHighlight(),r.disableTicketInsuranceHighlight())),d(3),C("formGroup",r.getFormGroup()),d(),C("fieldName",r.fieldName())("labelHighlighted",!0)("evClickTracking",r.getClickTrackingObject())("chosenId",r.chosenId())("isExpandableCheckbox",r.showOrderApprovalCheckbox()),d(2),C("for",r.chosenId()),d(),$(r.label()?8:-1),d(),$(r.miniLabel()?9:-1),d(),$(r.modalWindowConfiguration()?10:-1),d(),C("ngClass",et(21,S8e,!r.isMobile()&&!r.isSportsShop())),d(),C("ngClass",Hf(23,x8e,!r.isSportsShop(),r.isSportsShop(),r.isSportsShop()&&!r.isMobile(),r.isSportsShop()&&r.isMobile())),d(),ne("",r.amount()," "),d(),$(r.showVatHint()?14:-1))},dependencies:[At,ko,Pn,wn,ho,xt,$n,Se],styles:[".small-info-color-override[_ngcontent-%COMP%], .small-info-color-override[_ngcontent-%COMP%]:hover{color:var(--theme-head-text-color)!important}"]})}return t})();var Oie=(()=>{class t{eventHandler=E(pb);spinnerService=E(Gn);clickTrackingService=E(rr);storageService=E(fn);#e=E(Nv);#t=E(Wm);ga3ClickTrackingData={action:"change.delivery_method",category:"checkout"};set pageJson(e){this.#n=e,this.deliveryMethodItems!==void 0&&(this._updatedMethodByBE=e.deliveryMethods.find(n=>n.id===e.order.deliveryMethod),this.createItems(this._updatedMethodByBE))}get pageJson(){return this.#n}collapseAccordion=null;Message=K;DeliveryMethodType=ui;NotificationType=rn;deliveryMethodItems;showSpinner=!1;preSelectedMethod;selectedAccordionItem;initialPageView=!0;_updatedMethodByBE;_activatedByUser=!1;deliveryMethodIsPreselected=!1;#n=null;ngOnInit(){this.spinnerService.show(),ce.hasProperty(this.pageJson,"deliveryMethods")?(this.checkPreSelection(),this.createItems(this.preSelectedMethod),this.selectedAccordionItem=this.findItemFromList(this.preSelectedMethod),this.eventHandler.emit(F0.DeliveryMethodSelection,this.preSelectedMethod)):this.deliveryMethodItems=[],this.spinnerService.hide()}onSelect(e){(!ce.isObject(this.selectedAccordionItem)||e.returnValue.id!==this.selectedAccordionItem.returnValue.id&&this.pageJson.order.deliveryMethod!==e.returnValue.id)&&(setTimeout(()=>this.spinnerService.show()),e.hasUserActed&&this.#e.customerChoseDeliveryMethod(),this.deliveryMethodUpdateCall(e).subscribe(n=>{this.selectedAccordionItem!==void 0&&(this.preSelectedMethod=this.selectedAccordionItem.returnValue),this.selectedAccordionItem=e,this._activatedByUser=this.selectedAccordionItem.hasUserActed,this.eventHandler.emit(F0.DeliveryMethodSelection,e.returnValue),this.eventHandler.emit(F0.PageJsonUpdate,n),this.spinnerService.hide()},()=>{this.selectedAccordionItem=this.findItemFromList(this.preSelectedMethod),this._activatedByUser=!1,this.spinnerService.hide()}),this.clickTrackingService.trackClick({ga3ClickTrackingData:this.ga3ClickTrackingData})),this.initialPageView&&!(ce.isObject(this.selectedAccordionItem)&&e.returnValue.id===this.selectedAccordionItem.returnValue.id&&e.hasUserActed)&&(this.initialPageView=!1)}hasMethods(){return ce.hasProperty(this.pageJson,"deliveryMethods")&&Dt.isNotEmpty(this.deliveryMethodItems)}isWillCall(e){return e.returnValue.type===ui.WILL_CALL||e.returnValue.type===ui.WILL_CALL_RESERVATION}isMobile(e){return e.returnValue.type===ui.MOBILE}getDeliveryMethodDataQa(e){return ce.hasProperty(e,"returnValue")?`delivery-method_${e.returnValue.type}_${e.returnValue.subType}`:ee.EMPTY_STRING}findItemFromList(e){return this.deliveryMethodItems.find(n=>Number(n.id.split("_")[0])===e.id)}createItems(e){let n=this.pageJson.deliveryMethods;ce.hasProperty(this.pageJson,"customer")&&!ce.isNullable(this.pageJson.customer)&&(n=n.filter(r=>r.availableCountries.length===0||r.availableCountries.indexOf(this.pageJson.customer.country)>-1)),this.deliveryMethodItems=Yl.createAccordionItems(n,e,this.collapseAccordion,this._activatedByUser)}checkPreSelection(){ce.isObject(this.pageJson)&&Dt.isNotEmpty(this.pageJson.deliveryMethods)&&ce.isObject(this.pageJson.order)&&(this.preSelectedMethod=this.pageJson.deliveryMethods.find(e=>this.pageJson.order.deliveryMethod===e.id),ce.isEmpty(this.preSelectedMethod)&&ce.isObject(this.pageJson.deliveryMethods[0])?this.preSelectedMethod=this.pageJson.deliveryMethods[0]:this.deliveryMethodIsPreselected=!0,this.#t.preselectDeliveryMethodForFirstView(this.deliveryMethodIsPreselected,this.storageService.get(ut.CUSTOMER_CHOSEN_DELIVERY_METHOD,!1)))}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{pageJson:"pageJson",collapseAccordion:"collapseAccordion"}})}return t})();var R8e=()=>({category:"checkout",action:"change.delivery_method"}),M8e=t=>({ga3ClickTrackingData:t}),F8e=(t,i)=>i.id;function L8e(t,i){if(t&1&&D(0,"ev-delivery-method-will-call",4),t&2){let e=y().$implicit;C("accordionItem",e)}}function B8e(t,i){if(t&1&&D(0,"ev-delivery-method-will-call",4),t&2){let e=y().$implicit;C("accordionItem",e)}}function U8e(t,i){t&1&&D(0,"ev-mobile-delivery-method")}function $8e(t,i){if(t&1&&(h(0,"div",2)(1,"div",3),J(2,L8e,1,1,"ev-delivery-method-will-call",4)(3,B8e,1,1,"ev-delivery-method-will-call",4)(4,U8e,1,0,"ev-mobile-delivery-method"),g()()),t&2){let e,n=i.$implicit,r=y(2);d(),C("hidden",r.selectedAccordionItem.id!==n.id),d(),$((e=n.returnValue.type)===r.DeliveryMethodType.WILL_CALL?2:e===r.DeliveryMethodType.WILL_CALL_RESERVATION?3:e===r.DeliveryMethodType.MOBILE?4:-1)}}function H8e(t,i){if(t&1){let e=Je();h(0,"div")(1,"ev-pl-card",0)(2,"ev-selection-list",1),H(3,"translate"),Ee("onSelect",function(r){Ne(e);let o=y();return Re(o.onSelect(r))}),ft(4,$8e,5,2,"div",2,F8e),g()()()}if(t&2){let e=y();d(),C("additionalClass","padding-top-m padding-bottom-m"),d(),C("clickTrackingObject",et(12,M8e,ol(11,R8e)))("editButtonText",e.Message.GLOBAL_CHANGE)("evAnchor",e.DeliveryPageAnchor.DeliveryMethod)("getCustomDataQa",e.getDeliveryMethodDataQa)("alwaysExpandList",!e.collapseAccordion&&!e._activatedByUser)("headline",j(3,9,e.Message.CHECKOUT_APP_DELIVERY_BOX_HEADLINE))("iconsByType",e.iconsByType)("items",e.deliveryMethodItems),d(2),ht(e.deliveryMethodItems)}}var Nie=(()=>{class t extends Oie{#e=E(Nv);iconsByType=Yl.getDeliveryMethodIcons();DeliveryPageAnchor=is;deliveryMethodUpdateCall(e){return this.#e.updateDeliveryMethodForOrder(this.pageJson.order.orderNumber,e.returnValue.id)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-selection"]],standalone:!1,features:[dt],decls:1,vars:1,consts:[[3,"additionalClass"],["infoIconTrackingSource","shipping","data-qa","delivery-methods","iconPropertyName","iconClassName",3,"onSelect","clickTrackingObject","editButtonText","evAnchor","getCustomDataQa","alwaysExpandList","headline","iconsByType","items"],["data-qa","content-item",1,"row"],[3,"hidden"],[3,"accordionItem"]],template:function(n,r){n&1&&J(0,H8e,6,14,"div"),n&2&&$(r.hasMethods()?0:-1)},dependencies:[sh,$n,_A,bA,eu,Se],encapsulation:2})}return t})();var Rie=(()=>{class t{orderService=E(yi);spinnerService=E(Gn);logService=E(bt);Message=K;donationConfig;donationForm=new vn("donationForm");isSportsShop;set orderJson(e){this._orderJson=e,this.checkboxFormField!==void 0&&(this.setValueByJson=!0,this.setCheckboxValue())}get orderJson(){return this._orderJson}checkboxFormField;checkboxSubscription;_orderJson;setValueByJson=!1;ngOnInit(){this.AddCheckboxFormField(),this.observeCheckboxValueChange()}ngOnDestroy(){this.checkboxSubscription!==void 0&&this.checkboxSubscription.unsubscribe()}AddCheckboxFormField(){this.checkboxFormField=new Gt({fieldName:ks.DONATION,type:Mt.Checkbox,mandatory:!1,value:ee.isNotEmpty(this.orderJson.donationAmount)}),this.donationForm.set(this.checkboxFormField)}handleCheckboxChange(e){this.orderService.updateDonation(e,this.donationConfig.donationId).catch(()=>{this.logService.trace(new Error(`Selection with id ${this.donationConfig.donationId} failed!`),"Donation"),this.checkboxFormField.control.setValue(!1,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})}setCheckboxValue(){this.checkboxFormField.control.setValue(ee.isNotEmpty(this.orderJson.donationAmount))}observeCheckboxValueChange(){this.checkboxSubscription=this.checkboxFormField.control.valueChanges.subscribe(e=>{this.setValueByJson||(this.spinnerService.show(),this.handleCheckboxChange(e)),this.setValueByJson=!1})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-donation"]],inputs:{donationConfig:"donationConfig",donationForm:"donationForm",isSportsShop:"isSportsShop",orderJson:"orderJson"},standalone:!1,decls:1,vars:5,consts:[[3,"imagePath","headline","description","dataQaPrefix","isSportsShop"]],template:function(n,r){n&1&&D(0,"ev-additional-products-content",0),n&2&&C("imagePath",r.donationConfig.imagePath)("headline",r.donationConfig.displayName)("description",r.donationConfig.description)("dataQaPrefix","donation")("isSportsShop",r.isSportsShop)},dependencies:[I3],encapsulation:2})}return t})();var V8e=(t,i)=>({"col-xs-10":t,"col-xs-12":i}),j8e=(t,i)=>({"col-xs-9":t,"col-xs-12":i});function G8e(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",1),g()),t&2){let e=y(2);C("type",e.NotificationType.Warning),d(),C("evCoreHtml",e.warning)}}function K8e(t,i){if(t&1&&D(0,"div",3),t&2){let e=y(3);C("evCoreHtml",e.introductionText)}}function q8e(t,i){if(t&1&&(h(0,"div",8)(1,"div",15),D(2,"img",16),g()()),t&2){let e=y(3);d(2),C("src",e.imagePath,un)}}function W8e(t,i){if(t&1&&(h(0,"h4",10),R(1),g()),t&2){let e=y(3);d(),ne(" ",e.eventName," ")}}function z8e(t,i){if(t&1&&D(0,"div",11),t&2){let e=y(3);C("evCoreHtml",e.infoText)}}function Y8e(t,i){if(t&1){let e=Je();h(0,"a",17),Ee("click",function(r){Ne(e);let o=y(3);return Re(o.showModal(r))}),R(1),g()}if(t&2){let e=y(3);d(),ne(" ",e.modalTitle," ")}}function J8e(t,i){if(t&1&&(h(0,"div",14),R(1),g()),t&2){let e=y(3);d(),ne(" ",e.priceText," ")}}function X8e(t,i){if(t&1&&(h(0,"ev-pl-card")(1,"section",2),J(2,K8e,1,1,"div",3),h(3,"div",4)(4,"div",5)(5,"ev-forms-checkbox",6)(6,"div",7),J(7,q8e,3,1,"div",8),h(8,"div",9),J(9,W8e,2,1,"h4",10)(10,z8e,1,1,"div",11)(11,Y8e,2,1,"a",12),g()()(),D(12,"ev-forms-field-error",13),g(),J(13,J8e,2,1,"div",14),g()()()),t&2){let e=y(2);d(2),$(e.introductionText?2:-1),d(2),C("ngClass",Un(12,V8e,e.priceText,!e.priceText))("formGroup",e.parentForm.control),d(),C("fieldName",e.field.name)("value",e.field.control.value),d(2),$(e.imagePath?7:-1),d(),C("ngClass",Un(15,j8e,e.imagePath,!e.imagePath)),d(),$(e.eventName?9:-1),d(),$(e.infoText?10:-1),d(),$(e.modalTitle?11:-1),d(),C("field",e.field),d(),$(e.priceText?13:-1)}}function Q8e(t,i){if(t&1&&J(0,G8e,2,2,"ev-notification",0)(1,X8e,14,18,"ev-pl-card"),t&2){let e=y();$(e.warning?0:-1),d(),$(e.field?1:-1)}}var Mie=(()=>{class t{orderService=E(yi);modalWindowService=E(kn);markdownTranslationService=E(Ou);membershipFieldName="membership-card";Message=K;NotificationType=rn;field;warning;introductionText;imagePath;eventName;infoText;modalTitle;modalLegalText;priceText;parentForm;clubMembershipJson;affiliateJson;subscriptions=[];ngOnChanges(e){e.clubMembershipJson!==void 0&&(this.updateCard(),this.updateField())}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.parentForm.remove(this.membershipFieldName),this.field=null}showModal(e){Ls.stopBubbling(e);let n=new Dn(co.buildHtml(this.modalLegalText)).enableCloseButton().setWidth(er.MEDIUM).enableTitle(this.modalTitle).enableDismissable();this.modalWindowService.showModal(n)}updateCard(){if(this.clubMembershipJson){if(this.warning=this.clubMembershipJson.warning??ee.EMPTY_STRING,this.introductionText=this.parseMarkdown(this.clubMembershipJson.introductionInfo,Aa.MEMBERSHIP_CARD),this.imagePath=dl.getEventImageSrc(this.clubMembershipJson.imageType,this.clubMembershipJson.imagePath,this.affiliateJson),this.eventName=this.clubMembershipJson.eventName,ee.isNotEmpty(this.clubMembershipJson.membershipInfo)){let e=this.clubMembershipJson.membershipInfo.indexOf("["),n=this.clubMembershipJson.membershipInfo.indexOf("]");this.infoText=this.parseMarkdown(this.clubMembershipJson.membershipInfo.substring(0,e).trim(),Aa.MEMBERSHIP_CARD),this.modalTitle=this.clubMembershipJson.membershipInfo.substring(e+1,n),this.modalLegalText=this.parseMarkdown(this.clubMembershipJson.legalInfo,Aa.MODAL)}else this.infoText=ee.EMPTY_STRING,this.modalTitle=ee.EMPTY_STRING,this.modalLegalText=ee.EMPTY_STRING;this.priceText=this.clubMembershipJson.priceFormated}else this.warning=ee.EMPTY_STRING,this.introductionText=ee.EMPTY_STRING,this.imagePath=ee.EMPTY_STRING,this.eventName=ee.EMPTY_STRING,this.infoText=ee.EMPTY_STRING,this.modalTitle=ee.EMPTY_STRING,this.modalLegalText=ee.EMPTY_STRING,this.priceText=ee.EMPTY_STRING}parseMarkdown(e,n){return ee.isNotEmpty(e)?this.markdownTranslationService.translateMarkdown(e,n):ee.EMPTY_STRING}updateField(){if(this.clubMembershipJson&&ce.hasProperty(this.clubMembershipJson,"eventId")&&ce.hasProperty(this.clubMembershipJson,"priceCategoryId"))if(ce.isObject(this.field)){this.field.mandatory=this.clubMembershipJson.mandatory||!1;let e=this.orderService.isMembershipInCart();this.field.control.value!==e&&this.field.control.setValue(e,{emitEvent:!1})}else this.field=new Gt({fieldName:this.membershipFieldName,type:Mt.Checkbox,mandatory:this.clubMembershipJson.mandatory||!1,value:this.orderService.isMembershipInCart()},[new ir(K.CHECKOUT_APP_CLUB_MEMBERSHIP_REQUIRED)]),this.parentForm.set(this.field),this.subscriptions.push(this.field.control.valueChanges.subscribe(e=>this.orderService.updateMembership(e,this.clubMembershipJson)));else this.ngOnDestroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-membership-card"]],inputs:{parentForm:"parentForm",clubMembershipJson:"clubMembershipJson",affiliateJson:"affiliateJson"},standalone:!1,features:[Ha],decls:1,vars:1,consts:[[3,"type"],["data-qa","club-membership-warning",3,"evCoreHtml"],["data-qa","club-membership-card",1,"margin-bottom"],[1,"row","media","margin-bottom-s",3,"evCoreHtml"],[1,"row"],[3,"ngClass","formGroup"],[3,"fieldName","value"],[1,"col-xs-12","no-padding-left"],[1,"col-xs-3","media-left","ticket-image","no-padding-left"],[3,"ngClass"],[1,"media-heading","theme-headline-color","no-margin"],[1,"no-margin-bottom",3,"evCoreHtml"],[1,"link"],[3,"field"],[1,"col-xs-2","text-right"],[1,"square-image"],["alt","",1,"fluid-image",2,"border","0",3,"src"],[1,"link",3,"click"]],template:function(n,r){n&1&&J(0,Q8e,2,2),n&2&&$(r.clubMembershipJson?0:-1)},dependencies:[At,mr,ko,Pn,wn,xt,$n,On],encapsulation:2})}return t})();var Fie=(()=>{class t{orderService=E(yi);spinnerService=E(Gn);logService=E(bt);memoryTicketConfig;memoryTicketForm=new vn("memoryTicketForm");isSportsShop;set orderJson(e){this._orderJson=e,this.checkboxFormField!==void 0&&this.setCheckboxValue(!1)}get orderJson(){return this._orderJson}checkboxFormField;checkboxSubscription;_orderJson;ngOnInit(){this.addCheckboxFormField(),this.observeCheckboxValueChange()}ngOnDestroy(){this.checkboxSubscription!==void 0&&this.checkboxSubscription.unsubscribe()}addCheckboxFormField(){this.checkboxFormField=new Gt({fieldName:ks.MEMORY_TICKET,type:Mt.Checkbox,mandatory:!1,value:this.orderJson.memoryTicketFee?.count>0}),this.memoryTicketForm.set(this.checkboxFormField)}handleCheckboxChange(e){this.spinnerService.show(),this.orderService.updateMemoryTicket(e,this.orderJson.orderNumber).catch(()=>{this.logService.trace(new Error("Request failed!"),"Memory Ticket"),this.checkboxFormField.control.setValue(!1,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})}setCheckboxValue(e=!0){this.checkboxFormField.control.setValue(this.orderJson.memoryTicketFee?.count>0,{emitEvent:e})}observeCheckboxValueChange(){this.checkboxSubscription=this.checkboxFormField.control.valueChanges.subscribe(e=>{this.handleCheckboxChange(e)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-memory-ticket"]],inputs:{memoryTicketConfig:"memoryTicketConfig",memoryTicketForm:"memoryTicketForm",isSportsShop:"isSportsShop",orderJson:"orderJson"},standalone:!1,decls:1,vars:4,consts:[[3,"imagePath","description","dataQaPrefix","isSportsShop"]],template:function(n,r){n&1&&D(0,"ev-additional-products-content",0),n&2&&C("imagePath",r.memoryTicketConfig.imagePath)("description",r.memoryTicketConfig.description)("dataQaPrefix","memory-ticket")("isSportsShop",r.isSportsShop)},dependencies:[I3],encapsulation:2})}return t})();var Z8e=(t,i)=>({"insurance-checkbox-unchecked":t,"p-font-size-s-m":i}),eUe=(t,i)=>({middlespace:t,row:i}),tUe=(t,i)=>({"col-sm-9":t,"col-xs-12":i}),nUe=t=>({"col-sm-3 col-xs-12 media-image margin-bottom-m":t}),iUe=(t,i)=>({"fluid-image":t,"margin-bottom-s":i}),rUe=t=>({"ticket-insurance-advertising-wrapper":t}),oUe=(t,i)=>({"margin-top-s":t,"default-paragraph":i});function aUe(t,i){if(t&1&&(h(0,"div",3),D(1,"img",8),g()),t&2){let e=y();C("ngClass",et(3,nUe,!e.isSportsShop())),d(),C("ngClass",Un(5,iUe,!e.isSportsShop(),e.isSportsShop()))("src",e.insuranceLogoPath(),un)}}function sUe(t,i){if(t&1&&(h(0,"span",9),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE)," ")}}function lUe(t,i){if(t&1&&(h(0,"h3",10),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),ne(" ",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE)," ")}}function cUe(t,i){if(t&1&&J(0,sUe,3,3,"span",9)(1,lUe,3,3,"h3",10),t&2){let e=y();$(e.isSportsShop()?0:1)}}function dUe(t,i){if(t&1&&(D(0,"div",4),H(1,"translate")),t&2){let e=y();C("evCoreHtml",j(1,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_TEXT))}}function uUe(t,i){if(t&1&&D(0,"img",12),t&2){let e=y(2);C("src",e.insuranceLogoPath(),un)}}function pUe(t,i){if(t&1){let e=Je();h(0,"p",5)(1,"button",11),Ee("click",function(r){Ne(e);let o=y();return Re(o.showModal(r))}),R(2),H(3,"translate"),g(),J(4,uUe,1,1,"img",12),g()}if(t&2){let e=y();C("ngClass",et(5,rUe,e.insuranceLogoPath()!==null&&e.isLogoShownTopLeft())),d(2),ne(" ",j(3,3,e.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_INFO_LINK)," "),d(2),$(e.insuranceLogoPath()!==null&&e.isLogoShownBottomRight()?4:-1)}}function mUe(t,i){if(t&1&&(D(0,"p",6),H(1,"evReplaceMessagePlaceholder")),t&2){let e=y();C("ngClass",Un(5,oUe,e.isSportsShop(),!e.isSportsShop()))("evCoreHtml",Qr(1,2,e.conditionsHtmlContent(),e.replacementArray()))}}function fUe(t,i){if(t&1&&(h(0,"div",18)(1,"ev-toggle",20),D(2,"div",21),g()()),t&2){let e=y(2);d(),C("expanded",!1)("showDetailsTitle",e.Message.CHECKOUT_APP_MORE_INFORMATION),d(),C("evCoreHtml",e.additionalCheckboxSubtext())}}function hUe(t,i){if(t&1&&(h(0,"div",19),D(1,"span",22),H(2,"translate"),g()),t&2){let e=y(2);d(),C("evCoreHtml",j(2,1,e.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_ERROR))}}function gUe(t,i){if(t&1&&(h(0,"div",7)(1,"div",13)(2,"div",14)(3,"ev-forms-field"),D(4,"ev-forms-checkbox",15),g()()(),h(5,"div",16),D(6,"label",17),H(7,"translate"),J(8,fUe,3,3,"div",18)(9,hUe,3,3,"div",19),g()()),t&2){let e=y();d(4),C("fieldName",e.insuranceApprovalCheckbox().name)("value",!0)("evClickTracking",e.getClickTrackingObject())("chosenId",e.getInsuranceApprovalCheckboxId(e.insuranceApprovalCheckbox().name)),d(2),C("for",e.getInsuranceApprovalCheckboxId(e.insuranceApprovalCheckbox().name))("evCoreHtml",j(7,8,e.Message.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_LABEL)),d(2),$(e.additionalCheckboxSubtext()!==""?8:-1),d(),$(e.approvalIsInvalid()?9:-1)}}var Lie=(()=>{class t extends ub{showOrderApprovalCheckbox=sn(()=>this.order()?.additionalInsuranceCheckbox);#e=E(tr);#t="INSURANCE_FROM_SUMMARY";Message=K;formName="orderInsuranceCheckboxForm";checkBoxFormFieldName=ks.ORDER_INSURANCE;#n="orderInsuranceApproval";#i=!1;ngOnInit(){super.ngOnInit(),this.createForm(!0),this.observeCheckbox()}showModal(e){Ls.stopBubbling(e);let n=new Dn(co.buildAsyncHtml(an(this.getConditionsContent()))).enableCloseButton(K.GLOBAL_BUTTON_CLOSE).enableTitle(K.CHECKOUT_APP_TICKET_INSURANCE_INFOPOPUP_TITLE);this.modalWindowService.showModal(n)}getClickTrackingObject(){let e=this.insuranceApprovalCheckbox()?.control.value===!0?"unset":"set";return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:`additional_order_insurance_checkbox_${e}`},ga3ClickTrackingData:{action:"ticket_insurance_checkbox",value:this.insuranceCheckbox().control.value===!0?"1":"0"}}}approvalIsInvalid(){let e=this.insuranceForm().control.controls[this.#n];return e.invalid&&e.touched}addApprovalCheckbox(){this.showOrderApprovalCheckbox()&&!this.insuranceForm()?.hasField(this.#n)&&(this.insuranceApprovalCheckbox.set(new Gt({fieldName:this.#n,type:Mt.Checkbox,mandatory:this.#i,value:this.#i})),this.insuranceForm().set(this.insuranceApprovalCheckbox()),this.observeAdditionalCheckbox(),this.additionalCheckboxSubtext.set(this.translateService.instant(K.CHECKOUT_APP_TICKET_INSURANCE_OPTIN_SUBTEXT_EXPANDED).trim()))}observeCheckbox(){this.insuranceCheckbox()?.control.valueChanges.pipe(zn(this.destroyRef),Pd(()=>(this.#e.sessionStorage.removeItem(this.#t),this.showOrderApprovalCheckbox()?Promise.resolve():this.storeTicketInsuranceState(this.insuranceCheckbox()?.control.value,!1)))).subscribe(e=>{this.showOrderApprovalCheckbox()?(this.insuranceApprovalCheckbox().control.setValue(!1),this.insuranceApprovalCheckbox().mandatory=e):(this.spinnerService.show(),this.orderService.updateTicketInsurance(e,this.order(),this.event()).catch(()=>{this.logService.trace(new Error("Selection failed!"),"Ticket Insurance"),this.insuranceCheckbox()?.control.setValue(this.event()?.priceCategory.ticketInsuranceFeeInt>0,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()}))})}observeAdditionalCheckbox(){this.insuranceApprovalCheckbox().control.valueChanges.pipe(zn(this.destroyRef),Pd(()=>(this.#e.sessionStorage.removeItem(this.#t),this.storeTicketInsuranceState(this.insuranceApprovalCheckbox().control.value,!1)))).subscribe(e=>{this.spinnerService.show(),this.orderService.updateTicketInsurance(e,this.order(),this.event(),this.insuranceApprovalCheckbox().control.value).catch(()=>{this.logService.trace(new Error("Selection failed!"),"Ticket Insurance"),this.insuranceApprovalCheckbox().control.setValue(!1,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-order-insurance"]],standalone:!1,features:[dt],decls:10,vars:19,consts:[[3,"formGroup"],["data-qa","ticket-insurance",1,"ticket-insurance","margin-bottom-m","theme-content-bg","theme-element-border",3,"ngClass"],["data-qa","ticket-insurance-advertising",1,"ticket-insurance-advertising",3,"ngClass"],[3,"ngClass"],[3,"evCoreHtml"],[1,"default-paragraph","test",3,"ngClass"],["data-qa","conditions-content",1,"theme-text-color",3,"ngClass","evCoreHtml"],[1,"row","additional-order-insurance-checkbox"],["alt","",1,"ticket-insurance-logo","top-left",3,"ngClass","src"],[1,"u-font-weight-bold","theme-text-light-color"],[1,"card-headline","u-font-weight-500","margin-top-xs","margin-bottom-s","theme-text-light-color","no-margin-top"],["type","button","data-qa","info-link",1,"ticket-insurance-advertising-link","btn","btn-link","link","ng-binding",3,"click"],["alt","",1,"ticket-insurance-logo","float-right",3,"src"],["data-qa","ticket-insurance-optin",1,"col-xs-3","additional-checkbox-wrapper","main-ticket-card-emphasized-info","margin-top-l"],[1,"additional-checkbox"],[3,"fieldName","value","evClickTracking","chosenId"],[1,"col-xs-9","additional-insurance-checkbox-text","margin-top-l"],[1,"theme-text-color","label",3,"for","evCoreHtml"],[1,"hide-show-button","theme-text-light-color"],["role","alert",1,"error","margin-top-xs"],["data-qa","more-information",3,"expanded","showDetailsTitle"],["data-qa","subtext",3,"evCoreHtml"],["data-qa","order-insurance-optin-error",1,"error-text",3,"evCoreHtml"]],template:function(n,r){if(n&1&&(h(0,"form",0)(1,"div",1)(2,"div",2),J(3,aUe,2,8,"div",3),h(4,"div",3),J(5,cUe,2,1)(6,dUe,2,3,"div",4)(7,pUe,5,7,"p",5)(8,mUe,2,8,"p",6),g()(),J(9,gUe,10,10,"div",7),g()()),n&2){let o,s;C("formGroup",r.insuranceForm().control),Le("data-qa",r.insuranceForm().name),d(),C("ngClass",Un(10,Z8e,!((o=r.insuranceCheckbox())!=null&&o.control.value)&&r.showOrderApprovalCheckbox(),r.isSportsShop())),d(),C("ngClass",Un(13,eUe,r.isSportsShop(),!r.isSportsShop())),d(),$(r.insuranceLogoPath()!==null&&r.isLogoShownTopLeft()?3:-1),d(),C("ngClass",Un(16,tUe,r.insuranceLogoPath()!==null&&r.isLogoShownTopLeft()&&!r.isSportsShop(),!r.isSportsShop())),d(),$(r.messageIsSetupOrFilled(r.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_HEADLINE)?5:-1),d(),$(r.messageIsSetupOrFilled(r.Message.CHECKOUT_APP_TICKET_INSURANCE_ADVERTISING_TEXT)?6:-1),d(),$(r.ticketInsuranceConditionsPopup()?7:8),d(2),$((s=r.insuranceCheckbox())!=null&&s.control.value&&r.showOrderApprovalCheckbox()?9:-1)}},dependencies:[At,Ai,ko,xi,Pn,wn,ho,xt,go,Se,ns],styles:[".additional-order-insurance-checkbox[_ngcontent-%COMP%]   .additional-checkbox-wrapper[_ngcontent-%COMP%]{max-width:112px}.additional-order-insurance-checkbox[_ngcontent-%COMP%]   .additional-checkbox-wrapper[_ngcontent-%COMP%]   .additional-checkbox[_ngcontent-%COMP%]{max-width:14px;float:right}"]})}return t})();var Bie=(()=>{class t extends cr{setGiftWrap(e,n,r){return this.webshopApi.post(`/giftWrap/order/${e}/position/${n}/giftWrap/${r}`)}removeGiftWrap(e,n){return this.webshopApi.delete(`/giftWrap/order/${e}/position/${n}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var x3=(()=>{class t{resource=E(Bie);orderService=E(yi);select(e,n,r){return this.resource.setGiftWrap(e,n,r).pipe(An(this.updateOrder.bind(this)))}remove(e,n){return this.resource.removeGiftWrap(e,n).pipe(An(this.updateOrder.bind(this)))}updateOrder(e){this.orderService.updateOrder(e)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vUe=(t,i)=>i.id;function _Ue(t,i){if(t&1){let e=Je();h(0,"img",2),Ee("click",function(){let r=Ne(e).$implicit,o=y();return Re(o.selectOption(r.id))})("keyup.enter",function(){let r=Ne(e).$implicit,o=y();return Re(o.selectOption(r.id))}),g()}if(t&2){let e=i.$implicit,n=y();C("src",n.imagePath+e.imagePath,un),Le("alt",e.name)}}var Uie=(()=>{class t extends Gi{service=E(x3);changeDetectorRef=E(nr);log=E(bt);clickTracking=E(rr);NotificationType=rn;orderNumber;event;imagePath="";ngAfterViewInit(){this.showSpinner.emit(!1)}selectOption(e){this.showSpinner.emit(!0),this.changeDetectorRef.detectChanges(),$a(this.service.select(this.orderNumber,this.event.priceCategory.orderPositionId,e)).then(()=>{this.log.trace(new Error("Gift-wrap selected, close modal"),"GiftWrapListing"),this.clickTracking.trackClick({ga3ClickTrackingData:{category:"checkout",action:"gift_wrap_layer",label:`selected_gift_wrap_\`${e}\``}}),this.closeModal.emit()}).catch(()=>{this.log.debug(new Error("Failed to select gift-wrap"),"GiftWrapListing")}).finally(()=>{this.showSpinner.emit(!1)})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gift-wrap-listing"]],inputs:{orderNumber:"orderNumber",event:"event",imagePath:"imagePath"},standalone:!1,features:[dt],decls:3,vars:0,consts:[["data-qa","gift-wrap-listing",1,"gift-wrap-options-list"],["tabindex","0","data-qa","selectable-option",1,"option","theme-element-radius",3,"src"],["tabindex","0","data-qa","selectable-option",1,"option","theme-element-radius",3,"click","keyup.enter","src"]],template:function(n,r){n&1&&(h(0,"div",0),ft(1,_Ue,1,2,"img",1,vUe),g()),n&2&&(d(),ht(r.event.giftWrap.options))},encapsulation:2,changeDetection:0})}return t})();var $ie=(()=>{class t extends Gi{changeDetectorRef=E(nr);NotificationType=rn;Message=K;set image(e){this.showError=!1,this._image=e,this.changeDetectorRef.detectChanges()}get image(){return this._image}set name(e){this._name=e,this.changeDetectorRef.detectChanges()}get name(){return this._name}showError=!1;_image;_name;ngAfterViewInit(){this.showSpinner.emit(!1)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-gift-wrap-zoom"]],inputs:{image:"image",name:"name"},standalone:!1,features:[dt],decls:5,vars:9,consts:[["data-qa","gift-wrap-zoom",3,"error","src"],[3,"visible","type"],["data-qa","gift-wrap-img-load-error"]],template:function(n,r){n&1&&(h(0,"img",0),Ee("error",function(){return r.showError=!0}),g(),h(1,"ev-notification",1)(2,"span",2),R(3),H(4,"translate"),g()()),n&2&&(Io("width","100%"),C("src",r.image,un),Le("alt",r.name),d(),C("visible",r.showError)("type",r.NotificationType.Danger),d(2),Ae(j(4,7,r.Message.CHECKOUT_APP_GIFT_WRAP_LOADING_ERROR)))},dependencies:[On,Se],encapsulation:2,changeDetection:0})}return t})();var CUe=t=>({"hide-zoom-icon":t}),yUe=t=>({selected:t}),EUe=()=>({category:"checkout",action:"gift_wrap_layer",label:"open_layer"}),TUe=t=>({ga3ClickTrackingData:t});function bUe(t,i){if(t&1&&(D(0,"span",11),H(1,"translate"),H(2,"evReplaceMessagePlaceholder")),t&2){let e=y(2);C("evCoreHtml",Qr(2,3,j(1,1,e.Message.CHECKOUT_APP_GIFT_WRAP_NUMBER_OF_OPTIONS),e.getReplacementText(e.event.giftWrap.options.length)))}}function IUe(t,i){if(t&1){let e=Je();h(0,"div",16),Ee("click",function(){Ne(e);let r=y(2);return Re(r.zoomSelection(r.activeGiftWrapImage))}),h(1,"img",17),Ee("load",function(){Ne(e);let r=y(2);return Re(r.hideZoomIcon=!1)})("error",function(){Ne(e);let r=y(2);return Re(r.hideZoomIcon=!0)}),g()()}if(t&2){let e=y(2);C("ngClass",et(4,CUe,e.hideZoomIcon)),d(),C("ngClass",et(6,yUe,e.selectedGiftWrap!==null))("src",e.imagePath+e.activeGiftWrapImage.imagePath,un),Le("alt",e.activeGiftWrapImage.name)}}function SUe(t,i){if(t&1){let e=Je();h(0,"div",13)(1,"button",18),Ee("click",function(){Ne(e);let r=y(2);return Re(r.openGiftWrapListing())}),R(2),H(3,"translate"),g()()}if(t&2){let e=y(2);d(),C("evClickTracking",et(5,TUe,ol(4,EUe))),d(),ne(" ",j(3,2,e.Message.CHECKOUT_APP_GIFT_WRAP_SHOW_ALL)," ")}}function xUe(t,i){if(t&1&&(h(0,"section",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"ev-forms-field",4)(5,"div",5),D(6,"input",6)(7,"label",7),g()()(),h(8,"div",8)(9,"label",9),D(10,"i",10),R(11),H(12,"translate"),J(13,bUe,3,6,"span",11),g(),J(14,IUe,2,8,"div",12)(15,SUe,4,7,"div",13),g(),h(16,"div",14)(17,"span",15),R(18),g()()()()()),t&2){let e=y();d(3),C("formGroup",e.form.control),d(2),Le("data-qa","checkbox-"+e.checkbox.config.fieldName),d(),C("formControlName",e.checkbox.config.fieldName)("value",!0)("disabled",e.waitForRequest),Le("id",e.checkbox.config.fieldName),d(),Le("for",e.checkbox.config.fieldName),d(2),Le("for",e.checkbox.config.fieldName),d(2),ne(" ",j(12,13,e.Message.CHECKOUT_APP_SHOPPING_CART_GIFT_WRAPPING)," "),d(2),$(e.hasMultipleGiftWrapOptions?13:-1),d(),$(e.activeGiftWrapImage!==null?14:-1),d(),$(e.hasMultipleGiftWrapOptions?15:-1),d(3),ne(" ",e.event.priceCategory.giftWrapAmount," ")}}var Hie=(()=>{class t{service=E(x3);modalWindow=E(kn);log=E(bt);checkboxDebounce=500;clickTracking=E(rr);imagePath;orderNumber;set event(e){this._event=e,this.isGiftWrapAvailable=e.giftWrap!==void 0&&Dt.isNotEmpty(e.giftWrap?.options),this.log?.trace(new Error(`${this.isGiftWrapAvailable?"Render":"Hide"} component`),"GiftWrapSelection"),this.checkbox?.control.setValue(this.selectedGiftWrap!==null,{onlySelf:!0,emitEvent:!1}),this.log?.trace(new Error(`giftWrap ${this.selectedGiftWrap!==null?"":"not"} selected`),"GiftWrapSelection")}get event(){return this._event}get hasMultipleGiftWrapOptions(){return this.event.giftWrap.options.length>1}get selectedGiftWrap(){return Dt.isNotEmpty(this.event?.giftWrap?.options)&&this.event?.giftWrap?.options.find(e=>e.id===this.event?.giftWrap?.selectedGiftWrap)||null}get activeGiftWrapImage(){return this.selectedGiftWrap!==null?this.selectedGiftWrap:this.event.giftWrap.options.length===1?this.event.giftWrap.options[0]:null}form=new vn("giftWrap");checkbox;isGiftWrapAvailable;waitForRequest=!1;hideZoomIcon=!1;_event;_subscriptions=[];Message=K;ngOnInit(){this.log?.trace(new Error("Initialize component"),"GiftWrapSelection"),this.initForm(),this.onCheckboxValueChange()}zoomSelection(e){this.log?.trace(new Error("Show selected gift-wrap option"),"GiftWrapSelection");let n=new Dn({component:$ie,inputs:[{inputName:"image",value:this.imagePath+e.imagePath},{inputName:"name",value:e.name}]});n.enableCloseButton().enableDismissable().setWidth(er.MEDIUM),this.modalWindow.showModal(n)}initForm(){this.checkbox=new Gt({fieldName:ee.getRandomId("giftWrapCheckbox"),type:Mt.Checkbox,mandatory:!1,value:this.event?.giftWrap?.giftWrapSelected||!1}),this.form.set(this.checkbox)}onCheckboxValueChange(){this._subscriptions.push(this.checkbox.control.valueChanges.pipe(Pd(()=>yu(this.checkboxDebounce))).subscribe(e=>{if(e){let n=this.activeGiftWrapImage;n===null?(this.openGiftWrapListing(),this.clickTracking.trackClick({ga3ClickTrackingData:{category:"checkout",action:"gift_wrap_layer",label:"open_layer"}})):(this.waitForRequest=!0,$a(this.service.select(this.orderNumber,this.event.priceCategory.orderPositionId,n?.id)).finally(()=>{this.waitForRequest=!1}))}else this.log?.trace(new Error("Delete selected gift-wrap option"),"GiftWrapSelection"),this.waitForRequest=!0,$a(this.service.remove(this.orderNumber,this.event.priceCategory.orderPositionId)).finally(()=>{this.waitForRequest=!1})}))}openGiftWrapListing(){this.log?.trace(new Error("Open list of gift-wrap options"),"GiftWrapSelection");let e=new Dn({component:Uie,inputs:[{inputName:"orderNumber",value:this.orderNumber},{inputName:"event",value:this.event},{inputName:"imagePath",value:this.imagePath}]});e.enableCloseButton(K.GLOBAL_BUTTON_CLOSE,()=>(this.selectedGiftWrap||this.checkbox.control.setValue(!1,{onlySelf:!0,emitEvent:!1}),this.clickTracking.trackClick({ga3ClickTrackingData:{category:"checkout",action:"gift_wrap_layer",label:"close_layer"}}),!0)).enableDismissable().enableTitle(K.CHECKOUT_APP_GIFT_WRAP_TITLE).setWidth(er.MEDIUM),this.modalWindow.showModal(e)}getReplacementText(e){return[{placeholder:"{0}",replacementValue:e}]}ngOnDestroy(){this._subscriptions.forEach(e=>e.unsubscribe()),this.form.destroy()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gift-wrap-selection"]],inputs:{imagePath:"imagePath",orderNumber:"orderNumber",event:"event"},standalone:!1,decls:1,vars:1,consts:[["data-qa","gift-wrap-selection",1,"col-xs-12","card-section","theme-element-border","gift-wrap-selection"],[1,"row"],[1,"col-xs-12","main-ticket-card-grid"],[1,"frontspace",3,"formGroup"],["data-qa","giftWrapToggle"],[1,"styled-checkbox","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","checkbox","evFormsCheckboxOnEnter","","data-qa","option",1,"checkbox-input",3,"formControlName","value","disabled"],[1,"label"],[1,"middlespace"],["data-qa","checkbox-label",1,"theme-text-color","label","main-ticket-card-emphasized-info"],[1,"icon","icon-gift2","icon-image-gift"],[1,"label-secondary",3,"evCoreHtml"],[1,"gift-wrap-selection-container",3,"ngClass"],[1,"margin-top-s"],[1,"main-ticket-card-emphasized-info","main-ticket-card-price","endspace"],["data-qa","amount"],[1,"gift-wrap-selection-container",3,"click","ngClass"],["data-qa","selected-motif",1,"option","theme-element-radius",3,"load","error","ngClass","src"],["type","button","data-qa","show-all",1,"btn","btn-link","endspace",3,"click","evClickTracking"]],template:function(n,r){n&1&&J(0,xUe,19,15,"section",0),n&2&&$(r.isGiftWrapAvailable?0:-1)},dependencies:[At,Ai,cA,xi,ZC,Rr,Pn,wn,_o,ho,xt,Se,ns],encapsulation:2})}return t})();function AUe(t,i){if(t&1&&(h(0,"div",4)(1,"ev-forms-field",10),D(2,"ev-forms-checkbox",11),g()()),t&2){let e=y();d(2),C("fieldName","memoryTicket")("value",!0)("evClickTracking",e.getClickTrackingObject())("chosenId",e.getMemoryTicketCheckboxId(e.memoryTicketCheckbox.name))}}function PUe(t,i){if(t&1&&D(0,"span",7),t&2){let e=y();C("evCoreHtml",e.getTranslatedShortDescription())}}function kUe(t,i){if(t&1&&D(0,"div",9),t&2){let e=y();C("evCoreHtml",e.getTranslatedDescription())}}var Vie=(()=>{class t{orderService=E(yi);spinnerService=E(Gn);#e=E(bt);#t=E(Ou);#n=E(Oi);Message=K;orderNumber=We.required();eventJson=We.required();memoryTicketConfig=We.required();parentForm=We.required();showTopSeparator=We(!1);memoryTicketCheckbox;#i;ngOnChanges(e){e.eventJson!==void 0&&this.updateField()}ngOnDestroy(){this.parentForm().destroy(),this.memoryTicketCheckbox=null}updateField(){this.memoryTicketConfig()&&ce.hasProperty(this.memoryTicketConfig(),"orderPositionId")?ce.isObject(this.memoryTicketCheckbox)?this.memoryTicketCheckbox.control.setValue(this.hasMemoryTicketFee(),{emitEvent:!1}):(this.memoryTicketCheckbox=new Gt({fieldName:ks.MEMORY_TICKET,type:Mt.Checkbox,mandatory:this.memoryTicketConfig().mandatory,value:this.memoryTicketConfig().mandatory||this.hasMemoryTicketFee()?!0:null,disabled:this.memoryTicketConfig().mandatory?!0:null}),this.memoryTicketConfig().mandatory&&this.memoryTicketCheckbox.disable(),this.parentForm().set(this.memoryTicketCheckbox),this.parentForm().name="memoryTicketCheckboxForm",this.memoryTicketCheckbox.control.valueChanges.pipe(zn(this.#n)).subscribe(e=>{this.handleCheckboxChange(e)})):this.ngOnDestroy()}handleCheckboxChange(e){this.spinnerService.show(),this.orderService.updateMemoryTicket(e,this.orderNumber(),this.memoryTicketConfig().orderPositionId).catch(()=>{this.#e.trace(new Error("Can not select a memoryTicket"),"Memory Ticket (Relevant)"),this.parentForm().control.get(ks.MEMORY_TICKET).setValue(!1,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})}getMemoryTicketCheckboxId(e){return this.#i||(this.#i=ee.getRandomId(e)),this.#i}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"cart",navigation_element_selected:this.memoryTicketCheckbox.control.value===!0?"position_based_memory_ticket_unset":"position_based_memory_ticket_set"},ga3ClickTrackingData:{action:"memory_ticket_checkbox",label:this.memoryTicketCheckbox.control.value===!0?"remove_position_based_memory_ticket":"add_position_based_memory_ticket"}}}getTranslatedShortDescription(){return this.#t.translateMarkdown(this.memoryTicketConfig().shortDescription,Aa.INLINE_TEXT)}getTranslatedDescription(){return this.#t.translateMarkdown(this.memoryTicketConfig().description,Aa.CARD,3)}hasMemoryTicketFee(){return this.eventJson().priceCategory.memoryTicketFee?.count>0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-relevant-memory-ticket"]],inputs:{orderNumber:[1,"orderNumber"],eventJson:[1,"eventJson"],memoryTicketConfig:[1,"memoryTicketConfig"],parentForm:[1,"parentForm"],showTopSeparator:[1,"showTopSeparator"]},standalone:!1,features:[Ha],decls:12,vars:10,consts:[["data-qa","memory-ticket-chooser",1,"col-xs-12","card-section"],[3,"formGroup"],[1,"row"],[1,"col-xs-12","main-ticket-card-grid","theme-content-bg","theme-element-border","main-ticket-card-memory-ticket"],[1,"checkbox","main-ticket-card-emphasized-info","frontspace"],[1,"middlespace","main-ticket-card-emphasized-info"],["data-qa","checkbox-label",1,"theme-text-color","label","padding-right-l",3,"for"],["data-qa","memory-ticket-short-description",1,"short-description","theme-text-light-color","display-inline-block",3,"evCoreHtml"],["data-qa","amount",1,"checkbox-head","main-ticket-card-emphasized-info","main-ticket-card-price","endspace"],["data-qa","memory-ticket-description",1,"normalspace",3,"evCoreHtml"],["data-qa","memoryTicketToggle"],[3,"fieldName","value","evClickTracking","chosenId"]],template:function(n,r){n&1&&(h(0,"section",0)(1,"form",1)(2,"div",2)(3,"div",3),J(4,AUe,3,4,"div",4),h(5,"div",5)(6,"label",6),R(7),g(),J(8,PUe,1,1,"span",7),g(),h(9,"div",8),R(10),g(),J(11,kUe,1,1,"div",9),g()()()()),n&2&&(Tr("top-separator-spacer",r.showTopSeparator()),d(),C("formGroup",r.parentForm().control),Le("data-qa",r.parentForm().name),d(3),$(r.memoryTicketConfig().mandatory?-1:4),d(2),C("for",r.getMemoryTicketCheckboxId(r.memoryTicketCheckbox.name)),d(),ne(" ",r.memoryTicketConfig().name," "),d(),$(r.memoryTicketConfig().shortDescription?8:-1),d(2),ne(" ",r.memoryTicketConfig().formattedTotalPrice," "),d(),$(r.memoryTicketConfig().description?11:-1))},dependencies:[Ai,ko,xi,Pn,wn,ho,xt],encapsulation:2})}return t})();var jie=(()=>{class t{scrollToId;Message=K;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-special-offers-hint-card"]],inputs:{scrollToId:"scrollToId"},standalone:!1,decls:10,vars:11,consts:[[3,"noContentPadding"],["data-qa","special-offers-hint",1,"card-section-highlighted","theme-content-bg","theme-element-border"],[1,"row","u-flex","u-flex-wrap"],[1,"col-xs-12","col-sm-7","u-flex-column","u-flex-self-center","margin-bottom-s","margin-top-s"],[1,"p-font-checkout","u-font-weight-600","font-size-xl","padding-right-l"],[1,"col-xs-12","col-sm-5","u-flex-column","u-flex-self-center","margin-bottom-s","margin-top-s"],[3,"dataQa","isBlock","buttonType","buttonText","evScrollTo"]],template:function(n,r){n&1&&(h(0,"ev-pl-card",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"span",4),R(5),H(6,"translate"),g()(),h(7,"div",5),D(8,"ev-pl-button",6),H(9,"translate"),g()()()()),n&2&&(C("noContentPadding",!0),d(5),ne(" ",j(6,7,r.Message.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_TO_OFFERS_HINT)," "),d(3),C("dataQa","scroll-to-specials")("isBlock",!0)("buttonType","secondary")("buttonText",j(9,9,r.Message.CHECKOUT_APP_SHOPPING_CART_SPECIAL_OFFERS_TO_OFFERS_BUTTON))("evScrollTo",r.scrollToId))},dependencies:[$n,Yd,hM,Se],encapsulation:2})}return t})();function wUe(t,i){if(t&1){let e=Je();h(0,"div",3)(1,"span",4),Ee("click",function(){Ne(e);let r=y(2);return Re(r.handleDeleteButtonClick())})("keydown.enter",function(){Ne(e);let r=y(2);return Re(r.handleDeleteButtonClick())}),D(2,"i",5)(3,"span",6),H(4,"translate"),D(5,"i",7),g()()}if(t&2){let e=y(2);d(3),C("evCoreHtml",j(4,1,e.Message.CHECKOUT_APP_SPORTS_TICKET_PACK_DELETE_BUTTONLABEL))}}function DUe(t,i){if(t&1&&(h(0,"ev-pl-card",0)(1,"section",1)(2,"h2",2),R(3),g(),J(4,wUe,6,3,"div",3),g()()),t&2){let e=y();C("noContentPadding",!0),d(3),ne(" ",e.headline," "),d(),$(e.hasSportsPacks?4:-1)}}var Gie=(()=>{class t{sportsService=E(ai);Message=K;event;packAmount;onDeletePack=new Jt;headline;hasSportsPacks=!1;packNumbers=ai.NON_PACK_NUMBERS;ngOnInit(){this.hasSportsPacks=this.sportsService.hasSportsPackEvents(),this.packNumbers=this.sportsService.getSportsPackNumbers(),this.headline=this.sportsService.buildSportsPackHeadline(this.event,this.packNumbers.length)}handleDeleteButtonClick(){this.onDeletePack.emit(this.event.pack)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-sports-pack"]],inputs:{event:"event",packAmount:"packAmount"},outputs:{onDeletePack:"onDeletePack"},standalone:!1,decls:1,vars:1,consts:[[3,"noContentPadding"],[1,"main-ticket-card-grid"],[1,"card-headline","u-font-weight-bold","frontspace","frontspace-span-columns","margin-top-s"],[1,"endspace","back-link"],["tabindex","0","role","link","data-qa","back-to-shop",1,"link",3,"click","keydown.enter"],["evHideOnMobile","",1,"icon","icon-trashcan","before-text"],[1,"text-underline","margin-right-xs",3,"evCoreHtml"],["evHideOnDesktop","",1,"icon","icon-cross","before-text"]],template:function(n,r){n&1&&J(0,DUe,5,3,"ev-pl-card",0),n&2&&$(r.headline?0:-1)},dependencies:[xt,$n,Xd,ta,Se],encapsulation:2})}return t})();var $H=(()=>{class t extends vs{logService=E(bt);window=E(tr);get backendResponse(){return this._backendResponse}isSuitable(e){return e.type===Wt.External&&e.subtype===si.MasterPass}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return new Promise(e=>{!ro.isInsideIFrame()&&!this.isScriptLoaded()?this.injectorService.append(this.getScript(),{done:()=>{e()},error:()=>{this.router.navigate([Qe.Error],{replaceUrl:!0})}}):e()})}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}startPaymentProcess(){this.popup!==void 0?this.popup.setPayload({injection:{script:this.getScript(),options:{done:this.runMasterpass.bind(this),error:()=>{this.popup.close()}}}}):this.runMasterpass()}runMasterpass(){if(this.backendResponse!==void 0&&this.isScriptLoaded()){let e=this.window;this.popup!==void 0&&(e=this.popup.window);let n=e.postMessage.bind(e);e.postMessage=void 0,e.MasterPass.client.checkout(this.backendResponse),e.postMessage=n}else this.logService.error(new Error("Script isn\xB4t loaded or response not provided!"),"Masterpass")}getScript(){return this.paymentInfo!==void 0?`<script src="${this.paymentInfo.externalPayment.externalUrl}"><\/script>`:null}isScriptLoaded(){let e=this.window;return this.popup!==void 0&&(e=this.popup.window),ce.isObject(e.MasterPass)&&ce.isObject(e.MasterPass.client)&&typeof e.MasterPass.client.checkout=="function"}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var A3=(()=>{class t{modalLinkType;translateLoaderService=E(ti);webshopCookieService=E(_i);modalWindowService=E(kn);sportsService=E(ai);optimizely=E(Ga);Message=K;controlName="termsAndConditionsChecked";parentForm;affiliate;optIns;promoterTerms=[];termsAndConditions=null;constructor(e){this.modalLinkType=e}getTermsAndConditionsMessage(e){return e.showTripTerms?e.showTicketdirect?K.CHECKOUT_APP_CONDITIONS_OPT_IN_TICKET_DIRECT_DELIVERY:e.showMobileTicket?K.CHECKOUT_APP_CONDITIONS_OPT_IN_MOBILE_TICKET_DELIVERY_TRIP:K.CHECKOUT_APP_CONDITIONS_OPT_IN_TRIP:e.showTicketdirect?K.CHECKOUT_APP_CONDITIONS_OPT_IN_TICKET_DIRECT_DELIVERY:e.showMobileTicket?K.CHECKOUT_APP_CONDITIONS_OPT_IN_MOBILE_TICKET_DELIVERY:K.CHECKOUT_APP_CONDITIONS_OPT_IN_DEFAULT}buildPromoterTerms(){let e=!this.sportsService.isSportsShop(this.affiliate);if(ce.isObject(this.optIns)){let n=this.optIns.termsAndConditions.promoterTerms;Dt.isNotEmpty(n)&&(this.promoterTerms=n.map(r=>this.createFormattedTextFromPromoterTerm(r,this.modalLinkType,e)))}}createFormattedTextFromPromoterTerm(e,n,r){let o=new Dn(co.buildHtml(e.content)).enableCloseButton(r?K.GLOBAL_BUTTON_CLOSE:null).enablePrintButton().setWidth(er.MEDIUM).enableDismissable().enableViewTracking(()=>{this.optimizely.triggerPageEvent(Gr.TERMS_AND_CONDITIONS_MODAL)});return new po(new Hm(K.CHECKOUT_APP_ADDITIONAL_PROMOTER_INFO_PART1),wa.SPACE,new Hm(e.text),wa.SPACE,new Rp(new Mp(e.linkText,o,n)),wa.SPACE,new Hm(K.CHECKOUT_APP_ADDITIONAL_PROMOTER_INFO_PART2))}static \u0275fac=function(n){return new(n||t)(Et(Mu))};static \u0275dir=kt({type:t,inputs:{parentForm:"parentForm",affiliate:"affiliate",optIns:"optIns"}})}return t})();var P3=(()=>{class t{#e=E(kn);#t=E(jT);#n=E(ti);#i=E(ai);#r=E(Tn);#o=E(_i);#a=E(Ga);transform(e,n,r){if(typeof e!="string"||e.length===0)return;this.#e.onShowModal().subscribe(()=>{setTimeout(()=>{this.#t.addVendorListScript()})});let o=this.preprocessLinks(e,n);return this.tokenizeAndCreateFragments(e,o,r)}preprocessLinks(e,n){return this.getSortedLinks(e,this.getRequiredLinks(e,n))}getRequiredLinks(e,n){return n===void 0?new Array:n.filter(r=>e.includes(`{${r.type}}`))}getSortedLinks(e,n){return n.map(o=>({index:e.indexOf(`{${o.type}}`),link:o})).sort((o,s)=>o.index-s.index).map(o=>o.link)}tokenizeAndCreateFragments(e,n,r){let o=new po,s=e;return n.forEach(c=>{let v=s.split(this.getReplaceStringByLink(c));ee.isNotEmpty(v[0])&&o.append(new Hm(v[0])),o.append(this.createFragment(c,r)),s=v[1]}),ee.isNotEmpty(s)&&o.append(new Hm(s)),o}createFragment(e,n){return e.pdf?this.createPdfLink(e):this.createModalLinkFragment(e,n)}createPdfLink(e){let n=this.#r.getAffiliate().pdfPath,r=this.#o.get(qi.Language),o=`${n}${r}/${e.text}`,s=e.name.trim();return new KR(new qR(o,t$.BLANK,s))}createModalLinkFragment(e,n){let r=!this.#i.isSportsShop(this.#r.getAffiliate()),o=e.name.trim(),s=new Dn(co.buildAsyncHtml(this.#n.getMessage(e.text).toPromise())).enablePrintButton().enableCloseButton(r?K.GLOBAL_BUTTON_CLOSE:null).setWidth(er.MEDIUM).enableDismissable().enableViewTracking(()=>{this.#a.triggerPageEvent(Gr.TERMS_AND_CONDITIONS_MODAL)});return new Rp(new Mp(o,s,n))}getReplaceStringByLink(e){return`{${e.type}}`}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=Sa({name:"evTermsAndConditionsModalLinkPlacer",type:t,pure:!0,standalone:!1})}return t})();var OUe=(t,i)=>({"p-font-size-m-l no-padding-top no-padding-bottom":t,"font-size-s":i}),qie=(t,i)=>({"p-font-size-m-l":t,"font-size-s":i});function NUe(t,i){if(t&1&&(h(0,"span",2),D(1,"ev-forms-formatter",6),H(2,"translate"),H(3,"evTermsAndConditionsModalLinkPlacer"),g()),t&2){let e=y(2);C("ngClass",Un(8,qie,e.isSportsShop,!e.isSportsShop)),d(),C("content",WD(3,4,j(2,2,e.termsAndConditions),e.optIns.termsAndConditions.termsAndConditionsLinks,e.modalLinkType))}}function RUe(t,i){if(t&1&&D(0,"ev-forms-formatter",7),t&2){let e=i.$implicit;C("content",e)}}function MUe(t,i){if(t&1&&(h(0,"span",3),ft(1,RUe,1,1,"ev-forms-formatter",7,fr),g()),t&2){let e=y(2);C("ngClass",Un(1,qie,e.isSportsShop,!e.isSportsShop)),d(),ht(e.promoterTerms)}}function FUe(t,i){if(t&1&&(h(0,"section",0)(1,"ev-forms-checkbox",1),J(2,NUe,4,11,"span",2)(3,MUe,3,4,"span",3),g(),h(4,"div",4),D(5,"ev-forms-field-error",5),g()()),t&2){let e=y();C("formGroup",e.parentForm.control)("ngClass",Un(7,OUe,e.isSportsShop,!e.isSportsShop)),d(),C("fieldName",e.controlName)("value",!0),d(),$(e.termsAndConditions?2:-1),d(),$(e.promoterTerms?3:-1),d(2),C("field",e.parentForm.getField(e.controlName))}}var HH=(()=>{class t extends A3{isSportsShop=!1;constructor(){super(Mu.SECONDARY)}ngOnInit(){this.parentForm!==void 0&&this.parentForm.set(new Gt({fieldName:this.controlName,type:Mt.Checkbox,mandatory:!0,value:!1},[new ir(K.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_NOT_ACCEPTED)])),this.termsAndConditions=this.getTermsAndConditionsMessage(this.optIns.termsAndConditions),this.buildPromoterTerms()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-explicit-terms-and-conditions"]],inputs:{isSportsShop:"isSportsShop"},standalone:!1,features:[dt],decls:1,vars:1,consts:[["data-qa","terms-and-conditions-card",3,"formGroup","ngClass"],[3,"fieldName","value"],["data-qa","terms-and-conditions",3,"ngClass"],["data-qa","promoter-terms",3,"ngClass"],[1,"padding-left-xxxl","margin-left-xs"],[3,"field"],[3,"content"],["data-qa","promoter-term",3,"content"]],template:function(n,r){n&1&&J(0,FUe,6,10,"section",0),n&2&&$(r.parentForm?0:-1)},dependencies:[At,mr,ko,Zr,Pn,wn,Se,P3],encapsulation:2})}return t})();function LUe(t,i){if(t&1&&(h(0,"div",1),D(1,"ev-forms-formatter",3),H(2,"translate"),H(3,"evTermsAndConditionsModalLinkPlacer"),g()),t&2){let e=y();d(),C("content",WD(3,3,j(2,1,e.termsAndConditions),e.optIns.termsAndConditions.termsAndConditionsLinks,e.modalLinkType))}}function BUe(t,i){if(t&1&&D(0,"ev-forms-formatter",4),t&2){let e=i.$implicit;C("content",e)}}function UUe(t,i){if(t&1&&(h(0,"div",2),ft(1,BUe,1,1,"ev-forms-formatter",4,fr),g()),t&2){let e=y();d(),ht(e.promoterTerms)}}var VH=(()=>{class t extends A3{constructor(){super(Mu.PRIMARY)}ngOnInit(){this.parentForm!==void 0&&this.parentForm.set(new Gt({fieldName:this.controlName,type:Mt.Checkbox,mandatory:!0,value:!0},[new ir(K.CHECKOUT_APP_SUMMARY_TERMS_AND_CONDITIONS_NOT_ACCEPTED)])),this.termsAndConditions=this.getTermsAndConditionsMessage(this.optIns.termsAndConditions),this.buildPromoterTerms()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-implicit-terms-and-conditions"]],standalone:!1,features:[dt],decls:3,vars:2,consts:[["data-qa","terms-and-conditions-card",1,"font-size-xs","line-height-xs"],["data-qa","terms-and-conditions"],["data-qa","promoter-terms"],[3,"content"],["data-qa","promoter-term",3,"content"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,LUe,4,7,"div",1)(2,UUe,3,0,"div",2),g()),n&2&&(d(),$(r.termsAndConditions?1:-1),d(),$(r.promoterTerms?2:-1))},dependencies:[Zr,Se,P3],encapsulation:2})}return t})();var Eh=class t{static getVaultFlow(i,e=ee.EMPTY_STRING){if(ce.hasProperty(i,"paymentInfo.externalPayment.token"))return{token:i.paymentInfo.externalPayment.token,vaultData:{agreementText:e,hasBillingAgreement:t.hasBillingAgreement(i)},paytype:yT.PAYPAL}}static getCheckoutFlow(i){if(ce.hasProperty(i,"paymentInfo.externalPayment.token")){let e=ee.EMPTY_STRING,n=ee.EMPTY_STRING,r=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryProvince);ce.isObject(i)&&ce.isObject(i.customer)&&(e=i.customer.country),ee.isNotEmpty(r)&&(n=r);let o=10,s=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryFirstName),c=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryLastName);return{token:i.paymentInfo.externalPayment.token,checkoutData:{amount:i.order.orderPayAmountInt/o,shippingAddress:{recipientName:`${s} ${c}`,streetAddress:xs.getCustomerShippingInfo(i.customer,Ue.DeliveryStreetAndNo),extendedAddress:this.getExtendedAddressLine(i),locality:xs.getCustomerShippingInfo(i.customer,Ue.DeliveryCity),countryCodeAlpha2:e,postalCode:xs.getCustomerShippingInfo(i.customer,Ue.DeliveryPostalCode),region:n,phone:xs.getCustomerInfo(i.customer,Ue.CustomerPhone,bn.ContactData),editable:!1}},paytype:yT.PAYPAL}}}static hasBillingAgreement(i){return ce.isObject(i)&&ce.hasProperty(i,"customer.customerPaypalInformation")&&ce.isObject(i.customer.customerPaypalInformation)}static getExtendedAddressLine(i){let e=ee.EMPTY_STRING,n=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryAddressLine1);if(ee.isNotEmpty(n))e=n;else{let r=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryAddressLine2);if(ee.isNotEmpty(r))e=r;else{let o=xs.getCustomerShippingInfo(i.customer,Ue.DeliveryAddressLine3);ee.isNotEmpty(o)&&(e=o)}}return e}};function $Ue(t,i){if(t&1&&(h(0,"h4",1),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Vi(" ",j(2,2,e.Message.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_GREETING)," ",e.customerName,"")}}function HUe(t,i){if(t&1&&(h(0,"p",7),R(1),H(2,"translate"),g()),t&2){let e=y(2);d(),Ae(j(2,1,e.Message.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_ERROR))}}function VUe(t,i){if(t&1){let e=Je();J(0,$Ue,3,4,"h4",1),h(1,"p",2),R(2),H(3,"translate"),g(),h(4,"div",3),D(5,"img",4),h(6,"span",2),R(7),g()(),h(8,"p",5),R(9),H(10,"translate"),h(11,"span",6),Ee("click",function(){Ne(e);let r=y();return Re(r.deleteBillingAgreement())})("keydown.space",function(){Ne(e);let r=y();return Re(r.deleteBillingAgreement())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.deleteBillingAgreement())}),R(12),H(13,"translate"),g()(),J(14,HUe,3,3,"p",7)}if(t&2){let e=y();$(e.customerName?0:-1),d(2),ne(" ",j(3,7,e.Message.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_SUBHEADLINE)," "),d(3),Xt("src",e.paypalLogoPath,un),d(2),Ae(e.paypalEmail),d(2),ne(" ",j(10,9,e.Message.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_TEXT)," "),d(3),ne(" ",j(13,11,e.Message.CHECKOUT_APP_SUMMARY_ADDITIONAL_INFO_PAYPAL_DELETE_BILLING_AGREEMENT_LINK)," "),d(2),$(e.deletionError?14:-1)}}function jUe(t,i){if(t&1&&(h(0,"div",0),D(1,"img",8),g()),t&2){let e=y();d(),Xt("src",e.safetyInformationImagePath,un)}}var Wie=(()=>{class t{pageHolder=E(mo);spinnerService=E(Gn);checkoutResourceService=E(Wl);Message=K;affiliate;summaryPageJson;paypalLogoPath;paypalEmail;customerName;deletionError;safetyInformationImagePath;ngOnInit(){this.hasPayPalBillingAgreement()?(this.paypalLogoPath=`${this.affiliate.teaserPath}checkout/logo_paypal.svg`,this.paypalEmail=this.summaryPageJson.customer.customerPaypalInformation.paypalEmail,this.customerName=xs.getCustomerInfo(this.summaryPageJson.customer,Ue.CustomerFirstName,bn.InvoiceData)):this.setSafetyInfoImagePath()}setSafetyInfoImagePath(){ce.hasProperty(this.summaryPageJson,"paymentInfo.safetyInformationImage")?this.safetyInformationImagePath=this.summaryPageJson.paymentInfo.safetyInformationImage:this.safetyInformationImagePath=null}hasPayPalBillingAgreement(){return Eh.hasBillingAgreement(this.summaryPageJson)}deleteBillingAgreement(){this.deletionError=!1,this.spinnerService.show(),this.checkoutResourceService.deletePayPalBillingAgreement(this.summaryPageJson.order.orderNumber).subscribe(e=>{this.pageHolder.setPageJson(e),this.spinnerService.hide(),this.setSafetyInfoImagePath()},e=>{this.deletionError=!0,this.spinnerService.hide()})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-additional-payment-info"]],inputs:{affiliate:"affiliate",summaryPageJson:"summaryPageJson"},standalone:!1,decls:3,vars:2,consts:[[1,"special-image-summary"],[1,"default-sub-headline","theme-headline-color"],[1,"card-paragraph","theme-text-color"],[1,"ev-vertical-align"],["alt","",1,"icon-border","theme-border-marginal-color",3,"src"],[1,"marginal-paragraph","theme-text-marginal-color"],["role","link","tabindex","0",1,"link",3,"click","keydown.space","keydown.enter"],[1,"error"],["alt","",1,"special-image-summary-paypal",3,"src"]],template:function(n,r){n&1&&(h(0,"section"),J(1,VUe,15,13)(2,jUe,2,1,"div",0),g()),n&2&&(d(),$(r.hasPayPalBillingAgreement()?1:-1),d(),$(r.hasPayPalBillingAgreement()===!1&&r.safetyInformationImagePath?2:-1))},dependencies:[Se],styles:[".ev-vertical-align[_ngcontent-%COMP%]{display:flex}"]})}return t})();var zie=(()=>{class t{router=E(zt);remoteNotificationService=E(fh);handleConfirmationError(e,n){let r=new Map([[na.PAYMENT_AVS_ERROR_TRY_AGAIN,this.navigateTo(Qe.Delivery)],[na.ORDER_IS_ALREADY_BOOKED,this.navigateTo(`${Qe.Receipt}/${n}`)],[na.CODE_PAY_SERVER_LOAD_LIMIT_REACHED,()=>{}],[na.D3_SECURE_CHECK_REQUIRED,this.navigateTo(`${Qe.Payment}/retry`)]]),o=Qe.Error;if(Object.prototype.hasOwnProperty.call(e,"message")&&r.set(na.PAYMENT_ERROR,this.navigateTo(Qe.Payment,e.message)).set(na.CREDITWORTHINESS_CHECK_FAILED,this.navigateTo(Qe.Payment,e.message)),Object.prototype.hasOwnProperty.call(e,"errorCode")){let s=e.errorCode;if(r.has(s)){r.get(s)();return}o+=`/${s}`}this.router.navigate([o])}navigateTo(e,n){return()=>{ee.isNotEmpty(n)&&this.remoteNotificationService.setRemoteNotification({message:n,type:rn.Danger,page:e}),this.router.navigate([e])}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Yie=(()=>{class t extends vs{rendererFactory=E(Uf);window=E(tr);get backendResponse(){return this._backendResponse}isSuitable(e){return!0}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return Promise.resolve()}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}startPaymentProcess(){this.isPageJson(this.backendResponse)?this.performPageChange(this.backendResponse):this.isKPSResponse(this.backendResponse)?this.openKPSPage(this.backendResponse):this.isExternalPaymentProviderResponse(this.backendResponse)&&this.openExternalPaymentProviderPage(this.backendResponse)}isPageJson(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"page")}isKPSResponse(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"kpsUrl")}isExternalPaymentProviderResponse(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"redirectUrl")}performPageChange(e){this.summaryService.determineNextPageAndProceed(e,{additionalUrlParameters:[`${this.order.orderNumber}`]})}openKPSPage(e){this.popup!==void 0?this.popup.navigate(e.kpsUrl):this.window.location.href=e.kpsUrl}openExternalPaymentProviderPage(e){let n=this.getRedirectUrl(e);if(ce.isObject(e.externalParameter)){let r=this.rendererFactory.createRenderer(null,null),o=r.createElement("form");o.action=n,o.method="POST",this.popup!==void 0?o.target=this.popup.name:o.target="_self",Object.keys(e.externalParameter).forEach(s=>{let c=r.createElement("input");c.type="hidden",c.name=s,c.value=e.externalParameter[s],r.appendChild(o,c)}),r.appendChild(this.window.document.body,o),o.submit()}else this.popup!==void 0?this.popup.navigate(n):this.window.location.href=n}getRedirectUrl(e){return e.redirectUrl==="https://js.braintreegateway.com/web/3.124.0/js/client.min.js;https://js.braintreegateway.com/web/3.124.0/js/paypal-checkout.min.js"?"https://www.paypalobjects.com/api/checkout.js;https://js.braintreegateway.com/web/3.48.0/js/client.min.js;https://js.braintreegateway.com/web/3.48.0/js/paypal-checkout.min.js":e.redirectUrl}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Jie=(()=>{class t extends vs{#e=E(kn);#t=E(Gn);#n=E(bt);#i=E(Ot);#r=E(rr);#o=this.#i.defaultView;#a;#s={event_name:"payment_layer",action:""};#l={layer_category:"checkout",layer_subcategory:"adyen_layer",layer_element_selected:"button_close"};#c=Mn(at({},this.#l),{layer_element_selected:"button_buy_now"});#d={action:"adyen_drop_in_layer",label:"close",nonInteractionEvent:!1};#u=Mn(at({},this.#d),{label:"buy_now"});get backendResponse(){return this._backendResponse}isSuitable(e){return e.type===Wt.External&&e.subtype===si.AdyenDropIn}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return Promise.resolve()}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}startPaymentProcess(){if(ro.isInsideIFrame())this.openAdyenDropInPopup();else{let e="message";this.openAdyenDropInModal();let n=o=>{o.data==="closeErroredModal"&&(this.#o.removeEventListener(e,n),this.#o.removeEventListener(e,r),this.#e.hideModal(this.#a.id),this.#n.debug(new Error(o.data),"Adyen Drop-In start payment process error - unlock order"),this.summaryService.unlockOrder(this.pageJson.order))},r=o=>{o.data==="adyenDropInPaymentProcessStarted"&&(this.#o.removeEventListener(e,r),this.#e.setCloseButtonDisabled(this.#a.id,!0),this.#r.trackClick({clickTrackingData:this.#s,customClickTrackingData:this.#c,ga3ClickTrackingData:this.#u}))};this.#o.addEventListener(e,r),this.#o.addEventListener(e,n)}}openAdyenDropInModal(){this.#t.hide(),this.#a=new Dn({component:v3,inputs:[{inputName:"backendResponse",value:this.backendResponse},{inputName:"affiliate",value:this.affiliate}]}).enableTitle(this.paymentMethodName).enableCloseButton(K.GLOBAL_BUTTON_CLOSE,()=>(this.#n.debug(new Error("close modal - unlock order"),"Adyen Drop-In"),this.summaryService.unlockOrder(this.pageJson.order),this.#r.trackClick({clickTrackingData:this.#s,customClickTrackingData:this.#l,ga3ClickTrackingData:this.#d}),!0)).disableHistoryBackHandling(),this.#e.showModal(this.#a)}openAdyenDropInPopup(){let e={backendResponse:this._backendResponse,affiliate:this.affiliate};this.popup!==void 0?(this.popup.window.sessionStorage.setItem("externalPaymentPopupParams",JSON.stringify(e)),this.popup.setPayload({injection:{script:this.getScript(),options:{done:()=>{this.#n.trace(new Error("Payload was successfully set in AdyenPopup"),"Adyen-Drop-In Popup")},error:()=>{this.#n.debug(new Error("Payload could not be set properly in AdyenPopup"),"Adyen-Drop-In"),this.popup.close()}}}})):this.#n.debug(new Error("AdyenPopup was never defined"))}getScript(){return`<script>
                    const pageUrl = \`${window.location.protocol}//${window.location.host}/${window.location.search}#/${Qe.AdyenDropIn}\`;
                    window.location.replace(pageUrl);
                <\/script>`}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Xie=(()=>{class t extends vs{get backendResponse(){return this._backendResponse}isKPSResponse(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"kpsUrl")}isSuitable(e){return e.type===Wt.External&&e.subtype===si.AMEDigital}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return Promise.resolve()}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}startPaymentProcess(){this.isKPSResponse(this.backendResponse)&&this.redirectToKpsPaymentPage(this.backendResponse)}redirectToKpsPaymentPage(e){window.location.href=e.kpsUrl}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kl={PAYMENT_DONE:"paymentDone",START_SUBMIT:"startSubmit",ACTIVATE_CLOSE_BUTTON:"activateButton",DEACTIVATE_CLOSE_BUTTON:"deactivateButton",KPS_CC_WALLET_ERROR:"KPS-payment-error",RESIZE_WINDOW:"resizeWindow",AWAITING_STYLES:"awaitingStyles",SEND_STYLES:"sendStyles"};var KUe=["paymentIframe"],qUe=["closePaymentModalButton"],jH=(()=>{class t extends Gi{Message=K;sportsService=null;kpsResponse=We();order=We();pageType=We();affiliateJson=We();iframe;iframeUrl;paymentFinished=!1;iframeHeight=0;headline;isSportsShop=nn(!1);closeButtonContainer;redirectParams;layerWaitTime=2e3;callbackHandler;ngOnInit(){this.spinnerService.setSpinnerMessage(""),this.headline=K.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_HEADLINE,this.isIOSDevice()&&this.renderer.setAttribute(this.iframe.nativeElement,"scrolling","no"),ce.isObject(this.kpsResponse())&&ce.hasProperty(this.kpsResponse(),"kpsUrl")?(this.createListener(),this.iframeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.kpsResponse().kpsUrl)):(this.activateCloseButton(),this.log.error(new Error("kpsUrl is missing or kpsResponse object is falsy in payment response"),"Wallet Payment")),this.sportsService&&this.isSportsShop.set(this.sportsService.isSportsShop(this.affiliateJson()))}ngAfterViewChecked(){let e=this.elementRef.nativeElement.querySelector("#walletPaymentRedirectLink");e&&e.addEventListener("click",()=>{this.redirect()})}ngOnDestroy(){this.document.defaultView.removeEventListener("message",this.callbackHandler)}isIOSDevice(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!this.document.defaultView.MSStream}redirect(){if(typeof this.redirectParams=="string"&&this.redirectParams.length>0){let e=En.getQueryParameter("urlToUse",this.redirectParams);e!==null?this.document.defaultView.location.href=`${this.kpsResponse()[e]}`:(this.activateCloseButton(),this.log.error(new Error("no urlToUse in redirect request available"),"Wallet Payment"))}else this.activateCloseButton()}createListener(){let e=new MessageChannel;this.callbackHandler=n=>{switch(n.data){case kl.PAYMENT_DONE:this.iframe.nativeElement.contentWindow.postMessage("sendPort","*",[e.port2]),this.paymentFinished=!0,this.changeDetectorRef.detectChanges();break;case kl.START_SUBMIT:this.clickTracking.trackClick({ga3ClickTrackingData:{action:"payment_cc_wallet",label:"button_buy"}}),this.deactivateCloseButton(),this.headline=K.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_INFORMATION_TRANSMITTED,this.changeDetectorRef.detectChanges();break;case kl.DEACTIVATE_CLOSE_BUTTON:this.deactivateCloseButton();break;case kl.ACTIVATE_CLOSE_BUTTON:case kl.KPS_CC_WALLET_ERROR:this.activateCloseButton(),this.headline=K.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_HEADLINE,this.changeDetectorRef.detectChanges();break;case kl.AWAITING_STYLES:(!this.sportsService||!this.sportsService.isSportsShop(this.affiliateJson()))&&this.iframe.nativeElement.contentWindow.postMessage(`${kl.SEND_STYLES} ${this.getThemingObjectAsString()}`,"*");break;default:this.setIframeHeight(n)}},this.document.defaultView.addEventListener("message",this.callbackHandler,!1),e.port1.onmessage=n=>{this.redirectParams=n.data,setTimeout(()=>this.redirect(),this.layerWaitTime)}}getReplacedLink(){return[{placeholder:"{global.here}",replacementValue:`<span id="walletPaymentRedirectLink" class="link">${this.translateLoaderService.instantTranslate(K.GLOBAL_HERE)}</span>`}]}closeWalletPaymentModal(){this.clickTracking.trackClick({ga3ClickTrackingData:{action:"payment_cc_wallet",label:"button_close"}}),this.log.debug(new Error("close wallet modal - unlock order"),"Wallet Payment"),this.summaryService.unlockOrder(this.order()),this.closeModal.emit()}activateCloseButton(){this.closeButtonContainer.nativeElement.querySelector("button").removeAttribute("disabled")}deactivateCloseButton(){this.closeButtonContainer.nativeElement.querySelector("button").disabled=!0}setIframeHeight(e){if(!ce.isEmpty(e)&&typeof e.data=="string"&&e.data.indexOf(kl.RESIZE_WINDOW)>-1){let r=e.data.match(/\d+/g),o=document.querySelector(".external-iframe-payment-wrapper");this.iframeHeight=Number.parseInt(r[0]),this.iframe.nativeElement.style.height=`${this.iframeHeight+5}px`,o!==null&&(o.removeAttribute("style"),o.offsetHeight<this.iframeHeight&&o.setAttribute("style",`height: ${this.iframeHeight}px`))}}getThemingObjectAsString(){let e=this.document.defaultView.getComputedStyle(this.document.documentElement),n={backgroundColor:e.getPropertyValue("--theme-content-bg"),fontColor:e.getPropertyValue("--theme-text-color"),fontColorVariant:e.getPropertyValue("--theme-text-variant-color"),buttonBackgroundColor:e.getPropertyValue("--theme-interaction-color"),buttonBackgroundColorHover:e.getPropertyValue("--theme-interaction-active-color"),buttonFontColor:e.getPropertyValue("--theme-button-font-color"),buttonFontColorHover:e.getPropertyValue("--theme-button-font-color-hover"),buttonRadius:e.getPropertyValue("--theme-button-radius")};return JSON.stringify(n)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275dir=kt({type:t,viewQuery:function(n,r){if(n&1&&(Qi(KUe,7,ii),Qi(qUe,7,ii)),n&2){let o;Ni(o=Ri())&&(r.iframe=o.first),Ni(o=Ri())&&(r.closeButtonContainer=o.first)}},inputs:{kpsResponse:[1,"kpsResponse"],order:[1,"order"],pageType:[1,"pageType"],affiliateJson:[1,"affiliateJson"]},features:[dt]})}return t})();var WUe=t=>({"margin-bottom-xs":t}),zUe=(t,i)=>({"p-font-checkout headline-title":t,"modal-title":i}),YUe=t=>({"top-separator padding-top-l":t}),JUe=(t,i)=>({"external-iframe-payment-ios-scroll-enabled":t,"zero-height":i}),XUe=(t,i,e)=>({clickTrackingData:t,customClickTrackingData:i,ga3ClickTrackingData:e});function QUe(t,i){t&1&&D(0,"hr",11)}function ZUe(t,i){if(t&1&&(h(0,"div",15),D(1,"div",19)(2,"div",20),H(3,"translate"),H(4,"evReplaceMessagePlaceholder"),g()),t&2){let e=y();d(2),C("evCoreHtml",Qr(4,3,j(3,1,e.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_REDIRECT_MESSAGE),e.getReplacedLink()))}}var k3=(()=>{class t extends jH{sanitizer=E(ga);log=E(bt);renderer=E(Er);changeDetectorRef=E(nr);translateLoaderService=E(ti);elementRef=E(ii);summaryService=E(Vu);document=E(Ot);clickTracking=E(rr);spinnerService=E(Gn);sportsService=E(ai);closeButtonClickTrackingData={event_name:"payment_layer",action:""};ga3CloseButtonClickTrackingData={action:"card_details_layer",label:"close",nonInteractionEvent:!1};customCloseButtonClickTrackingData={layer_category:"checkout",layer_subcategory:"cc_wallet_layer",layer_element_selected:"button_close"};OptimizelyPageEvent=Gr;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-wallet-credit-card"]],standalone:!1,features:[dt],decls:25,vars:32,consts:[["paymentIframe",""],["closePaymentModalButton",""],[1,"row",3,"evOptimizelyPageTrigger"],[1,"col-xs-6"],[1,"secure-order",3,"ngClass"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],[1,"col-xs-6","pull-right"],[1,"row","heading"],[1,"col-xs-12"],["data-qa","headline",1,"margin-top-xl",3,"ngClass","evCoreHtml"],[1,"modal-horizontal-dividing"],[1,"row",3,"ngClass"],[1,"col-xs-12",3,"ngClass"],["allow","payment 'src'",1,"external-iframe-payment",2,"height","400px",3,"load","src"],[1,"row"],[1,"col-xs-12","u-flex","u-flex-justify-center"],["data-qa","close-button",1,"wallet-button-width","btn","btn-secondary","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius","btn-sm",3,"click","evClickTracking"],[1,"btn-text"],[1,"otp-verification-spinner","spinner-circle"],[1,"col-xs-12",3,"evCoreHtml"]],template:function(n,r){if(n&1){let o=Je();h(0,"div",2)(1,"div",3)(2,"div",4),D(3,"i",5),h(4,"span",6),R(5),H(6,"translate"),g()()(),D(7,"div",7),g(),h(8,"div",8)(9,"div",9),D(10,"h1",10),H(11,"translate"),g()(),J(12,QUe,1,0,"hr",11),h(13,"div",12)(14,"div",13)(15,"iframe",14,0),Ee("load",function(){return Ne(o),Re(r.showSpinner.emit(!1))}),g()()(),J(17,ZUe,5,6,"div",15),h(18,"div",15)(19,"div",16,1)(21,"button",17),Ee("click",function(){return Ne(o),Re(r.closeWalletPaymentModal())}),h(22,"span",18),R(23),H(24,"translate"),g()()()()}n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.CREDIT_CARD_MODAL),d(2),C("ngClass",et(18,WUe,!r.isSportsShop())),d(3),ne(" ",j(6,12,r.Message.CHECKOUT_APP_SAVE_ORDER)," "),d(5),C("ngClass",Un(20,zUe,r.isSportsShop(),!r.isSportsShop()))("evCoreHtml",j(11,14,r.headline)),d(2),$(r.isSportsShop()?-1:12),d(),C("ngClass",et(23,YUe,r.isSportsShop())),d(),C("ngClass",Un(25,JUe,r.isIOSDevice(),r.paymentFinished)),d(),C("src",r.iframeUrl,tv),d(2),$(r.paymentFinished?17:-1),d(4),C("evClickTracking",Ms(28,XUe,r.closeButtonClickTrackingData,r.customCloseButtonClickTrackingData,r.ga3CloseButtonClickTrackingData)),d(2),ne(" ",j(24,16,r.Message.GLOBAL_BUTTON_CLOSE)," "))},dependencies:[At,ho,Us,xt,Se,ns],styles:[".p-white-background[_ngcontent-%COMP%]{background-color:#fff}.p-white-background[_ngcontent-%COMP%]:hover{background-color:#000;color:#fff}.external-iframe-payment-ios-scroll-enabled[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch}.external-iframe-payment[_ngcontent-%COMP%]{width:100%;border:0}.zero-height[_ngcontent-%COMP%]{height:0}.otp-verification-spinner[_ngcontent-%COMP%]{margin:20px auto;position:inherit}.wallet-button-width[_ngcontent-%COMP%]{width:464px}@media (max-width: 631px){.wallet-button-width[_ngcontent-%COMP%]{width:calc(100% - 28px)}}"]})}return t})();var Qie=(()=>{class t extends vs{modalWindowService=E(kn);optimizely=E(Ga);googleTrackingService=E(qr);get backendResponse(){return this._backendResponse}isKPSResponse(e){return ce.isObject(e)&&Object.prototype.hasOwnProperty.call(e,"kpsUrl")&&Object.prototype.hasOwnProperty.call(e,"receipt")&&Object.prototype.hasOwnProperty.call(e,"retry")&&Object.prototype.hasOwnProperty.call(e,"error")}isSuitable(e){return e.type===Wt.External&&e.subtype===si.CreditCard}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return Promise.resolve()}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}startPaymentProcess(){this.isKPSResponse(this.backendResponse)&&this.openKPSPageInModal(this.backendResponse)}openKPSPageInModal(e){this.modalWindowService.showModal(this.getModalWindowConfiguration(e,this.pageJson))}getModalWindowConfiguration(e,n){return new Dn({component:k3,inputs:[{inputName:"kpsResponse",value:e},{inputName:"order",value:n.order},{inputName:"pageType",value:n.page},{inputName:"affiliateJson",value:this.affiliate}]}).setWidth(er.MEDIUM).disableHistoryBackHandling().setBackgroundOpacity(.25).enableViewTracking(()=>{this.optimizely.triggerPageEvent(Gr.CREDIT_CARD_MODAL),this.googleTrackingService.performGoogleEventTracking({action:ee.EMPTY_STRING,event:"view_layer",event_name:"view_payment_layer"})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zie=(()=>{class t extends vs{modalWindowService=E(kn);get backendResponse(){if(this.isKpsPaymentJson(this._backendResponse))return this._backendResponse}isKpsPaymentJson(e){return e.kpsUrl!==void 0}init(){return Promise.resolve()}isSuitable(e){return e.type===Wt.PaymentModule}onClick(){return this.orderCart().then(e=>{this.setBackendResponse(e),this.startPaymentProcess()})}providesSubmitButton(){return!1}renderSubmitButton(){}startPaymentProcess(){this.openInModal(this.backendResponse)}openInModal(e){this.modalWindowService.showModal(this.getModalWindowConfiguration(e,this.pageJson))}getModalWindowConfiguration(e,n){return new Dn({component:k3,inputs:[{inputName:"kpsResponse",value:e},{inputName:"order",value:n.order},{inputName:"pageType",value:n.page},{inputName:"affiliateJson",value:this.affiliate}]}).setWidth(er.MEDIUM).disableHistoryBackHandling().setBackgroundOpacity(.25)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e$e(t,i){if(t&1&&(h(0,"dt",6)(1,"span",13),R(2),H(3,"translate"),g()(),h(4,"dt",8)(5,"span",14),R(6),g()()),t&2){let e=y(2);d(2),ne(" ",j(3,2,e.Message.CHECKOUT_APP_DELIVERY_COST),":\xA0 "),d(4),ne(" ",e.installmentJson.prices.deliveryFee," ")}}function t$e(t,i){if(t&1){let e=Je();h(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),R(4),H(5,"translate"),g()(),h(6,"div",0)(7,"div",4)(8,"div",0)(9,"dl",5)(10,"dt",6)(11,"span",7),R(12),H(13,"translate"),g()(),h(14,"dt",8)(15,"span",9),R(16),g()(),J(17,e$e,7,4),h(18,"dt",6)(19,"span",10),R(20),H(21,"translate"),g()(),h(22,"dt",8)(23,"span",11),R(24),g()()()()()(),h(25,"ev-installments-select-field",12),Ee("onInstallmentSelection",function(r){Ne(e);let o=y();return Re(o.publishSelection(r))}),g()()()}if(t&2){let e=y();d(4),Ae(j(5,9,e.Message.CHECKOUT_APP_INSTALLMENTS_HEADLINE)),d(8),ne(" ",j(13,11,e.Message.CHECKOUT_APP_SUB_TOTAL),":\xA0 "),d(4),ne(" ",e.installmentJson.prices.subTotal," "),d(),$(e.installmentJson.prices.deliveryFee?17:-1),d(3),ne(" ",j(21,13,e.Message.CHECKOUT_APP_TOTAL),":\xA0 "),d(4),ne(" ",e.installmentJson.prices.orderSum," "),d(),C("installmentSelectOptions",e.installmentSelectOptions)("installmentsField",e.installmentsField)("installmentJson",e.installmentJson)}}var ere=(()=>{class t extends Gi{checkoutResource=E(Wl);translateLoaderService=E(ti);router=E(zt);log=E(bt);remoteNotificationService=E(fh);changeDetectorRef=E(nr);modalWindowService=E(kn);Message=K;summaryPage;payload;installmentsField;onSelectionFieldEmit=new Jt;onInstallmentsLoaded=new Jt;installmentJson=null;installmentSelectOptions=[];ngOnInit(){this.showSpinner.emit(!0),ce.hasProperty(this.summaryPage,"order.orderNumber")&&this.hasPayload()?this.checkoutResource.getPayPalInstallments(this.summaryPage.order.orderNumber,this.payload).subscribe(e=>{this.installmentJson=e,this.buildInstallments(e.installments),this.showSpinner.emit(!1),this.onInstallmentsLoaded.emit(!0),this.changeDetectorRef.detectChanges()},()=>{this.log.error(new Error("Agreement-Error!"),"Installments Selection Dialog"),this.handleError()}):(this.log.error(new Error("Missing Payload!"),"Installments Selection Dialog"),this.handleError())}publishSelection(e){this.onSelectionFieldEmit.emit(e)}hasInstallments(){return ce.isObject(this.installmentJson)}hasPayload(){return ce.isObject(this.payload)}buildInstallments(e){let n=[];e.forEach(r=>{let o=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INSTALLMENTS_ITEM),s=this.translateLoaderService.instantTranslate(K.CHECKOUT_APP_INSTALLMENTS_ITEMS),c;r.terms===1?c=o:c=s,n.push({label:`${r.terms} ${c} ${r.monthlyPayment}`,value:r.monthlyPayment})}),this.installmentSelectOptions.push({items:n})}handleError(){this.remoteNotificationService.setRemoteNotification({page:Qe.Payment,message:K.CHECKOUT_APP_EXTERNAL_PAYMENT_ERROR_MESSAGE,type:rn.Danger}),this.router.navigate([Qe.Payment]).then(()=>this.modalWindowService.hideModal())}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-installments-selection-dialog"]],inputs:{summaryPage:"summaryPage",payload:"payload",installmentsField:"installmentsField"},outputs:{onSelectionFieldEmit:"onSelectionFieldEmit",onInstallmentsLoaded:"onInstallmentsLoaded"},standalone:!1,features:[dt],decls:1,vars:1,consts:[[1,"row"],["data-qa","installments-selection",1,"col-xs-12"],[1,"row","bottom-separator-spacer"],[1,"col-xs-12","modal-title"],[1,"col-xs-12","bottom-separator-spacer"],[1,"col-xs-10","margin-left-m","paired-list"],[1,"paired-list-key"],["data-qa","order-subtotal-label"],[1,"paired-list-value"],["data-qa","order-subtotal"],["data-qa","order-total-label"],["data-qa","order-total"],[3,"onInstallmentSelection","installmentSelectOptions","installmentsField","installmentJson"],["data-qa","delivery-cost-label"],["data-qa","delivery-cost"]],template:function(n,r){n&1&&J(0,t$e,26,15,"div",0),n&2&&$(r.hasInstallments()?0:-1)},dependencies:[wA,Se],encapsulation:2})}return t})();var tre=(()=>{class t extends Gi{summaryService=E(Vu);reservationTimerService=E(Ka);modalWindowService=E(kn);logWrapperService=E(bt);navigationService=E(Sc);Message=K;summaryPage;summaryForm;set trackingId(e){this.payload={trackingId:e}}installmentsField=new Gt({type:Mt.Select,fieldName:"installmentsSelectField",mandatory:!0,value:""});currentInstallment=null;payload;installmentsLoaded=!1;handleSelection(e){this.currentInstallment=e}handleInstallmentsLoad(e){this.installmentsLoaded=e}isSubmitButtonDisabled(){return!this.installmentsLoaded||this.currentInstallment==null}onPrimaryButtonClick(){let e=iu.generate(this.summaryForm);this.installmentsField.control.valid&&this.currentInstallment!==null&&(this.showSpinner.emit(!0),e.paypalInformation={trackingId:this.payload.trackingId,installmentTerm:this.currentInstallment.terms,monthlyPayment:this.currentInstallment.monthlyPaymentRaw},this.summaryService.submitSummaryData(this.summaryPage.order,an(null),e).then(n=>{this.reservationTimerService.sendToBackground(),this.summaryService.determineNextPageAndProceed(n,{additionalUrlParameters:[`${this.summaryPage.order.orderNumber}`]})}).catch(this.handleError.bind(this)).finally(()=>{this.showSpinner.emit(!1),this.modalWindowService.hideModal()}))}onSecondaryButtonClick(){this.logWrapperService.debug(new Error("close button - unlock order"),"Paypal Installments Component"),this.summaryService.unlockOrder(this.summaryPage.order),this.modalWindowService.hideModal()}handleError(){this.logWrapperService.error(new Error("Payment declined!"),"Paypal Installments"),this.navigationService.navigateToPageAndShowRemoteNotification(Qe.Payment,K.CHECKOUT_APP_EXTERNAL_PAYMENT_ERROR_MESSAGE)}OptimizelyPageEvent=Gr;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-paypal-installments"]],inputs:{summaryPage:"summaryPage",summaryForm:"summaryForm",trackingId:"trackingId"},standalone:!1,features:[dt],decls:12,vars:11,consts:[[1,"row",3,"evOptimizelyPageTrigger"],[1,"col-xs-12"],[3,"onSelectionFieldEmit","onInstallmentsLoaded","summaryPage","installmentsField","payload"],[1,"row"],["data-qa","secondary-button",1,"col-xs-12","col-md-6"],["type","button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click"],["data-qa","primary-button",1,"col-xs-12","col-md-6"],["type","button",1,"btn-spacing-xs","btn","btn-primary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click","disabled"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"ev-installments-selection-dialog",2),Ee("onSelectionFieldEmit",function(s){return r.handleSelection(s)})("onInstallmentsLoaded",function(s){return r.handleInstallmentsLoad(s)}),g(),h(3,"div",3)(4,"div",4)(5,"button",5),Ee("click",function(){return r.onSecondaryButtonClick()}),R(6),H(7,"translate"),g()(),h(8,"div",6)(9,"button",7),Ee("click",function(){return r.onPrimaryButtonClick()}),R(10),H(11,"translate"),g()()()()()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.BRAINTREE_INSTALLMENTS_MODAL),d(2),C("summaryPage",r.summaryPage)("installmentsField",r.installmentsField)("payload",r.payload),d(4),ne(" ",j(7,7,r.Message.CHECKOUT_APP_LINK_CANCEL)," "),d(3),C("disabled",r.isSubmitButtonDisabled()),d(),ne(" ",j(11,9,r.Message.GLOBAL_CONFIRM)," "))},dependencies:[Us,ere,Se],encapsulation:2})}return t})();var w3=(()=>{class t{deviceId;clientInstance;checkoutInstance;#e=E(tr);#t=E(jo);#n=E($s);#i=E(rr);providesButton(e){return!this.hasBillingAgreement(e)&&!(this.#t.isRunningInMoa()&&this.#t.hasFeature(Gl.PAYPAL_BRAINTREE))}injectSdk(e){return new Promise((n,r)=>{this.isLoaded()||this.isHandledByMoa()?n():this.#n.append(this.getScript(e),{done:n.bind(this),error:r.bind(this)})})}getDeviceId(e){return new Promise((n,r)=>{this.isHandledByMoa()?n():this.#e.braintree.client.create({authorization:e.externalPayment.token}).then(o=>{this.#e.braintree.dataCollector.create({client:o,paypal:!0}).then(s=>{this.deviceId=JSON.parse(s.deviceData),this.clientInstance=o,n()}).catch(r.bind(this))}).catch(r.bind(this))})}getCheckoutInstance(e){return new Promise((n,r)=>{this.isHandledByMoa()?n():ce.hasProperty(e,"externalPayment.token")&&ee.isNotEmpty(e.externalPayment.token)?this.#e.braintree.client.create({authorization:e.externalPayment.token},(o,s)=>{o&&r(new Error("Failed creating client")),this.#e.braintree.paypalCheckout.create({client:s},(c,v)=>{c&&r(new Error("Failed creating checkout")),this.checkoutInstance=v,n()})}):r(new Error("Failed, no token"))})}renderButton(e,n){let r=document.querySelector(n);ce.isObject(this.checkoutInstance)&&r!==null&&r.children.length===0&&this.#e.paypal.Button.render(e,n)}isHandledByMoa(){return this.#t.isRunningInMoa()&&this.#t.hasFeature(Gl.PAYPAL_BRAINTREE)}hasBillingAgreement(e){return Eh.hasBillingAgreement(e)}getDefaultButtonStyle(){return{shape:"rect",size:"responsive",color:"blue",label:"pay",tagline:!1,commit:!1}}trackClick(e){this.#i.trackClick({clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:`cta_buy_button_${e.trackingName}`}})}getScript(e){return ce.hasProperty(e,"externalPayment.externalUrl")?this.getExternalUrl(e).concat(";https://js.braintreegateway.com/web/3.48.0/js/data-collector.min.js").split(";").map(n=>`<script src="${n}"><\/script>`).join(`
`):null}getExternalUrl(e){let n=e.externalPayment.externalUrl;return n==="https://js.braintreegateway.com/web/3.124.0/js/client.min.js;https://js.braintreegateway.com/web/3.124.0/js/paypal-checkout.min.js"?"https://www.paypalobjects.com/api/checkout.js;https://js.braintreegateway.com/web/3.48.0/js/client.min.js;https://js.braintreegateway.com/web/3.48.0/js/paypal-checkout.min.js":n}isLoaded(){return this.isHandledByMoa()?!0:ce.isObject(this.#e.paypal)&&ce.isObject(this.#e.braintree)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var VA=function(t){return t.VAULT="vault",t.CHECKOUT="checkout",t}(VA||{});var Th=class{nonce;id;creditCardBin;constructor(i,e){if(ce.isObject(i)){if(i.detail&&i.detail.nonce!==void 0){let n=i.detail;this.nonce=n.nonce,this.id=n.payPalCustomerId}if(Object.prototype.hasOwnProperty.call(i,"nonce")&&Object.prototype.hasOwnProperty.call(i,"details")){let n=i;this.nonce=n.nonce,this.id=n.details.payerId}}if(ee.isNotEmpty(e)&&(this.creditCardBin=e),ee.isEmpty(this.nonce))throw new Error("Missing nonce!")}getPayload(){return{paypalCustomerId:this.id,nonce:this.nonce}}getNonce(){return this.nonce}getCreditCardBin(){return this.creditCardBin}};var nre=(()=>{class t extends vs{#e=E(w3);#t=E(jo);#n=E(bt);#i=E(Wl);#r=E(_i);#o=E(kn);#a=E(Gn);#s=E(Si);#l=E(oh);#c;get backendResponse(){return this._backendResponse}isSuitable(e){return e.type===Wt.External&&e.subtype===si.PayPalInstallmentsBraintree}providesSubmitButton(){return this.#e.providesButton(this.pageJson)}init(){return new Promise((e,n)=>{this.#e.injectSdk(this.paymentInfo).then(()=>{Promise.all([this.#e.getDeviceId(this.paymentInfo),this.#e.getCheckoutInstance(this.paymentInfo)]).then(()=>{this.#e.hasBillingAgreement(this.pageJson)||this.renderSubmitButton(),e()}).catch(n.bind(this))}).catch(n.bind(this))})}renderSubmitButton(){this.#e.renderButton({env:this.getCurrentEnvironment(),locale:this.getLocale(),style:this.#e.getDefaultButtonStyle(),commit:!0,payment:()=>this.#s.run(()=>(this.#a.show(),this.#s.runOutsideAngular(()=>this.#e.checkoutInstance.createPayment({flow:VA.VAULT})))),onClick:()=>{this.#e.trackClick(this.paymentInfo),this.#l.validate()&&this.#l.triggerGcpsSave()},onAuthorize:e=>this.#e.checkoutInstance.tokenizePayment(e,(n,r)=>{this.#s.run(()=>this.createPayPalCustomer(new Th(r)))}),onCancel:e=>{this.#s.run(()=>{this.#n.debug(new Error(JSON.stringify(e)),"Paypal Braintree Installments"),this.handleError()})},onError:e=>{this.#s.run(()=>{this.#n.error(new Error(e),"Paypal Braintree Installments"),this.handleError()})}},"#external-submit-button")}onClick(){return new Promise((e,n)=>{this.#e.isHandledByMoa()?ce.hasProperty(this.paymentInfo,"externalPayment.token")?(this.#c=this.#t.receive(ka.PAYMENT_RESULT).subscribe(r=>{let o=r[1];this.isPayPalResponse(o)&&this.hasDeviceData(o)?(this.#e.deviceId=JSON.parse(o.detail.deviceData),this.#e.hasBillingAgreement(this.pageJson)?this.handlePositiveResult().then(e.bind(this)).catch(n.bind(this)).finally(this.stopMoaEventListeners.bind(this)):this.createPayPalCustomer(new Th(o)).then(e.bind(this)).catch(n.bind(this)).finally(this.stopMoaEventListeners.bind(this))):(this.#n.debug(new Error(`${o}`),"Paypal Braintree Installments"),n(),this.stopMoaEventListeners(),this.handleError())}),this.#t.emitEvent(ka.PAYMENT,{detail:Eh.getVaultFlow(this.pageJson)})):(this.#n.debug(new Error("Missing token"),"Paypal Braintree Installments"),n(),this.handleError()):this.#e.hasBillingAgreement(this.pageJson)&&this.handlePositiveResult().then(e.bind(this)).catch(n.bind(this))})}startPaymentProcess(){}createPayPalCustomer(e){return this.#s.run(()=>this.#i.createPayPalCustomer(this.order.orderNumber,e.getPayload()).toPromise().then(this.handlePositiveResult.bind(this)).catch(()=>{this.#n.error(new Error("create paypal-customer - unlock order"),"Paypal Braintree Installments"),this.handleError()}))}handlePositiveResult(e){ce.isObject(e)&&(this.pageJson=e);let n=iu.generate(this.form);n.paypalInformation={trackingId:this.#e.deviceId.correlation_id};let r=new Dn({component:tre,inputs:[{inputName:"summaryPage",value:this.pageJson},{inputName:"trackingId",value:this.#e.deviceId.correlation_id},{inputName:"summaryForm",value:this.form}]}).disableHistoryBackHandling();return this.#o.showModal(r),Promise.resolve()}handleError(){this.summaryService.unlockOrder(this.order)}getCurrentEnvironment(){return ce.hasProperty(this.paymentInfo,"externalPayment.mode")?this.paymentInfo.externalPayment.mode.toLocaleLowerCase():El.production?"production":"sandbox"}getLocale(){return uv.getLocaleCode(this.#r.get(qi.Language))}stopMoaEventListeners(){this.#t.stopListener(ka.PAYMENT_RESULT),this.#c.unsubscribe()}isPayPalResponse(e){return e&&e.detail&&e.detail.errorCode===xp.NO_ERROR}hasDeviceData(e){return e&&e.detail&&ee.isNotEmpty(e.detail.deviceData)&&ce.isObject(JSON.parse(e.detail.deviceData))}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ire=(()=>{class t extends vs{#e=E(w3);#t=E(jo);#n=E(bt);#i=E(_i);#r=E(Gn);#o=E(Ka);#a=E(Si);#s=E(oh);#l;#c="onError";#d="onCancel";#u="onAuthorize";get backendResponse(){return this._backendResponse}isSuitable(e){return e.type===Wt.External&&e.subtype===si.PayPalBraintree}providesSubmitButton(){return!this.#e.isHandledByMoa()}renderSubmitButton(){}init(){return new Promise((e,n)=>{this.#e.injectSdk(this.paymentInfo).then(()=>{Promise.all([this.#e.getDeviceId(this.paymentInfo),this.#e.getCheckoutInstance(this.paymentInfo)]).then(()=>{let r=!1,o="";this.#e.renderButton({env:this.getCurrentEnvironment(),locale:this.getLocale(),style:this.#e.getDefaultButtonStyle(),commit:!0,payment:()=>this.#a.run(()=>(this.#o.sendToBackground(),this.#r.show(),this.#a.runOutsideAngular(()=>this.#e.checkoutInstance.createPayment({flow:VA.CHECKOUT,amount:this.order.orderPayAmountInt/1e3,currency:this.affiliate.priceFormat.currencyCode})))),onClick:()=>{this.#e.trackClick(this.paymentInfo),this.#s.validate()&&this.#s.triggerGcpsSave()},onAuthorize:s=>{this.synchronizedCallback(r,o,this.#u,()=>{r=!0,o=this.#u,this.#e.checkoutInstance.tokenizePayment(s,(c,v)=>{this.#a.run(()=>this.handlePositiveResult(new Th(v)))})})},onCancel:s=>{this.synchronizedCallback(r,o,this.#d,()=>{r=!0,o=this.#d,this.#a.run(()=>{this.#n.error(new Error(JSON.stringify(s)),"Paypal Braintree Cancel"),this.handleError()})})},onError:s=>{this.synchronizedCallback(r,o,this.#c,()=>{r=!0,o=this.#c,this.#a.run(()=>{this.#n.error(new Error(s),"Paypal Braintree Error"),this.handleError()})})}},"#external-submit-button"),e()}).catch(n.bind(this))}).catch(n.bind(this))})}synchronizedCallback(e,n,r,o){e?this.#n.debug(new Error(`tried to ${r} PayPal payment but action ${n} already running.`),"Paypal Braintree"):o()}onClick(){return new Promise((e,n)=>{this.#e.isHandledByMoa()&&(ce.hasProperty(this.paymentInfo,"externalPayment.token")?(this.#l=this.#t.receive(ka.PAYMENT_RESULT).subscribe(r=>{let o=r[1];this.isPayPalResponse(o)?this.handlePositiveResult(new Th(o)).then(e.bind(this)).catch(n.bind(this)).finally(this.stopMoaEventListeners.bind(this)):(this.#n.error(new Error(`${o}`),"Paypal Braintree MOA"),n(),this.stopMoaEventListeners(),this.handleError())}),this.#t.emitEvent(ka.PAYMENT,{detail:Eh.getCheckoutFlow(this.pageJson)})):(this.#n.debug(new Error("Missing token"),"Paypal Braintree"),n(),this.handleError()))})}startPaymentProcess(){}handlePositiveResult(e){let n=iu.generate(this.form);return n.paypalInformation={nonce:e.getNonce()},this.orderCart(n).then(r=>{this.summaryService.determineNextPageAndProceed(r,{additionalUrlParameters:[`${this.order.orderNumber}`]})}).catch(r=>{r?.errorCode===na.ORDER_NOT_FOUND?this.#n.debug(new Error("Order not found. Skipping unlock order request."),"Paypal Braintree Error"):this.handleError()})}handleError(){this.#n.debug(new Error("Payment declined! Return back to MOP-selection..."),"Paypal Braintree"),this.summaryService.unlockOrder(this.order)}getCurrentEnvironment(){return ce.hasProperty(this.paymentInfo,"externalPayment.mode")?this.paymentInfo.externalPayment.mode.toLocaleLowerCase():El.production?"production":"sandbox"}getLocale(){let e=uv.getLocaleCode(this.#i.get(qi.Language));return ee.isNotEmpty(e)?e:b2.EN}stopMoaEventListeners(){this.#t.stopListener(ka.PAYMENT_RESULT),this.#l.unsubscribe()}isPayPalResponse(e){return e&&e.detail&&e.detail.errorCode===xp.NO_ERROR}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rre=(()=>{class t extends cr{getClientToken(){return this.webshopApi.get("/payment/braintreeToken")}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var D3=class{cardholderName={isEmpty:!0,isValid:!1,isPotentiallyValid:!1,isFocused:!1,isTouched:!1};number={isEmpty:!0,isValid:!1,isPotentiallyValid:!1,isFocused:!1,isTouched:!1};cvv={isEmpty:!0,isValid:!1,isPotentiallyValid:!1,isFocused:!1,isTouched:!1};expirationMonth={isEmpty:!0,isValid:!1,isPotentiallyValid:!1,isFocused:!1,isTouched:!1};expirationYear={isEmpty:!0,isValid:!1,isPotentiallyValid:!1,isFocused:!1,isTouched:!1}};var Vs=function(t){return t.HOLDER="cardholderName",t.CREDIT_CARD_NUMBER="number",t.MONTH="expirationMonth",t.YEAR="expirationYear",t.CVV="cvv",t}(Vs||{});var i$e=(t,i)=>({"modal-title":t,"headline-title":i});function r$e(t,i){t&1&&D(0,"hr",8)}function o$e(t,i){if(t&1&&(h(0,"div",18)(1,"span",29),R(2),H(3,"translate"),g()()),t&2){let e=y();d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_BIN_INVALID)," ")}}function a$e(t,i){if(t&1&&(h(0,"div",18)(1,"span",29),R(2),H(3,"translate"),g()()),t&2){let e=y();d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_LUHN_INVALID)," ")}}function s$e(t,i){if(t&1&&(h(0,"div",18)(1,"span",29),R(2),H(3,"translate"),g()()),t&2){let e=y();d(2),ne(" ",j(3,1,e.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_ERROR_EXPIRATION_IN_PAST)," ")}}var ore=(()=>{class t extends Gi{Message=K;CreditCardNumberSelector="card-number";document=E(Ot);#e=E(nr);#t=E(bt);#n=E(Vu);#i=E(kn);#r=E(Sn);#o=E(Tn);#a=E(ai);summaryPage=We();clientInstance=We();paypalCustomerStream=We();submitButtonRequestRunning=nn(!1);set acceptableBinRanges(e){this.#c=this.getBinRangeValidators(e)}isSportsShop=nn(!1);isFormValid=!1;fields=new D3;isCcBinValid=!1;foundCardType="";#s;#l;#c=[];ngAfterViewInit(){this.isSportsShop.set(this.#a.isSportsShop(this.#o.getAffiliate())),this.document.defaultView.braintree.hostedFields.create({client:this.clientInstance(),styles:{"input, select, option":{color:"black","font-size":"1rem",transition:"color 0.1s","line-height":"1.25rem",height:"46px",width:"100%",padding:"12px"},"input.invalid, select.invalid":{color:"#e40000"},"::-webkit-input-placeholder":{color:"rgba(0,0,0,0.6)"},":-moz-placeholder":{color:"rgba(0,0,0,0.6)"},"::-moz-placeholder":{color:"rgba(0,0,0,0.6)"},":-ms-input-placeholder":{color:"rgba(0,0,0,0.6)"},"input::-ms-clear":{opacity:"0"}},fields:{cardholderName:{selector:"#card-holder",placeholder:"Dwink Baxon",prefill:this.getPrefillName()},number:{selector:`#${this.CreditCardNumberSelector}`,placeholder:"1111 1111 1111 1111"},cvv:{selector:"#cvv",placeholder:"123"},expirationMonth:{selector:"#expiration-month",placeholder:this.#r.instant(K.GLOBAL_MONTH),select:["01","02","03","04","05","06","07","08","09","10","11","12"]},expirationYear:{selector:"#expiration-year",placeholder:this.#r.instant(K.GLOBAL_YEAR),select:Kd.getFutureYears(Kd.TWENTY_YEARS_IN_FUTURE)}}},(e,n)=>{if(e){this.#t.error(new Error(e),"Paypal Braintree Credit-Card Modal");return}n.on("validityChange",r=>{Object.keys(this.fields).forEach(o=>{this.fields[o]=at(at({},this.fields[o]),r.fields[o])}),this.isFormValid=Object.keys(this.fields).every(o=>(o===Vs.CREDIT_CARD_NUMBER&&this.markCreditCardNumberValidity(),this.fields[o].isValid)),this.isFormValid||this.#t.trace(new Error("Form is invalid"),"Paypal Braintree Credit-Card Modal"),this.#e.detectChanges()}),n.on("blur",r=>{let o=r.emittedBy;this.fields[o].isTouched=!0,o===Vs.CREDIT_CARD_NUMBER&&this.markCreditCardNumberValidity(),this.#e.detectChanges()}),n.on("empty",r=>{this.fields[r.emittedBy].isEmpty=!0,this.fields[Vs.CREDIT_CARD_NUMBER].isEmpty&&this.fields[Vs.CREDIT_CARD_NUMBER].isTouched&&this.markAsValid(),this.foundCardType="",this.#e.detectChanges()}),n.on("binAvailable",r=>{this.fields[Vs.CREDIT_CARD_NUMBER].isEmpty=!1,this.#l=r.bin,this.isCcBinValid=this.isInBinRange(),this.markCreditCardNumberValidity(),this.isCcBinValid||this.#t.trace(new Error("Bin is invalid"),"Paypal Braintree Credit-Card Modal"),this.#e.detectChanges()}),n.on("cardTypeChange",r=>{this.#t.trace(new Error("Card type changed"),"Paypal Braintree Credit-Card Modal"),r.cards.length===1?(this.foundCardType=r.cards[0].type,r.cards[0].code.size===4&&n.setAttribute({field:"cvv",attribute:"placeholder",value:"1234"})):(n.setAttribute({field:"cvv",attribute:"placeholder",value:"123"}),Dt.isEmpty(r.cards)&&(this.foundCardType="error")),this.#e.detectChanges()}),this.#s=n})}sendForm(){this.submitButtonRequestRunning.set(!0),this.#s.tokenize((e,n)=>{if(e){this.#t.error(new Error(e),"Paypal Braintree Credit-Card Modal"),this.submitButtonRequestRunning.set(!1);return}this.paypalCustomerStream().next(new Th(n,`${this.#l}`))})}onSecondaryButtonClick(){this.#t.trace(new Error("close modal - unlock order"),"Paypal Braintree CreditCard"),this.#n.unlockOrder(this.summaryPage().order),this.#i.hideModal()}getPriceForButton(){return[{placeholder:"{0}",replacementValue:this.summaryPage().order.orderPayAmount}]}isBinInvalid(){return!this.isCcBinValid&&!ce.isEmpty(this.fields)&&this.fields[Vs.CREDIT_CARD_NUMBER].isValid&&this.fields[Vs.CREDIT_CARD_NUMBER].isTouched}isLuhnInvalid(){return!ce.isEmpty(this.fields)&&!this.fields[Vs.CREDIT_CARD_NUMBER].isValid&&!this.fields[Vs.CREDIT_CARD_NUMBER].isEmpty&&this.fields[Vs.CREDIT_CARD_NUMBER].isTouched}showDateInPastError(){return!ce.isEmpty(this.fields)&&!this.fields[Vs.MONTH].isValid&&!this.fields[Vs.YEAR].isValid&&this.fields[Vs.MONTH].isTouched&&this.fields[Vs.YEAR].isTouched&&!this.fields[Vs.MONTH].isEmpty&&!this.fields[Vs.YEAR].isEmpty}isInBinRange(){return Dt.isNotEmpty(this.#c)?this.#c.some(e=>e(this.#l)):!0}markCreditCardNumberValidity(){!this.fields[Vs.CREDIT_CARD_NUMBER].isValid&&this.fields[Vs.CREDIT_CARD_NUMBER].isTouched?this.document.getElementById(this.CreditCardNumberSelector).classList.add("braintree-hosted-fields-invalid"):this.markAsValid()}markAsValid(){this.document.getElementById(this.CreditCardNumberSelector).classList.remove("braintree-hosted-fields-invalid")}getPrefillName(){let e="",n="";ce.hasProperty(this.summaryPage().customer,"invoiceData")&&(e=xs.getCustomerInfo(this.summaryPage().customer,Ue.CustomerFirstName,bn.InvoiceData),n=xs.getCustomerInfo(this.summaryPage().customer,Ue.CustomerLastName,bn.InvoiceData));let r=`${e} ${n}`;return ee.isNotEmpty(r.trim())?r:""}getBinRangeValidators(e){return e?.split(";").filter(n=>n.indexOf("-")>1||n.indexOf("-")===-1&&n.indexOf("-")!==n.length-1).map(n=>{if(n.indexOf("-")>1){let[r,o]=n.split("-");return s=>{let c=parseInt(`${s}`.slice(0,r.length)),v=parseInt(`${s}`.slice(0,o.length));return c>=parseInt(r)&&v<=parseInt(o)}}else return r=>`${r}`.startsWith(n)})}OptimizelyPageEvent=Gr;static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-analysis-braintree-modal"]],inputs:{summaryPage:[1,"summaryPage"],clientInstance:[1,"clientInstance"],paypalCustomerStream:[1,"paypalCustomerStream"],acceptableBinRanges:"acceptableBinRanges"},standalone:!1,features:[dt],decls:53,vars:40,consts:[[1,"row",3,"evOptimizelyPageTrigger"],[1,"col-xs-6"],[1,"secure-order"],[1,"float-left","icon","icon-lock","theme-text-light-color"],["data-qa","secure-order-hint",1,"float-left","theme-text-light-color"],[1,"row","heading"],[1,"col-xs-12"],["data-qa","headline",1,"margin-top-xl",3,"ngClass","evCoreHtml"],[1,"modal-horizontal-dividing","margin-bottom-xl"],[1,"validation","min-width"],["data-qa","expiration-row",1,"card-section"],["for","card-holder","field-label",""],["id","card-holder",1,"input-wrapper"],["data-qa","credit-card-number-row",1,"card-section","align-label"],["field-label",""],[1,"input-wrapper"],["id","card-image"],["field-error",""],["data-qa","form-error",1,"no-padding-left","padding-top-xs"],["for","expiration-month","field-label",""],[1,"expiration-date-fields"],["id","expiration-month",1,"input-wrapper","expiration-date-field"],["id","expiration-year",1,"input-wrapper","expiration-date-field"],["data-qa","verification-code-row",1,"card-section"],["for","cvv","field-label",""],["id","cvv",1,"input-wrapper"],[1,"card-section"],["id","button-pay","type","button",1,"btn","btn-primary","btn-lg","btn-block","theme-btn-font-color","theme-btn-font-color-hover","theme-interaction-btn-bg","theme-button-radius",3,"click","disabled","evCoreHtml"],["type","button",1,"btn-spacing-xs","btn","btn-secondary","btn-block","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","first-button",3,"click"],["data-qa","error","role","alert",1,"error"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1)(2,"div",2),D(3,"i",3),h(4,"span",4),R(5),H(6,"translate"),g()()()(),h(7,"div",5)(8,"div",6),D(9,"h1",7),H(10,"translate"),g()(),J(11,r$e,1,0,"hr",8),h(12,"form",9)(13,"section",10)(14,"ev-forms-field")(15,"label",11),R(16),H(17,"translate"),g(),D(18,"div",12),g()(),h(19,"section",13)(20,"ev-forms-field")(21,"label",14),R(22),H(23,"translate"),g(),D(24,"div",15)(25,"div",16),h(26,"div",17),J(27,o$e,4,3,"div",18)(28,a$e,4,3,"div",18),g()()(),h(29,"section",10)(30,"ev-forms-field")(31,"label",19),R(32),H(33,"translate"),g(),h(34,"div",20),D(35,"div",21)(36,"div",22),g(),h(37,"div",17),J(38,s$e,4,3,"div",18),g()()(),h(39,"section",23)(40,"ev-forms-field")(41,"label",24),R(42),H(43,"translate"),g(),D(44,"div",25),g()(),h(45,"section",26)(46,"button",27),H(47,"translate"),H(48,"evReplaceMessagePlaceholder"),Ee("click",function(){return r.sendForm()}),g()(),h(49,"section",26)(50,"button",28),Ee("click",function(){return r.onSecondaryButtonClick()}),R(51),H(52,"translate"),g()()()),n&2&&(C("evOptimizelyPageTrigger",r.OptimizelyPageEvent.BRAINTREE_CREDIT_CARD_MODAL),d(5),ne(" ",j(6,18,r.Message.CHECKOUT_APP_SAVE_ORDER)," "),d(4),C("ngClass",Un(37,i$e,!r.isSportsShop(),r.isSportsShop()))("evCoreHtml",j(10,20,r.Message.CHECKOUT_APP_EXTERNAL_PAYMENT_CREDITCARD_HEADLINE)),d(2),$(r.isSportsShop()?-1:11),d(5),ne(" ",j(17,22,r.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_OWNER)," "),d(5),Le("for",r.CreditCardNumberSelector),d(),ne(" ",j(23,24,r.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_NUMBER)," "),d(2),Le("id",r.CreditCardNumberSelector),d(),Le("class",r.foundCardType),d(2),$(r.isBinInvalid()?27:-1),d(),$(r.isLuhnInvalid()?28:-1),d(4),ne(" ",j(33,26,r.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_EXPIRATION)," "),d(6),$(r.showDateInPastError()?38:-1),d(4),ne(" ",j(43,28,r.Message.CHECKOUT_APP_PAYMENT_CREDIT_CARD_CVV)," "),d(4),C("disabled",!r.isFormValid||r.isBinInvalid()||r.submitButtonRequestRunning())("evCoreHtml",Qr(48,32,j(47,30,r.Message.CHECKOUT_APP_SUMMARY_CREDIT_CARD_BUTTON_SUBMIT),r.getPriceForButton())),d(5),ne(" ",j(52,35,r.Message.CHECKOUT_APP_LINK_CANCEL)," "))},dependencies:[At,Ai,xi,Pn,Us,xt,Se,ns],styles:[".input-wrapper[_ngcontent-%COMP%]{width:100%;height:46px;border:1px solid #ccc;border-radius:3px}.braintree-hosted-fields-focused[_ngcontent-%COMP%]{border-color:#139df4}.braintree-hosted-fields-invalid[_ngcontent-%COMP%]{border-color:#e40000!important}.align-label[_ngcontent-%COMP%]{clear:both}.card-section[_ngcontent-%COMP%]{padding:4px 12px}@media (min-width: 660px){.card-section[_ngcontent-%COMP%]{padding:8px 16px}}.expiration-date-fields[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between;align-items:flex-start}.expiration-date-field[_ngcontent-%COMP%]{max-width:calc(50% - 4px)}.show-card-type[_ngcontent-%COMP%], #card-image.diners-club[_ngcontent-%COMP%], #card-image.jcb[_ngcontent-%COMP%], #card-image.maestro[_ngcontent-%COMP%], #card-image.discover[_ngcontent-%COMP%], #card-image.american-express[_ngcontent-%COMP%], #card-image.master-card[_ngcontent-%COMP%], #card-image.visa[_ngcontent-%COMP%]{right:20px;width:44px}#card-image[_ngcontent-%COMP%]{position:absolute;top:7px;right:2px;width:0;height:28px;background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/346994/card_sprite.png);background-size:86px 458px;border-radius:4px;background-position:-100px 0;background-repeat:no-repeat;transition:right .6s cubic-bezier(.2,1.3,.7,1),width .6s cubic-bezier(.2,1.3,.7,1)}#card-image.error[_ngcontent-%COMP%]{transition:none;background-position:0 -11px;right:16px;width:28px;animation:_ngcontent-%COMP%_shake .55s cubic-bezier(.2,1.3,.7,1)}#card-image.visa[_ngcontent-%COMP%]{background-position:0 -398px}#card-image.master-card[_ngcontent-%COMP%]{background-position:0 -281px}#card-image.american-express[_ngcontent-%COMP%]{background-position:0 -370px}#card-image.discover[_ngcontent-%COMP%]{background-position:0 -163px}#card-image.maestro[_ngcontent-%COMP%]{background-position:0 -251px}#card-image.jcb[_ngcontent-%COMP%]{background-position:0 -221px}#card-image.diners-club[_ngcontent-%COMP%]{background-position:0 -133px}@keyframes _ngcontent-%COMP%_shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-3px,0,0)}40%,60%{transform:translate3d(3px,0,0)}}"]})}return t})();var are=(()=>{class t extends vs{document=E(Ot);modalWindowService=E(kn);logService=E(bt);reservationTimerService=E(Ka);paypalCreditCardResource=E(rre);moaService=E(jo);BraintreeGatewayVersion="https://js.braintreegateway.com/web/3.81.1/js/";paypalCustomerStream=new qn;clientInstance;deviceData;braintreeScriptIds=["braintree-cc-script-client","braintree-cc-script-hostedfields","braintree-cc-script-datacollector"];get backendResponse(){return this._backendResponse}isSuitable(e){return e?.type===Wt.External&&e?.subtype===si.BraintreeCreditCard}providesSubmitButton(){return!1}renderSubmitButton(){}init(){return this.injectSDK().then(()=>{this.logService.trace(new Error("Initializing. Generating client instance for braintree..."),"PaypalCreditCardService"),this.document.defaultView.braintree.client.create({authorization:this.pageJson.paymentInfo?.externalPayment?.token},(e,n)=>{e?(this.logService.error(new Error(e),"PaypalCreditCardService"),this.logService.trace(new Error("Attempt re-initializing braintree with new client token"),"PaypalCreditCardService"),this.reInitBraintreeWithNewToken()):(this.logService.trace(new Error("Generated client instance"),"PaypalCreditCardService"),this.fetchDeviceData(n))})}).catch(()=>{this.logService.error(new Error("Failed to inject SDK"),"PaypalCreditCardService")})}injectSDK(){return new Promise((e,n)=>{this.logService.trace(new Error("Inject SDK"),"PaypalCreditCardService"),this.braintreeScriptIds.some(r=>this.document.getElementById(r)===null)?this.injectorService.append(this.getScript(),{done:()=>{this.logService.trace(new Error("SDK loaded"),"PaypalCreditCardService"),e()},error:r=>{this.logService.error(r,"Paypal Creditcard Payment Handler Service: Failed to get braintree script from source"),n.bind(this)}}):(this.logService.trace(new Error("SDK was already loaded"),"Paypal Creditcard Payment Handler Service"),e())})}reInitBraintreeWithNewToken(){this.logService.trace(new Error("Receive new client token"),"PaypalCreditCardService"),this.paypalCreditCardResource.getClientToken().subscribe(e=>{this.pageJson=e,this.logService.trace(new Error("Attempt generating client instance..."),"PaypalCreditCardService"),this.document.defaultView.braintree.client.create({authorization:this.pageJson.paymentInfo?.externalPayment.token},(n,r)=>{this.logService.trace(new Error("Generated client instance"),"PaypalCreditCardService"),this.fetchDeviceData(r)})})}getScript(){return`<script id="${this.braintreeScriptIds[0]}" src="${this.BraintreeGatewayVersion}client.min.js"><\/script><script id="${this.braintreeScriptIds[1]}" src="${this.BraintreeGatewayVersion}hosted-fields.min.js"><\/script><script id="${this.braintreeScriptIds[2]}" src="${this.BraintreeGatewayVersion}data-collector.min.js"><\/script>`}onClick(){return this.logService.trace(new Error("Start payment process..."),"PaypalCreditCardService"),this.subscriptions.push(this.paypalCustomerStream.subscribe(e=>{this.logService.trace(new Error("CreditCard form submitted."),"PaypalCreditCardService"),this.moaService.isRunningInMoa()?(this.logService.trace(new Error("Subscribe to paymentResult..."),"PaypalCreditCardService with MOA"),this.finishOrderWithMoa(e)):this.finishOrder(e)})),this.startPaymentProcess(),Promise.resolve()}startPaymentProcess(){let e=new Dn({component:ore,inputs:[{inputName:"summaryPage",value:this.pageJson},{inputName:"clientInstance",value:this.clientInstance},{inputName:"paypalCustomerStream",value:this.paypalCustomerStream},{inputName:"acceptableBinRanges",value:this.pageJson.paymentInfo.externalPayment?.acceptableCreditCardBinRanges||null}]});e.disableHistoryBackHandling(),this.logService.trace(new Error("Open modal"),"PaypalCreditCardService"),this.modalWindowService.showModal(e)}finishOrderWithMoa(e){this.subscriptions.push(this.moaService.receive(ka.PAYMENT_RESULT).subscribe(([n,r])=>{switch(r.detail.errorCode){case xp.NO_ERROR:this.logService.trace(new Error("Received risk data from MOA"),"PaypalCreditCardService with MOA");try{this.deviceData=JSON.parse(r.detail.deviceData),this.finishOrder(e)}catch(o){this.logService.error(new Error(o),"PaypalCreditCardService with MOA")}break;case xp.CANCEL:this.logService.error(new Error(r.detail.errorMsg),"PaypalCreditCardService with MOA");break;default:this.logService.error(new Error(`Failed to retrieve data: ${r.detail.errorCode}`),"PaypalCreditCardService with MOA")}})),this.moaService.emitEvent(ka.PAYMENT,{detail:{token:this.pageJson.paymentInfo?.externalPayment?.token,paytype:yT.BRAINTREE_CREDIT_CARD}})}finishOrder(e){let n=iu.generate(this.form);n.paypalInformation={nonce:e.getNonce(),trackingId:this.deviceData.correlation_id,creditCardBin:e.getCreditCardBin(),installmentTerm:this.pageJson.paymentInfo.externalPayment.installmentNumber,monthlyPayment:this.pageJson.paymentInfo.externalPayment.installmentAmount},this.modalWindowService.hideModal(),this.orderCart(n).then(r=>{this.reservationTimerService.sendToBackground(),this.summaryService.determineNextPageAndProceed(r,{additionalUrlParameters:[`${this.order.orderNumber}`]})}).catch(r=>{this.logService.debug(new Error(r.message),"PaypalCreditCardService"),this.unlockOrder()})}fetchDeviceData(e){this.logService.trace(new Error("Collecting risk data from Braintree..."),"PaypalCreditCardService"),this.document.defaultView.braintree.dataCollector.create({client:e},(n,r)=>{n?this.logService.error(new Error(n),"PaypalCreditCardService"):(this.logService.trace(new Error("Received risk data from Braintree"),"PaypalCreditCardService"),this.deviceData=JSON.parse(r.deviceData),this.clientInstance=e)})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sre=(()=>{class t{handlers;masterpassPaymentService=E($H);paypalBraintreeService=E(ire);paypalBraintreeInstallmentsService=E(nre);paypalCreditCardPaymentHandlerService=E(are);externalCreditCardservice=E(Qie);klarnaPaymentService=E(_3);amePaymentService=E(Xie);paymentModuleService=E(Zie);adyenDropInPaymentHandler=E(Jie);constructor(){this.handlers=[this.masterpassPaymentService,this.paypalBraintreeService,this.paypalBraintreeInstallmentsService,this.paypalCreditCardPaymentHandlerService,this.externalCreditCardservice,this.klarnaPaymentService,this.amePaymentService,this.paymentModuleService,this.adyenDropInPaymentHandler]}getSuitableHandler(e){return Pa.of(this.handlers.find(n=>ce.isObject(e)&&n.isSuitable(e)))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function l$e(t,i){if(t&1&&D(0,"ev-gcps-info-mailing-container",0),t&2){let e=y();C("hidden",!0)("customerForm",e.customerFormJson())}}var lre=(()=>{class t{#e=E(ob);#t=E(fn);customerFormJson=We();#n=nn(!1);showComponent=sn(()=>ce.isObject(this.#e.emailFieldJson())&&this.#n());constructor(){let e=this.#t.get(ut.GCPS_TOKENS,null);this.#n.set(ce.isEmpty(e))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gcps-infomailing-qco-skips"]],inputs:{customerFormJson:[1,"customerFormJson"]},standalone:!1,decls:1,vars:1,consts:[[3,"hidden","customerForm"]],template:function(n,r){n&1&&J(0,l$e,1,2,"ev-gcps-info-mailing-container",0),n&2&&$(r.showComponent()?0:-1)},dependencies:[y1],encapsulation:2})}return t})();var d$e=t=>({"margin-bottom-m":t});function u$e(t,i){if(t&1&&D(0,"ev-additional-payment-info",0),t&2){let e=y();C("summaryPageJson",e.summaryPageJson)("affiliate",e.affiliate)}}function p$e(t,i){if(t&1){let e=Je();h(0,"button",6),Ee("onSubmit",function(){Ne(e);let r=y();return Re(r.onClickSubmit())}),R(1),H(2,"translate"),g()}if(t&2){let e=y();C("ngClass",et(6,d$e,!e.canUserImplicitlyAcceptTermsAndConditions()))("evFormsSubmit",e.parentForm)("evClickTracking",e.getTrackingObject()),d(),ne(" ",j(2,4,e.Message.CHECKOUT_APP_TO_RECEIPT)," ")}}function m$e(t,i){if(t&1){let e=Je();h(0,"div",7),Ee("click",function(){Ne(e);let r=y();return Re(r.checkFormValidity())})("keydown.space",function(){Ne(e);let r=y();return Re(r.checkFormValidity())})("keydown.enter",function(){Ne(e);let r=y();return Re(r.checkFormValidity())}),g()}}function f$e(t,i){if(t&1&&D(0,"div",5),t&2){let e=y();C("evClickTracking",e.getTrackingObject())}}var cre=(()=>{class t{#e=E(sre);#t=E(Yie);#n=E(N1);#i=E(Ka);#r=E(zie);#o=E(Gn);#a=E(bt);#s=E(Sc);#l=E(oh);Message=K;set summaryPageJson(e){this.#c=e,this.#e.getSuitableHandler(e.paymentInfo).ifPresentOrElse(n=>{this.paymentHandler=n},()=>{this.paymentHandler=this.#t}),this.paymentHandler.pageJson=e,this.#d&&this.paymentHandler.providesSubmitButton()&&setTimeout(()=>{this.paymentHandler.renderSubmitButton()})}get summaryPageJson(){return this.#c}parentForm;affiliate;paymentHandler;#c;#d=!1;tabIndexForIframe=-1;#u=400;#p=700;#m=ee.EMPTY_STRING;ngOnInit(){this.paymentHandler.affiliate=this.affiliate,this.paymentHandler.form=this.parentForm,this.paymentHandler.init(),this.#n.setPaymentHandler(this.paymentHandler),this.#d=!0,this.parentForm.control.statusChanges.subscribe(e=>{this.tabIndexForIframe=e===n$.VALID?0:-1})}ngAfterViewChecked(){if(!this.showDefaultCTA()){let e=document.querySelector("#external-submit-button iframe");e!==null&&(e.tabIndex=this.tabIndexForIframe)}}ngOnDestroy(){this.paymentHandler.subscriptions.forEach(e=>e.unsubscribe())}showDefaultCTA(){return this.paymentHandler!==void 0?!this.paymentHandler.providesSubmitButton():!0}canUserImplicitlyAcceptTermsAndConditions(){return this.summaryPageJson.implicitAcceptanceOfTermsAndConditions}onClickSubmit(){this.parentForm.control.valid&&(this.#i.sendToBackground(),this.#o.show(),this.#l.validate()&&this.#l.triggerGcpsSave(),this.isPopupNecessary(this.summaryPageJson.paymentInfo)?(this.paymentHandler.popup=this.openPopup(),this.paymentHandler.popup.window.addEventListener("load",()=>{this.handlePaymentHandlerClick()})):this.handlePaymentHandlerClick())}checkFormValidity(){this.parentForm.control.invalid&&this.parentForm.markAsTouched()}isBraintreePayPal(){let e=this.summaryPageJson.paymentInfo;return e.type===Wt.External&&e.subtype===si.PayPalInstallmentsBraintree}handlePaymentHandlerClick(){this.paymentHandler.onClick().then(this.handleSuccess.bind(this)).catch(this.handleError.bind(this))}handleSuccess(){this.#s.navigateToPendingPage(this.paymentHandler.popup),this.#a.trace(new Error(`finish order with ${this.paymentHandler.paymentMethodName}`),"BuyButton")}handleError(e){this.#a.error(new Error(`couldn't finish order with ${this.paymentHandler.paymentMethodName}`),"BuyButton"),this.#i.startTimer(),this.#r.handleConfirmationError(e,this.summaryPageJson.order.orderNumber)}isPopupNecessary(e){return e.type===Wt.External&&e.subtype===si.AdyenDropIn?(this.#m=this.setPopupParams(this.#u,this.#p),ro.isInsideIFrame()):ro.isInsideIFrame()&&e.type!==Wt.PaymentModule&&this.isExternalPaymentMethod(e)}isExternalPaymentMethod(e){return e.type===Wt.External&&e.subtype!==si.Billpay&&e.subtype!==si.BillpayPayLater&&e.subtype!==si.PayPalBraintree&&e.subtype!==si.PayPalInstallmentsBraintree&&e.subtype!==si.CreditCard&&e.subtype!==si.AdyenDropIn&&e.subtype!==si.BraintreeCreditCard}openPopup(){return new vT(Qe.WaitingFor,"PaymentProviderWindow",this.#m)}setPopupParams(e,n){let r=0,o=0;try{r=window.self.outerWidth/2+window.self.screenX-e/2,o=window.self.outerHeight/2+window.self.screenY-n/2}catch{this.#a.debug(new Error("window.self is not available for determining popup Position."),"BuyButton")}return`width=${e},height=${n},top=${o},left=${r},toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes`}getTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:`cta_buy_button_${this.summaryPageJson.paymentInfo.trackingName}`},ga3ClickTrackingData:{category:"checkout",action:"order_now"}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-buy-button"]],inputs:{summaryPageJson:"summaryPageJson",parentForm:"parentForm",affiliate:"affiliate"},standalone:!1,decls:6,vars:5,consts:[[3,"summaryPageJson","affiliate"],[1,"col-sm-6","col-sm-offset-6"],[3,"customerFormJson"],["type","button","data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"ngClass","evFormsSubmit","evClickTracking"],["tabindex","0","role","button",1,"ev-external-click-blocker"],["id","external-submit-button","data-qa","external-submit-button",1,"ev-external-submit-button",3,"evClickTracking"],["type","button","data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","ngClass","evFormsSubmit","evClickTracking"],["tabindex","0","role","button",1,"ev-external-click-blocker",3,"click","keydown.space","keydown.enter"]],template:function(n,r){n&1&&(J(0,u$e,1,2,"ev-additional-payment-info",0),h(1,"section",1),D(2,"ev-gcps-infomailing-qco-skips",2),J(3,p$e,3,8,"button",3)(4,m$e,1,0,"div",4)(5,f$e,1,1,"div",5),g()),n&2&&($(r.isBraintreePayPal()?0:-1),d(2),C("customerFormJson",r.summaryPageJson==null?null:r.summaryPageJson.customer),d(),$(r.showDefaultCTA()?3:-1),d(),$(!r.showDefaultCTA()&&!r.parentForm.control.valid?4:-1),d(),$(r.showDefaultCTA()?-1:5))},dependencies:[At,Ic,ho,Wie,lre,Se],styles:[".ev-external-click-blocker[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;z-index:10;cursor:pointer}.ev-external-submit-button[_ngcontent-%COMP%]{position:relative;z-index:5}"]})}return t})();var h$e=t=>({"no-margin-bottom":t}),g$e=(t,i)=>i.eventId,v$e=(t,i)=>i.id;function _$e(t,i){if(t&1&&(h(0,"div",2),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.invoiceCustomerName," ")}}function C$e(t,i){if(t&1){let e=Je();h(0,"ev-selection-info-card",1),H(1,"translate"),Ee("onChangeButtonClick",function(){Ne(e);let r=y();return Re(r.onclick())}),J(2,_$e,2,1,"div",2),R(3),g(),h(4,"div",3),D(5,"hr",4),g()}if(t&2){let e=y();C("cardHeadline",j(1,7,e.Message.CHECKOUT_APP_SUMMARY_BILLING_ADDRESS_HEADLINE))("iconName","billing")("clickTrackingObject",e.getClickTrackingObject("change_contact_data"))("showChangeButton",e.showChangeButton),d(2),$(e.invoiceCustomerName?2:-1),d(),ne(" ",e.invoiceInformation," "),d(2),C("ngClass",et(9,h$e,e.isSportsShop))}}function y$e(t,i){if(t&1&&(h(0,"span"),R(1),D(2,"br"),g()),t&2){let e=y(2);d(),Ae(e.deliveryCustomerName)}}function E$e(t,i){if(t&1&&(J(0,y$e,3,1,"span"),R(1)),t&2){let e=y();$(e.deliveryCustomerName?0:-1),d(),ne(" ",e.deliveryInformation," ")}}function T$e(t,i){if(t&1&&(h(0,"div",2),R(1),g()),t&2){let e=y(2);d(),ne(" ",e.invoiceCustomerName," ")}}function b$e(t,i){if(t&1&&(h(0,"span"),R(1),g()),t&2){let e=y(2);d(),Ae(e.invoiceInformation)}}function I$e(t,i){if(t&1&&D(0,"ev-member-card",6),t&2){let e=i.$implicit;C("memberCard",e.memberCards[0])}}function S$e(t,i){if(t&1&&ft(0,I$e,1,1,"ev-member-card",6,v$e),t&2){let e=i.$implicit;ht(e.priceCategory.tickets)}}function x$e(t,i){if(t&1&&(h(0,"div",5),ft(1,S$e,2,0,null,null,g$e),g()),t&2){let e=y(2);d(),ht(e.summaryPage.order.events)}}function A$e(t,i){if(t&1&&J(0,T$e,2,1,"div",2)(1,b$e,2,1,"span")(2,x$e,3,0,"div",5),t&2){let e=y();$(e.invoiceCustomerName?0:-1),d(),$(e.invoiceInformation?1:-1),d(),$(e.summaryPage.order.memberCardOrder?2:-1)}}var O3=class t{static mobileAddress=[Ue.CustomerMobile];static emailAddress=[Ue.CustomerEmail];static invoiceAddress=[Ue.CustomerStreetAndNo,Ue.CustomerAddressLine1,Ue.CustomerAddressLine2,Ue.CustomerAddressLine3,Ue.CustomerPostalCode,Ue.CustomerCity];static deliveryAddress=[Ue.DeliveryStreetAndNo,Ue.DeliveryAddressLine1,Ue.DeliveryAddressLine2,Ue.DeliveryAddressLine3,Ue.DeliveryPostalCode,Ue.DeliveryCity];static customerNameFields=[Ue.CustomerSalutation,Ue.DeliverySalutation,Ue.CustomerFirstName,Ue.DeliveryFirstName,Ue.CustomerLastName,Ue.DeliveryLastName];router=E(zt);logService=E(bt);summaryPage;showChangeButton=!0;isSportsShop=!1;invoiceCustomerName;deliveryCustomerName;invoiceInformation;deliveryInformation;ngOnInit(){let i=this.summaryPage.customer,e=this.summaryPage.deliveryInfo,n=this.summaryPage.deliveryInfoMemoryTickets;switch(this.deliveryCustomerName=this.getConcatString(i.deliveryData,t.customerNameFields),this.invoiceCustomerName=this.getConcatString(i.invoiceData,t.customerNameFields),e.type){case ui.POST_STANDARD:case ui.INLAND_EXPRESS:this.invoiceInformation=this.getConcatString(i.invoiceData,t.invoiceAddress,", "),this.deliveryInformation=this.getConcatString(i.deliveryData,t.deliveryAddress,", ");break;case ui.MOBILE:this.invoiceInformation=this.getConcatString(i.invoiceData,t.mobileAddress,", ");break;case ui.TICKETDIRECT:this.invoiceInformation=this.getConcatString(i.contactData,t.emailAddress,", ");break;default:break}switch(n?.type){case ui.POST_STANDARD:case ui.INLAND_EXPRESS:this.invoiceInformation=this.getConcatString(i.invoiceData,t.invoiceAddress,", "),this.deliveryInformation=this.getConcatString(i.deliveryData,t.deliveryAddress,", ");break;default:break}}getConcatString(i,e,n=" "){let r="";return i&&e.forEach((o,s)=>{let c=i.find(v=>v.fieldName===o);if(c?.value){let v=c.separator===Gm.Break&&s!==e.length-1;r+=`${c.value}${v?n:" "}`}}),r.trim()}onclick(){this.logService.trace(new Error("click on change"),"Delivery address Information"),this.router.navigate([Qe.Delivery],{fragment:is.DeliveryAddress})}getClickTrackingObject(i){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:i},ga3ClickTrackingData:{category:"checkout",action:"change.address"}}}Message=K;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=ae({type:t,selectors:[["ev-customer-address-summary"]],inputs:{summaryPage:"summaryPage",showChangeButton:"showChangeButton",isSportsShop:"isSportsShop"},standalone:!1,decls:5,vars:8,consts:[["data-qa","customer-data",3,"onChangeButtonClick","cardHeadline","iconName","clickTrackingObject","showChangeButton"],["data-qa","invoice-address",3,"onChangeButtonClick","cardHeadline","iconName","clickTrackingObject","showChangeButton"],[1,"margin-bottom-xs"],[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator",3,"ngClass"],["data-qa","member-card-info"],[3,"memberCard"]],template:function(e,n){e&1&&(J(0,C$e,6,11),h(1,"ev-selection-info-card",0),H(2,"translate"),Ee("onChangeButtonClick",function(){return n.onclick()}),J(3,E$e,2,2)(4,A$e,3,3),g()),e&2&&($(n.summaryPage.customer.deliveryData?0:-1),d(),C("cardHeadline",j(2,6,n.Message.CHECKOUT_APP_SUMMARY_CUSTOMER_DATA_HEADLINE))("iconName","house")("clickTrackingObject",n.getClickTrackingObject("change_address"))("showChangeButton",n.showChangeButton),d(2),$(n.summaryPage.customer.deliveryData?3:4))},dependencies:[At,b3,yh,Se],encapsulation:2})};var dre=(()=>{class t{displayName;mobileNumber;deliveryHint;deliveryType;subType;eTicket;pickupInfos;iconClassName;set deliveryInfo(e){this.mobileNumber=e.mobileNumber,this.deliveryHint=e.deliveryHint,this.deliveryType=e.type,this.subType=e.subType,this.eTicket=e.eTicket,this.pickupInfos=e.pickupInfos,this.iconClassName=e.iconClassName,this.displayName=Yl.determineDisplayText(e)}deliveryFee;hasDeliveryHint(){return ee.isNotEmpty(this.deliveryHint)}static \u0275fac=function(n){return new(n||t)};static \u0275dir=kt({type:t,inputs:{deliveryInfo:"deliveryInfo",deliveryFee:"deliveryFee"}})}return t})();function P$e(t,i){if(t&1&&(h(0,"div",1),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}function k$e(t,i){if(t&1&&ft(0,P$e,2,1,"div",1,ri),t&2){let e=y(2);ht(e.pickupInfos)}}function w$e(t,i){if(t&1&&(h(0,"li"),R(1),g()),t&2){let e=i.$implicit;d(),Ae(e)}}function D$e(t,i){if(t&1&&(h(0,"ul",0),ft(1,w$e,2,1,"li",null,ri),g()),t&2){let e=y(2);d(),ht(e.pickupInfos)}}function O$e(t,i){if(t&1&&J(0,k$e,2,0)(1,D$e,3,0,"ul",0),t&2){let e=y();$(e.pickupInfos.length===1?0:1)}}var ure=(()=>{class t{pickupInfos;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-will-call-information"]],inputs:{pickupInfos:"pickupInfos"},standalone:!1,decls:1,vars:1,consts:[["data-qa","pickup-infos",1,"sl-list"],["data-qa","pickup-info",1,"sl-highlight-info"]],template:function(n,r){n&1&&J(0,O$e,2,1),n&2&&$(r.pickupInfos?0:-1)},encapsulation:2})}return t})();function R$e(t,i){if(t&1&&D(0,"span",3),t&2){let e=y();C("evCoreHtml",e.deliveryHint)}}var pre=(()=>{class t extends dre{Message=K;#e=E(bt);#t=E(Sc);showChangeButton=We(!0);isCallcenter=We(!1);anchor=We(is.DeliveryMethod);cardHeadline=We(K.CHECKOUT_APP_SUMMARY_DELIVERY_METHOD_HEADLINE);trackingNavigationElement=We(null);getIcon(){return Yl.getDeliveryMethodIcons().get(this.iconClassName)??Yl.getDeliveryMethodIcons().get(null)}onClick(){this.#e.trace(new Error("click on change"),"Payment Method Information"),this.isCallcenter()?this.#t.navigateBackToPage("MOD details",this.anchor(),Qe.ShoppingCart):this.#t.navigateBackToPage("MOD details",this.anchor())}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:this.trackingNavigationElement()},ga3ClickTrackingData:{category:"checkout",action:"change.delivery_method"}}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-delivery-method-summary"]],inputs:{showChangeButton:[1,"showChangeButton"],isCallcenter:[1,"isCallcenter"],anchor:[1,"anchor"],cardHeadline:[1,"cardHeadline"],trackingNavigationElement:[1,"trackingNavigationElement"]},standalone:!1,features:[dt],decls:6,vars:9,consts:[[3,"onChangeButtonClick","cardHeadline","iconName","clickTrackingObject","showChangeButton"],["data-qa","description",1,"margin-bottom-xs"],[3,"content"],[1,"margin-bottom-xs",3,"evCoreHtml"],[3,"pickupInfos"]],template:function(n,r){n&1&&(h(0,"ev-selection-info-card",0),H(1,"translate"),Ee("onChangeButtonClick",function(){return r.onClick()}),h(2,"div",1),D(3,"ev-forms-formatter",2),g(),J(4,R$e,1,1,"span",3),D(5,"ev-will-call-information",4),g()),n&2&&(C("cardHeadline",j(1,7,r.cardHeadline()))("iconName",r.getIcon())("clickTrackingObject",r.getClickTrackingObject())("showChangeButton",r.showChangeButton()),d(3),C("content",r.displayName),d(),$(r.hasDeliveryHint()?4:-1),d(),C("pickupInfos",r.pickupInfos))},dependencies:[Zr,xt,yh,ure,Se],encapsulation:2})}return t})();function M$e(t,i){if(t&1&&D(0,"input",0),t&2){let e=y();C("value",e.gcpsHiddenEmailService.emailFieldJson().value),Le("name",e.gcpsHiddenEmailService.emailFieldJson().fieldName)}}var mre=(()=>{class t{gcpsHiddenEmailService=E(ob);static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-gcps-hidden-email"]],decls:1,vars:1,consts:[["type","hidden",3,"value"]],template:function(n,r){n&1&&J(0,M$e,1,2,"input",0),n&2&&$(r.gcpsHiddenEmailService.emailFieldJson()?0:-1)},encapsulation:2})}return t})();var N3=(()=>{class t extends ub{#e=E(ga);#t=sn(()=>ce.isObject(this.event()));#n=E(qN);#i="INSURANCE_FROM_SUMMARY";disableTicketInsuranceHighlight=We(!1);formName="insuranceSummaryCheckboxForm";checkBoxFormFieldName=ks.INSURANCE_SUMMARY;Message=K;ngOnInit(){super.ngOnInit(),this.createForm(!1),this.observeCheckbox()}getInsurancePrice(){return this.event()?this.event().priceCategory.ticketInsuranceAmount:this.order().insuranceFee}getTextWithDynamicValue(){let e=this.translateService.instant(K.CHECKOUT_APP_SUMMARY_INSURANCE_TEXT),n=new ns(this.#e);return this.#e.sanitize(bs.HTML,n.transform(e,[{placeholder:"{0}",replacementValue:this.getInsurancePrice()}]))}addApprovalCheckbox(){}observeCheckbox(){this.insuranceCheckbox()?.control.valueChanges.pipe(zn(this.destroyRef),Pd(()=>(this.insuranceCheckbox()?.control.value?this.#n.sessionStorage.setItem(this.#i,"true"):this.#n.sessionStorage.removeItem(this.#i),this.storeTicketInsuranceState(this.insuranceCheckbox()?.control.value,this.#t())))).subscribe(e=>{this.spinnerService.show(),this.orderService.updateTicketInsurance(e,this.order(),this.event()).catch(()=>{this.logService.trace(new Error("Selection failed!"),"Ticket Insurance"),this.insuranceCheckbox()?.control.setValue(this.event().priceCategory.ticketInsuranceFeeInt>0,{emitEvent:!1})}).finally(()=>{this.spinnerService.hide()})})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-insurance-summary"]],inputs:{disableTicketInsuranceHighlight:[1,"disableTicketInsuranceHighlight"]},features:[dt],decls:14,vars:13,consts:[["data-qa","insurance-summary",1,"main-ticket-card-ticket-insurance","margin-bottom-m",2,"display","none"],[3,"formGroup"],[1,"insurance-summary-content"],[1,"insurance-summary-header"],[1,"insurance-summary-form-field"],[3,"fieldName","value","chosenId"],[3,"for"],[1,"insurance-summary-price"],[1,"insurance-summary-description"],[3,"evCoreHtml"]],template:function(n,r){if(n&1&&(h(0,"section",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ev-forms-field")(6,"ev-forms-checkbox",5)(7,"label",6),R(8),H(9,"translate"),g()()()(),h(10,"div",7),R(11),g()(),h(12,"div",8),D(13,"div",9),g()()()()),n&2){let o,s,c;Tr("no-highlighted",r.disableTicketInsuranceHighlight()),d(),C("formGroup",r.insuranceForm().control),Le("data-qa",r.insuranceForm().name),d(5),C("fieldName",(o=r.insuranceCheckbox())==null?null:o.name)("value",!0)("chosenId",r.getInsuranceCheckboxId((s=r.insuranceCheckbox())==null?null:s.name)),d(),C("for",r.getInsuranceCheckboxId((c=r.insuranceCheckbox())==null?null:c.name)),d(),ne(" ",j(9,11,r.Message.CHECKOUT_APP_SUMMARY_INSURANCE_TITLE)," "),d(3),ne(" ",r.getInsurancePrice()," "),d(2),C("evCoreHtml",r.getTextWithDynamicValue())}},dependencies:[Kl,xi,Pn,wn,_a,Ai,ko,oi,Se,Po,xt],encapsulation:2})}return t})();var fre=(()=>{class t{determineLoyaltyParagraphs(e){let n=[],r="";return e.forEach((o,s)=>{r=this.handleLabel(o,r),r=this.handleValue(o,r,n,s===e.length-1)}),n}handleLabel(e,n){let r=n;return ee.isNotEmpty(e.label)&&(n.endsWith(" ")?r=e.label:r=`${e.label}: `),r}handleValue(e,n,r,o){let s=n,c=e.value;return ee.isNotEmpty(c)&&(s+=c,e.separator!==Gm.Break&&!o?s.endsWith(" ")||(s+=" "):(r.push(s),s="")),s}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function B$e(t,i){if(t&1&&(h(0,"p",4),R(1),g()),t&2){let e=i.$implicit;d(),ne(" ",e," ")}}var hre=(()=>{class t{#e=E(Ir);#t=E(zt);#n=E(fre);loyaltyData;showChangeButton;loyaltyComponents=nn([]);ngOnInit(){this.loyaltyComponents.set(this.#n.determineLoyaltyParagraphs(this.loyaltyData))}onClick(){this.#e.trace(new Error("click on change"),"Loyalty Number"),this.#t.navigate([Qe.Delivery],{fragment:is.Loyalty})}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:"change_loyalty_data"},ga3ClickTrackingData:{category:"checkout",action:"change.loyalty_data"}}}Message=K;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-loyalty-summary"]],inputs:{loyaltyData:"loyaltyData",showChangeButton:"showChangeButton"},standalone:!1,decls:7,vars:5,consts:[[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator"],[3,"onChangeButtonClick","cardHeadline","clickTrackingObject","imagePath","showChangeButton"],["data-qa","loyalty-content",1,"card-paragraph-wrap-up"],[1,"card-paragraph","theme-text-variant-color","text-nowrap","text-left"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"hr",1),g(),h(2,"ev-selection-info-card",2),H(3,"translate"),Ee("onChangeButtonClick",function(){return r.onClick()}),h(4,"div",3),ft(5,B$e,2,1,"p",4,ri),g()()),n&2&&(d(2),C("cardHeadline",j(3,3,r.Message.CHECKOUT_APP_SUBHEADLINE_LOYALTY_DATA))("clickTrackingObject",r.getClickTrackingObject())("showChangeButton",r.showChangeButton),d(3),ht(r.loyaltyComponents()))},dependencies:[yh,Se],encapsulation:2})}return t})();function U$e(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y(2);d(),Ae(e.holder)}}function $$e(t,i){if(t&1&&(h(0,"span",6),R(1),g()),t&2){let e=y(2);d(),Ae(e.iban)}}function H$e(t,i){if(t&1&&(h(0,"span",7),R(1),g()),t&2){let e=y(2);d(),Ae(e.bic)}}function V$e(t,i){if(t&1&&(h(0,"div",1)(1,"span",4),R(2),g(),D(3,"br"),J(4,U$e,2,1,"span",5),D(5,"br"),J(6,$$e,2,1,"span",6),D(7,"br"),J(8,H$e,2,1,"span",7),g()),t&2){let e=y();d(2),Ae(e.paymentMethodName),d(2),$(e.holder?4:-1),d(2),$(e.iban?6:-1),d(2),$(e.bic?8:-1)}}function j$e(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y(2);d(),Ae(e.holder)}}function G$e(t,i){if(t&1&&(h(0,"span",8),R(1),g()),t&2){let e=y(2);d(),Ae(e.iban)}}function K$e(t,i){if(t&1&&(h(0,"span",9),R(1),g()),t&2){let e=y(2);d(),Ae(e.bic)}}function q$e(t,i){if(t&1&&(h(0,"div",2)(1,"span",4),R(2),g(),D(3,"br"),J(4,j$e,2,1,"span",5),D(5,"br"),J(6,G$e,2,1,"span",8),D(7,"br"),J(8,K$e,2,1,"span",9),g()),t&2){let e=y();d(2),Ae(e.paymentMethodName),d(2),$(e.holder?4:-1),d(2),$(e.iban?6:-1),d(2),$(e.bic?8:-1)}}function W$e(t,i){if(t&1&&(h(0,"span",5),R(1),g()),t&2){let e=y(2);d(),Ae(e.holder)}}function z$e(t,i){if(t&1&&(h(0,"span",8),R(1),g()),t&2){let e=y(2);d(),Ae(e.iban)}}function Y$e(t,i){if(t&1&&(h(0,"div",3)(1,"span",4),R(2),g(),D(3,"br"),J(4,W$e,2,1,"span",5),D(5,"br"),J(6,z$e,2,1,"span",8),D(7,"br"),g()),t&2){let e=y();d(2),Ae(e.paymentMethodName),d(2),$(e.holder?4:-1),d(2),$(e.iban?6:-1)}}var gre=(()=>{class t{paymentInfo;paymentMethodName;holder;iban;bic;ngOnInit(){this.paymentMethodName=this.paymentInfo.debit.name,this.holder=this.getHolder(),this.iban=this.getIban(),this.bic=this.getBic()}getHolder(){return this.paymentInfo.subtype===Pl.NATIONAL?this.paymentInfo.debit.account?.accountHolder??"":this.paymentInfo.subtype===Pl.INTERNATIONAL&&this.paymentInfo.debit.iban?this.paymentInfo.debit.iban?.accountHolder??"":this.paymentInfo.debit.ibanWithoutBic?.accountHolder??""}getIban(){return this.paymentInfo.subtype===Pl.NATIONAL?this.paymentInfo.debit.account?.accountNumber??"":this.paymentInfo.subtype===Pl.INTERNATIONAL&&this.paymentInfo.debit.iban?this.paymentInfo.debit.iban?.iban??"":this.paymentInfo.debit.ibanWithoutBic?.iban??""}getBic(){return this.paymentInfo.subtype===Pl.NATIONAL?this.paymentInfo.debit.account.bankSortCode:this.paymentInfo.subtype===Pl.INTERNATIONAL&&this.paymentInfo.debit.iban?this.paymentInfo.debit.iban.bic:""}DirectDebitSubtype=Pl;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-debit-payment-information"]],inputs:{paymentInfo:"paymentInfo"},standalone:!1,decls:4,vars:1,consts:[["data-qa","debit-info"],["data-qa","national-debit"],["data-qa","international-debit"],["data-qa","international-debit-without-bic"],["data-qa","headline"],["data-qa","account-holder"],["data-qa","account-number"],["data-qa","bank-sort-code"],["data-qa","iban"],["data-qa","bic"]],template:function(n,r){n&1&&(h(0,"div",0),J(1,V$e,9,4,"div",1)(2,q$e,9,4,"div",2)(3,Y$e,8,3,"div",3),g()),n&2&&(d(),$(r.paymentInfo.subtype===r.DirectDebitSubtype.NATIONAL?1:r.paymentInfo.subtype===r.DirectDebitSubtype.INTERNATIONAL&&r.paymentInfo.debit.iban?2:r.paymentInfo.subtype===r.DirectDebitSubtype.INTERNATIONAL&&r.paymentInfo.debit.ibanWithoutBic?3:-1))},encapsulation:2})}return t})();function X$e(t,i){if(t&1&&(h(0,"div",2),R(1),H(2,"translate"),g()),t&2){let e=y();d(),ne(" ",j(2,1,e.hint)," ")}}var vre=(()=>{class t{paymentInfo;paymentMethodName;hint;#e=new Set([Wt.Prepayment,Wt.PrepaymentReservation,Wt.ESR]);#t=new Map([[Uu.payLater,K.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYLATER],[Uu.payOverTime,K.CHECKOUT_APP_KLARNA_PAYMENT_INFO_PAYOVERTIME],[Uu.directBankTransfer,K.CHECKOUT_APP_KLARNA_PAYMENT_INFO_BANKTRANSFER],[Uu.directDebit,K.CHECKOUT_APP_KLARNA_PAYMENT_INFO_DEBIT]]);ngOnInit(){this.paymentMethodName=this.getPaymentMethodName(),this.hint=this.getHint()}getPaymentMethodName(){return this.paymentInfo?.type===Wt.External?this.paymentInfo.subtype===si.CreditCard?this.paymentInfo.creditCard.name:this.paymentInfo.externalPayment.name:this.#e.has(this.paymentInfo?.type)?this.paymentInfo.prePayment.name:this.paymentInfo?.paymentData?.name??""}getHint(){return this.paymentInfo.type===Wt.Klarna?this.#t.get(this.paymentInfo.subtype):""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-payment-information"]],inputs:{paymentInfo:"paymentInfo"},standalone:!1,decls:4,vars:2,consts:[["data-qa","payment-info"],["data-qa","headline"],[1,"margin-top-xs","sl-info"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),R(2),g(),J(3,X$e,3,3,"div",2),g()),n&2&&(d(2),Ae(r.paymentMethodName),d(),$(r.hint?3:-1))},dependencies:[Se],encapsulation:2})}return t})();var Z$e=t=>({"no-margin-bottom":t});function eHe(t,i){if(t&1&&D(0,"ev-debit-payment-information",3),t&2){let e=y();C("paymentInfo",e.paymentInfo)}}function tHe(t,i){if(t&1&&D(0,"ev-payment-information",3),t&2){let e=y();C("paymentInfo",e.paymentInfo)}}var _re=(()=>{class t{document=E(Ot);paymentInfo;isSportsShop=!1;paymentMethodImagePath;PaymentMethodType=Wt;Message=K;#e=E(zt);#t=E(bt);#n=E(dh);#i=new Set([Wt.Prepayment,Wt.PrepaymentReservation,Wt.ESR]);ngOnInit(){this.paymentMethodImagePath=this.getImagePath()}onClick(){this.#n.setPaymentFirstViewOrChanged("true"),this.#t.trace(new Error("click on change"),"Payment Method Information"),this.#e.navigate([Qe.Payment],{fragment:QT.PaymentMethod})}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:"change_payment_method"},ga3ClickTrackingData:{category:"checkout",action:"change.payment_method"}}}getImagePath(){return this.paymentInfo?.type===Wt.External?this.paymentInfo.subtype===si.CreditCard?this.paymentInfo.creditCard.imagePath||"":this.paymentInfo.externalPayment.imagePath||"":this.#i.has(this.paymentInfo?.type)?this.paymentInfo.prePayment.imagePath||"":this.paymentInfo?.type===Wt.Debit?this.paymentInfo.debit.imagePath||"":this.paymentInfo?.paymentData?.imagePath||""}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-payment-method-summary"]],inputs:{paymentInfo:"paymentInfo",isSportsShop:"isSportsShop"},standalone:!1,decls:6,vars:10,consts:[[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator",3,"ngClass"],[3,"onChangeButtonClick","cardHeadline","iconName","imagePath","clickTrackingObject"],[3,"paymentInfo"]],template:function(n,r){n&1&&(h(0,"div",0),D(1,"hr",1),g(),h(2,"ev-selection-info-card",2),H(3,"translate"),Ee("onChangeButtonClick",function(){return r.onClick()}),J(4,eHe,1,1,"ev-debit-payment-information",3)(5,tHe,1,1,"ev-payment-information",3),g()),n&2&&(d(),C("ngClass",et(8,Z$e,r.isSportsShop)),d(),C("cardHeadline",j(3,6,r.Message.CHECKOUT_APP_SUMMARY_PAYMENT_METHOD_HEADLINE))("iconName","card")("imagePath",r.paymentMethodImagePath)("clickTrackingObject",r.getClickTrackingObject()),d(2),$(r.paymentInfo.type===r.PaymentMethodType.Debit?4:5))},dependencies:[At,yh,gre,vre,Se],encapsulation:2})}return t})();var nHe=t=>({"no-margin-bottom":t});function iHe(t,i){if(t&1&&(h(0,"div",13),R(1),g()),t&2){let e=y().$implicit;d(),ne(" ",e.value,"")}}function rHe(t,i){if(t&1&&J(0,iHe,2,1,"div",13),t&2){let e=i.$implicit,n=y(4);$(n.excludeSpecialFields(e.key)?0:-1)}}function oHe(t,i){if(t&1&&(h(0,"div",7),R(1),g(),h(2,"div",8),R(3),g(),h(4,"div",9),R(5),g(),h(6,"div",10),R(7),g(),h(8,"div",11),R(9),g(),h(10,"div",12),R(11),g(),ft(12,rHe,1,1,null,null,fr),H(14,"keyvalue")),t&2){let e=i.$implicit,n=i.$index,r=y(3);d(),ne(" ",r.getTicketLabel(n)," "),d(2),OC(" ",e.get(r.TicketPersonalisationFieldName.Salutation)," ",e.get(r.TicketPersonalisationFieldName.Title)," ",e.get(r.TicketPersonalisationFieldName.Firstname)," ",e.get(r.TicketPersonalisationFieldName.Lastname)," "),d(2),ne(" ",e.get(r.TicketPersonalisationFieldName.Birthday),""),d(2),ne(" ",e.get(r.TicketPersonalisationFieldName.Street),""),d(2),Vi(" ",e.get(r.TicketPersonalisationFieldName.ZipCode)," ",e.get(r.TicketPersonalisationFieldName.City)," "),d(2),ne(" ",e.get(r.TicketPersonalisationFieldName.Country),""),d(),ht(j(14,10,e))}}function aHe(t,i){if(t&1&&(h(0,"div",5)(1,"span",14),R(2),g(),D(3,"br"),h(4,"span",15),R(5),g()()),t&2){let e=i.$implicit;d(2),Ae(e.label),d(3),Ae(e.value)}}function sHe(t,i){t&1&&(h(0,"div",6),D(1,"hr",16),g())}function lHe(t,i){if(t&1&&(h(0,"div",3)(1,"span",4),R(2),g(),ft(3,oHe,15,12,null,null,fr),ft(5,aHe,6,2,"div",5,fr),g(),J(7,sHe,2,0,"div",6)),t&2){let e=i.$implicit,n=i.$index,r=i.$count;d(2),ne(" ",e.eventName," "),d(),ht(e.personalisation),d(2),ht(e.orderComments),d(2),$(n!==r-1?7:-1)}}function cHe(t,i){if(t&1){let e=Je();h(0,"div",0),D(1,"hr",1),g(),h(2,"ev-selection-info-card",2),H(3,"translate"),Ee("onChangeButtonClick",function(){Ne(e);let r=y();return Re(r.onclick())}),ft(4,lHe,8,2,null,null,fr),g()}if(t&2){let e=y();d(),C("ngClass",et(6,nHe,e.isSportsShop())),d(),C("cardHeadline",j(3,4,e.Message.CHECKOUT_APP_SUMMARY_TICKET_PERSONALISATION_HEADLINE))("iconName","personalisation")("clickTrackingObject",e.getClickTrackingObject()),d(2),ht(e.groupedPersonalisationByEvent())}}var Cre=(()=>{class t{#e=E(bt);#t=E(zt);#n=E(Sn);#i=E(T3);Message=K;TicketPersonalisationFieldName=fs;#r=[fs.Salutation,fs.Title,fs.Firstname,fs.Lastname,fs.Street,fs.ZipCode,fs.City,fs.Country,fs.Birthday];events=We.required();groupedPersonalisationByEvent=sn(()=>{let e=[];for(let n of this.events()){let r=(n.priceCategory?.tickets||[]).filter(s=>Array.isArray(s.personalisation)&&s.personalisation.length>0).map(s=>{let c=new Map;for(let v of s.personalisation)v.fieldName===fs.Nationality||v.fieldName===fs.Country?c.set(v.fieldName,v.countryName||v.value):v.fieldName===fs.Gender?c.set(v.fieldName,v.data[v.value]):c.set(v.fieldName,v.value);return c}),o=this.#i.determineOrderComments(n);(r.length>0||o.length>0)&&e.push({eventName:n.eventName,personalisation:r,orderComments:o})}return e});isSportsShop=We(!1);onclick(){this.#e.trace(new Error("click on change"),"Ticket Personalisation Information"),this.#t.navigate([Qe.TicketPersonalisation])}getTicketLabel(e){let n=this.#n.instant(K.CHECKOUT_APP_TICKET);return`${n.charAt(0).toUpperCase()+n.slice(1)} ${e+1}:`}excludeSpecialFields(e){return!this.#r.includes(e)}getClickTrackingObject(){return{clickTrackingData:{action:"",event_name:"navigation"},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"summary",navigation_element_selected:"change_personal_data"}}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-personalisation-summary"]],inputs:{events:[1,"events"],isSportsShop:[1,"isSportsShop"]},standalone:!1,decls:1,vars:1,consts:[[1,"col-xs-12","card-separator-spacer"],["aria-hidden","true",1,"card-separator",3,"ngClass"],["data-qa","ticket-personalisation-summary",3,"onChangeButtonClick","cardHeadline","iconName","clickTrackingObject"],[1,"padding-top-xs"],["data-qa","event-name"],["data-qa","order-comment-information",1,"margin-top-s","margin-bottom-xs"],[1,"card-separator-spacer","no-padding","margin-top-l","margin-bottom-l"],["data-qa","ticket-number",1,"margin-top-m","shopping-cart-position-subtitle"],["data-qa","name-group"],["data-qa","birthday-group",1,"margin-top-xxs"],["data-qa","street-group",1,"margin-top-xxs"],["data-qa","city-group",1,"margin-top-xxs"],["data-qa","country-group",1,"margin-top-xxs"],[1,"margin-top-xxs"],["data-qa","comment-label"],["data-qa","comment-value"],["aria-hidden","true",1,"card-separator"]],template:function(n,r){n&1&&J(0,cHe,6,8),n&2&&$(r.groupedPersonalisationByEvent().length>0?0:-1)},dependencies:[At,yh,_6,Se],encapsulation:2})}return t})();var yre=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[{provide:Du,useValue:El},{provide:fte,useExisting:Sp},w2,LT,Hd(Vd())],imports:[vv,_ie,Vr,cte,_a,Sv,Kl,IM,hA,fM,ch,mte,Pp,oi.forChild({loader:{provide:cl,useClass:ti,deps:[Ss]}}),Po.forRoot({htmlInjector:$s}),bM,aM,ts,cM,$ee,Hp,Vp,jp,cb,ZM,N3,Ch,eb,jM,t3,VT,EM,vM,go,ja,S3,GM]})}return t})();Dx(UA,function(){return[At,Ic,Us,$n,On,Xd,ta,Sl,db,w1,Lv,sH,C1,E3,Qd,Mie,Eie,Nie,Rie,Lie,Fie,jie,Die,Gie,Aie,wie]},function(){return[Su,Se]});Dx(IA,function(){return[At,hr,mr,ko,Pn,wn,sh,Us,$n,On,VT,Xd,ta,ja,CA,yA,I$,S$,b$,Sl,E1,E$,Lv,_A,bA,Fv,Qd,xie,Cie,Sie,bie,Tie,eu,Iie,P1,k1]},function(){return[Se]});Dx($A,function(){return[At,Us,pte,xt,$n,mre,N3,On,Xd,ta,$M,cre,Sl,E1,Lv,C1,HH,VH,RA,Qd,pre,O3,_re,Cre,P1,k1,hre]},function(){return[Se]});Dx(db,function(){return[At,hr,ko,xi,Pn,wn,$n,go,FA,dH,uH,pH,cH,vH,_H,Vie,CH,yH,ab,m3,Hie]},function(){return[Se]});var Ere=(()=>{class t{router=E(zt);translateService=E(Sn);webshopCookieService=E(_i);spinnerService=E(Gn);ngZone=E(Si);pageTrackingService=E(bl);storageService=E(fn);document=E(Ot);animationsDisabled=El.animationsDisabled;language=null;defaultLang="en";subscriptions=[];ngOnInit(){this.setLanguage(),this.storageService.set(ut.DYNAMIC_TRACKING_VARS,{delivery:"",payment:""}),this.subscriptions.push(this.registerPageChangeObserver())}ngOnDestroy(){this.subscriptions.forEach(e=>{e.unsubscribe()})}registerPageChangeObserver(){return this.router.events.subscribe(e=>{this.ngZone.runOutsideAngular(()=>{e instanceof Jc?(this.pageTrackingService.addOptionsToDatalayerBasedOnRoute(this.router.url),this.spinnerService.setSpinnerMessage(K.CHECKOUT_APP_SPINNER_LOAD_MESSAGE),this.spinnerService.show()):(e instanceof va||e instanceof Gd)&&this.spinnerService.hide()})})}getChildComponent(e){return e.root.firstChild?.firstChild?.component||null}setLanguage(){this.language=this.webshopCookieService.get(qi.Language),ee.isEmpty(this.language)&&(this.language=this.defaultLang),this.translateService.use(this.language);let e=this.document.getElementsByTagName("html");e.length>0&&Array.from(e).forEach(n=>{n.setAttribute("lang",this.language)})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-root"]],standalone:!1,decls:5,vars:1,consts:[["evOptimizelyConsentHandler",""]],template:function(n,r){n&1&&(h(0,"span",0),D(1,"router-outlet")(2,"ev-page-tracking")(3,"ev-forms-iframe-handler")(4,"ev-forms-grecaptcha-modal"),g()),n&2&&C("@.disabled",r.animationsDisabled)},dependencies:[ku,See,bee,Qee,Xee],encapsulation:2})}return t})();var dHe=["item"],uHe=["accordionHeadline"],pHe=["*"];function mHe(t,i){if(t&1&&D(0,"label",8),t&2){let e=y();C("evCoreHtml",e.getPlainOrFormattedHeadline()),Le("for",e.accordionItem.id)}}function fHe(t,i){if(t&1&&D(0,"ev-forms-formatter",12),t&2){let e=y(2);C("content",e.getFormattedHeadline())}}function hHe(t,i){if(t&1&&(D(0,"span",15),H(1,"translate")),t&2){let e=y(2);C("evCoreHtml",j(1,1,e.getPlainHeadline()))}}function gHe(t,i){if(t&1&&D(0,"ev-forms-info-link",16),t&2){let e=y(2);C("modalTitle",e.accordionItem.headline)("modalContent",e.accordionItem.infoText)("tabIndexToUse",e.getTabIndexForInfoLink())}}function vHe(t,i){if(t&1&&(J(0,fHe,1,1,"ev-forms-formatter",12)(1,hHe,2,3,"span",15),h(2,"span"),R(3,"\xA0 "),J(4,gHe,1,3,"ev-forms-info-link",16),g()),t&2){let e=y();$(e.hasFormattedHeadline()?0:1),d(4),$(e.hasInfoText()?4:-1)}}function _He(t,i){if(t&1&&D(0,"img",17),t&2){let e=i.$implicit,n=y(2);Xt("alt",n.accordionItem.altText),C("src",e,un)}}function CHe(t,i){if(t&1&&ft(0,_He,1,2,"img",17,fr),t&2){let e=y();ht(e.accordionItem.images)}}function yHe(t,i){if(t&1&&D(0,"img",18),t&2){let e=i.$implicit,n=y(2);Xt("alt",n.accordionItem.altText),C("src",e,un)}}function EHe(t,i){if(t&1&&(h(0,"div",10),ft(1,yHe,1,2,"img",18,fr),g()),t&2){let e=y();d(),ht(e.accordionItem.images)}}function THe(t,i){if(t&1&&D(0,"ev-forms-formatter",12),t&2){let e=y();C("content",e.accordionItem.marginal)}}function bHe(t,i){if(t&1&&R(0),t&2){let e=y();ne(" ",e.accordionItem.marginal," ")}}var M1=(()=>{class t{#e=E(Er);#t=E(tr);#n=E(Sn);item;accordionHeadlineItem;set accordionItem(e){this._accordionItem=e,this._returnValue=e.returnValue,this._accordionItem.isInitiallyExpanded&&this.openAccordionItem(),this._accordionItem.isInitiallyCollapsed&&this.collapseAccordionItem()}get accordionItem(){return this._accordionItem}get returnValue(){return this._returnValue}stateStream=new ni(null);set expanded(e){this._accordionItem.isExpanded=e}get expanded(){return this._accordionItem.isExpanded}hidden=!1;eventType=mh.Mouse;_accordionItem;_returnValue;_showBottomSeparator=!1;onFocus(e){e.target instanceof HTMLInputElement&&e.target.id===String(this.accordionItem.id)&&e.target.type==="radio"&&this.isKeyAllowed(e.key)&&(this.eventType=mh.Keyboard,this.activate())}onClick(e){this.isValidElement(e.target)&&(this.eventType=mh.Mouse,this.activate())}ngAfterViewInit(){this.accordionItem.disabled&&this.#e.setStyle(this.item.nativeElement,"display","none")}activate(e=!0){this.accordionItem.activatedByUserAction=e,this.accordionItem.setAccordionEventType(this.eventType),this.stateStream.next(this.accordionItem)}onStateChange(){return this.stateStream.asObservable()}openAccordionItem(){this.hidden=!1,this.expanded=!0,this.accordionItem.notifyClickListener(Ps.Open)}collapseAccordionItem(){this.hidden=!0,this.expanded=!1,this.accordionItem.notifyClickListener(Ps.Close)}setBottomSeparator(e){e!==this._showBottomSeparator&&(this._showBottomSeparator=e,e?(this.#e.addClass(this.item.nativeElement,"bottom-separator"),this.#e.addClass(this.item.nativeElement,"theme-box-shadow-bottom"),this.#e.addClass(this.item.nativeElement,"theme-element-border")):(this.#e.removeClass(this.item.nativeElement,"bottom-separator"),this.#e.removeClass(this.item.nativeElement,"theme-box-shadow-bottom"),this.#e.removeClass(this.item.nativeElement,"theme-element-border")))}getId(){return this.accordionItem.id!==null&&this.accordionItem.id!==void 0?`item-${this.accordionItem.id}`:null}hasFormattedHeadline(){return this.accordionItem.headline instanceof po}hasDescription(){return ee.isNotEmpty(this.accordionItem.description)}hasImagesOrMarginal(){return this.hasImages()||this.hasMarginal()}hasImages(){return Dt.isNotEmpty(this.accordionItem.images.filter(e=>ee.isNotEmpty(e)))}hasMarginal(){return ee.isNotEmpty(this.accordionItem.marginal)||this.hasFormattedMarginal()}hasFormattedMarginal(){return this.accordionItem.marginal instanceof po}hasInfoText(){return ee.isNotEmpty(this.accordionItem.infoText)}getFormattedHeadline(){return this.accordionItem.headline}getFormattedHeadlineString(){return this.getFormattedHeadline().getFragments()[0].getObject()}getPlainHeadline(){return this.accordionItem.headline}getPlainOrFormattedHeadline(){return this.hasPlainHeadline()?this.#n.instant(this.getPlainHeadline()):this.#n.instant(this.getFormattedHeadlineString())}hasPlainHeadline(){return typeof this.getPlainHeadline()=="string"}isIOSDevice(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!this.#t.MSStream}getTabIndexForInfoLink(){return this.accordionItem.isExpanded?0:-1}isValidElement(e){return this.accordionHeadlineItem.nativeElement.contains(e)&&!e.classList.contains("icon")&&!(e instanceof HTMLAnchorElement)}isKeyAllowed(e){return[Fr.ARROW_UP,Fr.ARROW_DOWN,Fr.SPACE,Fr.ARROW_LEFT,Fr.ARROW_RIGHT].indexOf(e)>-1}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-accordion-item"]],viewQuery:function(n,r){if(n&1&&(Qi(dHe,7),Qi(uHe,7)),n&2){let o;Ni(o=Ri())&&(r.item=o.first),Ni(o=Ri())&&(r.accordionHeadlineItem=o.first)}},hostBindings:function(n,r){n&1&&Ee("keyup",function(s){return r.onFocus(s)})("mouseup",function(s){return r.onClick(s)})},inputs:{accordionItem:"accordionItem"},ngContentSelectors:pHe,decls:20,vars:14,consts:[["item",""],["accordionHeadline",""],["data-qa","accordion-element",1,"accordion-item",3,"hidden"],[1,"accordion-item-title"],[1,"accordion-radio","accordion-item-radio"],[1,"styled-checkbox","no-padding-right","theme-switch-bg","theme-switch-color","theme-switch-border"],["type","radio","data-qa","radio-box",1,"radio-input",3,"checked","id"],[1,"theme-text-color","label"],[1,"sr-only",3,"evCoreHtml"],["data-qa","headline",1,"accordion-description-headline","accordion-item-headline"],[1,"accordion-item-image"],["data-qa","marginal",1,"accordion-item-marginal",3,"hidden"],[3,"content"],["data-qa","description",1,"accordion-item-description",3,"hidden","evCoreHtml"],["data-qa","content",1,"row","theme-text-variant-color","accordion-content","expanded"],[3,"evCoreHtml"],[3,"modalTitle","modalContent","tabIndexToUse"],["data-qa","headline-logo",1,"accordion-headline-icon",3,"src","alt"],["data-qa","logo-icon",1,"accordion-description-icon",3,"src","alt"]],template:function(n,r){n&1&&(lo(),h(0,"div",2,0)(2,"div",3,1)(4,"div",4)(5,"div",5),D(6,"input",6)(7,"label",7),g()(),J(8,mHe,1,2,"label",8),h(9,"div",9),J(10,vHe,5,2)(11,CHe,2,0),g(),J(12,EHe,3,0,"div",10),h(13,"div",11),J(14,THe,1,1,"ev-forms-formatter",12)(15,bHe,1,1),g(),D(16,"div",13),H(17,"translate"),g(),h(18,"div",14),Or(19),g()()),n&2&&(C("hidden",r.hidden),Le("id",r.getId()),d(6),C("checked",r.expanded)("id",r.accordionItem.id),d(2),$(r.isIOSDevice()?-1:8),d(2),$(r.accordionItem.showImageInsteadOfHeadline?11:10),d(2),$(r.hasImages()&&!r.accordionItem.showImageInsteadOfHeadline?12:-1),d(),C("hidden",!r.hasMarginal()),d(),$(r.hasFormattedMarginal()?14:15),d(2),C("hidden",!r.hasDescription())("evCoreHtml",j(17,12,r.accordionItem.description)),d(2),C("@toggleInOut",r.expanded))},dependencies:[_a,Zr,jm,Po,xt,oi,Se],encapsulation:2,data:{animation:[Av.toggleInOut()]}})}return t})();var SHe=["*"];function xHe(t,i){if(t&1&&(h(0,"div",1),ci(1,3),g()),t&2){y();let e=Fn(3);d(),C("ngTemplateOutlet",e)}}function AHe(t,i){if(t&1&&(h(0,"ev-pl-card",2)(1,"section",4),ci(2,3),g()()),t&2){let e=y(),n=Fn(3);C("headline",e.headline)("headlineLevel",2)("noContentPadding",!0),d(2),C("ngTemplateOutlet",n)}}function PHe(t,i){if(t&1){let e=Je();h(0,"div",7)(1,"div",8)(2,"button",9),Ee("click",function(){Ne(e);let r=y(2);return Re(r.showAll())}),R(3),H(4,"translate"),D(5,"i",10),g()()()}if(t&2){let e=y(2);d(3),ne(" ",j(4,1,e.showAllButtonText),"")}}function kHe(t,i){if(t&1&&(h(0,"div",5),D(1,"ev-pl-spinner",6),Or(2),J(3,PHe,6,3,"div",7),g()),t&2){let e=y();d(),C("visible",e.spinnerVisible)("small",!0),d(2),$(e.allItemsVisible()?-1:3)}}var R3=(()=>{class t{document=E(Ot);headline;spinnerVisible=!1;showAllButtonText;isInsideCard=!1;onSelection=new Jt;accordionItems;accordionItemHtmlElements;itemStateSubscriptions=new Map;itemSpinnerSubscriptions=new Map;subscriptions=[];currentList;ngAfterContentInit(){this.currentList=this.accordionItems.toArray(),this.subscribeToItemStateChanges(this.currentList),this.addBottomSeparators(this.currentList),this.initialSelection(this.currentList),this.subscriptions.push(this.subscribeToItemsListChanged())}ngOnDestroy(){this.stopItemSubscriptions(),this.subscriptions.forEach(e=>{e.unsubscribe()})}showAll(){this.accordionItems.toArray().forEach(e=>{e.hidden=!1}),this.addBottomSeparators(this.accordionItems.toArray())}allItemsVisible(){return this.accordionItems!==void 0?this.accordionItems.toArray().map(e=>e.hidden).every(e=>!e):!1}selectItem(e){let n=this.getItemComponent(e);ce.isObject(e)&&(this.onSelection.emit(e),this.activateAccordionItem(n))}subscribeToItemStateChanges(e){e.forEach(n=>{this.itemStateSubscriptions.set(n.getId(),this.subscribeToItemState(n)),this.itemSpinnerSubscriptions.set(n.getId(),this.subscribeToItemSpinner(n))})}activateAccordionItem(e){e.accordionItem.eventType===mh.Mouse?this.accordionItemAlreadyExpanded(e)&&!this.allItemsVisible()?this.showAll():(this.accordionItems.toArray().filter(n=>!Object.is(n,e)).forEach(n=>{n.collapseAccordionItem()}),e.openAccordionItem(),this.addBottomSeparators(this.accordionItems.toArray())):e.accordionItem.eventType===mh.Keyboard&&(this.accordionItems.toArray().forEach(n=>{n.expanded=!1,e.expanded=!0}),this.addBottomSeparators(this.accordionItems.toArray()))}accordionItemAlreadyExpanded(e){return e.expanded&&!e.hidden}stopItemSubscriptions(){Array.from(this.itemStateSubscriptions.values()).forEach(e=>{e.unsubscribe()})}addBottomSeparators(e){let n;e.forEach(r=>{r.setBottomSeparator(!1),!r.hidden&&n&&n.setBottomSeparator(!0),n=r})}subscribeToItemsListChanged(){return this.accordionItems.changes.subscribe(()=>{this.accordionItems.toArray().forEach(e=>{this.currentList.some(n=>n.getId()===e.getId())||(this.itemStateSubscriptions.set(e.getId(),this.subscribeToItemState(e)),this.itemSpinnerSubscriptions.set(e.getId(),this.subscribeToItemSpinner(e)))}),this.currentList.forEach(e=>{this.accordionItems.toArray().some(n=>n.getId()===e.getId())||(this.itemStateSubscriptions.get(e.getId()).unsubscribe(),this.itemStateSubscriptions.delete(e.getId()),this.itemSpinnerSubscriptions.get(e.getId()).unsubscribe(),this.itemSpinnerSubscriptions.delete(e.getId()))}),this.currentList=this.accordionItems.toArray(),this.initialSelection(this.currentList),this.addBottomSeparators(this.currentList)})}getItemComponent(e){return this.accordionItems.toArray().filter(n=>n.accordionItem!==void 0).filter(n=>Object.is(e,n.accordionItem)).shift()}subscribeToItemState(e){return e.onStateChange().pipe(Yt(n=>n!==null)).subscribe(n=>{this.onSelection.emit(n),this.activateAccordionItem(e)})}subscribeToItemSpinner(e){return e.accordionItem.onSpinner().subscribe(n=>{this.spinnerVisible=n})}initialSelection(e){let n=e.filter(r=>r.accordionItem.isInitiallyExpanded).shift();n!==void 0&&(n.accordionItem.activatedByUserAction=!1,n.expanded=!0,this.onSelection.emit(n.accordionItem))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-accordion"]],contentQueries:function(n,r,o){if(n&1&&(p0(o,M1,5),p0(o,M1,5,ii)),n&2){let s;Ni(s=Ri())&&(r.accordionItems=s),Ni(s=Ri())&&(r.accordionItemHtmlElements=s)}},inputs:{headline:"headline",spinnerVisible:"spinnerVisible",showAllButtonText:"showAllButtonText",isInsideCard:"isInsideCard"},outputs:{onSelection:"onSelection"},ngContentSelectors:SHe,decls:4,vars:1,consts:[["accordion",""],["data-qa","accordion",1,"accordion"],[3,"headline","headlineLevel","noContentPadding"],[3,"ngTemplateOutlet"],["data-qa","accordion",1,"accordion","no-padding"],[1,"u-position-relative","z-index-flyout"],[3,"visible","small"],[1,"card-further-action-accordion","theme-element-border"],[1,"text-center"],["type","button","data-qa","unfold-link",1,"btn","btn-link","link",3,"click"],[1,"icon","icon-expand-more","padding-left-gutter"]],template:function(n,r){n&1&&(lo(),J(0,xHe,2,1,"div",1)(1,AHe,3,4,"ev-pl-card",2)(2,kHe,4,3,"ng-template",null,0,vi)),n&2&&$(r.isInsideCard?0:1)},dependencies:[hr,ts,Tc,$n,oi,Se],encapsulation:2})}return t})();var Hv=(()=>{class t extends cr{resource="/ticketReturn";webshopApi=E(Vo);captchaWebshopApi=E(UT);getTicketReturnPageJson(e){let n=new Nr;return Dt.isNotEmpty(e)&&e.forEach(r=>{n=n.append("passId",r)}),this.webshopApi.get(this.resource,n)}getTicketConfirmationPageJson(e,n){return this.webshopApi.get(`${this.resource}/summary/${e}/${n}`)}isBarcodeValid(e,n){let r=new Nr;return Dt.isNotEmpty(n)&&n.forEach(o=>{r=r.append("validatedBarcodes",o)}),this.captchaWebshopApi.get(`${this.resource}/validateBarcode/${e}`,r)}putTicketReturnRequest(e){return this.captchaWebshopApi.put(`${this.resource}/request`,e)}getExternalPaymentInformation(e){return this.captchaWebshopApi.post(`${this.resource}/externalCreditCardUrl`,e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Tre=(()=>{class t{resource=E(Hv);router=E(zt);logService=E(Ir,{optional:!0});resolve(e){let n=Number(e.params.requestId),r=String(e.params.downloadToken);if(n!==void 0&&r!==void 0)return this.resource.getTicketConfirmationPageJson(n,r).pipe(cn(o=>o),No(()=>an(null)));this.logService.debug(new Error(`Parameter for confirmation page missing -> requestId:"${e.params.requestId}",
            downloadToken:"${e.params.downloadToken}"`),"Ticket Return Confirmation Page"),this.router.navigate([Qe.Error])}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var M3=function(t){return t[t.SEND_IN_REQUIRED=0]="SEND_IN_REQUIRED",t[t.NO_SEND_IN=1]="NO_SEND_IN",t}(M3||{});function DHe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y(2);ne(" ",j(1,1,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_FORM_CREATED)," ")}}function OHe(t,i){if(t&1&&(R(0),H(1,"translate")),t&2){let e=y(2);ne(" ",j(1,1,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_REQUEST_RECEIVED)," ")}}function NHe(t,i){if(t&1&&(h(0,"a",16),R(1),H(2,"translate"),g()),t&2){let e=y(3);Xt("href",e.data.downloadLink,un),d(),ne(" ",j(2,2,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_CARD_DOWNLOAD_BUTTON_LABEL)," ")}}function RHe(t,i){if(t&1&&(h(0,"h3",15),R(1),H(2,"translate"),g(),D(3,"p",14),H(4,"translate"),h(5,"h3",15),R(6),H(7,"translate"),g(),D(8,"p",14),H(9,"translate"),h(10,"h3",15),R(11),H(12,"translate"),g(),D(13,"p",14),H(14,"translate"),J(15,NHe,3,4,"a",16)),t&2){let e=y(2);d(),Ae(j(2,7,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_1)),d(2),C("evCoreHtml",j(4,9,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_DOWNLOAD_PDF)),d(3),Ae(j(7,11,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_2)),d(2),C("evCoreHtml",j(9,13,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_SEND_TICKETS)),d(3),Ae(j(12,15,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_HEADLINE_3)),d(2),C("evCoreHtml",j(14,17,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_STEP_GET_REFUND)),d(2),$(e.data.downloadLink?15:-1)}}function MHe(t,i){if(t&1&&(D(0,"p",14),H(1,"translate")),t&2){let e=y(2);C("evCoreHtml",j(1,1,e.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_WAIT_FOR_REFUND))}}function FHe(t,i){if(t&1&&(h(0,"ev-pl-card",5)(1,"section",6),qE(),h(2,"svg",7),D(3,"defs"),h(4,"g"),D(5,"circle",8)(6,"circle",9)(7,"circle",10)(8,"path",11),g()(),sq(),h(9,"p",12),J(10,DHe,2,3)(11,OHe,2,3),g()()(),h(12,"ev-pl-card",13)(13,"section"),J(14,RHe,16,19)(15,MHe,2,3,"p",14),g()()),t&2){let e,n,r=y();C("noContentPadding",!0),d(10),$((e=r.data.ticketReturnMode)===r.TicketReturnMode.SEND_IN_REQUIRED?10:11),d(2),C("headline",r.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_CARD_HEADLINE)("headlineLevel",2),Le("data-qa","confirmation-card"),d(2),$((n=r.data.ticketReturnMode)===r.TicketReturnMode.SEND_IN_REQUIRED?14:15)}}function LHe(t,i){if(t&1&&(h(0,"div",4)(1,"div",1)(2,"ev-notification",17),D(3,"span",18),H(4,"translate"),g()()()),t&2){let e=y();d(2),C("type",e.NotificationType.Danger),Le("data-qa","notification-global-error"),d(),C("evCoreHtml",j(4,3,e.Message.CHECKOUT_APP_GLOBAL_ERROR_GLOBAL_ERROR_MESSAGE))}}var bre=(()=>{class t{activatedRoute=E(Va);moaService=E(jo);pageTrackingService=E(bl);Message=K;NotificationType=rn;TicketReturnMode=M3;data;subscriptions=[];ngOnInit(){this.subscriptions.push(this.activatedRoute.data.subscribe(e=>{this.data=e.ticketReturnConfirmationJson,ce.hasProperty(this.data,"dataLayer")&&this.pageTrackingService.trackPageChange(this.data.dataLayer,this.data.page,this.data.customer),this.moaService.isRunningInMoa()&&this.hasValidData()&&this.moaService.emitEvent(ka.TRIGGER_APP,{detail:{action:E0.TICKET_RETURN_REQUEST_CREATED}})}))}hasValidData(){return!ce.isEmpty(this.data)&&!(this.data.ticketReturnMode===M3.SEND_IN_REQUIRED&&ee.isEmpty(this.data.downloadLink))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-return-confirmation-page"]],standalone:!1,decls:8,vars:4,consts:[["data-qa","ticket-return-confirmation-page",1,"c-narrow"],[1,"col-xs-12"],[1,"row","heading"],["data-qa","page-headline",1,"headline-title","page-headline-first-order","col-xs-12","p-font-checkout"],[1,"row"],[3,"noContentPadding"],["data-qa","success-element",1,"card-header","is-success","theme-element-radius"],["xmlns","http://www.w3.org/2000/svg","version","1.1","data-qa","success-icon","width","80px","height","80px","viewBox","0 0 80 80","preserveAspectRatio","xMidYMid meet",1,"card-header-success-icon"],["cx","40","cy","40","r","40","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2.85714px","opacity","0"],["cx","40","cy","40","r","28.57142857142857","fill","none","stroke","#3bc83c","transform","matrix(1,0,0,1,0,0)",2,"stroke-width","2px"],["cx","40","cy","40","r","28.57142857142857","fill","#3bc83c"],["id","successStroke","data-qa","success-stroke","d","M23,40L34.285714285714285,51.285714285714285,58.695098807413736,28.309965963892967","fill","none","stroke","#ffffff","transform","matrix(0.95,0,0,0.95,2.0424,1.9899)",1,"card-header-success-stroke",2,"stroke-width","5px","stroke-dasharray","49.4821px, 49.4821px","stroke-linecap","round","stroke-linejoin","round","opacity","1"],["data-qa","success-message",1,"card-header-success-message"],[3,"headline","headlineLevel"],[1,"card-paragraph","theme-text-color",3,"evCoreHtml"],[1,"card-inline-headline"],["data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","margin-top-xxl","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"href"],[3,"type"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),R(4),H(5,"translate"),g()(),J(6,FHe,16,6)(7,LHe,5,5,"div",4),g()()),n&2&&(d(4),Ae(j(5,2,r.Message.TICKET_RETURN_SELF_SERVICE_CONFIRMATION_PAGE_HEADLINE)),d(2),$(r.hasValidData()?6:7))},dependencies:[xt,$n,On,Se],encapsulation:2})}return t})();var _s=function(t){return t[t.FROM_ORDER=0]="FROM_ORDER",t[t.IBAN=1]="IBAN",t[t.VOUCHER=2]="VOUCHER",t[t.EXTERNAL_CREDIT_CARD=3]="EXTERNAL_CREDIT_CARD",t}(_s||{});var F3=class extends As{ticketReturnResource;allowedRefundModes$;barcodeHint$;errorMessage;type=wt.Rejected;validatorConfig={};asyncValidatorFn=null;rejectedValue=null;previousValue;validationErrors=null;requestStillProcessing=!1;constructor(i,e,n,r=null){super(r),this.ticketReturnResource=i,this.allowedRefundModes$=e,this.barcodeHint$=n,this.errorMessage=r,this.setupValidator()}onPayloadUpdate(i){this.validatorConfig=i.validatorConfig,ee.isNotEmpty(this.validatorConfig.rejectedValue)&&(this.rejectedValue=this.validatorConfig.rejectedValue),ee.isNotEmpty(this.validatorConfig.message)&&this.setErrorMessage(this.validatorConfig.message)}setupValidator(){this.asyncValidatorFn=i=>(this.requestStillProcessing&&(this.requestStillProcessing=!1,this.previousValue=null,this.rejectedValue=null),ee.isNotEmpty(this.rejectedValue)&&i.value===this.rejectedValue?(this.validationErrors={},this.validationErrors[wt.Rejected]=!0,an(this.validationErrors)):ee.isEmpty(this.previousValue)||this.previousValue!==i.value?(this.previousValue=i.value,this.requestStillProcessing=!0,this.ticketReturnResource.isBarcodeValid(i.value,this.getBarcodes(i)).pipe(cn(e=>(this.broadcastAllowedRefundModes(e),this.broadcastBarcodeHint(e),this.requestStillProcessing=!1,this.validationErrors=null,null)),No((e,n)=>(e.errorCode&&e.message&&this.setErrorMessage(e.message),this.validationErrors={},this.validationErrors[wt.Rejected]=!0,this.requestStillProcessing=!1,an(this.validationErrors))))):an(this.validationErrors))}getBarcodes(i){let e=i.parent,n=[];return Object.keys(e.controls).forEach(r=>{let o=e.controls[r];o.valid&&o!==i&&n.push(o.value)}),n}broadcastAllowedRefundModes(i){ce.isObject(i)&&Dt.isNotEmpty(i.allowedRefundModes)?this.allowedRefundModes$.next(i.allowedRefundModes):this.allowedRefundModes$.next([_s.FROM_ORDER])}broadcastBarcodeHint(i){ce.isObject(i)&&ee.isNotEmpty(i.barcodeHint)?this.barcodeHint$.next(i.barcodeHint):this.barcodeHint$.next(null)}};var L3=class extends As{type=wt.Pattern;constructor(){super(null)}validatorFn=i=>(typeof i.value=="string"&&i.value.match(/\s/g)&&i.setValue(i.value.replace(/\s/g,"")),null);onPayloadUpdate(i){}};var mb=(()=>{class t{errorMessages;allowedRefundModes$=new ni([]);barcodeHint$=new qn;ticketReturnResourceService=E(Hv);constructor(){this.errorMessages=new Map}removeSpaces(){return new L3}getErrorMessages(){return this.errorMessages}addErrorMessage(e,n){this.errorMessages.set(e,n)}broadcastAllowedRefundModes(e){this.allowedRefundModes$.next(e)}getAllowedRefundModes(){return this.allowedRefundModes$.asObservable()}getBarcodeHint(){return this.barcodeHint$.asObservable()}getBarcodeValidator(){return new F3(this.ticketReturnResourceService,this.allowedRefundModes$,this.barcodeHint$)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var BHe=t=>({disabled:t}),Ire=(()=>{class t{index;isRemaining=!1;parentForm;fieldName;onClick=new Jt;Message=K;getInputLabel(){return this.index>0?K.TICKET_RETURN_SELF_SERVICE_BARCODES_ADDITIONAL_TICKET_BARCODE:K.TICKET_RETURN_SELF_SERVICE_BARCODES_TICKET_BARCODE}onClickHandler(e){e&&e.preventDefault(),this.onClick.emit(this.index)}getCurrentControl(){return this.parentForm.getField(this.fieldName)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-barcode-input"]],inputs:{index:"index",isRemaining:"isRemaining",parentForm:"parentForm",fieldName:"fieldName"},outputs:{onClick:"onClick"},standalone:!1,decls:13,vars:17,consts:[[1,"row"],[1,"col-xs-12",3,"formGroup"],[1,"input-group","input-group-inline-submit","fullwidth"],["data-qa","barcode-input","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"formControlName","name","placeholder"],["role","button","data-qa","barcode-delete-button",1,"delete-btn","input-group-addon","input-group-addon-alternative","btn-lg","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius","theme-interaction-border",3,"click","keydown.space","keydown.enter","ngClass","tabIndex"],[1,"icon","icon-minus"],[3,"field"]],template:function(n,r){n&1&&(h(0,"ev-forms-field")(1,"ev-forms-field-label"),R(2),H(3,"translate"),g(),h(4,"div",0)(5,"div",1)(6,"div",2),D(7,"input",3),H(8,"translate"),h(9,"div",4),H(10,"translate"),Ee("click",function(){return r.onClickHandler()})("keydown.space",function(s){return r.onClickHandler(s)})("keydown.enter",function(){return r.onClickHandler()}),D(11,"span",5),g()(),D(12,"ev-forms-field-error",6),g()()()),n&2&&(d(2),ne(" ",j(3,9,r.getInputLabel())," "),d(3),C("formGroup",r.parentForm.control),d(2),Xt("name",r.fieldName),Xt("placeholder",j(8,11,r.Message.TICKET_RETURN_SELF_SERVICE_BARCODES_TICKET_BARCODE)),C("formControlName",r.fieldName),d(2),C("ngClass",et(15,BHe,r.isRemaining))("tabIndex",r.isRemaining?-1:0),Le("aria-label",j(10,13,r.Message.TICKET_RETURN_SELF_SERVICE_REMOVE_BARCODE)),d(3),C("field",r.getCurrentControl()))},dependencies:[At,Ai,id,mr,jr,Rr,Pn,wn,_o,Se],encapsulation:2})}return t})();function $He(t,i){if(t&1){let e=Je();h(0,"section")(1,"ev-ticket-barcode-input",5),Ee("onClick",function(){let r=Ne(e),o=r.$implicit,s=r.$index,c=y(2);return Re(c.removeInput(s,o.name))}),g()()}if(t&2){let e=i.$implicit,n=i.$index,r=y(2);d(),C("fieldName",e.name)("index",n)("parentForm",r.barcodeForm)("isRemaining",r.barcodeFields.length===1)}}function HHe(t,i){if(t&1&&(h(0,"section")(1,"div",1)(2,"div",6)(3,"div",1)(4,"div",2)(5,"div",7)(6,"ev-notification",8)(7,"span",9),R(8),g()()()()()()()()),t&2){let e=y(2);d(6),C("type",e.NotificationType.Warning),Le("data-qa","notification-barcode-hint"),d(2),Ae(e.barcodeHint)}}function VHe(t,i){if(t&1){let e=Je();h(0,"div",0),ft(1,$He,2,4,"section",null,ri),J(3,HHe,9,3,"section"),h(4,"section")(5,"ev-forms-field")(6,"ev-forms-field-label"),R(7),H(8,"translate"),g(),h(9,"div",1)(10,"div",2)(11,"div",3),H(12,"translate"),Ee("keydown.space",function(r){Ne(e);let o=y();return Re(o.addInput(r))})("keydown.enter",function(){Ne(e);let r=y();return Re(r.addInput())})("click",function(){Ne(e);let r=y();return Re(r.addInput())}),D(13,"i",4),g()()()()()()}if(t&2){let e=y();C("formGroup",e.parentForm.control),d(),ht(e.barcodeFields),d(2),$(e.barcodeHint?3:-1),d(4),ne(" ",j(8,4,e.Message.TICKET_RETURN_SELF_SERVICE_BARCODES_ADDITIONAL_TICKET_BARCODE)," "),d(4),Le("aria-label",j(12,6,e.Message.TICKET_RETURN_SELF_SERVICE_ADD_BARCODE))}}var Sre=(()=>{class t{Message=K;NotificationType=rn;parentForm;formName;barcodeForm;barcodeFields=[];barcodeHint;indexCounter=0;subscriptions=[];ticketReturnValidationService=E(mb);ngOnInit(){this.barcodeForm=new vn(this.formName,[],[],{updateOn:"blur"}),this.addInput(),this.parentForm.set(this.barcodeForm),this.subscriptions.push(this.ticketReturnValidationService.getBarcodeHint().subscribe(e=>{this.barcodeHint=e}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}removeInput(e,n){this.barcodeForm.remove(n),this.barcodeFields.splice(e,1)}addInput(e){e&&e.preventDefault();let n=this.getNextControlName();this.barcodeForm.set(new Gt({fieldName:n,type:Mt.Text,mandatory:!0,value:""},[this.ticketReturnValidationService.removeSpaces(),new ir],[this.ticketReturnValidationService.getBarcodeValidator()])),this.barcodeFields.push({name:n})}getNextControlName(){return this.indexCounter++,`barcodeInput${this.indexCounter}`}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-add-barcodes"]],inputs:{parentForm:"parentForm",formName:"formName"},standalone:!1,decls:1,vars:1,consts:[[3,"formGroup"],[1,"row"],[1,"col-xs-12"],["data-qa","add-input-button","tabindex","0","role","button",1,"btn","btn-alternative","btn-lg","btn-close","theme-btn-font-color","theme-btn-font-color-hover","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"keydown.space","keydown.enter","click"],[1,"icon","icon-plus"],[3,"onClick","fieldName","index","parentForm","isRemaining"],[1,"col-sm-8","col-sm-offset-4"],[1,"form-group"],[3,"type"],["data-qa","message"]],template:function(n,r){n&1&&J(0,VHe,14,8,"div",0),n&2&&$(r.parentForm&&r.barcodeForm?0:-1)},dependencies:[Ai,id,Pn,wn,On,Ire,Se],encapsulation:2})}return t})();function GHe(t,i){if(t&1&&D(0,"ev-forms-shocu",1),t&2){let e=y();C("form",e.getShocuForm(e.ShocuFieldGroup.TicketReturnContactData))("shocuFields",e.ticketReturnPageJson.customer.ticketReturnContactData)("fiscalCodeConfig",e.ticketReturnPageJson.fiscalCodeConfig)("referenceData",e.ticketReturnPageJson.referenceData)("affiliateJson",e.affiliateJson)("customerForm",e.ticketReturnPageJson.customer)}}var xre=(()=>{class t{Message=K;ShocuFieldGroup=bn;parentForm;ticketReturnPageJson;affiliateJson;ngOnInit(){this.buildSubForms(this.ticketReturnPageJson.customer),setTimeout(()=>{this.parentForm.getForm(bn.TicketReturnContactData).rules.has("emailAssigned")&&this.parentForm.getForm(bn.TicketReturnContactData).rules.get("emailAssigned").disable()})}getShocuForm(e){return this.parentForm.getForm(e)}buildSubForms(e){this.parentForm.set(new vn(bn.TicketReturnContactData,e.ticketReturnContactData.map(n=>{let r={};return ce.isObject(n.validation)&&(r=n.validation),new Gt(n,ea.getValidators(r,n))})))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-address-data"]],inputs:{parentForm:"parentForm",ticketReturnPageJson:"ticketReturnPageJson",affiliateJson:"affiliateJson"},standalone:!1,decls:3,vars:6,consts:[[3,"headline","headlineLevel"],[3,"form","shocuFields","fiscalCodeConfig","referenceData","affiliateJson","customerForm"],[3,"wrapInSection","cssClasses"]],template:function(n,r){n&1&&(h(0,"ev-pl-card",0),J(1,GHe,1,6,"ev-forms-shocu",1),D(2,"ev-gdpr-hint",2),g()),n&2&&(C("headline",r.Message.TICKET_RETURN_SELF_SERVICE_CUSTOMER_DATA_HEADLINE)("headlineLevel",2),Le("data-qa","address-data-card"),d(),$(r.parentForm.hasForm(r.ShocuFieldGroup.TicketReturnContactData)?1:-1),d(),C("wrapInSection",!0)("cssClasses","card-hint theme-text-light-color"))},dependencies:[oM,$n,ja],encapsulation:2})}return t})();var qHe=["refundIframe"],WHe=t=>({"external-iframe-payment-ios-scroll-enabled":t}),zHe=(t,i)=>({"offset-left":t,"offset-right":i}),Are=(()=>{class t extends Gi{changeDetectorRef=E(nr);clickTracking=E(rr);document=E(Ot);logger=E(bt);sportsService=E(ai);ngZone=E(Si);renderer=E(Er);sanitizer=E(ga);Message=K;refundInfoJson;affiliateJson;dataSubmitted=new Jt;iframe;iframeUrl;isDataSubmitPending;removeMessageEventListener;ngOnInit(){this.isIOSDevice()&&this.renderer.setAttribute(this.iframe.nativeElement,"scrolling","no"),this.isDataSubmitPending=!1,this.refundInfoJson?.url?(this.iframeUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.refundInfoJson.url),this.removeMessageEventListener=this.renderer.listen("window","message",this.handleMessageEvent.bind(this))):this.logger.error(new Error("url is missing"),"CreditCardRefundLayerComponent")}ngOnDestroy(){typeof this.removeMessageEventListener=="function"&&this.removeMessageEventListener()}closeRefundModal(){this.clickTracking.trackClick({ga3ClickTrackingData:{action:"refund_cc_wallet",label:"button_close"}}),this.closeModal.emit()}isIOSDevice(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}isRtl(){return this.document.documentElement.dir==="rtl"}handleMessageEvent(e){ee.isEmpty(e.data)||this.ngZone.run(()=>{switch(e.data.split(" ",1)[0]){case kl.PAYMENT_DONE:this.dataSubmitted.emit(),this.closeModal.emit();break;case kl.START_SUBMIT:this.clickTracking.trackClick({ga3ClickTrackingData:{action:"refund_cc_wallet",label:"button_submit"}}),this.isDataSubmitPending=!0,this.changeDetectorRef.detectChanges();break;case kl.DEACTIVATE_CLOSE_BUTTON:this.isDataSubmitPending=!0,this.changeDetectorRef.detectChanges();break;case kl.ACTIVATE_CLOSE_BUTTON:case kl.KPS_CC_WALLET_ERROR:this.isDataSubmitPending=!1,this.changeDetectorRef.detectChanges();break;case kl.AWAITING_STYLES:this.sportsService?.isSportsShop(this.affiliateJson)||this.iframe.nativeElement.contentWindow.postMessage(`${kl.SEND_STYLES} ${this.getThemingObjectAsString()}`,"*");break;case kl.RESIZE_WINDOW:this.setIframeHeight(e.data);break;default:}})}setIframeHeight(e){let r=e.match(/\d+/g);Dt.isNotEmpty(r)&&(this.iframe.nativeElement.style.height=`${Number(r[0])+5}px`)}getThemingObjectAsString(){let e={backgroundColor:this.affiliateJson.themingSettings.backgroundColor,fontColor:this.affiliateJson.themingSettings.fontColor,fontColorVariant:this.affiliateJson.themingSettings.fontColorVariant,buttonBackgroundColor:this.affiliateJson.themingSettings.buttonBackgroundColor,buttonBackgroundColorHover:this.affiliateJson.themingSettings.buttonBackgroundColorHover,buttonFontColor:this.affiliateJson.themingSettings.buttonFontColor,buttonFontColorHover:this.affiliateJson.themingSettings.buttonFontColorHover};return JSON.stringify(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275cmp=ae({type:t,selectors:[["ev-credit-card-refund-layer"]],viewQuery:function(n,r){if(n&1&&Qi(qHe,7,ii),n&2){let o;Ni(o=Ri())&&(r.iframe=o.first)}},inputs:{refundInfoJson:"refundInfoJson",affiliateJson:"affiliateJson"},outputs:{dataSubmitted:"dataSubmitted"},standalone:!1,features:[dt],decls:10,vars:12,consts:[["refundIframe",""],[1,"row"],[1,"col-xs-12",3,"ngClass"],[1,"external-iframe-payment",2,"height","300px",3,"src"],[1,"col-xs-12","center-alignment-md"],["data-qa","close-button",1,"wallet-button-width","btn","btn-secondary","theme-interaction-border","theme-interaction-bg","theme-interaction-color","theme-button-radius","btn-sm",3,"click","disabled","ngClass"],[1,"btn-text"]],template:function(n,r){if(n&1){let o=Je();h(0,"div",1)(1,"div",2),D(2,"iframe",3,0),g()(),h(4,"div",1)(5,"div",4)(6,"button",5),Ee("click",function(){return Ne(o),Re(r.closeRefundModal())}),h(7,"span",6),R(8),H(9,"translate"),g()()()()}n&2&&(d(),C("ngClass",et(7,WHe,r.isIOSDevice())),d(),C("src",r.iframeUrl,tv),d(4),C("disabled",r.isDataSubmitPending)("ngClass",Un(9,zHe,!r.isRtl(),r.isRtl())),d(2),ne(" ",j(9,5,r.Message.GLOBAL_BUTTON_CLOSE)," "))},dependencies:[At,Se],styles:[".external-iframe-payment-ios-scroll-enabled[_ngcontent-%COMP%]{-webkit-overflow-scrolling:touch}.external-iframe-payment[_ngcontent-%COMP%]{width:100%;border:0}.center-alignment-md[_ngcontent-%COMP%]{text-align:center}.wallet-button-width[_ngcontent-%COMP%]{width:387px}@media (max-width: 631px){.center-alignment-md[_ngcontent-%COMP%]{text-align:inherit}.offset-left[_ngcontent-%COMP%]{margin-left:14px}.offset-right[_ngcontent-%COMP%]{margin-right:14px}.wallet-button-width[_ngcontent-%COMP%]{width:calc(100% - 28px)}}"]})}return t})();var Pre=(()=>{class t{Message=K;mandatoryLogin=We.required();affiliate=We.required();#e=E(Gn);login(){this.#e.show(),En.redirectFromSelfTo(`/ticket-return?affiliate=${this.affiliate().code}&forceLogin=true`)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-return-keycloak-login"]],inputs:{mandatoryLogin:[1,"mandatoryLogin"],affiliate:[1,"affiliate"]},standalone:!1,decls:7,vars:9,consts:[[3,"showDetailsTitle","hideDetailsTitle","expanded"],["additionalClass","padding-top-m"],[1,"row"],[1,"col-sm-6","col-sm-offset-3"],["dataQa","keycloak-login-button",3,"click","buttonText","hasFullWidth"]],template:function(n,r){n&1&&(h(0,"ev-toggle",0)(1,"ev-pl-card",1)(2,"section")(3,"div",2)(4,"div",3)(5,"ev-pl-button",4),H(6,"translate"),Ee("click",function(){return r.login()}),g()()()()()()),n&2&&(C("showDetailsTitle",r.Message.CHECKOUT_APP_LOGIN)("hideDetailsTitle",r.Message.CHECKOUT_APP_LOGIN)("expanded",r.mandatoryLogin()),Le("data-qa","keycloak-login-card-toggle"),d(),Le("data-qa","keycloak-login-card"),d(4),Xt("buttonText",j(6,7,r.Message.CHECKOUT_APP_LOGIN)),C("hasFullWidth",!0))},dependencies:[$n,Yd,go,Se],encapsulation:2})}return t})();function JHe(t,i){if(t&1&&(h(0,"ev-notification",13)(1,"span",16),R(2),g()()),t&2){let e=y();C("type",e.notificationType),d(2),Ae(e.notificationMessage())}}var kre=(()=>{class t{Message=K;LoginFormFieldName=la;Autocomplete=gr;NotificationType=rn;mandatoryLogin=We(!0);form=new vn("existingCustomer");notificationMessage=nn(ee.EMPTY_STRING);notificationType;tabIndex=sn(()=>this.#e()?0:-1);#e=nn(!1);#t=E(tr);#n=E(p1);#i=E(Oi);ngOnInit(){this.buildLoginForm(),this.registerOnFormValueChangesListener(),this.#i.onDestroy(()=>{this.form.destroy()})}submit(){this.form.markAsTouched(),this.form.control.valid&&$a(this.#n.login(this.form.toJson())).then(()=>this.#t.location.reload()).catch(e=>{let n=this.form.getField(la.Email);n.validation.get(wt.Rejected).enable(),n.validation.update(wt.Rejected,{rejectedValue:n.control.value}),this.setNotificationMessage(e.message,rn.Danger)})}setExpandedState(e){this.#e.set(e)}buildLoginForm(){this.form.set(new Gt({fieldName:la.Email,type:Mt.Email,mandatory:!0,value:""},[new ir(K.CHECKOUT_APP_CUSTOMER_USERNAME_WHICH_ONE),new hs(ee.EMPTY_STRING)])).set(new Gt({fieldName:la.Password,type:Mt.Password,mandatory:!0,value:""},[new ir(K.CHECKOUT_APP_CUSTOMER_PASSWORD_REQUIRED)]))}registerOnFormValueChangesListener(){this.form.control.valueChanges.subscribe(()=>{this.form.getField(la.Email).control.setErrors(null),this.setNotificationMessage(ee.EMPTY_STRING,rn.Success)})}setNotificationMessage(e,n){this.notificationMessage.set(e),this.notificationType=n}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-return-login"]],inputs:{mandatoryLogin:[1,"mandatoryLogin"]},standalone:!1,decls:35,vars:37,consts:[[3,"onToggle","showDetailsTitle","hideDetailsTitle","expanded"],[3,"additionalClass"],[1,"validation",3,"formGroup"],["data-qa","form-wrapper-email"],[3,"id","tabIndexToUse"],[1,"row"],[1,"col-xs-12"],["type","email","data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","name","formControlName","tabIndex","id"],[3,"field"],["data-qa","form-wrapper-password"],["type","password","data-qa","input","evFormsInputOnEnter","",1,"form-control","theme-text-color","standard-gray-border","invalid-only",3,"evOnEnter","name","formControlName","tabIndex","id"],[3,"onSuccess","onError","prefillWithField"],["aria-live","assertive"],[3,"type"],[1,"col-sm-8","col-sm-offset-4","submit"],["type","submit","data-qa","login-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit"],["data-qa","message"]],template:function(n,r){n&1&&(h(0,"ev-toggle",0),Ee("onToggle",function(s){return r.setExpandedState(s)}),h(1,"ev-pl-card",1)(2,"form",2)(3,"section")(4,"ev-forms-field",3)(5,"ev-forms-field-label",4),R(6),H(7,"translate"),g(),h(8,"div",5)(9,"div",6)(10,"input",7),Ee("evOnEnter",function(){return r.submit()}),g()()(),h(11,"div",5)(12,"div",6),D(13,"ev-forms-field-error",8),g()()()(),h(14,"section")(15,"ev-forms-field",9)(16,"ev-forms-field-label",4),R(17),H(18,"translate"),g(),h(19,"div",5)(20,"div",6)(21,"input",10),Ee("evOnEnter",function(){return r.submit()}),g()()(),h(22,"div",5)(23,"div",6),D(24,"ev-forms-field-error",8),g()()()()(),h(25,"section")(26,"ev-password-forgotten",11),Ee("onSuccess",function(s){return r.setNotificationMessage(s,r.NotificationType.Success)})("onError",function(s){return r.setNotificationMessage(s,r.NotificationType.Danger)}),g()(),h(27,"section",12),J(28,JHe,3,2,"ev-notification",13),g(),h(29,"section")(30,"div",5)(31,"div",14)(32,"button",15),Ee("onSubmit",function(){return r.submit()}),R(33),H(34,"translate"),g()()()()()()),n&2&&(C("showDetailsTitle",r.Message.CHECKOUT_APP_LOGIN)("hideDetailsTitle",r.Message.CHECKOUT_APP_LOGIN)("expanded",r.mandatoryLogin()),Le("data-qa","login-card-toggle"),d(),C("additionalClass","padding-top-m"),Le("data-qa","login-card"),d(),C("formGroup",r.form.control),d(3),C("id",r.form.getField(r.LoginFormFieldName.Email).config.id)("tabIndexToUse",r.tabIndex()),d(),Ae(j(7,31,r.Message.GLOBAL_CUSTOMER_EMAIL_CUSTOMER)),d(4),Xt("name",r.LoginFormFieldName.Email),Xt("formControlName",r.LoginFormFieldName.Email),C("tabIndex",r.tabIndex())("id",r.form.getField(r.LoginFormFieldName.Email).config.id),Le("autocomplete",r.Autocomplete.EMAIL+" "+r.Autocomplete.USERNAME)("x-autocompletetype",r.Autocomplete.EMAIL+" "+r.Autocomplete.USERNAME),d(3),C("field",r.form.getField(r.LoginFormFieldName.Email)),d(3),C("id",r.form.getField(r.LoginFormFieldName.Password).config.id)("tabIndexToUse",r.tabIndex()),d(),Ae(j(18,33,r.Message.GLOBAL_CUSTOMER_PASSWORD)),d(4),Xt("name",r.LoginFormFieldName.Password),Xt("formControlName",r.LoginFormFieldName.Password),C("tabIndex",r.tabIndex())("id",r.form.getField(r.LoginFormFieldName.Password).config.id),Le("autocomplete",r.Autocomplete.PASSWORD)("x-autocompletetype",r.Autocomplete.PASSWORD),d(3),C("field",r.form.getField(r.LoginFormFieldName.Password)),d(2),C("prefillWithField",r.form.getField(r.LoginFormFieldName.Email)),d(2),$(r.notificationMessage()?28:-1),d(4),C("evFormsSubmit",r.form),d(),ne(" ",j(34,35,r.Message.CHECKOUT_APP_LOGIN)," "))},dependencies:[Ai,id,mr,Ic,Fp,xi,jr,Rr,Pn,wn,_o,h1,$n,go,On,Se],encapsulation:2})}return t})();var QHe=["accordionItem",""];function ZHe(t,i){if(t&1&&(h(0,"section",7)(1,"ev-forms-field")(2,"ev-forms-field-label",2),R(3),H(4,"translate"),g(),D(5,"input",8)(6,"ev-forms-field-error",4),g()()),t&2){let e=y();d(2),C("id",e.debitForm.getField(e.DirectDebitFieldName.BIC).id),d(),ne(" ",j(4,6,e.Message.CHECKOUT_APP_PAYMENT_DEBIT_BIC)," "),d(2),Xt("formControlName",e.DirectDebitFieldName.BIC),C("name",e.DirectDebitFieldName.BIC)("id",e.debitForm.getField(e.DirectDebitFieldName.BIC).id),d(),C("field",e.debitForm.getField(e.DirectDebitFieldName.BIC))}}var wre=(()=>{class t{affiliateJson;accordionItem;Message=K;DirectDebitFieldName=Ui;formatterConfig=new f1;debitForm=new vn("debit");ngOnInit(){this.buildDebitForm(),this.accordionItem.formGroup=this.debitForm.control}showBicField(){let n=this.debitForm.getField(Ui.IBAN).control.value,r=new RegExp(this.affiliateJson.skipBicValidationForCountries,"i"),o=ee.isNotEmpty(n)&&n.length>=2&&!n.match(r)&&this.debitForm.getField(Ui.IBAN).control.valid;return o?this.debitForm.getField(Ui.BIC).validation.get(wt.Required).enable():(this.debitForm.getField(Ui.BIC).validation.get(wt.Required).disable(),this.debitForm.getField(Ui.BIC).control.updateValueAndValidity()),o}buildDebitForm(){this.debitForm.set(new Gt({fieldName:Ui.ACCOUNT_HOLDER,type:Mt.Text,mandatory:!0,value:""})).set(new Gt({fieldName:Ui.IBAN,type:Mt.Text,mandatory:!0,value:""})).set(new Gt({fieldName:Ui.BIC,type:Mt.Text,mandatory:!0,value:""}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-debit-accordion-item","accordionItem",""]],inputs:{affiliateJson:"affiliateJson",accordionItem:"accordionItem"},standalone:!1,attrs:QHe,decls:16,vars:19,consts:[[3,"formGroup"],["data-qa","account-holder-row"],[3,"id"],["data-qa","account-holder-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","id","formControlName"],[3,"field"],["data-qa","iban-row"],["data-qa","iban-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","id","formControlName","evFormInputFormatter"],["data-qa","bic-row"],["data-qa","bic-field","type","text",1,"form-control","theme-text-color","standard-gray-border",3,"name","id","formControlName"]],template:function(n,r){n&1&&(Mo(0,0),h(1,"section",1)(2,"ev-forms-field")(3,"ev-forms-field-label",2),R(4),H(5,"translate"),g(),D(6,"input",3)(7,"ev-forms-field-error",4),g()(),h(8,"section",5)(9,"ev-forms-field")(10,"ev-forms-field-label",2),R(11),H(12,"translate"),g(),D(13,"input",6)(14,"ev-forms-field-error",4),g()(),J(15,ZHe,7,8,"section",7),Fo()),n&2&&(C("formGroup",r.debitForm.control),d(3),C("id",r.debitForm.getField(r.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(),ne(" ",j(5,15,r.Message.CHECKOUT_APP_PAYMENT_DEBIT_ACCOUNT_HOLDER),""),d(2),Xt("formControlName",r.DirectDebitFieldName.ACCOUNT_HOLDER),C("name",r.DirectDebitFieldName.ACCOUNT_HOLDER)("id",r.debitForm.getField(r.DirectDebitFieldName.ACCOUNT_HOLDER).id),d(),C("field",r.debitForm.getField(r.DirectDebitFieldName.ACCOUNT_HOLDER)),d(3),C("id",r.debitForm.getField(r.DirectDebitFieldName.IBAN).id),d(),ne(" ",j(12,17,r.Message.CHECKOUT_APP_PAYMENT_DEBIT_IBAN),""),d(2),Xt("formControlName",r.DirectDebitFieldName.IBAN),C("name",r.DirectDebitFieldName.IBAN)("id",r.debitForm.getField(r.DirectDebitFieldName.IBAN).id)("evFormInputFormatter",r.formatterConfig),d(),C("field",r.debitForm.getField(r.DirectDebitFieldName.IBAN)),d(),$(r.showBicField()?15:-1))},dependencies:[Ai,id,mr,jr,Rr,Pn,wn,_o,TM,Se],encapsulation:2})}return t})();var t9e=(t,i)=>i.id;function n9e(t,i){if(t&1&&D(0,"ev-debit-accordion-item",3),t&2){let e=y().$implicit,n=y(2);C("affiliateJson",n.affiliateJson)("accordionItem",e)}}function i9e(t,i){if(t&1&&(h(0,"ev-accordion-item",2),J(1,n9e,1,2,"ev-debit-accordion-item",3),g()),t&2){let e=i.$implicit,n=y(2);C("accordionItem",e),d(),$(n.getRefundMode(e)===n.TicketRefundMode.IBAN?1:-1)}}function r9e(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",4),g()),t&2){let e=y(2);C("type",e.NotificationType.Warning),Le("data-qa","notification-general-warning"),d(),C("evCoreHtml",e.generalWarning)}}function o9e(t,i){if(t&1){let e=Je();h(0,"ev-accordion",1),Ee("onSelection",function(r){Ne(e);let o=y();return Re(o.onAccordionSelectionChange(r))}),ft(1,i9e,2,2,"ev-accordion-item",2,t9e),g(),J(3,r9e,2,3,"ev-notification",0)}if(t&2){let e=y();C("headline",e.Message.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_HEADLINE)("showAllButtonText",e.Message.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_SHOW_ALL_REFUND_METHODS),d(),ht(e.refundMethodAccordionItems),d(2),$(e.generalWarning?3:-1)}}function a9e(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",4),H(2,"translate"),g()),t&2){let e=y();C("type",e.NotificationType.Warning),Le("data-qa","notification-only-voucher"),d(),C("evCoreHtml",j(2,3,e.Message.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_VOUCHER))}}function s9e(t,i){if(t&1&&(h(0,"ev-notification",0),D(1,"span",4),H(2,"translate"),g()),t&2){let e=y();C("type",e.NotificationType.Info),Le("data-qa","notification-add-barcode"),d(),C("evCoreHtml",j(2,3,e.Message.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_ADD_BARCODE_HINT))}}var fb=(()=>{class t{ticketReturnValidationService=E(mb);translateService=E(Sn);static DEBIT_INFO_FORM="debitInfoForm";static SELECTED_MODE_CONTROL="selectedModeForm";NO_REFUND_METHOD=0;SHOW_ACCORDION=1;ONLY_VOUCHER=2;Message=K;NotificationType=rn;TicketRefundMode=_s;parentForm;affiliateJson;state;refundMethodAccordionItems=[];generalWarning;subscriptions=[];selectedModeControl=new xR(0);ngOnInit(){this.generalWarning=this.translateService.instant(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_GENERAL_WARNING),(this.generalWarning===K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_GENERAL_WARNING||this.generalWarning==="")&&(this.generalWarning=null),this.parentForm.control.addControl(t.SELECTED_MODE_CONTROL,this.selectedModeControl),this.subscriptions.push(this.ticketReturnValidationService.getAllowedRefundModes().pipe(Ro((e,n)=>Dt.compare(e,n))).subscribe(e=>{this.updateRefundModes(e)}))}ngOnDestroy(){this.parentForm.control.removeControl(t.SELECTED_MODE_CONTROL),this.subscriptions.forEach(e=>e.unsubscribe())}onAccordionSelectionChange(e){this.selectedModeControl.setValue(this.getRefundMode(e)),this.parentForm.control.removeControl(t.DEBIT_INFO_FORM),ce.isObject(e)&&ce.isObject(e.formGroup)&&this.parentForm.control.addControl(t.DEBIT_INFO_FORM,e.formGroup)}getRefundMode(e){return Number(e.id.split("_")[0])}updateRefundModes(e){e.includes(_s.FROM_ORDER)||e.includes(_s.IBAN)||e.includes(_s.EXTERNAL_CREDIT_CARD)?(this.refundMethodAccordionItems=this.getTicketReturnRefundMethods(e),this.state=this.SHOW_ACCORDION):e.includes(_s.VOUCHER)?this.state=this.ONLY_VOUCHER:this.state=this.NO_REFUND_METHOD}getTicketReturnRefundMethods(e){let n=[],r=!1;return e.includes(_s.FROM_ORDER)&&(n.push(new Gp(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_USE_INITIAL).setId(_s.FROM_ORDER).setDescription(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_USE_INITIAL_DESCRIPTION).setSelected(!0).build()),this.selectedModeControl.setValue(_s.FROM_ORDER),r=!0),e.includes(_s.IBAN)&&(n.push(new Gp(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_BANK_DATA).setId(_s.IBAN).setDescription(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_BANK_DATA_DESCRIPTION).setSelected(!r).build()),r||(this.selectedModeControl.setValue(_s.IBAN),r=!0)),e.includes(_s.EXTERNAL_CREDIT_CARD)&&(n.push(new Gp(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD).setId(_s.EXTERNAL_CREDIT_CARD).setDescription(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD_DESCRIPTION).setSelected(!r).build()),r||this.selectedModeControl.setValue(_s.EXTERNAL_CREDIT_CARD)),n}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-payment-info"]],inputs:{parentForm:"parentForm",affiliateJson:"affiliateJson"},standalone:!1,decls:3,vars:1,consts:[[3,"type"],[3,"onSelection","headline","showAllButtonText"],[3,"accordionItem"],[3,"affiliateJson","accordionItem"],[3,"evCoreHtml"]],template:function(n,r){if(n&1&&J(0,o9e,4,3)(1,a9e,3,5,"ev-notification",0)(2,s9e,3,5,"ev-notification",0),n&2){let o;$((o=r.state)===r.SHOW_ACCORDION?0:o===r.ONLY_VOUCHER?1:2)}},dependencies:[xt,R3,M1,On,wre,Se],encapsulation:2})}return t})();var Dre=(()=>{class t{document=E(Ot);resource=E(Hv);captchaService=E(xv);resolve(){let e=new Nr({fromString:this.document.location.search}).getAll("passId");return this.resource.getTicketReturnPageJson(e).pipe(cn(n=>(this.captchaService.initializeCaptcha(n.captchaSiteKey,n.invisibleRecaptcha,n.enterpriseReCaptcha),Mn(at({},n),{showDetailedDescription:n.showDetailedDescription||e===null,showBarcodeInput:n.showBarcodeInput||e===null}))),No(()=>an({showDetailedDescription:e===null,page:Cn.Ticketreturn})))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function c9e(t,i){if(t&1&&(h(0,"div",1)(1,"h5",5),R(2),D(3,"i",6),g()()),t&2){let e=y(2);d(2),ne(" ",e.eventInformation.numberOfTickets," ")}}function d9e(t,i){if(t&1&&(h(0,"h5",3),R(1),g()),t&2){let e=y(2);d(),Ae(e.eventInformation.eventName)}}function u9e(t,i){if(t&1&&(h(0,"span",7),R(1),g()),t&2){let e=y(3);d(),Ae(e.eventInformation.venueName)}}function p9e(t,i){if(t&1&&(h(0,"p",8),R(1),g()),t&2){let e=y(3);d(),Ae(e.eventInformation.formattedEventDate)}}function m9e(t,i){if(t&1&&(h(0,"div",4),J(1,u9e,2,1,"span",7)(2,p9e,2,1,"p",8),g()),t&2){let e=y(2);d(),$(e.eventInformation.canShowVenueName()?1:-1),d(),$(e.eventInformation.canShowEventDate()?2:-1)}}function f9e(t,i){if(t&1&&(h(0,"section")(1,"div",0),J(2,c9e,4,1,"div",1),h(3,"div",2),J(4,d9e,2,1,"h5",3)(5,m9e,3,2,"div",4),g()()()),t&2){let e=y();d(2),$(e.eventInformation.numberOfTickets?2:-1),d(2),$(e.eventInformation.eventName?4:-1),d(),$(e.eventInformation.canShowVenueName()||e.eventInformation.canShowEventDate()?5:-1)}}var Ore=(()=>{class t{eventInformation;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-summary"]],inputs:{eventInformation:"eventInformation"},standalone:!1,decls:1,vars:1,consts:[["data-qa","ticket-summary",1,"row","media","u-flex"],[1,"media-body","margin-right-s"],[1,"media-body"],["data-qa","event-title",1,"media-heading","no-margin-top"],[1,"media-text","theme-text-color"],["data-qa","ticket-amount",1,"media-heading","no-margin-top","text-nowrap"],[1,"icon","icon-cross-old","mini-basket-cross"],["data-qa","event-venue"],["data-qa","event-date",1,"card-paragraph","theme-text-variant-color"]],template:function(n,r){n&1&&J(0,f9e,6,3,"section"),n&2&&$(r.eventInformation?0:-1)},encapsulation:2})}return t})();function g9e(t,i){if(t&1&&(h(0,"div",4)(1,"div",1)(2,"ev-notification",9),D(3,"span",10),H(4,"translate"),g()()()),t&2){let e=y(3);d(2),C("type",e.NotificationType.Warning),Le("data-qa","notification-login-hint"),d(),C("evCoreHtml",j(4,3,e.Message.TICKET_RETURN_SELF_SERVICE_LOGIN_HINT))}}function v9e(t,i){if(t&1&&D(0,"ev-ticket-return-keycloak-login",11),t&2){let e=y(4);C("mandatoryLogin",e.mandatoryLogin())("affiliate",e.affiliateJson)}}function _9e(t,i){if(t&1&&D(0,"ev-ticket-return-login",12),t&2){let e=y(4);C("mandatoryLogin",e.mandatoryLogin())}}function C9e(t,i){if(t&1&&(h(0,"div",4)(1,"div",1),J(2,v9e,1,2,"ev-ticket-return-keycloak-login",11)(3,_9e,1,1,"ev-ticket-return-login",12),g()()),t&2){let e=y(3);d(2),$((e.affiliateJson==null?null:e.affiliateJson.enforceKeycloakLogin)===!0?2:3)}}function y9e(t,i){if(t&1&&D(0,"ev-add-barcodes",14),t&2){let e=y(4);C("parentForm",e.form)("formName",e.barcodeFormName)}}function E9e(t,i){if(t&1&&D(0,"ev-ticket-summary",22),t&2){let e=i.$implicit;C("eventInformation",e)}}function T9e(t,i){if(t&1&&ft(0,E9e,1,1,"ev-ticket-summary",22,ri),t&2){let e=y(4);ht(e.eventInformationArray)}}function b9e(t,i){if(t&1&&(h(0,"div",4)(1,"div",1)(2,"ev-notification",9),D(3,"span",10),H(4,"translate"),g()()()),t&2){let e=y(4);d(2),C("type",e.NotificationType.Danger),Le("data-qa","notification-falsy-inputs"),d(),C("evCoreHtml",j(4,3,e.Message.CHECKOUT_APP_CUSTOMER_FALSY_INPUTS))}}function I9e(t,i){if(t&1){let e=Je();h(0,"div",4)(1,"div",1)(2,"ev-pl-card",13),J(3,y9e,1,2,"ev-add-barcodes",14)(4,T9e,2,0),g()()(),h(5,"div",4)(6,"div",1),D(7,"ev-address-data",15),g()(),h(8,"div",16)(9,"div",1),D(10,"ev-payment-info",17),g()(),h(11,"div",18)(12,"div",1)(13,"section",8),J(14,b9e,5,5,"div",4),g(),h(15,"div",19)(16,"div",20)(17,"button",21),Ee("onSubmit",function(){Ne(e);let r=y(3);return Re(r.submitForm())}),R(18),H(19,"translate"),g()()()()()}if(t&2){let e=y(3);d(2),C("headline",e.Message.TICKET_RETURN_SELF_SERVICE_BARCODES_HEADLINE)("headlineLevel",2),Le("data-qa",e.ticketReturnPageJson.showBarcodeInput?"add-barcodes-card":"ticket-summaries-card"),d(),$(e.ticketReturnPageJson.showBarcodeInput?3:-1),d(),$(e.eventInformationArray?4:-1),d(3),C("parentForm",e.form)("ticketReturnPageJson",e.ticketReturnPageJson)("affiliateJson",e.affiliateJson),d(3),C("parentForm",e.form)("affiliateJson",e.affiliateJson),d(4),$(e.isFormInvalid()?14:-1),d(3),C("evFormsSubmit",e.form),d(),ne(" ",j(19,13,e.Message.TICKET_RETURN_SELF_SERVICE_BUTTON_SUBMIT)," ")}}function S9e(t,i){if(t&1&&(h(0,"form",7)(1,"section",8),J(2,g9e,5,5,"div",4),g(),J(3,C9e,4,1,"div",4)(4,I9e,20,15),g()),t&2){let e=y(2);C("formGroup",e.form.control),d(2),$(!e.isLoggedIn()&&e.ticketReturnPageJson.virtualTicketsAreAllowed?2:-1),d(),$(e.isLoggedIn()?-1:3),d(),$(e.isLoggedIn()||!e.mandatoryLogin()?4:-1)}}function x9e(t,i){if(t&1&&(h(0,"div",4)(1,"div",1)(2,"ev-notification",9),D(3,"span",10),H(4,"translate"),g()()()),t&2){let e=y(2);d(2),C("type",e.NotificationType.Danger),Le("data-qa","notification-global-error"),d(),C("evCoreHtml",j(4,3,e.Message.CHECKOUT_APP_GLOBAL_ERROR_GLOBAL_ERROR_MESSAGE))}}function A9e(t,i){if(t&1&&(h(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),R(4),H(5,"translate"),g()(),h(6,"div",4)(7,"div",5),D(8,"p",6),H(9,"translate"),g()(),J(10,S9e,5,4,"form",7)(11,x9e,5,5,"div",4),g()()),t&2){let e=y();d(4),Ae(j(5,3,e.Message.TICKET_RETURN_SELF_SERVICE_PAGE_HEADLINE)),d(4),C("evCoreHtml",j(9,5,e.ticketReturnPageJson.showDetailedDescription?e.Message.TICKET_RETURN_SELF_SERVICE_PAGE_DESCRIPTION:e.Message.TICKET_RETURN_SELF_SERVICE_PAGE_DESCRIPTION_SHORT)),d(2),$(e.canBuildTicketReturnForm()?10:11)}}var Nre=(()=>{class t{static ERROR_EXTERNAL_PAYMENT_ID_NOT_CREATED=-4177;static ERROR_EXTERNAL_PAYMENT_ID_MISSING=-4178;static ERROR_EXTERNAL_PAYMENT_ID_NOT_VALID=-4179;Message=K;NotificationType=rn;barcodeFormName="barcodeForm";form;ticketReturnPageJson;eventInformationArray;affiliateJson;isLoggedIn=nn(!1);mandatoryLogin=nn(!1);#e=E(Va);#t=E(kn);#n=E(Hv);#i=E(mb);#r=E(bl);#o=E(Gn);#a=E(zt);#s=E(qr);#l=[];static mapTicketSummaries(e,n){let r=`${n.eventName}${n.formattedDate}${n.venue}`;return e.has(r)?e.get(r).push(n):e.set(r,[n]),e}ngOnInit(){this.form=new vn("ticketReturnForm"),this.#l.push(this.#e.data.subscribe(e=>{this.ticketReturnPageJson=e.ticketReturnPageJson,Dt.isNotEmpty(this.ticketReturnPageJson?.ticketSummaries)&&(this.eventInformationArray=this.buildEventInformationArray(this.ticketReturnPageJson.ticketSummaries)),Dt.isNotEmpty(this.ticketReturnPageJson?.allowedRefundModes)&&this.#i.broadcastAllowedRefundModes(this.ticketReturnPageJson.allowedRefundModes),this.affiliateJson=e.affiliateJson,this.isLoggedIn.set(ce.hasProperty(e.ticketReturnPageJson,"customer.customerId")),this.mandatoryLogin.set(e.ticketReturnPageJson?.mandatoryLogin||!1),ce.hasProperty(this.ticketReturnPageJson,"dataLayer")&&this.#r.trackPageChange(this.ticketReturnPageJson.dataLayer,this.ticketReturnPageJson.page,this.ticketReturnPageJson.customer)}))}ngOnDestroy(){this.#l.forEach(e=>e.unsubscribe()),this.form.destroy()}canBuildTicketReturnForm(){return ce.isObject(this.form)&&this.affiliateJson&&ce.hasProperty(this.ticketReturnPageJson,"customer.ticketReturnContactData")}isFormInvalid(){return this.form.submitted&&this.form.control.touched&&this.form.control.invalid}submitForm(){if(this.form.setSubmitted(),this.form.markAsTouched(),!this.form.control.valid)return;let e=this.createSubmitJson();e.refundMode===_s.EXTERNAL_CREDIT_CARD?this.initializeExternalCreditCardForm(e):this.executeSubmitRequest(e)}executeSubmitRequest(e){this.#o.show(),$a(this.#n.putTicketReturnRequest(e)).then(n=>{this.#a.navigate(["ticket-return",n.requestId,n.downloadToken])}).catch(n=>{if(!ce.isEmpty(n)&&typeof n.errorCode=="number"){let r=this.form.control.controls[fb.DEBIT_INFO_FORM];switch(n.errorCode){case t.ERROR_EXTERNAL_PAYMENT_ID_MISSING:case t.ERROR_EXTERNAL_PAYMENT_ID_NOT_VALID:delete e.externalPaymentId,this.initializeExternalCreditCardForm(e);break;case br.DEBIT_IBAN_INVALID:this.#i.addErrorMessage("incorrect",n.message),r.get(Ui.IBAN).setErrors({incorrect:!0});break;case br.DEBIT_BIC_INVALID:this.#i.addErrorMessage("incorrect",n.message),r.get(Ui.BIC).setErrors({incorrect:!0});break;default:this.#a.navigate([Qe.Error,n.errorCode])}}else this.#a.navigate([Qe.Error])}).finally(()=>this.#o.hide())}initializeExternalCreditCardForm(e){this.#o.show(),$a(this.#n.getExternalPaymentInformation(e)).then(n=>{n?.url&&n?.externalPaymentId?(this.#o.hide(),this.#t.showModal(this.buildModalWindowConfiguration(n,e))):this.#a.navigate([Qe.Error])}).catch(n=>{!ce.isEmpty(n)&&typeof n.errorCode=="number"?this.#a.navigate([Qe.Error,n.errorCode]):this.#a.navigate([Qe.Error])}).finally(()=>this.#o.hide())}buildEventInformationArray(e){let n=e.reduce(t.mapTicketSummaries,new Map);return Array.from(n,([,r])=>Wa.convertTicketReturnTicketSummaryItem(r[0],r.length))}createSubmitJson(){let e={refundMode:this.getSelectedRefundMode(),ticketReturnContactData:this.getTicketReturnSubmitData()};return this.appendBarcodes(e),this.appendPassIds(e),this.appendDebitPaymentInfo(e),e}getSelectedRefundMode(){let e=this.form.control.get(fb.SELECTED_MODE_CONTROL);return e?e.value:_s.VOUCHER}getTicketReturnSubmitData(){let e=this.form.getForm("ticketReturnContactData").toJson(),n=[];return Object.keys(e).forEach(r=>{n.push({fieldName:r,value:e[r]})}),n}appendBarcodes(e){this.form.hasForm(this.barcodeFormName)&&(e.barcodes=this.form.getForm(this.barcodeFormName).fields.flatMap(n=>`${n.control.value}`))}appendPassIds(e){Dt.isNotEmpty(this.ticketReturnPageJson.ticketSummaries)&&(e.passIds=this.ticketReturnPageJson.ticketSummaries.filter(n=>ee.isNotEmpty(n.passId)).flatMap(n=>`${n.passId}`))}appendDebitPaymentInfo(e){if(e.refundMode===_s.IBAN){let n=this.form.control.controls[fb.DEBIT_INFO_FORM];if(ce.isObject(n)){let r;ee.isNotEmpty(n.get("bic").value)?r={iban:{accountHolder:n.get("accountHolder").value,iban:n.get("iban").value,bic:n.get("bic").value}}:r={ibanWithoutBic:{accountHolder:n.get("accountHolder").value,iban:n.get("iban").value}},e.debitPaymentInfo=r}}}buildModalWindowConfiguration(e,n){return new Dn({component:Are,inputs:[{inputName:"refundInfoJson",value:e},{inputName:"affiliateJson",value:this.affiliateJson}],outputs:[{outputName:"dataSubmitted",handler:()=>{n.externalPaymentId=e.externalPaymentId,this.executeSubmitRequest(n)}}]}).setBackgroundOpacity(.25).setWidth(er.MEDIUM).enableTitle(K.TICKET_RETURN_SELF_SERVICE_REFUND_METHOD_DEVIATING_CREDIT_CARD_MODAL_HEADLINE).enableViewTracking(()=>{this.#s.trackVirtualPageView("refund_cc_wallet")}).disableHistoryBackHandling()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-return-page"]],standalone:!1,decls:1,vars:1,consts:[["data-qa","ticket-return-page",1,"c-narrow"],[1,"col-xs-12"],[1,"row","heading"],["data-qa","page-headline",1,"headline-title","page-headline-first-order","col-xs-12","p-font-checkout"],[1,"row"],[1,"col-xs-12","unit-separator"],["data-qa","page-description",1,"default-paragraph","theme-text-light-color",3,"evCoreHtml"],[1,"validation",3,"formGroup"],["aria-live","assertive"],[3,"type"],[3,"evCoreHtml"],[3,"mandatoryLogin","affiliate"],[3,"mandatoryLogin"],[3,"headline","headlineLevel"],[3,"parentForm","formName"],[3,"parentForm","ticketReturnPageJson","affiliateJson"],["data-qa","payment-info",1,"row"],[3,"parentForm","affiliateJson"],["data-qa","submit-row",1,"row"],[1,"row","button-container"],[1,"col-xs-12","col-md-6","col-md-offset-6"],["type","submit","data-qa","submit-button",1,"btn","btn-primary","btn-lg","btn-block","theme-interaction-btn-bg","theme-btn-font-color","theme-btn-font-color-hover","theme-button-radius",3,"onSubmit","evFormsSubmit"],[3,"eventInformation"]],template:function(n,r){n&1&&J(0,A9e,12,7,"section",0),n&2&&$(r.ticketReturnPageJson?0:-1)},dependencies:[xt,Ic,xi,Pn,wn,$n,On,Sre,xre,fb,kre,Ore,Pre,Se],encapsulation:2})}return t})();var P9e=t=>({"u-no-shadow":t}),k9e=t=>({"hide-in-print overflow-hidden":t});function w9e(t,i){t&1&&D(0,"ev-simple-header")}function D9e(t,i){if(t&1&&D(0,"ev-partner-header",2),t&2){let e=y();C("partnerHeader",e.partnerHeader)}}var Rre=(()=>{class t{router=E(zt);affiliateService=E(Tn);storageService=E(fn);modalWindowService=E(kn);translateService=E(Sn);title=E(no);document=E(Ot);window=E(tr);Message=K;showSimpleHeader=!0;partnerHeader;modalOpen=!1;currentPage;subscriptions=[];ngOnInit(){this.currentPage=Qe.TicketReturn,this.title.setTitle(this.translateService.instant(K.TICKET_RETURN_SELF_SERVICE_PAGE_TITLE)),this.subscriptions.push(this.registerNavigationEndListener()),this.subscriptions.push(this.registerNavigationErrorListener()),this.subscriptions.push(this.observeAffiliate()),this.addTabListener(),this.observeModalWindow()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}setEnvPageReloadFlag(){this.storageService.set(ut.PAGE_WAS_RELOADED,!0)}addTabListener(){this.document.addEventListener("keydown",this.addOutlinesCallback.bind(this))}addOutlinesCallback(e){e.key===Fr.TAB&&(this.document.body.classList.contains("is-tabbing")||this.document.body.classList.add("is-tabbing"))}observeModalWindow(){this.subscriptions.push(this.modalWindowService.onShowModal().subscribe(()=>this.modalOpen=!0)),this.subscriptions.push(this.modalWindowService.onHideModal().subscribe(()=>this.modalOpen=!1))}hasSimpleHeader(){return this.showSimpleHeader&&!this.hasPartnerHeader()}hasPartnerHeader(){return this.partnerHeader!==void 0}observeAffiliate(){return this.affiliateService.observeAffiliate().pipe(Yt(e=>e!==null)).subscribe(e=>{this.partnerHeader=e.partnerHeader,this.showSimpleHeader=e.settings?.header??!1})}registerNavigationEndListener(){return this.router.events.pipe(Yt(e=>e instanceof va)).subscribe(e=>{this.currentPage=Qe.TicketReturn,this.title.setTitle(this.translateService.instant(K.TICKET_RETURN_SELF_SERVICE_PAGE_TITLE))})}registerNavigationErrorListener(){return this.router.events.pipe(Yt(e=>e instanceof Ep)).subscribe(e=>{if(typeof e.error=="object"&&typeof e.error.errorCode=="number"){let n=e.error;this.router.navigate([`${Qe.Error}/${n.errorCode}`])}else this.router.navigate([Qe.Error])})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-ticket-return"]],hostBindings:function(n,r){n&1&&Ee("beforeunload",function(){return r.setEnvPageReloadFlag()},!1,Ix)},standalone:!1,decls:12,vars:10,consts:[[1,"wrapper","wrapper-container","theme-page-bg",3,"ngClass"],[1,"wrapper","max-container-width",3,"ngClass"],[3,"partnerHeader"],[1,"main-content","container"],[1,"row"],[1,"col-md-8","col-md-offset-2"],[3,"page"],[3,"showLogoutLink"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),J(2,w9e,1,0,"ev-simple-header")(3,D9e,1,1,"ev-partner-header",2),D(4,"ev-pl-global-spinner"),h(5,"div",3)(6,"div",4)(7,"div",5)(8,"ev-forms-page-scroll-top",6),D(9,"router-outlet"),g()()()(),D(10,"ev-simple-footer",7),g()(),D(11,"ev-forms-modal-window")),n&2&&(C("ngClass",et(6,P9e,r.window.useBackgroundTheming)),d(),C("ngClass",et(8,k9e,r.modalOpen)),d(),$(r.hasSimpleHeader()?2:-1),d(),$(r.hasPartnerHeader()?3:-1),d(5),C("page",r.currentPage),d(2),C("showLogoutLink",!1))},dependencies:[At,ku,sM,bv,Cv,Hp,Vp,jp],encapsulation:2})}return t})();var O9e=[{path:Qe.TicketReturn,component:Rre,children:[{path:"",component:Nre,resolve:{affiliateJson:Ap,ticketReturnPageJson:Dre,translations:qd,validationRules:rh}},{path:":requestId/:downloadToken",component:bre,resolve:{affiliateJson:Ap,ticketReturnConfirmationJson:Tre,translations:qd}}]}],Mre=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[{provide:Du,useValue:El},{provide:Cl,useClass:Ir}],imports:[Vr,Tp.forChild(O9e),Pp,oi.forChild({loader:{provide:cl,useClass:ti,deps:[Ss]}}),Po,Sv,ch,_a,Kl,vv,VN,IM,hA,jN,pv,fM,bM,y0,_a,aM,ts,Hp,Vp,jp,R3,M1,go,ja]})}return t})();var Fre=(()=>{class t extends cr{constructor(e){super(e)}validate(e){return this.webshopApi.post("/checkout/reservation",{reservationCode:e})}static \u0275fac=function(n){return new(n||t)(yt(Vo))};static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Lre=(()=>{class t extends ph{#e=E(Fre);validateToken(e){return this.#e.validate(e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ve(t)))(r||t)}})();static \u0275prov=Ce({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var N9e=t=>({"u-no-shadow":t});function R9e(t,i){t&1&&D(0,"ev-simple-header",2),t&2&&C("hasLogoLinks",!0)}function M9e(t,i){if(t&1&&D(0,"ev-partner-header",3),t&2){let e=y();C("partnerHeader",e.partnerHeader())}}function F9e(t,i){if(t&1&&(h(0,"section")(1,"ev-notification",15),D(2,"span",16),H(3,"translate"),g()()),t&2){let e=y();d(),C("visible",e.showFalsyInputsError())("type",e.NotificationType.Danger),d(),C("evCoreHtml",j(3,3,e.Message.WEB_RESERVATION_CODE_INVALID_TEXT))}}var GH=(()=>{class t{document=E(Ot);#e=E(no);#t=E(Va);#n=E(Sn);#i=E(Lre);#r=E(Gn);#o=E(rr);showFalsyInputsError=nn(!1);showSimpleHeader=nn(!0);showHeaderInIframe=nn(!0);partnerHeader=nn(null);hasSimpleHeader;inputField=new Gt({fieldName:"code",type:Mt.Text,mandatory:!0,value:""},[new nh(K.CHECKOUT_APP_INVALID_ENTRY,/(^\d{6,15}$|^[a-zA-Z0-9]{7}$|^[a-zA-Z0-9]{9}$)/),new hs(ee.EMPTY_STRING)]);form=new vn("web-reservation",[this.inputField]);Message=K;NotificationType=rn;ngOnInit(){this.setPageTitle(),this.#t.data.pipe(Ul()).subscribe(({affiliate:e})=>this.checkHeaderVisibility(e)),this.prefillInput(),this.hasSimpleHeader=sn(()=>this.showSimpleHeader()&&ro.isInsideIFrame()?this.showHeaderInIframe():this.showSimpleHeader())}sendCode(){this.form.setSubmitted(),this.form.markAsTouched(),this.form.control.valid&&(this.#r.show(),this.showFalsyInputsError.set(!1),this.#i.validateToken(this.inputField.control.value).subscribe({next:e=>{this.#o.trackClick({clickTrackingData:{event_name:"navigation",action:""},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"web_reservation",navigation_element_selected:"proceed_to_checkout"},ga3ClickTrackingData:{category:"web_reservation",action:"proceed_to_checkout"}}),this.#i.determineNextPageAndProceed(e)},error:()=>{this.#r.hide(),this.trackClickProceedToCheckoutError(),this.showFalsyInputsError.set(!0),this.inputField.validation.update(wt.Rejected,{rejectedValue:this.inputField.control.value})}})),this.form.control.invalid&&this.trackClickProceedToCheckoutError()}checkHeaderVisibility(e){this.partnerHeader.set(e?.partnerHeader),this.showSimpleHeader.set(e?.settings?.header),this.showHeaderInIframe.set(e?.showHeaderInIframe)}setPageTitle(){this.#e.setTitle(this.#n.instant(K.WEB_RESERVATION_PAGE_TITLE))}prefillInput(){this.inputField.control.setValue(this.#t.snapshot.params.code??"")}trackClickProceedToCheckoutError(){this.#o.trackClick({clickTrackingData:{event_name:"navigation",action:""},customClickTrackingData:{navigation_category:"checkout",navigation_subcategory:"web_reservation",navigation_element_selected:"proceed_to_checkout_with_error_message"},ga3ClickTrackingData:{category:"web_reservation",action:"proceed_to_checkout_with_error_message"}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=ae({type:t,selectors:[["ev-web-reservation-page"]],standalone:!1,decls:34,vars:36,consts:[["data-qa","web-reservation",1,"wrapper","wrapper-container","theme-page-bg",3,"ngClass"],[1,"wrapper","max-container-width"],[3,"hasLogoLinks"],[3,"partnerHeader"],[1,"main-content","container"],[1,"row"],[1,"col-md-8","col-md-offset-2"],[1,"u-headline-color","font-size-m"],[1,"validation","u-flex","u-flex-wrap",3,"keyup.enter","formGroup"],["type","text","data-qa","code-input",1,"form-control",3,"formControl"],[3,"field"],["type","button",1,"btn","btn-primary","btn-lg","fullwidth","padding-top-m","padding-bottom-m",3,"click"],["data-qa","button",1,"btn-text"],[1,"font-size-xs","eventim-text-color"],[3,"showLogoutLink"],["data-qa","falsy-inputs",3,"visible","type"],[3,"evCoreHtml"]],template:function(n,r){n&1&&(h(0,"div",0)(1,"div",1),J(2,R9e,1,1,"ev-simple-header",2)(3,M9e,1,1,"ev-partner-header",3),h(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2"),R(8),H(9,"translate"),g(),h(10,"ev-pl-card")(11,"section",7),R(12),H(13,"translate"),g(),J(14,F9e,4,5,"section"),h(15,"section")(16,"form",8),Ee("keyup.enter",function(){return r.sendCode()}),h(17,"div")(18,"ev-forms-field"),D(19,"input",9),H(20,"translate"),D(21,"ev-forms-field-error",10),g()(),h(22,"div")(23,"button",11),H(24,"translate"),Ee("click",function(){return r.sendCode()}),h(25,"span",12),R(26),H(27,"translate"),g()()()()(),h(28,"section",13),R(29),H(30,"translate"),g()()()()(),D(31,"ev-simple-footer",14)(32,"ev-pl-global-spinner"),g()(),D(33,"ev-forms-modal-window")),n&2&&(C("ngClass",et(34,N9e,r.document.defaultView.useBackgroundTheming)),d(2),$(r.hasSimpleHeader()?2:-1),d(),$(r.partnerHeader?3:-1),d(5),Ae(j(9,22,r.Message.WEB_RESERVATION_HEADLINE)),d(4),ne(" ",j(13,24,r.Message.WEB_RESERVATION_SUBHEADLINE)," "),d(2),$(r.showFalsyInputsError()?14:-1),d(2),Io("gap","12px"),C("formGroup",r.form.control),d(),Io("flex","1 1 285px"),d(2),C("formControl",r.inputField.control),Le("placeholder",j(20,26,r.Message.WEB_RESERVATION_INPUT_PLACEHOLDER)),d(2),C("field",r.inputField),d(),Io("flex","1 1 285px"),d(),Io("line-height","normal"),Le("title",j(24,28,r.Message.WEB_RESERVATION_BUTTON_TEXT)),d(3),Ae(j(27,30,r.Message.WEB_RESERVATION_BUTTON_TEXT)),d(3),ne(" ",j(30,32,r.Message.WEB_RESERVATION_CONTACT_SUPPORT)," "),d(2),C("showLogoutLink",!1))},dependencies:[At,xt,xi,jr,Rr,Pn,Um,wn,Cv,$n,Ai,mr,bv,Hp,Vp,jp,On,Se],encapsulation:2})}return t})();var Bre=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t});static \u0275inj=Xn({providers:[{provide:Du,useValue:El},{provide:Cl,useClass:Ir},Hd(Vd())],imports:[Vr,vv,Pp,kR,Kl,ts,oi.forChild({loader:{provide:cl,useClass:ti,deps:[Ss]}}),Tp.forChild([{path:Qe.WebReservation,component:GH,resolve:{affiliate:Ap,translations:qd}},{path:`${Qe.WebReservation}/:code`,component:GH,resolve:{affiliate:Ap,translations:qd}}]),Sv,_a,Hp,Vp,jp,ch]})}return t})();var Ure=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Qn({type:t,bootstrap:[Ere]});static \u0275inj=Xn({providers:[[Ir,{provide:Cl,useClass:bt},{provide:tr,useFactory:r$},{provide:Du,useValue:El},fv,_i],Hd(Vd())],imports:[Wx,vv,Tp.forRoot(Nee,{useHash:!0,scrollPositionRestoration:"enabled"}),Pp,oi.forRoot({compiler:{provide:Xc,useExisting:CT},loader:{provide:cl,useExisting:ti,deps:[Ss]}}),xee,yre,Mre,Sv,ch,y0,Bre]})}return t})();var KH=document.getElementById("preLoader");if(KH!=null){let t=KH.getElementsByClassName("spinner-message"),i=I2.getLoadingMessage(),e;t.length>0&&(e=t.item(0)),e!==void 0&&i!==null&&(e.innerHTML=i)}El.production&&void 0;A6().bootstrapModule(Ure);
